"use strict";var marker;this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||(this.parseTimeMarkers["web.clients.js"]={})).startEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),window.perfTracking&&window.perfTracking.startBundleEval&&window.perfTracking.startBundleEval("web.clients.js"),(self.webpackChunkweb=self.webpackChunkweb||[]).push([[5],{316714:function(Xe,H,t){function e(l){var o=$(document.activeElement);return o.is(l)||o.closest(l).length>0}t.d(H,{y:function(){return e}})},581036:function(Xe,H,t){t.d(H,{A:function(){return ki}});var e=["BUTTON","A","INPUT","TEXTAREA","SELECT","DETAILS","SUMMARY"],l=function(){return function(z){var ne=this;this.$parse=z,this.retrict="A",this.scope=!1,this.compile=function(De,Qe){var gt=ne.$parse(Qe.accessibleClick);return function(wt,Ht){Ht.on("click",function(Jt){wt.$apply(function(){return gt(wt,{$event:Jt})})}),!_.includes(e,Ht[0].nodeName)&&Ht.on("keydown",function(Jt){(32===Jt.keyCode||13===Jt.keyCode)&&Ht.is(document.activeElement)&&(Jt.preventDefault(),wt.$apply(function(){return gt(wt,{$event:Jt})}))})}}}}(),o=t(17816),d=function(){return function(){this.restrict="A",this.link=function(z,ne,De){var Qe=z.$watch(De.focusOn,function(gt,wt){void 0!==gt&&setTimeout(function(){o.IK.focus(ne[0])},0)});z.$on("$destroy",function(){Qe()})}}}(),v=t(35734),S=function(){function je(z,ne){var De=this;this.$parse=z,this.focusTrapService=ne,this.restrict="A",this.link=function(Qe,gt,wt){var Ht=gt;Ht.$$trapDestroyed=!1,wt.focusOnEscape&&(Ht.$$escapeHandler=De.$parse(wt.focusOnEscape),Ht.$$keydownHandler=function(rr){return De.handleKeyEvent(rr,Qe,Ht)},Ht.on(v.n,Ht.$$keydownHandler));var Jt=Qe.$watch(function(){return _.some(gt.find(":tabbable"))},function(rr,cr){!0===rr&&(De.focusTrapService.registerFocusTrap(Ht),Jt())});Ht.on("$destroy",function(){return De.destroy(Ht)})}}return je.prototype.destroy=function(z){z.$$trapDestroyed||(z.$$keydownHandler&&z.off(v.n,z.$$keydownHandler),this.focusTrapService.unregisterFocusTrap(z),z.$$trapDestroyed=!0)},je.prototype.handleKeyEvent=function(z,ne,De){27===z.keyCode&&(De.$$escapeHandler&&ne.$evalAsync(De.$$escapeHandler),this.destroy(De))},je}(),h=function(){return function(z){var ne=this;this.shortcutsService=z,this.restrict="A",this.link=function(De,Qe,gt){var wt=o.IK.setFocusOnPreviousElementOnDestroy(Qe,!0,!0);Qe.on("$destroy",function(){return wt()});var Ht=ne.shortcutsService.createElementShortcut(gt.keyboardShortcuts,Qe.get(0));Ht&&(ne.shortcutsService.registerShortcut(Ht),De.$on("$destroy",function(){return ne.shortcutsService.unregisterShortcut(Ht)}))}}}(),c=function(){return function(z){var ne=this;this.$timeout=z,this.restrict="A",this.link=function(De,Qe,gt){var Ht=De.$watch(function(){return Qe.is(":tabbable")||Qe.find(":tabbable").length>0},function(Jt,rr){if(!0===Jt){var cr=Qe.is(":tabbable")?Qe.get(0):Qe.find(":tabbable").get(0);cr&&ne.$timeout(function(){return cr.focus()},500),Ht()}})}}}();"undefined"!=typeof angular&&angular.module("powerbi.a11y",[]);var r=[{name:"AccessibleClick",dependencies:["$parse"],blockType:1,consumerHostFlags:2097151,factory:l},{name:"FocusOn",blockType:1,consumerHostFlags:2097151,factory:d},{name:"FocusTrap",dependencies:["$parse","focusTrapService"],blockType:1,consumerHostFlags:2097151,factory:S},{name:"PbiAutoFocus",dependencies:["$timeout"],blockType:1,consumerHostFlags:2097151,factory:c},{name:"KeyboardShortcuts",dependencies:["shortcutsService"],blockType:1,consumerHostFlags:2097151,factory:h}],s=t(973188),u=t(498342),i=t(275179),n=function(){function je(z,ne,De,Qe,gt){this.loader=z,this.promiseFactory=ne,this.$inj=De,this.factories=Qe,this.instances=gt,u.fF.assertValue(z,"loader"),u.fF.assertValue(De,"$inj"),u.fF.assertValue(Qe,"factories"),u.fF.assertValue(gt,"instances")}return je.prototype.get=function(z){return(0,s.__awaiter)(this,void 0,i.J,function(){var ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Rr,Kr,Wr,Xr,ei,gi,Ci=this;return(0,s.__generator)(this,function(hi){switch(hi.label){case 0:if(void 0!==(ne=this.instances[z]))return[2,ne.promise];if(ne=this.instances[z]=this.promiseFactory.defer(),u.fF.assertValue(De=this.factories[z],"factory"),Qe=De.ng,gt=_.size(Qe),wt=De.modular,Ht=_.size(wt),Jt=new Array(gt+Ht),rr=0,gt)for(cr=this.$inj,vr=0,Sr=Qe;vr<Sr.length;vr++)Jt[rr++]=cr.get(Sr[vr],z);if(!Ht)return[3,4];Rr=_.map(wt,function(Ei){return Ci.get(Ei)}),Kr=0,Wr=Rr,hi.label=1;case 1:return Kr<Wr.length?(Xr=Jt,ei=rr++,[4,Wr[Kr]]):[3,4];case 2:Xr[ei]=hi.sent(),hi.label=3;case 3:return Kr++,[3,1];case 4:return[4,this.loader.require(De.source)];case 5:return gi=hi.sent(),ne.resolve(De.fn.apply(De,(0,s.__spreadArray)([gi],Jt||[],!1))),[2,ne.promise]}})})},je}(),m=t(864380),f=function(){function je(){var z=this;this.$get=["$ocLazyLoad","moduleLoader","promiseFactory",function(ne,De,Qe){return u.fF.assertValue(z.hostEnv,"hostEnv must be configured by the host on the PbiLazyLoadProvider"),new V(ne,De,z.hostEnv,Qe)}]}return je.prototype.setHostEnv=function(z){this.hostEnv=z},je}(),V=function(){function je(z,ne,De,Qe){this.$ocLazyLoad=z,this.moduleLoader=ne,this.hostEnv=De,this.promiseFactory=Qe}return je.prototype.load=function(z){return(0,s.__awaiter)(this,void 0,i.J,function(){var ne,De,Qe;return(0,s.__generator)(this,function(gt){switch(gt.label){case 0:return ne=z.name,De=z.namespace,[4,this.moduleLoader.require(z.dependency)];case 1:return Qe=gt.sent(),[4,this.isLoaded(ne)];case 2:return gt.sent()?[2,!1]:(!_.isEmpty(De)&&!(0,m.G2)(z.dependency.javascript)&&(u.fF.assert(function(){return!Qe},"namespace is defined, but require returned a module."),Qe=this.getNamespaceObject(De)),Qe&&Qe.registerBuildingBlocksForHost&&Qe.registerBuildingBlocksForHost(this.hostEnv),[4,this.$ocLazyLoad.inject(ne)]);case 3:return gt.sent(),[2,!0]}})})},je.prototype.isLoaded=function(z){var ne=this.$ocLazyLoad.getModules();return this.promiseFactory.resolve(_.includes(ne,z))},je.prototype.getNamespaceObject=function(z){for(var ne=z.split("."),De=window,Qe=0,gt=ne;Qe<gt.length;Qe++)De=De[gt[Qe]];return De},je}(),p=t(820967),C=t(860931),b=t(725916),y={},P=function je(z){u.fF.assertValue(z,"name");var ne=y[z];u.fF.assertValue(ne,"syncModule");var De=ne.fn;if(De){var Qe=ne.v=De(je);return ne.fn=null,Qe}return ne.v},F=t(288006),E=t(955437),w={transclude:!0,template:"<ng-transclude></ng-transclude>",controller:["scopedProvider","$scope","$element",function(z,ne,De){var Qe=De.attr("scoped-provider-instance-name");z.attachTo(ne,Qe)}]};function T(je){return function(je){var z=["$scope","$rootScope","$timeout","$compile","scopedProvider","applicationOptions"],ne=z.length,De=je.createOptions&&je.createOptions();return De&&De.additionalServices&&z.push.apply(z,De.additionalServices),z.push(function(Qe,gt,wt,Ht,Jt,rr){var cr={rootScope:gt,timeout:wt,compile:Ht};if(De){var vr=De.additionalServices;if(vr){var Sr=arguments;u.fF.assert(function(){return ne+vr.length===Sr.length},"Wrong number of arguments.");for(var Tr=ne,Rr=z.length-1;Tr<Rr;Tr++)cr[z[Tr]]=arguments[Tr]}De.scopedServiceRoot&&Jt.attachTo(Qe,De.scopedProviderInstanceName);var Kr=De.scopedDependencies;if(Kr){var Wr=Jt.find(Qe);if(Wr)for(Tr=0,Rr=Kr.length;Tr<Rr;Tr++){var kr=Kr[Tr];cr[kr]=Wr.get(kr,Qe)}}}var Xr=new je(Qe,cr);return Xr.onDestroy&&Qe.$on("$destroy",function(){return Xr.onDestroy()}),Xr}),z}(je)}var A={transclude:!0,controller:T(function(){function je(z,ne){this.scope=z,this.services=ne}return je.createOptions=function(){return{additionalServices:["$element","$attrs","$transclude"]}},je.prototype.transcludeContent=function(){var z=this;this.services.$element.empty(),this.transcludedScope&&this.transcludedScope.$destroy(),this.services.$transclude(function(ne,De){z.services.$element.append(ne),z.transcludedScope=De})},je.prototype.$onInit=function(){var z=this;this.scope.$parent.$watch(this.services.$attrs.trigger,function(De,Qe){De!==Qe&&z.transcludeContent()}),this.transcludeContent()},je}())},I=function(){return function(){this.restrict="A",this.replace=!1,this.link=function(z,ne,De){var Qe=z.$watch(De.bindTextAndTooltip,function(gt){ne.text(gt||"").attr("title",gt||"")});z.$on("$destroy",function(){Qe()})}}}(),B=t(903190),U=function(){return function(z,ne,De){var Qe=this;this.featureSwitchService=z,this.localizationService=ne,this.globalEventBridge=De,this.restrict="A",this.link=function(gt,wt,Ht){var Jt=gt.$eval(Ht.calculatePrintStyles),rr=gt.$eval(Ht.disablePrint);Qe.helper.onInit(wt,Jt,Ht.printContainerSelector,Qe.localizationService,Qe.featureSwitchService,rr,Qe.globalEventBridge);var cr=gt.$on("$destroy",function(){Qe.helper.onDestroy(wt,!!rr),cr()})},this.helper=new B.J8}}(),W=t(830126),j=function(){function je(z,ne){var De=this;this.services=ne,this.scope=z,this.scope.gridLayoutService=this.services.gridLayout,this.scope.$watch("gridLayoutService.strategy",function(){De.scope.gridLayoutContainer.onGridLayoutChanged(W.XM.refresh)})}return je.createOptions=function(){return{additionalServices:["gridLayout"]}},je}(),K=function(){function je(z,ne){this.changingCSSClass="changing",this.prevWidth=0,this.prevHeight=0,this.prevLeft=0,this.prevTop=0,this.previsChanging=!1,this.prevIsVisible=!0,this.appliedClass="",this.titleClass="",u.fF.assertValue(z,"gridLayoutItem"),u.fF.assertValue(ne,"element"),this.gridLayoutItem=z,this.element=ne}return je.prototype.render=function(){var z=this.gridLayoutItem,ne=this.element,De=this.element.style;(z.left!==this.prevLeft||z.top!==this.prevTop)&&(De.webkitTransform=De.transform="translate("+z.left+"px, "+z.top+"px)",this.prevTop=z.top,this.prevLeft=z.left);var Qe=!1;z.width!==this.prevWidth&&(De.width=z.width+"px",this.prevWidth=z.width,Qe=!0),z.height!==this.prevHeight&&(De.height=z.height+"px",this.prevHeight=z.height,Qe=!0),Qe&&(this.calculateMenuSize(z.width,z.height),this.calculateTitleSize(z.width)),z.isChanging!==this.previsChanging&&(z.isChanging?ne.classList.add(this.changingCSSClass):ne.classList.remove(this.changingCSSClass),this.previsChanging=z.isChanging),z.isVisible!==this.prevIsVisible&&(De.display=z.isVisible?"block":"none",this.prevIsVisible=z.isVisible),z.isChanging||this.addDataAttributes(ne,z)},je.prototype.addDataAttributes=function(z,ne){try{var De=ne.gridItem;if(De){var Qe=ne.getLayoutPosition();z.setAttribute("data-id",De.id.toString()),z.setAttribute("data-row",Qe.y.toString()),z.setAttribute("data-col",Qe.x.toString()),z.setAttribute("data-sizex",Qe.width.toString()),z.setAttribute("data-sizey",Qe.height.toString())}}catch(gt){}},je.prototype.updateTileClasses=function(z,ne){return ne===z?ne:(_.isEmpty(ne)||this.element.classList.remove(ne),_.isEmpty(z)||this.element.classList.add(z),z)},je.prototype.calculateMenuSize=function(z,ne){var De=this.appliedClass;ne<=je.smallestTileHeight?De=je.smallestTileHeightStr:z<=je.smallerTileWidth||ne<=je.smallestTileHeight?De=je.smallerTileWidthStr:z>=je.largerTileWidth?De=je.largerTileWidthStr:z>je.smallerTileWidth&&z<je.largerTileWidth&&(De=""),this.appliedClass=this.updateTileClasses(De,this.appliedClass)},je.prototype.calculateTitleSize=function(z){this.titleClass=this.updateTileClasses(z<=je.smallTitleWidth?je.smallTitleWidthStr:je.largeTitleWidthStr,this.titleClass)},je.smallerTileWidthStr="smallerTileWidth",je.largerTileWidthStr="largerTileWidth",je.smallestTileHeightStr="smallestTileHeight",je.smallestTileHeight=180,je.smallerTileWidth=260,je.largerTileWidth=780,je.smallTitleWidthStr="smallTitleWidth",je.largeTitleWidthStr="largeTitleWidth",je.smallTitleWidth=160,je}(),ee=t(382088),ie=function(){function je(){this.layoutPosition={height:0,width:0}}return je.prototype.calculateLayout=function(z){},je.prototype.applyLayout=function(z){},je.prototype.applyLayoutSize=function(z,ne,De){},je.prototype.applyChanges=function(){},je.prototype.buildLayoutDescriptor=function(){return null},je.prototype.tryPopulateLayoutPositionValues=function(){return!1},je}(),he=function(){function je(z,ne,De){u.fF.assertValue(ne,"gridLayoutService"),this.activeLayout=ne.displayLayout,this.isChanging=!1,this.isVisible=!0,this.isLayoutUpdateLocked=!1,this.gridLayoutService=ne,this.gridLayoutContainer=De,this.gridItem=z,z.gridLayoutContext=this,this.gridItem.tryPopulateLayoutPositionValues(),this.resetLayoutDescriptor()}return Object.defineProperty(je.prototype,"displayCol",{get:function(){return this.overrideCol?this.overrideCol:this.getLayoutPosition().x},set:function(ne){this.overrideCol=ne},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"displayRow",{get:function(){return this.overrideRow?this.overrideRow:this.getLayoutPosition().y},set:function(ne){this.overrideRow=ne},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"displaySize",{get:function(){return this.overrideSize?this.overrideSize:{colSpan:this.getLayoutPosition().width,rowSpan:this.getLayoutPosition().height}},set:function(ne){this.overrideSize=ne},enumerable:!1,configurable:!0}),je.prototype.remove=function(){this.removeHandler(this),this.gridItem.gridLayoutContext=null},je.prototype.calculateLayout=function(){this.gridLayoutService.strategy.calculateDisplaySize(this),this.left=(this.displayCol-1)*this.gridLayoutService.strategy.gridWidth,this.top=(this.displayRow-1)*this.gridLayoutService.strategy.gridHeight,this.width=this.displaySize.colSpan*this.gridLayoutService.strategy.gridWidth,this.height=this.displaySize.rowSpan*this.gridLayoutService.strategy.gridHeight;var z=this.gridLayoutService.strategy.gridItemSpacing;this.gridItem.calculateLayout({width:this.width-z,height:this.height-z})},je.prototype.applyLayout=function(z,ne){this.gridItem.applyLayoutSize(this.displaySize,z,ne),this.render()},je.prototype.clearOverrides=function(){this.overrideCol=void 0,this.overrideRow=void 0,this.overrideSize=void 0},je.prototype.onDragStart=function(){this.isChanging=!0},je.prototype.onDragMove=function(z){var ne=this.getLayoutPosition();ne.x=1+z.x/this.gridLayoutService.strategy.gridWidth,ne.y=1+z.y/this.gridLayoutService.strategy.gridHeight,this.layoutChangeHandler(W.XM.drag)},je.prototype.onDragEnd=function(){this.isChanging=!1,this.layoutChangeHandler(W.XM.drag)},je.prototype.onResizeStart=function(){this.isChanging=!0},je.prototype.onResizeMove=function(z){var ne=this.getLayoutPosition();ne.width=z.width/this.gridLayoutService.strategy.gridWidth,ne.height=z.height/this.gridLayoutService.strategy.gridHeight,this.layoutChangeHandler(W.XM.resizing)},je.prototype.onResizeEnd=function(){this.isChanging=!1,this.layoutChangeHandler(W.XM.resized)},je.prototype.getLayoutDescriptor=function(){var z=this.gridItem;try{if(!this.isChanging&&z.id>0&&this.isLayoutPositionChanged())return z.buildLayoutDescriptor()}catch(ne){}return null},je.prototype.isLayoutPositionChanged=function(){var z=this.getLayoutPosition();return z.y!==this.prevY||z.x!==this.prevX||z.width!==this.prevWidth||z.height!==this.prevHeight},je.prototype.resetLayoutDescriptor=function(){var z=this.gridItem;z&&(this.resetPrevValues(),z.applyChanges())},je.prototype.resetPrevValues=function(){var z=this.getLayoutPosition();this.prevX=z.x,this.prevY=z.y,this.prevWidth=z.width,this.prevHeight=z.height,this.rowBeforeMove=this.prevY},je.prototype.getLayoutPosition=function(){return this.gridItem.layoutPosition},je.prototype.getActiveLayout=function(){return this.activeLayout},je.prototype.setActiveLayout=function(z){this.activeLayout=z,this.gridItem.tryPopulateLayoutPositionValues()&&this.onLayoutInvalidated()},je.prototype.onLayoutInvalidated=function(){this.isLayoutUpdateLocked||(this.resetPrevValues(),this.layoutChangeHandler(W.XM.refresh))},je.prototype.getGridHeight=function(){return this.gridLayoutContainer.element.height()},je.prototype.getGridWidth=function(){return this.gridLayoutContainer.element.width()},je.prototype.forceApplyCurrentChanges=function(){this.layoutChangeHandler(W.XM.refresh)},je}(),q=function(){function je(z,ne,De){var Qe=this;this.defferedOnGridLayoutChanged=(0,ee.S5)(function(wt){return Qe.onGridLayoutChanged(wt)}),this.delayedNotifyGridItemsChanged=_.debounce(function(){return Qe.notifyGridItemsChanged()},W.Rb),this.layoutChangedPromise=null,this.isLayoutUpdateLocked=!1,this.gridLayoutItems=[];var gt=new ie;this.gridPlaceHolder=new he(gt,z,null),this.gridPlaceHolder.isVisible=!1,this.gridLayoutService=z,this.gridLayoutScope=De,this._gravityEnabled=this.isGravityEnabled(),this.element=ne}return je.prototype.isGravityEnabled=function(){return this.gridLayoutScope&&this.gridLayoutScope.viewModel&&this.gridLayoutScope.viewModel.gravityEnabled||0!==this.gridLayoutService.displayLayout},Object.defineProperty(je.prototype,"gravityEnabled",{get:function(){return this._gravityEnabled},enumerable:!1,configurable:!0}),je.prototype.addGridLayoutItem=function(z){var ne=this;z.layoutChangeHandler=this.defferedOnGridLayoutChanged,z.removeHandler=function(De){return ne.onGridLayoutItemRemove(De)},this.gridLayoutItems.push(z),this.defferedOnGridLayoutChanged(W.XM.refresh)},je.prototype.onGridLayoutItemRemove=function(z){var ne=this.gridLayoutItems.indexOf(z);ne>=0&&this.gridLayoutItems.splice(ne,1),this.defferedOnGridLayoutChanged(W.XM.refresh)},je.prototype.onGridLayoutChanged=function(z){this._gravityEnabled=this.isGravityEnabled();var ne=this.calculateLayout(z);this.applyLayout(z),(z===W.XM.drag||z===W.XM.resizing||z===W.XM.resized)&&this.setLayoutUpdateLock(!0),ne||(this.finalizeGridLayout(),this.delayedNotifyGridItemsChanged())},je.prototype.finalizeGridLayout=function(){for(var z=0,ne=this.gridLayoutItems;z<ne.length;z++){var De=ne[z];De.rowBeforeMove=De.getLayoutPosition().y}},je.prototype.notifyGridItemsChanged=function(){var z=this,ne=this.getChangedGridItemsDescriptors();ne.length>0&&!this.layoutChangedPromise&&(this.layoutChangedPromise=this.notifyGridItemsChangedHandler(ne),this.layoutChangedPromise?(this.changedLayoutDescriptors=ne,this.setLayoutUpdateLock(!0),this.layoutChangedPromise.then(function(){return z.layoutChangeDone(!0)},function(){return z.layoutChangeDone(!1)})):this.layoutChangeDone(!1))},je.prototype.layoutChangeDone=function(z){this.layoutChangedPromise=null,this.setLayoutUpdateLock(!1),z&&(this.resetChangedGridItemsDescriptors(this.changedLayoutDescriptors),this.notifyGridItemsChanged())},je.prototype.calculateLayout=function(z){if(0!==this.gridLayoutItems.length){var ne=this.gridLayoutItems,De=_.filter(ne,function(Wr){return Wr.isChanging}).length>0,Qe=[],gt=W.u;this.containerHeight=this.containerWidth=0;var wt=this.popNewGridLayoutItems(ne);if(ne.sort(function(Wr,kr){return Wr.getLayoutPosition().x-kr.getLayoutPosition().x}),ne.length>0){var Ht=ne[ne.length-1].getLayoutPosition();gt=Math.max(Math.ceil(Ht.x+Ht.width-1),W.u)}for(var Jt=0;Jt<=gt;++Jt)Qe.push(1);ne.sort(function(Wr,kr){var gi=(De&&!Wr.isChanging?Wr.rowBeforeMove:Wr.getLayoutPosition().y)-(De&&!kr.isChanging?kr.rowBeforeMove:kr.getLayoutPosition().y);if(0===gi){if(Wr.isChanging)return-1;if(kr.isChanging)return 1}return gi});for(var rr=0,cr=ne;rr<cr.length;rr++)(vr=cr[rr]).isChanging?(this.clipGridItemShape(this.gridPlaceHolder,vr),this.calculatePosition(this.gridPlaceHolder,Qe,!0,z,De),this.gridPlaceHolder.calculateLayout()):(this.clipGridItemShape(vr,vr),this.calculatePosition(vr,Qe,!1,z,De));for(var Sr=0,Tr=wt;Sr<Tr.length;Sr++)this.clipGridItemShape(vr=Tr[Sr],vr),this.calculateDefaultPosition(vr,Qe),this.gridLayoutItems.push(vr);this.gridLayoutService.strategy.calculateDisplayPositions(ne);for(var Rr=0,Kr=ne;Rr<Kr.length;Rr++){var vr;(vr=Kr[Rr]).calculateLayout(),this.updateContainerSize(vr)}return this.gridPlaceHolder.isVisible=De,De}},je.prototype.applyLayout=function(z){for(var ne=0,De=this.gridLayoutItems;ne<De.length;ne++)De[ne].applyLayout(z,this.gridLayoutService.skipVisualManualUpdate);this.gridPlaceHolder.applyLayout(z)},je.prototype.updateContainerSize=function(z){var ne=z.top+z.height,De=z.left+z.width;ne>this.containerHeight&&(this.containerHeight=ne),De>this.containerWidth&&(this.containerWidth=De)},je.prototype.calculatePosition=function(z,ne,De,Qe,gt){for(var wt=z.getLayoutPosition(),Ht=W.ws,Jt=1,rr=wt.x,cr=wt.x+wt.width;rr<cr;++rr){var vr=ne[rr];vr>Jt&&(Jt=vr)}var Sr=wt.y;if(gt&&!De&&(Sr=z.rowBeforeMove),this._gravityEnabled?(wt.y=Jt,Jt+=wt.height):(wt.y=Sr<Jt||Sr>Ht?Jt:Math.round(Sr),Jt=wt.y+wt.height),De&&Qe===W.XM.resizing||Qe===W.XM.resized){var Tr=Math.round(Sr)+wt.height;Tr>Jt&&(Jt=Tr)}for(rr=wt.x,cr=wt.x+wt.width;rr<cr;++rr)ne[rr]=Jt},je.prototype.calculateDefaultPosition=function(z,ne){for(var De=z.getLayoutPosition(),Qe=1,gt=Number.MAX_VALUE,wt=1,Ht=Math.max(W.u,De.width)-De.width+1;wt<=Ht;++wt){for(var Jt=0,rr=wt,cr=wt+De.width;rr<cr;++rr)ne[rr]>Jt&&(Jt=ne[rr]);Jt<gt&&(gt=Jt,Qe=wt)}for(De.x=Qe,De.y=gt,gt+=De.height,wt=De.x,Ht=De.x+De.width;wt<Ht;++wt)ne[wt]=gt},je.prototype.clipGridItemShape=function(z,ne){var De=ne.getLayoutPosition(),Qe=z.getLayoutPosition(),gt=(0,W.bq)(),wt=(0,W.be)();Qe.y=De.y,Qe.x=Math.round(De.x),Qe.width=Math.ceil(De.width),Qe.height=Math.ceil(De.height),(!Qe.x||Qe.x<1)&&(Qe.x=1),(!Qe.width||Qe.width<1)&&(Qe.width=1),(!Qe.height||Qe.height<1)&&(Qe.height=1),Qe.width>gt&&(Qe.width=gt),Qe.height>wt&&(Qe.height=wt)},je.prototype.popNewGridLayoutItems=function(z){for(var ne=[],Qe=z.length-1;Qe>=0;--Qe){var gt=z[Qe];if(!gt.isChanging){var wt=gt.getLayoutPosition();!wt.y&&!wt.x&&(z.splice(Qe,1),ne.unshift(gt))}}return ne},je.prototype.getChangedGridItemsDescriptors=function(){for(var z=[],De=0,Qe=this.gridLayoutItems;De<Qe.length;De++){var wt=Qe[De].getLayoutDescriptor();wt&&z.push(wt)}return z},je.prototype.resetChangedGridItemsDescriptors=function(z){for(var De={},Qe=0,gt=this.gridLayoutItems;Qe<gt.length;Qe++)De[(wt=gt[Qe]).gridItem.id]=wt;for(var Ht=0,Jt=z;Ht<Jt.length;Ht++){var wt;(wt=De[Jt[Ht].id])&&wt.resetLayoutDescriptor()}},je.prototype.setLayoutUpdateLock=function(z){if(this.isLayoutUpdateLocked!==z){this.isLayoutUpdateLocked=z;for(var ne=0,De=this.gridLayoutItems;ne<De.length;ne++)De[ne].isLayoutUpdateLocked=z}},je}(),Y=function(){return function(){this.controller=T(j),this.compile=function(){return{pre:function(ne,De,Qe){var gt=angular.element('<div class="gridPlaceHolder"><div class="placeholderInner"></div></div>'),wt=new q(ne.gridLayoutService,De,ne),Ht=wt.gridPlaceHolder,Jt=new K(Ht,gt.get(0));Ht.render=function(){Jt.render()},De.addClass("gridLayoutContainer"),De.prepend(gt),ne.gridLayoutContainer=wt,wt.notifyGridItemsChangedHandler=ne.gridLayoutChangeHandler}}}}}(),G=t(384103),me=t(569978),re=t(68258),le=t(834053),Ye=function(){function je(z){var ne=this;this.ngZone=z,this.restrict="A",this.link=function(De,Qe,gt){var Sr,wt=Qe.closest(G.Nbb),Ht=De.$eval(gt.gridLayoutContainer),Jt=De.$eval(gt.viewModel),rr=Ht.gridLayoutService,cr=new he(Jt,rr,Ht),vr=new K(cr,Qe.get(0));ne.isInAuthoringMode=De.$eval(gt.inEditMobileLayoutMode),ne.strategy=rr.strategy,Qe.addClass("gridLayoutItem"),cr.render=function(){vr.render()},Ht.addGridLayoutItem(cr),!rr.strategy.willOverrideDisplayPosition&&!Ht.gravityEnabled&&(cr.calculateLayout(),cr.applyLayout(W.XM.refresh)),window.setTimeout(function(){Sr=new re.nD(Qe,ne.ngZone,{onDragStart:function(Rr){cr.onDragStart()},onDragMove:function(Rr){ne.trackParentSize(Qe,!1),cr.onDragMove(Rr)},onDragEnd:function(Rr){ne.setParentHeight(Ht),cr.onDragEnd()},onResizeStart:function(Rr){cr.onResizeStart();var Kr=De.gridLayoutCallbacks&&De.gridLayoutCallbacks.onResize;Kr&&Kr()},onResizeMove:function(Rr){ne.trackParentSize(Qe,!0),cr.onResizeMove(Rr)},onResizeEnd:function(Rr){ne.setParentHeight(Ht),cr.onResizeEnd()},restriction:ne.getRestrictionType(),resizeHandleDirections:re.pX.DownRight,minWidth:Ht.gridLayoutService.strategy.gridMinWidthOnResize,minHeight:Ht.gridLayoutService.strategy.gridMinHeightOnResize,maxWidth:Ht.gridLayoutService.strategy.gridMaxWidthOnResize,maxHeight:Ht.gridLayoutService.strategy.gridMaxHeightOnResize,inertia:!1,autoScrollParent:wt,disableDrawing:!0,customHandleClass:"customHandle",supportsPointerCapture:!0}),ne.setParentHeight(Ht)}),Qe.keydown(function(Tr){var Rr=Tr.shiftKey&&Tr.ctrlKey;"true"===Qe.attr("drag-resize-disabled")||me.M.isCtrlOrMeta(Tr)&&!Rr||(Rr?ne.keyboardResize(cr,Ht,Qe,De,Tr.keyCode):ne.keyboardMove(cr,Ht,Qe,Tr.keyCode))}),De.$on("$destroy",function(){cr.remove(),Sr&&(Sr.destroy(),Sr=null),ne.setParentHeight(Ht,cr)})}}return je.prototype.trackParentSize=function(z,ne){if(!this.preventHeightTracking()){u.fF.assertValue(this.strategy,"strategy can not be undefined");var De=z.parent(),Qe=z.position().top+z.outerHeight()+this.strategy.gridItemSpacing;ne&&Qe>=De.height()&&De.height(Qe+this.strategy.gridHeight)}},je.prototype.setParentHeight=function(z,ne){if(!this.preventHeightTracking()){u.fF.assertValue(this.strategy,"strategy can not be undefined");for(var De=z.element,gt=0,wt=0,Ht=z.gridLayoutItems;wt<Ht.length;wt++){var Jt=Ht[wt],rr=Jt.top+Jt.height;rr>gt&&(gt=rr)}ne&&(gt-=ne.height),gt=this.calculateGridHeight(gt),De.height(gt)}},je.prototype.calculateGridHeight=function(z){u.fF.assertValue(z,"currentHeight");var ne=this.strategy.gridHeight;return Math.ceil(z/ne)*ne+this.strategy.gridItemSpacing/2},je.prototype.getRestrictionType=function(){return this.preventHeightTracking()?re.Si.None:re.Si.Parent},je.prototype.preventHeightTracking=function(){return!this.isInAuthoringMode},je.prototype.keyboardMove=function(z,ne,De,Qe){var gt=z.getLayoutPosition();switch(Qe){case 40:gt.y+=1;break;case 38:gt.y-=1;break;case 37:gt.x-=1;break;case 39:gt.x+=1;break;default:return}gt.y<0||gt.x<0||(z.onDragStart(),this.trackParentSize(De,!1),this.setParentHeight(ne),z.onDragEnd(),this.keepTileInView(De))},je.prototype.keyboardResize=function(z,ne,De,Qe,gt){var wt={width:z.width,height:z.height};switch(gt){case 40:wt.height+=le.lT;break;case 38:wt.height-=le.lT;break;case 37:wt.width-=le.A4;break;case 39:wt.width+=le.A4;break;default:return}if(!(wt.width<le.A4||wt.height<le.lT)){z.onResizeStart();var Ht=Qe.gridLayoutCallbacks&&Qe.gridLayoutCallbacks.onResize;Ht&&Ht(),this.trackParentSize(De,!0),z.onResizeMove(wt),this.setParentHeight(ne),z.onResizeEnd(),this.keepTileInView(De)}},je.prototype.keepTileInView=function(z){z.get(0).scrollIntoView({behavior:"smooth",block:"end",inline:"end"})},je}(),pe=function(){function je(){var z=this;this.restrict="A",this.link=function(ne,De,Qe){var gt,wt=Qe.inViewportOffset||"100%",Ht=Qe.inViewportContext,Jt=De.closest(Ht);if(Ht&&0===Jt.length)ne.$evalAsync(Qe.inViewport);else{var cr=function(Tr){Tr.target===De.get(0)&&gt.context.refresh()},vr={element:De.get(0),handler:function(){ne.$evalAsync(Qe.inViewport),gt.destroy(),De.off("transitionend",cr)},offset:wt};Jt.length>0&&(vr.context=Jt.get(0)),gt=new Waypoint(vr),De.on("transitionend",cr),z.attachResizeHandler()}}}return je.getRefreshAllHandler=function(){return _.debounce(Waypoint.refreshAll,250)},je.prototype.attachResizeHandler=function(){je.staticResizeHandlerAttached||($(window).resize(je.getRefreshAllHandler()),je.staticResizeHandlerAttached=!0)},je}(),fe=t(447751),oe=function(){function je(z){var ne=this;this.restrict="A",this.link=function(De,Qe,gt){var wt=gt.localize;u.fF.assertValue(wt,"localizationIdOrExpression"),ne.replaceText(Qe,gt,De,wt),gt.dynamicLocalizeUpdate&&De.$watch(function(){return gt.localize},function(Jt,rr){Jt!==rr&&ne.replaceText(Qe,gt,De,Jt)})},this.localizationService=z}return je.prototype.replaceText=function(z,ne,De,Qe){if(""!==Qe){var gt=this.localizationService.getOptional(Qe);if(void 0===gt){var wt=De.$eval(Qe);if((0,fe.g)(wt))return;gt=this.localizationService.get(wt)}var Jt="localizeFragmentsAsync"in ne;if("localizeFragments"in ne||Jt){gt=gt||"";var rr=function(){for(var vr=function(){var Tr=gt.search(new RegExp("\\{[0-9]+\\}","gm")),Rr=gt.indexOf("}",Tr);if(-1===Tr)z.append(gt),gt="";else if(0===Tr){var Kr=parseInt(gt.substring(Tr+1,Rr),10);gt=gt.substring(Rr+1);var Wr=z.children("[fragment-index="+Kr+"]");u.fF.assert(function(){return Wr.length>0},"localize '"+Qe+"' failed: element with fragment-index="+Kr+" not found."),z.append(Wr)}else z.append(gt.substring(0,Tr)),gt=gt.substring(Tr)};gt.length>0;)vr()};Jt?De.$evalAsync(function(){rr()}):rr()}else z.text(gt||"")}},je}(),ye=function(){return function(z){var ne=this;this.restrict="A",this.link=function(De,Qe,gt){var Jt;Jt=ne.localizationService,De.$watch(gt.localizeAttr,function(rr){for(var cr in u.fF.assertValue(rr,"attributes"),rr){var vr=Jt.get(rr[cr]);gt.$set(cr,vr||"")}})},this.localizationService=z}}(),Ce=function(){return function(z){var ne=this;this.restrict="A",this.link=function(De,Qe,gt){var wt=gt.localizeTooltip||gt.localize||"";function Jt(rr,cr,vr){if(""!==cr){var Sr=vr.get(cr);rr.attr("title",Sr||""),void 0!==gt.useTooltipAsAriaLabel&&rr.attr("aria-label",Sr||"")}}void 0!==gt.dynamicTooltipUpdate&&De.$watch(function(){return gt.localizeTooltip},function(rr,cr){rr!==cr&&Jt(Qe,rr,ne.localizationService)}),Jt(Qe,wt,ne.localizationService)},this.localizationService=z}}(),Be=function(){return function(z){var ne=this;this.restrict="A",this.link=function(De,Qe,gt){u.fF.assert(function(){return!gt.ngIf},"`ngRepeatFinishedEvent` should not be used on elements with that have the `ng-if` directive");var wt=gt.ngRepeatFinishEvent;!0===De.$last&&ne.$timeout(function(){De.$emit(wt)})},this.$timeout=z}}(),be=t(504898),Te=function(){function je(z,ne,De){var Qe=this;this.$compile=z,this.pbiLazyLoadService=ne,this.moduleLoader=De,this.restrict="A",this.compile=function(gt,wt){var Ht=gt[0].innerHTML;return gt.html(""),{post:function(rr,cr,vr){return Qe.postLink(rr,cr,vr,Ht)}}}}return je.prototype.postLink=function(z,ne,De,Qe){return(0,s.__awaiter)(this,void 0,i.J,function(){var gt,wt,Ht,Jt,rr;return(0,s.__generator)(this,function(vr){switch(vr.label){case 0:gt=z.$eval(De.pbiLazyLoadContents),u.fF.assertValue(gt,"moduleConfig"),wt=this.$compile(je.SpinnerHtml)(z),ne.append(wt),Ht=!1,Jt=z.$on("$destroy",function(){return Ht=!0}),vr.label=1;case 1:return vr.trys.push([1,6,7,8]),this.isModuleDependency(gt)?[4,this.moduleLoader.require(gt)]:[3,3];case 2:return vr.sent(),[3,5];case 3:return[4,this.pbiLazyLoadService.load(gt)];case 4:vr.sent(),vr.label=5;case 5:return Ht||(wt.remove(),ne.append(Qe),this.$compile(ne.contents())(z)),[3,8];case 6:return rr=vr.sent(),be.f.error(rr&&rr.message||rr),[3,8];case 7:return Jt(),[7];case 8:return[2]}})})},je.prototype.isModuleDependency=function(z){return null!=z.javascript},je.SpinnerHtml="<spinner [size]=\"'large'\" [position]=\"'centered'\"></spinner>",je}(),ce=t(353287),ve=window.chromiumBridge,Re=function(){function je(){}return je.prototype.invoke=function(z){ve&&ve.call(z.operationName)},je}(),Ke=function(){function je(){}return je.prototype.invoke=function(z){},je}(),mt=new(function(){function je(){}return je.prototype.getData=function(z){try{if(sessionStorage)return JSON.parse(sessionStorage[z])}catch(ne){return null}return null},je.prototype.setData=function(z,ne){try{sessionStorage&&(sessionStorage[z]=JSON.stringify(ne))}catch(De){}},je}()),Q=function(){function je(z,ne){this.promiseFactory=z,this.hostInvokerService=ne,this.deferredMap={},this.secret=mt.getData("SecureMobileWebViewSecret")||void 0}return je.prototype.invoke=function(z,ne,De){var Qe=this.promiseFactory.defer(),gt={serviceName:z,operationName:ne,invocationId:ee.b$.generateGuid(),oneWay:!1,arguments:De,secret:this.secret};return this.deferredMap[gt.invocationId]=Qe,this.hostInvokerService.invoke(gt),Qe.promise},je.prototype.invokeAndForget=function(z,ne,De){var Qe={serviceName:z,operationName:ne,invocationId:ee.b$.generateGuid(),oneWay:!0,arguments:De,secret:this.secret};this.hostInvokerService.invoke(Qe)},je.prototype.onSuccess=function(z,ne){if(z in this.deferredMap){var De=void 0;if(angular.isDefined(ne))try{De=JSON.parse(ne)}catch(gt){return void this.onFailure(z,"JSON parse error")}var Qe=this.deferredMap[z];delete this.deferredMap[z],Qe.resolve(De)}},je.prototype.onFailure=function(z,ne){if(z in this.deferredMap){var De=this.deferredMap[z];delete this.deferredMap[z],De.reject(ne)}},je}(),Ue=function(je){return je[je.None=0]="None",je[je.PhantomJs=1]="PhantomJs",je[je.Chromium=2]="Chromium",je}({}),de=function(){function je(z){this.hostTypeName=z||this.getHostTypeNameOrDefault(),this.hostType=this.convertHostTypeNameToHostType(this.hostTypeName)}return je.prototype.getHostType=function(){return this.hostType},je.prototype.hasHostType=function(){return this.hostType!==Ue.None},je.prototype.isPhantomJs=function(){return this.hostType===Ue.PhantomJs},je.prototype.isChromium=function(){return this.hostType===Ue.Chromium},je.prototype.getHostTypeNameOrDefault=function(){for(var z=window.location.search.substr(1).split("&"),ne=0,De=z.length;ne<De;++ne){var Qe=z[ne].split("=");if("hostType"===decodeURIComponent(Qe[0]))return decodeURIComponent(Qe[1])}return"none"},je.prototype.convertHostTypeNameToHostType=function(z){switch(z.toLowerCase()){case"phantomjs":return Ue.PhantomJs;case"chromium":return Ue.Chromium;default:return Ue.None}},je}(),te=function(){function je(z){this.mixins=z}return je.prototype.update=function(z){for(var ne=0,De=this.mixins;ne<De.length;ne++)De[ne].update(z)},je.prototype.destroy=function(){for(var z=0,ne=this.mixins;z<ne.length;z++){var De=ne[z];De.destroy&&De.destroy()}},je}(),xe=function(){function je(z,ne){this.$injector=z,this.factories=ne,u.fF.assertValue(z,"$injector"),u.fF.assertValue(ne,"factories"),this.instances=[]}return je.prototype.get=function(z){var ne=this.instances[z];if(void 0!==ne)return ne;for(var De=[],gt=0,wt=this.factories[z]||[];gt<wt.length;gt++)De.push(this.instantiateMixin(wt[gt]));return ne=new te(De),this.instances[z]=ne,ne},je.prototype.instantiateMixin=function(z){var ne=z.ng,Qe={};if(!_.isEmpty(ne))for(var gt=this.$injector,wt=0,Ht=ne;wt<Ht.length;wt++){var rr,Jt=Ht[wt];rr=gt.get(Jt),Qe[Jt]=rr}return z.fn(Qe)},je}(),Z=t(659514),Fe=function(){function je(z){u.fF.assertValue(z,"q"),this.q=z}return je.prototype.defer=function(z){return z?new Z.GG:this.q.defer()},je.prototype.reject=function(z,ne){return ne?F.I.reject(z):this.q.reject(z)},je.prototype.resolve=function(z){var ne=this.defer();return ne.resolve(z),ne.promise},je.prototype.all=function(z,ne){return ne?F.I.all(z):this.q.all(z)},je.prototype.allSettled=function(z){var ne=this.defer(),De=z.length;if(De>0)for(var Qe=0,gt=[],wt=function(rr){z[rr].then(function(cr){gt[rr]={value:cr,type:0}}).catch(function(cr){gt[rr]={value:cr,type:1}}).finally(function(){++Qe===De&&ne.resolve(gt)})},Ht=0;Ht<De;Ht++)wt(Ht);else ne.resolve([]);return ne.promise},je.prototype.when=function(z){return this.q.when(z)},je}(),rt=function(){function je(z){u.fF.assertValue(z,"injector"),this.injector=z,this.defaultServiceFactories={},this.serviceFactoriesByInstance={}}return je.prototype.register=function(z,ne,De){if(u.fF.assertValue(z,"serviceName"),u.fF.assertValue(ne,"scopedAnnotatedFunction"),De){var Qe=this.serviceFactoriesByInstance[De]||{};Qe[z]=ne,this.serviceFactoriesByInstance[De]=Qe}else this.defaultServiceFactories[z]=ne;return this},je.prototype.attachTo=function(z,ne){ne&&(z[je.InstanceNameProperty]=ne);var De=new Oe(this.injector,this.getFactories(ne),z);return z[je.getInstanceName(z)]=De,De},je.prototype.find=function(z){u.fF.assertValue(z,"scope");var ne=z;do{var Qe=ne[je.getInstanceName(ne)];if(Qe)return Qe}while(ne=ne.$parent)},je.prototype.getFactories=function(z){var ne=this.serviceFactoriesByInstance[z];if(!ne)return this.defaultServiceFactories;var De=(0,s.__assign)({},this.defaultServiceFactories);for(var Qe in ne)De[Qe]=ne[Qe];return De},je.getInstanceName=function(z){return z[je.InstanceNameProperty]||je.DefaultInstanceName},je.DefaultInstanceName="scopedInstances",je.InstanceNameProperty="instanceProperty",je}(),Oe=function(){function je(z,ne,De){this.injector=z,this.factories=ne,this.scope=De,this.instances={}}return je.prototype.get=function(z,ne){if(u.fF.assertValue(z,"name"),ne||(ne=this.scope),"$scope"===z)return ne;var De=this.instances[z];if(void 0!==De)return De;var Qe=this.factories[z];u.fF.assert(function(){return void 0!==Qe},"Could not find statefulService: "+z);var gt=[],wt=Qe.services;if(wt)for(var Ht=this.injector,Jt=0,rr=wt.length;Jt<rr;Jt++)gt.push(Ht.get(wt[Jt],z));var cr=Qe.scopedServices;if(cr)for(Jt=0,rr=cr.length;Jt<rr;Jt++){var Sr=this.get(cr[Jt],ne);gt.push(Sr)}return Qe.scopedProviderInstance&&gt.push(this),this.instances[z]=De=Qe.fn.apply(Qe,gt),De},je.prototype.register=function(z,ne){this.instances[ne]=z},je}(),Pe={1:[],2:[],4:[]};"undefined"!=typeof angular&&(angular.module("powerbi.common",[]),angular.module("powerbi.common.directives",[]),angular.module("powerbi.common.components",[]),angular.module("powerbi.common.controllers",[]));var Ze=["powerbi.common.directives","powerbi.common.components","powerbi.common.controllers","stylelibrary","oc.lazyLoad","powerbi.a11y"];function et(){Yt||(angular.module("powerbi.common",Ze).config(["$compileProvider",function(je){je.commentDirectivesEnabled(!1),je.cssClassDirectivesEnabled(!1)}]).config(["$qProvider",function(je){je.errorOnUnhandledRejections(!1)}]).factory("promiseFactory",["$q","$exceptionHandler","featureSwitchService",function(je,z,ne){var De=function(je){return new Fe(je)}(je);return i.J.init(De,z,!0,ne.featureSwitches.useNativePromiseForPowerBIPromise),De}]).factory("pbiTimeout",["$rootScope",function(je){return(0,b.k)(function(z){return je.$evalAsync(z)})}]).factory("scopedProvider",["$injector",function(je){return function(je){return new rt(je)}(je)}]).provider("lazy",function(){var je=this;return this.factories={},this.$get=["$injector","moduleLoader","promiseFactory",function(z,ne,De){return function(je,z,ne,De){var Qe=new n(je,z,ne,De,{});return function(gt){return Qe.get(gt)}}(ne,De,z,je.factories)}],this}).provider("mixins",function(){var je=this;return this.factories={},this.$get=["$injector",function(z){return function(je,z){return new xe(je,z)}(z,je.factories)}],this}).factory("hostTypeResolutionService",[function(){return new de}]).factory("hostInvokerService",["hostTypeResolutionService","$window","$http",function(je,z,ne){return je.getHostType()===Ue.Chromium?new Re:new Ke}]).factory("hostService",["promiseFactory","hostInvokerService",function(je,z){var ne=new Q(je,z);return ne}]).factory("gridLayout",function(){return(0,ce.jm)()}).provider("pbiLazyLoad",f).provider("telemetryService",function(){return this.$get=["modernTelemetryService",function(z){var ne,De=window;try{if(De!==De.parent)for(var Qe=0;De&&(null!=De.opener||De!==De.parent)&&null==ne&&Qe<5;)ne=(De=De.opener||De.parent).powerbi&&De.powerbi.common&&De.parentTelemetryService,Qe++;if(ne)return ne}catch(gt){}return ne=z}],this}).factory("embedModeService",function(){return null}).run(["ngZone",function(je){E.l.initialize(je)}]).run(["pbiTimeout","featureSwitchService",function(je,z){F.I.init(je,!1,void 0,z.featureSwitches.useNativePromiseForPbiPromise)}]).run(["activeFolderId",function(je){(0,C.hG)().activeFolderIdService=je}]),Yt=!0)}function at(je,z,ne){u.fF.assertValue(je,"hostEnv"),u.fF.assertValue(z,"baseBlocks"),u.fF.assertValue(ne,"moduleDetails");for(var De=0,Qe=z;De<Qe.length;De++){var gt=Qe[De],wt=gt.consumerHostFlags;null==wt&&(wt=2097151),null!=gt.excludedConsumerHostFlags&&(wt&=~gt.excludedConsumerHostFlags),(wt&je)===je&&Ie(gt.name,gt.blockType,gt.factory,gt.syncModule,ne,gt.dependencies)}}function Ie(je,z,ne,De,Qe,gt){u.fF.assertValue(je,"name"),u.fF.assertValue(z,"blockType"),u.fF.assertAnyValue(De,"syncModule"),u.fF.assertValue(Qe,"moduleDetails"),u.fF.assertAnyValue(gt,"dependencies"),u.fF.assert(function(){return!De||De&&!gt},"!syncModule || (syncModule && !dependencies)");var wt=_.camelCase(je),Ht=Pe[z];(0,p.wS)(Ht,"Attempt to register unknown base block type"),!_.includes(Ht,wt)&&(function(je,z){return 2===z}(0,z)?function(je,z,ne,De,Qe){var gt;u.fF.assertValue(je,"component name must be defined"),u.fF.assertAnyValue(ne,"syncModule"),u.fF.assertValue(De,"moduleTarget must be defined"),!z&&!ne&&u.fF.assertValue(Qe,"modulesMap must be defined"),gt=z||(ne?P(ne):Qe[je]),je=_.camelCase(je),angular.module(De).component(je,gt)}(je,ne,De,Qe.componentsTarget,Qe.componentsMap):function(je,z){return 1===z}(0,z)?function(je,z,ne,De,Qe,gt){var wt;u.fF.assertValue(je,"component name must be defined"),u.fF.assertAnyValue(ne,"syncModule"),u.fF.assertAnyValue(De,"dependencies"),u.fF.assertValue(Qe,"moduleTarget must be defined"),!z&&!ne&&u.fF.assertValue(gt,"modulesMap must be defined"),z?(wt=z).ng&&(De=wt.ng):ne?De=(wt=P(ne)).ng:wt=gt[je],je=_.camelCase(je),De||(De=[]),De.push(function(){for(var Ht=[],Jt=0,rr=arguments.length;Jt<rr;Jt++)Ht.push(arguments[Jt]);return new(Function.prototype.bind.apply(wt,[null].concat(Ht)))}),angular.module(Qe).directive(je,De)}(je,ne,De,gt,Qe.directivesTarget,Qe.directivesMap):function(je,z){return 4===z}(0,z)?function(je,z,ne,De,Qe){var gt;u.fF.assertValue(je,"component name must be defined"),u.fF.assertAnyValue(ne,"syncModule"),u.fF.assertAnyValue(De,"moduleTarget must be defined"),!z&&!ne&&u.fF.assertAnyValue(Qe,"modulesMap must be defined"),gt=z||(ne?P(ne):Qe[je]),je=_.camelCase(je),angular.module(De).filter(je,gt)}(je,ne,De,Qe.filtersTarget,Qe.filtersMap):u.fF.assertNever(ne),Ht.push(wt))}var Yt=!1;"undefined"==typeof angular&&(Yt=!0),et();var lr={templateUrl:"components/visual/visual.html",bindings:{viewModel:"<",allowDeferredRendering:"<",currentZone:"<?",visualReady:"&?"},controller:T(t(944990).v),controllerAs:"$ctrl"};function dr(je){je.put("components/visual/visual.html","<div class=\"visual visual-{{$ctrl.core.viewModel.type}}\" ng-class=\"{'disable-events': $ctrl.core.disableEvents, 'allow-deferred-rendering': $ctrl.core.allowDeferredRendering !== false}\"></div>")}var br=[];function Cr(){pt||(et(),angular.module("powerbi.visualHost.controllers",[]),angular.module("powerbi.visualHost.directives",[]),angular.module("powerbi.visualHost",["powerbi.common","powerbi.visualHost.controllers","powerbi.visualHost.directives"]).run(["$templateCache",dr]),pt=!0)}var pt=!1;"undefined"==typeof angular&&(pt=!0),Cr();var Ut=[{name:"Visual",factory:lr,consumerHostFlags:24987}];function Pr(je,z){var ne=je[0].toLowerCase()+je.slice(1);br.indexOf(ne)>=0||(angular.module("powerbi.visualHost").component(ne,z),br.push(ne))}function mr(je){je.put("views/canvasVisualHeaderIcon.html",'<button tooltip tooltip-config="$ctrl.tooltipConfigManager.getTooltipConfig()" ng-disabled="!$ctrl.isClickable()" ng-switch="$ctrl.iconType"><i class="infoIcon glyphicon {{$ctrl.useStylableHeader() ? \'pbi-glyph-info-nocircle\' : \'pbi-glyph-info\'}}" ng-switch-when="info"></i><i class="warningIcon pbi-glyph-warning glyphicon" ng-switch-when="warning"></i><i class="errorIcon pbi-glyph-error glyphicon" ng-switch-when="error"></i></button>')}var xr=!1;"undefined"==typeof angular&&(xr=!0),xr||(et(),Cr(),angular.module("powerbi.explore.controllers",[]),angular.module("powerbi.explore.directives",[]),angular.module("powerbi.explore.components",[]),angular.module("powerbi.explore",["powerbi.common","powerbi.explore.controllers","powerbi.explore.directives","powerbi.explore.components","powerbi.visualHost"]).run(["$templateCache",mr]),xr=!0);var Qr=t(185897),Gr=t(522577),Jr=t(301938),Hr=t(562045),Yr=t(365358),Zr=t(871746),Or=t(199624),Ur=t(293287),zr=t(165447),ai=t(465482),lt=t(683418),ct=t(632782),Tt=t(413322),ot=t(78565),it=t(795752),ht=t(467192),yt=t(780991),Ft=t(489175),kt=t(381133),Gt=t(148695),ar=t(283224),sr=t(740518),pr=t(146619);function Mr(je,z){return je.webUri&&je.etagHash?"".concat(je.webUri,"/_layouts/WopiFrame.aspx?sourcedoc={").concat(je.etagHash,"}&action=").concat(z):""}var hr=function(){function je(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr,kr,Xr,ei,gi){this.authenticationService=z,this.explorationSerializer=ne,this.featureSwitchService=De,this.geocoder=Qe,this.geolocationService=gt,this.localizationService=wt,this.moduleLoader=Ht,this.permissionService=Jt,this.promiseFactory=rr,this.reportModelConverter=cr,this.telemetryService=vr,this.themeService=Sr,this.tileConfigUpgraderService=Tr,this.visualHostTooltipService=Rr,this.visualPluginOps=Kr,this.visualPlugins=Wr,this.appModelConverter=kr,this.$injector=Xr,this.datasetModelConverter=ei,this.packageModelConverter=gi,u.fF.assertValue(gt,"geolocationService"),u.fF.assertValue(vr,"telemetryService"),u.fF.assertValue(Wr,"visualPlugins"),u.fF.assertValue(Jt,"permissionService")}return je.prototype.setModelMerger=function(z){u.fF.assertValue(z,"modelMerger"),this.modelMerger=z},je.prototype.convertCompositeTile=function(z){return this.tileModelConverter.convertCompositeTile(z)},je.prototype.convertTileData=function(z){return this.tileModelConverter.convertTileData(z)},je.prototype.convertDashboard=function(z,ne,De,Qe){var gt=this,wt=this.convertDashboardShallow(z);return z.tiles&&(wt.lazyTiles=new Zr.o(function(){return _.map(z.tiles,function(Ht){return gt.convertTile(Ht,ne,De,Qe)})})),wt},je.prototype.convertDashboardShallow=function(z){var ne=this,De=new ai.A(z);return De.getPermissionsCallback=function(){return ne.permissionService.getDashboardEffectivePermissions(z)},De.dataClassificationId=z.dataClassificationId,De.folderId=z.folderId,this.modelMerger.mergeDashboardShallow(De,z),De},je.prototype.convertIframeTile=function(z){if(!z||z.type!==Ur.YU.iframe)return null;var ne=new it.h(z),De=this.convertTileConfig(z);return this.convertTileLayoutConfig(z),De&&De.iframe&&(ne.srcUrl=De.iframe.srcUrl,ne.embedCode=De.iframe.embedCode),ne.isLoading=(0,ct.r5)(z),ne},je.prototype.convertImageTile=function(z){if(!z||z.type!==Ur.YU.image)return null;var ne=new ht.n(z);return this.convertTileLayoutConfig(z),ne.displayText=z.displayText,ne.subDisplayText=z.subDisplayText,"number"!=typeof ne.contract.reportId||z.config?(ne.isStatic=!1,ne.imageUrl=this.getImageUrl(z)):(ne.isStatic=!0,ne.imageUrl=Or.yE),ne.isLoading=(0,ct.r5)(z),ne},je.prototype.convertInstalledAppModel=function(z,ne){return this.appModelConverter.convertInstalledAppModel(z,ne)},je.prototype.convertModel=function(z){return this.datasetModelConverter.convertModel(z)},je.prototype.convertModelTile=function(z){if(!z||z.type!==Ur.YU.model)return null;var ne=new yt.U(z);return this.convertTileLayoutConfig(z),ne.displayText=z.displayText,ne.isLoading=(0,ct.r5)(z),ne.subDisplayText=z.subDisplayText,ne},je.prototype.convertPackage=function(z){return this.packageModelConverter.convertPackage(z)},je.prototype.convertRealTimeTile=function(z){return(0,lt.b)(z,{authenticationService:this.authenticationService,featureSwitchService:this.featureSwitchService,geocoder:this.geocoder,geolocationService:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,telemetryService:this.telemetryService,themeService:this.themeService,tileModelConverter:this.tileModelConverter,visualHostTooltipService:this.visualHostTooltipService,visualPlugin:this.visualPlugins,visualPluginOps:this.visualPluginOps})},je.prototype.convertReport=function(z){return this.reportModelConverter.convertReport(z)},je.prototype.convertReportTile=function(z){return z&&z.type===Ur.YU.report?(this.convertTileLayoutConfig(z),new kt.I(z)):null},je.prototype.convertSpecificTileShallow=function(z,ne){switch(this.convertTileLayoutConfig(z),z.type){case Ur.YU.composite:var De=this.convertTileConfig(z);if(De&&De.visualContainer?ne.composite=new ot.iI(z,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.licenseUIManagerFactory):u.fF.assertFail("Invalid composite tile type"),ne.composite){var Qe=(0,zr.gq)(z);ne.composite.size={rowSpan:Qe.height,colSpan:Qe.width},ne.composite.isLoading=(0,ct.r5)(z)}break;case Ur.YU.iframe:ne.iframe=new it.h(z),ne.iframe.isLoading=(0,ct.r5)(z);break;case Ur.YU.image:ne.image=new ht.n(z),ne.image.isLoading=(0,ct.r5)(z);break;case Ur.YU.model:ne.model=new yt.U(z),ne.model.isLoading=(0,ct.r5)(z);break;case Ur.YU.ssrs:ne.model=new Gt.L(z),ne.model.isLoading=(0,ct.r5)(z);break;case Ur.YU.workbook:ne.workbook=new sr.V(z,ne),ne.workbook.isLoading=(0,ct.r5)(z);break;case Ur.YU.report:ne.model=new kt.I(z),ne.model.isLoading=(0,ct.r5)(z);break;case Ur.YU.realTime:this.convertTileConfig(z),ne.realTime=new Ft.V(z,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService);break;default:u.fF.assertFail("Invalid tile type")}},je.prototype.convertSsrsTile=function(z){if(!z||z.type!==Ur.YU.ssrs)return null;this.convertTileLayoutConfig(z);var ne=new Gt.L(z);return z.config&&(ne.imageUrl=this.getSsrsImageUrl(z)),ne.isLoading=(0,ct.r5)(z),ne},je.prototype.convertTile=function(z,ne,De,Qe){this.convertTileLayoutConfig(z);var gt=this.convertTileShallow(z,ne,De);if(this.modelMerger.mergeTile(gt,z,ne,De,Qe),null!=z.reportId){var wt=this.getTileReport(z.reportId,De);wt&&(gt.report=gt.report||new Hr.y(wt),this.fillReport(gt.report,wt))}return gt},je.prototype.convertTileLayoutConfig=function(z){return this.tileModelConverter.convertTileLayoutConfig(z)},je.prototype.convertTileAction=function(z){u.fF.assertValue(z,"contract");var ne=z.$action;if(!ne){var De;if(z.action&&0===z.action.indexOf("{"))try{De=JSON.parse(z.action)}catch(Qe){u.fF.assertFail("Unable to parse tile action")}else De={action:z.action};ne=z.$action=De}return ne},je.prototype.convertTileConfig=function(z){return this.tileModelConverter.convertTileConfig(z)},je.prototype.convertTileShallow=function(z,ne,De){this.convertTileLayoutConfig(z);var Qe=new ar.n9(z,this.localizationService,this.forceOpenCustomLinksInNewTab);return this.modelMerger.mergeTileShallow(Qe,z,ne,De),Qe},je.prototype.convertWorkbook=function(z){var ne=this,De=this.convertWorkbookShallow(z);return z&&(De.id=z.id,De.modelId=z.modelId,De.viewUrl=this.getWorkbookViewUrl(z),De.editUrl=this.getWorkbookEditUrl(z),De.embedUrl=this.getWorkbookEmbedView(z),De.name=z.name,De.displayName=z.displayName,De.description=z.description,De.fileName=z.fileName,De.packageId=z.packageId,De.isNew=z.isNew,De.getPermissionsCallback=function(){return ne.permissionService.getWorkbookEffectivePermissions(z)}),De},je.prototype.convertWorkbookShallow=function(z){return new pr.I(z)},je.prototype.convertWorkbookTile=function(z,ne,De){if(!z||z.type!==Ur.YU.workbook)return null;this.convertTileLayoutConfig(z);var Qe=new sr.V(z,De);Qe.displayText=z.displayText,Qe.subDisplayText=z.subDisplayText,Qe.isLoading=(0,ct.r5)(z),Qe.image=z.tileDataBinaryBase64Encoded,Qe.keepOriginalContentSize=z.$config.workbookTile&&z.$config.workbookTile.keepOriginalContentSize?z.$config.workbookTile.keepOriginalContentSize:Or.LN;var gt=z.$config.workbookTile;return ne?(gt&&(Qe.embedUrl=ne.embedUrl+"&item="+gt.item),ne.contract&&(Qe.webUri=ne.contract.webUri)):u.fF.assertFail("Unexpected tile from a non existent workbook"),Qe},je.prototype.fillDashboardChildren=function(z,ne,De,Qe){var gt=this,wt=z.contract;z.displayName!==wt.displayName&&(z.displayName=wt.displayName),wt.tiles&&(z.lazyTiles=new Zr.o(function(){return wt.tiles.map(function(Ht){return gt.convertTile(Ht,ne,De,Qe)})}))},je.prototype.fillReport=function(z,ne){this.reportModelConverter.fillReport(z,ne)},je.prototype.getImageUrl=function(z){var ne=this.convertTileConfig(z);if(ne&&ne.imageTile)return ne.imageTile.imageUrl},je.prototype.getSsrsImageUrl=function(z){var ne=this.convertTileConfig(z);if(ne&&ne.ssrsTile)return ne.ssrsTile.imageUrl},je.prototype.getTileModel=function(z,ne){var De;if(ne){var Qe=(0,Yr.cq)(ne,function(gt){return gt&&gt.id===z});-1!==Qe&&(De=ne[Qe])}return De},je.prototype.getTileReport=function(z,ne){var De;if(ne){var Qe=(0,Yr.cq)(ne,function(gt){return gt&&gt.id===z});-1!==Qe&&(De=ne[Qe])}return De},je.prototype.getTileWorkbook=function(z,ne,De){var Qe;if(De){var gt=(0,Yr.cq)(De,function(wt){return wt.id===z&&wt.packageId===ne});-1!==gt&&(Qe=De[gt])}return Qe},je.prototype.resolveTilePackage=function(z,ne){if(z.packageId){var De=(0,Yr.cq)(ne,function(Qe){return Qe.id===z.packageId});-1!==De&&(z.tilePackage=ne[De])}},je.prototype.getWorkbookViewUrl=function(z){return Mr(z,"view")},je.prototype.getWorkbookEditUrl=function(z){return Mr(z,"edit")},je.prototype.getWorkbookEmbedView=function(z){return Mr(z,"embedview")},Object.defineProperty(je.prototype,"forceOpenCustomLinksInNewTab",{get:function(){var ne;try{ne=this.$injector.get("forceOpenCustomLinksInNewTab")}catch(De){ne=!1}return ne},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"licenseUIManagerFactory",{get:function(){return this._licenseUIManagerFactory||(this._licenseUIManagerFactory=this.$injector.get("licenseUIManagerFactory")),this._licenseUIManagerFactory},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"tileModelConverter",{get:function(){return this._tileModelConverter||(this._tileModelConverter=(0,Tt.N)(this.geolocationService,this.telemetryService,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geocoder,this.promiseFactory,this.moduleLoader,this.tileConfigUpgraderService,this.explorationSerializer,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.licenseUIManagerFactory)),this._tileModelConverter},enumerable:!1,configurable:!0}),je}(),Ir=t(913202),dt=function(){function je(z,ne){u.fF.assertValue(z,"modelConverter"),this.modelConverter=z,this.permissionService=ne}return je.prototype.mergeDashboard=function(z,ne,De,Qe,gt){var wt=this,Ht=this.modelConverter.convertDashboard(ne,De,Qe,gt);z.contract=ne,z.displayName=Ht.displayName,z.getPermissionsCallback=function(){return wt.permissionService.getDashboardEffectivePermissions(ne)},z.contract.modelIds=ne.modelIds,z.contract.reportIds=ne.reportIds,z.contract.packageIds=ne.packageIds,z.contract.workbookIds=ne.workbookIds,z.qnaEnabled=ne.qnaEnabled,z.gravityEnabled=ne.gravityEnabled,z.annotationsEnabled=ne.annotationsEnabled,z.isSharedFromSecurityGroup=ne.isSharedFromSecurityGroup,z.isHidden=ne.isHidden;var Jt=z.tiles;z.lazyTiles=new Zr.o(function(){var rr=[];if(_.isEmpty(Ht.tiles))return rr;for(var cr=_.keyBy(Jt,function(Kr){return Kr&&Kr.id}),vr=0,Sr=Ht.tiles;vr<Sr.length;vr++){var Tr=Sr[vr],Rr=cr[Tr.id];Rr?(rr.push(Rr),wt.mergeTile(Rr,Tr.contract,De,Qe,gt)):rr.push(Tr)}return rr})},je.prototype.mergeArtifactOwnerInfo=function(z,ne){z.ownerFullname=(0,Ir.P)(ne.givenName,ne.familyName),z.ownerMail=ne.emailAddress,ne.userObjectId&&(z.ownerUserObjectId=ne.userObjectId),ne.groupObjectId&&(z.ownerGroupObjectId=ne.groupObjectId),z.contract.ownerInfo||(z.contract.ownerInfo=ne)},je.prototype.mergeDashboardShallow=function(z,ne){var De=this;ne.displayName&&(z.displayName=ne.displayName),void 0!==ne.permissions&&(z.getPermissionsCallback=function(){return De.permissionService.getDashboardEffectivePermissions(ne)},z.contract.permissions=ne.permissions),ne.modelIds&&(z.contract.modelIds=ne.modelIds),ne.reportIds&&(z.contract.reportIds=ne.reportIds),ne.workbookIds&&(z.contract.workbookIds=ne.workbookIds),ne.packageIds&&(z.contract.packageIds=ne.packageIds),void 0!==ne.isStaging&&(z.contract.isStaging=ne.isStaging),void 0!==ne.qnaEnabled&&(z.qnaEnabled=ne.qnaEnabled),void 0!==ne.gravityEnabled&&(z.gravityEnabled=ne.gravityEnabled),void 0!==ne.annotationsEnabled&&(z.annotationsEnabled=ne.annotationsEnabled),void 0!==ne.isSharedFromSecurityGroup&&(z.isSharedFromSecurityGroup=ne.isSharedFromSecurityGroup),void 0!==ne.isHidden&&(z.isHidden=ne.isHidden),void 0!==ne.ownerInfo&&this.mergeArtifactOwnerInfo(z,ne.ownerInfo),z.sharedTime=ne.sharedTime||"/Date(0)/"},je.prototype.mergeDashboardTiles=function(z,ne){var De=ne.models||[],Qe=ne.reports||[],gt=ne.workbooks||[],wt=ne.packages||[],Ht=z.contract.tiles;if(Ht)for(var Jt=0,rr=Ht;Jt<rr.length;Jt++)this.modelConverter.resolveTilePackage(rr[Jt],wt);var vr=z.tiles;if(vr)for(var Sr=0,Tr=vr;Sr<Tr.length;Sr++){var Rr=Tr[Sr];this.mergeTile(Rr,Rr.contract,De,Qe,gt)}},je.prototype.mergeModelContentProviderId=function(z,ne){if(z)for(var De=0,Qe=z;De<Qe.length;De++){var gt=Qe[De];gt.contentProviderId=gt.contentProviderId||(0,zr.ER)(ne,gt.packageId)}},je.prototype.mergeTileShallow=function(z,ne,De,Qe){this.modelConverter.convertTileLayoutConfig(ne),z.contract=ne,z.type=ne.type,this.mergeTileLayoutConfig(z,ne),z.displayText=ne.displayText,z.subDisplayText=ne.subDisplayText,z.backgroundImageUrl=this.modelConverter.getImageUrl(ne),z.errorCode=ne.errorCode;var gt=this.modelConverter.getTileReport(ne.reportId,Qe);if(ne.query&&ne.query.modelQuery&&(z.utterance=ne.query.modelQuery.utterance),z.action=this.modelConverter.convertTileAction(ne),z.config=this.modelConverter.convertTileConfig(ne),z.isLoading=(0,ct.r5)(ne),z.isLocked=(0,ct.qX)(ne),ne.modelId){var wt=this.modelConverter.getTileModel(ne.modelId,De);wt&&(z.vsName=wt.vsName,z.dbName=wt.dbName)}ne.reportId&&(z.report=z.report||this.modelConverter.convertReport(gt),z.report.id=ne.reportId),gt&&(this.modelConverter.fillReport(z.report,gt),z.action||(z.action={action:"/openReport"})),this.modelConverter.convertSpecificTileShallow(ne,z)},je.prototype.mergeTileLayoutConfig=function(z,ne){if(u.fF.assertValue(ne.$layoutConfig,"TileLayoutConfig is not set"),!(z.layoutPosition.x&&z.layoutPosition.y&&z.layoutPosition.width&&z.layoutPosition.height)){var De=(0,Yr.Br)(ne.$layoutConfig.layouts),Qe=z.gridLayoutContext,gt=Qe?Qe.getActiveLayout():0,wt=De.withId(gt);wt&&this.mergeLayoutPosition(z.layoutPosition,wt.position)}},je.prototype.mergeLayoutPosition=function(z,ne){ne&&(z.x=z.x||ne.x,z.y=z.y||ne.y,z.width=z.width||ne.width,z.height=z.height||ne.height)},je.prototype.mergeTile=function(z,ne,De,Qe,gt,wt){var Ht=z.composite,Jt=z.realTime;this.mergeTileShallow(z,ne,De,Qe),z.composite=this.modelConverter.convertCompositeTile(ne),Ht&&z.composite&&(z.composite.setDataLoadEventDelegate(Ht.dataLoadEventDelegate),z.composite.copyDependencies(Ht),Ht instanceof ot.iI&&z.composite instanceof ot.iI&&this.mergeVisual(z.composite.visual,Ht.visual),Ht.tileDataIsVolatile&&Ht.tileData&&Ht.tileData.data&&(z.composite.tileData=Ht.tileData)),z.iframe=this.modelConverter.convertIframeTile(ne),z.image=this.modelConverter.convertImageTile(ne),z.model=this.modelConverter.convertModelTile(ne),z.ssrs=this.modelConverter.convertSsrsTile(ne);var rr=this.modelConverter.convertRealTimeTile(ne);if(this.updateTileRealTimeModel(z,Jt,rr),z&&z.reportTile){var cr=z.reportTile.exploration;z.reportTile=this.modelConverter.convertReportTile(ne),z.reportTile.exploration=cr}else z.reportTile=this.modelConverter.convertReportTile(ne);if(!_.isEmpty(gt)){var vr=this.modelConverter.getTileWorkbook(ne.workbookId,ne.packageId,gt);if(vr){var Sr=this.modelConverter.convertWorkbook(vr);z.workbook=this.modelConverter.convertWorkbookTile(ne,Sr,z)}}if(Qe){var Tr=this.modelConverter.getTileReport(ne.reportId,Qe);Tr?(z.report=z.report||this.modelConverter.convertReport(Tr),this.modelConverter.fillReport(z.report,Tr)):z.report=null,z.contractsReport=this.modelConverter.getTileReport(ne.reportId,Qe)}else if(wt){for(var Rr=void 0,Kr=0,Wr=wt.length;Kr<Wr;Kr++)if(ne.reportId===wt[Kr].id){Rr=wt[Kr];break}Rr&&(z.report=z.report||Rr,this.modelConverter.fillReport(z.report,Rr.contract),z.contractsReport=Rr.contract)}ne.modelId&&(z.contractsModel=this.modelConverter.getTileModel(ne.modelId,De))},je.prototype.mergeInstalledAppModel=function(z,ne,De){var Qe=this.modelConverter.convertInstalledAppModel(ne,De);delete Qe.isFavorite,delete Qe.isFavoriteDisabled,delete Qe.favoriteInfo,_.extend(z,Qe)},je.prototype.updateTileRealTimeModel=function(z,ne,De){z.realTime=De,ne&&z.realTime&&z.realTime.copyRealTimeModelDependencies(ne)},je.prototype.mergeVisual=function(z,ne){u.fF.assertValue(z,"visualToUpdate"),u.fF.assertValue(ne,"sourceVisual"),ne.visual&&z.type===ne.type&&(z.visual=ne.visual),z.viewport=ne.viewport},je}(),ue=t(557478),k=function(){function je(){this.items=[],this.listeners=[]}return je.prototype.addItem=function(z){if(null!=z&&!_.includes(this.items,z)){this.items.push(z);for(var De=0,Qe=this.listeners;De<Qe.length;De++){var gt=Qe[De];gt.onAdded&&gt.onAdded(z)}}},je.prototype.deleteItems=function(z){if(!z)return[];if(_.isEmpty(this.items))return[];var ne=_.remove(this.items,z);if(!_.isEmpty(ne)){var De=this.listeners;if(!_.isEmpty(De))for(var Qe=0,gt=ne;Qe<gt.length;Qe++)for(var wt=gt[Qe],Ht=0,Jt=De;Ht<Jt.length;Ht++){var rr=Jt[Ht];rr.onDeleted&&rr.onDeleted(wt)}}return ne},je.prototype.setItems=function(z){this.items=z;for(var De=0,Qe=this.listeners;De<Qe.length;De++){var gt=Qe[De];gt.onReset&&gt.onReset()}},je.prototype.subscribe=function(z){u.fF.assertValue(z,"subscribe: listener"),this.listeners.push(z)},je.prototype.unsubscribe=function(z){_.remove(this.listeners,z)},je}(),Ae=function(){function je(z,ne,De){var Qe=this;this.dataServiceModelConverter=z,this.appStore=ne,this.dataServiceModelMerger=De,this.instances=new k,this.packageIdToAppMap={},this.appStore.installedApps.subscribe(function(gt){Qe.onAppsUpdated(gt.apps,gt.packages)})}return Object.defineProperty(je.prototype,"appInstances",{get:function(){return this.instances.items},enumerable:!1,configurable:!0}),je.prototype.getAppInstance=function(z){return this.getAppInstanceInternal(z)},je.prototype.getAppInstanceInternal=function(z){return _.find(this.instances.items,function(ne){return ne.packageId===z})},je.prototype.onAppsUpdated=function(z,ne){for(var De=[],Qe=this.packageIdToAppMap,gt=this.dataServiceModelMerger,wt=this.dataServiceModelConverter,Ht=0;Ht<z.length;Ht++){var Jt=z[Ht],rr=ne[Ht],cr=Qe[rr.id];cr?cr.providerContract!==Jt&&gt.mergeInstalledAppModel(cr,Jt,rr):cr=wt.convertInstalledAppModel(Jt,rr),De.push(cr)}this.instances.setItems(De),this.packageIdToAppMap=_.keyBy(De,function(vr){return vr.packageId})},je}(),Bt=function(){function je(){this.collection=new k,this.map={}}return Object.defineProperty(je.prototype,"dashboards",{get:function(){return this.collection.items},set:function(ne){this.collection.setItems(ne),this.map=_.keyBy(ne,function(De){return De.objectId})},enumerable:!1,configurable:!0}),je.prototype.findDashboardByObjectId=function(z){return this.map[z]},je}(),Qt=t(89887),or=function(){function je(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr){var Wr=this;this.dashboardHttpService=z,this.groupStore=ne,this.promiseFactory=De,this.modelConverter=Qe,this.modelMerger=gt,this.modelService=wt,this.dashboardCollectionService=Ht,this.$timeout=Jt,this.dashboardStore=rr,this.appMetadataService=cr,this.permissionService=vr,this.datasetRefreshListener=Tr,this.reportStore=Kr,this.refreshStateListeners=[],this.dashboardCollectionService=Ht,this.dashboardsDeferred=De.defer(),this.datasetRefreshListener.addModelUpdateListener(this),this.refreshState=0,this.appMetadataService.getAppMetadata().then(function(){Wr.dashboardStore.selectedDashboard.subscribe(function(kr){Wr.activeDashboardId=kr?kr.id:Wr.activeDashboardId,Wr.activeDashboardObjectId=kr?kr.objectId:Wr.activeDashboardObjectId,Wr.updateActiveDashboardModelsInternal(kr)})}),this.dashboardsAfterFolderSwitchDeferred=this.promiseFactory.defer(),this.appMetadataService.getAppMetadata().then(function(){Wr.groupStore.selectedFolderId$.subscribe(function(){Wr.dashboardsAfterFolderSwitchDeferred.resolve(),Wr.dashboardsAfterFolderSwitchDeferred=Wr.promiseFactory.defer()}),Sr.ensureReportsInitialization().then(function(){Wr.dashboardStore.dashboards.subscribe(function(kr){var ei,gi,Ci,Xr=_.keyBy(Wr.dashboards,function(hi){return hi&&hi.objectId});Wr.dashboards=_.filter(kr,function(hi){return!!hi}).map(function(hi){var Ei=Xr[hi.objectId];return Ei?(Wr.modelMerger.mergeDashboardShallow(Ei,hi),Ei):(_.isEmpty(ei)&&(ei=_.map(wt.models,function(Ai){return Ai.contract}),Wr.reportStore.reports.subscribe(function(Ai){gi=Ai}),Ci=_.map(Rr.workbooks,function(Ai){return Ai.contract})),Wr.modelConverter.convertDashboard(hi,ei,gi,Ci))}),Wr.dashboardsAfterFolderSwitchDeferred.resolve(),Wr.dashboardsDeferred.resolve(Wr)})})},function(){Wr.dashboardsDeferred.reject(),Wr.dashboardsAfterFolderSwitchDeferred.reject()})}return je.prototype.registerRefreshStateListener=function(z){u.fF.assertValue(z,"refreshStateListener"),_.includes(this.refreshStateListeners,z)||this.refreshStateListeners.push(z)},je.prototype.unregisterRefreshStateListener=function(z){u.fF.assertValue(z,"refreshStateListener"),_.remove(this.refreshStateListeners,z)},je.prototype.onDashboardTileRefreshStarted=function(z){this.activeDashboardId===z&&0===this.refreshState&&this.notify(1,z)},je.prototype.onDashboardTileRefreshFinished=function(z){var ne=this;this.activeDashboardId===z&&1===this.refreshState&&(this.notify(2,z),this.$timeout(function(){return ne.notify(0,z)},3e3))},je.prototype.notify=function(z,ne){this.refreshState=z;for(var De=0,Qe=this.refreshStateListeners;De<Qe.length;De++)Qe[De].onStateChange(this.refreshState,ne)},Object.defineProperty(je.prototype,"dashboards",{get:function(){return this.dashboardCollectionService.dashboards},set:function(ne){this.dashboardCollectionService.dashboards=ne},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"activeDashboard",{get:function(){return this.activeDashboardObjectId?this.findDashboardByGUID(this.activeDashboardObjectId):null},set:function(ne){ne?(this.activeDashboardId=ne.id,this.activeDashboardObjectId=ne.objectId):(this.activeDashboardId=-1,this.activeDashboardObjectId=null),this.dashboardStore.select(ne?ne.contract:null),this.refreshState=0},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"displayName",{get:function(){return this.activeDashboard?this.activeDashboard.displayName:""},enumerable:!1,configurable:!0}),je.prototype.deleteTile=function(z,ne){var De=this,Qe=this.promiseFactory.defer(),gt=this.findDashboard(z);return gt?this.tryUpdateTile(gt,ne,function(wt,Ht){if(wt>=0&&Ht>=0){var Jt=gt.contract.tiles[wt];gt.contract.tiles.splice(wt,1),gt.tiles.splice(Ht,1),gt.hasModel(Jt.modelId)||De.dashboardHttpService.addDashboardRequestToBatch(De.promiseFactory,gt.id,!1,0).done(function(rr){De.modelMerger.mergeDashboardShallow(gt,rr.dashboards[0]),De.updateActiveDashboardModels(),Qe.resolve(null)}).fail(function(){Qe.reject()})}else Qe.resolve(null)}):Qe.resolve(null),Qe.promise},je.prototype.dropDashboardfromMemoryIfNotActive=function(z){var ne=this.activeDashboard;return!(ne&&ne.id===z||(this.findDashboard(z)&&this.dashboardStore.unloadDashboardTiles(z),0))},je.prototype.findDashboard=function(z){return _.find(this.dashboards,function(ne){return ne.id===z})},je.prototype.findDashboardByGUID=function(z){return this.dashboardCollectionService.findDashboardByObjectId(z)},je.prototype.retrieveDashboardForApp=function(z,ne){return _.find(this.dashboards,function(De){return De.getUniquePackageId()===z&&De.contract.originalDashboardObjectId===ne})},je.prototype.tryUpdateTile=function(z,ne,De){if(z){var Qe=z.getTileContractIndex(ne),gt=z.getTileIndex(ne);u.fF.assert(function(){return Qe<z.contract.tiles.length},"Contract index out-of-range"),u.fF.assert(function(){return gt<z.tiles.length},"Model index out-of-range"),De(Qe,gt),z.scheduleDelayedLayout(this.activeDashboard!==z)}},je.prototype.updateActiveDashboardModels=function(){this.updateActiveDashboardModelsInternal(this.activeDashboard&&this.activeDashboard.contract)},je.prototype.updateActiveDashboardModelsInternal=function(z){return(0,s.__awaiter)(this,void 0,i.J,function(){return(0,s.__generator)(this,function(ne){switch(ne.label){case 0:return z||(z=this.activeDashboard&&this.activeDashboard.contract),[4,this.modelService.modelsPromise];case 1:return ne.sent(),this.activeDashboardModels=(0,Qt.$b)(z,this.modelService.getModelContracts()),[2]}})})},je.prototype.onModelUpdated=function(z,ne){this.modelService.findModel(z,ne)&&this.updateActiveDashboardModels()},je}(),Ar=t(658806),ut=function(){function je(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr){var kr=this;this.rootScope=z,this.dashboardDataService=ne,this.dashboardHttpService=De,this.modelConverter=Qe,this.modelMerger=gt,this.modelService=wt,this.promiseFactory=Ht,this.reportService=Jt,this.resourcePackageListenerService=rr,this.resourcePackagesService=cr,this.telemetryService=vr,this.workbookService=Sr,this.dashboardStore=Tr,this.globalEventBridge=Rr,this.featureSwitchService=Kr,this.publicCustomVisualService=Wr,this.globalEventBridge.createChannelSubscriptionManager().subscribe(Ar.NQ,function(Xr,ei){return kr.onDashboardShallowEdit(ei)}).subscribe(Ar.a7,function(Xr,ei){return kr.onDashboardDeepEdit(ei)}).subscribe(Ar.Y3,function(Xr,ei){return kr.addOrUpdateActiveDashboardTiles(ei.dashboardId,ei.tileIds,ei.isDataChange)}).subscribe(Ar.EZ,function(Xr,ei){return kr.dashboardDataService.deleteTile(ei.dashboardId,ei.tileId)})}return je.prototype.onTilesAddedOrUpdated=function(z,ne){var De=this.promiseFactory;if(this.dashboardDataService.dropDashboardfromMemoryIfNotActive(z))return De.resolve(null);this.addOrUpdateActiveDashboardTiles(z,ne)},je.prototype.onDashboardShallowEdit=function(z){var ne=z.dashboards[0],De=this.dashboardDataService.findDashboard(ne.id);De&&this.modelMerger.mergeDashboardShallow(De,ne)},je.prototype.onDashboardDeepEdit=function(z){this.rootScope.$emit(Or.bB,[z]),this.dashboardDataService.onDashboardTileRefreshFinished(z.dashboards[0].id)},je.prototype.addOrUpdateCustomVisualTile=function(z,ne,De){var Qe=this;this.isResourcePackageInCache(z)?this.addOrUpdateTile(ne,De,this.modelService.getModelContracts()):this.resourcePackageListenerService.getAndLoadVisualPlugin(z).then(function(){Qe.addOrUpdateTile(ne,De,Qe.modelService.getModelContracts())})},je.prototype.addOrUpdateTile=function(z,ne,De,Qe){var gt=this;z&&(De=De||[],this.updateModelsIfRequired(z,ne),this.dashboardDataService.tryUpdateTile(z,ne.id,function(wt,Ht){var Jt=gt.reportService.findReport(ne.reportId),rr=null;wt>=0?(z.contract.tiles[wt]=ne,Ht>=0&&gt.modelMerger.mergeTile(rr=z.tiles[Ht],ne,De,null,gt.workbookService.getWorkbookContracts(),gt.reportService.reports)):(rr=Qe||gt.modelConverter.convertTile(ne,De,null,gt.workbookService.getWorkbookContracts()),z.contract.tiles.push(ne),z.tiles.push(rr)),rr&&(rr.invalidateLayout(),Jt&&(rr.report=Jt))}))},je.prototype.registerAndUpdateTile=function(z,ne){var De=this.dashboardDataService.findDashboard(z);if(ne.resourcePackageIds&&ne.resourcePackageIds.length>0)for(var Qe=ne.resourcePackageIds.length,gt=0;gt<Qe;++gt)this.addOrUpdateCustomVisualTile(ne.resourcePackageIds[gt],De,ne);else this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps?this.ensurePublicCVsAndAddOrUpdateTile(De,ne):this.addOrUpdateTile(De,ne,this.modelService.getModelContracts())},je.prototype.ensurePublicCVsAndAddOrUpdateTile=function(z,ne){var Qe,gt,wt,Ht,Jt,De=this,rr=this.modelConverter.convertTile(ne,this.modelService.getModelContracts(),null,this.workbookService.getWorkbookContracts()),cr=rr.type===Ur.YU.composite&&(null===(Jt=null===(Ht=null===(wt=null===(gt=null===(Qe=rr.config)||void 0===Qe?void 0:Qe.visualContainer)||void 0===gt?void 0:gt.$visualContainer)||void 0===wt?void 0:wt.config)||void 0===Ht?void 0:Ht.singleVisual)||void 0===Jt?void 0:Jt.visualType);cr?this.publicCustomVisualService.getPublicVisualTypes([cr]).then(function(vr){if(vr[0]){var Sr=De.publicCustomVisualService.createPublicResourcePackageByName(cr);return De.resourcePackageListenerService.loadVisualPlugin([Sr])}}).finally(function(){De.addOrUpdateTile(z,ne,De.modelService.getModelContracts(),rr)}):this.addOrUpdateTile(z,ne,this.modelService.getModelContracts(),rr)},je.prototype.addOrUpdateActiveDashboardTiles=function(z,ne,De){var Qe=this;if(this.dashboardDataService.selectedDashboardTile){0===ne.length&&(ne=this.dashboardDataService.activeDashboard.tiles.map(function(wt){return wt.id}));var gt=ne.indexOf(this.dashboardDataService.selectedDashboardTile.id);if(gt>=0&&(ne.splice(gt,1),0===ne.length))return this.promiseFactory.resolve(null)}return this.dashboardHttpService.batchGetTiles(z,ne,void 0,!0).then(function(wt){var Ht=wt.data;if(!_.isEmpty(Ht))for(var Jt=0,rr=Ht.length;Jt<rr;++Jt)Qe.registerAndUpdateTile(z,Ht[Jt]);De&&Qe.dashboardDataService.onDashboardTileRefreshFinished(z)})},je.prototype.updateModelsIfRequired=function(z,ne){var De=this,Qe=z.getTileContractIndex(ne.id),gt=-1!==Qe&&2===ne.publishState&&1===z.contract.tiles[Qe].publishState;(gt||!z.hasModel(ne.modelId))&&this.dashboardHttpService.addDashboardRequestToBatch(this.promiseFactory,z.id,!1,0).done(function(wt){gt&&(De.modelMerger.mergeDashboardTiles(z,wt),De.modelMerger.mergeModelContentProviderId(wt.models,wt.packages)),De.modelMerger.mergeDashboardShallow(z,wt.dashboards[0]),De.dashboardDataService.updateActiveDashboardModels()})},je.prototype.isResourcePackageInCache=function(z){var ne=this.resourcePackagesService.getAllPackages();return _.some(ne,function(De){return De.id===z})},je}(),Vt=t(39444),Mt=function(){function je(){this.collection=new k,this.modelsMap={}}return Object.defineProperty(je.prototype,"models",{get:function(){return this.collection.items},set:function(ne){this.collection.setItems(ne),this.modelsMap={};for(var De=0,Qe=ne;De<Qe.length;De++){var gt=Qe[De];this.modelsMap[gt.uniqueId]=gt}},enumerable:!1,configurable:!0}),je.prototype.getModelContracts=function(){return _.map(this.models,function(z){return z.contract})},je.prototype.findModel=function(z,ne){return this.modelsMap[Vt.H.getUniqueId(z,ne)]},je.prototype.addModel=function(z){this.collection.addItem(z),this.modelsMap[z.uniqueId]=z},je}(),Ot=t(114357),Wt=t(768783),tr=function(){function je(z,ne,De,Qe,gt,wt,Ht,Jt,rr){this.telemetryService=z,this.dataSetConverter=ne,this.modelHttpService=De,this.appMetadataService=Qe,this.promiseFactory=gt,this.modelCollectionService=wt,this.permissionService=Ht,this.datasetStore=Jt,this.datasetRefreshListener=rr,this.explorableDatasets=[],this.completeUsableModelList=[],this._modelsDeferred=this.promiseFactory.defer(),this.subscribeDataset(),this.subscribeExplorableDatasets()}return Object.defineProperty(je.prototype,"models",{get:function(){return this.modelCollectionService.models},set:function(ne){this.modelCollectionService.models=ne},enumerable:!1,configurable:!0}),je.prototype.pushModel=function(z){this.modelCollectionService.addModel(z)},Object.defineProperty(je.prototype,"modelsPromise",{get:function(){return this._modelsDeferred.promise},enumerable:!1,configurable:!0}),je.prototype.mergeDatasetCollection=function(z){if(!_.isEmpty(z))for(var ne=_.keyBy(this.models,"id"),De=0,Qe=z;De<Qe.length;De++){var gt=Qe[De];ne[gt.id]?this.updateContractModel(gt):this.pushModel(this.dataSetConverter.convertModel(gt))}},je.prototype.getModelContracts=function(){return this.modelCollectionService.getModelContracts()},je.prototype.updateContractModel=function(z){if(z){u.fF.assertValue(z.permissions,"contractModel.permissions");var ne=this.findModel(z.id,z.packageId);ne&&(this.mergeModel(ne,z),this.datasetRefreshListener.applyModelUpdated(ne.id,ne.packageId))}},je.prototype.addContractModel=function(z){if(z||!this.modelExists(z.id,z.packageId)){z.isNew=!0;var ne=this.dataSetConverter.convertModel(z);this.addModel(ne)}},je.prototype.addModel=function(z){!z||this.modelExists(z.id,z.packageId)||this.modelCollectionService.addModel(z)},je.prototype.modelExists=function(z,ne){return _.findIndex(this.models,function(De){return De.id===z&&De.packageId===ne})>-1},je.prototype.findModel=function(z,ne,De){var gt,Qe=this.findModels(z);if(!_.isEmpty(Qe))return 1===Qe.length?Qe[0]:null==ne||!(gt=this.getModelByPackageId(Qe,ne))&&De?(gt=_.find(Qe,function(wt){return(0,Wt.yE)(wt.getPermissions(),7)}))||Qe[0]:gt},je.prototype.findModels=function(z,ne){var De=this.userExplorableModels;return ne?_.filter(De,function(Qe){return Qe.id===z&&Qe.packageId===ne}):_.filter(De,function(Qe){return Qe.id===z})},Object.defineProperty(je.prototype,"userExplorableModels",{get:function(){return this.completeUsableModelList},enumerable:!1,configurable:!0}),je.prototype.getModelByPackageId=function(z,ne){return _.find(z,function(De){return De.packageId===ne})},je.prototype.subscribeDataset=function(){var z=this;this.appMetadataService.getAppMetadata().then(function(){z.datasetStore.datasets.subscribe(function(ne){var De=z.modelCollectionService;De.models=ne.map(function(Qe){var gt=Qe.dataset,wt=De.findModel(gt.id,gt.packageId);return wt?wt.contract!==gt&&z.mergeModel(wt,gt):wt=z.dataSetConverter.convertModel(gt),wt.categories=Qe.categories,wt}),z.completeUsableModelList=_.concat(z.models,z.explorableDatasets),z._modelsDeferred.resolve(z.modelCollectionService.models)})})},je.prototype.subscribeExplorableDatasets=function(){var z=this;this.datasetStore.explorableDatasets.subscribe(function(ne){var De=_.keyBy(z.explorableDatasets,function(Qe){return Qe.id});z.explorableDatasets=_.map(ne,function(Qe){var gt=De[Qe.id];return gt?gt.contract!==Qe&&z.mergeModel(gt,Qe):gt=z.dataSetConverter.convertModel(Qe),gt}),z.completeUsableModelList=_.concat(z.models,z.explorableDatasets)})},je.prototype.mergeModel=function(z,ne){var De=this;z&&ne&&(z.contract=ne,z.id=ne.id||z.id,z.isNew=ne.isNew||z.isNew,z.getPermissionsCallback=function(){return De.permissionService.getModelEffectivePermissions(ne)},z.name=ne.name||z.name,z.displayName=ne.displayName||z.displayName,z.description=ne.description||z.description,z.fileName=ne.fileName||z.fileName,z.packageId=ne.packageId||z.packageId,z.packageVersion=ne.packageVersion||z.packageVersion,z.contentProviderId=ne.contentProviderId||z.contentProviderId,z.packagePublishStatus=null!=ne.packagePublishStatus?ne.packagePublishStatus:z.packagePublishStatus,z.isRefreshInProgress=ne.currentRefreshStartingTime&&(0,Ot.ee)(ne.currentRefreshStartingTime).getTime()+18e5>Date.now(),z.cloudRlsEnabled=ne.cloudRlsEnabled,z.realTimeMode=ne.realTimeMode,z.isHidden=z.isHidden&&ne.isHidden)},je}(),nr=function(){function je(){this.collection=new k,this.packages=[]}return Object.defineProperty(je.prototype,"packages",{get:function(){return this.collection.items},set:function(ne){this.collection.setItems(ne),this.idToPackageMap=_.keyBy(ne,function(De){return De.id})},enumerable:!1,configurable:!0}),je.prototype.findPackage=function(z){return this.idToPackageMap[z]},je}(),_r=function(){function je(z,ne,De){this.packageModelConverter=z,this.packageCollectionService=ne,this.packageStore=De,this.initPackages()}return Object.defineProperty(je.prototype,"packages",{get:function(){return this.packageCollectionService.packages},enumerable:!1,configurable:!0}),je.prototype.findPackage=function(z){return this.packageCollectionService.findPackage(z)},je.prototype.initPackages=function(){var z=this;this.packageStore.packages.subscribe(function(ne){var De=ne.map(function(Qe){var gt=_.find(z.packages,function(wt){return wt.id===Qe.id});return gt?(gt.contract!==Qe&&z.mergePackage(gt,Qe),gt):z.packageModelConverter.convertPackage(Qe)});z.packageCollectionService.packages=De})},je.prototype.mergePackage=function(z,ne){z&&ne&&(z.contract=ne,z.contentProviderId=ne.contentProviderId,z.id=ne.id,z.lastRefreshTime=ne.lastRefreshTime,z.latestVersion=ne.latestVersion,z.name=ne.name,z.publishOrRefreshStatus=ne.publishOrRefreshStatus,z.version=ne.version,z.originalPackageId=ne.originalPackageId||z.originalPackageId,z.packageType=ne.packageType||z.packageType,z.getPermissionsCallback=function(){return ne&&ne.permissions})},je}(),jt=function(){function je(){this.collection=new k}return Object.defineProperty(je.prototype,"reports",{get:function(){return this.collection.items},set:function(ne){this.collection.setItems(ne)},enumerable:!1,configurable:!0}),je.prototype.addReport=function(z){this.collection.addItem(z)},je}(),Ct=function(){function je(z,ne,De,Qe,gt,wt,Ht){this.telemetryService=z,this.modelConverter=ne,this.appMetadataService=De,this.promiseFactory=Qe,this.reportCollectionService=gt,this.reportStore=wt,this.groupStore=Ht,this.reportsDeferred=this.promiseFactory.defer(),this.reportsAfterFolderSwitchDeferred=this.promiseFactory.defer(),this.subscribeReports()}return je.prototype.subscribeReports=function(){var z=this;this.appMetadataService.getAppMetadata().then(function(){z.groupStore.selectedFolderId$.subscribe(function(){z.reportsAfterFolderSwitchDeferred.resolve(),z.reportsAfterFolderSwitchDeferred=z.promiseFactory.defer()}),z.reportStore.reports.subscribe(function(ne){z.reportCollectionService.reports=ne.map(function(De){var Qe=_.find(z.reportCollectionService.reports,function(gt){return gt.objectId===De.objectId});return Qe?(z.mergeReport(Qe,De),Qe):z.modelConverter.convertReport(De)}),z.reportsDeferred.resolve(z),z.reportsAfterFolderSwitchDeferred.resolve()}),z.reportStore.selectedReport.subscribe(function(ne){z.currentActiveReport=ne?{id:ne.id,displayName:ne.displayName,guid:ne.objectId,modelId:ne.modelId}:null})})},je.prototype.ensureReportsInitialization=function(){return this.reportsDeferred.promise},Object.defineProperty(je.prototype,"reports",{get:function(){return this.reportCollectionService.reports},set:function(ne){this.reportCollectionService.reports=ne},enumerable:!1,configurable:!0}),je.prototype.getReportContracts=function(){return this.reports.map(function(z){return z.contract})},je.prototype.addReport=function(z){this.reportCollectionService.addReport(z),this.reportStore.ensure(z.contract)},je.prototype.getReportModels=function(z){var De,ne=this;return z?(this.reportStore.getReportsByGroupId(z).subscribe(function(Qe){De=Qe.map(function(gt){return ne.modelConverter.convertReport(gt)})}),De):this.reports},je.prototype.findReport=function(z,ne){return null!=z?_.find(this.getReportModels(ne),function(De){return De.id===z}):null},je.prototype.mergeArtifactOwnerInfo=function(z,ne){z.ownerFullname=(0,Ir.P)(ne.givenName,ne.familyName),z.ownerMail=ne.emailAddress,ne.userObjectId&&(z.ownerUserObjectId=ne.userObjectId),ne.groupObjectId&&(z.ownerGroupObjectId=ne.groupObjectId),z.contract.ownerInfo||(z.contract.ownerInfo=ne)},je.prototype.mergeReport=function(z,ne){z&&ne&&(z.contract=ne,z.id=ne.id||z.id,z.objectId=ne.objectId||z.objectId,z.modelId=ne.modelId||z.modelId,z.reportUrl=ne.reportUrl||z.reportUrl,z.getPermissionsCallback=function(){return ne.permissions},z.packagePublishStatus=ne.packagePublishStatus||z.packagePublishStatus,z.name=ne.name||z.name,z.displayName=ne.displayName||z.displayName,z.description=ne.description||z.description,z.fileName=ne.fileName||z.fileName,z.packageId=ne.packageId||z.packageId,z.packageVersion=ne.packageVersion||z.packageVersion,z.contentProviderId=ne.contentProviderId||z.contentProviderId,z.isHidden=ne.isHidden,ne.ownerInfo&&this.mergeArtifactOwnerInfo(z,ne.ownerInfo))},je}(),st=function(){function je(){this.collection=new k}return Object.defineProperty(je.prototype,"workbooks",{get:function(){return this.collection.items},set:function(ne){this.collection.setItems(ne)},enumerable:!1,configurable:!0}),je.prototype.getWorkbookContracts=function(){return _.map(this.workbooks,function(z){return z.contract})},je}(),xt=t(529888),_t=function(je){return je[je.NamedRange=0]="NamedRange",je[je.Parameter=1]="Parameter",je[je.Table=2]="Table",je[je.PivotTable=3]="PivotTable",je[je.Chart=4]="Chart",je[je.WebExtension=5]="WebExtension",je}({}),qt=function(){function je(z,ne,De,Qe,gt){this.workbookStore=gt,this.workbookCollectionService=Qe,this.telemetryService=z,this.workbookHttpService=ne,this.promiseFactory=De,this.wopiDataTTL=new Array,this.deferredWopiData=Array()}return Object.defineProperty(je.prototype,"workbooks",{get:function(){return this.workbookCollectionService.workbooks},set:function(ne){this.workbookCollectionService.workbooks=ne},enumerable:!1,configurable:!0}),je.prototype.getWorkbookContracts=function(){return this.workbookCollectionService.getWorkbookContracts()},je.prototype.findWorkbook=function(z,ne){return ne?_.find(this.workbooks,function(De){return De.id===z&&De.packageId===ne}):_.find(this.workbooks,function(De){return De.id===z&&De.isOwner()})},je.prototype.getWorkbookUniqueId=function(z){return z.uniqueId},je.prototype.haveWorkbookEmbedAccessData=function(z){var De=this.wopiDataTTL[z];return!(!this.deferredWopiData[z]||De&&!(De>(new Date).getTime()))},je.prototype.getWorkbookEmbedAccessData=function(z,ne,De){var Qe=this;if(De)var gt=this.telemetryService.startChildEvent(De,xt.vF);else gt=this.telemetryService.startEvent(xt.vF);if(this.haveWorkbookEmbedAccessData(z))return gt.resolve(),this.deferredWopiData[z].promise;var wt=this.promiseFactory.defer();this.deferredWopiData[z]=wt,this.wopiDataTTL[z]=null;var Ht=!1;return this.workbookHttpService.getWorkbookWopiData(z,gt.event).then(function(Jt){if(Jt.data&&Jt.data.accessToken&&Jt.data.url){var rr=Jt.data;Qe.wopiDataTTL[z]=rr.accessTokenTtl,Qe.deferredWopiData[z].resolve(rr),gt.resolve()}else Ht=!0},function(){Ht=!0}).finally(function(){Ht&&(Qe.deferredWopiData[z].reject(),Qe.deferredWopiData[z]=null,gt.reject())}),wt.promise},je.prototype.getTileSelectionQuery=function(z,ne,De,Qe){var gt="";return De===_t.Chart&&Qe&&(gt="Sheets('"+Qe+"')/"),gt+=this.getNamedItemTypeAsString(De)+"('",z?gt+=z:ne&&(gt+=ne),encodeURIComponent(gt+"')")},je.prototype.encodeImageTileQueryString=function(z){var ne=encodeURI(z);return(ne=(ne=ne.replace(/\'/g,"%27")).replace(/\(/g,"%28")).replace(/\)/g,"%29")},je.prototype.getNamedItemTypeAsString=function(z){switch(z){case _t.NamedRange:return"Ranges";case _t.Parameter:return"Parameters";case _t.Table:return"Tables";case _t.PivotTable:return"PivotTables";case _t.Chart:return"Charts"}return"Ranges"},je.prototype.getWorkbookTilePreviewImageUrl=function(z){var ne=this,De=this.promiseFactory.defer();return this.getWorkbookEmbedAccessData(z.workbookId,z.packageId).then(function(Qe){if(z.$config.workbookTile){var gt=Qe.url.replace(/ExcelJs.ashx/i,"/XlRestInternal.aspx"),wt=ne.encodeImageTileQueryString(ne.getTileSelectionQuery(z.$config.workbookTile.item,z.$config.workbookTile.activeSelection,z.$config.workbookTile.itemType,z.$config.workbookTile.sheetName));De.resolve(gt+="&framemode=proxy&wdRestQuery=$format=image&wdRestPart=Model/"+wt+"&access_token="+Qe.accessToken+"&access_token_ttl="+Qe.accessTokenTtl)}else De.reject()},function(){De.reject()}),De.promise},je.prototype.getWorkbookTileBestImageUrl=function(z){if(z.hasImages()){var ne=z.images,De=-1,Qe=-1,gt=z.tileModel.layoutPosition,wt=(0,ce.p2)({colSpan:gt.width,rowSpan:gt.height}),Ht=Number.MAX_VALUE,Jt=Number.MIN_VALUE,rr=window.devicePixelRatio;if(wt.width=wt.width*rr,wt.height=wt.height*rr,z.keepOriginalContentSize)return u.fF.assertValue(ne[0].imageUrl,"expecting an image URL for a workbook image entry"),ee.b$.getAbsoluteUri(ne[0].imageUrl);for(var cr=0;cr<ne.length;cr++){ne[cr].width>Jt&&(Jt=ne[cr].width,Qe=cr);var Tr=Math.max(ne[cr].width-wt.width,ne[cr].height-wt.height);Tr>=0&&Tr<Ht&&(Ht=Tr,De=cr)}return-1===De&&(De=Qe),u.fF.assertValue(ne[De].imageUrl,"expecting an image URL for a workbook image entry"),ee.b$.getAbsoluteUri(ne[De].imageUrl)}return z.image?"data:image/png;base64,"+z.image:""},je.prototype.setModelDynamicImageUrl=function(z){z.dynamicImageUrl=this.getWorkbookTileBestImageUrl(z),z.dynamicImageUrl||(z.dynamicImageUrl=z.previewImageUrl)},je}();function Er(){Br||(angular.module("powerbi.dataServices",[]),et(),angular.module("powerbi.dataServices",["powerbi.common","powerbi.visualHost"]).factory("dashboardCollection",[function(){return new Bt}]).factory("modelCollection",[function(){return new Mt}]).factory("packageCollection",[function(){return new nr}]).factory("reportCollection",[function(){return new jt}]).factory("workbookCollection",[function(){return new st}]).factory("reportService",["telemetryService","reportModelConverter","appMetadataService","promiseFactory","reportCollection","reportStore","groupStore",function(z,ne,De,Qe,gt,wt,Ht){return function(je,z,ne,De,Qe,gt,wt){return new Ct(je,z,ne,De,Qe,gt,wt)}(z,ne,De,Qe,gt,wt,Ht)}]).factory("workbookService",["telemetryService","workbookHttpService","promiseFactory","workbookCollection","workbookStore",function(z,ne,De,Qe,gt){return function(je,z,ne,De,Qe){return new qt(je,z,ne,De,Qe)}(z,ne,De,Qe,gt)}]).factory("modelService",["telemetryService","datasetModelConverter","modelHttpService","appMetadataService","promiseFactory","modelCollection","permissionService","datasetStore","datasetRefreshListener",function(z,ne,De,Qe,gt,wt,Ht,Jt,rr){return function(je,z,ne,De,Qe,gt,wt,Ht,Jt){return new tr(je,z,ne,De,Qe,gt,wt,Ht,Jt)}(z,ne,De,Qe,gt,wt,Ht,Jt,rr)}]).factory("dashboardDataService",["dashboardHttpService","groupStore","promiseFactory","dataServiceModelConverter","dataServiceModelMerger","modelService","dashboardCollection","$timeout","dashboardStore","appMetadataService","permissionService","reportService","datasetRefreshListener","workbookService","reportStore",function(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr){return function(je,z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr){return new or(je,z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr)}(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr)}]).factory("dashboardSyncService",["$rootScope","dashboardDataService","dashboardHttpService","dataServiceModelConverter","dataServiceModelMerger","modelService","promiseFactory","reportService","resourcePackageListenerService","resourcePackagesService","telemetryService","workbookService","dashboardStore","globalEventBridge","featureSwitchService","publicCustomVisualService",function(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr){return function(je,z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr){return new ut(je,z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr)}(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr)}]).factory("dataServiceModelConverter",["visualHostAuthenticationService","explorationSerializer","featureSwitchService","geocoder","geolocationService","localizationService","moduleLoader","permissionService","promiseFactory","reportModelConverter","telemetryService","themeService","tileConfigUpgraderService","visualHostTooltipServiceFactory","visualPlugin","appModelConverter","$injector","datasetModelConverter","packageModelConverter",function(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr,kr,Xr,ei){return function(je,z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr,kr,Xr,ei){return new hr(je,z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr,kr,Xr,ei)}(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr.create(),(0,ue.f)(Kr,De),Kr,Wr,kr,Xr,ei)}]).factory("dataServiceModelMerger",["dataServiceModelConverter","permissionService",function(z,ne){var De=function(je,z){return new dt(je,z)}(z,ne);return z.setModelMerger(De),De}]).factory("packageService",["packageModelConverter","packageCollection","packageStore",function(z,ne,De){return function(je,z,ne){return new _r(je,z,ne)}(z,ne,De)}]).factory("appService",["dataServiceModelConverter","appStore","dataServiceModelMerger",function(z,ne,De){return function(je,z,ne){return new Ae(je,z,ne)}(z,ne,De)}]),Br=!0)}var Br=!1;"undefined"==typeof angular&&(Br=!0),Er();var ii=t(981519),Si=function(){function je(z,ne,De){this.rootScope=z,this.timeoutService=ne,this.globalEventBridge=De,this.registeredCallbacks=[],this.timedOutTiles=[],this.tileLoadTimeoutInMilliseconds=2e4,this.initState()}return je.prototype.registerLoadingProgressCallback=function(z,ne){this.registeredCallbacks.push(z),ne&&(this.tileLoadTimeoutInMilliseconds=ne)},je.prototype.unregisterLoadingProgressCallback=function(z){_.pull(this.registeredCallbacks,z)},je.prototype.shouldBeIncluded=function(z){return z.shouldBeIncludedInTelemetryMeasurement},je.prototype.startTracking=function(z){var ne=this;z&&(this.unsubcribeTileRepeatFinishedEvent=this.rootScope.$on(G.NkG,function(){return ne.onDashboardTileRepeatFinishedEvent()}),this.unsubscribeTileVisualLoadedEvent=this.globalEventBridge.createChannelSubscriptionManager().subscribe(ii.GA,function(De,Qe){De.stopPropagation(),ne.removeTileIdFromWaitlist(Qe),ne.cancelVisualLoadTimeout(Qe)}),this.dashboardModel=z,this.dashboardLoadingDeferred=new Z.GG)},je.prototype.cancelTracking=function(){this.dashboardModel&&this.completeTracking(this.dashboardModel,!0),this.dashboardModel=null},je.prototype.dashboardLoadingCompleted=function(){return this.dashboardLoadingDeferred&&this.dashboardLoadingDeferred.promise},je.prototype.onDashboardTileRepeatFinishedEvent=function(){var z=this;if(this.dashboardModel){for(var De=function(rr){if(Qe.shouldBeIncluded(rr)){var cr=rr.id;_.includes(Qe.tileIdsAlreadyLoaded,cr)||(Qe.tileIdsToWait.push(cr),Qe.cancelVisualLoadTimeout(cr),Qe.timeOutMap[cr]=Qe.timeoutService(function(){z.timedOutTiles.push(rr),z.removeTileIdFromWaitlist(cr)},Qe.tileLoadTimeoutInMilliseconds))}},Qe=this,gt=0,wt=this.dashboardModel.tiles;gt<wt.length;gt++)De(wt[gt]);this.tileRepeatFinishedEventRaised=!0,_.isEmpty(this.tileIdsToWait)&&this.completeTracking(this.dashboardModel,!1)}},je.prototype.removeTileIdFromWaitlist=function(z){this.tileRepeatFinishedEventRaised?_.pull(this.tileIdsToWait,z):this.tileIdsAlreadyLoaded.push(z),this.tileRepeatFinishedEventRaised&&_.isEmpty(this.tileIdsToWait)&&this.completeTracking(this.dashboardModel,!1)},je.prototype.cancelVisualLoadTimeout=function(z){var ne=this.timeOutMap[z];ne&&(this.timeoutService.cancel(ne),delete this.timeOutMap[z])},je.prototype.completeTracking=function(z,ne){this.unsubcribeTileRepeatFinishedEvent&&this.unsubcribeTileRepeatFinishedEvent(),this.unsubcribeTileRepeatFinishedEvent&&this.unsubcribeTileRepeatFinishedEvent(),this.unsubscribeTileVisualLoadedEvent&&(this.unsubscribeTileVisualLoadedEvent.unsubscribeAll(),this.unsubscribeTileVisualLoadedEvent=null);for(var De={model:z,isCancelled:ne,timedOutTiles:this.timedOutTiles},Qe=0,gt=this.registeredCallbacks;Qe<gt.length;Qe++)(0,gt[Qe])(De);this.dashboardLoadingDeferred&&(ne?this.dashboardLoadingDeferred.reject("cancelled"):this.dashboardLoadingDeferred.resolve(z.id)),this.initState()},je.prototype.initState=function(){this.tileIdsToWait=[],this.tileIdsAlreadyLoaded=[],this.timeOutMap={},this.timedOutTiles=[],this.tileRepeatFinishedEventRaised=!1,this.dashboardLoadingDeferred=null},je}(),Hi=function(){function je(z,ne,De){this.globalEventBridge=z,this.dashboardDataService=ne,this.promiseFactory=De}return je.prototype.selectById=function(z){var ne=this.dashboardDataService.selectedDashboardTile;if(!ne||!ne.isSelected||ne.id!==z){var De=this.dashboardDataService.activeDashboard;if(!De||!De.tiles)return void u.fF.assertFail("no active dashboard or tiles");var Qe=_.find(De.tiles,function(wt){return wt.id===z}),gt=_.find(De.tiles,function(wt){return wt.objectId===z});if(!Qe&&!gt)return void u.fF.assertFail("no tile matching id ".concat(z));this.select(Qe||gt)}},je.prototype.select=function(z){u.fF.assertValue(z,"tile to be selected must not be null");var ne=this.dashboardDataService.selectedDashboardTile;ne&&(ne.isSelected=!1),z.isSelected=!0,this.dashboardDataService.selectedDashboardTile=z},je.prototype.getSelected=function(){var z=this.dashboardDataService.selectedDashboardTile;return this.promiseFactory.resolve(z&&z.isSelected?z:void 0)},je.prototype.clearSelected=function(){var z=this.dashboardDataService.selectedDashboardTile;null!=z&&(z.isSelected=!1,this.dashboardDataService.selectedDashboardTile=null)},je.prototype.scrollToSelectedTile=function(){this.globalEventBridge.publishToChannel(ii.ii)},je}(),Gi=function(){function je(z,ne){this.dashboardDataService=z,this.promiseFactory=ne}return je.prototype.isTileSpotlighted=function(z){var ne=this.dashboardDataService.activeDashboard;return this.promiseFactory.resolve(!(!ne||!ne.tiles)&&_.some(ne.tiles,function(De){return De.hasSpotlight&&De.id===z}))},je.prototype.isLegacySpotlightSet=function(){var z=this.dashboardDataService.activeDashboard;return!(!z||!z.tiles)&&_.some(z.tiles,function(ne){return ne.hasSpotlight})},je.prototype.setSpotlight=function(z){var ne=this.dashboardDataService.activeDashboard;if(ne&&ne.tiles)for(var De=0,Qe=ne.tiles;De<Qe.length;De++){var gt=Qe[De];if(gt.id===z){gt.hasSpotlight=!0;break}}},je.prototype.clearSpotlights=function(){var z=this.dashboardDataService.activeDashboard;if(z&&z.tiles)for(var ne=0,De=z.tiles;ne<De.length;ne++)De[ne].hasSpotlight=!1},je}(),Mi=["powerbi.common","powerbi.dataServices"];function Qi(){xi||(et(),Er(),angular.module("powerbi.dashboard",Mi).factory("dashboardLoadingProgressTracking",["$rootScope","$timeout","globalEventBridge",function(je,z,ne){return function(je,z,ne){return new Si(je,z,ne)}(je,z,ne)}]).factory("tileSelectionServiceLegacy",["globalEventBridge","dashboardDataService","promiseFactory",function(je,z,ne){return function(je,z,ne){return new Hi(je,z,ne)}(je,z,ne)}]).factory("tileSpotlightServiceLegacy",["dashboardDataService","promiseFactory",function(je,z){return function(je,z){return new Gi(je,z)}(je,z)}]),xi=!0)}window.dashboardDefined=!0;var xi=!1;"undefined"==typeof angular&&(xi=!0),Qi();var Ni=t(227099),Ri={controller:T(function(){function je(z,ne){var De=this;this.scope=z,this.services=ne,this.imageLoaded=!1,this.scope.$watch(function(){return De.source},function(Qe){Qe&&!De.disableAnimation&&(De.imageLoaded=!1)})}return je.createOptions=function(){return{additionalServices:["localizationService"]}},je.prototype.onLoad=function(){this.imageLoaded=!0},je.prototype.onError=function(){this.scope.$emit(G.bb_,this.services.localizationService.get("Tile_ErrorText"))},je}()),bindings:{source:"@",disableAnimation:"<?",altText:"@?"},templateUrl:"components/printableImage/printableImage.html"},Xi=t(514926),ha=t(175547),_i=t(902731),Zi=t(227871),ta=function(){function je(z){this.isLayoutLocked=!0,this.willOverrideDisplayPosition=!0,this.gridItemSpacing=12,this.isDynamic=!1,this.tileTypeRowSpanMap={},this.visualTypeRowSpanMap={},this.gridWidth=z-this.gridItemSpacing,this.gridHeight=Math.round(.1111*this.gridWidth),this.gridMinWidthOnResize=this.gridWidth-10,this.gridMinHeightOnResize=this.gridHeight-10,this.gridMaxWidthOnResize=this.gridWidth*(0,W.bq)(),this.gridMaxHeightOnResize=this.gridHeight*(0,W.bq)(),this.tileTypeRowSpanMap[Ur.YU.report]=7,this.visualTypeRowSpanMap[Zi.L.card.name]=4,this.visualTypeRowSpanMap[Zi.L.animatedNumber.name]=4,this.visualTypeRowSpanMap[Zi.L.textbox.name]=4}return je.prototype.calculateDisplayPositions=function(z){for(var De=1,Qe=0,gt=(0,Qt.xT)(_.map(z,function(Ht){return{pos:Ht.getLayoutPosition(),item:Ht}}));Qe<gt.length;Qe++){var wt=gt[Qe];wt.displayCol=1,wt.displayRow=De,this.calculateDisplaySize(wt),De+=wt.displaySize.rowSpan}this.removeScale()},je.prototype.calculateDisplaySize=function(z){var ne=this.getRowSpan(z);z.displaySize={colSpan:1,rowSpan:ne}},je.prototype.getRowSpan=function(z){var ne=z.gridItem,De=this.tileTypeRowSpanMap[ne.type];if(!De&&ne.composite){var Qe=ne.composite;null!==Qe&&(De=this.visualTypeRowSpanMap[Qe.visual.type])}return De||6},je.prototype.removeScale=function(){$(Or.Gu).removeAttr("style")},je}(),Ii=t(129428),zi=t(12490),fi=t(513043),Ti=t(318598),ra=function(){function je(z,ne){var De=this,Qe=this.scope=z;this.services=ne,Qe.scrollbarsConfig={ignoreOverlay:!1,ignoreMobile:!1},Qe.tileTrackerFn=function(vr){return(0,Ii.x8)(vr,Qe.viewModel.objectId)},Qe.useCustomScrollbar=function(){return 0!==Qe.displayLayout&&1===Qe.mobileLayout},Qe.fullScreen=ne.fullScreen,Qe.permissionServices=ne.permissionService,Qe.showReloadDashboard=!1,Qe.filteredTiles=function(){return De.filteredTiles()},Qe.removeTileFromMobileView=function(vr){return De.removeTileFromMobile(vr)},Qe.calculatePrintStyles=function(vr){return De.calculatePrintStyles(vr)},Qe.canEditTiles=function(){return De.canEditTiles()},Qe.tileSorter=Qe.tileSorter||function(vr){return vr},Qe.gridLayoutChangeHandler=function(vr){return De.services.dashboardService.batchUpdateTileSizePosition(De.scope.viewModel,vr)};var gt=ne.rootScope,wt=gt.$on(fi.ey2,function(vr,Sr){return De.onOpenTile(vr,Sr)}),Ht=Qe.keepDashboardOnLoadFail?_.noop:gt.$on(fi.M4y,function(){Qe.showReloadDashboard=!0}),Jt=Qe.$on(fi.Dyo,function(vr,Sr){var Tr=ne.dashboardDataService.activeDashboard;Tr&&ne.dashboardService.refreshTileData(Tr.id,Sr)}),rr=function(){switch(Qe.fullScreen.fitStyle){case 1:Qe.scaleDashboard();break;case 2:Qe.scaleDashboard(!0)}};$(ne.$window).on("resize",rr);var cr=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(ii.ii,function(){De.scrollToSelectedTile()});Qe.$on("$destroy",function(){Qe.onDestroy&&Qe.onDestroy(),wt(),Jt(),Ht(),cr.unsubscribeAll(),$(ne.$window).off("resize",rr)}),Qe.reloadActiveDashboard=function(){return De.reloadActiveDashboard()},Qe.$watch("viewModel.isLoaded",function(vr){vr&&De.services.asyncFeatureSwitchService.getFeatureSwitches().then(function(Sr){Sr.consumePublicCvsWithoutRps?De.ensurePublicResourcePackages():De.acquireTrustedVisuals(Qe.viewModel,ne.trustedVisual).then(function(Tr){return De.reloadTrustedVisuals(Tr)})})}),Qe.gridLayoutCallbacks={onResize:function(){return De.services.overlayService.hideAllDropdowns()}}}return je.createOptions=function(){return{additionalServices:["$injector","dashboardDataService","dashboardHttpService","dashboardService","errorService","asyncFeatureSwitchService","modelConverter","overlayService","navigation","telemetryService","visualPlugin","$element","lazyProviderModern","localizationService","fullScreen","permissionService","$window","trustedVisual","globalEventBridge","publicCustomVisualService","promiseFactory"],scopedDependencies:["eventBridge"]}},je.prototype.calculatePrintStyles=function(z){var De=this.scope.gridLayoutContainer.containerWidth+40,Qe=this.scope.gridLayoutContainer.containerHeight,gt=B.J8.getPrintTargetViewPort(z),wt=B.J8.calculateScaleFactor({width:De,height:Qe},gt);return wt<=0?{}:{transform:"scale("+wt+") !important","-webkit-transform":"scale("+wt+") !important",width:De+"px !important",height:Qe+"px !important",overflow:"visible !important"}},je.prototype.ensurePublicResourcePackages=function(){for(var ne,De,Qe,gt,wt,z=this,Jt=[],rr=0,cr=this.scope.viewModel.tiles;rr<cr.length;rr++){var vr=cr[rr],Sr=vr.type===Ur.YU.composite&&(null===(wt=null===(gt=null===(Qe=null===(De=null===(ne=vr.config)||void 0===ne?void 0:ne.visualContainer)||void 0===De?void 0:De.$visualContainer)||void 0===Qe?void 0:Qe.config)||void 0===gt?void 0:gt.singleVisual)||void 0===wt?void 0:wt.visualType);Sr&&Jt.push(Sr)}var Tr;return this.services.publicCustomVisualService.getPublicVisualTypes(Jt).then(function(Rr){return z.services.publicCustomVisualService.createPublicResourcePackagesByName(Tr=Rr)}).then(function(Rr){return z.services.visualPlugin.ensurePlugins(Rr)}).catch(function(Rr){u.fF.assertFail("failed to load public custom visuals:"+Rr)}).finally(function(){z.reloadPublicVisuals(Tr)})},je.prototype.reloadPublicVisuals=function(z){this.services.globalEventBridge.publishToChannel(zi.W,{visualTypes:z})},je.prototype.reloadTrustedVisuals=function(z){_.isEmpty(z)||(this.services.visualPlugin.ensureTrustedVisualPlugins(z),this.services.globalEventBridge.publishToChannel(zi.W,{visualTypes:z.map(function(ne){return ne.name})}))},je.prototype.onOpenTile=function(z,ne){z&&z.stopPropagation&&z.stopPropagation(),this.scope.$emit(fi.pMZ,ne,this.scope.viewModel.id),this.services.globalEventBridge.publishToChannel(Ti.fs,ne)},je.prototype.scrollToSelectedTile=function(){var z=this.services.$element,ne=z.find(".dashboardTile.selected");if(ne.length>0){var De=z.offset(),Qe=ne.offset();z.animate({scrollTop:Qe.top-De.top+z.scrollTop(),scrollLeft:Qe.left-De.left+z.scrollLeft()})}},je.prototype.onScaleChanged=function(z){this.services.eventBridge.publishToChannel(ii.OM,z)},je.prototype.canEditDashboard=function(z){return z.canEdit&&!this.services.permissionService.isActiveWorkspaceIsReadOnlyLegacy&&!this.services.fullScreen.fullScreenMode},je.prototype.canEditTiles=function(){return this.scope.viewModel.canEdit&&!this.scope.permissionServices.isActiveWorkspaceIsReadOnlyLegacy&&!this.scope.fullScreen.fullScreenMode},je.prototype.filteredTiles=function(){var z=this.scope.viewModel&&this.scope.viewModel.tiles;if(_.isEmpty(z))return[];this.scope.enableStrategySwap&&this.swapLayoutIfNeeded();var ne=this.scope.displayLayout||0;return 0!==ne&&(z=_.filter(z,function(De){return De.hasLayoutPosition(ne)})),this.scope.tileSorter(z)},je.prototype.swapLayoutIfNeeded=function(){var z=this.scope.viewModel.gridLayoutService;if(z){var De=_.some(this.scope.viewModel.tiles,function(Qe){return Qe.hasLayoutDefinition(1)});(z.strategy instanceof ta&&De||z.strategy.isDynamic&&!De)&&(this.scope.$emit(G.j7U),this.services.globalEventBridge.publishToChannel(Ti.P))}},je.prototype.removeTileFromMobile=function(z){if(u.fF.assertValue(z,"can not remove tile which does not exist"),1===this.scope.displayLayout&&z.gridLayoutContext){var ne=[];ne.push(z.removeLayoutPosition()),this.services.dashboardService.batchUpdateTileSizePosition(this.scope.viewModel,ne)}},je.prototype.reloadActiveDashboard=function(){this.scope.showReloadDashboard=!1,this.services.dashboardService.loadDashboard(this.scope.viewModel.id,!0)},je.prototype.acquireTrustedVisuals=function(z,ne){u.fF.assertValue(z,"dashboardModel"),u.fF.assertValue(ne,"trustedVisual");for(var De=[],Qe=0,gt=z.tiles;Qe<gt.length;Qe++){var wt=gt[Qe],Ht=wt.type===Ur.YU.composite&&wt.config&&wt.config.visualContainer&&wt.config.visualContainer.$visualContainer.config.singleVisual.visualType;!Ht||!ne.isTrustedVisual(Ht)||De.push(Ht)}return ne.getConsentAndLoadVisuals(De)},je}(),vi=t(459150),ia=function(){function je(z,ne,De,Qe,gt,wt,Ht){var Jt=this;this.telemetryService=z,this.dashboardLoadingProgressTrackingService=Qe,this.modelService=gt,this.usageMetricsReport=wt,this.scope=Ht,this.hasResolved=!1,this.unsubcribeTileRepeatFinishedEvent=Ht.$on(G.NkG,function(){return Jt.onDashboardTileRepeatFinishedEvent()}),this.dashboardLoadingProgressCallback=function(rr){Jt.onDashboardLoadingCompleted(rr)},this.dashboardLoadingProgressTrackingService.registerLoadingProgressCallback(this.dashboardLoadingProgressCallback)}return je.prototype.recordOpenDashboardEvent=function(z,ne,De,Qe,gt,wt,Ht,Jt){if(z&&!this.openDashboardTelemetryEvent&&!this.hasResolved){this.dashboardModel=z;var rr=z.getPermissions();this.openDashboardTelemetryEvent=this.telemetryService.startActivity(this.scope,vi.B6,{hasResourcePackages:!1,hasOnPremiseModel:this.dashboardHasOnPremModel(z,this.modelService.models),compositeTilesCount:0,iframeTilesCount:0,imageTilesCount:0,modelTilesCount:0,ssrsTilesCount:0,workbookTilesCount:0,reportTilesCount:0,workbookTileNoImage:0,otherTileTypes:0,realTimeTilesCount:0,source:this.getDashboardOpenSource(),groupObjectId:De,isReadonlyGroup:gt,permissions:rr,usageMetricsTilesCount:0,CompoundTileTypesAndCounts:"{}",scrubUserInfo:wt,isB2B:Ht,compositeTilesWithSystemErrorCount:0,endorsementStage:Jt,originalDashboardGuid:z.contract&&z.contract.originalDashboardObjectId,appGuid:ne,serviceAppObjectId:Qe,dashboardGuid:z.objectId}),z.isLoaded&&_.isEmpty(z.tiles)&&this.resolveOpenDashboardTelemetry(z,!1)}},Object.defineProperty(je.prototype,"OpenDashboardTelemetryEvent",{get:function(){return this.openDashboardTelemetryEvent},enumerable:!1,configurable:!0}),je.prototype.getDashboardOpenSource=function(){var z=Gr.s.getQueryStringValue("openDashboardSource");return z?vi.ZP[z]||vi.ZP.Invalid:vi.ZP.Normal},je.prototype.onDashboardTileRepeatFinishedEvent=function(){if(this.openDashboardTelemetryEvent){for(var ne=0,De=0,Qe=this.dashboardModel.tiles;De<Qe.length;De++)Qe[De].shouldBeIncludedInTelemetryMeasurement&&ne++;this.loadDashboardTileTelemetryEvent=this.telemetryService.startChildEvent(this.openDashboardTelemetryEvent.event,vi.qx,{tileCount:ne})}},je.prototype.onDashboardLoadingCompleted=function(z){for(var ne=0,De=z.timedOutTiles;ne<De.length;ne++){var Qe=De[ne];this.telemetryService.logEvent(vi.zl,{visualType:Qe.composite&&Qe.composite.visual&&Qe.composite.visual.type})}this.resolveOpenDashboardTelemetry(z.model,z.isCancelled),this.recordLockedTilesDisplayedEvent(z.model)},je.prototype.resolveOpenDashboardTelemetry=function(z,ne){if(this.openDashboardTelemetryEvent){var De=this.countTileTypes(z);if(this.openDashboardTelemetryEvent.event){var Qe=this.openDashboardTelemetryEvent.event.info;Qe&&(Qe.compositeTilesWithSystemErrorCount=De.compositeWithSystemError,Qe.hasResourcePackages=De.hasResourcePackages,Qe.compositeTilesCount=De.composite,Qe.iframeTilesCount=De.iframe,Qe.imageTilesCount=De.image,Qe.modelTilesCount=De.model,Qe.ssrsTilesCount=De.ssrs,Qe.workbookTilesCount=De.workbook,Qe.reportTilesCount=De.report,Qe.workbookTileNoImage=De.workbookNoImage,Qe.otherTileTypes=De.unknown,Qe.realTimeTilesCount=De.realTime,Qe.usageMetricsTilesCount=De.usageMetrics,Qe.CompoundTileTypesAndCounts=JSON.stringify(De.CompoundTileTypesAndCounts),ne&&(Qe.isCancelled=!0))}this.loadDashboardTileTelemetryEvent&&this.loadDashboardTileTelemetryEvent.resolve(),De.compositeWithSystemError>0&&De.compositeWithSystemError===De.composite?this.openDashboardTelemetryEvent.reject():this.openDashboardTelemetryEvent.resolve(),this.openDashboardTelemetryEvent=null,this.loadDashboardTileTelemetryEvent=null,this.dashboardLoadingProgressTrackingService.unregisterLoadingProgressCallback(this.dashboardLoadingProgressCallback),this.hasResolved=!0,this.unsubcribeTileRepeatFinishedEvent()}},je.prototype.countTileTypes=function(z){var ne={compositeWithSystemError:0,composite:0,iframe:0,image:0,model:0,realTime:0,ssrs:0,workbook:0,workbookNoImage:0,report:0,unknown:0,hasResourcePackages:!1,usageMetrics:0,CompoundTileTypesAndCounts:{}};if(_.isEmpty(z.tiles))return ne;for(var De=0,Qe=z.tiles;De<Qe.length;De++){var gt=Qe[De];this.incTileTypeCount(gt,ne),!ne.hasResourcePackages&&gt&&gt.contract&&!_.isEmpty(gt.contract.resourcePackageIds)&&(ne.hasResourcePackages=!0)}return ne},je.prototype.incTileTypeCount=function(z,ne){switch(z.type){case Ur.YU.composite:ne.composite++;var De=z&&z.composite&&z.composite.errorDetails;De&&"PowerBI"===De.source&&ne.compositeWithSystemError++,this.usageMetricsReport.fromUsageMetrics(z.report)&&ne.usageMetrics++;var Qe=z.config&&z.config.visual&&z.config.visual.visual?z.config.visual.visual:"undefined";ne.CompoundTileTypesAndCounts[Qe]||(ne.CompoundTileTypesAndCounts[Qe]=0),ne.CompoundTileTypesAndCounts[Qe]++;break;case Ur.YU.iframe:ne.iframe++;break;case Ur.YU.image:ne.image++;break;case Ur.YU.realTime:ne.realTime++;break;case Ur.YU.model:ne.model++;break;case Ur.YU.ssrs:ne.ssrs++;break;case Ur.YU.workbook:z.workbook?z.workbook.hasImages()&&ne.workbook++:ne.workbookNoImage++;break;case Ur.YU.report:ne.report++,this.usageMetricsReport.fromUsageMetrics(z.report)&&ne.usageMetrics++;break;default:ne.unknown++}},je.prototype.dashboardHasOnPremModel=function(z,ne){var De=z.contract.modelIds;if(_.isEmpty(De))return!1;for(var Qe={},gt=0,wt=ne;gt<wt.length;gt++){var Ht=wt[gt];if(Ht.vsName===G.ly2){var Jt=Ht.id;null!=Jt&&(Qe[Jt]=Jt)}}for(var rr=0,cr=De;rr<cr.length;rr++)if(Qe[cr[rr]])return!0;return!1},je.prototype.recordLockedTilesDisplayedEvent=function(z){if(!_.isEmpty(z.tiles)){var De=_.filter(z.tiles,function(Qe){return 20===Qe.errorCode});_.isEmpty(De)||this.telemetryService.logEvent(vi.Yc,{dashboardObjectId:z.objectId,numberOfLockedTiles:De.length,numberOfAllTiles:z.tiles.length,objectIdsOfLockedTiles:JSON.stringify(_.map(De,function(Qe){return Qe.objectId}))})}},je}(),Ea=function(){return function(){this.restrict="E",this.templateUrl="views/dashboardWrapper.html",this.scope={viewModel:"=",displayLayout:"<",disablePointerEvents:"<?",mobileLayout:"<?",inEditMobileLayoutMode:"<?",isGroupTransitionDelayed:"<",enableStrategySwap:"<?",tileSorter:"=?",dashboardTileTouchAction:"@",keepDashboardOnLoadFail:"<?",disableKeyboardNav:"<?",hideSpinner:"<?"}}}(),Pa=function(){function je(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr){var kr=this;this.telemetryService=z,this.gridLayout=ne,this.userActivityContextService=De,this.appService=Qe,this.userInfo=gt,this.timeout=wt,this.folderService=Ht,this.dashboardLoadingProgressTrackingService=Jt,this.modelService=rr,this.permissionService=cr,this.usageMetricsReport=vr,this.asyncFeatureSwitchService=Sr,this.packageService=Tr,this.informationProtectionService=Rr,this.artifactEndorsementService=Kr,this.globalEventBridge=Wr,this.restrict="E",this.templateUrl="views/dashboard.html",this.replace=!0,this.scope={viewModel:"=",displayLayout:"<",disablePointerEvents:"<?",mobileLayout:"<?",inEditMobileLayoutMode:"<?",isGroupTransitionDelayed:"<",enableStrategySwap:"<?",tileSorter:"=?",dashboardTileTouchAction:"@",keepDashboardOnLoadFail:"<?",disableKeyboardNav:"<?",hideSpinner:"<?"},this.controller=T(ra),this.link=function(Xr,ei,gi,Ci){var hi=-1,Ei=!1;Xr.dashboardTileTouchAction=_.isEmpty(Xr.dashboardTileTouchAction)?"pan-y":Xr.dashboardTileTouchAction;var La=pe.getRefreshAllHandler();Xr.scaleDashboard=function(oi){var $i=Xr.gridLayoutContainer.containerWidth+je.TileContainerPixelPadding,Ki=Xr.gridLayoutContainer.containerHeight,Xa=ei.parent().width(),Da=ei.parent().height(),va=je.calculateDashboardScaleFactor($i,Ki,Xa,Da,oi);va<=0||(ei.css({transform:"scale("+va+")",width:$i+"px",height:oi?Da/va+"px":Ki+"px"}).addClass(je.DashboardFitToScreenCSSClass),Ci.onScaleChanged(va),La())};var pa=Xr.fullScreen,Ba={onFitStyleChanged:function(){switch(pa.fitStyle){case 1:Xr.scaleDashboard();break;case 2:Xr.scaleDashboard(!0);break;case 0:ei.removeAttr("style").removeClass(je.DashboardFitToScreenCSSClass),Ci.onScaleChanged()}},onFullScreenModeChanged:_.noop};pa.subscribe(Ba),Xr.$watch("viewModel",function(oi,$i){var Ki;if(oi&&$i&&oi.id!==$i.id){oi.gridLayoutService=$i.gridLayoutService,oi.gridLayoutService.strategy=new ha.Q,oi.gridLayoutService.displayLayout=0;var Xa=oi.tiles;if(Xa)for(var Da=0,va=Xa;Da<va.length;Da++){var Ua=va[Da];Ua.gridLayoutContext&&Ua.gridLayoutContext.setActiveLayout(0),Ua.invalidateLayout()}}if(oi){var cn,un=null;kr.appService&&oi.contract&&(un=(0,Xi.$3)(oi,kr.appService),cn=null===(Ki=oi.contract)||void 0===Ki?void 0:Ki.contentProviderId);var dn=null;if(kr.packageService&&oi.contract){var hn=_((0,s.__spreadArray)([oi.contract.originalPackageId],oi.contract.packageIds||[],!0)).map(function(Yi){return _.get(kr.packageService.findPackage(Yi),"contract")}).groupBy("folderId").value(),fn=_.find(kr.packageService.packages,function(Yi){return hn[Yi.contract.folderId]&&Yi.contract.serviceAppObjectId});dn=fn&&fn.contract.serviceAppObjectId}kr.dashboardLoadingProgressTrackingService.cancelTracking(),kr.telemetryHelper=new ia(kr.telemetryService,kr.userActivityContextService,kr.timeout,kr.dashboardLoadingProgressTrackingService,kr.modelService,kr.usageMetricsReport,Xr),kr.asyncFeatureSwitchService.getFeatureSwitches().then(function(Yi){var on,sn,vn;Yi&&Yi.trackUserInfo&&!Yi.usageMetricsTrackUserLevelInfoEnabled&&(vn=!0),kr.recordOpenDashboardTelemetry(oi,Yi,cn,un,dn,vn),kr.informationProtectionService.logDownstreamUsageInOpenDashboardFlow(oi.id,null===(on=oi.contract)||void 0===on?void 0:on.reportIds,null===(sn=oi.contract)||void 0===sn?void 0:sn.modelIds)}),kr.dashboardLoadingProgressTrackingService.startTracking(oi),kr.gridLayout&&(oi.gridLayoutService=kr.gridLayout);var pn=Xr.displayLayout||0;u.fF.assert(function(){return _.isNumber(pn)},"Dashboard directive. currentDisplayLayout should be a const enum of powerbi.common.contracts.CanvasLayout"),oi.currentDisplayLayout=pn}Ei=!0,window.clearTimeout(hi),ei.scrollTop(0).scrollLeft(0).addClass(je.TransitioningCSSClass)}),Xr.$watch("viewModel.isLoaded",function(oi,$i){var Ki=kr.doesModelContainsTilesByLayout(Xr.viewModel,Xr.displayLayout);oi&&!$i&&Ki&&Xr.$emit(G.NkG)}),Xr.onDestroy=function(){var oi;kr.dashboardLoadingProgressTrackingService.cancelTracking(),pa.unsubscribe(Ba),null===(oi=kr.artifactEndorsementSubscription)||void 0===oi||oi.unsubscribe()},Xr.$on(G.NkG,function(){kr.globalEventBridge.publishToChannel(Ti.DD),0!==Xr.fullScreen.fitStyle&&Ba.onFitStyleChanged(),Ci.scrollToSelectedTile(),Ei&&(hi=window.setTimeout(function(){ei.removeClass(je.TransitioningCSSClass)},2e3),Ei=!1)})}}return je.calculateDashboardScaleFactor=function(z,ne,De,Qe,gt){var wt=De/z;if(gt)return wt;var Ht=Qe/ne;return wt<Ht?wt:Ht},je.prototype.doesModelContainsTilesByLayout=function(z,ne){return z&&(!z.tiles||void 0===ne||0===_.filter(z.tiles,function(De){return De.hasLayoutPosition(ne)}).length)},je.prototype.recordOpenDashboardTelemetry=function(z,ne,De,Qe,gt,wt){var Jt,Ht=this;ne.artifactEndorsementFeatureUI&&De&&Qe?(null===(Jt=this.artifactEndorsementSubscription)||void 0===Jt||Jt.unsubscribe(),this.artifactEndorsementSubscription=this.artifactEndorsementService.getArtifactEndorsement(De,Qe,_i.Bz.App,!1).subscribe(function(rr){var cr=Ht.artifactEndorsementService.getArtifactStageString(rr.stage);Ht.telemetryHelper.recordOpenDashboardEvent(z,Qe,Ht.folderService.activeFolderObjectId,gt,Ht.permissionService.isActiveWorkspaceIsReadOnlyLegacy,wt,Ht.userInfo.isGuestUser,cr)})):this.telemetryHelper.recordOpenDashboardEvent(z,Qe,this.folderService.activeFolderObjectId,gt,this.permissionService.isActiveWorkspaceIsReadOnlyLegacy,wt,this.userInfo.isGuestUser)},je.TransitioningCSSClass="transitioning",je.DashboardTransitionDurationMs=150,je.DashboardAnimationUITransitionType="transition.fadeIn",je.TileContainerPixelPadding=40,je.DashboardFitToScreenCSSClass="fitToScreen",je}(),Ma=function(){return function(){this.restrict="A",this.scope={onLoad:"&",onError:"&?"},this.link=function(z,ne){ne.on("load",function(){z.$applyAsync(function(){z.onLoad()})}),z.onError&&ne.on("error",function(){z.$applyAsync(function(){z.onError()})}),z.$on(G.ebA,function(){ne.off()})}}}(),aa=t(152643),Wa=t(696079),ga=t(221743),Ji=t(905216),Oi=function(){function je(z,ne){var De=this;this.services=ne,this.tileRefreshRetryCount=0,this.unregisterViewModelChanged=function(){return _.noop()},this.unregisterTrustedVisualErrorChanged=function(){return _.noop()},this.scope=z;var Qe=z.viewModel;if(this.visualType=Qe.visual&&Qe.visual.type,Qe.visual&&Qe.contract){var gt=this.services.dashboardDataService.findDashboard(Qe.contract.dashboardId);gt&&(Qe.visual.dashboardId=gt.objectId)}ne.trustedVisual.isTrustedVisual(this.visualType)&&(this.onTrustedVisualErrorChanged(),this.unregisterTrustedVisualErrorChanged=ne.rootScope.$on(Wa.v0,function(){De.onTrustedVisualErrorChanged()})),Qe.updateVisualInteractivityOptions("true"===z.allowInteractivity),this.onViewModelChanged(),this.unregisterViewModelChanged=z.$watch("viewModel",function(){return De.onViewModelChanged()}),z.$on(G.ebA,function(){De.unregisterViewModelChanged(),De.unregisterTrustedVisualErrorChanged(),De.services.dashboardThemeService.unsubscribe(De.themeChangeHandler),De.reloadEmptyVisualsSubscriptionManager&&De.reloadEmptyVisualsSubscriptionManager.unsubscribeAll()}),ne.eventBridge.createChannelSubscriptionManager().subscribe(ii.OM,function(wt,Ht){Qe.calculateLayout(void 0,null,Ht),Qe.applyLayout(W.XM.resized)}),this.themeLoaded=!1,this.ensureThemeLoaded()}return je.createOptions=function(){return{additionalServices:["dashboardDataService","dashboardThemeService","dataProxy","localizationService","modelConverter","telemetryService","visualPlugin","modelService","featureSwitchService","promiseFactory","resourcePackagesService","approvedResourceService","themeService","trustedVisual","globalEventBridge","managedCustomVisualsService"],scopedDependencies:["resourceLoader","eventBridge"]}},je.prototype.$onInit=function(){return(0,s.__awaiter)(this,void 0,i.J,function(){var z;return(0,s.__generator)(this,function(ne){switch(ne.label){case 0:return[4,this.services.managedCustomVisualsService.isPublicManagedVisualByVisualType(this.visualType)];case 1:return z=ne.sent(),this.isCustomVisualTypeDisabled=(0,ga.jK)(this.services.featureSwitchService,this.visualType,this.services.approvedResourceService,!1,z),(this.isCustomVisualTypeDisabled||(0,ga.qe)(this.visualType))&&this.validateVisualPluginHandler(this.visualType),[2]}})})},je.prototype.readyToRender=function(){return!this.scope.viewModel.isLoading&&this.themeLoaded},je.prototype.onViewModelChanged=function(){var z=this,ne=this.scope,De=ne.viewModel;if(De){this.initTileData();var Qe=De.contract,gt=De.visual&&De.visual.type;gt!==this.visualType&&u.fF.assertFail("visualtype should not change in the lifetime of this component!!!");var wt=this.services.modelService.findModel(Qe.modelId,Qe.packageId),Ht=!!Qe.queryResultError,Jt=!Ht&&De.isDataStale(wt?wt.lastRefreshEpochTime:void 0);this.shouldRefreshData(Ht,Jt)&&(this.tileRefreshRetryCount++,De.isLoading=!De.tileData.data,this.scope.$emit(fi.Dyo,De.contract.modelId),De.setDataLoadEventDelegate(function(){return z.services.telemetryService.startEvent(vi.SB,{tileId:De.contract.id,modelId:De.contract.modelId})})),De.setDependencies(this.services.dataProxy),function(je,z,ne){var De=z.convertTileConfig(ne.contract);if(De&&De.refreshPeriod){var Qe=De.refreshPeriod;u.fF.assert(function(){return Qe>=6e4},"refresh period cannot be less than MIN_DATA_REFRESH_PERIOD."),Qe<6e4&&(Qe=6e4);var gt=setInterval(function(){return ne.refreshData()},Qe);je.$on(G.ebA,function(){return clearInterval(gt)})}}(this.scope,this.services.modelConverter,De),De.errorText=De.errorText||this.services.localizationService.get("Tile_ErrorText"),De.onErrorDelegate=function(){return z.onErrorChanged()},ne.allowDeferredRendering=gt&&!this.services.visualPlugin.isLightWeightRenderingVisual(gt),De.onErrorDelegate(),De.shouldBeIncludedInTelemetryMeasurement=!(!De.tileData||!De.tileData.data||Ht)}},je.prototype.onErrorChanged=function(){var z=this.scope.viewModel;z&&z.isError?(this.services.telemetryService.logEvent(aa.UH,{tileType:Ur.YU[Ur.YU.composite],message:z.errorText}),this.scope.$emit(G.bb_,z.errorText,z.errorDetails)):this.scope.onClearTileError()},je.prototype.shouldRefreshData=function(z,ne){if(this.tileRefreshRetryCount>=je.tileRefreshRetryMaxCount||z)return!1;var De=this.scope.viewModel;return!(!De.tileData||!De.requiresData()||De.tileDataIsVolatile)&&(!De.tileData.data||ne)},je.prototype.initTileData=function(){var z=this.scope.viewModel;if(!z.tileData){var ne=this.services;try{z.tileData=ne.modelConverter.convertTileData(z.contract)}catch(De){z.isError=!0,z.errorText=ne.localizationService.get("Tile_DsrParseErrorText")}}},je.prototype.onVisualDataChanged=function(){this.services.globalEventBridge.publishToChannel(ii.GA,this.scope.viewModel.contract.id)},je.prototype.onTrustedVisualErrorChanged=function(){var z=this.scope.viewModel.visual.type;if(this.services.trustedVisual.isTrustedVisual(z)){var ne=this.services.trustedVisual.validate(z);ne?(this.scope.viewModel.errorDetails=ne,this.scope.viewModel.errorText=ne.message,this.scope.viewModel.isError=!0):this.scope.viewModel.isError=!1,this.onErrorChanged()}},je.prototype.validateVisualPluginHandler=function(z){var ne=this;this.services.resourcePackagesService.getPackage(z)&&!this.services.visualPlugin.getPlugin(z)?this.reloadEmptyVisualsSubscriptionManager=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(zi.W,function(De,Qe){_.includes(Qe.visualTypes,z)&&(ne.reloadEmptyVisualsSubscriptionManager.unsubscribeAll(),ne.validateVisualPlugin(z))}):this.validateVisualPlugin(z)},je.prototype.validateVisualPlugin=function(z){this.services.visualPlugin.isCustomVisual(z)&&(this.isCustomVisualTypeDisabled?this.showCustomVisualDisabledMessage():(0,ga.qe)(z)&&!this.services.resourcePackagesService.getPackage(z)&&this.showCustomVisualDeletedMessage())},je.prototype.showCustomVisualDisabledMessage=function(){var ne,De,Qe,z=this.services.localizationService,gt=z.get("ContactYourAdministratorForDetails"),wt=this.scope.viewModel,Ht=this.services.featureSwitchService.featureSwitches;Ht&&Ht.customVisualsTenantSwitch&&!Ht.customVisualsTenantEnabled?(ne=z.get("VisualContainer_CustomVisualDisabledByAdmin"),De="https://go.microsoft.com/fwlink/?linkid=2100000",Qe=z.get("VisualContainer_CustomVisualDisabledByAdmin_tileDetails")):(ne=z.get("VisualContainer_UncertifiedDisabledValue"),De="https://go.microsoft.com/fwlink/?linkid=2002010&clcid=0x409",Qe=z.get("VisualContainer_UncertifiedDisabledValue_tileDetails")),wt.errorDetails={message:ne,displayableErrorInfo:[{errorInfoKey:Qe,errorInfoValue:gt}],hideAdditionalErrorInfo:!0,hideGetHelpLink:!1,forceShowError:!0,helpLink:De},wt.errorText=ne,wt.isError=!0,this.onErrorChanged()},je.prototype.showCustomVisualDeletedMessage=function(){var z=this.services.localizationService,ne=z.get("CustomVisualsAreNotAvailable"),De=z.get("ServiceError_CannotLoadVisual"),Qe=z.get("CustomVisualsAreNotAvailable"),gt=this.scope.viewModel;gt.errorDetails={message:ne,displayableErrorInfo:[{errorInfoKey:De,errorInfoValue:Qe}],hideAdditionalErrorInfo:!0,hideGetHelpLink:!1,forceShowError:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},gt.errorText=ne,gt.isError=!0,this.onErrorChanged()},je.prototype.loadThemeAndBaseTheme=function(){var z=this;Ji.P.loadThemeAndBaseTheme(this.services.promiseFactory,this.services.resourceLoader,this.services.themeService,this.services.resourcePackagesService.getAllPackages(),this.scope.viewModel.themeCollection).finally(function(){z.themeLoaded=!0,z.scope.$applyAsync()})},je.prototype.ensureThemeLoaded=function(){var z=this,ne=this.services.dashboardDataService,De=this.services.dashboardThemeService;if(ne&&ne.activeDashboard&&De&&De.isDashboardThemeLoaded){var Qe=ne.activeDashboard,gt=Qe&&Qe.objectId;De.isDashboardThemeLoaded(gt)?this.loadThemeAndBaseTheme():(this.themeChangeHandler={onDashboardThemeLoaded:function(Ht,Jt){gt===Jt&&!z.themeLoaded&&z.loadThemeAndBaseTheme()},onDashboardThemeChanged:_.noop},De.subscribe(this.themeChangeHandler))}else this.loadThemeAndBaseTheme()},je.tileRefreshRetryMaxCount=1,je}(),ja=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/compositeTile.html",this.replace=!0,this.scope={viewModel:"=",allowInteractivity:"@",onClearTileError:"&?"},this.controllerAs="$ctrl",this.controller=T(Oi)}}(),ti=t(316714),Fa=t(530571),wa=t(620581),Ja=t(153889),Sa=t(566464),za=function(){function je(z,ne){var De=this;this.scope=z,this.services=ne,this.unregisterViewModelChanged=function(){return _.noop()};var Qe=z.viewModel;this.isHovered=!1,z.isTileError=!1,z.model=Qe,z.openTile=function(Jt,rr){return De.openTile(Jt,rr)},z.openNotifications=function(Jt){return De.openNotifications(Jt)},z.isReadOnly=function(){return De.isReadOnly()},z.isOpenable=function(Jt){return De.isOpenable(!0)},z.isNonActionable=function(){return De.isNonActionable()},z.displayDashboardTileOpenOptions=function(){return De.displayDashboardTileOpenOptions()},z.setHover=function(Jt){return De.setHover(Jt)},z.displayDashboardTileShowIcon=function(){return De.displayDashboardTileShowIcon()},z.viewportContextSelector=z.viewportContextSelector||G.Nbb,z.disableInteractions=!!z.disableInteractions,z.getTileAriaLabel=function(){return De.getTileAriaLabel()};var gt=Qe.contract;Qe.setDatasetModelAndPackageInfo(this.services.modelService.findModel(gt.modelId,gt.packageId),this.services.packageService.findPackage(gt.packageId));var wt=this.services.rootScope.$on(je.Events.DeleteTile,function(Jt,rr){rr===De.scope.model&&(Jt.stopPropagation&&Jt.stopPropagation(),De.services.$element.hide())});z.hasSpotlight=function(){return!(!Qe||!Qe.hasSpotlight)},z.isModelTile=Qe&&Qe.model&&Qe.contract&&!Qe.contract.config,z.isWorkbookTile=Qe&&Qe.workbook&&Qe.contract&&"number"==typeof Qe.contract.workbookId,z.exportVisualData=function(Jt){return De.exportVisualData(Jt)};var Ht=this.services.$element;Ht.on(v.N8,function(Jt){return De.onFocusOut(Jt)}),this.setCanExportVisualData(),this.updateReportModel(Qe),z.refreshingPermissions=!!Qe.isLocked,Qe.isLocked&&ne.dashboardService.refreshDashboardTilePermissionsUponLoad(ne.dashboardDataService.activeDashboard,ne.dashboardStore,ne.userInfo).finally(function(){z.refreshingPermissions=!1}),this.isReportTile()&&this.setReportTileContext(Qe),z.$on(G.ebA,function(){wt(),De.unregisterViewModelChanged(),Ht.off(v.N8),De.services.dashboardThemeService.unsubscribe(De.themeChangeHandler)}),this.setInViewPort(),this.unregisterViewModelChanged=z.$watch("viewModel.composite",function(){return De.updateTileStyles()}),this.setUpThemeHandlers(),this.updateTileStyles(),this.logEventForRealtimeTile(Qe)}return je.createOptions=function(){return{additionalServices:["contentProviderHttpService","telemetryService","$element","$injector","localizationService","reportService","modelService","packageService","workbookService","userNotificationInfo","userNotificationTileFilterService","folderService","navigation","dashboardDataService","userInfo","dashboardService","auditing","platformCapabilities","globalEventBridge","licenseEnforcementService","modernDialogService","$timeout","permissionService","dashboardThemeService","shellCapabilities","dashboardStore"],scopedDependencies:["exportData"]}},Object.defineProperty(je.prototype,"sidePaneStoreService",{get:function(){return this.services.$injector.get("sidePaneStoreService")},enumerable:!1,configurable:!0}),je.prototype.logEventForRealtimeTile=function(z){z&&z.contractsModel&&(z.contractsModel.realTimeMode||z.contractsModel.pushDataVersion)&&this.services.telemetryService.logEvent(vi.bm,{modelId:z.contractsModel.id,realtimeMode:z.contractsModel.realTimeMode||0,pushdataVersion:z.contractsModel.pushDataVersion||0,controller:"DashboardTileController"})},je.prototype.onFocusOut=function(z){var ne=this;this.services.$timeout(function(){var De=document.activeElement;$(De).hasClass("openTileOptionsBtn")?$(De).attr("aria-hidden","false"):(0,ti.y)(ne.services.$element)||ne.setHover(!1)})},je.prototype.setInViewPort=function(){var ne=(0,zr.gq)(this.scope.viewModel.contract);ne&&(this.scope.inViewport=ne.x+ne.width<=7&&ne.y+ne.height<=6)},je.prototype.isReadOnly=function(){return!this.scope.canEdit||this.scope.disableInteractions},je.prototype.isNonActionable=function(){var z=this.scope.viewModel;return!z||!z.action||!z.action.action||this.scope.disableInteractions},je.prototype.setHover=function(z){this.isHovered=z},je.prototype.displayDashboardTileOpenOptions=function(){if((0,Ja.I$)())return!0;if(this.scope.viewModel.isLocked&&this.isReadOnly())return!1;var z=this.scope.viewModel;return this.scope.inViewport&&(this.isHovered||!this.services.platformCapabilities.supportsMouseover)&&z&&!z.isTemporary&&!this.scope.disableInteractions&&!this.scope.inEditMobileLayoutMode},je.prototype.displayDashboardTileShowIcon=function(){return this.scope.disableInteractions},je.prototype.isReportTile=function(){var z=this.scope.viewModel;return z&&null!=z.reportTile},je.prototype.setCanExportVisualData=function(){var z=this;if(this.services.exportData){var ne=this.services.exportData,De=this.scope.viewModel;if(De.type!==Ur.YU.composite)return void(this.scope.canExport=ne.canExportTileData({contract:De.contract,config:De.config,visual:De.composite&&De.composite.visual,dataSet:De.datasetModel&&De.datasetModel.contract,data:De.composite&&De.composite.tileData}));var Qe=this.scope.$watch("viewModel.composite.tileData",function(gt){gt&&(z.scope.canExport=ne.canExportTileData({contract:De.contract,config:De.config,visual:De.composite&&De.composite.visual,dataSet:De.datasetModel&&De.datasetModel.contract,data:De.composite&&De.composite.tileData}),Qe())})}},je.prototype.exportVisualData=function(z){z.stopPropagation();var ne=this.services,De=ne.licenseEnforcementService;if(!De.supportsExportData||De.supportsExportData(!0)){var Qe=this.scope.viewModel,gt=(0,Fa.s)(Qe.config),Ht=Qe.contract&&Qe.contract.id,Jt=ne.telemetryService.startEvent(wa.$9b,{visualType:gt,source:"Dashboard",isPartialResult:!1,dest:0,isPremiumUser:this.services.userInfo.isPremiumUser,isDrillToDetailsMode:!1,dataType:0});this.services.exportData.exportTileDataToCsv({contract:Qe.contract,config:Qe.config,visual:Qe.composite&&Qe.composite.visual,dataSet:Qe.datasetModel&&Qe.datasetModel.contract}).then(function(rr){Jt.event.info.isPartialResult=rr.isPartialResult,Jt.resolve()},function(rr){Jt.reject({errorCode:rr.errorDetails&&rr.errorDetails.errorType.toString()})}),this.services.auditing.auditEvent(Ht,3,11)}},je.prototype.getTileAriaLabel=function(){var z=this.scope.viewModel;return z.displayText?z.displayText:z.subDisplayText?z.subDisplayText:this.services.localizationService.get("ArtifactKind_Tile")},je.prototype.updateReportModel=function(z){return(0,s.__awaiter)(this,void 0,i.J,function(){return(0,s.__generator)(this,function(ne){switch(ne.label){case 0:return z&&z.report?[4,this.services.reportService.ensureReportsInitialization()]:[3,2];case 1:ne.sent(),z.report=this.services.reportService.findReport(z.report.id),ne.label=2;case 2:return[2]}})})},je.prototype.setReportTileContext=function(z){return(0,s.__awaiter)(this,void 0,i.J,function(){return(0,s.__generator)(this,function(Qe){switch(Qe.label){case 0:return this.scope.isTileError=z.reportTile.isError,z.report&&z.action.action===G.$Ez?[4,this.services.reportService.ensureReportsInitialization()]:[3,2];case 1:Qe.sent(),this.services.reportService.findReport(z.report.id)||this.services.reportService.addReport(z.report),this.services.modelService.findModel(z.report.modelId)||this.services.modelService.addContractModel(z.contractsModel),Qe.label=2;case 2:return[2]}})})},je.prototype.isOpenable=function(z,ne){var De=this.scope.model;if(this.scope.disableInteractions||this.scope.inEditMobileLayoutMode||!z&&De.isLocked||!z&&De&&De.composite&&De.composite.isError||!z&&this.isReportTile()||this.scope.isTileElementChanging()||De.isLoading)return!1;if(ne)try{var gt=$(ne.target);if(gt.is("a")&&!gt.hasClass("dashboardTileLayout"))return!1}catch(wt){}return!0},je.prototype.openTile=function(z,ne){var De=this.scope;if(De.disableInteractions||this.scope.inEditMobileLayoutMode)return ne&&ne.preventDefault&&ne.preventDefault(),!1;ne&&ne.keyCode&&(z=!0);var Qe=this.isOpenable(z,ne);if(Qe)De.$emit(fi.ey2,De.model),ne&&ne.stopPropagation&&ne.stopPropagation();else if(De.viewModel.isLocked&&!De.refreshingPermissions){var gt=this.services.modernDialogService,wt=this.services.localizationService.get("PermissionCenter_PermissionRequired_Title"),Ht=this.services.localizationService.get("PermissionCenter_PermissionRequired_Description"),Jt=this.services.localizationService.get("PBI_Button_Label_Close");gt.promptSimpleDialog(wt,Ht,{},{url:"//go.microsoft.com/fwlink/?linkid=858549",text:"Generic_LearnMore"},Jt)}return Qe||this.services.globalEventBridge.publishToChannel(Ti.nQ,De.model),Qe},je.prototype.openNotifications=function(z){z&&z.stopPropagation&&z.stopPropagation();var ne=this.scope.viewModel.contract.id,Qe=_.filter(this.services.userNotificationTileFilterService.filterNotifications(this.services.userNotificationInfo.userNotifications.notifications,ne),function(Jt){return!Jt.seen});if(!_.isEmpty(Qe))for(var gt=0,wt=Qe;gt<wt.length;gt++){var Ht=wt[gt];Ht.message.filterProperties&&Ht.message.filterProperties.UserDataAlertRuleId&&this.services.telemetryService.logEvent(vi._S,{alertId:parseInt(Ht.message.filterProperties.UserDataAlertRuleId,10)})}this.services.userNotificationTileFilterService.tileId=ne,this.sidePaneStoreService.openNotificationPane()},je.prototype.updateTileStyles=function(z){if(this.services.dashboardDataService.activeDashboard){var ne=this.scope.viewModel,De=this.services.dashboardDataService.activeDashboard.objectId,Qe=this.services.dashboardThemeService;if(ne.type===Ur.YU.composite&&ne.composite){var gt=ne.composite.themeCollection,wt=gt.customTheme&&gt.customTheme.name;wt&&!Qe.isBuiltInTheme(wt)&&!Qe.isLegacyThemeName(wt)&&!Qe.getTheme(wt)||(z=z||Qe.getDashboardThemeName(De))&&(ne.themeName=z,this.tileStyles=Qe.getTileStyles(z),ne.tileStyles=this.tileStyles,ne.tileHeaderStyles=_.pick(this.tileStyles,Sa.dj),ne.tileBackground=_.pick(this.tileStyles,Sa.CB),ne.composite.setThemeName(ne.themeName))}}},je.prototype.setUpThemeHandlers=function(){var z=this;this.themeChangeHandler={onDashboardThemeChanged:function(De){z.updateTileStyles(De)},onDashboardThemeLoaded:function(De,Qe){null!=z.services.dashboardDataService.activeDashboard&&Qe===z.services.dashboardDataService.activeDashboard.objectId&&z.updateTileStyles(De)},onReloadTheme:function(De){z.updateTileStyles(De)}},this.services.dashboardThemeService.subscribe(this.themeChangeHandler)},je.Events={DeleteTile:"DeleteTile"},je}(),Fi=function(){function je(){this.restrict="E",this.templateUrl="views/tiles/dashboardTile.html",this.controllerAs="$ctrl",this.replace=!0,this.scope={viewModel:"=",canEdit:"<",disableInteractions:"<?",addTileToMobileView:"&?",inEditMobileLayoutMode:"<?",removeTileFromMobileView:"&?",viewportContextSelector:"<?",disableKeyboardNav:"<?"},this.link=function(z,ne,De){var Qe=z.viewModel.report;Qe&&ne.attr("data-report-id",Qe.id),z.disablePointerEvents="true"===De.disablePointerEvents||z.disableInteractions,z.onceInViewport=function(){z.inViewport=!0};var gt=z.$root.$on(Or.BD,function(cr,vr){var Sr=z.viewModel.datasetModel;Sr&&Sr.id===vr&&ne.hide()}),wt=z.$root.$on(Or.kg,function(cr,vr){var Sr=z.viewModel.datasetModel;Sr&&Sr.id===vr&&ne.show()});z.$watch("canEdit",function(cr,vr){ne.attr(je.DragResizeDisabledAttr,cr?"false":"true")}),z.isTileElementChanging=function(){return ne.hasClass("changing")};var Ht=z.viewModel,Jt=ne.find(".tileContent")[0],rr=function(vr){z.openTile(!1,vr)&&(vr.stopPropagation&&vr.stopPropagation(),vr.cancelBubble=!0)};Ht&&!Ht.reportTile&&Jt&&Jt.addEventListener("click",rr,!0),z.$on(G.ebA,function(){Jt&&Jt.removeEventListener("click",rr,!0),wt(),gt()})},this.controller=T(za)}return je.DragResizeDisabledAttr="drag-resize-disabled",je}(),na=t(196960),xa=t(575922),Na=t(715770),ka=t(5689),ca=t(497141),Li=t(947105),oa=t(245517),$a=t(141115),da=t(709060),wi=t(845231),Vi=t(443759),fa=t(25138),Bi=function(){function je(z,ne){var De=this;this.scope=z,this.services=ne,z.reportTilesPopulated=!1,(0,da.x)(this.scope,this.services.dataSources);var Qe=this.services.viewModeState;Qe.setMode(0),Qe.updateConfig(function(cr){cr.displayOptions.hideNavigationPane=!0,cr.displayOptions.hideOutspaceFormatting=!0});var gt=this.scope.$on(fi.gv0,function(){De.populateReportTiles()}),wt=new ka.Z;this.services.undoRedo.setStrategy(wt);var Ht=this.scope.viewModel,Jt=this.services.eventBridge.createChannelSubscriptionManager();Jt.subscribe(ii.sc,function(){De.services.globalEventBridge.publishToChannel(ii.GA,Ht.contract.id)}).subscribe(Na.$$f,function(cr,vr){De.services.globalEventBridge.publishToChannel(Na.bSZ,vr)}),this.scope.$on("$destroy",function(){gt(),Jt.unsubscribeAll(),De.services.reportRefresh.destroy()}),this.populateReportTiles().finally(function(){return z.reportTilesPopulated=!0}),this.services.explorationCapabilities.setCapabilities({allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,showAppBar:!1,showTaskPane:!1,showVisualizationPane:!1,showNavContentPane:!0,visualContainerOptions:{showMenu:!1,showPin:!1,showContextMenu:!1,disablePin:!1,hideHeader:!0,useStylableHeader:!0},showBackButtonOnAppBar:!1,analysisVisuals:!0,qna:!0,azureMaps:!0,allowWebUrlVisualLinks:!0,disableCanvasTooltips:!0,disableDrillthroughText:!0,disableEnhancedTooltips:!0})}return je.createOptions=function(){return{scopedDependencies:["dataSources","viewModeState","undoRedo","selection","visualPlugin","explorationNavigation","explorationCapabilities","resourceLoader","eventBridge","reportRefresh"],additionalServices:["conceptualSchemaProxy","promiseFactory","localizationService","modelService","reportService","modelConverter","reportTileService","resourcePackagesService","explorationSerializer","featureSwitchService","visualPlugin","telemetryService","trustedVisual","themeService","globalEventBridge","visualTimeSynchronizationService","lazyProviderModern","publicCustomVisualService"]}},je.prototype.logEventForRealtimeTile=function(z){z&&(z.realTimeMode||z.pushDataVersion)&&this.services.telemetryService.logEvent(vi.bm,{modelId:z.id,realtimeMode:z.realTimeMode||0,pushdataVersion:z.pushDataVersion||0,controller:"ReportTileController"})},je.prototype.reloadTrustedVisuals=function(z){_.isEmpty(z)||(this.services.visualPlugin.ensureTrustedVisualPlugins(z),this.services.globalEventBridge.publishToChannel(zi.W,{visualTypes:z.map(function(ne){return ne.name})}))},je.prototype.populateExploration=function(z,ne,De,Qe,gt){var wt=this;this.setDataSources(z,ne);var Jt=this.services.explorationSerializer.deepCopyExploration(ne,{withData:!0,withQuery:!0}),rr=je.mapCanvasSize(Jt,De);this.applySectionParameterFilters(rr,De,Qe,gt);var cr=je.getReferencedResourcePackages(rr,De);this.services.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps?this.getResourcePackagesToRegister(cr,rr,De).then(function(vr){wt.resolveExploration(vr,rr,De),wt.logEventForRealtimeTile(z)}):(this.resolveExploration(cr,rr,De),(0,$a.j)(ne,this.services.trustedVisual).then(function(vr){return wt.reloadTrustedVisuals(vr)}),this.logEventForRealtimeTile(z))},je.prototype.resolveExploration=function(z,ne,De){if(_.isEmpty(z))this.resolveExplorationWithoutResourcePackage(ne,De);else{var Qe=this.scope.viewModel;this.services.telemetryService.logEvent(vi.eP,{resourcePackageLength:z.length,tileId:Qe&&Qe.contract?Qe.contract.id:-1,reportTileHasCustomVisual:!0}),this.resolveExplorationWithResourcePackages(z,ne,De)}},je.prototype.getResourcePackagesToRegister=function(z,ne,De){return(0,s.__awaiter)(this,void 0,i.J,function(){var Qe,gt,wt,Ht,Jt,rr;return(0,s.__generator)(this,function(vr){switch(vr.label){case 0:return Qe=je.getReferencedVisualsInSection(ne,De),[4,this.services.publicCustomVisualService.getPublicResourcePackages(_.keys(Qe))];case 1:for(gt=vr.sent(),wt=gt,Ht=function(Tr){_.find(gt,function(Rr){return Rr.name===Tr.name})||wt.push(Tr)},Jt=0,rr=z;Jt<rr.length;Jt++)Ht(rr[Jt]);return[2,wt]}})})},je.prototype.addODataFilterFromQuery=function(z,ne){return(0,s.__awaiter)(this,void 0,F.I,function(){var Qe,gt,wt;return(0,s.__generator)(this,function(Jt){switch(Jt.label){case 0:return[4,this.services.lazyProviderModern.get("@powerbi/ODataFilterParser/OData-Filter-Parser.module#ODataFilterParserModule","odataFilterParserService")];case 1:return[4,Jt.sent().tryGetFilters(ne)];case 2:if(Qe=Jt.sent(),_.isEmpty(Qe))return[2];for(z.filters||(z.filters=[]),gt=0,wt=Qe;gt<wt.length;gt++)z.filters.push(wt[gt]);return this.updateExplorationCacheCapabilities(!0,!1),[2]}})})},je.prototype.updateExplorationCacheCapabilities=function(z,ne){var De=this.services.explorationCapabilities,Qe=De.getCapabilities();Qe.visualContainerOptions.disableQueryCacheUpdates=z,void 0!==ne&&(Qe.persistentUserStateEnabled=ne),De.setCapabilities(Qe)},je.prototype.applySectionParameterFilters=function(z,ne,De,Qe){if(z&&z.sections){var gt=(0,oa.oS)(z,ne),wt=null!=gt&&z.sections[gt];if(wt){ca.l.mergeExplorationSectionFilters(z,wt);var Ht=(0,Li.SV)(z,De);ca.l.applySectionParameterFilters(wt,null!=Ht&&z.pods[Ht],void 0,Qe)}}},je.prototype.resolveExplorationWithResourcePackages=function(z,ne,De){var Qe=this;this.services.resourcePackagesService.registerPackages(z),this.services.visualPlugin.ensurePlugins(z,!1).finally(function(){Qe.resolveExplorationWithoutResourcePackage(ne,De)})},je.prototype.populateReportTiles=function(){return(0,s.__awaiter)(this,void 0,i.J,function(){var z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr;return(0,s.__generator)(this,function(Wr){switch(Wr.label){case 0:return(z=this.scope.viewModel).isError=!1,z&&z.contract?(ne=z.contract)&&ne.type===Ur.YU.report?(De=this.services.modelConverter.convertTileConfig(ne),Qe=ne.reportId,[4,this.services.reportService.ensureReportsInitialization()]):[2]:[3,8];case 1:if(Wr.sent(),gt=this.services.reportService.findReport(Qe),wt=ne.sectionId,!gt)return this.setErrorText(),[2];Ht=this.services.modelService.findModel(gt.modelId,gt.packageId),Wr.label=2;case 2:return Wr.trys.push([2,7,,8]),[4,this.services.reportTileService.getExploration(Qe,wt)];case 3:return Jt=Wr.sent().exploration,[4,this.initializeExplorationTheme(Jt)];case 4:if(Wr.sent(),rr=De&&De.reportTile&&De.reportTile.sectionId,cr=Jt.sections,null==wt&&null!=rr&&null!=cr&&rr<cr.length){if(!(vr=Jt.sections[rr]))return this.setErrorText(),[2];wt=vr.id}return Sr=null,Tr=null,De&&De.reportTile&&(Sr=De.reportTile.pod,De.reportTile.filters&&(Rr=[],Tr=this.services.explorationSerializer.deserializeFilterCollection(this.services.explorationSerializer.parseFilterCollectionConfig(De.reportTile.filters),Rr,!1),u.fF.assert(function(){return _.isEmpty(Rr)},"Unexpected errors deserializing report tile filters"))),this.scope.viewModel.odataFilters?[4,this.addODataFilterFromQuery(Jt,this.scope.viewModel.odataFilters)]:[3,6];case 5:Wr.sent(),Wr.label=6;case 6:return this.populateExploration(Ht.contract,Jt,wt,Sr,Tr),[3,8];case 7:return Kr=Wr.sent(),(0,Qr.If)(this.services.telemetryService,Jr.TZ,Kr),this.setErrorText(),[3,8];case 8:return[2]}})})},je.prototype.initializeExplorationTheme=function(z){return(0,s.__awaiter)(this,void 0,i.J,function(){var ne;return(0,s.__generator)(this,function(De){switch(De.label){case 0:return ne=Ji.P.cloneThemeCollection(z.themeCollection),this.services.themeService.isLegacyThemeName(ne.customTheme&&ne.customTheme.name)&&delete ne.customTheme,[4,Ji.P.loadThemeAndBaseTheme(this.services.promiseFactory,this.services.resourceLoader,this.services.themeService,z.resourcePackages,ne)];case 1:return De.sent(),[2]}})})},je.prototype.resolveExplorationWithoutResourcePackage=function(z,ne){var De=this.scope.viewModel,Qe=z.sections,gt=Qe.length,wt=[];this.services.explorationNavigation.loadExploration(z);for(var Ht=0;Ht<gt;Ht++)Qe[Ht].crossFilterSource&&(Qe[Ht].crossFilterSource.highlight=void 0),wt[Ht]={contract:Qe[Ht],selected:!0,displayName:Qe[Ht].displayName};if(void 0!==ne){var Jt=(0,oa.gI)(z,ne);if(Jt){this.services.explorationNavigation.goto(Jt);var rr=new wi.y(Jt),cr=(0,Yr.UR)(),vr=Jt.visualContainers.length;for(Ht=0;Ht<vr;Ht++){var Sr=(0,Vi.Dz)(z,rr.contract,Jt.visualContainers[Ht],0);Sr.allowDeferredRendering=!0,Sr.options=this.services.explorationCapabilities.getCapabilities().visualContainerOptions,cr.push(Sr)}rr.visualContainers=cr,rr.visualContainerGroups=(0,Vi.C)(Jt.visualContainerGroups,cr,0),De.exploration={contract:z,exploreCanvas:rr,sections:wt},De.isLoading=(0,ct.r5)(De.contract),this.services.featureSwitchService.featureSwitches.realTimeRefreshDisabled||this.services.reportRefresh.init(!1),this.services.visualTimeSynchronizationService.setAnchorTimeToNow()}else this.setErrorText()}else this.setErrorText()},je.prototype.setDataSources=function(z,ne){u.fF.assertValue(z,"model"),u.fF.assertValue(ne,"explorationContract");var De=ne.dataSources.withId(z.id);if(!De){var Qe=na.N8;ne.dataSources.push(De={type:G.nKy,id:z.id,name:na.N8,dsr:{schemaName:na.N8,vsName:z.vsName,dbName:z.dbName,modelId:z.id}});var gt=na.eM;ne.dataSources.push({type:xa.K,id:ne.id,name:gt,extends:Qe,exploration:{schemaName:gt,extends:Qe,getModelExtensions:function(){return ne.modelExtensions},getDataSourceVariables:function(){return ne.dataSourceVariables}}})}this.services.dataSources.set(ne.dataSources)},je.prototype.setErrorText=function(){var z=this.scope.viewModel;z.isError=!0,z.errorText=this.services.localizationService.get("ReportTile_DataUnavailable")},je.getReferencedResourcePackages=function(z,ne){u.fF.assertValue(z,"exploration");var De=je.getReferencedVisualsInSection(z,ne);if(!_.isEmpty(De))return _.filter(z.resourcePackages,function(Qe){return(0,fa.JZ)(Qe)&&De[Qe.name]})},je.getReferencedVisualsInSection=function(z,ne){u.fF.assertValue(z,"exploration");var De=z.sections,Qe={};if(_.isEmpty(De))return Qe;for(var gt=0,wt=De;gt<wt.length;gt++){var Ht=wt[gt];if(Ht.id===ne){_.map(Ht.visualContainers,function(Jt){var rr=Jt&&Jt.config&&Jt.config.singleVisual&&Jt.config.singleVisual.visualType;_.isEmpty(rr)||(Qe[rr]=!0)});break}}return Qe},je.mapCanvasSize=function(z,ne){if(z){var De=(0,oa.oS)(z,ne);z.sections&&z.sections[De]&&void 0!==z.sections[De].size.displayOption&&(z.sections[De].size.displayOption=1)}return z},je}(),Ra=function(){return function(){this.template='<legacy-scoped-root><exploration-scoped-services-bridge><report-tile-inner view-model="viewModel"></report-tile-inner></exploration-scoped-services-bridge></legacy-scoped-root>',this.scope={viewModel:"="}}}(),mi=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/reportTile.html",this.replace=!0,this.scope={viewModel:"="},this.controller=T(Bi)}}(),yi=t(557634),bi=t(85801),$r=t(186743),Ia=ii.lH,Ya=function(){function je(z,ne){var Qe,gt,De=this;this.activeSubscriptions=[],this.scope=z,this.services=ne,this.model=z.viewModel,this.scope.hasSensitivityBanner=!1,this.setSensitivityBannerHeight(),this.globalChannelSubscriptionManager=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(Ia,function(Sr,Tr){De.handleSensitivity(Tr)}),this.scope.moduleConfig=bi.W,this.updateTileHref(),this.scope.hasWarning=function(){return De.hasWarning()},this.scope.shouldShowTileVisual=function(){return De.shouldShowTileVisual()},this.scope.$watchCollection("viewModel.action",function(){return De.updateTileHref()});var Jt,wt=this.services.rootScope.$on(Or.H9,function(Sr,Tr){De.model.report&&De.model.report.id===Tr&&(De.model.report=null)}),Ht=this.services.userNotificationInfo;Ht.registerNotificationsUpdatedListener&&Ht.registerNotificationsUpdatedListener(function(){return De.onNotificationsUpdated()}).then(function(Sr){Jt=Sr});var rr=this.services.shellCapabilities;rr.ensureCapabilitiesInitialized().then(function(){De.showComments=rr.getCapabilities().dashboardSettings.showComments}),this.scope.$on(G.ebA,function(){wt(),Jt&&Jt(),De.globalChannelSubscriptionManager&&De.globalChannelSubscriptionManager.unsubscribeAll();var Sr=De.scope;Sr.isError&&Sr.errorDetails?Sr.$emit(fi.flv,De.model,Sr.errorDetails):De.hasWarning()&&Sr.$emit(fi.flv,De.model,{message:De.scope.warning&&De.scope.warning.tooltip,displayableErrorInfo:[]})}),this.updateModelTileHeaderSize(),this.scope.$root.$on(G.j7U,function(){De.updateModelTileHeaderSize()}),this.scope.onTileError=function(Sr,Tr){De.scope.isError=!0,De.scope.errorText=De.model.type===Ur.YU.image?De.services.localizationService.get("Tile_ImageErrorText"):Sr,De.scope.errorDetails=Tr||{message:De.scope.errorText,displayableErrorInfo:[]},De.model.resetTileErrors=function(){De.scope.isError=!1},De.services.globalEventBridge.publishToChannel(Ti.oS,{tile:De.model,errorDetails:De.scope.errorDetails})},this.scope.$on(G.bb_,function(Sr,Tr,Rr){De.scope.onTileError(Tr,Rr)}),this.scope.onClearTileError=function(){var Sr=De.scope.errorDetails;De.scope.isError&&Sr&&De.scope.$emit(fi.flv,De.model,Sr),De.model.resetTileErrors&&De.model.resetTileErrors()},this.services.rootScope.$on(fi.aqt,function(Sr,Tr){De.model.composite&&_.find(Tr,function(Rr){return De.scope.viewModel.contract.modelId===Rr})&&(De.scope.isError=!0,De.scope.errorText=De.services.localizationService.get("Tile_RLS_NoAccess"),De.model.composite.tileData.data=null,De.model.resetTileErrors=function(){var Rr;null!==(Rr=De.model.composite.tileData)&&void 0!==Rr&&Rr.data&&(De.scope.isError=!1)})}),this.scope.getUnseenCount=function(){return De.getUnseenCount()},this.scope.getIcons=function(){return De.getIcons()};var cr={};this.scope.contentStyleWithSensitivity=function(){var Sr;return!0===De.scope.hasSensitivityBanner?((Sr={})[Sa.$Z]=De.scope.viewModel.getTileHeight()+De.sensitivityBanerHeight+"px",Sr):cr},this.scope.getWebContentIcon=function(){return De.getWebContentIcon()},this.scope.onIconClick=function(Sr,Tr){return De.onIconClick(Sr,Tr)},this.scope.selectTileConversations=function(Sr){return De.selectTileConversations(Sr)},this.scope.showCommentIndicator=function(){return De.showCommentIndicator()},this.scope.showConversationsToolTip=function(){return De.showConversationsToolTip()},this.scope.refreshIconsTrigger=!0,this.model.type===Ur.YU.image&&(this.scope.altText=this.model.displayText?this.model.displayText:this.services.localizationService.get("Image")),this.scope.realTimeTileModernInputArgs={viewModel:this.scope.viewModel.realTime},this.scope.realTimeTileModernOutputArgs={onTileError:function(Tr,Rr){return De.scope.onTileError(Tr,Rr)},onClearTileError:function(){return De.scope.onClearTileError()}},this.scope.realTimeTileLazyPath="@powerbi/RealTime/real-time.module#RealTimeModule";var vr=null===(Qe=this.model)||void 0===Qe?void 0:Qe.composite;this.scope.visualType=null===(gt=null==vr?void 0:vr.visual)||void 0===gt?void 0:gt.type,vr&&vr.licenseUIManager&&(this.activeSubscriptions.push(vr.licenseUIManager.shouldDisplayLicenseBlocker$.subscribe(function(Sr){return De.scope.shouldDisplayLicenseBlocker=Sr})),this.activeSubscriptions.push(vr.licenseUIManager.shouldDisplayLicenseEnvironmentBlocker$.subscribe(function(Sr){return De.scope.shouldDisplayLicenseEnvironmentBlocker=Sr})),this.activeSubscriptions.push(vr.licenseUIManager.shouldDisplayFeatureBlockedBanner$.subscribe(function(Sr){return De.scope.shouldDisplayFeatureBlockedBanner=Sr})),this.activeSubscriptions.push(vr.licenseUIManager.shouldStartBannerLeaveAnimation$.subscribe(function(Sr){return De.scope.shouldStartBannerLeaveAnimation=Sr})))}return je.createOptions=function(){return{additionalServices:["localizationService","userInfo","visualPlugin","dashboardDataService","flyoutService","modelService","userNotificationInfo","userNotificationTileFilterService","tileDisplay","errorService","gridLayout","licenseEnforcementService","annotationsInterop","telemetryService","shellCapabilities","embedModeService","globalEventBridge"],scopedDependencies:["scriptVisuals"]}},je.prototype.$onDestroy=function(){this.activeSubscriptions.forEach(function(z){z&&z.unsubscribe()})},je.prototype.onResize=function(){this.setSensitivityBannerHeight()},je.prototype.setSensitivityBannerHeight=function(){this.baseSensitivityBannerHeight=window.innerWidth<640?ar.jH:ar.CK},je.prototype.handleSensitivity=function(z){z.artifactType===_i.Bz.Tile&&!_.isNil(z.componentId)&&z.componentId===this.scope.viewModel.contract.id&&(this.scope.hasSensitivityBanner=z.hasSensitivity,this.scope.hasExpandSensitivityBanner=z.isBannerExpanded,this.sensitivityBanerHeight=z.isBannerExpanded?ar.FN:this.baseSensitivityBannerHeight,this.scope.viewModel.calculateLayout(void 0,this.sensitivityBanerHeight),this.scope.viewModel.invalidateLayout())},je.prototype.updateTileHref=function(){this.model.intraDomainNavigationParameters=null;var z=this.model.action;z.action===G.sVl&&ar.n9.isValidUrl(z.targetUrl,!0)?this.scope.$emit(fi.Grw,this.model,z.targetUrl):this.model.href=void 0},je.prototype.hasLostReportConnection=function(){var ne=this.scope.viewModel,De=ne.action;return ne.type===Ur.YU.composite&&De&&!(De.action&&De.action===G.RCq)&&(!De.action||De.action===G.$Ez&&!ne.report)&&"bingSocial"!==ne.contract.name&&!ne.config.widget},je.prototype.hasWarning=function(){var z=this.services.visualPlugin,ne=this.services.userInfo,De=this.scope.viewModel;if(this.scope.isError&&this.services.tileDisplay.isVisualSupportedInErrorState(De))return this.scope.warning={tooltip:this.services.localizationService.format("DashboardAppBar_TileError_ErrorTooltip",[De.composite.errorText])},!0;if((0,Ii.ok)(this.scope.viewModel,z)){if(this.services.scriptVisuals.shouldBlockScriptVisual(0,De.report&&De.report.id)){var wt=ne&&!Array.isArray(ne)&&this.services.licenseEnforcementService.supportsScriptVisuals();return this.scope.warning={tooltip:wt&&this.services.localizationService.get("Tile_RVis_RefreshDisabled")||this.services.localizationService.get("Tile_RVis_RefreshDisabledForNonPro")},!0}}else{if(this.hasLostReportConnection())return this.scope.warning={tooltip:this.services.localizationService.get("Tile_LoseReportConnection")},!0;if(this.scope.viewModel.errorCode)return this.scope.warning={tooltip:this.model.details.getErrorLocId(this.model.errorCode,this.services.localizationService)},!0}return!1},je.prototype.getUnseenCount=function(){var z=this.scope.viewModel.contract.id,ne=this.services.userNotificationInfo;return z&&ne&&ne.userNotifications&&!_.isEmpty(ne.userNotifications.notifications)?_.filter(this.services.userNotificationTileFilterService.filterNotifications(ne.userNotifications.notifications,z),function(gt){return!gt.seen}).length:0},je.prototype.onIconClick=function(z,ne){ne.stopPropagation(),ne.preventDefault();var De=this.scope;if(null!=z.action)switch(z.action){case 0:this.scope.headerClickTarget({event:ne,openNotification:!0});break;case 2:this.services.tileDisplay.onErrorIconClicked({message:z.tooltip()});break;case 1:this.services.tileDisplay.onErrorIconClicked({isError:De.isError,errorTitle:De.errorText,errorDetails:De.errorDetails,message:z.tooltip()});break;default:u.fF.assertFail("Unrecognized/unsupported icon action.")}},je.prototype.getIcons=function(){var z=this;if(this.icons)return this.icons;var ne={badgeTextSetter:this.getUnseenCount.bind(this),localizationService:this.services.localizationService,showNotifications:function(){return z.getUnseenCount()>0},showWarning:this.hasWarning.bind(this),showWebContent:function(){var Qe=z.scope.viewModel;return Qe&&Qe.type===Ur.YU.iframe&&!Qe.isTemporary&&Qe.hasTitle()},showRealTime:function(){var Qe=z.scope.viewModel;return Qe&&Qe.type===Ur.YU.realTime},warningToolTipSetter:function(){return z.scope.warning&&z.scope.warning.tooltip}};return this.icons=(0,$r.n)(ne),ne.showWarning()&&this.services.globalEventBridge.publishToChannel(Ti.oS,{tile:this.model,errorDetails:{message:ne.warningToolTipSetter(),displayableErrorInfo:[]}}),this.icons},je.prototype.getWebContentIcon=function(){return _.find(this.getIcons(),function(z){return 2===z.action})},je.prototype.shouldShowTileVisual=function(){var z=this.services.tileDisplay.getTileDisplayError(this.scope.viewModel);return z&&z.isError?(this.scope.errorText=z.errorTitle,this.scope.errorDetails=z.errorDetails,!1):!this.scope.isError||this.services.tileDisplay.isVisualSupportedInErrorState(this.scope.viewModel)},je.prototype.updateModelTileHeaderSize=function(){var z=1;this.services.gridLayout.strategy.isDynamic||this.scope.inEditMobileLayoutMode?z=2:this.scope.largeHeader&&(z=0),this.model.setTileHeaderSize(z)},je.prototype.onNotificationsUpdated=function(){this.getUnseenCount()>0&&(this.scope.refreshIconsTrigger=!this.scope.refreshIconsTrigger)},je.prototype.selectTileConversations=function(z){z.stopPropagation(),z.preventDefault();var ne=this.services;ne.annotationsInterop.selectTile(this.scope.viewModel.id),ne.flyoutService.expandFlyout(),ne.telemetryService.logEvent(yi.C,{artifactType:"Tile"})},je.prototype.showCommentIndicator=function(){var ne=this.services.dashboardDataService.activeDashboard;return!!(this.showComments&&ne&&ne.annotationsEnabled&&this.scope.viewModel.hasConversation)},je.prototype.showConversationsToolTip=function(){return this.services.localizationService.format("ShowConversationsToolTip",["tile"])},je}(),Ka=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/tileWrapper.html",this.controllerAs="$ctrl",this.scope={viewModel:"=",headerClickTarget:"&",inEditMobileLayoutMode:"<?"}}}(),ln=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/tile.html",this.replace=!0,this.scope={viewModel:"=",headerClickTarget:"&",inEditMobileLayoutMode:"<?"},this.controller=T(Ya),this.link=function(z,ne,De,Qe){if(z.disablePointerEvents="true"===De.disablePointerEvents,z.largeHeader=De.hasOwnProperty("largeHeader"),z.allowInteractivity=De.allowInteractivity,z.largeHeader&&z.viewModel.setTileHeaderSize(0),void 0!==window.ResizeObserver){var gt=new ResizeObserver(function(wt,Ht){return Qe.onResize()});gt.observe(ne[0]),z.$on("$destroy",function(){gt.disconnect()})}}}}(),Za=t(546368),ri=function(){function je(z,ne){var De=this;this.scope=z,this.services=ne,this.scope.workbookTileUrl=this.workbookTileUrl,this.scope.workbookTileImageUrl=this.workbookTileImageUrl,this.scope.useLiveEwaControl=!!this.services.featureSwitchService.featureSwitches.liveWorkbookTiles;var Qe=this.scope.$watch("viewModel.tileModel.size",function(){return De.services.workbookService.setModelDynamicImageUrl(De.scope.viewModel)},!0),gt=this.scope.$watch("viewModel",function(){return De.services.workbookService.setModelDynamicImageUrl(De.scope.viewModel)});this.scope.$on("$destroy",function(){Qe(),gt()}),this.initWorkbookTile()}return je.createOptions=function(){return{additionalServices:["$sce","workbookService","featureSwitchService"]}},je.prototype.constructWorkbookWopiUrl=function(z,ne){if(this.scope.viewModel.contract.$config.workbookTile){var De=z.replace(/ExcelJs.ashx/i,"xlEmbed.aspx");return De+"&access_token="+ne+"&item="+this.scope.viewModel.contract.$config.workbookTile.item+"&action=embedView"}return""},je.prototype.shouldPreparePreviewImage=function(){return!this.scope.viewModel.previewImageUrl&&!this.scope.viewModel.image&&!this.scope.viewModel.hasImages()},je.prototype.initWorkbookTile=function(){var z=this;this.scope.viewModel.isLoading=!0,this.shouldPreparePreviewImage()&&this.services.workbookService.getWorkbookTilePreviewImageUrl(this.scope.viewModel.contract).then(function(ne){var De=-1===ne.indexOf("?")?"?":"&";z.scope.viewModel.previewImageUrl=ne+De+(new Date).getTime(),z.services.workbookService.setModelDynamicImageUrl(z.scope.viewModel),z.scope.onTileImageReady(function(Qe){z.scope.viewModel.isLoading=!1})}),this.scope.useLiveEwaControl&&this.services.workbookService.getWorkbookEmbedAccessData(this.scope.viewModel.contract.workbookId,this.scope.viewModel.contract.packageId).then(function(ne){if(ne&&(0,Za.HH)(ne.url)){var De=z.constructWorkbookWopiUrl(ne.url,ne.accessToken);z.scope.workbookTileUrl=z.services.$sce.trustAsResourceUrl(De)}})},je}(),qa=function(){return function(){this.restrict="E",this.templateUrl="views/tiles/workbookTile.html",this.replace=!0,this.scope={viewModel:"=",title:"="},this.controller=T(ri),this.link=function(z,ne,De){z.onTileImageReady=function(Qe){ne.find("img.internalWorkbookTileImage").on("load",function(gt){Qe(gt.currentTarget)})}}}}(),Ca=t(123019),en=function(){function je(z,ne){this.localizationService=ne,this.contract=z,this.contentProviderDialogModel=new Ca.rg(!1,"Ok",!0,this.localizationService,!0,!0,!1),this.temporaryDashboardMap=null,this.viewMode=0,this.contentProviderDialogModel.confirmButtonText=this.localizationService.get("PBI_Button_Label_OK")}return Object.defineProperty(je.prototype,"dashboards",{get:function(){return this._dashboards},set:function(ne){this._dashboards=ne},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"visibleDashboards",{get:function(){return _.filter(this._dashboards,function(ne){return!ne.isHidden})},enumerable:!1,configurable:!0}),Object.defineProperty(je.prototype,"models",{get:function(){return this.contract.models},enumerable:!1,configurable:!0}),je.prototype.cacheTemporaryDashBoardMapping=function(z,ne){this.temporaryDashboardMap={temporaryId:z,resolvedId:ne}},je.prototype.calculateLayout=function(){if(this._dashboards)for(var z=0,ne=this._dashboards;z<ne.length;z++)ne[z].calculateLayout()},je.prototype.applyLayout=function(z){if(this._dashboards)for(var ne=0,De=this._dashboards;ne<De.length;ne++)De[ne].applyLayout()},je.prototype.findDashboard=function(z){return this.dashboards[this.getDashboardIndex(z)]},je.prototype.findDashboardByGUID=function(z){var ne=this.dashboards;this.temporaryDashboardMap&&this.temporaryDashboardMap.resolvedId&&this.temporaryDashboardMap.temporaryId&&this.temporaryDashboardMap.temporaryId===z&&(z=this.temporaryDashboardMap.resolvedId);for(var De=0,Qe=ne.length;De<Qe;De++)if(ne[De].objectId===z)return ne[De]},je.prototype.getDashboardIndex=function(z){for(var ne=this.dashboards,De=0,Qe=ne.length;De<Qe;De++)if(ne[De].id===z)return De;return-1},je}(),tn=function(){function je(z,ne,De,Qe,gt,wt,Ht,Jt){u.fF.assertValue(z,"telemetryService"),u.fF.assertValue(ne,"downgradedUrlBuilder"),u.fF.assertValue(De,"errorService"),u.fF.assertValue(Qe,"visualPlugins"),u.fF.assertValue(gt,"promiseFactory"),u.fF.assertValue(wt,"geolocationService"),u.fF.assertValue(Ht,"dataServiceModelConverter"),this.dataServiceModelConverter=Ht,this.localizationService=Jt}return je.prototype.setModelMerger=function(z){this.modelMerger=z},je.prototype.fillReport=function(z,ne){this.dataServiceModelConverter.fillReport(z,ne)},je.prototype.convertReport=function(z){return this.dataServiceModelConverter.convertReport(z)},je.prototype.convertModel=function(z){return this.dataServiceModelConverter.convertModel(z)},je.prototype.convertDashboardContainerShallow=function(z){var ne=new en(z,this.localizationService);return ne.activeViewMode=z.activeViewMode,ne.userId=z.userId,ne},je.prototype.fillDashboardContainerDashboard=function(z){var ne=this;if(z.dashboards&&1===z.dashboards.length){var De=z.packages||[],Qe=z.dashboards[0];Qe.tiles&&Qe.tiles.map(function(gt){ne.resolveTilePackage(gt,De)})}},je.prototype.setDashboardHasUpdate=function(z,ne){z.hasUpdate=!1;var De=_.find(ne,function(Qe){return Qe.id===z.contract.originalPackageId});De&&De.latestVersion&&De.version!==De.latestVersion&&(z.hasUpdate=!0)},je.prototype.fillDashboardContainerDashboards=function(z,ne){ne.dashboards&&(z.userId=ne.userId,this.fillDashboardContainerDashboardsFromBasicDashboardContainer(z,ne))},je.prototype.fillDashboardContainerDashboardsFromBasicDashboardContainer=function(z,ne){var De=this;if(ne.dashboards){var Qe=ne.reports||[],gt=ne.workbooks||[],wt=ne.models||[],Ht=ne.packages||[];z.dashboards=ne.dashboards.map(function(Jt){var rr=De.convertDashboard(Jt,wt,Qe,gt);return De.setDashboardHasUpdate(rr,Ht),Jt.id===ne.activeDashboardId&&rr.contract.tiles&&rr.contract.tiles.map(function(cr){De.resolveTilePackage(cr,Ht)}),rr})}},je.prototype.updateBasicDashboardContainer=function(z){var ne=z.dashboards;void 0===z.activeDashboardId&&ne&&ne.length>0&&(z.activeDashboardId=ne[0].id),this.modelMerger.mergeModelContentProviderId(z.models,z.packages)},je.prototype.resolveTilePackage=function(z,ne){this.dataServiceModelConverter.resolveTilePackage(z,ne)},je.prototype.getTileReport=function(z,ne){return this.dataServiceModelConverter.getTileReport(z,ne)},je.prototype.convertDashboardContainer=function(z){var ne=this.convertDashboardContainerShallow(z);return this.fillDashboardContainerDashboards(ne,z),ne},je.prototype.convertDashboard=function(z,ne,De,Qe){return this.dataServiceModelConverter.convertDashboard(z,ne,De,Qe)},je.prototype.fillDashboardChildren=function(z,ne,De,Qe){return this.dataServiceModelConverter.fillDashboardChildren(z,ne,De,Qe)},je.prototype.convertTile=function(z,ne,De,Qe){return this.dataServiceModelConverter.convertTile(z,ne,De,Qe)},je.prototype.convertCompositeTile=function(z){return this.dataServiceModelConverter.convertCompositeTile(z)},je.prototype.convertTileData=function(z){return this.dataServiceModelConverter.convertTileData(z)},je.prototype.convertReportTile=function(z){return this.dataServiceModelConverter.convertReportTile(z)},je.prototype.convertTileConfig=function(z){return this.dataServiceModelConverter.convertTileConfig(z)},je}(),Ha=function(){function je(z){this.dataServiceModelMerger=z}return je.prototype.mergeDashboard=function(z,ne,De,Qe,gt){this.dataServiceModelMerger.mergeDashboard(z,ne,De,Qe,gt)},je.prototype.mergeModelContentProviderId=function(z,ne){if(z)for(var De=0,Qe=z;De<Qe.length;De++){var gt=Qe[De];gt.contentProviderId=gt.contentProviderId||(0,zr.ER)(ne,gt.packageId)}},je}();function an(je){je.put("components/printableImage/printableImage.html",'<img class="image" ng-class="{loaded: $ctrl.imageLoaded, animate: !$ctrl.disableAnimation}" ng-src="{{$ctrl.source}}" referrerPolicy="origin" on-load="$ctrl.onLoad()" on-error="$ctrl.onError()" draggable="false" alt="{{$ctrl.altText}}"/>'),je.put("views/dashboard.html",'<div class="dashboard" container-printer calculate-print-styles="calculatePrintStyles" print-container-selector="dashboard"><pbi-data-loader-spinner class="centered" ng-if="!hideSpinner && !viewModel.isLoaded && !isGroupTransitionDelayed && !showReloadDashboard"></pbi-data-loader-spinner><div class="error" ng-if="!viewModel.isLoaded && showReloadDashboard"><i class="glyphicon pbi-glyph-error glyph-large"></i><h3 localize="DashboardTilesLoadError_Title"></h3><span class="tileLoadErrorMessage" localize="DashboardTilesLoadError_Message1" localize-fragments><a fragment-index="0" href="https://support.powerbi.com" target="_blank" localize="DashboardTilesLoadError_Message2"></a><span fragment-index="1" localize="DashboardTilesLoadError_Message3"></span></span> <button class="biButton primary" ng-click="reloadActiveDashboard()" localize="DashboardTilesLoadError_Reload"></button></div><ul class="tileContainer" ng-show="!showReloadDashboard" grid-layout id="dashboard{{viewModel.id}}"><dashboard-tile ng-repeat="tile in filteredTiles() track by tileTrackerFn(tile)" view-model="tile" can-edit="canEditTiles()" disable-keyboard-nav="disableKeyboardNav" disable-pointer-events="{{::disablePointerEvents}}" grid-layout-item grid-layout-container="gridLayoutContainer" ng-repeat-finish-event="dashboardTileRepeatFinished" remove-tile-from-mobile-view="removeTileFromMobileView(tile)" in-edit-mobile-layout-mode="inEditMobileLayoutMode" touch-action="{{dashboardTileTouchAction}}"></dashboard-tile></ul></div>'),je.put("views/dashboardWrapper.html",'<dashboard disable-tile-ease-in="disableTileEaseIn" view-model="viewModel" display-layout="displayLayout" disable-pointer-events="disablePointerEvents" mobile-layout="mobileLayout" in-edit-mobile-layout-mode="inEditMobileLayoutMode"></dashboard>'),je.put("views/tiles/compositeTile.html",'<div class="compositeTile" ng-class="{ fullLayout: viewModel.config.layoutType === 1 }"><div class="visualTile"><downgraded-visual-modern ng-if="$ctrl.readyToRender()" [view-model]="viewModel.visual" [allow-deferred-rendering]="::allowDeferredRendering" supports-screen-reader="true" (visual-ready)="$ctrl.onVisualDataChanged()"></downgraded-visual-modern></div></div>'),je.put("views/tiles/dashboardTile.html",'<li class="dashboardTile baseTile" in-viewport="onceInViewport()" in-viewport-context="{{::viewportContextSelector}}" in-viewport-offset="100%" ng-class="{selected: model.isSelected || hasSpotlight(), readonly: isReadOnly(), nonActionable: isNonActionable(), hasSpotlight: hasSpotlight()}" ng-click="$event.stopPropagation()" accessible-click="openTile(disablePointerEvents, $event)" tabindex="{{disableKeyboardNav && !(model.isSelected || hasSpotlight()) ? -1 : 0}}" ng-mouseenter="setHover(true)" ng-mouseleave="setHover(false)" ng-focus="setHover(true)" ng-attr-aria-label="{{getTileAriaLabel()}}"><dashboard-tile-open-options ng-if="displayDashboardTileOpenOptions()" model="model"></dashboard-tile-open-options><div ng-if="inViewport" class="tileWrapper" ng-switch="viewModel.isLocked"><div ng-switch-when="false" ng-style="viewModel.tileStyles" class="dashboardTileLayout"><section ng-if="::(inEditMobileLayoutMode || displayDashboardTileShowIcon())"> <button ng-click="addTileToMobileView()" class="tileAction pinTile glyphicon pbi-glyph-pinned glyph-small showTileIcon" localize-tooltip="DashboardTile_ToggleVisibility" ng-if="displayDashboardTileShowIcon()"></button> <button ng-click="removeTileFromMobileView()" class="tileAction unpinTile glyphicon pbi-glyph-unpin glyph-small" localize-tooltip="DashboardTile_unpinTile" ng-if="::(!displayDashboardTileShowIcon())"></button></section><a class="urlTile" ng-attr-href="{{viewModel.href}}" ng-attr-target="{{viewModel.hrefTarget}}" rel="noopener noreferrer" draggable="false"><tile view-model="viewModel" in-edit-mobile-layout-mode="inEditMobileLayoutMode" disable-pointer-events="{{::disablePointerEvents}}" header-click-target="openNotification ? openNotifications(event) : openTile(true, event)"></tile></a></div><div ng-switch-when="true" class="permissionLockedTileWrapper"><div class="permissionLockedTileContainer" ng-switch="refreshingPermissions"><loading-tile ng-switch-when="true" [message-key]="\'PermissionCenter_LoadingTile\'"></loading-tile><permission-locked-tile ng-switch-when="false"></permission-locked-tile></div></div></div><div ng-if="viewModel.shouldNewBadgeAppear" class="newBadgeContainer" localize="New_Capitalized"></div></li>'),je.put("views/tiles/reportTile.html",'<div class="explorationContainer reportTile"><downgraded-exploration ng-if="reportTilesPopulated && !viewModel.isError" [view-model]="viewModel.exploration" [disable-print]="true"></downgraded-exploration><error-placeholder ng-if="viewModel.isError" [error-text]="viewModel.errorText"></error-placeholder></div>'),je.put("views/tiles/tile.html",'<div class="tile baseTile tilePosition" ng-class="{ noTitle: !viewModel.hasTitle(), largeHeader:largeHeader, noSubtitle: !viewModel.hasSubtitle() && viewModel.hasTitle() }"><div class="item-auto" ng-if="::(viewModel.type === 1 && !viewModel.hasTitle())"><div class="webContentCorner"></div> <button class="webContentIcon" localize-tooltip="WebContentWarning_Widget" ng-click="onIconClick(getWebContentIcon(), $event)"><i class="glyphicon pbi-glyph-securityalert glyph-small"></i></button></div><ng-container ng-if="viewModel.composite && viewModel.composite.licenseUIManager"><downgrade-license-blocker ng-if="shouldDisplayLicenseBlocker" visual-type="{{visualType}}" tile-object-id="{{viewModel.contract.objectId}}"></downgrade-license-blocker><downgrade-license-environment-blocker ng-if="shouldDisplayLicenseEnvironmentBlocker" visual-type="{{visualType}}"></downgrade-license-environment-blocker><downgrade-license-banner ng-if="shouldDisplayFeatureBlockedBanner" feature-blocked-tooltip="{{viewModel.composite.licenseUIManager.featureBlockedTooltip}}" [should-start-banner-leave-animation]="shouldStartBannerLeaveAnimation" (is-animation-done)="viewModel.composite.licenseUIManager.clearBanner()" visual-type="{{visualType}}"></downgrade-license-banner></ng-container><header class="flexbox" ng-class="{ sensitivityBanner: (hasSensitivityBanner && !hasExpandSensitivityBanner), sensitivityBannerExpanded: hasExpandSensitivityBanner }"><triggered-recompile trigger="refreshIconsTrigger"> <button ng-repeat="icon in ::getIcons()" class="item-auto {{::icon.itemClass}}" ng-if="::icon.show()" title="{{::icon.tooltip()}}" ng-click="onIconClick(icon, $event)"><i class="glyphicon glyph-small {{::icon.iconClass}}"></i><span class="badge" ng-if="::icon.hasBadge" ng-bind="icon.badgeValueSetter()"></span></button></triggered-recompile><div class="headerText unselectable" ng-click="headerClickTarget({event: $event})"><section ng-class="{ headerTitleWrapper: !showCommentIndicator() }"><div class="displayText" ng-style="viewModel.tileHeaderStyles" ng-bind="viewModel.getDisplayText()" title="{{viewModel.getDisplayText()}}"></div><div class="flexbox subDisplayTextWrapper"><span class="subDisplayText item-auto first-part" ng-style="viewModel.tileHeaderStyles" ng-bind="viewModel.getSubDisplayText()" title="{{viewModel.getSubDisplayText()}}"></span> <span class="subDisplayText item-auto" ng-style="viewModel.tileHeaderStyles" ng-show="viewModel.shouldPlaceBulletSeperator()">\u2022</span><span class="subDisplayText" ng-style="viewModel.tileHeaderStyles" bind-text-and-tooltip="viewModel.lastRefreshTimeInLocaleWithLabel()"></span></div></section> <button class="item-auto commentIndicator" ng-if="showCommentIndicator()" ng-click="selectTileConversations($event)" title="{{showConversationsToolTip()}}"><i class="glyphicon glyph-small pbi-glyph-comment"></i></button></div></header><section><div class="loadingPlaceholder" ng-if="viewModel.isTileLoading"><div class="loadingPlaceholderText glyphicon pbi-glyph-powerbi glyph-large"></div></div><div ng-show="!viewModel.isTileLoading && shouldShowTileVisual()" class="tileBody unselectable" ng-class="::{nonInteractive: disablePointerEvents}" ng-style="contentStyleWithSensitivity()" ng-switch on="::{{viewModel.type}}"><composite-tile view-model="viewModel.composite" ng-switch-when="0" allow-interactivity="{{::allowInteractivity}}" on-clear-tile-error="onClearTileError()"></composite-tile><iframe-tile [view-model]="viewModel.iframe" [embed-code]="viewModel.iframe.embedCode" ng-switch-when="1"></iframe-tile><image-tile [image-url]="viewModel.image.imageUrl" alt-text="{{::altText}}" ng-attr-title="{{viewModel.displayText}}" ng-switch-when="2"></image-tile><model-tile [view-model]="viewModel.model" ng-switch-when="3"></model-tile><ssrs-tile [image-url]="viewModel.ssrs.imageUrl" ng-switch-when="4"></ssrs-tile><workbook-tile view-model="viewModel.workbook" ng-switch-when="5"></workbook-tile><div pbi-lazy-load-contents="moduleConfig" ng-switch-when="6"><report-tile view-model="viewModel.reportTile"></report-tile></div><ng-container ng-switch-when="8"><pbi-lazy-load-modern [module-path]="realTimeTileLazyPath" [component-id]="\'RealTimeTileComponentId\'" [input-args]="realTimeTileModernInputArgs" [output-args]="realTimeTileModernOutputArgs"></pbi-lazy-load-modern></ng-container></div><error-placeholder ng-if="!shouldShowTileVisual()" [error-text]="errorText" [error-details]="errorDetails" [tile-type]="viewModel.type"></error-placeholder></section></div>'),je.put("views/tiles/tileWrapper.html",'<tile view-model="viewModel" in-edit-mobile-layout-mode="inEditMobileLayoutMode" header-click-target="headerClickTarget()" disable-pointer-events="{{disablePointerEvents}}" allow-interactivity="{{!!allowInteractivity}}" large-header="largeHeader"></tile>'),je.put("views/tiles/workbookTile.html",'<div class="workbookTile" ng-class="{hasTitle: title}" ng-switch="useLiveEwaControl"><iframe ng-src="{{::workbookTileUrl}}" role="presentation" ng-switch-when="true"></iframe><printable-image source="{{viewModel.dynamicImageUrl}}" disable-animation="true" ng-class="{backgroundOriginalSize: viewModel.keepOriginalContentSize}" ng-switch-when="false"></printable-image> <img class="internalWorkbookTileImage" name="internalWorkbookTileImage" ng-src="{{viewModel.previewImageUrl}}" ng-hide="true"/></div>')}var nn=t(869425),Va=t(101696),Ga=t(893612),Oa=window,Qa=window,Fr=function(){function je(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr,kr,Xr,ei,gi,Ci,hi,Ei,Ai,La,pa){var Ba=this;this.rootScope=z,this.navigation=ne,this.timeout=De,this.telemetryService=Qe,this.modelMerger=gt,this.modelConverter=wt,this.dashboardDataService=Ht,this.dashboardHttpService=Jt,this.dashboardSyncService=rr,this.promiseFactory=cr,this.reportService=vr,this.viralTenantMergeHelperService=Sr,this.modelService=Tr,this.appMetadataService=Rr,this.workbookService=Kr,this.resourcePackagesService=Wr,this.userSettingsService=kr,this.visualPluginService=Xr,this.userActivityContextService=ei,this.editableFeatureSwitchService=gi,this.shellCapabilities=Ci,this.dashboardStore=hi,this.globalEventBridge=Ei,this.resourcePackageListenerService=Ai,this.$injector=La,this.userInfo=pa,this.modelIdsForTileRefresh=[],this.initializeContainer();var oi=this.rootScope.$on(Or.bB,function($i,Ki){return Ba.updateDashboardContainer(Ki)});this.dashboardLoadingPromises={},this.inFlightSyncRequests={},this.rootScope.$on("$destroy",function(){oi()})}return Object.defineProperty(je.prototype,"dashboardThemeService",{get:function(){return this._dashboardThemeService||(this._dashboardThemeService=this.$injector.get("dashboardThemeService")),this._dashboardThemeService},enumerable:!1,configurable:!0}),je.prototype.addOrUpdateDashboard=function(z){this.modelConverter.fillDashboardContainerDashboard(z),this.registerAndLoadResourcePackages(z)},je.prototype.addOrUpdateTile=function(z,ne,De){this.dashboardSyncService.addOrUpdateTile(z,ne,De)},je.prototype.batchUpdateTileSizePosition=function(z,ne){var De=this,Qe=this.telemetryService.startEvent(vi.mw,{tilesChanged:ne.length}),gt=this.dashboardHttpService.batchUpdateTileSizePosition(this.promiseFactory,z.contract,ne,Qe.event);return gt&&gt.then(function(){Qe.resolve(),z&&z.isUsedByContentPack&&De.rootScope.$emit(fi.tyL,z.id,nn.m.Dashboard)},function(){Qe.reject()}),gt},je.prototype.loadDashboard=function(z,ne){var De=this;if(this.dashboardLoadingPromises[z])return this.dashboardLoadingPromises[z];var Qe=this.promiseFactory.defer();this.dashboardLoadingPromises[z]=Qe.promise;var gt=[],wt=0,Ht=0;for(wt=0;wt<3;wt++)gt.push(this.timeout(function(){De.loadDashboardInternal(z,ne).then(function(Jt){Qe.resolve(Jt);for(var rr=gt.length,cr=0;cr<rr;cr++)cr!==Ht&&De.timeout.cancel(gt[cr])},function(Jt){Ht++>=2&&(Qe.reject(Jt),De.rootScope.$emit(fi.M4y))})},wt*je.loadDashboardTimeout));return Qe.promise.finally(function(){return De.dashboardLoadingPromises[z]=void 0}),Qe.promise},je.prototype.loadDashboardInternal=function(z,ne){var De=this,Qe=this.promiseFactory.defer(),gt=this.telemetryService.startEvent(vi.er,{});return this.userActivityContextService.pushParentContext(gt.event),this.dashboardHttpService.getDashboards(this.promiseFactory,[z],ne,null).then(function(wt){if(wt.length>0&&wt[0].data){var Ht=wt[0],Jt=Ht.data;De.registerAndLoadResourcePackages(Jt).finally(function(){De.updateDashboardContainer([Jt]);var cr=De.dashboardDataService.findDashboard(z);Qe.resolve(cr),cr&&(gt.event.info.dashboardGuid=cr.objectId),gt.event.info.pendingRequestCount=Ht.pendingRequestCount,gt.resolve(),De.userActivityContextService.popParentContext(gt.event)})}else{if(_.isEmpty(wt))Qe.reject(),gt.reject();else{var rr=wt[0];Qe.reject(rr),gt.event.info.pendingRequestCount=rr.pendingRequestCount,gt.reject((0,Va.GB)(rr.error))}De.userActivityContextService.popParentContext(gt.event)}}).catch(function(wt){angular.isArray(wt)&&(wt=wt[0]),Qe.reject(wt),gt.reject({errorCode:wt.errorCode||wt.status}),De.userActivityContextService.popParentContext(gt.event)}),Qe.promise},je.prototype.refreshTileData=function(z,ne){var De=this;if(z>0){if(this.updateModelIdsForTileRefresh(ne),_.isEmpty(this.modelIdsForTileRefresh))return;this.refreshTileDataPromise&&(this.timeout.cancel(this.refreshTileDataPromise),this.refreshTileDataPromise=null),this.refreshTileDataPromise=this.timeout(function(){var Qe=De.dashboardDataService.findDashboard(z),gt=De.telemetryService.startEvent(vi.Ys,{dashboardGuid:Qe.objectId});De.dashboardHttpService.refreshTileData(z,De.modelIdsForTileRefresh,gt.event).then(function(wt){De.checkRefreshTileResponse(wt.data),De.dashboardDataService.onDashboardTileRefreshStarted(z),gt.resolve()},function(wt){gt.reject((0,Va.GB)(wt.error))}),De.modelIdsForTileRefresh=[]},je.refreshTileDataDelayMs)}},je.prototype.throwErrorOnTileRefrashFailed=function(z){this.rootScope.$emit(fi.aqt,z.modelIds)},je.prototype.allowQueryRefreshForModel=function(z){var ne=_.head(this.modelService.findModels(z));return u.fF.assertValue(ne,"Model is not found"),!(!ne||1===ne.getRefreshDisabledReason())},je.prototype.checkRefreshTileResponse=function(z){if(z&&!_.isEmpty(z.tileErrors))for(var ne=0,De=z.tileErrors;ne<De.length;ne++){var Qe=De[ne];Qe.errorResponse.error.code===G.Px$&&this.throwErrorOnTileRefrashFailed(Qe)}},je.prototype.registerAndLoadResourcePackages=function(z){var ne=this.promiseFactory.defer();if(!z)return ne.resolve(null),ne.promise;var De=z.resourcePackages;if(De&&De.length>0){for(var Qe=[],gt=!1,wt=0,Ht=De;wt<Ht.length;wt++){var Jt=Ht[wt];if(this.isDashboardThemeResourcePackage(Jt)){if(z.activeDashboardId){var cr=_.find(z.dashboards,function(Tr){return Tr.id===z.activeDashboardId});Qe.push(this.dashboardThemeService.loadTheme(cr&&cr.objectId,Jt))}}else if(!this.resourcePackagesService.getPackageById(Jt.id)){var Sr=(0,fa.JZ)(Jt);this.resourcePackagesService.registerPackages([Jt]),Sr&&(gt=!0,Qe.push(this.visualPluginService.ensurePlugin(Jt,!1)))}}return this.telemetryService.logEvent(vi.N3,{resourcePackageLength:De?De.length:0,compositeTileHasCustomVisual:gt}),this.promiseFactory.allSettled(Qe)}return ne.resolve(null),ne.promise},je.prototype.loadDashboardContainer=function(z){var ne=this,De=this.promiseFactory.defer(),Qe=[this.appMetadataService.getAppMetadata(),this.shellCapabilities.ensureCapabilitiesInitialized()];return this.promiseFactory.allSettled(Qe).then(function(gt){var wt=gt[0];if(0===wt.type){var Ht=wt.value;ne.initializeDashboardContainer(Ht),ne.registerAndLoadResourcePackages(Ht).finally(function(){return De.resolve()})}else ne.dashboardHttpService.getDashboardContainer(z).then(function(Jt){Jt.data.models&&(ne.modelService.mergeDatasetCollection(Jt.data.models),ne.dashboardDataService.updateActiveDashboardModels()),Jt.data.featureSwitches&&ne.editableFeatureSwitchService.registerFeatureSwitches(Jt.data.featureSwitches),ne.userSettingsService.getUserSettings().then(function(rr){Jt.data.userSettings=rr.contract}),ne.initializeDashboardContainer(Jt.data),ne.registerAndLoadResourcePackages(Jt.data).finally(function(){return De.resolve()})},function(Jt){De.reject()})}),De.promise},je.prototype.isDashboardThemeResourcePackage=function(z){return z&&1===z.type&&z.items&&1===z.items.length&&(z.items[0].type===Ga.Ut.DashboardTheme||z.items[0].type===Ga.Ut.DashboardBaseTheme)},je.prototype.initializeContainer=function(){return(0,s.__awaiter)(this,void 0,i.J,function(){var z;return(0,s.__generator)(this,function(De){switch(De.label){case 0:z=this.telemetryService.startEvent(vi.ho,{errorReason:"",userSwitchedGroups:!1,userIsBrowsingArchivedContent:this.viralTenantMergeHelperService.viewingDataFromMergedViralTenant()}),Qa.initializeContainerStartTime&&(z.event.time=Qa.initializeContainerStartTime.getTime()),De.label=1;case 1:return De.trys.push([1,3,,4]),[4,this.loadDashboardContainer(z.event)];case 2:return De.sent(),this.rootScope.$emit(fi.O_c),z.resolve(),[3,4];case 3:return De.sent(),z.reject(),[3,4];case 4:return[2]}})})},je.prototype.markDashboardAsLoaded=function(z){if(z)return z.isLoaded=!0,this.refreshDashboardTilePermissionsUponLoad(z,this.dashboardStore,this.userInfo)},je.prototype.updateModelIdsForTileRefresh=function(z){z&&!_.some(this.modelIdsForTileRefresh,function(De){return De===z})&&this.allowQueryRefreshForModel(z)&&!_.some(this.modelIdsForTileRefresh,function(De){return De===z})&&this.modelIdsForTileRefresh.push(z)},je.prototype.initializeDashboardContainer=function(z){Oa.initialDashboardContainer||(Oa.initialDashboardContainer=z),this.modelConverter.updateBasicDashboardContainer(z)},je.prototype.updateDashboard=function(){var z=this.dashboardDataService.findDashboardByGUID(this.navigation.currentDashboardGUID);z&&!z.isFilled()&&(this.modelConverter.fillDashboardChildren(z,this.reportService.getReportContracts(),this.workbookService.workbooks),z.calculateLayout(),z.applyLayout())},je.prototype.updateDashboardContainer=function(z){if(z){for(var ne=this.modelConverter,De=this.modelMerger,Qe=this.dashboardDataService,gt=function(cr,vr){var Sr=z[cr],Tr=Sr.dashboards[0],Rr=wt.dashboardDataService.findDashboard(Tr.id);if(Rr?(wt.dashboardStore.update(Rr.contract,Tr),Rr.contract=Tr,De.mergeDashboard(Rr,Tr,Sr.models,Sr.reports,Sr.workbooks)):(Rr=ne.convertDashboard(Tr,Sr.models,Sr.reports,Sr.workbooks),wt.dashboardStore.addOrUpdate(Tr)),Rr.contract.tiles){var Kr=z[cr].packages||[];Rr.contract.tiles.map(function(Ci){ne.resolveTilePackage(Ci,Kr)});for(var Wr=0,kr=Rr.tiles;Wr<kr.length;Wr++){var Xr=kr[Wr];Xr.invalidateLayout();var gi=ne.getTileReport(Xr.contract.reportId,z[cr].reports||[]);gi&&(Xr.report=Xr.report||new Hr.y(gi),ne.fillReport(Xr.report,gi))}}wt.markDashboardAsLoaded(Rr)},wt=this,Ht=0,Jt=z.length;Ht<Jt;Ht++)gt(Ht);this.updateDashboard(),Qe.updateActiveDashboardModels()}},je.prototype.refreshDashboardTilePermissionsUponLoad=function(z,ne,De){return(0,s.__awaiter)(this,void 0,void 0,function(){var Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr=this;return(0,s.__generator)(this,function(Rr){switch(Rr.label){case 0:return u.fF.assert(function(){return z.isLoaded},"dashboard needs to be loaded!"),u.fF.assertValue(z.contract,"dashboard contract missing"),Qe=z.contract&&z.contract.tiles,_.isEmpty(Qe)?[2]:(gt=z.id,(wt=this.inFlightSyncRequests[z.id])?[2,wt.promise]:(Ht=20,De.isUserMetadataRefreshed||!_.some(Qe,function(Kr){return Kr.errorCode===Ht})||this.dashboardDataService.dropDashboardfromMemoryIfNotActive(gt)?[2]:(wt=this.inFlightSyncRequests[z.id]=this.promiseFactory.defer(),Jt=function(){delete Tr.inFlightSyncRequests[z.id],wt.resolve(null)},[4,De.userMetadataPromise])));case 1:for(Rr.sent(),rr=[],cr=0,vr=Qe||[];cr<vr.length;cr++)(Sr=vr[cr]).errorCode===Ht&&Sr.id&&rr.push(Sr.id);return _.isEmpty(rr)||this.dashboardDataService.dropDashboardfromMemoryIfNotActive(gt)?(Jt(),[2]):[4,this.dashboardSyncService.onTilesAddedOrUpdated(gt,rr)];case 2:return Rr.sent(),Jt(),[2]}})})},je.refreshTileDataDelayMs=500,je.loadDashboardTimeout=3e4,je}();function Nr(){ci||(window.dashboardDefined&&Qi(),angular.module("powerbi.components",[]),angular.module("powerbi.controllers",[]),angular.module("powerbi.directives",[]),angular.module("powerbi.filters",[]),angular.module("powerbi",["powerbi.common","powerbi.common.directives","powerbi.components","powerbi.controllers","powerbi.dashboard","powerbi.directives","powerbi.filters","powerbi.visualHost","powerbi.dataServices","ngSanitize","powerbi.explore"]).config(["$compileProvider",function(z){z.aHrefSanitizationWhitelist(new RegExp(z.aHrefSanitizationWhitelist().source+"|^s*(data):"))}]).factory("modelConverter",["telemetryService","downgradedUrlBuilder","errorService","visualPlugin","promiseFactory","geolocationService","dataServiceModelConverter","localizationService",function(z,ne,De,Qe,gt,wt,Ht,Jt){return function(je,z,ne,De,Qe,gt,wt,Ht){return new tn(je,z,ne,De,Qe,gt,wt,Ht)}(z,ne,De,Qe,gt,wt,Ht,Jt)}]).factory("modelMerger",["modelConverter","dataServiceModelMerger",function(z,ne){var De=new Ha(ne);return z.setModelMerger(De),De}]).factory("dashboardService",["$rootScope","navigation","$timeout","telemetryService","modelMerger","modelConverter","dashboardDataService","dashboardHttpService","dashboardSyncService","promiseFactory","reportService","viralTenantMergeHelperService","modelService","appMetadataService","workbookService","resourcePackagesService","userSettingsService","visualPlugin","userActivityContextService","editableFeatureSwitchService","shellCapabilities","dashboardStore","globalEventBridge","resourcePackageListenerService","$injector","userInfo",function(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr,kr,Xr,ei,gi,Ci,hi,Ei,Ai,La,pa){return new Fr(z,ne,De,Qe,gt,wt,Ht,Jt,rr,cr,vr,Sr,Tr,Rr,Kr,Wr,kr,Xr,ei,gi,Ci,hi,Ei,Ai,La,pa)}]).run(["localizationService","httpService",function(z,ne){var De=window.powerbi;De.common.localize=z,De.common.httpService=ne,Ni.e.initialize(z)}]).run(["dataServiceModelMerger",function(z){}]).run(["folderService",function(z){}]).run(["licenseEnforcementService",function(z){}]).run(["$templateCache",an]),ci=!0)}var ci=!1;"undefined"==typeof angular&&(ci=!0),Nr();var Wi=["self","**"];function ki(){if(!Di){et(),Nr();var je=Gr.s.getQueryStringValue("isE2ERun")||Gr.s.getQueryStringValue("isE2ERun2")||!1;angular.module("powerbi.web",["powerbi.common.directives","powerbi","powerbi.controllers","powerbi.directives","powerbi.components","powerbi.filters"]).config(["$compileProvider","$ocLazyLoadProvider",function(ne,De){je?De.config({debug:!0}):ne.debugInfoEnabled(!1)}]).config(["pbiLazyLoadProvider",function(ne){ne.setHostEnv(8)}]).config(["$sceDelegateProvider",function(ne){ne.resourceUrlWhitelist(Wi)}]).config(["$httpProvider",function(ne){ne.useApplyAsync(!0)}]).run(["$window","telemetryService","$injector",function(ne,De,Qe){window.alert=function(wt){};var gt=window.onerror||_.noop;window.onerror=(0,Qr.Ht)(De,gt,Jr.h,Jr.C6)}]).factory("$exceptionHandler",["telemetryService","customTraceLoggerService",function(ne,De){return(0,Qr.F6)(ne,De,Jr.Wj)}]),z=[{name:"ContainerPrinter",dependencies:["featureSwitchService","localizationService","globalEventBridge"],blockType:1,consumerHostFlags:8203,factory:U},{name:"BindTextAndTooltip",blockType:1,consumerHostFlags:1165,factory:I},{name:"InViewport",blockType:1,consumerHostFlags:25995,factory:pe},{name:"LegacyScopedRoot",blockType:2,consumerHostFlags:2097151,factory:w},{name:"Localize",dependencies:["localizationService"],blockType:1,consumerHostFlags:2097151,factory:oe},{name:"LocalizeAttr",dependencies:["localizationService"],blockType:1,consumerHostFlags:2097151,factory:ye},{name:"LocalizeTooltip",dependencies:["localizationService"],blockType:1,consumerHostFlags:2097151,factory:Ce},{name:"NgRepeatFinishEvent",dependencies:["$timeout"],blockType:1,consumerHostFlags:2097151,factory:Be},{name:"PbiLazyLoadContents",dependencies:["$compile","pbiLazyLoad","moduleLoader"],blockType:1,consumerHostFlags:2097151,factory:Te},{name:"GridLayout",blockType:1,consumerHostFlags:1192,factory:Y},{name:"GridLayoutItem",dependencies:["ngZone"],blockType:1,consumerHostFlags:1192,factory:Ye},{name:"TriggeredRecompile",blockType:2,consumerHostFlags:2097151,factory:A}],at(8,r,{directivesTarget:"powerbi.a11y"}),at(8,z,{directivesTarget:"powerbi.common.directives",componentsTarget:"powerbi.common.components"}),function(je){for(var z=0,ne=Ut;z<ne.length;z++){var De=ne[z];8==(8&De.consumerHostFlags)&&Pr(De.name,De.factory)}}(),at(8,[],{componentsTarget:"powerbi.explore.components",directivesTarget:"powerbi.explore.directives"}),at(8,[{name:"CompositeTile",blockType:1,consumerHostFlags:168,factory:ja},{name:"Dashboard",dependencies:["telemetryService","gridLayout","userActivityContextService","appService","userInfo","$timeout","folderService","dashboardLoadingProgressTracking","modelService","permissionService","usageMetricsReport","asyncFeatureSwitchService","packageService","informationProtectionService","artifactEndorsementService","globalEventBridge"],blockType:1,consumerHostFlags:168,factory:Pa},{name:"DashboardTile",blockType:1,consumerHostFlags:168,factory:Fi},{name:"DashboardWrapper",blockType:1,consumerHostFlags:168,factory:Ea},{name:"OnLoad",blockType:1,consumerHostFlags:168,factory:Ma},{name:"PrintableImage",blockType:2,consumerHostFlags:168,factory:Ri},{name:"ReportTile",blockType:1,consumerHostFlags:168,factory:Ra},{name:"ReportTileInner",blockType:1,consumerHostFlags:168,factory:mi},{name:"Tile",blockType:1,consumerHostFlags:168,factory:ln},{name:"TileWrapper",blockType:1,consumerHostFlags:2097151,factory:Ka},{name:"WorkbookTile",dependencies:["networkAvailability","localizationService"],blockType:1,consumerHostFlags:168,factory:qa}],{componentsTarget:"powerbi.components",directivesTarget:"powerbi.directives",filtersTarget:"powerbi.filters"}),Di=!0}var z}var Di=!1;"undefined"==typeof angular&&(Di=!0),ki()},557634:function(Xe,H,t){t.d(H,{C:function(){return o}});var e=t(947634),l="PBI.Annotations.OpenAnnotationsPane",o=e.cx[l]=(0,e.b1)(l)},199624:function(Xe,H,t){t.d(H,{BD:function(){return S},Gu:function(){return m},H9:function(){return o},JO:function(){return r},LN:function(){return x},OI:function(){return i},VA:function(){return c},bB:function(){return h},hN:function(){return L},kg:function(){return v},lr:function(){return g},ms:function(){return s},ty:function(){return l},yE:function(){return R}});var e=t(515854),l="contentPackDirty",o="reportDeleted",v="deleteModelFailed",S="deleteModelStarted",h="updateDashboardContainer",c=-1,r="#loading#",s="#error#",i="CannotDeleteModelPublishedToOrganizationalApp",m=".dashboard",x=!1,R="/"+(0,e.Xr)()+"/images/modelPlaceholder.png",g="1.6",L="No visual type"},977536:function(Xe,H,t){t.d(H,{O:function(){return l},u:function(){return e}});var e={Light:"Light",Dark:"Dark","Color-blind friendly":"Color_Blind_Friendly",Custom:"Custom"};function l(){var o;return(o={}).Light={name:"Light",foreground:"#000000",background:"#EAEAEA",dataColors:["#01B8AA","#374649","#FD625E","#F2C80F","#5F6B6D","#8AD4EB","#FE9666","#A66999"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},o.Dark={name:"Dark",foreground:"#FFFFFF",background:"#484644",dataColors:["#51CFBE","#F55965","#FE9666","#92BEFF","#B577DF","#29B9EF","#3599B8","#DFBFBF"],tableAccent:"#E2A84E",tiles:{background:"#2B2B30",color:"#FFFFFF"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#FFFFFF"}}},{labelColor:{solid:{color:"#CECECE"}}}]}}}},o["Color-blind friendly"]={name:"Color-blind friendly",background:"#EAEAEA",foreground:"#000000",dataColors:["#074650","#009292","#FE6DB6","#FEB5DA","#480091","#B66DFF","#B5DAFE","#6DB6FF","#914800","#23FD23"],tiles:{background:"#FFFFFF",color:"#000000"},visualStyles:{"*":{"*":{"*":[{color:{solid:{color:"#000000"}}}]}}}},o}},293287:function(Xe,H,t){t.d(H,{G7:function(){return o},YU:function(){return e},pF:function(){return l}});var e=function(d){return d[d.composite=0]="composite",d[d.iframe=1]="iframe",d[d.image=2]="image",d[d.model=3]="model",d[d.ssrs=4]="ssrs",d[d.workbook=5]="workbook",d[d.report=6]="report",d[d.realTime=8]="realTime",d}({}),l=function(d){return d[d.NamedRange=0]="NamedRange",d[d.Parameter=1]="Parameter",d[d.Table=2]="Table",d[d.PivotTable=3]="PivotTable",d[d.Chart=4]="Chart",d[d.WebExtension=5]="WebExtension",d}({}),o=function(d){return d[d.PowerBIServiceException=0]="PowerBIServiceException",d[d.DSRException=1]="DSRException",d}({})},658806:function(Xe,H,t){t.d(H,{EZ:function(){return v},NQ:function(){return e},Y3:function(){return o},a7:function(){return l}});var e={name:"syncServiceDashboardEdited",type:4},l={name:"syncServiceDashboardDeepEdited",type:4},o={name:"syncServiceTilesAddedOrUpdated",type:4},v={name:"syncServiceTileDeleted",type:4}},677105:function(Xe,H,t){t.d(H,{_p:function(){return o}});var o={color:"#374649",fontColor:"#FFF"}},869425:function(Xe,H,t){t.d(H,{m:function(){return e}});var e=function(l){return l[l.Dashboard=0]="Dashboard",l[l.Report=1]="Report",l[l.Model=2]="Model",l[l.Workbook=3]="Workbook",l}({})},465482:function(Xe,H,t){t.d(H,{A:function(){return v}});var e=t(902731),l=t(871746),o=t(89887),v=function(){function S(h){this.contract=h,this.isEnabled=!0,this.isUsedByContentPack=!1,this.isLoaded=h&&null!=h.tiles,this.hitCount=0,this.lazyTiles=null,this.uniqueId="".concat(e.ty.Dashboard,"_").concat(this.contract.id)}return S.prototype.getPermissions=function(){var h;return this.getPermissionsCallback&&null!=(h=this.getPermissionsCallback())?h:this.contract&&this.contract.permissions},S.prototype.increaseHitCount=function(){this.hitCount++},Object.defineProperty(S.prototype,"tiles",{get:function(){return this.lazyTiles||(this.lazyTiles=new l.o(function(){return[]})),this.lazyTiles.getValue()},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"id",{get:function(){return this.contract.id},set:function(c){this.contract.id=c},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"folderId",{get:function(){return this.contract.folderId},set:function(c){this.contract.folderId=c},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"canEdit",{get:function(){return(0,o.cl)(this.contract)&&!(this.gridLayoutService&&this.gridLayoutService.strategy.isLayoutLocked)},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"contentTileType",{get:function(){return e.ty.Dashboard},enumerable:!1,configurable:!0}),S.prototype.isFilled=function(){return this.contract.tiles&&this.tiles.length===this.contract.tiles.length},S.prototype.calculateLayout=function(){this.layoutRequired=!1;var h=this.tiles;if(!_.isEmpty(h))for(var c=0,r=h;c<r.length;c++)r[c].calculateLayout()},S.prototype.applyLayout=function(){var h=this.tiles;if(!_.isEmpty(h))for(var c=0,r=h;c<r.length;c++)r[c].applyLayout()},S.prototype.runLayoutIfRequired=function(){this.layoutRequired&&(this.calculateLayout(),this.applyLayout())},S.prototype.scheduleDelayedLayout=function(h){var c=this;void 0===h&&(h=!1),this.layoutRequired||(this.layoutRequired=!0,h||setTimeout(function(){c.layoutRequired&&(c.calculateLayout(),c.applyLayout())},100))},S.prototype.findTile=function(h){return _.find(this.tiles,function(c){return c.id===h})},S.prototype.findTileByObjectIdOrOriginalObjectId=function(h,c){if(h||c)return _.find(this.tiles,function(r){return!_.isEmpty(h)&&r.contract.objectId===h||!_.isEmpty(c)&&r.contract.originalTileObjectId===c})},S.prototype.getTileIndex=function(h){return _.findIndex(this.tiles,function(c){return c.id===h})},S.prototype.getTileContractIndex=function(h){return _.findIndex(this.contract.tiles,function(c){return c.id===h})},S.prototype.getUniquePackageId=function(){var h=this.contract;return h.originalPackageId?h.originalPackageId:h.packageIds&&1===h.packageIds.length?h.packageIds[0]:void 0},S.prototype.hasModel=function(h){return _.some(this.tiles,function(c){return c.contract.modelId===h})},S.prototype.hasOwnerInfo=function(){return!_.isEmpty(this.ownerFullname)||!_.isEmpty(this.ownerMail)},S}()},658644:function(Xe,H,t){t.d(H,{G:function(){return e}});var e=function(){function l(o){this.contract=o}return l.prototype.getPermissions=function(){var o;return this.getPermissionsCallback&&(o=this.getPermissionsCallback()),o||this.contract&&this.contract.permissions},l.prototype.hasUpdate=function(){return this.version&&this.latestVersion&&this.version!==this.latestVersion},l}()},28300:function(Xe,H,t){t.d(H,{o:function(){return S}});var e=t(522577),l=t(498342),o=t(382088),d=t(231626),v=window,S=function(){function h(c,r){l.fF.assertAnyValue(c,"datasetInfo"),l.fF.assertAnyValue(r,"definition"),this.datasetInfo=c,this.definition=r}return Object.defineProperty(h.prototype,"databaseName",{get:function(){return this.datasetInfo.databaseName},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"primaryKey",{get:function(){return this.datasetInfo.resourceKey},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"secondaryKey",{get:function(){return this.datasetInfo.resourceKeySecondary},enumerable:!1,configurable:!0}),h.prototype.getPushUrl=function(){var c=window.tenantId,r=window.apiUri;"https://wabi-staging-us-east-redirect.analysis.windows.net"===v.clusterUri&&(r="https://powerbistagingapi.analysis.windows.net"),l.fF.assertValue(r,"apiURI"),l.fF.assertValue(c,"tenantId");var i=o.b$.urlCombine(r,"/beta/"+c+"/datasets/"+this.databaseName+"/rows"),a={};return a.key=this.primaryKey,e.s.addOrUpdateQueryStringToUrl(i,a)},h.createRealTimeDatasetDefinition=function(c,r,s){l.fF.assertValue(c,"modelName"),l.fF.assertValue(s,"schema");var u=s.schema(d.db).entities;l.fF.assert(function(){return u&&1===u.length},"Exactly 1 entity is expected");var i=_.head(u),a=[];return _.map(i.properties,function(n){a.push({name:n.displayName,dataType:h.convertToRealTimeDataType(n.type)})}),{name:c,columns:a,mode:r,tableName:i.name}},h.convertToRealTimeDataType=function(c){switch(l.fF.assertValue(c,"type"),c.primitiveType){case 3:case 4:return 1;case 7:return 2;case 1:return 0;case 5:return 3;default:l.fF.assertFail("Unsupported data type")}},h}()},683418:function(Xe,H,t){t.d(H,{b:function(){return d}});var e=t(293287),l=t(165447),o=t(489175);function d(v,S){if(v&&v.type===e.YU.realTime){var h=S.tileModelConverter.convertTileConfig(v);S.tileModelConverter.convertTileLayoutConfig(v);var c=new o.V(v,S.visualPlugin,S.visualPluginOps,S.featureSwitchService,S.geolocationService,S.geocoder,S.promiseFactory,S.moduleLoader,S.telemetryService,S.themeService,S.authenticationService,S.localizationService,S.visualHostTooltipService);h&&h.realTimeVisual&&(c.config=h.realTimeVisual),c.displayText=v.displayText,c.subDisplayText=v.subDisplayText;var r=(0,l.gq)(v);return c.size={rowSpan:r.height,colSpan:r.width},c}}},632782:function(Xe,H,t){t.d(H,{Gj:function(){return N},NP:function(){return R},O4:function(){return P},qX:function(){return x},r5:function(){return w},r_:function(){return E}});var e=t(593773),l=t(123012),o=t(249039),d=t(830126),v=t(834053),S=t(353287),h=t(227871),c=t(498342),r=t(382088),s=t(204553),u=t(905216),i=t(199624),a=t(293287),n=t(165447),m=t(530571),f=t(979868),V=100;function P(A,I,B){c.fF.assertValue(A,"pinData");var U=function(A,I){var B,U,W,j,K=function(A,I){var B={$visualContainer:A.visualContainer,$modelExtensions:A.modelExtensions,themeCollection:u.P.cloneThemeCollection(A.themeCollection),dataSourceVariables:A.dataSourceVariables};return function(A,I,B,U,W,j,K,ee,ie){U&&(A.layoutType=U),B&&(A.elements=B),W&&(A.queryMetadata=W),K&&(A.heading1=K),j&&(A.heading2=j),ee&&(A.heading3=ee),I&&(A.transform=l.F.serializeTransformActions(l.F.serializeDataViewTransformActions(I,ie&&ie.objects)))}(B,A.dataTransforms,A.elements,A.tileLayoutType,A.queryMetadata,A.tileFilterDetails,A.tileHeading,A.tileSubDisplay,I),B}(A,I),ee={version:i.lr},ie=null===(U=null===(B=A.visualContainer.config.singleVisual.vcObjects)||void 0===B?void 0:B.title)||void 0===U?void 0:U.find(function(q){return!q.selector});if(ee.hideTitle=!1===(null===(j=null===(W=null==ie?void 0:ie.properties)||void 0===W?void 0:W.show)||void 0===j?void 0:j.value),null!=A.realTimeDataWindow){var he=K;he.dataWindow=A.realTimeDataWindow,ee.realTimeVisual=he}else ee.visualContainer=K;return ee}(A,I);A.tileDataType&&(U.tileDataType=A.tileDataType);var W=function(A,I,B,U,W){c.fF.assert(function(){return I===a.YU.composite||I===a.YU.realTime},"Invalid type"),c.fF.assertValue(A,"tileConfig");var j=S.a9,K=S.lZ;(0,m.s)(A)===h.L.card.name&&(j=S.gY,K=S.eg);var ee=B?{modelQuery:{sq:JSON.stringify(B)}}:null,ie=(0,n.Pl)({width:j,height:K}),he={id:++V,type:I,query:ee,$config:A,tileData:U?L(U.data):null,tileDataSet:U,layoutConfig:JSON.stringify(ie),$layoutConfig:ie},q=A.visualContainer;return q&&(he.displayText=q.heading1,he.subDisplayText=q.heading3),W&&(he.modelId=W.id),he}(U,null!=A.realTimeDataWindow?a.YU.realTime:a.YU.composite,A.query,A.dataViewSource,B);return W.publishState=2,A.action&&(W.action=JSON.stringify(A.action)),null!=A.utterance&&(W.query.modelQuery.utterance=A.utterance),A.name&&(W.name=A.name),W.reportId=A.reportId,A.modelId&&(W.modelId=A.modelId),A.packageId&&(W.packageId=A.packageId),W.resourcePackageIds=A.resourcePackageIds,W}function E(A,I,B,U,W,j,K,ee,ie,he,q,Y){var me,G={version:i.lr};(ee||ie)&&(G.reportTile={pod:ee,filters:ie}),he&&(me={modelQuery:{utterance:he}});var Ee=q?q/(2*v.A4):2,Ne=Y?Y/(2*v.lT):2;0===Math.round(Ee)&&(Ee=2),0===Math.round(Ne)&&(Ee=2);var Ye=Math.round(S.a9*Ee),Je=Math.round(S.lZ*Ne);Ye=Ye>(0,d.bq)()?(0,d.bq)():Ye,Je=Je>(0,d.be)()?(0,d.be)():Je;var _e=(0,n.Pl)({width:Ye,height:Je});return{id:++V,type:a.YU.report,displayText:W,subDisplayText:j,action:JSON.stringify(K),reportId:A,sectionId:U,modelId:I,packageId:B,publishState:2,query:me,config:G?JSON.stringify(G):void 0,$config:G,layoutConfig:JSON.stringify(_e),$layoutConfig:_e}}function w(A){return 1===A.publishState}function x(A){return 20===A.errorCode}function R(A,I){var B=[],U=function(A,I){var B=[{id:1,title:I.get("AddWidgetModal_IframeOption_Title"),description:I.get("AddWidgetModal_IframeOption_Description"),iconClass:"pbi-glyph-iframe",template:"<edit-iframe-widget></edit-iframe-widget>",defaultTileContract:{type:a.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:1,name:"webContent"}},$layoutConfig:(0,n.Pl)()},disabled:!A,tooltip:A?void 0:I.get("Dashboard_WebContentTiles_Disabled")},{id:2,title:I.get("Image"),description:I.get("AddWidgetModal_ImageOption_Description"),iconClass:"pbi-glyph-image",template:"<edit-image-widget></edit-image-widget>",defaultTileContract:{type:a.YU.image,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{imageTile:{imageUrl:""},version:"1.0",widget:{id:2,name:"image"}},$layoutConfig:(0,n.Pl)()}},{id:3,title:I.get("Textbox"),description:I.get("AddWidgetModal_TextOption_Description"),iconClass:"pbi-glyph-font",template:"<edit-text-widget></edit-text-widget>",defaultTileContract:{type:a.YU.composite,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{version:"1.0",visualContainer:{layoutType:0,$visualContainer:{name:r.b$.generateGuid(),config:{singleVisual:{objects:{},visualType:"textbox"}}},themeCollection:{}},widget:{id:3,name:"textbox"}},$layoutConfig:(0,n.Pl)()}},{id:4,title:I.get("AddWidgetModal_VideoOption_Title"),description:I.get("AddWidgetModal_VideoOption_Description"),iconClass:"pbi-glyph-slideshow",template:"<edit-video-widget></edit-video-widget>",defaultTileContract:{type:a.YU.iframe,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{iframe:{srcUrl:"",embedCode:""},version:"1.0",widget:{id:4,name:"video"}},$layoutConfig:(0,n.Pl)()}}];return{title:I.get("Add_Widgets_Section_Title"),tiles:B}}(A,I);U&&!_.isEmpty(U.tiles)&&B.push(U);var W=function(A){var I=[];return I.push({id:6,title:A.get("Realtime_TileTitle"),description:A.get("Realtime_TileDetails"),iconClass:"pbi-glyph-streaming-data",defaultTileContract:{type:a.YU.realTime,$action:{action:null,targetUrl:"",openInSameTab:!1},$config:{realTimeVisual:{dataWindow:null,layoutType:0,$visualContainer:{name:r.b$.generateGuid(),config:{singleVisual:null}},themeCollection:{}},version:"1.0"},$layoutConfig:(0,n.Pl)({width:S.gY,height:S.eg})}}),{title:A.get("Add_Realtime_Section_Title"),tiles:I}}(I);return W&&!_.isEmpty(W.tiles)&&B.push(W),_.cloneDeep(B)}function L(A){if(void 0!==A)return JSON.stringify(A,function(I,B){return I&&I.charAt&&"$"===I.charAt(0)?void 0:B})}function N(A,I,B,U){if(A){var W=_.cloneDeep(A),j=W.realTimeVisual||W.visualContainer;if(j){if(c.fF.assertValue(I,"Exploration serializer is required when serializing a composite tile"),U)j.visualContainer=I.serializeVisualContainer((ie=A.realTimeVisual||A.visualContainer).$visualContainer);else{var K=j.$visualContainer.config.singleVisual,ee=(0,s.NA)(K.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);ee&&(0,f.VC)(ee)&&ee.value&&(j.stylePresetName=ee.value),j.visual=K.visualType,j.columnProperties=K.columnProperties;var ie,he=(ie=A.realTimeVisual||A.visualContainer).$visualContainer.config.singleVisual.objects;if(he){var q=B.capabilities(K.visualType);q&&q.objects&&(j.objects=(0,e.xF)(he,q.objects,void 0,!0))}var Y=A.visualContainer&&ie.$visualContainer.config.singleVisual.vcObjects;Y&&(j.vcObjects=(0,e.xF)(Y,o.XW,void 0,!0)),W.visualContainer&&(W.visual=j,delete W.visualContainer),W.version="0.1"}j.$modelExtensions&&(j.modelExtensions=I.serializeModelExtensions(j.$modelExtensions)),delete j.$visualContainer,delete j.$modelExtensions}return JSON.stringify(W)}}},413322:function(Xe,H,t){t.d(H,{N:function(){return i}});var e=t(153889),l=t(498342),o=t(768783),d=t(447751),v=t(382088),S=t(293287),h=t(152643),c=t(165447),r=t(129428),s=t(632782),u=t(78565);function i(n,m,f,V,p,C,b,y,D,P,F,E,w,x,R){return new a(n,m,f,V,p,C,b,y,D,P,F,E,w,x,R)}var a=function(){function n(m,f,V,p,C,b,y,D,P,F,E,w,x,R,g){this.geolocationService=m,this.telemetryService=f,this.visualPlugins=V,this.visualPluginOps=p,this.featureSwitchService=C,this.geocoder=b,this.promiseFactory=y,this.moduleLoader=D,this.tileConfigUpgraderService=P,this.explorationSerializer=F,this.themeService=E,this.authenticationService=w,this.localizationService=x,this.visualHostTooltipService=R,this.licenseUIManagerFactory=g}return n.prototype.convertCompositeTile=function(m){if(!m||m.type!==S.YU.composite)return null;var V,f=this.convertTileConfig(m);if(this.convertTileLayoutConfig(m),!f||!f.visualContainer)return l.fF.assertFail("Invalid composite tile type"),null;(V=new u.iI(m,this.visualPlugins,this.visualPluginOps,this.featureSwitchService,this.geolocationService,this.geocoder,this.promiseFactory,this.moduleLoader,this.telemetryService,this.themeService,this.authenticationService,this.localizationService,this.visualHostTooltipService,this.licenseUIManagerFactory)).config=f.visualContainer,V.displayText=m.displayText,V.subDisplayText=m.subDisplayText;var p=(0,c.gq)(m);if(V.size={rowSpan:p.height,colSpan:p.width},V.isLoading=(0,s.r5)(m),m.queryResultError){V.isError=!0;var C=m.queryResultError;this.telemetryService.logEvent(h.UH,{tileType:S.YU[S.YU.composite],message:(0,d.W)("{0}:{1} with rootActivityId:{2}, modelId:{3} and tileId:{4}",(0,o.BB)(S.G7,C.type),C.errorDetail,C.rootActivityId,m.modelId.toString(),m.id.toString())});var b=(0,r.X7)(C,this.localizationService);b?(V.errorDetails=b,V.errorText=b.message):V.errorText=this.localizationService.get("Tile_ErrorText")}return V},n.prototype.convertTileData=function(m){if(m.tileDataSet)return m.tileDataSet;var f=this.convertTileConfig(m);try{m.tileDataSet=this.parseTileData(m,f.tileDataType)}catch(V){throw this.telemetryService.logEvent(h.UH,{tileType:S.YU[S.YU.composite],message:(0,d.W)("DsrParseError:{0} with modelId:{1} and tileId:{2}",V.message,m.modelId.toString(),m.id.toString())}),v.b$.ensureError(V)}return m.tileDataSet},n.prototype.convertTileConfig=function(m){l.fF.assertValue(m,"contract");var f=m.$config;if(!f){var V=(0,v.BL)("Parse tile config");try{var p=(f=m.$config=(0,r.M8)(m.config)).visualContainer||f.realTimeVisual;this.deserializeVisualContainer(p),this.deserializeModelExtensions(p||f.visual),this.tileConfigUpgraderService.upgrade(m.id,f,m.query)}catch(b){l.fF.assertFail("Unable to parse tile config")}finally{V()}}return f},n.prototype.convertTileLayoutConfig=function(m){if(l.fF.assertValue(m,"contract"),!m.$layoutConfig){var f=(0,r.mf)(m);m.$layoutConfig=f,m.layoutConfig=JSON.stringify(f)}return m.$layoutConfig},n.prototype.deserializeVisualContainer=function(m){m&&m.visualContainer&&!m.$visualContainer&&(m.$visualContainer=this.explorationSerializer.deserializeCanvasItem(m.visualContainer))},n.prototype.deserializeModelExtensions=function(m){m&&m.modelExtensions&&!m.$modelExtensions&&(m.$modelExtensions=this.explorationSerializer.deserializeModelExtensions(m.modelExtensions))},n.prototype.parseTileData=function(m,f){var p,V=(0,v.BL)("Parse tile data");try{if(m.tileDataBinaryBase64Encoded){var C=(0,e.Wh)(m.tileDataBinaryBase64Encoded);p=JSON.parse(C)}else m.tileData&&(p=JSON.parse(m.tileData));return{type:f,data:p}}finally{V()}},n}()},78565:function(Xe,H,t){t.d(H,{iI:function(){return y}});var e=t(973188),l=t(123012),o=t(603224),d=t(927903),v=t(227099),S=t(767650),h=t(114357),c=t(830126),r=t(353287),s=t(498342),u=t(275179),i=t(273269),a=t(470081),n=t(204553),m=t(152643),f=t(129428),V=t(283224),p=t(979868),y=function(D){function P(F,E,w,x,R,g,L,M,T,O,N,A,I,B){var U=D.call(this,F,E,w)||this;U.featureSwitchService=x,U.geolocationService=R,U.geocoder=g,U.promiseFactory=L,U.moduleLoader=M,U.telemetryService=T,U.themeService=O,U.authenticationService=N,U.localizationService=A,U.visualHostTooltipService=I,U.requiresResize=!1,s.fF.assertAnyValue(R,"geolocationService"),B&&(U.licenseUIManager=B.create());var W={onNotifyLicense:function(K){return U.onNotifyLicense(K)},onClearLicenseNotification:function(){return U.onClearLicenseNotification()},onNotifyFeatureBlocked:function(K){return U.onNotifyFeatureBlocked(K)}};return U._visual={hostServices:U.createHostServices(B?W:void 0),themeCollection:{}},U}return(0,e.__extends)(P,D),Object.defineProperty(P.prototype,"type",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"themeCollection",{get:function(){return this._visual&&this._visual.themeCollection},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"heading1",{get:function(){var E=this.config.heading1||"";if(!this.visual)return E;var w,x,R=this.visual.dataTransforms;R&&(w=R.selects);var g=this.visual.data;if(g&&(x=g.dataView),!1!==this.cachedShow&&void 0===this.cachedHeading){var L=(0,d.VH)(this.themeCollection,this.themeService,this.config.$visualContainer,this.featureSwitchService.featureSwitches,!1,x,w);if(L.dataViewObjects&&(void 0===this.cachedShow&&(this.cachedShow=(0,a.NA)(L.dataViewObjects,{objectName:"title",propertyName:"show"},!0)),this.cachedShow)){var M=(0,a.NA)(L.dataViewObjects,{objectName:"title",propertyName:"text"},null);null!==M?this.cachedHeading=M:_.isEmpty(E)&&(E=" ")}}return this.cachedHeading||E},enumerable:!1,configurable:!0}),P.prototype.setThemeName=function(F){this.ensureVisual();var E=this._visual.themeCollection;E.customTheme=E.customTheme||(0,o.Mi)(F,1),E.customTheme.name=F},P.prototype.isDataStale=function(F){if(!F)return!1;var w=(0,h.ee)(this.contract.tileDataUpdatedTime),x=w&&w.getTime();return!!x&&F-x>36e5},P.prototype.setData=function(F,E,w){try{this.ensureVisual(),this._visual.data=F,this._visual.dataTransforms=E,this._visual.type=w,this.clearCache()}catch(x){this.telemetryService.logEvent(m.gc,{visualType:w,source:x.fileName,lineNumber:x.lineNumber,columnNumber:x.columnNumber,stack:x.stack,message:x.message})}},P.prototype.createHostServices=function(F){return(0,v.q)({geocoder:this.geocoder,geolocation:this.geolocationService,localizationService:this.localizationService,moduleLoader:this.moduleLoader,promiseFactory:this.promiseFactory,visualHostTooltipService:this.visualHostTooltipService,authenticationService:this.authenticationService,canExpandCollapse:function(){return!0},onNotifyLicense:F&&F.onNotifyLicense,onClearLicenseNotification:F&&F.onClearLicenseNotification,onNotifyFeatureBlocked:F&&F.onNotifyFeatureBlocked})},P.prototype.ensureVisual=function(){this._visual||(this._visual={hostServices:this.createHostServices(),themeCollection:{}},this.calculateLayout())},Object.defineProperty(P.prototype,"config",{get:function(){return this._config},set:function(E){if(s.fF.assertValue(E,"The tile config must exist while setting it in a composite tile"),this._config=E,this._visual){var w=E.$visualContainer.config.singleVisual,x=w.visualType;this._visual.type=x;var R=(0,n.NA)(w.vcObjects,{objectName:"stylePreset",propertyName:"name"},void 0);this._visual.stylePresetName=R&&(0,p.VC)(R)&&R.value,this._visual.themeCollection=_.cloneDeep(E.themeCollection);var g,L,M=this.visualPluginService.capabilities(x);M&&(g=M.objects,L=w.objects);var T=(0,S.K)(E.transform);this._visual.dataTransforms=T?l.F.deserializeDataViewTransformActions(T,M):l.F.createTransformActions(E.queryMetadata,E.elements,g,L)}},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tileData",{get:function(){return this._tileData},set:function(E){this._tileData=E,this.readDataView(!0)},enumerable:!1,configurable:!0}),Object.defineProperty(P.prototype,"tileDataIsVolatile",{get:function(){return this.contract.tileDataIsVolatile},enumerable:!1,configurable:!0}),P.prototype.refreshData=function(){this.readDataView(!1)},P.prototype.setDependencies=function(F){var E=!this.dataProxy&&this._tileData&&!this.isLoading;D.prototype.setDependencies.call(this,F),E&&this.refreshData()},P.prototype.readDataView=function(F){return(0,e.__awaiter)(this,void 0,u.J,function(){var E,w,x,R,g,L,M,O;return(0,e.__generator)(this,function(A){switch(A.label){case 0:if(E=this._visual.type,this.visual&&!this.requiresData())return this._visual.data={dataView:null},[2];if(s.fF.assertValue(this._tileData,"tileData should be defined."),!(w=this.dataProxy))return[2];if(this.contract.queryResultError&&((x=(0,f.X7)(this.contract.queryResultError,this.localizationService))?(this.isError=!0,this.errorDetails=x,this.errorText=x.message):this.errorText=this.localizationService.get("Tile_ErrorText")),!this._tileData||!this._tileData.data)return this.isLoading=!this.isError,[2];g={type:(R=this._tileData).type,query:{dataSources:null,command:R.data},allowResultFromClientCache:F,perfId:E,kinds:this.pluginOps.dataViewKinds(E)},L=null,this.dataLoadEventDelegate&&(L=this.dataLoadEventDelegate(),this.dataLoadEventDelegate=null),A.label=1;case 1:return A.trys.push([1,3,,4]),[4,w.execute(g)];case 2:return M=A.sent(),O=M.dataReaderResult.error,this._visual.data={dataView:M&&M.dataReaderResult?M.dataReaderResult.dataView:null,dataViewSource:M&&M.dataViewSource?M.dataViewSource:null},this.isError=this.isError||null!=O,L&&(this.isError?L.reject():L.resolve()),[3,4];case 3:return A.sent(),this.isError=!0,L&&L.reject(),[3,4];case 4:return[2]}})})},P.prototype.applyLayout=function(F,E){if(this.requiresResize){if(!E){var w=this.visual;w&&w.visual&&w.visual.update({viewport:w.viewport,dataViews:w.dataViews,suppressAnimations:!0,type:i.EP.Resize,resizeMode:F===c.XM.resized?2:F===c.XM.resizing?1:void 0})}this.requiresResize=!1}},P.prototype.calculateLayout=function(F,E,w){if(void 0===w&&(w=1),F&&((!this.viewport||this.viewport.height!==F.height||this.viewport.width!==F.width)&&(this.requiresResize=!0),this.viewport=F),null!=E&&this.useSmallPlotArea!==E&&(this.useSmallPlotArea=E,this.requiresResize=!0),this.viewport){var x=this.viewport.height,R=this.viewport.width;1===(this._config&&this._config.layoutType)||(x-=this.useSmallPlotArea?V.n:V.Un,R-=V.ho),this._visual&&(this._visual.viewport={height:x,width:R,scale:w})}},P.prototype.canResizeTo=function(F){var E=this._visual&&this._visual.visual;return!!E&&(!E.canResizeTo||E.canResizeTo((0,r.p2)(F)))},P.prototype.getErrorLocId=function(F,E){return""},P.prototype.requiresData=function(){var F=this.visual,E=this.pluginOps;if(F){if(F&&F.type){if(!E)return!0;if(!E.isQueryVisual(F.type))return!1}return!0}},P.prototype.updateVisualInteractivityOptions=function(F){var E=this.visualPluginService.getInteractivityOptions(this._visual.type);void 0!==E.isInteractiveLegend&&(E.isInteractiveLegend=E.isInteractiveLegend&&F),this._visual.interactivityOptions=E},P.prototype.clearCache=function(){this.cachedHeading=void 0},P.prototype.onNotifyLicense=function(F){0!==F&&this.licenseUIManager.displayNotification(F)},P.prototype.onNotifyFeatureBlocked=function(F){this.licenseUIManager.displayFeatureBlockedBanner(F)},P.prototype.onClearLicenseNotification=function(){this.licenseUIManager.clearNotification()},P}(function(){function D(P,F,E){this.useSmallPlotArea=!1,s.fF.assertValue(P,"contract"),s.fF.assertValue(F,"visualPlugins"),s.fF.assertValue(E,"visualPluginOps"),this.contract=P,this.visualPluginService=F,this.pluginOps=E}return Object.defineProperty(D.prototype,"type",{get:function(){return s.fF.assertFail("this is an abstract property!"),null},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"tileData",{get:function(){return s.fF.assertFail("this is an abstract property!"),null},set:function(F){s.fF.assertFail("this is an abstract property!")},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"tileDataIsVolatile",{get:function(){return s.fF.assertFail("this is an abstract function!"),!1},enumerable:!1,configurable:!0}),Object.defineProperty(D.prototype,"isError",{get:function(){return this._isError},set:function(F){this._isError=F,this.onErrorDelegate&&this.onErrorDelegate()},enumerable:!1,configurable:!0}),D.prototype.isDataStale=function(P){return s.fF.assertFail("this is an abstract function!"),!1},Object.defineProperty(D.prototype,"heading1",{get:function(){return this.config.heading1||""},enumerable:!1,configurable:!0}),D.prototype.setDependencies=function(P){this.dataProxy=P},D.prototype.setDataLoadEventDelegate=function(P){this.dataLoadEventDelegate=P},D.prototype.copyDependencies=function(P){P.dataProxy&&this.setDependencies(P.dataProxy)},D}())},795752:function(Xe,H,t){t.d(H,{h:function(){return l}});var e=t(353287),l=function(){function o(d){this.contract=d}return o.prototype.canResizeTo=function(d){return d.rowSpan===e.lZ||d.colSpan===e.gY},o.prototype.getErrorLocId=function(d,v){return""},o}()},467192:function(Xe,H,t){t.d(H,{n:function(){return o}});var e=t(353287),l=t(382088),o=function(){function d(v){this.contract=v}return Object.defineProperty(d.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(S){this._imageUrl=S,S&&!this.isStatic&&0!==S.indexOf("data:")&&(this._imageUrl=l.b$.getAbsoluteUri(S))},enumerable:!1,configurable:!0}),d.prototype.canResizeTo=function(v){return v.rowSpan===e.lZ||v.colSpan===e.gY},d.prototype.getErrorLocId=function(v,S){return""},d}()},780991:function(Xe,H,t){t.d(H,{U:function(){return l}});var e=t(353287),l=function(){function o(d){this.contract=d}return o.prototype.canResizeTo=function(d){return d.rowSpan===e.eg},o.prototype.getErrorLocId=function(d,v){return""},o}()},489175:function(Xe,H,t){t.d(H,{V:function(){return u}});var e=t(973188),l=t(58227),o=t(498342),d=t(275179),v=t(768783),S=t(358246),h=t(231626),c=t(165447),r=t(78565),s=t(732141),u=function(i){function a(n,m,f,V,p,C,b,y,D,P,F,E,w){var x=i.call(this,n,m,f,V,p,C,b,y,D,P,F,E,w)||this;return x._visual=null,x._localizationService=E,x}return(0,e.__extends)(a,i),a.prototype.setModelId=function(n){return(0,e.__awaiter)(this,void 0,d.J,function(){return(0,e.__generator)(this,function(m){switch(m.label){case 0:return o.fF.assertAnyValue(n,"id"),this.contract.modelId=n,[4,this.initialize()];case 1:return m.sent(),[2]}})})},a.prototype.getRealTimeModelId=function(){return(0,e.__awaiter)(this,void 0,d.J,function(){var n,m=this;return(0,e.__generator)(this,function(f){return this.datasetStore?[2,this.datasetStore.findAll((n=this.contract).modelId,!0).then(function(V){if(!_.isEmpty(V)){var p=_.find(V,function(b){return null==n.packageId||b.packageId===n.packageId});return p||(p=_.find(V,function(b){return(0,v.yE)(b.permissions,7)})),p||(p=_.first(V)),{id:p.id,originalModelId:p.originalModelId,tableName:m.getSchemaTableName(),schema:m.getRealTimeConceptualSchema(),packageId:n.packageId}}})]:[2,void 0]})})},a.prototype.setRealTimeModelDependencies=function(n,m,f,V,p){i.prototype.setDependencies.call(this,n),o.fF.assertValue(m,"visualQueryGenerator"),o.fF.assertValue(f,"conceptualSchemaProxy"),o.fF.assertValue(V,"realTimeDataService"),this.visualQueryGenerator=m,this.conceptualSchemaProxy=f,this.realTimeDataService=V,this.datasetStore=p},a.prototype.copyRealTimeModelDependencies=function(n){return(0,e.__awaiter)(this,void 0,d.J,function(){var m;return(0,e.__generator)(this,function(f){switch(f.label){case 0:return o.fF.assertValue(n,"other"),n.schema&&(this.schema=n.schema),n.dataProxy&&n.realTimeDataService&&n.visualQueryGenerator&&n.conceptualSchemaProxy?(this.setRealTimeModelDependencies(n.dataProxy,n.visualQueryGenerator,n.conceptualSchemaProxy,n.realTimeDataService,n.datasetStore),n.onErrorDelegate&&!this.onErrorDelegate&&(this.onErrorDelegate=n.onErrorDelegate),[4,n.getRealTimeModelId()]):[2];case 1:return m=f.sent(),this.realTimeDataService.replaceListener(m,n,this),[2]}})})},a.prototype.onDataChanged=function(){return(0,e.__awaiter)(this,void 0,d.J,function(){var n,m,f,V,p,C=this;return(0,e.__generator)(this,function(b){switch(b.label){case 0:return o.fF.assertValue(this.visualQueryGenerator,"visualQueryGenerator"),o.fF.assertValue(this.dataProxy,"dataProxy"),this.singleVisualConfig?(n=h.PB,(m=this.config)&&m.dataWindow&&(n=m.dataWindow),[4,this.getDatasources()]):[2];case 1:return f=b.sent(),!(V=this.visualQueryGenerator.execute({dataSources:f,schema:this.schema,config:this.singleVisualConfig,additionalFilters:null,dataWindow:n}))||V.error?(p=void 0,V&&V.error&&(p=V.error.getDetails(this._localizationService)),this.onError(p)):this.dataProxy.execute(V.options).then(function(y){C.isError=!1;var D={dataView:y&&y.dataReaderResult?y.dataReaderResult.dataView:null},P=C.lastCategoryValue;try{var F=(0,s.kQ)(D.dataView);if(null!=P&&null!=F&&P.valueOf()>=F.valueOf())return;C.lastCategoryValue=F}catch(E){}C.setData(D,V.transforms,C.config.$visualContainer.config.singleVisual.visualType),C.isLoading=!1},function(y){if(!(y instanceof l.C6)){var D=y&&y.getDetails(C._localizationService);C.onError(D)}}),[2]}})})},a.prototype.onError=function(n){n||(n=(new l.Kd).getDetails(this._localizationService)),this.setErrorDetails(n)},a.prototype.getDatasources=function(){return(0,e.__awaiter)(this,void 0,d.J,function(){var n;return(0,e.__generator)(this,function(m){switch(m.label){case 0:return[4,this.getRealTimeModelId()];case 1:return(n=m.sent())?[2,(0,s.bk)(n.id,n.originalModelId)]:[2,void 0]}})})},Object.defineProperty(a.prototype,"singleVisualConfig",{get:function(){return this.config.$visualContainer.config.singleVisual},set:function(m){o.fF.assertValue(m,"config"),this.config.$visualContainer.config.singleVisual=m,this.onDataChanged()},enumerable:!1,configurable:!0}),a.prototype.isDataStale=function(){return!1},a.prototype.initialize=function(){return(0,e.__awaiter)(this,void 0,d.J,function(){var n,m=this;return(0,e.__generator)(this,function(f){return n=(0,c.gq)(this.contract),this.size={rowSpan:n.height,colSpan:n.width},[2,this.getDatasources().then(function(V){if(V)return m.conceptualSchemaProxy.get(V).then(function(p){return m.fixUpSchema(p),m.schema=p,m.getRealTimeModelId().then(function(C){m.realTimeDataService.subscribe(C,m)})})})]})})},a.prototype.unsubscribe=function(){return(0,e.__awaiter)(this,void 0,d.J,function(){var n=this;return(0,e.__generator)(this,function(m){return[2,this.getRealTimeModelId().then(function(f){if(f&&f.tableName)return n.realTimeDataService.unsubscribe(f,n)})]})})},a.prototype.fixUpSchema=function(n){var m=n.schema(h.db).entities;o.fF.assert(function(){return m&&1===m.length},"Exactly 1 entity is expected.");for(var V=0,p=m[0].properties;V<p.length;V++){var C=p[V];(C.type===S.Ge.fromDescriptor({numeric:!0})||C.type===S.Ge.fromDescriptor({integer:!0}))&&(C.kind=1)}},a.prototype.getSchemaTableName=function(){var n=this.getRealTimeConceptualSchema();if(n){var m=n.entities;return o.fF.assert(function(){return 1===m.length},"Expecting only one entity"),_.head(m).name}},a.prototype.getRealTimeConceptualSchema=function(){if(this.schema)return this.schema.schema(h.db)},a.prototype.setErrorDetails=function(n){o.fF.assertValue(n,"errorDetails should be set"),this.errorDetails=n,this.errorText=n.message,this.isError=!0},a}(r.iI)},381133:function(Xe,H,t){t.d(H,{I:function(){return l}});var e=t(353287),l=function(){function o(d){this.contract=d,this.exploration={contract:void 0,exploreCanvas:void 0,sections:[]},this.isError=!1,this.tilesUpdated=!1}return o.prototype.canResizeTo=function(d){return d.rowSpan===e.lZ||d.colSpan===e.gY},o.prototype.getErrorLocId=function(d,v){return""},o}()},148695:function(Xe,H,t){t.d(H,{L:function(){return o}});var e=t(353287),l=t(382088),o=function(){function d(v){this.contract=v}return Object.defineProperty(d.prototype,"imageUrl",{get:function(){return this._imageUrl},set:function(S){S&&(this._imageUrl=0!==S.indexOf("data:")?l.b$.getAbsoluteUri(S):S)},enumerable:!1,configurable:!0}),d.prototype.canResizeTo=function(v){return v.rowSpan===e.av||v.colSpan===e.CJ},d.prototype.getErrorLocId=function(v,S){return""},d}()},283224:function(Xe,H,t){t.d(H,{$V:function(){return E},CK:function(){return x},FN:function(){return g},Un:function(){return L},X8:function(){return s},_:function(){return n},aN:function(){return w},ho:function(){return M},jH:function(){return R},je:function(){return a},n:function(){return T},n9:function(){return O},ng:function(){return f},xg:function(){return i}});var e=t(28291),l=t(658503),o=t(114357),d=t(365358),v=t(498342),S=t(546368),h=t(293287),c=t(165447),r=t(129428),s=function(j){return j[j.Dashboard=0]="Dashboard",j[j.Report=1]="Report",j[j.RdlReport=2]="RdlReport",j}({});function i(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(V)}function a(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(p)}function n(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(C)}function f(j){return i(j)||a(j)||n(j)||function(j){return!_.isEmpty(j)&&0===j.toLowerCase().indexOf(b)}(j)}var V="/dashboards/",p="/reports/",C="/rdlreports/",b="/workbooks/",E=65,w=55,x=44,R=40,g=64,L=20,M=20,T=8,O=function(){function j(K,ee,ie){this.forceOpenCustomLinksInNewTab=ie,this.isSelected=!1,this.hasConversation=!1,this.hasSpotlight=!1,this.contract=K,this.tileHeaderSize=1,this.layoutPosition={},this.localizationService=ee,this.themeName="Light",this.tileStyles={},this.tileHeaderStyles={},this.tileBackground={}}return Object.defineProperty(j.prototype,"gridLayouts",{get:function(){return this.contract.$layoutConfig.layouts},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"id",{get:function(){return this.contract.id},set:function(ee){this.contract.id=ee},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"objectId",{get:function(){return this.contract.objectId},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"details",{get:function(){switch(this.type){case h.YU.composite:return this.composite;case h.YU.iframe:return this.iframe;case h.YU.image:return this.image;case h.YU.model:return this.model;case h.YU.ssrs:return this.ssrs;case h.YU.workbook:return this.workbook;case h.YU.report:return this.reportTile;case h.YU.realTime:return this.realTime;default:return v.fF.assertFail("Invalid tile type"),null}},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"shouldBeIncludedInTelemetryMeasurement",{get:function(){return this.details&&!!this.details.shouldBeIncludedInTelemetryMeasurement},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isTemporary",{get:function(){return this.id<=0},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"isTileLoading",{get:function(){return this.composite?this.composite.isLoading&&!this.composite.isError:this.isLoading},enumerable:!1,configurable:!0}),j.prototype.calculateLayout=function(K,ee){var ie=this.getHeaderSizeByType(this.tileHeaderSize);if(!_.isNil(this.currentViewPort)&&_.isNil(K)&&!_.isNil(ee)&&(K=this.currentViewPort),this.compositeTile&&K){var he=K,q=2===this.tileHeaderSize;if(_.isNil(ee)||_.isNil(this.currentViewPort))q?this.hasTitle()?he.height-=ie:1!==(this.composite&&this.composite.config&&this.composite.config.layoutType)&&(he.height-=10):this.hasTitle()&&(this.hasSubtitle()?he.height-=ie:he.height-=ie-10),this.currentViewPort=he;else if(ee>0){var Y={width:this.currentViewPort.width,height:this.currentViewPort.height};Y.height-=ee,Y.height<=0?v.fF.assert(function(){return Y.height>0},"ViewPort height is zero or negative"):he=Y}this.compositeTile.calculateLayout(he,q)}},j.prototype.getTileHeight=function(){return this.hasTitle()?this.getHeaderSizeByType(this.tileHeaderSize):0},j.prototype.applyLayout=function(K,ee){this.compositeTile&&this.compositeTile.applyLayout(K,ee)},j.prototype.invalidateLayout=function(){this.tryPopulateLayoutPositionValues()&&this.gridLayoutContext.onLayoutInvalidated()},j.prototype.tryPopulateLayoutPositionValues=function(){if(!this.gridLayoutContext||this.gridLayoutContext.isLayoutUpdateLocked)return!1;var K=this.gridLayoutContext.getActiveLayout(),ie=(0,d.Br)(this.contract.$layoutConfig.layouts).withId(K);return ie&&ie.position&&(this.layoutPosition=_.cloneDeep(ie.position)),!0},j.prototype.applyChanges=function(){if(this.contract&&this.gridLayoutContext){var K=_.cloneDeep(this.layoutPosition);(0,r.bQ)(this.contract.$layoutConfig,K,this.gridLayoutContext.getActiveLayout()),this.contract.layoutConfig=JSON.stringify(this.contract.$layoutConfig)}},j.isValidUrl=function(K,ee){return!_.isEmpty(K)&&((0,S.HH)(K,!1)||ee&&f(K))},j.prototype.getDisplayText=function(){return this.displayText?this.displayText:this.compositeTile?this.compositeTile.heading1:""},j.prototype.getSubDisplayText=function(){if(this.displayText&&this.subDisplayText)return this.subDisplayText;if(this.compositeTile){var K=this.compositeTile.config;if(!this.displayText&&K&&!_.isEmpty(K.heading3))return K.heading3}return""},j.prototype.shouldPlaceBulletSeperator=function(){return this.displayText&&this.displayText.length>0&&this.subDisplayText&&this.subDisplayText.length>0&&this.config&&this.config.lastRefreshTimeEnabled},Object.defineProperty(j.prototype,"hrefTarget",{get:function(){return this.action.openInSameTab&&!this.forceOpenCustomLinksInNewTab?"_self":"_blank"},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"lastRefreshTimeInLocaleString",{get:function(){var ee=(0,o.ee)(this.contract.tileDataUpdatedTime),ie="";return ee?ie=ee.toLocaleString():this.datasetModel&&(ie=this.datasetModel.lastRefreshTimeInLocaleString),ie||""},enumerable:!1,configurable:!0}),Object.defineProperty(j.prototype,"formattedTime",{get:function(){var ee;if(this.workbook){var ie=this.contract.tilePackage;ee=ie?(0,o.ee)(ie.lastRefreshTime):null}else ee=(0,o.ee)(this.contract.tileDataUpdatedTime);return ee?this.cachedRefreshTime&&ee.getTime()===this.cachedRefreshTime.getTime()?this.cachedRefreshString:(this.cachedRefreshTime=ee,this.cachedRefreshString=this.getFormattedDateString(ee)):this.datasetModel?this.datasetModel.lastRefreshTimeInLocaleString:void 0},enumerable:!1,configurable:!0}),j.prototype.getFormattedDateString=function(K){var ee=e.IH,ie=(0,e.ih)();return ie&&ee(K,N,I,!1)?(0,l.WQ)(K,this.localizationService):ie&&ee(K,A,B,!0)?(0,e.nK)(this.localizationService.currentLanguageLocale,K):ie&&ee(K,A,U,!0)?this.localizationService.format("DashboardTile_YesterdayTemplate",[(0,e.nK)(this.localizationService.currentLanguageLocale,K)]):ie&&ee(K,A,W,!0)?(0,e.u5)(this.localizationService.currentLanguageLocale,K):(0,e.nY)(this.localizationService.currentLanguageLocale,K)},j.prototype.setDatasetModelAndPackageInfo=function(K,ee){K&&(this.datasetModel=K,ee&&(this.datasetModel.packagePublishStatus=ee.publishOrRefreshStatus))},j.prototype.hasTitle=function(){return(!this.config||!this.config.hideTitle)&&(!_.isEmpty(this.displayText)||this.compositeTile&&!_.isEmpty(this.compositeTile.heading1))},j.prototype.hasSubtitle=function(){var K=this.config;return(!K||!K.hideTitle)&&(!_.isEmpty(this.subDisplayText)||K&&K.lastRefreshTimeEnabled)},j.prototype.lastRefreshTimeInLocaleWithLabel=function(){if(this.config&&this.config.lastRefreshTimeEnabled)return this.localizationService.format("Refreshed",[this.formattedTime])},j.prototype.setTileHeaderSize=function(K){this.tileHeaderSize!==K&&(this.tileHeaderSize=K,this.invalidateLayout())},Object.defineProperty(j.prototype,"compositeTile",{get:function(){return this.composite||this.realTime},enumerable:!1,configurable:!0}),j.prototype.hasLayoutDefinition=function(K){return!!(0,d.Br)(this.contract.$layoutConfig.layouts).withId(K)},j.prototype.hasLayoutPosition=function(K){return!!(0,c.zS)(this.contract,K)},j.prototype.removeLayoutPosition=function(K){return void 0===K&&(K=1),v.fF.assert(function(){return 0!==K},"Cannot remove position for Master position"),this.hasLayoutDefinition(K)&&(this.addLayout({id:K,position:null},K),this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},j.prototype.resetTileLayoutSizeAndPosition=function(){this.layoutPosition.x=null,this.layoutPosition.y=null,this.layoutPosition.height=null,this.layoutPosition.width=null,this.gridLayoutContext=null},j.prototype.removeLayoutDefinition=function(K,ee){return void 0===K&&(K=1),void 0===ee&&(ee=!0),v.fF.assert(function(){return 0!==K},"Cannot remove layout for Master position"),this.hasLayoutDefinition(K)&&(_.remove(this.contract.$layoutConfig.layouts,function(ie){return ie.id===K}),ee&&this.resetTileLayoutSizeAndPosition()),this.getCurrentTileLayoutDescriptor()},j.prototype.applyLayoutSize=function(K,ee,ie){v.fF.assertValue(K,"size"),this.compositeTile&&(this.compositeTile.size={colSpan:K.colSpan,rowSpan:K.rowSpan}),this.applyLayout(ee,ie)},j.prototype.getCurrentTileLayoutDescriptor=function(K,ee,ie){return(0,r._z)(this.contract,K||this.contract.$layoutConfig,ee,ie)},j.prototype.buildLayoutDescriptor=function(){var K=_.cloneDeep(this.layoutPosition),ee=_.cloneDeep(this.contract.$layoutConfig);(0,r.bQ)(ee,K,this.gridLayoutContext.getActiveLayout());var ie=this.composite&&this.composite.contract&&this.composite.contract.query,he=ie&&(0,r.HL)(ie,K),q=null;return ie&&he&&(this.composite.contract.query.modelQuery.sq=JSON.stringify(he),q=JSON.stringify(this.composite.contract.query)),(0,r._z)(this.contract,ee,ie,q)},j.prototype.addLayout=function(K,ee){return v.fF.assert(function(){return 0!==ee},"Cannot remove position for Master position"),v.fF.assertValue(K,"Cannot update with undefined"),this.removeLayoutDefinition(ee),this.contract.$layoutConfig.layouts.push(K),this.getCurrentTileLayoutDescriptor()},j.prototype.getHeaderSizeByType=function(K){switch(K){case 0:return E;case 2:return 42;default:return 50}},j}(),N="minute",A="day",I=15,B=0,U=1,W=6},740518:function(Xe,H,t){t.d(H,{V:function(){return l}});var e=t(353287),l=function(){function o(d,v){this.contract=d,this.tileModel=v}return o.prototype.canResizeTo=function(d){return d.rowSpan===e.lZ||d.colSpan===e.gY},o.prototype.getErrorLocId=function(d,v){var S,h=[];switch(d){case 10:S="WorkbookTile_GeneralError";break;case 11:S="WorkbookTile_FileNotFound";break;case 12:S="WorkbookTile_ObjectNotFound",h=this.contract.$config.workbookTile?[this.contract.$config.workbookTile.item]:["pinned object"];break;case 13:S="WorkbookTile_Unauthorized";break;default:return""}return v.format(S,h)},o.prototype.hasImages=function(){return this.hasWorkbookTileConfig&&this.tileModel.config.workbookTile.images&&this.tileModel.config.workbookTile.images.length>0},Object.defineProperty(o.prototype,"images",{get:function(){return this.hasWorkbookTileConfig?this.tileModel.config.workbookTile.images:null},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"hasWorkbookTileConfig",{get:function(){return!!this.tileModel&&!!this.tileModel.config&&!!this.tileModel.config.workbookTile},enumerable:!1,configurable:!0}),o}()},146619:function(Xe,H,t){t.d(H,{I:function(){return S}});var e=t(973188),l=t(335207),o=t(902731),d=t(392337),v=t(768783),S=function(h){function c(r){var s=h.call(this,void 0===r?0:r.id,1,void 0===r?0:r.packageId)||this;return s.contract=r,s}return(0,e.__extends)(c,h),c.prototype.getPermissions=function(){var r;return this.getPermissionsCallback&&(r=this.getPermissionsCallback()),r||this.contract&&this.contract.permissions},Object.defineProperty(c.prototype,"contentTileType",{get:function(){return o.ty.Workbook},enumerable:!1,configurable:!0}),c.prototype.isOwner=function(){return(0,v.yE)(this.getPermissions(),7)},c.prototype.isPersonalized=function(){var r=this.getPermissions();return(0,v.yE)(r,11)&&!(0,v.yE)(r,7)},c.prototype.isEditable=function(){var r=this.editUrl;return this.isOwner()&&null!=r&&""!==r},Object.defineProperty(c.prototype,"displayNameWithExtension",{get:function(){var s=(0,d.m)(this.contract.sourceFilePath);return this.displayName.concat(".").concat(s)},enumerable:!1,configurable:!0}),c}(l.H)},152643:function(Xe,H,t){t.d(H,{UH:function(){return v},gc:function(){return o}});var e=t(947634),l="PBI.TileDataUpdateException",o=e.cx[l]=(0,e.b1)(l),d="PBI.Dashboard.TileError",v=e.cx[d]=(0,e.b1)(d)},514926:function(Xe,H,t){t.d(H,{$3:function(){return S},$O:function(){return h},J0:function(){return u},RC:function(){return r},Xk:function(){return i},aI:function(){return n},ir:function(){return s},jg:function(){return a},tp:function(){return v}});var e=t(437555),l=t(498342),o=t(382088),d=t(513657);function v(m){return m&&5===m.category}function S(m,f){if(m&&m.contract)return function(m,f){if(m){var V=f.getAppInstance(m);return V&&V.providerContract.providerKey}}(m.getUniquePackageId&&m.getUniquePackageId(),f)}function h(m){return m.originalPackageId?m.originalPackageId:m.packageIds&&1===m.packageIds.length?m.packageIds[0]:void 0}function r(m,f){var V=(0,d.N)(m);return V&&V.toLocaleDateString(f.currentLanguageLocale,{month:"short",day:"numeric",year:"numeric"})}function s(m){return l.fF.assertValue(m,"AppUtils hasAppLogoImage appModel"),!(m.icon||_.isEmpty(m.iconUrl)&&_.isEmpty(m.localAppLogoImageData))}function u(m,f){if(l.fF.assertValue(m,"AppUtils getAppLogoImageUrl appModel"),l.fF.assertValue(f,"AppUtils getAppLogoImageUrl backendUri"),s(m)){if(m.localAppLogoImageData)return m.localAppLogoImageData;if(m.iconUrl)return o.b$.urlCombine(f,m.iconUrl)}}function i(m,f){if(s(m))return"url(".concat(u(m,f),")")}function a(m){if(!m)return"inherit";var f=(0,e.WV)(m);return.299*f.R+.587*f.G+.144*f.B>125?"#000":"#FFF"}function n(m){if(m)return(0,e.jd)((0,e.WV)(m),.8,.2)}},165447:function(Xe,H,t){t.d(H,{As:function(){return r},ER:function(){return o},Pl:function(){return S},V3:function(){return v},gq:function(){return h},jD:function(){return d},zS:function(){return c}});var e=t(365358),l=t(498342);function o(a,n){if(a)for(var m=a.length,f=0;f<m;f++)if(a[f].id===n)return a[f].contentProviderId;return null}function d(a){var n=v(a);if(n&&n.Commands&&n.Commands.length>0){var m=n.Commands[0].SemanticQueryDataShapeCommand;return{defn:m.Query,shape:m.Binding}}return null}function v(a){if(a&&a.modelQuery&&a.modelQuery.sq){var n;try{n=JSON.parse(a.modelQuery.sq)}catch(f){}if(!n)return;var m=null;return function(a){return a.dataQuery&&a.dataQuery.Commands&&a.dataQuery.Commands.length>0}(n)?m=n.dataQuery:function(a){return a.Commands&&a.Commands.length>0}(n)?m=n:function(a){return a.defn}(n)&&(m={Commands:[{SemanticQueryDataShapeCommand:{Query:n.defn,Binding:n.shape}}]}),m}}function S(a){return void 0===a&&(a={}),{layouts:[{id:0,position:a}]}}function h(a){var n=c(a,0);return l.fF.assertValue(n,"masterLayout should always exist on tile"),n}function c(a,n){l.fF.assertValue(a,"tile"),l.fF.assertValue(a.$layoutConfig,"tile.$layoutConfig"),l.fF.assertValue(a.$layoutConfig.layouts,"tile.$layoutConfig.layouts");var f=(0,e.Br)(a.$layoutConfig.layouts).withId(n);return f?f.position:null}function r(a){switch(a){case 0:return"pbix";case 1:return"rdl";default:return"unknown"}}},89887:function(Xe,H,t){t.d(H,{$b:function(){return h},cl:function(){return d},nf:function(){return S},xT:function(){return c}});var e=t(114357),l=t(498342);function d(m){return 2==(2&m.permissions)}function S(m){return!!m&&(0,e.KZ)(m)}function h(m,f){var V=[];if(!m)return V;var p=[],C=m.modelIds;if(_.isEmpty(C)||(p=C.slice(0)),_.map(m.tiles,function(F){null!=F.modelId&&p.push(F.modelId)}),_.isEmpty(p))return V;p=_.uniq(p);for(var y=0,D=p.length;y<D;y++){var P=_.filter(f,function(F){return F.id===p[y]});_.isEmpty(P)||V.push(P[0])}return V}function c(m,f){l.fF.assertValue(m,"items");for(var V=_.filter(m,function(G){var me,re;return(null===(me=G.pos)||void 0===me?void 0:me.x)>0&&(null===(re=G.pos)||void 0===re?void 0:re.y)>0}),p=[],b=_.sortBy(V,function(G){var me=G.pos;return 1e3*me.y+me.x}),y=0,D=b;y<D.length;y++)r(p,(F=D[y].pos).y,F.height);for(var E=[],x=_.sortBy(V,function(G){var me=G.pos;return 1e3*me.x+me.y}),R=0,g=x;R<g.length;R++){var F;r(E,(F=g[R].pos).x,F.width)}for(var L=function(m,f){l.fF.assertValue(m,"rowContexts"),l.fF.assertValue(f,"columnContexts");var p=_.isEmpty(m)?-1/0:_.maxBy(m,function(D){return D.size}).size,C=_.isEmpty(f)?-1/0:_.maxBy(f,function(D){return D.size}).size,b=_.every(m,function(D){return D.size===m[0].size}),y=_.every(f,function(D){return D.size===f[0].size});return u(m,p,b)?0:u(f,C,y)?1:p<=C?0:1}(p,E),M=0===L?p:E,T=0===L?x:b,O=[],N=0,A=0,I=M;A<I.length;A++){for(var B=I[A],U=N+1;U<B.startPosition;U++)O.push(void 0);for(var W=B.startPosition;W<B.startPosition+B.size;W++)O.push(B.startPosition),N=W}for(var j=_.groupBy(T,function(G){return O[(0===L?G.pos.y:G.pos.x)-1]}),K=[],ee=0,ie=M;ee<ie.length;ee++)K=K.concat(j[(B=ie[ee]).startPosition]);var he=_.map(K,function(G){return G.item});if(f){var q=_.filter(m,function(G){var me,re;return!((null===(me=G.pos)||void 0===me?void 0:me.x)>0&&(null===(re=G.pos)||void 0===re?void 0:re.y)>0)}),Y=_.map(q,function(G){return G.item});he.push.apply(he,Y)}return he}function r(m,f,V){l.fF.assertValue(m,"contexts");var C=m[m.length-1];!_.isEmpty(m)&&f>=C.startPosition&&f<C.startPosition+C.size?f+V>C.startPosition+C.size&&(C.size=f+V-C.startPosition):m.push({startPosition:f,size:V})}function u(m,f,V){return m.length>1&&V&&f<=3}},513657:function(Xe,H,t){t.d(H,{N:function(){return d}});var e=t(28291),l=t(498342),o=t(382088);function d(v){var S=o.b$.getDateFromWcfJsonString(v,!0);return S||(S=(0,e.Kk)(v)),l.fF.assertValue(S,"could not parse dateTime"),S}},795296:function(Xe,H,t){t.d(H,{pg:function(){return d},qC:function(){return o}});var e=t(902731),l=t(768783);function o(S){return!(!S||S.packageType!==e.yR.AppInstance||!S.contentProviderId&&!S.serviceContentProviderId)}function d(S){return(0,l.yE)(S,6)}},530571:function(Xe,H,t){function e(l){if(l){var o=l.visualContainer||l.realTimeVisual;if(o&&o.$visualContainer)return o.$visualContainer.config.singleVisual.visualType}}t.d(H,{s:function(){return e}})},129428:function(Xe,H,t){t.d(H,{HL:function(){return x},M8:function(){return R},Us:function(){return m},X7:function(){return P},_z:function(){return w},bQ:function(){return E},mf:function(){return F},ok:function(){return p},x8:function(){return y},zy:function(){return f}});var e=t(347996),l=t(249039),o=t(644585),d=t(40152),v=t(767650),S=t(389731),h=t(834053),c=t(365358),r=t(498342),s=t(293287),u=t(632782),i=t(165447),a=t(530571),m=function(){function g(){this.rScriptCount=0,this.pythonScriptCount=0}return Object.defineProperty(g.prototype,"hasScriptVisuals",{get:function(){return this.rScriptCount>0||this.pythonScriptCount>0},enumerable:!1,configurable:!0}),g}();function f(g,L,M,T,O,N,A,I){r.fF.assertValue(L,"singleVisualConfig"),r.fF.assertValue(M,"dataWindow"),r.fF.assertValue(T,"dataModel"),r.fF.assertValue(O,"schema"),r.fF.assertValue(N,"pinVisualService"),r.fF.assertValue(A,"visualPluginService");var B=I.execute({dataSources:g,schema:O,config:L,additionalFilters:null,dataWindow:M}),U=N.getPinData({name:"tile",config:{singleVisual:L},layouts:void 0},0,g,{},null,null,B,O);U.realTimeDataWindow=M;var W=A.capabilities((0,l.s_)(U));return(0,u.O4)(U,W,T)}function p(g,L){return function(g,L){return g&&g.type===s.YU.composite&&L.isScriptVisual((0,a.s)(g.config))}(g,L)||function(g,L){var M=new m,T=g&&g.reportTile&&g.reportTile.exploration&&g.reportTile.exploration.sections;if(!T||g.type!==s.YU.report)return M;for(var O=0,N=T;O<N.length;O++)for(var I=0,B=N[O].contract.visualContainers;I<B.length;I++){var W=(0,d.s)(B[I]);if(W&&L&&L.isScriptVisual(W))switch((0,o.lX)(W)){case 0:M.rScriptCount++;break;case 1:M.pythonScriptCount++}}return M}(g,L).hasScriptVisuals}function y(g,L){return r.fF.assertValue(g,"tile"),"tile_"+g.id+"_dash_"+L}function P(g,L){r.fF.assertValue(g,"getTileErrorDetailsFromQueryResultError: queryResultError");var M=(0,v.K)(g.errorDetail);if(M&&!_.isEmpty(M.DataShapes)){var T=M.DataShapes[0]["odata.error"];if(T)return new e.Ow(T).getDetails(L)}}function F(g){if(r.fF.assertValue(g,"contract"),g.$layoutConfig)return g.$layoutConfig;var L={x:g.col,y:g.row,width:g.colSpan,height:g.rowSpan},M=void 0;if(g.layoutConfig)try{M=JSON.parse(g.layoutConfig),(0,c.Br)(M.layouts).withId(0).position=L}catch(N){r.fF.assertFail("Unable to parse tile layout config")}else M={layouts:[{id:0,position:L}]};return M}function E(g,L,M){var T=(0,c.Br)(g.layouts),O=T.withId(M);O||T.push(O={id:M,position:{}}),O.position=L}function w(g,L,M,T){return{id:g.id,row:null,col:null,rowSpan:null,colSpan:null,layoutConfig:JSON.stringify(L),query:T?M:null,updatedQuery:T,modelId:g.modelId,objectId:g.objectId}}function x(g,L){var M=(0,i.V3)(g);if(M){for(var T=L.width*h.A4,O=L.height*h.lT,N=!1,A=0,I=M.Commands;A<I.length;A++){var B=I[A],U=B.ScriptVisualCommand;U&&(U.ViewportWidthPx!==T||U.ViewportHeightPx!==O)&&(U.ViewportWidthPx=T,U.ViewportHeightPx=O,B.ScriptVisualCommand=U,N=!0)}if(N)return M}}function R(g){var L=(0,v.K)(g);return null==L&&(L={version:S.aD}),L}},529888:function(Xe,H,t){t.d(H,{$J:function(){return o},$Q:function(){return V},Ce:function(){return Ye},Iy:function(){return m},NJ:function(){return C},Ym:function(){return fe},bL:function(){return Ee},hf:function(){return v},jn:function(){return E},kA:function(){return q},oM:function(){return A},qy:function(){return G},rd:function(){return u},s$:function(){return a},vF:function(){return g},v_:function(){return _e},wc:function(){return B},yp:function(){return x}});var e=t(947634),l="PBI.Dashboard.RenameReport",o=e.cx[l]=(0,e.b1)(l),d="PBI.Dashboard.DeleteReport",v=e.cx[d]=(0,e.b1)(d),S="PBI.Dashboard.InitializeNavigationPaneReports",c=(e.cx[S]=(0,e.b1)(S),"PBI.Dashboard.InitializeNavigationPaneModels"),s=(e.cx[c]=(0,e.b1)(c),"PBI.Dashboard.RenameDataset"),u=e.cx[s]=(0,e.b1)(s),i="PBI.Dashboard.UpdateModelQnaFeatures",a=e.cx[i]=(0,e.b1)(i),n="PBI.Dashboard.UpdateFeaturedQuestions",m=e.cx[n]=(0,e.b1)(n),f="PBI.Dashboard.DeleteDataset",V=e.cx[f]=(0,e.b1)(f),p="PBI.Dashboard.AddUpdateDashboard",C=e.cx[p]=(0,e.b1)(p),b="PBI.Dashboard.InitializeNavigationPaneWorkbooks",D=(e.cx[b]=(0,e.b1)(b),"PBI.Dashboard.UpdateLocalWorkbookNeverShowExplanation"),F=(e.cx[D]=(0,e.b1)(D),"PBI.Dashboard.RenameWorkbook"),E=e.cx[F]=(0,e.b1)(F),w="PBI.Dashboard.RemoveWorkbook",x=e.cx[w]=(0,e.b1)(w),R="PBI.Dashboard.GetWorkbookWopiAccessInformation",g=e.cx[R]=(0,e.b1)(R),L="PBI.Dashboard.WorkbookEmbeddingExternalSuccess",T=(e.cx[L]=(0,e.b1)(L),"PBI.Dashboard.WorkbookEmbeddingExternalFailure"),N=(e.cx[T]=(0,e.b1)(T),"PBI.Dashboard.ImportResourcePackagesOnLoad"),A=e.cx[N]=(0,e.b1)(N),I="PBI.Dashboard.GetNavigationPanePackage",B=e.cx[I]=(0,e.b1)(I),U="PBI.Permissions.ObjectNotFound",j=(e.cx[U]=(0,e.b1)(U),"PBI.Apps.GetApp"),ee=(e.cx[j]=(0,e.b1)(j),"PBI.Apps.UninstallApp"),he=(e.cx[ee]=(0,e.b1)(ee),"PBI.TileConfig.UpgradeTileConfig"),q=e.cx[he]=(0,e.b1)(he),Y="PBI.Permissions.UpdateArtifactVisibility",G=e.cx[Y]=(0,e.b1)(Y),me="PBI.Datapool.DeleteDatapool",le=(e.cx[me]=(0,e.b1)(me),"PBI.Datapool.UpdateProperties"),Ee=e.cx[le]=(0,e.b1)(le),Ne="PBI.Http.RequestThrottled",Ye=e.cx[Ne]=(0,e.b1)(Ne),Je="PBI.Dataset.GetSharedDatasets",_e=e.cx[Je]=(0,e.b1)(Je),pe="PBI.Dataset.GetReadonlySharedDatasets",fe=e.cx[pe]=(0,e.b1)(pe),oe="PBI.UserInfo.PreviousTenantId";e.cx[oe]=(0,e.b1)(oe)},509288:function(Xe,H,t){function e(l,o,d,v,S,h){var c={filtersNamesAndRestatements:[]};if(!o||_.isEmpty(o.dataFiltersUnmerged))return c;for(var r=v.capabilities(d.visualType),s=0,u=o.dataFiltersUnmerged;s<u.length;s++){var i=u[s];if(!i.isHidden){var a=S.getFilterRestatementForOverlay(i,l,r,null,d);if(!_.isEmpty(a))for(var n=0,m=a;n<m.length;n++){var f=m[n];c.filtersNamesAndRestatements.push({displayName:f.fieldName,qualifiedDisplayName:f.fieldNameToolTip,restatement:f.restatements.join(h.get("ListJoin_Separator"))})}}}return c}t.d(H,{A:function(){return e}})},82201:function(Xe,H,t){function e(l){switch(l){case"Binary":return 11;case"Boolean":return 5;case"Currency":return 2;case"Number":return 3;case"Date":return 6;case"DateTime":return 7;case"Time":return 9;case"WholeNumber":return 4;case"Text":return 1}}t.d(H,{F:function(){return e}})},42298:function(Xe,H,t){t.d(H,{GM:function(){return S},S8:function(){return s},W5:function(){return v},fV:function(){return c},k2:function(){return o},wx:function(){return h}});var e=t(498342),l=t(512322);function o(a,n){return new d(a,n)}var d=function(){function a(n,m){if(e.fF.assertValue(n,"plugins"),m){var f=function(C){e.fF.assert(function(){return!!_.find(n,function(b){return b.name===m[C].extends})},"plugin extension type '".concat(C,"' extends a plugin '").concat(m[C].extends,"' which doesn't exist")),e.fF.assert(function(){return!_.some(n,function(b){return b.name===m[C].name})},"Cannot register plugin extension type '".concat(C,"'. A plugin with that name already exists."))};for(var V in m)f(V)}this.plugins=n,this.extensions=m||{}}return a.prototype.getPlugin=function(n){return this.plugins[i(n)]},a.prototype.getExtension=function(n){return this.extensions[n]},a}();function v(a,n){return r(a,c(n))}function S(a,n){if(_.isEmpty(a))return[];var m;if(!_.isEmpty(n)){m=[];for(var f=0,V=n;f<V.length;f++){var p=V[f];if(p instanceof l.Wh){var C=p.getTargetEntity();m.push(C.schema)}}m=_.uniq(m)}return r(a,m)}function h(a){return e.fF.assertValue(a,"reference"),i(a.type)}function c(a){if(e.fF.assertAnyValue(a,"query"),a){var n=[];return new u(n).run(a),n}}function r(a,n){for(var m=[],f=0,V=a;f<V.length;f++){var p=V[f];if(_.isEmpty(n)||_.includes(n,p.name)){var C=h(p);_.includes(m,C)||m.push(C)}}return m}function s(a){return _.chain(a).map(function(n){return h(n)}).uniq().value()}var u=function(){function a(n){this.schemas=n}return a.prototype.run=function(n){for(var m=n.from(),f=0,V=m.keys();f<V.length;f++)m.source(V[f]).accept(this,void 0)},a.prototype.visitEntity=function(n){this.visitEntityOrPod(n)},a.prototype.visitPod=function(n){this.visitEntityOrPod(n)},a.prototype.visitSubquery=function(n){this.run(n.subquery)},a.prototype.visitExpr=function(n){},a.prototype.visitEntityOrPod=function(n){e.fF.assertValue(n,"source");var m=n.schema,f=this.schemas;_.includes(f,m)||f.push(m)},a}();function i(a){return a||"dsr"}},96364:function(Xe,H,t){t.d(H,{I:function(){return d}});var e=t(365358),l=t(498342),o=t(42298);function d(c,r){return new v(c,r)}var v=function(){function c(r,s){l.fF.assertValue(r,"factory"),l.fF.assertValue(s,"hostServices"),this.factory=r,this.hostServices=s,this.readers={},this.queryGen={},this.schemaReaders={}}return c.prototype.reader=function(r){var s=this;return l.fF.assertAnyValue(r,"typeOrTypes"),this.findSinglePropertyDefinition((0,e.rY)(r),function(u){return u.reader(s.hostServices)},_.noop,this.readers)},c.prototype.readerType=function(r){var s=this;l.fF.assertAnyValue(r,"typeOrTypes");var u=this.resolvePluginProperty((0,e.rY)(r),function(i){return i.reader(s.hostServices)},_.noop,this.readers);return u&&u.type},c.prototype.queryGenerator=function(r){return l.fF.assertAnyValue(r,"typeOrTypes"),this.findSinglePropertyDefinition((0,e.rY)(r),function(s){return s.queryGenerator&&s.queryGenerator()},_.noop,this.queryGen)},c.prototype.queryExtensionLookup=function(r){l.fF.assertAnyValue(r,"referenceOrReferences");var s=(0,e.rY)(r),u=_.chain(s).map(function(n){return(0,o.wx)(n)}).uniq().value(),i=this.findSingleBasePropertyDefinition(u,function(n){return n.queryExtensionProvider&&S(n.name,s,n.queryExtensionProvider)});return function(c,r){if(c||r)return c?function(s,u){return c(s,u,r)}:r}(this.findSingleExtensionPropertyDefinition(u,function(n){return n.queryExtensionProvider&&S(n.name,s,n.queryExtensionProvider)}),i)},c.prototype.schemaReader=function(r){var s=this;return l.fF.assertAnyValue(r,"type"),this.findSinglePropertyDefinition([r],function(u){return u.schemaReader&&u.schemaReader(s.hostServices)},function(u){return u.schemaReader&&u.schemaReader(s.hostServices)},this.schemaReaders)},c.prototype.getCacheKey=function(r){var s=(0,e.rY)(r);return s.length<2?s[0]:"["+s.join(",")+"]"},c.prototype.findSinglePropertyDefinition=function(r,s,u,i){var a=this.getCacheKey(r),n=i[a];if(n)return n;var m=this.resolvePluginProperty(r,s,u,i);return m?i[a]=m.property:void 0},c.prototype.findSingleExtensionPropertyDefinition=function(r,s){for(var u,i,a=0,n=r;a<n.length;a++){var m=n[a],f=this.factory.getPlugin(m);if(f){if(i&&i!==f.name)return;i=f.name}else{var V=this.factory.getExtension(m);if(!V||i&&i!==V.extends)return;i=V.extends;var p=s(V);if(p){if(u&&p!==u)return;u=p}}}return u},c.prototype.findSingleBasePropertyDefinition=function(r,s){for(var u,i,a=0,n=r;a<n.length;a++){var f=this.factory.getPlugin(n[a]);if(f){if(i&&i!==f.name)return;i=f.name;var V=s(f);if(V){if(u&&V!==u)return;u=V}}}return u},c.prototype.resolvePluginProperty=function(r,s,u,i){for(var a,n=0,m=r;n<m.length;n++){var V=this.resolveProperty(m[n],s,u,i);if(!V||a&&V.property!==a.property)return;a=V}return a},c.prototype.resolveProperty=function(r,s,u,i){var a,n;if(i&&(n=i[a=this.getCacheKey(r)]))return{type:r,property:n};var m=this.factory.getPlugin(r);if(m)return(n=s(m))?(i&&(i[a]=n),{type:r,property:n}):void 0;var f=this.factory.getExtension(r);return f?(n=u(f))?(i&&(i[a]=n),{type:r,property:n}):this.resolveProperty(f.extends,s,u,i):void 0},c}();function S(c,r,s){for(var u=[],i=0,a=r;i<a.length;i++){var n=a[i],m=(0,o.wx)(n);m===c&&u.push(n[m])}return s(u)}},146432:function(Xe,H,t){t.d(H,{dj:function(){return D},sw:function(){return b},Z7:function(){return y}});var e=t(973188),l=t(669266),o=t(498342),d=t(382088),v=t(512322),S=t(960514),h=t(365358),c=t(916214);function m(T,O){o.fF.assertValue(T,"collection"),o.fF.assertValue(O,"toRemove");var N=T.indexOf(O);o.fF.assert(function(){return N>=0},"the metadata column to be removed should exist in the collection before the removal"),N>=0&&T.splice(N,1)}function f(T,O){o.fF.assertValue(O,"dataViewCategorical");var N=O.categories;if(N)for(var A=0,I=N;A<I.length;A++){var B=I[A];B.values.splice(0),B.identity.splice(0)}var U=O.values;if(U){var W=U.grouped();if(!_.isEmpty(W)){for(var j=W[0],K=T.columns,ee=function(fe){var oe=fe.source;if(oe.groupName){var ye=_.find(K,function(Ce){return!Ce.groupName&&Ce.index===oe.index&&Ce.isMeasure===oe.isMeasure});ye?(fe.source=ye,m(K,oe)):delete oe.groupName}},ie=0,he=j.values;ie<he.length;ie++)ee(he[ie]);var Y=[{values:j.values,objects:j.objects}];if(U.grouped=function(){return Y},W.length>=2){var G=j.values.length;if(G>0){for(var re=G*(W.length-1),le=G,Ee=G+re;le<Ee;le++)m(K,U[le].source);U.splice(G,re)}}}for(var Ye=0,Je=U;Ye<Je.length;Ye++){var _e=Je[Ye];_e.values.splice(0),delete _e.identity}}o.fF.assert(function(){return!N||_.every(N,function(pe){return _.isEmpty(pe.values)&&_.isEmpty(pe.identity)})},"values and identity should be cleared in all category columns"),o.fF.assert(function(){return!U||_.every(U.grouped(),function(pe){return!pe.name&&!pe.identity})},"name and identity should be cleared in all series instances"),o.fF.assert(function(){return!U||_.every(U,function(pe){return _.isEmpty(pe.values)})},"All values in measure columns should be removed")}function p(T,O){if(o.fF.assertValue(T,"values"),o.fF.assertValue(O,"indicesToRemove"),o.fF.assert(function(){return(0,h.JN)(O,!0)},"indicesToRemove is expected to be in descending order"),o.fF.assert(function(){return _.uniq(O).length===O.length},"indicesToRemove is not expected to contain any duplicate"),!_.isEmpty(O)){if(o.fF.assert(function(){return 0<=_.last(O)&&_.head(O)<T.length},"elements in indicesToRemove must be valid indices to the values array."),T.length===O.length)return void T.splice(0);for(var N,A=0,I=0,B=O;I<B.length;I++){var U=B[I];void 0===N||N===U+1?(N=U,A++):(T.splice(N,A),N=U,A=1)}o.fF.assertValue(N,"nextSpliceStart must be defined because this function returns early if indicesToRemove is empty."),T.splice(N,A)}}var C=t(684261);function b(T,O){if(o.fF.assertValue(T,"restrictiveFilter"),o.fF.assertValue(O,"baseFilter"),!(0,l.FK)(T,O))return!1;var N=T.condition,A=O.condition;if(N instanceof v.ev&&A instanceof v.ev){var I=M(N),B=M(A);if(I&&B&&(0,l.fS)(I.otherSide,B.otherSide))return(0,d.r3)(g(I.constantValue),g(B.constantValue))}return!1}function y(T,O){o.fF.assertNonEmpty(T,"selects"),o.fF.assertNonEmpty(O,"filters");var N=_.some(O,function(W){return!function(T){return o.fF.assertValue(T,"filter"),!T.target}(W)});if(!N){for(var A=new L(T),I=0,B=O;I<B.length;I++)B[I].condition.accept(A);return A.getClientSideFiltersIfAllSupported()}}function D(T,O){if(o.fF.assertValue(T,"queryDataView"),o.fF.assertAnyValue(O,"clientSideFilters"),!_.isEmpty(O)&&!_.isEmpty(T.metadata.columns)){o.fF.assert(function(){return _.every(O,function(B){return _.some(T.metadata.columns,function(U){return!U.isMeasure&&U.index===F(B)})})},"Client-side filtering on measure columns is not yet implemented; only attribute filters are supported at the moment.");var N=T.categorical;if(N){var A=function(T,O){if(o.fF.assertAnyValue(T,"seriesMetadataColumn"),o.fF.assertValue(O,"clientSideFilters"),T){var N=E(O,[T]);if(!_.isEmpty(N))return function(B){if(B.identity)for(var W=B.name,j=0,K=N;j<K.length;j++)if(R(K[j],W))return!0;return!1}}}(N.values&&N.values.source,O),I=function(T,O){o.fF.assertValue(T,"categories"),o.fF.assertValue(O,"clientSideFilters");var N=E(O,_.map(T,function(I){return I.source}));if(!_.isEmpty(N))return function(B,U){for(var W=function(q){if(_.every(U,function(G){return R(q,G.values[B])}))return{value:!0}},j=0,K=N;j<K.length;j++){var ie=W(K[j]);if("object"==typeof ie)return ie.value}return!1}}(N.categories,O);!function(T,O,N,A){o.fF.assertValue(O,"dataViewCategorical"),o.fF.assertAnyValue(N,"categoryRemovalPredicate"),o.fF.assertAnyValue(A,"seriesRemovalPredicate"),A&&function(T,O,N){o.fF.assertValue(O,"dataViewCategorical"),o.fF.assertValue(N,"removalPredicate");var A=O.values&&O.values.grouped();if(!_.isEmpty(A)){var B=function(T,O,N){o.fF.assertAnyValue(T,"seriesMetadataColumn"),o.fF.assertValue(O,"seriesInstances"),o.fF.assertValue(N,"removalPredicate");for(var A=[],I=O.length-1;I>=0;I--)N(O[I],T)&&A.push(I);return A}(O.values&&O.values.source,A,N);!function(T,O,N){if(o.fF.assertValue(O&&O.values&&!_.isEmpty(O.values.grouped()),"dataViewCategorical must be defined and the grouped() function must return non-empty result"),o.fF.assertValue(N,"seriesIndicesToRemove"),o.fF.assert(function(){return(0,h.JN)(N,!0)},"seriesIndicesToRemove is expected to be in descending order"),o.fF.assert(function(){return _.uniq(N).length===N.length},"seriesIndicesToRemove must not contain duplicate values"),!_.isEmpty(N)){var A=O.values,I=A.grouped();if(I.length===N.length)return void f(T,O);var B=I[0].values.length;if(o.fF.assert(function(){return _.every(I,function(ie){return ie.values.length===B})},"all series instances returned by grouped() are expected to have the same number of measure columns"),B>0)for(var U=T.columns,W=function(he){var q=he*B;o.fF.assert(function(){return q+B-1<A.length},"Verifying that the index of the last column in this series instance is a valid index to the seriesAndMeasures array.");for(var Y=q,G=q+B;Y<G;Y++)m(U,A[Y].source);A.splice(q,B)},j=0,K=N;j<K.length;j++)W(K[j]);p(I,N),A.grouped=function(){return I}}}(T,O,B)}}(T,O,A),N&&function(T,O,N){o.fF.assertValue(O,"dataViewCategorical"),o.fF.assertValue(N,"removalPredicate");var A=O.categories;if(!_.isEmpty(A)){var I=function(T,O){o.fF.assertNonEmpty(T,"categories"),o.fF.assertValue(O,"removalPredicate");var N=T[0].values.length;o.fF.assert(function(){return _.every(T,function(B){return B.values.length===N})},"Expecting all category columns to have the same number of values.");for(var A=[],I=N-1;I>=0;I--)O(I,T)&&A.push(I);return A}(A,N);!function(T,O,N){if(o.fF.assertValue(O,"dataViewCategorical"),o.fF.assertValue(N,"rowIndicesToRemove"),o.fF.assert(function(){return(0,h.JN)(N,!0)},"rowIndicesToRemove is expected to be in descending order"),o.fF.assert(function(){return _.uniq(N).length===N.length},"rowIndicesToRemove must not contain duplicate values"),!_.isEmpty(N)){if((0,c.Ed)(O)===N.length)return void f(T,O);o.fF.assert(function(){return(0,c.Ed)(O)>0},"If rowIndicesToRemove is non-empty, then the categorical must have at least 1 row.");var A=O.categories;if(!_.isEmpty(A))for(var I=0,B=A;I<B.length;I++){var U=B[I];p(U.values,N),p(U.identity,N)}var W=O.values;if(!_.isEmpty(W))for(var j=0,K=W;j<K.length;j++)p(K[j].values,N)}}(T,O,I)}}(T,O,N)}(T.metadata,N,I,A)}return T}}function F(T){o.fF.assertValue(T,"clientSideFilter");var O=T.Condition;if(O.Contains)return O.Contains.SelectIndex;o.fF.assertFail("Unknown filter condition type: "+JSON.stringify(O))}function E(T,O){if(o.fF.assertValue(T,"clientSideFilters"),o.fF.assertValue(O,"metadataColumns"),_.isEmpty(T)||_.isEmpty(O))return[];for(var N={},A=0,I=O;A<I.length;A++)N[I[A].index]=!0;return _.filter(T,function(U){var W=F(U);return!!N[W]})}function R(T,O){o.fF.assertValue(T,"filter");var N=!1,A=T.Condition;if(A.Contains)if(o.fF.assert(function(){return A.Contains.LiteralValue===g(A.Contains.LiteralValue)},"condition.Contains.LiteralValue is expected to have been normalized."),_.isString(O)){var I=g(O);N=!(0,d.r3)(I,A.Contains.LiteralValue)}else N=!0;else o.fF.assertFail("ClientSideFilter condition type not implemented: "+JSON.stringify(A));return N}function g(T){return T&&(0,d.m5)(T)}var L=function(T){function O(N){var A=T.call(this)||this;return o.fF.assertNonEmpty(N,"selects"),A.clientSideFilters=[],A.selects=N,A}return(0,e.__extends)(O,T),O.prototype.visitContains=function(N){if(!this.hasUnsupportedFilter()){var A=!1,I=M(N);if(I){var B=I.constantValue,U=(0,C.p)(this.selects,I.otherSide);if(U>=0&&B){var W={Condition:{Contains:{SelectIndex:U,LiteralValue:g(B)}}};this.clientSideFilters.push(W),A=!0}}A||this.setUnsupportedFilter()}},O.prototype.visitAnd=function(N){this.hasUnsupportedFilter()||(N.left.accept(this),N.right.accept(this))},O.prototype.visitDefault=function(N){this.setUnsupportedFilter()},O.prototype.getClientSideFiltersIfAllSupported=function(){if(!this.hasUnsupportedFilter())return this.clientSideFilters},O.prototype.hasUnsupportedFilter=function(){return void 0===this.clientSideFilters},O.prototype.setUnsupportedFilter=function(){this.clientSideFilters=void 0},O}(S.vq);function M(T){if(T){var O=(0,v.Ls)(T.left);return O?{constantValue:O,otherSide:T.right}:{constantValue:O=(0,v.Ls)(T.right),otherSide:T.left}}}},445765:function(Xe,H,t){t.d(H,{DG:function(){return E},P6:function(){return K},Sk:function(){return x},l7:function(){return w},mx:function(){return W}});var e=t(973188),l=t(365358),o=t(498342),d=t(447751),v=t(812454),S=t(95486),h=t(553474),c=t(204553),r=t(414745),s=t(915925),u=t(854883),i=t(572909),a=t(844722),n=t(114096),m=t(983369),f=t(512322),V=t(603662),p=t(678776),C=t(162320),b=t(520469),y=t(358246),D=t(979868),P=t(669266),F=t(939701),E=function(){function he(q,Y,G,me,re,le,Ee){this.warningType=q,this.propertyId=Y,this.valueExpr=G,this.selector=me,this.objectDiplayName=re,this.propertyDisplayName=le,this.expectedValueType=Ee}return he.prototype.columnNameFromIndex=function(q){},Object.defineProperty(he.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundObjectQueryExtensionWarningInvalidType";case 2:return"DataBoundObjectQueryExtensionWarningMissingReference";case 0:return void o.fF.assertFail("DataBoundObjectQueryExtensionWarning cannot be of invalid Value type.");default:o.fF.assertNever(this.warningType)}},enumerable:!1,configurable:!0}),he.prototype.getDetails=function(q,Y){if(Y){var G=[],me=q.get("NamePattern_Colon"),re=1===this.warningType,Ee=re?"DataBoundExprWarning_InvalidType_Message":"DataBoundExprWarning_MissingReference_Message";G.push((0,d.W)(q.get(re?"DataBoundExprWarning_InvalidType_Title":"DataBoundExprWarning_MissingReference_Title"),(0,i.G)(this.propertyDisplayName,q))),G.push((0,d.W)(me,q.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),(0,i.G)(this.objectDiplayName,q)));var Ne=Y(this.valueExpr);return G.push((0,d.W)(me,q.get("Field_Source"),Ne)),re&&this.expectedValueType&&G.push((0,d.W)(me,q.get("DataBoundExprWarning_ExpectedDataType"),S.L.getPrimitiveValueType(this.expectedValueType,q))),G.push(q.get(Ee)),{message:G.join("\n"),displayableErrorInfo:[]}}o.fF.assertFail("DataBoundObjectQueryExtensionWarning - getMessages - setSQExprTranslator needed for warning message")},he}();function w(he,q,Y,G,me,re,le,Ee){return o.fF.assertValue(he,"queryDefn"),o.fF.assertValue(q,"schema"),o.fF.assertAnyValue(Y,"objectDescs"),o.fF.assertAnyValue(G,"queryRefsByRole"),o.fF.assertAnyValue(me,"projections"),o.fF.assertAnyValue(re,"roleKindByQueryRef"),o.fF.assertAnyValue(le,"additionalFilters"),R(he,q,Y,G,me,re,le,Ee)}function x(he,q){return!!R(he,null,q,{},{},{},void 0,void 0)}function R(he,q,Y,G,me,re,le,Ee){if(!_.isEmpty(Y)){for(var Ne=he.select(),Ye=[],Je=[],_e=[],pe=[],oe=0,ye=Y;oe<ye.length;oe++){var Ce=ye[oe];Ce.objects&&Ce.descriptors&&(0,c.rQ)(Ce.objects,Ce.descriptors,fe)}for(var Be=0,be=_e;Be<be.length;Be++)for(var Te=be[Be],ce=0,ve=pe;ce<ve.length;ce++)if((0,v.fS)(Te.selector,ve[ce])){g(Je,Te,Ne,G);break}for(var Ke=[],tt=[],mt=0,He=Je;mt<He.length;mt++){var ke=He[mt],ft=ke.selector,Le=L(ke,he,le,Ee);he=Le.queryDefn,Le.objectDefinitionRewrite&&tt.push(Le.objectDefinitionRewrite);var Q={queryName:Le.queryName,selector:ft};_.isEmpty(ke.targetsQueryName)||(Q.relatedProjectionsQueryName=ke.targetsQueryName),ke.aggregates&&(Q.aggregates=ke.aggregates),ke.relatedObjects&&(Q.relatedObjects=ke.relatedObjects),ft&&!_.isEmpty(ft.data)&&(Q.joinPredicate=0),Ke.push(Q)}return _.isEmpty(Ke)&&_.isEmpty(Ye)?void 0:{queryDefn:he,warnings:Ye,additionalProjections:Ke,objectDefinitionRewrites:tt}}function fe(Ue,ae,Se,nt,vt){var We,de,J,te=vt&&vt.properties[ae],Ve=Ue[ae],xe=te.type,Z=null==Se?Se:(0,v.d9)(Se);if(te.rule){if(o.fF.assertValue(te.type.fillRule&&(0,b.gO)(Ve),"Property rule descriptor is valid only for FillRule properties"),!W(te.rule.conditions,me,re))return;var Fe=function(he,q,Y){var G=he.inputRole;if(G){var me=Y[G];if(!_.isEmpty(me)){var re=_.chain(q.select()).filter(function(le){return _.includes(me,le.name)}).map(function(le){return le.expr}).value();return re}}}(te.rule,he,G);if(_.isEmpty(Fe))return;o.fF.assert(function(){return 1===_.size(Fe)},"Property Rules supports only one input Expr"),Se={data:_.map(Fe,function(qe){return(0,s.TZ)(qe)})},J=(0,r.oA)(Ve,Se,Ne,Fe[0])}else if(xe&&xe.dataBars)Se&&Se.metadata&&Ne.withName(Se.metadata)&&(_.isEmpty(Se.data)&&((Se=_.cloneDeep(Se)).data=[(0,u.Ue)()]),J=(0,r.oA)(Ve,Se,Ne,Ne.withName(Se.metadata).expr));else{var rt=(0,r.Sz)(Ue[ae],Se,Ne);te.ignoreUnreferenced?(o.fF.assert(function(){return _.isEmpty(rt.references)},"References should be empty"),_e.push.apply(_e,rt.expressions)):(J=rt.expressions,pe.push.apply(pe,rt.references.map(function(qe){return qe.selector})))}if(!_.isEmpty(J)&&(!Se||function(he,q){o.fF.assertValue(he,"selector");var Y=he.metadata;if(!Y)return!0;o.fF.assertNonEmpty(q,"querySelects");for(var G=0,me=q;G<me.length;G++)if(me[G].name===Y)return!0}(Se,Ne))&&void 0!==K(null==Se?void 0:Se.data,Ne,G))for(var Pe=0,X=J;Pe<X.length;Pe++){var we=X[Pe];if(we.expr){if(q){var Ze=p.m.buildExprEvaluationContext(he.from()),et=we.expr.getMetadata(q,Ze);if(null==et||!y.Ge.isCompatibleFromAny(xe,et.type)){var at=et?1:2,St=et?y.Ge.fromDescriptor(xe):null,Ie=new E(at,{objectName:nt,propertyName:ae},we.expr,Se,vt.displayName,te.displayName,St);Ye.push(Ie);continue}}we.relatedObjects=((We={})[nt]=((de={})[ae]=[Z],de),We),g(Je,we,Ne,G)}}}}function g(he,q,Y,G){o.fF.assertValue(q,"source");var re=_.find(he,function(Re){return function(Ke,tt){var mt,He;if(!(0,P.fS)(Ke.expr,tt.expr))return!1;var ke=K(null===(mt=Ke.selector)||void 0===mt?void 0:mt.data,Y,G),ft=K(null===(He=tt.selector)||void 0===He?void 0:He.data,Y,G);return _.isEmpty(_.xor(ke,ft))}(Re,q)});if(re){var le=q.targetsQueryName;if(!_.isEmpty(le)){var Ee=re.targetsQueryName;_.isEmpty(Ee)&&(Ee=re.targetsQueryName=[]),Ee.push.apply(Ee,le)}var Ne=q.aggregates;if(null!=Ne){var Ye=re.aggregates;if(Ye){if(Ne.min&&(Ye.min=!0),Ne.max&&(Ye.max=!0),Ne.average&&(Ye.average=!0),Ne.median&&(Ye.median=!0),Ne.percentiles)if(Ye.percentiles)for(var Je=function(Ke){_.find(Ye.percentiles,function(tt){return _.isEqual(Ke,tt)})||Ye.percentiles.push(Ke)},_e=0,pe=Ne.percentiles;_e<pe.length;_e++)Je(pe[_e]);else Ye.percentiles=Ne.percentiles}else re.aggregates=Ne}var oe=q.relatedObjects;if(null!=oe){var ye=re.relatedObjects;if(ye){var be,Ce=void 0,Be=void 0,Te=void 0;for(Ce in oe){if(Te)break;for(Be in oe[Ce]){be=_.first(oe[Ce][Be]),Te=!0;break}}if(null!=Ce&&null!=Be){var ce=ye[Ce]=ye[Ce]||{},ve=ce[Be]=ce[Be]||[];_.some(ve,function(Re){return(0,v.fS)(Re,be)})||ve.push(be)}}else re.relatedObjects=oe}}else he.push(q)}function L(he,q,Y,G){var Ye,Je,me=he.aggregates,re=he.selector,Ee=he.expr,Ne=function(he,q,Y){if(!(0,D.iV)(he)||!(0,D.t3)(he.arg)||!(0,D.jv)(he.arg.source))return he;var G=he.arg.source.query;if(!G)return he;var Ee,me=q&&q.filterContext;if(_.isEmpty(me)&&!Y)return he;if(Y){var re=Y.conditions(),le=_.some(re,function(Je){return 1===(0,a._)(Je)});o.fF.assert(function(){return!le},"additional filters should not contain measure filters")}if(_.isEmpty(me))Ee=[Y];else{var Ne=_.map(me,function(Je){return Je.filter});Ee=A(Ne,Y,!0,!1)}var Ye=O(G,Ee);return he.accept(new U(Ye))}(he.expr,he.context,Y);if(me||re&&!_.isEmpty(re.data))return(Je=q.selectNameOf(Ne))?{queryName:Je,queryDefn:q,objectDefinitionRewrite:void 0}:{queryName:(q=q.addSelect(Ne)).selectNameOf(Ne),queryDefn:q,objectDefinitionRewrite:void 0};q=q.addSelect(Ne);var _e=_.last(q.select());if(o.fF.assert(function(){return(0,P.fS)(_e.expr,Ne)},"Incorrect queryName"),G){var pe=new m.F(q);q=pe.rewrite(),pe.didRewrite&&(Ye={from:Ee,to:(0,f.xA)(_e.name),selector:he.selector})}return{queryName:_e.name,queryDefn:q,objectDefinitionRewrite:Ye}}function O(he,q){if(function(Ne){var Ye=!1,Je=Ne.from().sources();for(var _e in Je)if((0,C.$r)(Je[_e])){Ye=!0;break}return Ye}(he))return function(he,q){if(!n.vQ.willFiltersAffectQuery(he))return he;var G,Y=n.yl.unmerge(n.yl.fromSQFromAndSQFilters(he.from(),he.where()));G=_.isEmpty(Y)?q:A(Y,n.yl.merge(q),!1,!0);var me=n.yl.merge(G);return he.where(me.where(),me.from())}(he,q);var G=he.from().sources();for(var me in G){var re=G[me];if((0,F.y)(re)){var le=O(re.subquery,q);return G[me]=new C.vd(le),he.from(new C.cL(G))}}}function A(he,q,Y,G){o.fF.assertNonEmpty(he,"filters should not be empty"),o.fF.assertAnyValue(q,"additionalFilters");for(var me=[],re=function(he,q){o.fF.assertNonEmpty(he,"filters should not be empty"),o.fF.assertAnyValue(q,"additionalFilters");var Y=[];q&&Y.push({filters:[q],kind:void 0});var G=function(he){return o.fF.assertNonEmpty(he,"filters should not be empty"),_.groupBy(he,function(q){var Y=q.conditions();return o.fF.assert(function(){return 1===_.size(Y)},"expecting only 1 condition in filter"),(0,a._)(Y[0])})}(he);return G[0]&&Y.push({filters:G[0],kind:0}),G[3]&&Y.push({filters:G[3],kind:3}),G[2]&&Y.push({filters:G[2],kind:2}),G[1]&&Y.push({filters:G[1],kind:1}),Y}(he,q),le=0,Ee=re;le<Ee.length;le++){var Ne=Ee[le],Ye=Ne.filters;3===Ne.kind||1===Ne.kind?(1===Ne.kind&&Y&&(Ye=[B(Ne.filters)]),G?(o.fF.assertValue(q,"additionalFilters"),Ye=_.map(Ye,function(Je){return(0,n.RD)(Je,[q])})):_.isEmpty(me)||(Ye=_.map(Ye,function(Je){return(0,n.RD)(Je,me)})),me.push.apply(me,Ye)):me.push.apply(me,Ye)}return me}function B(he){for(var Y,q=n.vQ.create(),G=function(Ne){q=q.addSemanticFilter(Ne);var Ye=Ne.where()[0].target;_.isEmpty(Y)||o.fF.assert(function(){return(0,l.s_)(Ye,Y,function(Je,_e){return(0,P.fS)(Je,_e)})},"targets should be same between all measure filters"),Y=Y||Ye||[]},me=0,re=he;me<re.length;me++)G(re[me]);return o.fF.assert(function(){return!_.isEmpty(Y)},"targets should not be empty for measure filters"),_.forEach(Y,function(Ee){q=q.addSelect(Ee)}),n.yl.fromMeasuresQuery(q,Y)}var U=function(he){function q(Y){var G=he.call(this)||this;return G.query=Y,G}return(0,e.__extends)(q,he),q.prototype.visitSubqueryRef=function(Y){return(0,f.v5)(this.query,Y.getAnnotations())},q}(V.b);function W(he,q,Y){if(!he)return!0;for(var G=0,me=he;G<me.length;G++){var le=(0,h.fs)(q,me[G],Y);if(_.isEmpty(le))return!0}return!1}function K(he,q,Y){if(o.fF.assertValue(q,"querySelects"),o.fF.assertValue(Y,"queryRefsByRole"),_.isEmpty(he))return null;for(var G=[],me=0,re=he;me<re.length;me++){var le=re[me];if((0,v.j9)(le)){var Ee=ee(Y,le.roles,q);G.push.apply(G,Ee||[])}else(0,v.qm)(le)?(Ee=ee(Y,Object.keys(Y),q),G.push.apply(G,Ee||[])):(0,v.QV)(le)||(0,v.tQ)(le)?G.push.apply(G,le.exprs||[]):(0,v.yN)(le)?G.push(le.expr):o.fF.assertNever(le)}if(0!==G.length){for(var Ne=[],Ye=0,Je=q;Ye<Je.length;Ye++){var _e=Je[Ye],pe=p.m.indexOfExpr(G,_e.expr);if(!(pe<0)&&(G.splice(pe,1),Ne.push(_e.name),0===G.length))break}if(!(G.length>0||0===Ne.length))return Ne}}function ee(he,q,Y){for(var G=[],me=0,re=q;me<re.length;me++)G.push.apply(G,he[re[me]]||[]);var Ee=_.filter(Y,function(Ne){return _.includes(G,Ne.name)});return _.map(Ee,function(Ne){return Ne.expr})}},590123:function(Xe,H,t){t.d(H,{y:function(){return m}});var e=t(979868),l=t(669266),o=t(365358),d=t(498342),v=t(11641),S=function(){function V(p,C){this.strategy=p,this.roles=C}return V.prototype.compileMapping=function(p){d.fF.assertValue(p,"mapping");var C=this.compileMetadata(),b={metadata:C};return p.categorical&&(b.categorical=this.compileCategorical(p.categorical)),p.table&&(b.table=this.compileTable(p.table)),p.single&&(b.single=this.compileSingle(p.single)),p.tree&&(b.tree=this.compileTree(p.tree)),p.matrix&&(b.matrix=this.compileMatrix(p.matrix)),p.scriptResult&&(b.scriptResult=this.compileScriptResult(p.scriptResult,C)),p.usage&&(b.usage=this.compileUsage(p.usage)),b},V.prototype.compileMetadata=function(){return this.strategy.compileMetadata()},V.prototype.compileCategorical=function(p){d.fF.assertValue(p,"mapping");var C={};p.categories&&(C.categories=this.compileRoleMappingWithReduction(p.categories));var b=p.values;if(b){var y=this.compileGrouped(b),D=this.compileList(b),P=this.compileRoleMapping(b);C.values=h(y,D,P)}return p.includeEmptyGroups&&(C.includeEmptyGroups=p.includeEmptyGroups),null!=p.dataVolume&&(C.dataVolume=p.dataVolume),p.dataReductionAlgorithm&&(C.dataReductionAlgorithm=this.compileReduction(p.dataReductionAlgorithm)),C},V.prototype.compileTable=function(p){d.fF.assertValue(p,"mapping");var D={rows:h(this.compileRoleMappingWithReduction(p.rows),this.compileListWithReduction(p.rows))};return null!=p.dataVolume&&(D.dataVolume=p.dataVolume),D},V.prototype.compileSingle=function(p){return d.fF.assertValue(p,"mapping"),{role:this.compileRole(p.role)}},V.prototype.compileScriptResult=function(p,C){return d.fF.assertValue(p,"mapping"),{dataInput:this.compileMapping(p.dataInput),script:this.compileScriptDefinition(p.script,C)}},V.prototype.compileScriptDefinition=function(p,C){return this.strategy.compileScriptDefinition(p,C)},V.prototype.compileTree=function(p){d.fF.assertValue(p,"mapping");var C={};return p.nodes&&(C.nodes=this.compileForWithReduction(p.nodes)),p.values&&(C.values=this.compileFor(p.values)),null!=p.dataVolume&&(C.dataVolume=p.dataVolume),C},V.prototype.compileMatrix=function(p){d.fF.assertValue(p,"mapping");var C={};if(p.rows){var b=this.compileForWithReduction(p.rows),y=this.compileListWithCompositeWithReduction(p.rows);C.rows=h(b,y)}return p.columns&&(C.columns=this.compileForWithReduction(p.columns)),p.values&&(b=this.compileRoleMapping(p.values),y=this.compileList(p.values),C.values=h(b,y)),null!=p.dataVolume&&(C.dataVolume=p.dataVolume),p.includeEmptyGroups&&(C.includeEmptyGroups=p.includeEmptyGroups),C},V.prototype.compileUsage=function(p){if(d.fF.assertValue(p,"usage"),p.regression||p.forecast||p.anomalyDetection)return p},V.prototype.compileListWithReduction=function(p){d.fF.assertValue(p,"mapping");var C=this.compileList(p);if(C)return p.dataReductionAlgorithm&&(C.dataReductionAlgorithm=this.compileReduction(p.dataReductionAlgorithm)),C},V.prototype.compileList=function(p){var C=this;if(d.fF.assertValue(p,"mapping"),p.select)return{select:_.map(p.select,function(y){return C.compileRoleMapping(y)})}},V.prototype.compileListWithCompositeWithReduction=function(p){d.fF.assertValue(p,"mapping");var C=this.compileListWithComposite(p);if(C){if(p.dataReductionAlgorithm&&(C.dataReductionAlgorithm=this.compileReduction(p.dataReductionAlgorithm)),p.values){var b=this.compileRoleMapping(p.values),y=this.compileList(p.values);C.values=h(b,y)}return C}},V.prototype.compileListWithComposite=function(p){var C=this;if(d.fF.assertValue(p,"mapping"),p.select)return{select:_.map(p.select,function(y,D){return C.compileRoleMappingWithComposite(y,0===D)})}},V.prototype.compileGrouped=function(p){var C=this;if(d.fF.assertValue(p,"mapping"),p.group){var D={group:{by:this.compileRole(p.group.by),select:_.map(p.group.select,function(P){return C.compileRoleMapping(P)})}};return p.group.dataReductionAlgorithm&&(D.group.dataReductionAlgorithm=this.compileReduction(p.group.dataReductionAlgorithm)),D}},V.prototype.compileRoleMapping=function(p){return d.fF.assertValue(p,"mapping"),h(this.compileBind(p),this.compileFor(p))},V.prototype.compileRoleMappingWithComposite=function(p,C){return d.fF.assertValue(p,"mapping"),h(this.compileBind(p),this.compileFor(p),this.compileComposite(p,C))},V.prototype.compileRoleMappingWithReduction=function(p){d.fF.assertValue(p,"mapping");var C=this.compileRoleMapping(p),b=this.compileList(p);if(C||b){var y=h(C,b);return y&&p.dataReductionAlgorithm&&(y.dataReductionAlgorithm=this.compileReduction(p.dataReductionAlgorithm)),y}},V.prototype.compileBind=function(p){if(d.fF.assertValue(p,"mapping"),p.bind)return{bind:{to:this.compileRole(p.bind.to,p.bind.aggregates)}}},V.prototype.compileForWithReduction=function(p){d.fF.assertValue(p,"mapping");var C=this.compileFor(p);if(C)return p.dataReductionAlgorithm&&(C.dataReductionAlgorithm=this.compileReduction(p.dataReductionAlgorithm)),C},V.prototype.compileFor=function(p){if(d.fF.assertValue(p,"mapping"),p.for)return{for:{in:this.compileRole(p.for.in)}}},V.prototype.compileComposite=function(p,C){var b=this;if(d.fF.assertValue(p,"mapping"),p.composite){var D={composite:_.map(p.composite,function(P){return b.compileRoleMapping(P)})};return d.fF.assert(function(){return C||!(p.dataReductionAlgorithm&&p.dataReductionAlgorithm.window)||p.synchronized},"window data reduction requires synchronization except in the first mapping"),p.synchronized&&(D.synchronized=p.synchronized),p.dataReductionAlgorithm&&(D.dataReductionAlgorithm=this.compileReduction(p.dataReductionAlgorithm)),D}},V.prototype.compileRole=function(p,C){return this.strategy.compileRole(p,C)},V.prototype.compileReduction=function(p){if(d.fF.assertAnyValue(p,"algorithm"),p){var C={};if(p.top&&(C.top={},p.top.count&&(C.top.count=p.top.count)),p.bottom&&(C.bottom={},p.bottom.count&&(C.bottom.count=p.bottom.count)),p.sample&&(C.sample={},p.sample.count&&(C.sample.count=p.sample.count)),p.window&&(C.window={},p.window.count&&(C.window.count=p.window.count)),p.binnedLineSample&&(C.binnedLineSample={},p.binnedLineSample.count&&(C.binnedLineSample.count=p.binnedLineSample.count),p.binnedLineSample.warningCount&&(C.binnedLineSample.warningCount=p.binnedLineSample.warningCount)),p.overlappingPointsSample){var b=p.overlappingPointsSample;C.overlappingPointsSample={},b.count&&(C.overlappingPointsSample.count=b.count);var y=this.getCompiledRoleForCartesianRoleKind(0);y&&(C.overlappingPointsSample.x={role:y});var D=this.getCompiledRoleForCartesianRoleKind(1);D&&(C.overlappingPointsSample.y={role:D})}return p.topNPerLevel&&(C.topNPerLevel={count:p.topNPerLevel.count,fallbackTopCount:p.topNPerLevel.fallbackTopCount}),C}},V.prototype.getCompiledRoleForCartesianRoleKind=function(p){var C=_.filter(this.roles,function(b){return b.cartesianKind===p});if(d.fF.assert(function(){return _.size(C)<=1},"getCompiledRoleForCartesianRoleKind expects only one role mapping to a CartesianRoleKind"),1===_.size(C))return this.compileRole(C[0].name)},V}();function h(V,p,C){if(V||p||C)return!V||p||C?V||!p||C?V||p||!C?$.extend(V,p,C):C:p:V}var c=t(470081),r=t(778575),s=t(265699),u=t(37541),i=t(423610),a=t(493369),n=t(678776);function m(V){d.fF.assertValue(V,"options");var p=V.mappings;if(!p)return[];var C=V.roles||[],b=new f(V.queryDefn,V.queryProjections,V.schema,V.objectDescriptors,V.objectDefinitions,V.roles||[],V.featureSwitches,V.transformPluginService),y=new S(b,C);return _.map(p,function(D){return y.compileMapping(D)})}var f=function(){function V(p,C,b,y,D,P,F,E){this.featureSwitches=F,this.transformPluginService=E,d.fF.assertValue(p,"queryDefn"),d.fF.assertValue(C,"queryProjections"),d.fF.assertValue(b,"schema"),d.fF.assertAnyValue(y,"objectDescriptors"),d.fF.assertAnyValue(D,"objectDefinitions"),d.fF.assertValue(P,"roles"),d.fF.assertValue(E,"transformPluginService"),this.queryDefn=p,this.queryProjections=C,this.schema=b,this.objectDescriptors=y,this.objectDefinitions=D,this.roles=P,this.exprEvaluationContext=n.m.buildExprEvaluationContext(this.queryDefn.from())}return V.prototype.compileRole=function(p,C){var b=this;d.fF.assertValue(p,"role");var y,D=this.queryDefn.select(),P=this.queryProjections[p],F=(0,o.rC)(this.roles,p);if(P&&P.all().length>0){var E=!1;F&&(E=(0,a._T)(this.schema,this.queryDefn,this.queryProjections,F.name));var w=this.getScalarKeyRoleItemQueryRef(P);y=_.map(P.all(),function(g){var L=g.queryRef===w,M=D.withName(g.queryRef);return M&&b.createDataViewRoleItem(M,F,E,L,g.hidden)}),_.some(y,function(g){return null==g})&&(d.fF.assertFail("Some projections aren't in the query select"),y=_.filter(y,function(g){return null!=g})),d.fF.assert(function(){return y.filter(function(g){return g.scalarKeyInfo&&g.scalarKeyInfo.hasScalarKey}).length<=1},"We don't support multiple scalar keys in a role - visuals wouldn't know which one to select")}var x={role:p,items:y},R=this.queryProjections[p];return R&&(R.showAll&&(x.showAll=!0),R.activeProjectionRefs&&(x.activeItems=R.activeProjectionRefs)),C&&(x.aggregates=_.cloneDeep(C)),x},V.prototype.getScalarKeyRoleItemQueryRef=function(p){d.fF.assertValue(p,"projections"),d.fF.assertValue(!_.isEmpty(p.all()),"projections.all");var C=p.activeProjectionRefs;return _.isEmpty(C)?p.all()[0].queryRef:_.last(C)},V.prototype.createDataViewRoleItem=function(p,C,b,y,D){var P;d.fF.assertValue(p,"select");var F={queryName:p.name},E=this.tryGetExprType(p.expr);if(E&&(F.type=E),C&&null!=C.joinPredicate)F.joinPredicate=C.joinPredicate;else if((0,e.Im)(p.expr)){var w=this.queryDefn.transforms();if(!_.isEmpty(w))for(var x=!1,R=0,g=w;R<g.length;R++){var M=null===(P=this.transformPluginService.getTransformPlugin(g[R].algorithm))||void 0===P?void 0:P.outputRoles;if(!_.isEmpty(M))for(var T=0,O=M;T<O.length;T++){var N=O[T];if(N.algorithmRole===p.expr.role&&null!=N.joinPredicateBehavior){F.joinPredicate=N.joinPredicateBehavior,x=!0;break}}if(x)break}}return F.scalarKeyInfo={hasScalarKey:b&&y},F.hidden=D,F},V.prototype.tryGetExprType=function(p){d.fF.assertValue(p,"expr");var C=p.getMetadata(this.schema,this.exprEvaluationContext);if(C)return C.type},V.prototype.compileMetadata=function(){for(var p={columns:[]},C=this.queryDefn.orderBy(),b=function(A){var I=_.find(C,function(U){return(0,l.fS)(U.expr,A.expr)}),B=n.m.getParameterMetadata(A.expr,y.schema);p.columns.push({displayName:void 0,queryName:A.name,type:y.tryGetExprType(A.expr),sort:I&&I.direction,parameter:B})},y=this,D=0,P=this.queryDefn.select();D<P.length;D++)b(P[D]);var w=this.objectDefinitions;if(!w||!this.objectDescriptors)return p;var x=(0,r.Me)(w),R=(0,u.X)(),g=(0,v.Ue)();if(_.isEmpty(x.metadataOnce)||(L=this.evaluateMetadataOnceObjects(x.metadataOnce,R,g))&&(p.objects=L),!_.isEmpty(x.metadata))for(var M=0,T=p.columns;M<T.length;M++){var L,O=T[M];(L=this.evaluateMetadataObjects(O,x.metadata,R,g))&&(O.objects=L)}return p},V.prototype.evaluateMetadataOnceObjects=function(p,C,b){for(var y,D,P=new s.Q(this.featureSwitches,b),F=0,E=p;F<E.length;F++){var w=E[F],x=w.selector&&w.selector.id,R=null===(y=w.selector)||void 0===y?void 0:y.order,g=(0,r.PJ)(P,C,this.objectDescriptors,w.objects);g&&(D||(D={}),(0,c.PM)(D,g,x,R))}return D},V.prototype.evaluateMetadataObjects=function(p,C,b,y){for(var D,P=new s.Q(this.featureSwitches,y),F=0,E=C;F<E.length;F++){var w=E[F],x=w.selector;if(x.metadata&&x.metadata===p.queryName){var R=(0,r.PJ)(P,b,this.objectDescriptors,w.objects);R&&(D||(D={}),(0,c.PM)(D,R,x.id,x.order))}}return D},V.prototype.compileScriptDefinition=function(p,C){d.fF.assertValue(p,"mapping");var b=(0,i.Uo)(this.queryProjections,this.queryDefn.select(),this.schema,p,C.objects);return{source:p.source,provider:p.provider,scriptInput:b,scriptSourceDefault:p.scriptSourceDefault,scriptProviderDefault:p.scriptProviderDefault,scriptOutputType:p.scriptOutputType}},V}()},986458:function(Xe,H,t){t.d(H,{Az:function(){return S},Ho:function(){return s},KB:function(){return h},fg:function(){return d},p5:function(){return o}});var e=t(389731),l=t(498342),o="*";function d(u,i,a,n,m){return l.fF.assertValue(m,"dataViewObjectVersioning.getThemePropertyId - renamedObjectPropertyVersionDictionary should exist."),v(m[u],i,a,n)||v(m[o],i,a,n)||{objectName:i,propertyName:a}}function v(u,i,a,n){var m=u&&u[i]&&u[i][a];if(m){for(var f=m.currentId;m&&(0,e.lt)(n,m.version);)f=m.previousId,m=m.previous;return f}}function S(u,i,a,n,m,f){return h(u,i,null,a,n,m,f,function(){return!1})===e.aD}function h(u,i,a,n,m,f,V,p){return l.fF.assertValue(u,"dataViewObjectVersioning.getVersionForDefinition - addedObjectPropertyVersionDictionary should exist."),(0,e.Fp)(c(u[o],m,f,i,a,V,p),c(u[n],m,f,i,a,V,p))}function c(u,i,a,n,m,f,V){var p=u&&u[i];return p?(0,e.Fp)(r(p[o],n,m,f,V),r(p[a],n,m,f,V)):e.aD}function r(u,i,a,n,m){if(!u)return e.aD;for(var f=function(b){var y=u[b];if(l.fF.assert(function(){return!b||!(0,e.lt)(y.version,u[b-1].version)},"We iterate through the visual object property versions in decreasing order of version, \n                    that way if we match something we know we can to stop right there.\n                    If this assert triggers it means that the object property versions are not sorted in increasing order."),!(0,e.lt)(n,y.version))return"break";var D=y.property.matchByContents;return D&&!D(i,a)||y.property.isExprBound&&!m()?void 0:{value:y.version}},V=u.length-1;V>=0;V--){var p=f(V);if("object"==typeof p)return p.value;if("break"===p)break}return e.aD}function s(u,i,a){var n,m,f=u[a];if(f){var V=f[i.objectName];if(V)return _.reduce(V[i.propertyName],function(C,b){return b.property.matchByContents||b.property.isExprBound?C:(0,e.Fp)(C,b.version)},null!==(m=null===(n=V["*"])||void 0===n?void 0:n[0].version)&&void 0!==m?m:e.aD)}return e.aD}},540638:function(Xe,H,t){t.d(H,{lr:function(){return o}});var e=t(498342),l=t(148782);function o(i,a){e.fF.assertValue(i,"mappings"),e.fF.assertValue(a,"indicesByName");var n=i.length;if(1===n)return{mapping:i[0]};for(var m,f=[],V=i[0].updateType,p=0;p<n;p++){var C=i[p];if(V=d(C.updateType,V),!C.categorical)return;0===p&&(m={metadata:C.metadata,categorical:{}}),v(m.categorical,C.categorical),f.push(s(a,C.categorical))}return m.updateType=V,{mapping:m,splits:f}}function d(i,a){return null===i||0===i||null===a||0===a?0:i===a?i:1===i||1===a?1:2}function v(i,a){if(a.categories)if(i.categories){var n=function(i,a){if(e.fF.assertValue(i,"target"),e.fF.assertValue(a,"source"),!i&&!a)return!0;if(i&&a){if(!i.categories&&!a.categories)return!0;if(i.categories&&a.categories){var n=i.categories,m=a.categories;return!!h(n.dataReductionAlgorithm,m.dataReductionAlgorithm)&&(n.bind||m.bind?_.isEqual(n.bind,m.bind):n.for||m.for?_.isEqual(n.for,m.for):!n.select&&!m.select||_.isEqual(n.select,m.select))}}return!1}(i,a);e.fF.assert(function(){return n},"target.categories & source.categories must match when multiple mappings are used.")}else i.categories=a.categories;if(null!=a.dataVolume||null!=i.dataVolume){var m=Math.max(a.dataVolume||0,i.dataVolume||0);a.dataVolume=i.dataVolume=m}if(a.dataReductionAlgorithm)if(i.dataReductionAlgorithm){var f=h(a.dataReductionAlgorithm,i.dataReductionAlgorithm);e.fF.assert(function(){return f},"target.dataReductionAlgorithm & source.dataReductionAlgorithm must be compatible when multiple mappings are used.")}else i.dataReductionAlgorithm=a.dataReductionAlgorithm;if(a.values){var V=i.values;V||(V=i.values={});var p=a.values,C=p.group;if(function(i,a){(a.bind||a.for)&&(i.select||(i.select=[]),i.select.push(a))}(V,p),r(V,p.select),C){var b=i.values.group;b?r(b,C.select):i.values.group={select:C.select.concat([]),by:C.by,dataReductionAlgorithm:C.dataReductionAlgorithm}}}}function h(i,a){return!i||!a||_.isEqual(i,a)}function r(i,a){var n;a&&(i.select||(i.select=[]),(n=i.select).push.apply(n,a||[]))}function s(i,a){var n={selects:{}},m={visitRole:function(V){return function(i,a,n){e.fF.assertValue(i,"split"),e.fF.assertValue(a,"indicesByName"),e.fF.assertValue(n,"role");var m=n.items;if(!_.isEmpty(n.items))for(var f=[],V=0,p=m;V<p.length;V++){var y=a[p[V].queryName];f[y]||(i.selects[y]=!0,f[y]=!0)}}(n,i,V)}};return(0,l.Sr)(a.categories,m),(0,l.vS)(a.values,m),(0,l.fl)(a.values,m),n}},908142:function(Xe,H,t){t.d(H,{fz:function(){return c},v4:function(){return r}});var e=t(365358),l=t(498342),o=t(447751),d=t(382088),v=t(417666),S=t(358246),h=t(408514);function c(T){return l.fF.assertValue(T,"loc"),{kpiGoalFmt:T.get("KpiGoalDisplayName"),kpiStatusFmt:T.get("KpiStatusDisplayName"),kpiTrendFmt:T.get("KpiTrendDisplayName")}}function r(T,O,N,A){var I=new v.ud;I.name=O,I.cubeName=A,I.entities=(0,e.bv)(),T.canEdit&&(T.Capabilities||(T.Capabilities={}),T.Capabilities.CanEdit=T.canEdit),I.capabilities=function(T){return{canEdit:T&&T.CanEdit||!1,discourageQueryAggregateUsage:T&&T.DiscourageQueryAggregateUsage||!1,isExtendable:T&&T.IsExtendable||!1,isQnaEnabled:T&&T.IsQnaEnabled||!1,normalizedFiveStateKpiRange:T&&T.NormalizedFiveStateKpiRange||!1,supportsMedian:T&&T.SupportsMedian||!1,supportsPercentile:T&&T.SupportsPercentile||!1,supportsScopedEval:T&&T.SupportsScopedEval||!1,supportsStringMinMax:T&&T.SupportsStringMinMax||!1,supportsMultiTableTupleFilters:T&&T.SupportsMultiTableTupleFilters||!1,supportsTimeIntelligenceQuickMeasures:T&&T.SupportsTimeIntelligenceQuickMeasures||!1,supportsCalculatedColumns:T&&!1!==T.SupportsCalculatedColumns||!1,supportsGrouping:T&&!1!==T.SupportsGrouping||!1,limitMultiColumnFiltersToQueryGroupColumns:T&&T.LimitMultiColumnFiltersToQueryGroupColumns||!1,supportsBinnedLineSample:T&&T.SupportsBinnedLineSample||!1,supportsOverlappingPointsSample:T&&T.SupportsOverlappingPointsSample||!1,supportsQna:T&&T.SupportsQna||!1,supportsInstanceFilters:T&&T.SupportsInstanceFilters||!1,supportsDataSourceVariables:T&&T.SupportsDataSourceVariables||!1,insights:T?L(T.Insights):{},supportsFastRefresh:T&&T.SupportsFastRefresh||!1,supportsSubqueryRegrouping:T&&T.SupportsSubqueryRegrouping||!1,supportsTopNPerLevel:T&&T.SupportsTopNPerLevel||!1,supportsExtensionColumns:T&&T.SupportsExtensionColumns||!1,canEditChangeDetectionMeasure:T&&T.CanEditChangeDetectionMeasure||!1,supportsGroupSynchronization:T&&T.SupportsGroupSynchronization||!1,supportsScopedDataReduction:T&&T.SupportsScopedDataReduction||!1,transformCapabilities:M(T&&T.TransformCapabilities),supportChangeDetectionMeasureRefresh:T&&T.SupportChangeDetectionMeasureRefresh||!1,supportsSparklineData:T&&T.SupportsSparklineData||!1,supportsVisualCalculations:T&&T.SupportsVisualCalculations||!1}}(T.Capabilities);for(var B=0,U=T.Entities;B<U.length;B++)I.entities.push(s(U[B],I.capabilities,N));for(var j=0,K=T.Entities.length;j<K;++j)E(I.entities[j],T.Entities[j],I.entities);return I}function s(T,O,N){for(var A=T.Capabilities,I=T.Source,B={name:T.Name,displayName:T.DisplayName||T.Name,stableName:T.StableName,description:T.Description,visibility:F(T.Hidden,T.ShowAsVariationsOnly,T.Private),calculated:T.Calculated,queryable:T.Queryable,properties:(0,e.bv)(),hierarchies:(0,e.bv)(),displayFolders:(0,e.bv)(),navigationProperties:(0,e.bv)(),errorMessage:T.ErrorMessage,isDateTable:!0===T.IsDateTable,isCalculationGroup:T.IsCalculationGroup,source:{mode:I&&I.Mode,refreshedTime:I&&I.RefreshedTime,directQuerySourceType:I&&I.DirectQuerySourceType,directQuerySourceName:I&&I.DirectQuerySourceName},capabilities:{canRefresh:!A||!1!==A.CanRefresh,canHaveMeasures:!A||!1!==A.CanHaveMeasures,canEditSource:O.canEdit&&(!A||!1!==A.CanEditSource),canRename:O.canEdit&&(!A||!1!==A.CanRename),canDelete:O.canEdit&&(!A||!1!==A.CanDelete),canEditStorageMode:O.canEdit&&(!A||!1!==A.CanEditStorageMode),supportsClustering:O.canEdit&&(!A||!1!==A.SupportsClustering),supportsBinByCount:O.canEdit&&(!A||!1!==A.SupportsBinByCount),limitOnNumberOfGroups:A&&A.LimitOnNumberOfGroups||null,dataView:A&&A.DataView||null}},U=0,W=T.Properties;U<W.length;U++)B.properties.push(V(W[U]));l.fF.assert(function(){return B.properties.length===T.Properties.length},"Converted schema properties array is not the expected length.");for(var K=0,ee=T.Properties.length;K<ee;++K){var ie=B.properties[K],he=T.Properties[K];l.fF.assertValue(ie,"no result property for contract property"),ie.canDelete=O.canEdit&&!1!==he.CanDelete;var q=he.Column;if(q){var Y=ie.column=ie.column||{};q.Keys&&(Y.keys=n(q.Keys,B.properties)),q.OrderBy&&(Y.orderBy=n(q.OrderBy,B.properties))}var G=he.Measure;if(G){var me=ie.measure=ie.measure||{};if(me.canEdit=!1!==G.canEdit,G.FormatBy&&(me.formatBy=G.FormatBy),G.Kpi){var re=me.kpi=m(G.Kpi,B.properties,O);f(re.goal,ie,1,N),f(re.status,ie,0,N),f(re.trend,ie,3,N)}G.Template&&(me.template={name:G.Template.DaxTemplateName}),G.ChangeDetectionMetadata&&(me.changeDetectionMetadata={refreshInterval:G.ChangeDetectionMetadata.RefreshInterval}),null!=G.DistributiveAggregate&&(me.distributiveAggregate=G.DistributiveAggregate)}}if(T.Hierarchies)for(var le=0,Ee=T.Hierarchies;le<Ee.length;le++)B.hierarchies.push(i(Ee[le],B.properties));if(T.DisplayFolders)for(var Ye=0,Je=T.DisplayFolders;Ye<Je.length;Ye++)B.displayFolders.push(u(Je[Ye],B.properties,B.hierarchies));return T.DefaultLabelColumnRef&&(B.defaultLabel=B.properties.withName(T.DefaultLabelColumnRef)),T.DefaultFieldPropertyRefs&&(B.defaultFields=_.map(T.DefaultFieldPropertyRefs,function(pe){return B.properties.withName(pe)})),B}function u(T,O,N){var A={name:T.Name,displayName:T.DisplayName||T.Name,description:T.Description,properties:(0,e.bv)(),hierarchies:(0,e.bv)(),displayFolders:(0,e.bv)()};if(T.DisplayItems)for(var I=0,B=T.DisplayItems;I<B.length;I++){var U=B[I];U.PropertyRef&&O?A.properties.push(O.withName(U.PropertyRef)):U.HierarchyRef&&N?A.hierarchies.push(N.withName(U.HierarchyRef)):U.DisplayFolder&&A.displayFolders.push(u(U.DisplayFolder,O,N))}return A}function i(T,O){for(var N={name:T.Name,displayName:T.DisplayName||T.Name,stableName:T.StableName,description:T.Description,hidden:T.Hidden,levels:(0,e.bv)(),canDelete:!1!==T.CanDelete},A=0,I=T.Levels;A<I.length;A++)N.levels.push(a(I[A],O));return N}function a(T,O){return{name:T.Name,displayName:T.DisplayName||T.Name,stableName:T.StableName,description:T.Description,column:O.withName(T.Column),canDelete:!1!==T.CanDelete}}function n(T,O){l.fF.assertValue(T,"names"),l.fF.assertValue(O,"properties");for(var N=(0,e.bv)(),A=0,I=T;A<I.length;A++)N.push(O.withName(I[A]));return N}function m(T,O,N){var A=N.normalizedFiveStateKpiRange,I={statusMetadata:{graphic:T.StatusGraphic,normalizedFiveStateKpiRange:A},status:O.withName(T.Status),goal:O.withName(T.Goal),trend:O.withName(T.Trend)};return T.TrendGraphic&&(I.trendMetadata={graphic:T.TrendGraphic,normalizedFiveStateKpiRange:A}),I}function f(T,O,N,A){if(T){var I=O.displayName;switch(N){case 1:I=(0,o.W)(A.kpiGoalFmt,I);break;case 0:I=(0,o.W)(A.kpiStatusFmt,I);break;case 3:I=(0,o.W)(A.kpiTrendFmt,I);break;default:l.fF.assertFail("Unsupported Kpi Type")}T.displayName=I,T.hidden=!1,T.kpiValue=O}}function V(T){return l.fF.assertValue(T,"contract"),{displayName:T.DisplayName||T.Name,stableName:T.StableName,description:T.Description,name:T.Name,type:S.Ge.fromPrimitiveTypeAndCategory(T.DataType,T.DataCategory),column:T.Column?p(T.Column):null,kind:P(T),format:T.FormatString,hidden:T.Hidden,isPrivate:T.Private,queryable:T.Queryable,errorMessage:T.ErrorMessage}}function p(T){l.fF.assertValue(T,"contract");var O={defaultAggregate:T.DefaultAggregate,idOnEntityKey:T.IdOnEntityKey,calculated:T.Calculated,variations:(0,e.bv)(),aggregateBehavior:T.AggregateBehavior};return void 0!==T.DefaultValue&&(O.defaultValue=(0,h.bE)(T.DefaultValue)),O}function C(T,O){return l.fF.assertValue(T,"contract"),l.fF.assertValue(O,"entity"),{kind:null!=T.Kind?T.Kind:0,mappedMParameterNames:T.MappedMParameterNames,supportsMultipleValues:T.SupportsMultipleValues,supportsSelectAll:T.SupportsSelectAll}}function b(T,O){l.fF.assertValue(T,"contract"),l.fF.assertValue(O,"entity");var N={groupedColumns:_.map(T.GroupedColumns,function(A){return A.ColumnRef&&!A.LevelRef?O.properties.withName(A.ColumnRef):A.LevelRef&&!A.ColumnRef?O.hierarchies.withName(A.LevelRef.Hierarchy).levels.withName(A.LevelRef.Level):void l.fF.assertFail("unknown ClientConceptualGroupedColumnContainer")})};return T.BinningMetadata&&(N.binningMetadata=function(T){l.fF.assertValue(T,"contract");var O={};return T.BinSize&&(O.binSize=function(T){return l.fF.assertValue(T,"contract"),{value:T.Value,unit:T.Unit}}(T.BinSize)),O}(T.BinningMetadata)),N}function P(T){return T.Measure?1:0}function F(T,O,N){var A=0;return T&&(A|=1),O&&(A|=2),N&&(A|=4),A}function E(T,O,N){var A,I,B;if(l.fF.assertValue(T,"entity"),l.fF.assertValue(O,"contract"),l.fF.assertValue(N,"entities"),O.NavigationProperties)for(var U=0,W=O.NavigationProperties;U<W.length;U++)T.navigationProperties.push(w(W[U],T,N));if(O.Properties)for(var K=0,ee=O.Properties.length;K<ee;++K){var ie=O.Properties[K],he=ie.Column;if(he&&he.Variations&&x(T.properties[K].column,he,T),he&&he.GroupingMetadata&&(T.properties[K].column.groupingMetadata=b(he.GroupingMetadata,T)),he&&he.ParameterMetadata){var q=C(he.ParameterMetadata,T);if(T.properties[K].column.parameterMetadata=q,2===q.kind)for(var Y=0,G=T.properties;Y<G.length;Y++){var me=G[Y];if(null!==(A=null==me?void 0:me.column)&&void 0!==A&&A.keys&&1===me.column.keys.length&&null!=(null===(B=null===(I=me.column.keys[0].column)||void 0===I?void 0:I.parameterMetadata)||void 0===B?void 0:B.kind)&&2===me.column.keys[0].column.parameterMetadata.kind){me.column.parameterMetadata=q;break}}}var re=ie.Measure;re&&!_.isEmpty(re.DistributiveBy)&&(T.properties[K].measure.distributiveBy=_.map(re.DistributiveBy,function(le){return N.withName(le)}))}}function w(T,O,N){l.fF.assertValue(T,"contract");var A={name:T.Name,isActive:T.Active,sourceColumn:null,targetEntity:N.withName(T.TargetEntity),sourceMultiplicity:T.SourceMultiplicity,targetMultiplicity:T.TargetMultiplicity,behavior:T.Behavior||0,crossFilterDirection:d.b$.valueOrDefault(T.CrossFilterDirection,0)};if(T.SourceColumn){var I=O.properties.withName(T.SourceColumn);I&&(A.sourceColumn=I.column)}return A}function x(T,O,N){l.fF.assertValue(T,"column"),l.fF.assertValue(O,"contract");for(var A=0,I=O.Variations;A<I.length;A++)T.variations.push(R(I[A],N))}function R(T,O){l.fF.assertValue(T,"contract");var N={name:T.Name,isDefault:T.Default,navigationProperty:null,defaultHierarchy:null,defaultProperty:null},A=O;return T.NavigationProperty&&(N.navigationProperty=O.navigationProperties.withName(T.NavigationProperty),A=N.navigationProperty.targetEntity),T.DefaultHierarchy&&(N.defaultHierarchy=A.hierarchies.withName(T.DefaultHierarchy)),T.DefaultProperty&&(N.defaultProperty=A.properties.withName(T.DefaultProperty)),N}function L(T){return T?{supportsDistributionFactors:T.SupportsDistributionFactors||!1,supportsExplainChange:T.SupportsExplainChange||!1,supportsExplore:T.SupportsExplore||!1,supportsKeyDrivers:T.SupportsKeyDrivers||!1,supportsRelatedInsights:T.SupportsRelatedInsights||!1,supportsDecomposition:T.SupportsDecomposition||!1,supportsExplainAnomalies:T.SupportsExplainAnomalies||!1,supportsCompatibleFields:T.SupportsCompatibleFields||!1,supportsQuerySuggestions:T.SupportsQuerySuggestions||!1,supportsExplainVarianceToTarget:T.SupportsExplainVarianceToTarget||!1,supportsGenerateSummaries:T.SupportsGenerateSummaries||!1}:{}}function M(T){return T?{supportedTransforms:T.SupportedTransforms}:{supportedTransforms:[]}}},201079:function(Xe,H,t){t.d(H,{No:function(){return i},U6:function(){return a}});var e=t(973188),l=t(895383),o=t(101696),d=t(947634),v=t(998879),S=t(498342),h=t(880856),c=t(881105),r=t(421396),s=t(908142);function i(f,V,p,C,b,y,D){return new m(f,V,p,C,b,y,D)}function a(f,V,p,C,b){return new n(f,V,p,C,b)}var n=function(){function f(V,p,C,b,y){this.httpService=V,this.promiseFactory=p,this.uri=C,this.featureSwitches=b,this.preloadConceptualSchemaService=y}return f.prototype.execute=function(V,p){var D,P,F,C=this,b=this.featureSwitches&&this.featureSwitches().telemetryV2,y=this.promiseFactory.defer(b);return p.event.info.endPoint=this.uri,this.preloadConceptualSchemaService&&(D=this.preloadConceptualSchemaService.getPreloadedConceptualSchema(),P=this.preloadConceptualSchemaService.getPreloadConceptualSchemaUrl(),F=this.preloadConceptualSchemaService.getPreloadConceptualSchemaRequestBody()),JSON.stringify(V)===F&&this.uri===P&&D?(D.then(function(E){1!==E.schemas.length||E.schemas[0].modelId!==V.modelIds[0]||E.error?C.httpExecute(V,p,y):((0,v.bF)(C.uri,p.event.info),y.resolve({requestId:C.preloadConceptualSchemaService.getPreloadConceptualSchemaResponseRequestId(),schemas:E.schemas}))},function(E){C.httpExecute(V,p,y)}),this.preloadConceptualSchemaService.clear()):this.httpExecute(V,p,y),y.promise},f.prototype.httpExecute=function(V,p,C){var b=this;this.httpService.post(this.uri,V,this.httpService.powerbiRequestOptions(p.event,"GetConceptualSchema")).then(function(y){b.setTelemetryEventInfo(p.event,y),C.resolve({requestId:y.responseRequestId||y.requestId,schemas:y.data.schemas})},function(y){var D=y||{};b.setTelemetryEventInfo(p.event,D),C.reject({requestId:D.responseRequestId||D.requestId,error:D.error,status:D.status,schemas:void 0})})},f.prototype.setTelemetryEventInfo=function(V,p){V.info.clientAndServerRequestIdMatch=(0,v.Cx)(p),V.info.responseRequestId=(0,v.yC)(p),V.info.requestId=p.requestId,(0,v.bF)(this.uri,V.info)},f}(),m=function(){function f(V,p,C,b,y,D,P){this.promiseFactory=V,this.telemetryService=p,this.localeProvider=C,this.conceptualSchemaProxyCommunication=b,this.locOptions=y,this.featureSwitches=D,this.embedModeService=P,S.fF.assertValue(V,"promiseFactory"),S.fF.assertValue(b,"conceptualSchemaProxyCommunication"),S.fF.assertValue(y,"locOptions")}return f.prototype.execute=function(V){var p=this;S.fF.assertValue(V,"options");var C=V.dataSources;S.fF.assertNonEmpty(C,"dataSources");var b=this.featureSwitches&&this.featureSwitches().telemetryV2;if(!C||C.length>1)return this.promiseFactory.reject({},b);var y=this.promiseFactory.defer(b),D=_.map(C,function(x){return x.name}),P={modelIds:_.map(C,function(x){return x.id}),userPreferredLocale:this.localeProvider.getUserPreferredLocale()};C.some(function(x){return x.perspectiveId})&&(P.perspectiveIds=_.map(C,function(x){return x.perspectiveId}));var E=JSON.stringify(P.modelIds);b&&(0,d.Hi)(r.sS,{datasetIds:E});var w=this.telemetryService.startEvent(r.oj,{endPoint:"",datasetIds:E,clientAndServerRequestIdMatch:!0,embedType:this.embedModeService&&this.embedModeService.getEmbedTypeDescription()});return this.conceptualSchemaProxyCommunication.execute(P,w).then(function(x){return p.onSuccess(x,D,y,w)},function(x){return p.onError(x,y,w)}),y.promise},f.prototype.transform=function(V){var p=V;if(!p.data)return{schema:null,error:p.error};var C=p.data;S.fF.assertValue(C,"schemaResponse");var b=C.schemas;S.fF.assertNonEmpty(b,"schemaResponses");var y=p.schemaNames;S.fF.assert(function(){return y.length===b.length},"schemaNames.length === schemaResponsess.length");for(var D={},P=0,F=b.length;P<F;P++){var E=y[P];D[E]=(0,s.v4)(b[P].schema,E,this.locOptions,b[P].cubeName)}return{schema:new c.l({schemas:D})}},f.prototype.onSuccess=function(V,p,C,b){if(_.isEmpty(V.schemas))this.onError(V,C,b);else{for(var y=0,D=V.schemas;y<D.length;y++){var F=D[y].error;if(F){C.reject({data:null,error:{requestId:V.requestId,serviceError:F,clientError:null,ignorable:!0}});var E=(0,o.W2)(F);return E.asErrorCode=F.parameters&&F.parameters.ASErrorCode,void b.reject(E)}}C.resolve({data:V,schemaNames:p,error:null}),b.resolve()}},f.prototype.onError=function(V,p,C){var b=V.error;p.reject({data:null,error:{requestId:V.requestId,clientError:new h.n8(V.error)}}),C.reject((0,o.GB)(b,V.status))},(0,e.__decorate)([(0,l.U)(r.sS),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],f.prototype,"execute",null),f}()},822241:function(Xe,H,t){t.d(H,{g:function(){return l},y:function(){return o}});var e=t(498342);function l(d){return e.fF.assertValue(d,"dataQuery"),e.fF.assertNonEmpty(d.Commands,"dataQuery.Commands must not be empty"),e.fF.assertValue(d.Commands[0].SemanticQueryDataShapeCommand,"The first command must be a SemanticQuery command"),e.fF.assertValue(d.Commands.length<=3,"dataQuery.Commands can hold up to three commands"),e.fF.assertValue(1===d.Commands.length||2===d.Commands.length&&(d.Commands[1].ScriptVisualCommand||d.Commands[1].ExportDataCommand),"The additional commands should be ScriptVisualCommand or ExportDataCommand."),d.Commands[0].SemanticQueryDataShapeCommand}function o(d){return e.fF.assert(function(){return d&&d.Commands&&d.Commands.length>0},"data query should not be empty"),d.Commands.length>1}},454381:function(Xe,H,t){t.d(H,{p:function(){return w}});var e=t(201079),l=t(176652),o=t(973188),d=t(498342),v=t(382088),S=t(512322),h=t(603662),c=t(724717);function s(R){return function(g,L,M){var T={query:g,extensions:void 0,queryRewrites:L},O=new m(L,M);return T.query=g.rewrite(O),T.extensions=O.extensionSchema,T.queryRewrites=O.queryRewrites,T}}var m=function(R){function g(L,M){var T=R.call(this)||this;return T.queryRewrites=L,T.extensionSchema=M,T.existingEntityNames={},T.existingExtensionFieldNames={},d.fF.assertAnyValue(L,"queryRewrites"),d.fF.assertAnyValue(M,"extensionSchema"),T}return(0,o.__extends)(g,R),g.prototype.visitNativeMeasure=function(L){this.ensureSchemaInitialized(),this.nativeMeasuresTargetEntity||(this.nativeMeasuresTargetEntity={Name:(0,v.zE)(this.existingEntityNames,"NativeMeasures_778a1d25-9ebf-4f33-a1c3-827ad532874e"),NamingBehavior:1,Measures:[]},this.extensionSchema.Entities.push(this.nativeMeasuresTargetEntity));var M=_.find(this.nativeMeasuresTargetEntity.Measures,function(N){return N.DataType===L.dataType&&N.Expression===L.expression});if(M)return(0,S.mv)((0,S.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),M.Name);var T=(0,v.zE)(this.existingExtensionFieldNames,L.proposedName||"NativeMeasure");this.existingExtensionFieldNames[T]=!0;var O=(0,S.mv)((0,S.nw)(this.extensionSchema.Name,this.nativeMeasuresTargetEntity.Name),T);return this.nativeMeasuresTargetEntity.Measures.push({Name:T,DataType:L.dataType,Expression:L.expression}),O},g.prototype.visitNativeColumn=function(L){this.ensureSchemaInitialized();var T=L.source.getTargetEntity(),O=_.find(this.extensionSchema.Entities,function(B){return B.Name===T.entity});O||this.extensionSchema.Entities.push(O={Name:T.entity,Extends:T.entity,Columns:[]}),O.Columns||(O.Columns=[]);var N=_.find(O.Columns,function(B){return B.DataType===L.dataType&&B.Expression===L.expression});if(N)return(0,S.Oh)((0,S.nw)(this.extensionSchema.Name,O.Name),N.Name);var A=(0,v.zE)(this.existingExtensionFieldNames,L.proposedName||"NativeColumn");this.existingExtensionFieldNames[A]=!0;var I=(0,S.Oh)((0,S.nw)(this.extensionSchema.Name,O.Name),A);return O.Columns.push({Name:A,DataType:L.dataType,Expression:L.expression,NamingBehavior:1}),this.queryRewrites||(this.queryRewrites=[]),this.queryRewrites.push({selectExprReplaced:{originalExpr:L,replacedExpr:I}}),I},g.prototype.ensureSchemaInitialized=function(){if(!this.schemaInitialized){this.extensionSchema?this.extensionSchema.Version=Math.max(this.extensionSchema.Version,1):this.extensionSchema={Name:"NativeExpressionExtensions",Version:1,Extends:c.N8},this.extensionSchema.Entities||(this.extensionSchema.Entities=[]),this.existingExtensionFieldNames={};for(var L=0,M=this.extensionSchema.Entities;L<M.length;L++){var T=M[L];if(this.existingEntityNames[T.Name]=!0,T.Measures)for(var O=0,N=T.Measures;O<N.length;O++)this.existingExtensionFieldNames[N[O].Name]=!0;if(T.Columns)for(var I=0,B=T.Columns;I<B.length;I++)this.existingExtensionFieldNames[B[I].Name]=!0}this.schemaInitialized=!0}},g}(h.b),f=t(368434),V=t(45484),p=t(895383),C=t(421396),b=t(301938),y=t(546368),D=t(101696),P=t(998879),F=function(){function R(g,L,M,T,O,N,A,I,B){void 0===B&&(B=!1),this.useSynchronous=!1,d.fF.assertValue(g,"httpService"),d.fF.assertValue(M,"localeProvider"),d.fF.assertValue(L,"telemetryService"),d.fF.assertValue(T,"promiseFactory"),d.fF.assertValue(O,"uri"),this.httpService=g,this.impersonationStateProvider=N,this.promiseFactory=T,this.telemetryService=L,this.localeProvider=M,this.uri=O,this.featureSwitches=A,this.directToMwcConnectionInfoService=I,this.useSynchronous=B}return R.prototype.execute=function(g){for(var L,M,T,O,N,A=this.httpService.powerbiRequestOptions(null,"ExecuteSemanticQuery",void 0,!0),I=(0,V.u5)(g,this.localeProvider,this.impersonationStateProvider),B=0,U=g.enqueueActivities;B<U.length;B++)U[B].resolve();var j=this.featureSwitches&&this.featureSwitches().telemetryV2,K=this.featureSwitches&&this.featureSwitches().addVisualIdToQueryDataAsHttpBodyId,ee=this.promiseFactory.defer(j),ie=g.cacheOptions,he=g.useSynchronous||this.useSynchronous,q=g.dataSources[0].dbName,Y=!1;(!q||g.dataSources.length>1)&&(this.telemetryService.logEvent(b.jj,{message:"A direct to MWC request was missing a dbName or more then one source was used in this request. This will cause issues routing with AutoPremium"}),Y=!0);var G=this.uri;if(he||K){var me={};if(he&&(me.synchronous="true"),K){var re=null===(N=null===(O=null===(T=null===(M=null===(L=g.queryOptions)||void 0===L?void 0:L[0])||void 0===M?void 0:M.applicationContext)||void 0===T?void 0:T.Sources)||void 0===O?void 0:O[0])||void 0===N?void 0:N.VisualId;re&&(me.$httpBodyId=re)}G=(0,y.fS)(G,me,!0)}var le=G,Ee=A.authorizationHeaderOverride,Ne=I.modelId;if(this.directToMwcConnectionInfoService){var Ye=this.directToMwcConnectionInfoService.checkModelConnectionInfo(Ne);!Ye||this.impersonationStateProvider&&this.impersonationStateProvider.impersonating||Y?this.sendHttpRequest(G,I,A,ee,ie,g.queryActivities,he):this.sendDirectToMwcRequestWithFallbackOnFailure(Ye,G,I,A,ee,Ne,le,Ee,ie,q,g.queryActivities,he)}else this.sendHttpRequest(G,I,A,ee,ie,g.queryActivities,he);return ee.promise},R.prototype.sendDirectToMwcRequestWithFallbackOnFailure=function(g,L,M,T,O,N,A,I,B,U,W,j){var K=this;L=g.capacityUri+"query",T.useMwcTokenAuthorization=!0,T.authorizationHeaderOverride=g.mwcToken;var ee=this.telemetryService.startEvent(C.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:j,cacheOptions:B});T.headers["x-ms-root-activity-id"]=T.headers.RequestId,T.headers["x-ms-parent-activity-id"]=T.headers.RequestId,T.headers["x-ms-workload-resource-moniker"]=U;for(var ie=[],he=0,q=W;he<q.length;he++){var G=q[he].createChildActivity({name:"Query Executing"});G&&ie.push(G)}this.httpService.post(L,M,T).then(function(me){K.attachHttpMetadataToTelemetry(ee.event.info,me,L),K.attachCacheMetadataToTelemetryDirectToMwc(ee.event,me);var re=me.headers("x-ms-mwc-throttling-delay");_.isEmpty(re)||K.directToMwcConnectionInfoService.notifyThrottlingOnNotificationBar();for(var le=0,Ee=ie;le<Ee.length;le++){var Ne=Ee[le];K.attachHttpMetadataToContextActivity(Ne,me),Ne.resolve()}ee.resolve(),O.resolve(K.attachHttpMetadataToResult(me))},function(me){K.attachHttpMetadataToTelemetry(ee.event.info,me,L),K.attachCacheMetadataToTelemetryDirectToMwc(ee.event,me);for(var re=0,le=ie;re<le.length;re++){var Ee=le[re];K.attachHttpMetadataToContextActivity(Ee,me),Ee.reject()}ee.reject((0,D.GB)(me.error,me.status)),K.directToMwcConnectionInfoService.removeModelConnectionInfo(N),T.authorizationHeaderOverride=I,T.useMwcTokenAuthorization=null,K.sendHttpRequest(A,M,T,O,B,W,j)})},R.prototype.sendHttpRequest=function(g,L,M,T,O,N,A){for(var I=this,B=this.telemetryService.startEvent(C.vP,{endPoint:this.uri,clientAndServerRequestIdMatch:!0,synchronous:A,cacheOptions:O}),U=[],W=0,j=N;W<j.length;W++){var ee=j[W].createChildActivity({name:"Query Executing"});ee&&U.push(ee)}this.httpService.post(g,L,M).then(function(ie){I.attachHttpMetadataToTelemetry(B.event.info,ie,g);for(var he=0,q=U;he<q.length;he++){var Y=q[he];I.attachHttpMetadataToContextActivity(Y,ie),Y.resolve()}B.resolve(),T.resolve(I.attachHttpMetadataToResult(ie))},function(ie){I.attachHttpMetadataToTelemetry(B.event.info,ie,g);for(var he=0,q=U;he<q.length;he++){var Y=q[he];I.attachHttpMetadataToContextActivity(Y,ie),Y.reject()}B.reject((0,D.GB)(ie.error,ie.status)),T.reject(I.attachHttpMetadataToResult(ie))})},R.prototype.attachHttpMetadataToContextActivity=function(g,L){var M,T,O;g.isRunning()&&L.performanceTimings&&(g.setProperty("transferSize",null===(M=L.performanceTimings)||void 0===M?void 0:M.transferSize),g.setProperty("contentType",L.headers("content-type")),g.setProperty("httpStatus",L.status.toString()),g.setProperty("requestId",L.requestId),g.setProperty("requestStart",null===(T=L.performanceTimings)||void 0===T?void 0:T.requestStart),g.setProperty("responseStart",null===(O=L.performanceTimings)||void 0===O?void 0:O.responseStart),g.setProperty("start",L.performanceTimings.startTime),g.setProperty("end",L.performanceTimings.responseEnd))},R.prototype.attachHttpMetadataToTelemetry=function(g,L,M){g.endPoint=M,g.clientAndServerRequestIdMatch=(0,P.Cx)(L),g.responseRequestId=(0,P.yC)(L),g.requestId=L.requestId,g.status=L.status,L.performanceTimings&&(0,P.eQ)(L.performanceTimings,g)},R.prototype.attachCacheMetadataToTelemetryDirectToMwc=function(g,L){L.data.results&&(g.info.fromCache=_.reduce(L.data.results,function(M,T){return T.fromCache?++M:M},0),g.info.resultCount=L.data.results.length)},R.prototype.attachHttpMetadataToResult=function(g){if(g&&g.data){var L=g.data;return L.requestId=g.responseRequestId||g.requestId,L.httpStatusCode=g.status,L}return{jobIds:null,results:null,requestId:g.responseRequestId||g.requestId,httpStatusCode:g.status}},(0,o.__decorate)([(0,p.U)(C.Zq),(0,o.__metadata)("design:type",Function),(0,o.__metadata)("design:paramtypes",[Object]),(0,o.__metadata)("design:returntype",Object)],R.prototype,"execute",null),R}();function w(R,g){var L=x(g.reader.communication)?function(R,g,L,M,T,O,N,A,I,B){return void 0===B&&(B=!1),new F(R,g,L,M,T,O,N,A,B)}(g.reader.communication.httpService,g.telemetryService,g.localeProvider,g.promiseFactory,g.reader.communication.uri,g.reader.communication.impersinationStateProvider,g.reader.featureSwitches,g.reader.directToMwcConnectionInfoService,0,g.useSynchronous):g.reader.communication,M=x(g.schemaReader.communication)?(0,e.U6)(g.schemaReader.communication.httpService,g.promiseFactory,g.schemaReader.communication.uri,g.reader.featureSwitches,g.schemaReader.preloadConceptualSchemaService):g.schemaReader.communication;R.dsr={name:"dsr",reader:function(N){return new l.i(N,L,g.telemetryService,g.reader.featureSwitches(),g.reader.timeoutService,g.reader.delayedQueryResultResolver,g.reader.preferredMaxConnections,g.queryContextProvider,g.appContextHostDataProvider)},queryGenerator:function(){return(0,f.Zl)(g.reader.featureSwitches())},schemaReader:function(){return(0,e.No)(g.promiseFactory,g.telemetryService,g.localeProvider,M,g.schemaReader.localizationOptions,g.reader.featureSwitches,g.embedModeService)},queryExtensionProvider:s}}function x(R){return _.isPlainObject(R)}},655537:function(Xe,H,t){t.d(H,{A1:function(){return d},_8:function(){return v},nc:function(){return S}});var e=t(498342),l=t(358246),o=t(408514),d=function(){function h(){}return h.findAndParseCalculation=function(c,r){var s=this.findCalculation(c,r);if(s)return(0,o.H2)(s.Value)},h.findAndParseCalculationToSQExpr=function(c,r){var s=this.findCalculation(c,r);if(s)return(0,o.bE)(s.Value)},h.findCalculation=function(c,r){e.fF.assertValue(c,"calcs");for(var s=0,u=c.length;s<u;s++){var i=c[s];if(i.Id===r)return i}},h.describeDataType=function(c,r){var s=0;switch(c=c||0){case 2048:s=1;break;case 1:s=3;break;case 3:s=4;break;case 4096:s=5;break;case 20:s=6;break;case 4:s=7;break;case 8:s=9;break;case 67:s=4,e.fF.assert(function(){return!r||"Years"===r},"Unexpected category for Year type."),r="Years";break;case 35:s=4,e.fF.assert(function(){return!r||"Months"===r},"Unexpected category for Month type."),r="Months"}return l.Ge.fromPrimitiveTypeAndCategory(s,r)},h.getTopLevelSecondaryDynamicMember=function(c,r){e.fF.assertValue(c,"DsrV1.DataShape");var s=c.SecondaryHierarchy;return s?r&&r.Secondary?h.getDynamicMember(s,r.Secondary.Groupings,0):h.getDynamicMemberFallback(s):null},h.getTopLevelPrimaryDynamicMember=function(c,r,s){e.fF.assertValue(c,"DsrV1.DataShape");var i,u=c.PrimaryHierarchy;return u?(s&&(i=void 0!==c.Calculations),r&&r.Primary?h.getDynamicMember(u,r.Primary.Groupings,0,i):h.getDynamicMemberFallback(u,i)):null},h.getDynamicMember=function(c,r,s,u){if(e.fF.assertValue(c,"dataShapeMembers"),0===c.length)return null;if(!r||0===r.length)return h.getDynamicMemberFallback(c,u);var i=r[s].Member;if(!i)return h.getDynamicMemberFallback(c,u);for(var a=0,n=c;a<n.length;a++){var m=n[a];if(m.Id===i)return m}return null},h.getDynamicMemberFallback=function(c,r){return 2===c.length?c[1]:void 0===r||!0===r?c[0]:null},h.fillMetadataColumnAggregate=function(c,r,s){void 0===s&&(s=!0),e.fF.assertValue(r,"aggregateMetdata");var u=r.source.aggregates;switch(u||(r.source.aggregates=u={}),r.aggregateKind){case 1:return void(u.subtotal=c);case 2:return void(u.max=c);case 3:return void(u.min=c);case 4:return void(s||(u.single=c));case 5:return e.fF.assert(function(){return"number"==typeof c},"unexpected count calc value"),void(u.count=c);case 6:return void(u.average=c);case 8:return void(u.median=c);case 7:var i=r.aggregate.Percentile,a=u.percentiles;a||(a=u.percentiles=[]);var n={k:i.K,value:c};return null!=i.Exclusive&&(n.exclusive=i.Exclusive),void a.push(n);default:e.fF.assertFail("unknown AggregateKind")}},h.copyAggregates=function(c,r){e.fF.assertValue(c,"source Aggregates"),e.fF.assertValue(r,"target Aggregates"),void 0!==c.subtotal&&(r.subtotal=c.subtotal),void 0!==c.min&&(r.min=c.min),void 0!==c.max&&(r.max=c.max),void 0!==c.minLocal&&(r.minLocal=c.minLocal),void 0!==c.maxLocal&&(r.maxLocal=c.maxLocal),void 0!==c.count&&(r.count=c.count)},h.computeAggIdx=function(c,r,s,u){return c+(u-r)*(s+1)},h}(),v=function(){function h(){}return Object.defineProperty(h.prototype,"name",{get:function(){return"maxLocal"},enumerable:!1,configurable:!0}),h.prototype.update=function(c){if("number"==typeof c&&!isNaN(c)){var r=this.current;this.current=void 0===r?c:Math.max(r,c)}},h.prototype.value=function(){return this.current},h}(),S=function(){function h(){}return Object.defineProperty(h.prototype,"name",{get:function(){return"minLocal"},enumerable:!1,configurable:!0}),h.prototype.update=function(c){if("number"==typeof c&&!isNaN(c)){var r=this.current;this.current=void 0===r?c:Math.min(r||0,c)}},h.prototype.value=function(){return this.current},h}()},347996:function(Xe,H,t){t.d(H,{$n:function(){return r},A:function(){return b},Af:function(){return s},HO:function(){return U},KO:function(){return g},Kb:function(){return a},LO:function(){return M},Lp:function(){return f},Lr:function(){return O},Ow:function(){return he},Tw:function(){return I},Z:function(){return W},Z4:function(){return D},ZO:function(){return V},_V:function(){return R},av:function(){return P},bD:function(){return w},bJ:function(){return j},d3:function(){return p},dN:function(){return u},de:function(){return E},dw:function(){return x},fD:function(){return n},hh:function(){return c},jK:function(){return m},jO:function(){return i},lR:function(){return B},qF:function(){return L},qf:function(){return N},vP:function(){return F},vc:function(){return h},wf:function(){return K},wy:function(){return A},yB:function(){return C},yC:function(){return T},yz:function(){return y}});var e=t(28248),l=t(562386),o=t(498342),d=t(447751),v=t(382088),S=t(100112),h="DMTS_MultipleGatewaysWithAllDatasourcesToBindError",c="DMTS_DatasourceHasNoCredentialError",r="DMTS_OAuthTokenRefreshFailedError",s="DM_GWPipeline_Client_GatewayUnreachable",u="DM_GWPipeline_Client_OAuthTokenRefreshFailedError",i="DMTS_UserLostPermissionToDatasourceError",a="DMTS_UserNotFoundInADGraphError",n="DM_GWPipeline_Gateway_DataSourceAccessError",m="DM_GWPipeline_Gateway_ImpersonationError",f="DM_GWPipeline_Gateway_InvalidMashupConnectionString",V="DM_GWPipeline_Gateway_DatabaseLoginError",p="DM_GWPipeline_Gateway_SqlTimeoutException",C="DM_GWPipeline_Gateway_AdomdTimeoutException",b="DM_GWPipeline_Gateway_InvalidObjectNameException",y="DM_GWPipeline_Gateway_InvalidConnectionCredentials",D="DM_GWPipeline_Gateway_ConnectionBrokenException",P="DM_GWPipeline_Gateway_MemoryError",F="DM_GWPipeline_Gateway_MissingStructureError",E="DM_GWPipeline_Gateway_UnprocessedStructureError",w="DM_GWPipeline_Gateway_ModelLoadError",x="DM_GWPipeline_Gateway_CancellationError",R="DM_GWPipeline_Gateway_CancellationOrTimeoutError",g="DM_GWPipeline_Gateway_QueryExecutionError",L="DM_GWPipeline_Gateway_RecalculationRequiredError",M="DM_GWPipeline_Gateway_TimeoutError",T="DM_GWPipeline_Gateway_AdoNetProviderOpenConnectionTimeoutError",O="DM_GWPipeline_Gateway_AdoNetProviderExecuteQueryTimeoutError",N="DM_GWPipeline_Gateway_AdomdConnectError",A="DM_GWPipeline_Gateway_GatewayOverloadedMemory",I="DM_GWPipeline_Gateway_GatewayOverloadedConcurrency",B="DM_GWPipeline_Gateway_MashupDataAccessError",U="DM_GWPipeline_Gateway_DatabaseConnectError",W="DM_GWPipeline_Gateway_ServerUnreachable",j="DM_GWPipeline_Gateway_GatewayOverloadedProcessor",K="rsAccessDenied",ee="azure:values",ie={ComplexSlicerNotAllowedWithMeasures:{localizedContent:"DsrError_ComplexSlicerNotAllowedWithMeasuresValue"},ComplexHighlightsNotAllowed:{localizedContent:"DsrError_ComplexHighlightsNotAllowed_Details",localizedMessage:"DsrError_ComplexHighlightsNotAllowed_ShortMessage"},CouldNotResolveModelReferencesInSemanticQuery:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContent:"DsrError_CouldNotResolveModelRefErrorValNoItems",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelRefErrorValFormat",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690865"},ExclusivePercentileOutOfRange:{localizedMessage:"DsrError_ExclusivePercentileOutOfRangeMessage",localizedTitle:"DsrError_ExclusivePercentileOutOfRangeKey",localizedContent:"DsrError_ExclusivePercentileOutOfRangeValue"},InvalidDataShapeNoOutputData:{localizedContent:"DsrError_InvalidDataShapeValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690860"},InvalidUnconstrainedJoin:{localizedTitle:"DsrError_InvalidUnconstrainedJoinKey",localizedContent:"DsrError_InvalidUnconstrainedJoinValue",helpLink:"https://go.microsoft.com/fwlink/?linkid=2186131"},IsRelatedToManyNotSupportedForDetailTable:{localizedMessage:"DsrError_IsRelatedToManyNotSupportedForDetailTableMessage",localizedTitle:"DsrError_IsRelatedToManyNotSupportedForDetailTableKey",localizedContent:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_IsRelatedToManyNotSupportedForDetailTableValueFormat"},AA_PowerBIScriptPayloadTooLargeError:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746290"},AA_PowerBIScriptResultTooLargeError:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=746291"},AA_PowerBIScriptReturnedNoImageError:{localizedMessage:"DsrError_ScriptReturnedNoImageMessage",localizedTitle:"DsrError_ScriptReturnedNoImageKey",localizedContent:"DsrError_ScriptReturnedNoImageContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733479"},AA_PowerBIScriptRuntimeErrorError:{localizedTitle:"DsrError_ScriptRuntimeErrorKey",localizedMessage:"DsrError_ScriptRuntimeErrorMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=733477"},AA_PowerBIScriptTimeoutError:{localizedMessage:"DsrError_ScriptTimeoutMessage",localizedTitle:"DsrError_ScriptTimeoutKey",localizedContent:"DsrError_ScriptTimeoutContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=733478"},AA_PowerBIRequestsQueueOverflowError:{localizedTitle:"DsrError_RequestsQueueOverflowKey",localizedMessage:"DsrError_RequestsQueueOverflowMessage",localizedContent:"DsrError_RequestsQueueOverflowContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799576"},AA_PowerBIScriptRuntimeMaxMemoryError:{localizedTitle:"DsrError_ScriptRuntimeMaxMemoryKey",localizedMessage:"DsrError_ScriptRuntimeMaxMemoryMessage",localizedContent:"DsrError_ScriptRuntimeMaxMemoryContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799578"},AA_PowerBIScriptRuntimeMaxDiskIOError:{localizedTitle:"DsrError_ScriptRuntimeMaxDiskIOKey",localizedMessage:"DsrError_ScriptRuntimeMaxDiskIOMessage",localizedContent:"DsrError_ScriptRuntimeMaxDiskIOContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799579"},AA_PowerBIScriptMissingDependencyError:{localizedTitle:"DsrError_ScriptRuntimeMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeMissingDependencyMessage",localizedContent:"DsrError_ScriptRuntimeMissingDependencyContent",helpLink:"https://go.microsoft.com/fwlink/?LinkId=799857"},AA_PowerBIScriptSpecificPackageWithMissingDependencyError:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageWithMissingDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799858"},AA_PowerBIScriptSpecificPackageMissingSpecificDependencyError:{localizedTitle:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyKey",localizedMessage:"DsrError_ScriptRuntimeSpecificPackageMissingSpecificDependencyMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=799859"},AA_PowerBIScriptMissingSpecificPackageError:{localizedTitle:"DsrError_ScriptRuntimeMissingSpecificPackageKey",localizedMessage:"DsrError_ScriptRuntimeMissingSpecificPackageMessage",useODataErrorMessageAsContent:!0,helpLink:"https://go.microsoft.com/fwlink/?LinkId=800225"},ModelMeasuresNotSupportedForDetailTable:{localizedMessage:"DsrError_ModelMeasuresNotSupportedForDetailTableMessage",localizedTitle:"DsrError_ModelMeasuresNotSupportedForDetailTableKey",localizedContent:"DsrError_ModelMeasuresNotSupportedForDetailTableValueNoItems",localizedContentWithAffectedItems:"DsrError_ModelMeasuresNotSupportedForDetailTableValueFormat"},ModelUnavailable:{localizedContent:"DsrError_ModelUnavailableValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},NoUniqueKeyForDetailTable:{localizedContent:"DsrError_NoUniqueKeyForDetailTableValue"},OverlappingKeysOnOppositeHierarchies:{localizedTitle:"DsrError_OverlappingKeysKey",localizedContent:"DsrError_OverlappingKeysValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690863"},rsQueryMemoryLimitExceeded:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},rsQueryTimeoutExceeded:{localizedMessage:"DsrError_ResourcesExceededMessage",localizedTitle:"DsrError_ResourcesExceededKey",localizedContent:"DsrError_ResourcesExceededValue",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690864"},rsAccessDenied:{localizedMessage:"DsrError_NoPermissionMessage",localizedTitle:"DsrError_NoPermissionKey",localizedContent:"DsrError_NoAccessForVisual",helpLink:"https://go.microsoft.com/fwlink/?LinkID=690862"},UnsupportedDateTimeLiteral:{localizedMessage:"DsrError_UnsupportedDateTimeMessage",localizedTitle:"DsrError_UnsupportedDateTimeKey",localizedContent:"DsrError_UnsupportedDateTimeValueNoItems",localizedContentWithAffectedItems:"DsrError_UnsupportedDateTimeValueFormat"},InvalidExtensionDax_UnclosedBracketIdentifier:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnclosedBracketIdentifier"},InvalidExtensionDax_UnexpectedCloseParenthesis:{localizedContentWithAffectedItemsAndPosition:"DsrError_InvalidExtensionDax_UnexpectedCloseParenthesis"},InvalidFilterComparisonIncompatibleExpressions:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},InvalidFilterConditionIncompatibleDataType:{localizedContent:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpression",localizedContentWithAffectedItems:"DsrError_InvalidFilterConditionIncompatibleDataTypeOrExpressionWithAffectedItems"},ExtensionMeasureEmptyExpression:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureEmptyExpression"},ExtensionMeasureNameNotUniqueModel:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUniqueModel"},ExtensionMeasureNameNotUnique:{localizedContentWithAffectedItems:"DsrError_ExtensionMeasureNameNotUnique"},CouldNotResolveModelReferencesInQueryExtensionSchema:{localizedMessage:"DsrError_CouldNotResolveModelRefErrorMessage",localizedTitle:"DsrError_CouldNotResolveModelRefErrorKey",localizedContentWithAffectedItems:"DsrError_CouldNotResolveModelReferencesInQueryExtensionSchema"},QueryExtensionMeasureError:{localizedContentWithAffectedItemsAndPosition:"DsrError_QueryExtensionMeasureError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_QueryExtensionMeasureErrorWithDetails"},QueryExtensionMeasureUnexpectedEndOfUserInput:{localizedContentWithAffectedItems:"DsrError_QueryExtensionMeasureUnexpectedEndOfUserInput"},NativeVisualCalculationError:{localizedContentWithAffectedItemsAndPosition:"DsrError_NativeVisualCalculationError",localizedContentWithAffectedItemsAndPositionAndDetails:"DsrError_NativeVisualCalculationErrorWithDetails"},NativeVisualCalculationUnexpectedEndOfUserInput:{localizedContentWithAffectedItems:"DsrError_NativeVisualCalculationUnexpectedEndOfUserInput"},UnsupportedDataSourceVariables:{localizedMessage:"DsrError_UnsupportedDataSourceVariablesMessage",localizedTitle:"DsrError_UnsupportedDataSourceVariablesKey",localizedContent:"DsrError_UnsupportedDataSourceVariablesContent"},DataExtensionMissingResultSet:{localizedMessage:"DsrError_DataExtensionMissingResultSetMessage",localizedTitle:"DsrError_DataExtensionMissingResultSetKey",localizedContent:"DsrError_DataExtensionMissingResultSetContent"},ProxyModelChainLimitExceeded:{localizedTitle:"DsrError_ProxyModelChainLimitExceededErrorKey",localizedContent:"DsrError_ProxyModelChainLimitExceededErrorContent",helpLink:"https://go.microsoft.com/fwlink/?LinkID=2225640"},CannotUseMultiColumnFilteringWithMappedColumns:{localizedContent:"DsrError_DQP_CannotUseMultiColumnFilteringWithMappedColumns",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},DifferentMappingsWithinSubqueries:{localizedContent:"DsrError_DQP_DifferentMappingsWithinSubqueries",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FilterIncompatibleWithParameter:{localizedContent:"DsrError_DQP_FilterIncompatibleWithParameter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FoundMultipleTargetsWithAtLeastOneMapping:{localizedContent:"DsrError_DQP_FoundMultipleTargetsWithAtLeastOneMapping",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FoundParameterMappingOnUnsupportedFilter:{localizedContent:"DsrError_DQP_FoundParameterMappingOnUnsupportedFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},InTableConditionNotSupportedWithMappedParameters:{localizedContent:"DsrError_DQP_InTableConditionNotSupportedWithMappedParameters",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},InvalidMappedParameterValueExpression:{localizedContent:"DsrError_DQP_InvalidMappedParameterValueExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MappedTargetMustMatchMappedCondition:{localizedContent:"DsrError_DQP_MappedTargetMustMatchMappedCondition",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MixOfAssignedAndUnassignedColumnsWithinORExpression:{localizedContent:"DsrError_DQP_MixOfAssignedAndUnassignedColumnsWithinORExpression",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MultipleParameterAssignmentsWithinORUnsupported:{localizedContent:"DsrError_DQP_MultipleParameterAssignmentsWithinORUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},MultipleParameterMappingsUnsupported:{localizedContent:"DsrError_DQP_MultipleParameterMappingsUnsupported",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},ParameterMappingFilterConflict:{localizedContent:"DsrError_DQP_ParameterMappingFilterConflict",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},ParameterMappingsFoundWithinFilteredEvalExpressionFilter:{localizedContent:"DsrError_DQP_ParameterMappingsFoundWithinFilteredEvalExpressionFilter",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},ParameterMappingsNotSupportedOnHighlights:{localizedContent:"DsrError_DQP_ParameterMappingsNotSupportedOnHighlights",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},SingleValueParameterWithMultipleValues:{localizedContent:"DsrError_DQP_SingleValueParameterWithMultipleValues",helpLink:"https://go.microsoft.com/fwlink/?linkid=2139315"},FabricThrottled:{localizedContent:"FabricCapacityThrottledErrorContent",helpLink:"https://aka.ms/capacitymessages"}},he=function(){function q(Y){this.oDataError=Y,this.oDataCode=this.parseCode()}return Object.defineProperty(q,"maxNumberOfCommaValues",{get:function(){return 9},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"code",{get:function(){return this.oDataCode},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"oDataErrorMessage",{get:function(){if(this.oDataError&&this.oDataError.message&&this.oDataError.message.value)return this.oDataError.message.value},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"source",{get:function(){switch(this.oDataError.source){case"PowerBI":return"PowerBI";case"External":return"External";case"Unknown":return;case"User":return q.isCodeKnown(this.code)?"User":void 0}o.fF.assertFail("unknown DsrClientError source: ".concat(this.oDataError.source))},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"AdditionalErrorMessages",{get:function(){if(this.oDataError){var G=this.oDataError[ee];if(!_.isEmpty(G))for(var me=0,re=G;me<re.length;me++){var le=re[me];if(!_.isEmpty(le.additionalMessages))return le.additionalMessages}}},enumerable:!1,configurable:!0}),Object.defineProperty(q.prototype,"powerBiErrorDetails",{get:function(){if(this.oDataError){var G=this.oDataError[ee];if(!_.isEmpty(G))for(var me=0,re=G;me<re.length;me++){var le=re[me];if(!_.isEmpty(le.powerBiErrorDetails))return le.powerBiErrorDetails}}},enumerable:!1,configurable:!0}),q.prototype.getDetails=function(Y){var G=this.oDataError[ee],me=null;if(G)for(var re=0,le=G;re<le.length;re++){var Ee=le[re];if(Ee.details){me=Ee.details;break}}var Ne=q.getErrorDetailsFromStatusCode(this.code,this.oDataErrorMessage,me,this.AdditionalErrorMessages,Y),Ye=Ne.displayableErrorInfo[0].errorInfoKey;if(!q.isCodeKnown(this.code)&&me&&(Ne.displayableErrorInfo=[]),me){var Je=0===Ne.displayableErrorInfo.length?Ye:Y.get("DsrError_MoreInfo");Ne.displayableErrorInfo.push({errorInfoKey:Je,errorInfoValue:me})}return q.isDynamicQueryParameterErrorCode(this.code)&&(Ne.hideDebugInfo=!0),Ne},q.getErrorDetailsFromStatusCode=function(Y,G,me,re,le){var Ee=le.get("DsrError_Key"),Ne=le.get("DsrError_UnknownErrorValue"),Ye=le.get("DsrError_Message"),Je=e.MF,_e=ie[Y];_e&&(Ee=_e.localizedTitle?le.get(_e.localizedTitle):Ee,Ne=q.getContent(Y,me,re,_e,le)||Ne,Ye=_e.localizedMessage?le.get(_e.localizedMessage):Ye,Je=_e.helpLink||Je,_e.useODataErrorMessageAsContent&&(Ne=G||Ye));var fe={message:Ye,displayableErrorInfo:[{errorInfoKey:Ee,errorInfoValue:Ne}],helpLink:Je,debugErrorInfo:[]};return!_e&&Y&&fe.debugErrorInfo.push({errorInfoKey:l.jK,errorInfoValue:Y}),(!_e||!_e.useODataErrorMessageAsContent)&&G&&fe.debugErrorInfo.push({errorInfoKey:l.N6,errorInfoValue:G}),fe},q.getContent=function(Y,G,me,re,le){if(re.localizedContentWithAffectedItemsAndPosition||re.localizedContentWithAffectedItemsAndPositionAndDetails){var Ee=q.findAdditionalMessageWithAffectedItemsAndPosition(Y,me);if(re.localizedContentWithAffectedItemsAndPositionAndDetails&&G&&Ee)return(0,d.W)(le.get(re.localizedContentWithAffectedItemsAndPositionAndDetails),(0,v.yQ)(Ee.AffectedItems,le,q.maxNumberOfCommaValues),S.dx.formatValue(Ee.Line),S.dx.formatValue(Ee.Position),G);if(re.localizedContentWithAffectedItemsAndPosition&&Ee)return(0,d.W)(le.get(re.localizedContentWithAffectedItemsAndPosition),(0,v.yQ)(Ee.AffectedItems,le,q.maxNumberOfCommaValues),S.dx.formatValue(Ee.Line),S.dx.formatValue(Ee.Position))}if(re.localizedContentWithAffectedItems){var Ne=q.getAffectedItemsFromStatusCode(Y,me);if(Ne.length>0)return(0,d.W)(le.get(re.localizedContentWithAffectedItems),(0,v.yQ)(Ne,le,q.maxNumberOfCommaValues))}if(re.localizedContent)return le.get(re.localizedContent)},q.findAdditionalMessageWithAffectedItemsAndPosition=function(Y,G){return _.find(G,function(me){return me.Code===Y&&!_.isEmpty(me.AffectedItems)&&null!=me.Position&&null!=me.Line})},q.getAffectedItemsFromStatusCode=function(Y,G){for(var me=0,re=G;me<re.length;me++){var le=re[me];if(le.Code===Y)return le.AffectedItems||[]}return[]},q.prototype.parseCode=function(){var Y=this.oDataError.code,G=this.oDataError[ee],me=[];if(G)for(var re=0,le=G;re<le.length;re++){var Ee=le[re];Ee.additionalMessages&&(me=Ee.additionalMessages)}if(me.length>0)for(var Ne=0,Ye=me;Ne<Ye.length;Ne++){var Je=Ye[Ne];if(q.isCodeKnown(Je.Code)){Y=Je.Code;break}}return Y},q.isCodeKnown=function(Y){return q.isGeneralKnownErrorCode(Y)||q.isDynamicQueryParameterErrorCode(Y)},q.isGeneralKnownErrorCode=function(Y){switch(Y){case"ComplexSlicerNotAllowedWithMeasures":case"ComplexHighlightsNotAllowed":case"ExclusivePercentileOutOfRange":case"InvalidDataShapeNoOutputData":case"InvalidFilterComparisonIncompatibleExpressions":case"InvalidFilterConditionIncompatibleDataType":case"InvalidUnconstrainedJoin":case"ModelUnavailable":case"OverlappingKeysOnOppositeHierarchies":case"rsQueryMemoryLimitExceeded":case"rsQueryTimeoutExceeded":case"CouldNotResolveModelReferencesInSemanticQuery":case"QueryExtensionMeasureUnexpectedEndOfUserInput":case"NativeVisualCalculationUnexpectedEndOfUserInput":case"rsAccessDenied":case"NoUniqueKeyForDetailTable":case"IsRelatedToManyNotSupportedForDetailTable":case"ModelMeasuresNotSupportedForDetailTable":case"UnsupportedDateTimeLiteral":case"InvalidExtensionDax_UnclosedBracketIdentifier":case"InvalidExtensionDax_UnexpectedCloseParenthesis":case"ExtensionMeasureEmptyExpression":case"ExtensionMeasureNameNotUniqueModel":case"ExtensionMeasureNameNotUnique":case"CouldNotResolveModelReferencesInQueryExtensionSchema":case"QueryExtensionMeasureError":case"NativeVisualCalculationError":case"UnsupportedDataSourceVariables":case"DataExtensionMissingResultSet":case"ProxyModelChainLimitExceeded":case"FabricThrottled":return!0;default:return!1}},q.isDynamicQueryParameterErrorCode=function(Y){switch(Y){case"CannotUseMultiColumnFilteringWithMappedColumns":case"DifferentMappingsWithinSubqueries":case"FilterIncompatibleWithParameter":case"FoundMultipleTargetsWithAtLeastOneMapping":case"FoundParameterMappingOnUnsupportedFilter":case"InTableConditionNotSupportedWithMappedParameters":case"InvalidMappedParameterValueExpression":case"MappedTargetMustMatchMappedCondition":case"MixOfAssignedAndUnassignedColumnsWithinORExpression":case"MultipleParameterAssignmentsWithinORUnsupported":case"MultipleParameterMappingsUnsupported":case"ParameterMappingFilterConflict":case"ParameterMappingsFoundWithinFilteredEvalExpressionFilter":case"ParameterMappingsNotSupportedOnHighlights":case"SingleValueParameterWithMultipleValues":return!0;default:return!1}},q}()},176652:function(Xe,H,t){t.d(H,{i:function(){return Te}});var e=t(498342),l=t(59118),o=t(973188),d=t(400198),v=t(101696),S=t(562386),h=t(880856),c=t(275179),r=t(421396),s=t(797667),u=function(){function ce(ve,Re){this.requestId=ve,this.errorCode=Re}return Object.defineProperty(ce.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(ce.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),ce.prototype.getDetails=function(ve){return{message:ve.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:ve.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:ve.get("ServiceError_ExecuteSemanticQueryErrorValue")},{errorInfoKey:ve.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:S.zd,errorInfoValue:this.code}]}},ce}(),i=function(){function ce(){this._head=new a,this._tail=new a,this._head.next=this._tail,this._tail.prev=this._head,this._length=0}return ce.prototype.insertToHead=function(ve){ve.next=this._head.next,ve.prev=this._head,this._head.next=ve,ve.next.prev=ve,this._length++},ce.prototype.head=function(){if(this._length>0)return this._head.next},ce.prototype.tail=function(){if(this._length>0)return this._tail.prev},ce.prototype.removeFromTail=function(){this._length>0&&this.remove(this._tail.prev)},ce.prototype.remove=function(ve){this._length<=0||void 0===ve.prev||void 0===ve.next||(ve.prev.next=ve.next,ve.next.prev=ve.prev,this._length--)},ce.prototype.length=function(){return this._length},ce}(),a=function(){return function(ve){void 0===ve&&(ve=void 0),this.value=ve}}(),n=function(){function ce(ve){this.cache={},this.capacity=ve,this.linkedList=new i}return ce.prototype.get=function(ve){if(ve in this.cache){var Re=this.cache[ve].value;return null==Re?void 0:Re.value}},ce.prototype.remove=function(ve){this.cache[ve]&&(this.linkedList.remove(this.cache[ve]),delete this.cache[ve])},ce.prototype.put=function(ve,Re){var Ke=this;ve in this.cache&&this.remove(ve);var tt=new f(ve,Re),mt=new a(tt);if(this.cache[ve]=mt,this.linkedList.insertToHead(mt),this.size()>this.capacity){e.fF.assert(function(){return Ke.size()===Ke.capacity+1},"cache has exceeded expected maximum capacity");var He=this.linkedList.tail();delete this.cache[He.value.key],this.linkedList.removeFromTail()}},ce.prototype.containsKey=function(ve){return ve in this.cache},ce.prototype.size=function(){return this.keys().length},ce.prototype.keys=function(){return Object.keys(this.cache)},ce.prototype.isFull=function(){return this.size()===this.capacity},ce}(),m=function(){function ce(ve){this.cache={},this.capacity=ve,this.linkedList=new i}return ce.prototype.get=function(ve){if(ve in this.cache){var Re=this.cache[ve];return this.linkedList.remove(Re),this.linkedList.insertToHead(Re),Re.value.value}},ce.prototype.remove=function(ve){ve in this.cache&&(this.linkedList.remove(this.cache[ve]),delete this.cache[ve])},ce.prototype.put=function(ve,Re){var Ke=this;ve in this.cache&&this.remove(ve);var tt=new f(ve,Re),mt=new a(tt);if(this.cache[ve]=mt,this.linkedList.insertToHead(mt),this.size()>this.capacity){e.fF.assert(function(){return Ke.size()===Ke.capacity+1},"cache has exceeded expected maximum capacity");var He=this.linkedList.tail();delete this.cache[He.value.key],this.linkedList.removeFromTail()}},ce.prototype.containsKey=function(ve){return ve in this.cache},ce.prototype.size=function(){return this.keys().length},ce.prototype.keys=function(){return Object.keys(this.cache)},ce.prototype.isFull=function(){return this.size()===this.capacity},ce}(),f=function(){return function(ve,Re){this.key=ve,this.value=Re}}(),p=function(){function ce(ve,Re,Ke){this.cache=1===(Ke||(Ke=500),Re)?new m(Ke):new n(Ke),this.promiseFactory=ve}return ce.prototype.getEntryCount=function(){return this.cache.size()},ce.prototype.hasCacheEntry=function(ve){return e.fF.assertValue(ve,"cacheKey"),!!this.getCacheEntry(ve)},ce.prototype.createCacheEntry=function(ve,Re,Ke,tt,mt){var He=this;e.fF.assertValue(ve,"cacheKey");var ke=this.getCacheEntry(ve);if(ve&&!ke){var ft=this.promiseFactory,Le=this.cache,Q=ft.defer(mt),Ue=(0,d.w)(Q),ae=ft.defer(mt),Se=(0,d.U)(ae);return this.appendCacheEntryInternal(ve,ke={promise:Se,refCount:0,context:Re}),Ue.then(function(nt){ke.updateResult&&(nt=ke.updateResult(nt)),nt&&Ke&&(nt=Ke(nt)),ke.result=tt?tt(nt):nt,ae.resolve(nt)},function(nt){return ae.reject(nt)}).finally(function(){delete ke.updateResult}),Se.finally(function(){Le.containsKey(ve)&&(delete Le.get(ve).promise,Se.rejected()&&He.removeCacheEntryInternal(ve))}).catch(function(nt){return Ue.reject(nt)}),{deferred:Q,promise:Ue}}},ce.prototype.clearEntry=function(ve,Re){var Ke=this.getCacheEntry(ve);if(Ke){var tt=Ke.promise;return Re&&tt?tt.reject():this.removeCacheEntryInternal(ve),!0}return!1},ce.prototype.clearAllEntries=function(ve){for(var Re=0,Ke=this.cache.keys();Re<Ke.length;Re++)this.clearEntry(Ke[Re],ve)},ce.prototype.bindCacheEntry=function(ve,Re,Ke){e.fF.assertValue(ve,"cacheKey");var tt=this.getCacheEntry(ve);if(void 0!==tt){var mt=this.promiseFactory.defer(Ke),He=(0,d.U)(mt);if(tt.result){var ke=Re?Re(tt.result):tt.result;return mt.resolve(ke),He}var ft=tt.promise;if(!ft)return mt.reject(void 0),He;tt.refCount++;var Le=function(Ue){tt.refCount--,0===tt.refCount&&ft.pending()&&ft.reject(Ue)};return He.then(function(){return Le()},function(Q){return Le(Q)}),ft.then(function(Q){var Ue=Re?Re(Q):Q;mt.resolve(Ue)},function(Q){return mt.reject(Q)}),He}},ce.prototype.getEntryContext=function(ve){e.fF.assertValue(ve,"cacheKey");var Re=this.getCacheEntry(ve);if(Re)return Re.context},ce.prototype.keys=function(){return this.cache.keys()},ce.prototype.isFull=function(){return this.cache.isFull()},ce.prototype.rewriteAllEntries=function(ve){for(var Re=[],Ke=!!ve.rewriteKey,tt=!!ve.rewriteResult,mt=this.cache,He=function(Se){if(Ke){var nt=ve.rewriteKey(Se);nt!==Se&&Re.push({oldKey:Se,newKey:nt})}if(tt){var vt=mt.get(Se);vt&&(vt.result&&ve.rewriteResult?vt.result=ve.rewriteResult(vt.result,Se):vt.updateResult=function(We){return ve.rewriteResult&&ve.rewriteResult(We,Se)||We})}},ke=0,ft=mt.keys();ke<ft.length;ke++)He(ft[ke]);for(var Q=0,Ue=Re.length;Q<Ue;Q++)this.changeCacheKey(Re[Q].oldKey,Re[Q].newKey)},ce.prototype.putCacheResult=function(ve,Re,Ke){e.fF.assertValue(ve,"cacheKey");var tt=this.getCacheEntry(ve);tt?tt.result?tt.result=Ke?Ke(Re):Re:tt.updateResult=function(){return Re}:e.fF.assertFail("cannot update no-existing cacheEntry for key '".concat(ve,"' with result '").concat(Re,"'"))},ce.prototype.appendCacheEntryInternal=function(ve,Re){this.cache.containsKey(ve)&&this.removeCacheEntryInternal(ve),this.cache.put(ve,Re)},ce.prototype.removeCacheEntryInternal=function(ve){this.cache.remove(ve)},ce.prototype.changeCacheKey=function(ve,Re){if(!Re)return this.clearEntry(ve,!0);if(this.hasCacheEntry(Re)||!this.hasCacheEntry(ve))return!1;var Ke=this.getCacheEntry(ve);return this.removeCacheEntryInternal(ve),this.appendCacheEntryInternal(Re,Ke),!0},ce.prototype.getCacheEntry=function(ve){var Re;if(e.fF.assertValue(ve,"cacheKey"),ve&&(Re=this.cache.get(ve))&&(Re.promise||Re.result))return Re},ce}(),C=t(504898),b=t(382088),y=t(146432),D=t(758205),P=t(822241);function F(ce){return e.fF.assert(function(){return ce&&ce.Commands&&ce.Commands.length>0},"data query should not be empty"),(0,P.y)(ce)?E(ce):w(ce.Commands[0].SemanticQueryDataShapeCommand)}function E(ce){if(e.fF.assert(function(){return!ce||(0,P.y)(ce)},"!dataQuery || isCompositeDataQuery(dataQuery)"),ce)return JSON.stringify(ce)}function w(ce){if(ce)return JSON.stringify(ce)}var x=t(700954),R=t(669266),L=b.b$.generateGuid,T=function(){function ce(ve,Re,Ke,tt,mt){this.featureSwitches=mt,e.fF.assertValue(ve,"promiseFactory"),e.fF.assertValue(Ke,"createQuery"),this.createQuery=Ke,this.createCancelQuery=tt,this.promiseFactory=ve,this.cacheByModel={},this.telemetryService=Re}return ce.prototype.ensure=function(ve){var Ke,Re=this;e.fF.assertValue(ve,"options"),e.fF.assertValue(ve.command,"options.command");var tt=ve.command;e.fF.assert(function(){return tt&&tt.Commands&&tt.Commands.length>0},"data query should not be empty");var mt=tt.Commands[0].SemanticQueryDataShapeCommand,He=this.ensureCache(ve.dataSources),ke=F(tt);if(He.hasCacheEntry(ke)){if(ce.allowResultFromClientCacheOrDefault(ve))return this.telemetryService.logEvent(r.s7,{cacheHit:!0,isCacheFull:He.isFull(),entryCount:He.getEntryCount()}),He.bindCacheEntry(ke,void 0,ve.telemetryV2Enabled);He.clearEntry(ke)}this.telemetryService.logEvent(r.s7,{cacheHit:!1,isCacheFull:He.isFull(),entryCount:He.getEntryCount()});var ft=O(tt,this.featureSwitches,ke),Le=this.findEquivalentCache(ve,He,ft);if(Le)return Le;var Ue,Q=(0,o.__assign)({},ve);Q.queryId=ft.queryId,Q.executionType=0,null!==(Ke=this.featureSwitches)&&void 0!==Ke&&Ke.queryContext&&(Ue=function(vt){var We=Re.findQueryContext(Q);if(!We)return vt;var de=(0,o.__assign)({},vt);return de.queryContext=We,de});var ae=He.createCacheEntry(ke,ft,Ue,ce.rewriteCachedResult,ve.telemetryV2Enabled);if(ae.promise.catch(function(nt){(0,S.Hx)(nt)||Re.featureSwitches&&Re.featureSwitches.queryCancellation&&Re.createCancelQuery({dataSources:Q.dataSources,command:Q.command,allowResultFromClientCache:Q.allowResultFromClientCache,allowClientSideFilters:Q.allowClientSideFilters,cacheResponseOnServer:Q.cacheResponseOnServer,ignoreViewportForCache:Q.ignoreViewportForCache,cacheOptions:Q.cacheOptions,queryId:Q.queryId,executionType:1},nt&&nt.queryCancellationSource)}),Q.clientCacheOnly)return ae.promise.reject(new S.xs),ae.promise;this.createQuery(Q,ae);var Se=He.bindCacheEntry(ke,void 0,ve.telemetryV2Enabled);return!1===ve.cacheResponseOnClient&&He.clearEntry(ke),mt.Binding&&mt.Binding.DataReduction&&(Ne(mt.Binding.DataReduction.Primary)||Ne(mt.Binding.DataReduction.Secondary))||Se.then(function(nt){nt&&nt.dsr&&function(ce,ve){if(e.fF.assertValue(ce,"dsr"),(0,l.nZ)(ce)){if(!ve)return!1;for(var Re=(0,x.KI)(ce,void 0).dataShapes(),Ke=(0,l.kc)(ce);Re.next();)if(Ke&&Ke>=1){if(!0!==Re.hasAllData())return!1}else if(!Re.complete()||Re.limitsExceeded()||Re.hasRestartTokens())return!1;return!0}return _.every(ce.DataShapes,function(tt){return tt&&tt.IsComplete&&_.isEmpty(tt.DataLimitsExceeded)&&!tt.RestartTokens})}(nt.dsr,Re.featureSwitches&&Re.featureSwitches.dsrV2)&&(ft.hasAllData=!0)},function(){}),Se},ce.prototype.findQueryContext=function(ve){var Re=ve.applicationContext;if(Re)return e.fF.assert(function(){return 1===_.size(Re.Sources)},"Expected to have 1 ApplicationContextSource"),Re.Sources[0].CustomProperties},ce.prototype.clear=function(ve){var Re=this.getCache(ve);Re&&Re.clearAllEntries()},ce.prototype.rewrite=function(ve,Re){var Ke=this,tt=this.getCache(ve);if(tt){var mt={};Re.rewriteCacheKey&&Re.rewriteDataQueryCacheKey&&(mt.rewriteKey=function(He){var ke=JSON.parse(He),ft=tt.getEntryContext(He);if(ft.compositeDataQuery){var Le=ke,Q=Re.rewriteDataQueryCacheKey(Le);if(Q&&Q!==Le){var Ue=N(Q,Ke.featureSwitches);_.assign(ft,Ue)}}else{var ae=ke,Se=Re.rewriteCacheKey(ae);Se&&Se!==ae&&(Ue=A(Se,Ke.featureSwitches),_.assign(ft,Ue))}return ft.key}),Re.rewriteCacheResult&&(mt.rewriteResult=function(He){var ke=He,ft=Re.rewriteCacheResult({descriptor:ke.descriptor,dsr:ke.dsr});return ft?{descriptor:ft.descriptor,dsr:ft.dsr}:{descriptor:ke.descriptor,dsr:ke.dsr}}),tt.rewriteAllEntries(mt)}},ce.prototype.put=function(ve,Re,Ke){var tt=this.ensureCache(ve),mt=Re,He=F(mt);if(tt.hasCacheEntry(He))tt.putCacheResult(He,Ke,ce.rewriteCachedResult);else{var ke=O(mt,this.featureSwitches,He);tt.createCacheEntry(He,ke,void 0,ce.rewriteCachedResult).deferred.resolve(Ke)}},ce.allowResultFromClientCacheOrDefault=function(ve){return e.fF.assertValue(ve,"options"),!1!==ve.allowResultFromClientCache},ce.prototype.findEquivalentCache=function(ve,Re,Ke){if(e.fF.assertValue(ve,"options"),e.fF.assertValue(Re,"cache"),e.fF.assertValue(Ke,"entryContext"),ce.allowResultFromClientCacheOrDefault(ve))if(Ke.compositeDataQuery){if(ve.ignoreViewportForCache)for(var Se=0,nt=Re.keys();Se<nt.length;Se++)if((Ue=Re.getEntryContext(nt[Se]))&&Ue.keyWithoutViewport&&Ue.keyWithoutViewport===Ke.keyWithoutViewport)return Re.bindCacheEntry(Ue.key,void 0,ve.telemetryV2Enabled)}else{var tt=ve.command;e.fF.assert(function(){return tt&&!_.isEmpty(tt.Commands)},"data query should not be empty");for(var mt=tt.Commands[0].SemanticQueryDataShapeCommand.Binding,He=!!(mt&&mt.DataReduction&&mt.DataReduction.Primary&&mt.DataReduction.Primary.TopNPerLevel),ke=!1,ft=0,Le=Re.keys();ft<Le.length;ft++){var Ue;if(Ue=Re.getEntryContext(Le[ft])){if(!He&&Ue.hasAllData&&Ue.keyWithoutReduction===Ke.keyWithoutReduction)return Re.bindCacheEntry(Ue.key,void 0,ve.telemetryV2Enabled);if(Y(Re,Ue,ve,Ke,ve.telemetryV2Enabled)){ke=!0;break}}}ke&&C.f.information("Reused cache with client side filters")}},ce.prototype.getCache=function(ve){return this.cacheByModel[this.generateModelKey(ve)]},ce.prototype.ensureCache=function(ve){var Re,Ke=this.generateModelKey(ve),tt=this.cacheByModel,mt=tt[Ke];return void 0===mt&&(mt=tt[Ke]=null!==(Re=this.featureSwitches)&&void 0!==Re&&Re.lruCacheEvictionPolicy?new p(this.promiseFactory,1):new p(this.promiseFactory,0)),mt},ce.prototype.generateModelKey=function(ve){if(!_.isEmpty(ve))return JSON.stringify(_.map(ve,function(Re){return{dbName:Re.dbName,vsName:Re.vsName,schemaName:Re.schemaName}}))},ce.rewriteCachedResult=function(ve){if(!ve)return ve;var Re=(0,o.__assign)({},ve);return delete Re.metrics,Re.fromClientCache=!0,Re},ce}();function O(ce,ve,Re){return e.fF.assertValue(ce,"dataQuery"),e.fF.assert(function(){return ce&&ce.Commands&&ce.Commands.length>0},"data query should not be empty"),e.fF.assertAnyValue(Re,"cacheKey"),(0,P.y)(ce)?N(ce,ve,Re):(e.fF.assert(function(){return 1===ce.Commands.length},"Expecting a non-empty, non-composite query to have exactly 1 command."),A(ce.Commands[0].SemanticQueryDataShapeCommand,ve,Re))}function N(ce,ve,Re){return e.fF.assertValue(ce,"dataQuery"),e.fF.assert(function(){return(0,P.y)(ce)},"data query should be composite"),e.fF.assertAnyValue(Re,"cacheKey"),e.fF.assert(function(){return!Re||Re===E(ce)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKeyDataQuery(dataQuery).  The fact that cacheKey is a parameter to this function is just an optimization."),{key:Re||E(ce),keyWithoutReduction:ee(ce),keyWithoutViewport:ie(ce),keyWithoutFilter:void 0,queryFilters:void 0,compositeDataQuery:!0,queryId:I(ve)}}function A(ce,ve,Re){e.fF.assertAnyValue(ce,"dataShapeCommand"),e.fF.assertAnyValue(Re,"cacheKey"),e.fF.assert(function(){return!Re||Re===w(ce)},"If cacheKey is specified, it is expected to be the return value of this.generateCacheKey(dataShapeCommand).  The fact that cacheKey is a parameter to this function is just an optimization.");var Ke=function(ce){if(e.fF.assertAnyValue(ce,"command"),!ce)return!1;var ve=ce.Binding&&ce.Binding.DataReduction,Re=ve&&ve.Primary,Ke=ve&&ve.Secondary;return!(!Ye(Re)||!Ye(Ke)||Ne(Re)||Ne(Ke))}(ce);return{key:Re||w(ce),keyWithoutReduction:j(ce),keyWithoutViewport:void 0,keyWithoutFilter:Ke?K(ce):void 0,queryFilters:Ke?he(ce):void 0,compositeDataQuery:!1,queryId:I(ve)}}function I(ce){return ce&&ce.queryCancellation?L():""}function B(ce){ce&&ce.Binding&&"object"==typeof ce.Binding&&(ce.Binding.DataReduction=void 0,ce.Binding.Limits=void 0)}function j(ce){if(ce){var ve=_.cloneDeep(ce);return B(ve),JSON.stringify(ve)}}function K(ce){if(ce){var ve=_.cloneDeep(ce);return function(ce){ce&&ce.Query&&ce.Query.Where&&(ce.Query.Where=void 0)}(ve),JSON.stringify(ve)}}function ee(ce){if(e.fF.assert(function(){return!ce||(0,P.y)(ce)},"!dataQuery || isCompositeDataQuery(dataQuery)"),ce){var ve=_.cloneDeep(ce);return B(ve.Commands[0].SemanticQueryDataShapeCommand),JSON.stringify(ve)}}function ie(ce){if(e.fF.assert(function(){return!ce||(0,P.y)(ce)},"!dataQuery || isCompositeDataQuery(dataQuery)"),ce){e.fF.assertValue(ce.Commands,"dataQuery.Commands"),e.fF.assert(function(){return 2===ce.Commands.length},"dataQuery.Commands must have two commands"),e.fF.assertValue(ce.Commands[1].ScriptVisualCommand,"dataQuery.Commands second element must be a ScriptVisualCommand");var ve=_.cloneDeep(ce);return function(ce){ce&&(ce.ViewportHeightPx=void 0,ce.ViewportWidthPx=void 0)}(ve.Commands[1].ScriptVisualCommand),JSON.stringify(ve)}}function he(ce){e.fF.assertAnyValue(ce,"command");var ve=ce&&ce.Query;if(ve&&!_.isEmpty(ve.Where)){var Re=_e(ve),Ke=Re&&Re.where();if(!_.isEmpty(Ke))return Ke}}function Y(ce,ve,Re,Ke,tt){if(void 0===tt&&(tt=!1),e.fF.assert(function(){return T.allowResultFromClientCacheOrDefault(Re)},"QueryCache.allowResultFromClientCacheOrDefault(options)"),e.fF.assertValue(ce,"cache"),e.fF.assertValue(ve,"oldItemContext"),e.fF.assertValue(Re,"newQueryOptions"),e.fF.assertValue(Ke,"newItemContext"),Re.allowClientSideFilters){var mt=function(ce,ve){if(e.fF.assertValue(ce,"oldItemContext"),e.fF.assertValue(ve,"newItemContext"),!ve.compositeDataQuery&&ve.keyWithoutFilter&&!ce.compositeDataQuery&&ce.keyWithoutFilter&&ce.hasAllData&&ce.keyWithoutFilter===ve.keyWithoutFilter&&function(ce,ve){return e.fF.assertAnyValue(ce,"filters"),e.fF.assertAnyValue(ve,"counterparts"),_.every(ce,function(Re){return _.some(ve,function(Ke){return(0,y.sw)(Ke,Re)})})}(me(ce.queryFilters,ve.queryFilters),ve.queryFilters)){var mt=me(ve.queryFilters,ce.queryFilters);if(!_.isEmpty(mt))return function(ce,ve){e.fF.assert(function(){return ce&&!ce.compositeDataQuery},"itemContext && !itemContext.compositeDataQuery"),e.fF.assertNonEmpty(ve,"filtersToConvert");var Re=JSON.parse(ce.key),Ke=_e(Re&&Re.Query);if(Ke)return e.fF.assert(function(){return _.every(ve,function(mt){return(0,R.qV)(Ke.where(),mt)})},"expecting every item in filtersToConvert to be in the where clause of the source SemanticQuery."),(0,y.Z7)(Ke.select(),ve)}(ve,mt)}}(ve,Ke);if(!_.isEmpty(mt))return ce.bindCacheEntry(ve.key,function(He){return function(ce,ve){e.fF.assertValue(ce,"data"),e.fF.assertNonEmpty(ve,"clientSideFilters");var Re=(0,o.__assign)({},ce);return Re.clientSideFilters=ve,Re}(He,mt)},tt)}}function me(ce,ve){return e.fF.assertAnyValue(ce,"filters"),e.fF.assertAnyValue(ve,"comparants"),_.isEmpty(ve)?ce:_.filter(ce,function(Re){return!(0,R.qV)(ve,Re)})}function Ne(ce){return e.fF.assertAnyValue(ce,"algorithm"),ce&&ce.Window&&null!=ce.Window.RestartTokens}function Ye(ce){return e.fF.assertAnyValue(ce,"algorithm"),!ce||!!ce.Window}function _e(ce){if(e.fF.assertAnyValue(ce,"queryDefinition"),ce&&ce.From&&ce.Select)return D.ib.deserializeQuery(ce)}var pe=t(45484),fe=function(ce){function ve(Re){var Ke=this;return e.fF.assertValue(Re,"jobId"),(Ke=ce.call(this,"DelayedQueryTimeoutError")||this).jobId=Re,Ke}return(0,o.__extends)(ve,ce),ve.prototype.getDetails=function(Re){var Ke=ce.prototype.getDetails.call(this,Re);return Ke.debugErrorInfo=Ke.debugErrorInfo||[],Ke.debugErrorInfo.push({errorInfoKey:S.nE,errorInfoValue:this.jobId}),Ke},ve}(S.mB),oe=function(){function ce(){}return ce.prototype.resolveDelayedQuery=function(ve,Re,Ke){e.fF.assertFail("Apps that want to support delayed query results need to specify an IExecuteSemanticQueryDelayedResultResolver implementation"),Ke.reject(new fe(ve))},ce}(),ye=function(ce){function ve(Re){var Ke=this;return e.fF.assertValue(Re,"requestId"),(Ke=ce.call(this,"ExecuteSemanticQueryUnknownError")||this).httpRequestId=Re,Ke}return(0,o.__extends)(ve,ce),Object.defineProperty(ve.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),ve.prototype.getDetails=function(Re){var Ke=ce.prototype.getDetails.call(this,Re);return Ke.debugErrorInfo=Ke.debugErrorInfo||[],Ke.debugErrorInfo.push({errorInfoKey:S.j,errorInfoValue:this.httpRequestId}),Ke},ve}(S.mB),Ce=function(){function ce(ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=this;this.communication=Re,this.telemetryService=tt,this.featureSwitches=ke,this.queryContextProvider=ft,this.appContextHostDataProvider=Le,e.fF.assertValue(ve,"host"),e.fF.assertValue(tt,"telemetryService"),this.promiseFactory=ve.promiseFactory(),this.delayedQueryResultResolver=mt||new oe,this.batcher=new s.PE(null==He?0:He,function(Ue){for(var ae=0,Se=Ue.length;ae<Se;++ae)Q.executeBatch(Ue[ae])},Ke,ke&&ke.telemetryV2,ke&&ke.addVisualIdToQueryDataAsHttpBodyId),this.queryCache=function(ce,ve,Re,Ke,tt){return e.fF.assertValue(ce,"promiseFactory"),e.fF.assertValue(Re,"createQuery"),new T(ce,ve,Re,function(Ue,ae){Q.telemetryService.logEvent(r.hh,{source:ae}),Q.enqueueExecution({options:Ue,enqueueActivity:Ue.performanceActivity&&Ue.performanceActivity.isRunning()&&Ue.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:Ue.performanceActivity})},tt)}(this.promiseFactory,this.telemetryService,function(Ue,ae){var Se,nt={options:Ue,deferred:ae.deferred,execution:ae.promise,enqueueActivity:Ue.performanceActivity&&Ue.performanceActivity.isRunning()&&Ue.performanceActivity.createChildActivity({name:"Query Pending"}),queryActivity:Ue.performanceActivity};Q.setAppContextHostData(nt),null!==(Se=Q.featureSwitches)&&void 0!==Se&&Se.queryContext?Q.setQueryContext(nt).then(function(){Q.enqueueExecution(nt)}):Q.enqueueExecution(nt)},0,ke)}return ce.prototype.setAppContextHostData=function(ve){var Re;if(this.appContextHostDataProvider&&ve.options.applicationContext&&null!==(Re=this.featureSwitches)&&void 0!==Re&&Re.useEnrichedApplicationContext){var Ke=ve.options.applicationContext,tt=this.appContextHostDataProvider.getApplicationContextHostData();Ke.Sources[0]=(0,o.__assign)((0,o.__assign)({},Ke.Sources[0]),tt)}},ce.prototype.setQueryContext=function(ve){var Re;return(0,o.__awaiter)(this,void 0,c.J,function(){var Ke,tt;return(0,o.__generator)(this,function(He){switch(He.label){case 0:if(null===(Re=this.featureSwitches)||void 0===Re||!Re.queryContext)return[2];if(!this.queryContextProvider||!ve.options.applicationContext)return[2];e.fF.assert(function(){return 1===_.size(ve.options.applicationContext.Sources)},"Expected to have 1 ApplicationContextSource"),Ke=ve.options.applicationContext.Sources[0],He.label=1;case 1:return He.trys.push([1,3,,4]),[4,this.queryContextProvider.generateQueryContext()];case 2:return(tt=He.sent())?(Ke.CustomProperties=(0,o.__assign)((0,o.__assign)({},Ke.CustomProperties),tt),[3,4]):[2];case 3:return He.sent(),[2];case 4:return[2]}})})},ce.prototype.enqueueExecution=function(ve){this.isCommunicationStopped?(this.pausedQueries=this.pausedQueries||[],this.pausedQueries.push(ve)):this.batcher.enqueue(ve)},ce.prototype.execute=function(ve){if(!_.isEmpty(ve.dataSources))return this.queryCache.ensure(ve);var Re=this.promiseFactory.defer(ve.telemetryV2Enabled),Ke=(0,d.U)(Re);return Re.resolve(ve.command),Ke},ce.prototype.stopCommunication=function(){this.isCommunicationStopped=!0},ce.prototype.resumeCommunication=function(){this.isCommunicationStopped=!1;var ve=this.pausedQueries;if(ve){for(var Re=0,Ke=ve.length;Re<Ke;Re++){var tt=ve[Re];Be(tt)&&this.batcher.enqueue(tt)}this.pausedQueries=void 0}},ce.prototype.cache=function(){return this.queryCache},ce.prototype.setLocalCacheResult=function(ve,Re){this.queryCache.put(ve.dataSources,ve.command,Re)},ce.prototype.setPreferredMaxConnections=function(ve){this.batcher.setMaxBatches(ve)},ce.prototype.executeBatch=function(ve){var Re=this;e.fF.assertValue(ve,"batch"),e.fF.assert(function(){return ve.queryOptions.length===ve.promises.length},"Queries & promises sizes must match.");var Ke=ve.promises;this.communication.execute(ve).then(function(tt){return Re.onSuccess(tt,Ke)},function(tt){return Re.onError(tt,Ke)})},ce.prototype.onSuccess=function(ve,Re){e.fF.assertValue(ve,"result"),e.fF.assertValue(Re,"executions"),this.rejectExecutionsForMissingJobs(ve,Re);for(var Ke=ve.jobIds,tt={},mt=0,He=Re.length;mt<He;++mt)tt[Ke[mt]]=Re[mt];var ke=ve.results;for(mt=0,He=ke.length;mt<He;++mt){var ft=ke[mt],Le=ft.result,Ue=tt[Q=ft.jobId];delete tt[Q];var ae=Le.data,Se=Le.error;if(ae)Ue.resolve({descriptor:ae.descriptor,dsr:ae.dsr,metrics:ae.metrics,requestId:ve.requestId,timestamp:ae.timestamp,fromCache:ae.fromCache});else if(Se){var vt=new h.sI(Se);vt.requestId=ve.requestId,Ue.reject(vt)}else Le.asyncResult&&this.delayedQueryResultResolver.resolveDelayedQuery(ft.jobId,ve.requestId,Ue)}if(!_.isEmpty(Object.keys(tt)))for(var Q in Se=new u(ve.requestId,"MissingJobResult"),tt)tt[Q].reject(Se)},ce.prototype.rejectExecutionsForMissingJobs=function(ve,Re){var Ke=ve.jobIds.length,tt=Re.length;if(tt>Ke)for(var mt=new u(ve.requestId,"MissingJobId"),He=Ke;He<tt;He++)Re[He].reject(mt)},ce.prototype.onError=function(ve,Re){var Ke;if(e.fF.assertValue(Re,"executions"),ve&&ve.requestError&&(Ke=new h.sI(ve.requestError)),Ke)Ke.requestId=ve.requestId;else{var tt=ve.error,mt=void 0,He=void 0,ke=void 0;if(tt){mt=tt.message,He=tt.code;var ft=tt["pbi.error"]&&tt["pbi.error"].exceptionCulprit;null!=ft&&(ke=(0,v.Qf)(ft))}Ke=ve&&null!=ve.httpStatusCode&&ve.requestId?new S.Gx(ve.httpStatusCode,ve.requestId,He,mt,ke):new ye(ve.requestId)}for(var Le=0,Q=Re.length;Le<Q;Le++)Re[Le].reject(Ke)},ce}();function Be(ce){return!!(0,pe.I3)(ce)&&ce.execution.pending()}var Te=function(){function ce(ve,Re,Ke,tt,mt,He,ke,ft,Le){e.fF.assertValue(ve,"host"),this.proxy=new Ce(ve,Re,mt,Ke,He,ke,tt,ft,Le),this.featureSwitches=tt,this.telemetryService=Ke}return ce.prototype.execute=function(ve){return this.proxy.execute(ve)},ce.prototype.transform=function(ve,Re,Ke,tt){return void 0===ve?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:(0,l.ij)(Re,ve,this.featureSwitches,this.telemetryService,Ke,tt)},ce.prototype.stopCommunication=function(){this.proxy.stopCommunication()},ce.prototype.resumeCommunication=function(){this.proxy.resumeCommunication()},Object.defineProperty(ce.prototype,"cache",{get:function(){return this.proxy.cache()},enumerable:!1,configurable:!0}),ce.prototype.setLocalCacheResult=function(ve,Re){this.proxy.setLocalCacheResult(ve,Re)},ce.prototype.setPreferredMaxConnections=function(ve){this.proxy.setPreferredMaxConnections(ve)},ce}()},777220:function(Xe,H,t){t.d(H,{x:function(){return S}});var e=t(498342),l=t(447751),o=t(408514),d=t(655537),S=function(){function h(c,r,s){e.fF.assertValue(c,"queryBindingDescriptor"),e.fF.assert(function(){return r&&r.length>0},"Expected a non-empty array of exceeded limits."),this.computeMetadata(c,s,r)}return Object.defineProperty(h.prototype,"code",{get:function(){return"DsrLimitsWarning"},enumerable:!1,configurable:!0}),h.prototype.computeMetadata=function(c,r,s){if(this.limits={},c.Limits){var u=h.getExceededLimitsDetails(c,s),i=c.Limits,a=!!u.Primary,n=!!u.Secondary,m=!!u.Intersection;if(c.ScriptVisualBinding)return void(this.hasScriptVisualBinding=!0);var f=c.Expressions&&c.Expressions.Primary&&c.Expressions.Primary.Groupings?c.Expressions.Primary.Groupings:[],V=c.Expressions&&c.Expressions.Secondary&&c.Expressions.Secondary.Groupings?c.Expressions.Secondary.Groupings:[];a&&n?(this.groupings=f.concat(V),this.limits.Primary=h.getLimitMetadata(i.Primary,r),this.limits.Secondary=h.getLimitMetadata(i.Secondary,r)):a?(this.groupings=f,this.limits.Primary=h.getLimitMetadata(i.Primary,r)):n&&(this.groupings=V,this.limits.Secondary=h.getLimitMetadata(i.Secondary,r)),m&&(this.limits.Intersection=h.getLimitMetadata(i.Intersection,r))}},h.prototype.getDetails=function(c){var r=!!this.limits.Primary,s=!!this.limits.Secondary,u=null,i=-1;return this.hasScriptVisualBinding?u=c.get("DsrLimitWarning_TooMuchDataValMultipleColumns"):r||s?r&&s?(i=this.limits.Primary.Type,u=this.getErrorInfoValue(this.groupings,c.get("DsrLimitsWarning_MultipleColumnsWithIssuesFormat"),c)):u=this.getErrorInfoValue(this.groupings,h.getDetailedMessageFormatForOneColumn(i=r?this.limits.Primary.Type:this.limits.Secondary.Type,c),c):this.limits.Intersection&&(u=h.getDetailedMessageFormatForOneColumn(i=this.limits.Intersection.Type,c)),u||(u=c.get("DsrLimitWarning_TooMuchDataValMultipleColumns")),{message:h.getMessage(i,c),displayableErrorInfo:[{errorInfoKey:h.getKey(i,c),errorInfoValue:u}],helpLink:h.getHelpLink(i)}},h.getExceededLimitsDetails=function(c,r){for(var s=c.Limits,u={},i=0,a=r;i<a.length;i++){var n=a[i];s.Primary&&n.Id===s.Primary.Id?u.Primary=s.Primary:s.Secondary&&n.Id===s.Secondary.Id?u.Secondary=s.Secondary:s.Intersection&&n.Id===s.Intersection.Id&&(u.Intersection=s.Intersection)}return u},h.prototype.getErrorInfoValue=function(c,r,s){if(!c||0===c.length)return null;for(var u=[],i=0,a=c.length;i<a;i++){var m=this.getGroupingNameFromGroupingKeys(c[i]);m&&u.push(m)}var f,V=u.length;return 0===V?null:(f=1===V?u[0]:u.join(s.get("ListJoin_Separator")),(0,l.W)(r,f))},h.prototype.getGroupingNameFromGroupingKeys=function(c){for(var r=c.Keys,s=0,u=r.length;s<u;s++){var i=r[s];if(null!=i.Select)return this.columnNameFromIndex?this.columnNameFromIndex(i.Select):void 0}},h.getMessage=function(c,r){switch(c){case 2:return r.get("DsrLimitWarning_RepresentativeSampleMessage");case 3:case 4:return r.get("DsrLimitWarning_HighDensitySampleMessage");default:return r.get("DsrLimitWarning_TooMuchDataMessage")}},h.getKey=function(c,r){switch(c){case 2:return r.get("DsrLimitWarning_RepresentativeSampleKey");case 3:case 4:return r.get("DsrLimitWarning_HighDensitySampleKey");default:return r.get("DsrLimitWarning_TooMuchDataKey")}},h.getDetailedMessageFormatForOneColumn=function(c,r){switch(c){case 2:return r.get("DsrLimitWarning_RepresentativeSampleVal");case 3:return r.get("DsrLimitWarning_HighDensitySampleVal");case 4:return r.get("DsrLimitWarning_OverlappingPointsDetails");default:return r.get("DsrLimitWarning_TooMuchDataVal")}},h.getHelpLink=function(c){switch(c){case 3:return"https://go.microsoft.com/fwlink/?linkid=848757";case 4:return"https://go.microsoft.com/fwlink/?linkid=853820"}},h.getLimitMetadata=function(c,r){return c.Top?{Type:0,Count:h.getLimitCount(c.Top,r)}:c.Bottom?{Type:1,Count:h.getLimitCount(c.Bottom,r)}:c.Sample?{Type:2,Count:h.getLimitCount(c.Sample,r)}:c.BinnedLineSample?{Type:3,Count:h.getBinnedLineSampleCount(c.BinnedLineSample)}:c.OverlappingPointsSample?{Type:4,Count:h.getLimitCount(c.OverlappingPointsSample,r)}:{Type:-1,Count:null}},h.getLimitCount=function(c,r){if(c.Calc&&r){var s=d.A1.findCalculation(r,c.Calc);if(s){var u=(0,o.H2)(s.Value);if(_.isNumber(u))return u}}return c.Count},h.getBinnedLineSampleCount=function(c){return c.MaxTargetPointCount},h}()},202587:function(Xe,H,t){t.d(H,{lp:function(){return v},py:function(){return d},sK:function(){return o}});var e=t(498342);function o(S){if(0===S)return"Warning"}var d={"ForecastErrorType.DataIsTooSmall":{localizedMessage:"DsrMessage_NotEnoughDataMessage",localizedTitle:"DsrMessage_NotEnoughDataTitle",localizedContent:"DsrMessage_NotEnoughDataContent",isTransformMessage:!0},"ForecastErrorType.TooManyMissingValues":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.NoDominantStepDetected":{localizedMessage:"DsrMessage_DataIsTooRandomOrMissingValuesMessage",localizedTitle:"DsrMessage_DataIsTooRandomOrMissingValuesTitle",localizedContent:"DsrMessage_DataIsTooRandomOrMissingValuesContent",isTransformMessage:!0},"ForecastErrorType.InputTimeStampsNotSorted":{localizedMessage:"DsrMessage_UnsortedDataMessage",localizedTitle:"DsrMessage_UnsortedDataTitle",localizedContent:"DsrMessage_UnsortedDataContent",isTransformMessage:!0},"ForecastErrorType.XAxisIsNull":{localizedMessage:"DsrMessage_ForecastXValueNullMessage",localizedTitle:"DsrMessage_ForecastXValueNullTitle",localizedContent:"DsrMessage_ForecastXValueNullContent",isTransformMessage:!0},"ForecastErrorType.InvalidSeasonality":{localizedMessage:"DsrMessage_ForecastInvalidSeasonalityMessage",localizedTitle:"DsrMessage_ForecastInvalidSeasonalityTitle",localizedContent:"DsrMessage_ForecastInvalidSeasonalityContent",isTransformMessage:!0},"ForecastErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ForecastVariantDataTypeMessage",localizedTitle:"DsrMessage_ForecastVariantDataTypeTitle",localizedContent:"DsrMessage_ForecastVariantDataTypeContent",isTransformMessage:!0},"ForecastErrorType.Unexpected":{localizedMessage:"DsrMessage_ForecastErrorMessage",localizedTitle:"DsrMessage_ForecastErrorTitle",localizedContent:"DsrMessage_ForecastErrorContent",isTransformMessage:!0},ForecastTransformUnsupported:{localizedMessage:"DsrMessage_ForecastNotSupportedMessage",localizedTitle:"DsrMessage_ForecastNotSupportedTitle",localizedContent:"DsrMessage_ForecastNotSupportedContent",isTransformMessage:!0},"ClusteringErrorType.LessThanKDataPoints":{localizedMessage:"DsrMessage_ClusterTooManyClustersTitle",localizedTitle:"DsrMessage_ClusterTooManyClustersTitle",localizedContent:"DsrMessage_ClusterTooManyClustersContent",isTransformMessage:!0},"ClusteringErrorType.TooManyDataPoints":{localizedMessage:"DsrMessage_ClusterExceedsLimitTitle",localizedTitle:"DsrMessage_ClusterExceedsLimitTitle",localizedContent:"DsrMessage_ClusterExceedsLimitContent",isTransformMessage:!0},"ClusteringErrorType.InvalidDataType":{localizedMessage:"DsrMessage_ClusterVariantDataTypeTitle",localizedTitle:"DsrMessage_ClusterVariantDataTypeTitle",localizedContent:"DsrMessage_ClusterVariantDataTypeContent",isTransformMessage:!0}},v=function(){function S(h){this.dataShapeMessage=h}return Object.defineProperty(S.prototype,"code",{get:function(){return this.dataShapeMessage.Code},enumerable:!1,configurable:!0}),S.prototype.getDetails=function(h){var c=d[this.dataShapeMessage.Code];return e.fF.assertValue(c,"message to show should be a known message"),{message:h.get(c.localizedMessage),displayableErrorInfo:[{errorInfoKey:h.get(c.localizedTitle),errorInfoValue:h.get(c.localizedContent)}]}},S.prototype.isTransformMessage=function(){var h=d[this.code];return h&&h.isTransformMessage},S}()},572232:function(Xe,H,t){t.d(H,{cd:function(){return h},U1:function(){return i},Ei:function(){return c}});var e=t(498342),l=t(512322),o=t(408514),d=t(724717),v=function(){function a(n){e.fF.assertValue(n,"Null RestartIdentities list"),e.fF.assertNonEmpty(n,"Empty RestartIdentities list"),this.restartValuesCount=n.length,this.calcIdToRestartIdentityIndex={};for(var m=0;m<this.restartValuesCount;m++)this.calcIdToRestartIdentityIndex[n[m]]=m}return a.prototype.getRestartValues=function(n){e.fF.assertValue(n,"getRestartValues called with undefined instanceParser");var m=new Array(this.restartValuesCount);for(n.restartCalcs();n.nextCalc();){var f=this.calcIdToRestartIdentityIndex[n.calcId()];void 0!==f&&(m[f]=n.calcValueAsExpr())}return e.fF.assert(function(){return _.every(m,function(V){return!!V})},"Missing calcs for RestartValues"),m},a}(),S=function(){function a(n){this.values=n,this.parsedValues=new Array(n.length),this.parsedValueExprs=new Array(n.length)}return a.prototype.getCalcValue=function(n,m){if(!(n>=this.parsedValues.length)){var f=this.parsedValues[n];return void 0===f&&(f=(0,o.Yt)(this.values[n],m),this.parsedValues[n]=f),f}},a.prototype.getCalcValueExpr=function(n,m,f){if(!(m>=this.parsedValues.length)){var V=this.parsedValueExprs[m];return void 0===V&&(V=(0,o.HL)(n,this.values[m],f),this.parsedValueExprs[m]=V),V}},a}(),h=function(){function a(n){if(n)for(var m in this.resolvedValueDictionaries={},n)this.resolvedValueDictionaries[m]=new S(n[m])}return a.prototype.getCalcValue=function(n,m,f){if(m&&"number"==typeof n){e.fF.assertValue(this.resolvedValueDictionaries,"this.context.resolvedValueDictionaries");var V=this.resolvedValueDictionaries[m];return e.fF.assertValue(V,"dictionary"),V.getCalcValue(n,f)}},a.prototype.getCalcValueExpr=function(n,m,f,V){if(f&&"number"==typeof m){e.fF.assertValue(this.resolvedValueDictionaries,"this.resolvedValueDictionaries");var p=this.resolvedValueDictionaries[f];return e.fF.assertValue(p,"dictionary"),p.getCalcValueExpr(n,m,V)}},a}();function c(a){var n=a.Select,m=a.Expressions,f=m&&m.Primary,V=f&&f.Groupings,p=f&&f.Synchronization,C=m&&m.Secondary&&m.Secondary.Groupings,b={},y=V&&[],D=C&&[];if(V)for(var P=0,F=V.length;P<F;P++)s(b,V[P],P,y,n);if(C)for(P=0,F=C.length;P<F;P++)D[P]=[],s(b,C[P],P,D,n);var E=0,w=[];if(n&&C)for(P=0;P<n.length;P++){var x=n[P];x&&x.Kind===d.hk.Measure&&null==x.Depth&&null==x.SecondaryDepth&&(w[E++]=P)}var R={intersectionMeasureToSelectIndex:w,secondaryLeafDataMemberId:C&&[],dataMemberIdToMetadata:b,selects:n,maxPrimaryDepth:_.size(V),maxSecondaryDepth:_.size(C),memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},intersectionCalcMetadataCache:{},primaryDataMemberIdCache:y,secondaryDataMemberIdCache:D,instancesCalcCache:{},lastIntersectionCalcCache:{},locked:!1};if(p){var g=p.length;for(R.primarySynchronizedGroups=new Array(g),P=0;P<g;P++){var L=p[P],M=_.last(L.Groupings);R.primarySynchronizedGroups[P]={groupings:L.Groupings,dataShapeId:L.DataShape,synchronizationIndexCalcId:V[M].SynchronizationIndex,context:r(a,L)}}}return R}function r(a,n){e.fF.assertValue(a.Expressions.Primary,"No primary groupings."),e.fF.assertValue(a,"synchronizedGroup");for(var m=a.Expressions.Primary.Groupings,f=a.Select,V={},p=[],C=n.Groupings,b=0;b<C.length;b++)s(V,m[C[b]].SynchronizedGroup,b,p,f,!0);return{dataMemberIdToMetadata:V,selects:f,maxPrimaryDepth:_.size(C),primaryDataMemberIdCache:p,memberInstanceCalcMetadataCache:{},calcIdToCalcMetadata:{},locked:!1,intersectionCalcMetadataCache:{},maxSecondaryDepth:0,secondaryDataMemberIdCache:void 0,instancesCalcCache:{},lastIntersectionCalcCache:{},intersectionMeasureToSelectIndex:[],secondaryLeafDataMemberId:void 0}}function s(a,n,m,f,V,p){var C=f[m]=[],b=function(a,n){for(var m=a.length,f=new Array(m),V=0;V<m;V++)f[V]=i(a[V],a[V].Select,n);return f}(n.Keys,V),y=n.Member;if(y){C.push(y);var D=a[y]={identityFields:b,axisGrouping:n,kind:1,depth:m+1};p?D.forSynchronization=!0:n.SynchronizedGroup&&(D.isSynchronized=!0),n.RestartIdentities&&(D.restartValuesBuilder=new v(n.RestartIdentities))}var P=n.SubtotalMember;P&&(C.push(P),D={identityFields:b,kind:2,depth:m},p?D.forSynchronization=!0:n.SynchronizedGroup&&(D.isSynchronized=!0),a[P]=D)}function i(a,n,m){e.fF.assertValue(a,"key"),e.fF.assertAnyValue(n,"selectIndex"),e.fF.assertValue(m,"selectBindings");var f=a.Source;if(!f){e.fF.assert(function(){return n>=0&&n<_.size(m)},"selectIndex should be within range");var V=m[n].Name;return V?(0,l.xA)(V):void e.fF.assertFail("selectName should be defined")}return(0,l.Oh)((0,l.nw)((0,d._H)(f),f.Entity||f.EntitySet),f.Property)}},59118:function(Xe,H,t){t.d(H,{o3:function(){return Ue},kc:function(){return ft},nZ:function(){return ke},ij:function(){return Le}});var e=t(767650),l=t(498342),o=t(146234),d=t(382088),v=t(146432),S=t(421396),h=t(579486),c=t(655537),r=function(){function We(de){this.context=de,this.measureValueAggregatorsBySelectIdx=[]}return We.prototype.read=function(de,te){void 0===te&&(te=!0);for(var Ve=this.context,xe=Ve.selects,Z=new Array(xe.length),J=new Array(xe.length);de.nextCalc();){var Fe=Ve.aggregateCalcMetadata[de.calcId()];Fe&&Fe.aggregateKind&&(c.A1.fillMetadataColumnAggregate(de.calcValue(),Fe,!1),3===Fe.aggregateKind&&(Z[Fe.selectIdx]=!0),2===Fe.aggregateKind&&(J[Fe.selectIdx]=!0))}te&&this.addLocalAggregators(Z,J)},We.prototype.addLocalAggregators=function(de,te){for(var Ve=this.measureValueAggregatorsBySelectIdx,xe=this.context.measureSelectIndices,Z=xe.length,J=!1,Fe=0;Fe<Z;Fe++){var ze=xe[Fe];de[ze]||(J=!0,Ve[ze]||(Ve[ze]=[]),Ve[ze].push(new c.nc)),te[ze]||(J=!0,Ve[ze]||(Ve[ze]=[]),Ve[ze].push(new c._8))}this.hasLocalAggregators=J},We.prototype.update=function(de,te){if(this.hasLocalAggregators){var Ve=this.measureValueAggregatorsBySelectIdx[te];if(Ve)for(var xe=0,Z=Ve;xe<Z.length;xe++)Z[xe].update(de)}},We.prototype.copyToColumns=function(){for(var de=this.context.measureSelectIndices,te=de.length,Ve=0;Ve<te;Ve++){var xe=de[Ve],Z=this.context.selectIndexToColumn[xe],J=this.measureValueAggregatorsBySelectIdx[xe];if(J&&J)for(var Fe=0,ze=J;Fe<ze.length;Fe++){var rt=ze[Fe],Oe=rt.value();void 0!==Oe&&(Z.aggregates||(Z.aggregates={}),Z.aggregates[rt.name]=Oe)}}},We}(),s=t(915925),u=t(512322),i=function(){function We(de,te){this.context=de,this.calcIdToGroupingKeysIndex={},this.initialize(te)}return We.prototype.initialize=function(de){var Ve,te=this,xe=this.context,Z=xe.selects,J=xe.dataMemberIdToMetadata[de];this.identityFields=J.identityFields,this.identityFieldsCount=this.identityFields.length;var ze=J.axisGrouping.Keys;l.fF.assert(function(){return ze.length===te.identityFieldsCount},"Mismatch in Identity Keys count");for(var rt=0;rt<this.identityFieldsCount;rt++){var Oe=ze[rt],Pe=void 0;Oe.Calc?Pe=Oe.Calc:null!=Oe.Select&&Oe.Select>=0?Pe=J.forSynchronization?null===(Ve=Z[Oe.Select].Synchronized)||void 0===Ve?void 0:Ve.Value:Z[Oe.Select].Value:l.fF.assertFail("unexpected grouping key value"),this.calcIdToGroupingKeysIndex[Pe]=rt}},We.prototype.reset=function(){this.identityParts=new Array(this.identityFieldsCount)},We.prototype.addExpr=function(de,te){var Ve=this.calcIdToGroupingKeysIndex[de],xe=this.identityFields[Ve];xe&&(this.identityParts[Ve]=(0,u.Dg)(xe,te))},We.prototype.getIdentity=function(){for(var Ve,de=this.identityParts,te=this.identityFieldsCount,xe=0;xe<te;xe++)Ve=(0,u.xD)(Ve,de[xe]);var Z=(0,s.TZ)(Ve);return l.fF.assertValue(Z,"identity"),Z},We.prototype.getIdentityFields=function(){return this.identityFields},We}(),a=t(724717),m=function(){function We(){}return We.prototype.run=function(de,te,Ve){this.metadata=Ve,this.context=de,this.dsrParser=te,this.selectIndexToCategoryColumn={},this.selectIndexToPrimaryValueColumn={},this.selectIndexToDynamicFormatColumn={},this.intersectionValueColumnsMap=[],this.intersectionDynamicFormatColumnsMap=[],this.primaryMeasureCount=0,this.intersectionMeasureCount=0,this.seriesSelectIndex=-1,this.primaryMeasureSelectIndexMap=[],this.intersectionMeasuresSelectIndexMap=[],this.selectIndexToValueColumnsMap=[],te.reset(),this.aggregator=new r(de);var xe=this.dsrParser.dataShapes();xe.next();var Z={};if(0===de.maxPrimaryDepth){this.readSelectsAndCreateCategoryColumns(void 0,void 0);var J=Z.values=(0,h.Yv)();this.readMeasuresWithNoGrouping(xe,J)}else{var Fe=[],ze=[];Z.categories=Fe,this.readSelectsAndCreateCategoryColumns(Fe,ze),J=void 0,(this.intersectionMeasureCount>0||this.primaryMeasureCount>0||this.seriesSelectIndex>=0)&&(Z.values=J=(0,h.Yv)()),this.readSecondaryAndCreateValueColumns(J);var rt={};this.readData(xe,J,ze,rt),void 0!==rt.value&&(Z.lastMergeIndex=rt.value)}return Z},We.isCompatible=function(de){return de.maxPrimaryDepth<=1&&de.maxSecondaryDepth<=1&&!(0===de.maxPrimaryDepth&&de.maxSecondaryDepth>0)&&_.size(de.selects)>0},We.prototype.readSelectsAndCreateCategoryColumns=function(de,te){var Ve=this.context,xe=Ve.selectIndexToColumn,Z=Ve.selects,J=Z.length,Fe=this.dsrParser.dataShapes().secondaryHierarchy();this.primaryMeasureSelectIndexMap=new Array(Z.length),this.intersectionMeasuresSelectIndexMap=new Array(Z.length);for(var ze=!!Fe,rt=0;rt<J;rt++){var Oe=Z[rt];if(Oe&&Oe.Value)if(Oe.Kind===a.hk.Group){if(null!=Oe.SecondaryDepth){this.seriesSelectIndex=rt;continue}if(null!=Oe.Depth){l.fF.assert(function(){return null!=te},"Expected truthy value for identities"),l.fF.assert(function(){return null!=de},"Expected truthy value for categories");var X={source:xe[rt],values:[],identity:te};de.push(X),this.selectIndexToCategoryColumn[rt]=X}}else Oe.Kind===a.hk.Measure&&(ze&&null==Oe.Depth?this.intersectionMeasuresSelectIndexMap[this.intersectionMeasureCount++]=rt:this.primaryMeasureSelectIndexMap[this.primaryMeasureCount++]=rt)}},We.prototype.readSecondaryAndCreateValueColumns=function(de){var te=this.dsrParser.dataShapes().secondaryHierarchy();te?(this.addIntersectionValueColumns(de,te),this.primaryMeasureCount>0&&this.addPrimaryValueColumns(de)):this.addPrimaryValueColumns(de,!0)},We.prototype.addIntersectionValueColumns=function(de,te){for(var xe,Ve=new Array,Z=this.context,J=function(){var rt=te.id(),Oe=te.instances();if(2===Z.dataMemberIdToMetadata[rt].kind){for(;Oe.next(););return"continue"}var Pe=Z.dataMemberIdToIdentityBuilder[rt];Pe||(Pe=new i(Z,rt),Z.dataMemberIdToIdentityBuilder[rt]=Pe),xe=Pe.getIdentityFields();for(var X=-1;Oe.next();){X++,Pe.reset();for(var we=void 0,Ze=void 0;Oe.nextCalc();){Ze=Oe.calcId();var et=Fe.context.calcInfo[Ze];et.isGroupKeyButNotSelect||(we=Oe.calcValue()),et.forIdentity&&Pe.addExpr(Ze,Oe.calcValueAsExpr())}Fe.addIntersectionValueColumnsCore(de,Ve,Ze,we,X,Pe.getIdentity()),l.fF.assert(function(){return null==Oe.intersections()},"unexpected secondary intersections"),l.fF.assert(function(){return null==Oe.members()},"unexpected secondary nested members")}0===de.length&&0===Ve.length&&Fe.addIntersectionValueColumnsCore(de,Ve,void 0,void 0,0,void 0),de.grouped=function(){return Ve},de.source=Fe.context.selectIndexToColumn[Fe.seriesSelectIndex],de.identityFields=xe},Fe=this;te.next();)J()},We.prototype.addIntersectionValueColumnsCore=function(de,te,Ve,xe,Z,J){for(var Fe,ze,rt,Oe=this.context,Pe=Oe.selects,X=this.intersectionMeasureCount,we=new Array(X),Ze=this.metadata.columns,et=function(bt){var It=void 0,Rt=at.intersectionMeasuresSelectIndexMap[bt];void 0!==xe?((It=Oe.createColumns(Ze,Rt).column).groupName=xe,It.rootSource=Oe.selectIndexToColumn[Rt]):It=_.find(Ze,function(Cr){return Cr.index===Rt});var zt=at.createValueColumn(It,J,Rt,!!Pe[Rt].Highlight,!1);de.push(zt),we[bt]=zt;var Kt=Pe[Rt],Yt=at.intersectionValueColumnsMap[Z];Yt||(Yt=at.intersectionValueColumnsMap[Z]={}),Yt[Kt.Value]=zt;var ir=Kt.Highlight&&Kt.Highlight.Value;if(ir&&(Yt[ir]=zt),It.formatSource&&It.formatSource.formatString){l.fF.assertValue(null===(Fe=Kt.DynamicFormat)||void 0===Fe?void 0:Fe.Format,"select.DynamicFormat.Format");var lr=at.createValueColumn(It.formatSource.formatString,void 0,Rt,!!Pe[Rt].Highlight,!0),dr=at.intersectionDynamicFormatColumnsMap[Z];dr||(dr=at.intersectionDynamicFormatColumnsMap[Z]={}),dr[Kt.DynamicFormat.Format]=lr,de.push(lr);var br=null===(rt=null===(ze=Kt.Highlight)||void 0===ze?void 0:ze.DynamicFormat)||void 0===rt?void 0:rt.Format;br&&(dr[br]=lr)}},at=this,St=0;St<X;St++)et(St);var Ie={values:we};void 0!==xe&&(Ie.name=xe),void 0!==J&&(Ie.identity=J),te.push(Ie)},We.prototype.addPrimaryValueColumns=function(de,te){for(var Ve=new Array,xe=this.context,Z=xe.selects,J=0;J<this.primaryMeasureCount;J++){var Fe=this.primaryMeasureSelectIndexMap[J],ze=xe.selectIndexToColumn[Fe],rt=this.createValueColumn(ze,void 0,Fe,!!Z[Fe].Highlight,!1);if(this.selectIndexToPrimaryValueColumn[Fe]=rt,Ve.push(rt),de.push(rt),ze.formatSource&&ze.formatSource.formatString){var Oe=this.createValueColumn(ze.formatSource.formatString,void 0,Fe,!!Z[Fe].Highlight,!0);this.selectIndexToDynamicFormatColumn[Fe]=Oe,de.push(Oe),Ve.push(Oe)}}if(te&&de){var Pe=[{values:Ve}];de.grouped=function(){return Pe}}},We.prototype.createValueColumn=function(de,te,Ve,xe,Z){var J={source:de,values:[]};if(xe&&(J.highlights=[]),te&&(J.identity=te),!Z){var Fe=this.selectIndexToValueColumnsMap[Ve];Fe||(Fe=this.selectIndexToValueColumnsMap[Ve]=[]),Fe.push(J)}return J},We.prototype.readData=function(de,te,Ve,xe){var Z=this.context,J=de.primaryHierarchy();this.aggregator.read(de,0===this.intersectionMeasureCount);for(var Fe=function(){var Oe=J.id(),Pe=Z.dataMemberIdToMetadata[Oe];if(Pe){var X=1===Pe.kind,we=Z.dataMemberIdToIdentityBuilder[Oe];!we&&X&&(we=new i(Z,Oe),Z.dataMemberIdToIdentityBuilder[Oe]=we);for(var Ze=J.instances();Ze.next();){for(we&&we.reset(),1===Ze.restartFlagKind()&&(xe.value=Ze.currentIndex());Ze.nextCalc();)ze.readPrimaryHierarchyCalc(Ze,we);we&&Ve.push(we.getIdentity()),ze.parseIntersections(Ze),l.fF.assert(function(){return null==Ze.members()},"unexpected nested members to parse")}if(X)for(var et=we.getIdentityFields(),at=0;at<Z.selects.length;at++){var St=ze.selectIndexToCategoryColumn[at];St&&(St.identityFields=et)}}},ze=this;J.next();)Fe();this.aggregator.copyToColumns(),this.copyAggregatesToValueColumns()},We.prototype.copyAggregatesToValueColumns=function(){for(var de=this.context.measureSelectIndices,te=this.context.selectIndexToColumn,Ve=de.length,xe=0;xe<Ve;xe++){var Z=de[xe],J=te[Z].aggregates;if(J){var Fe=this.selectIndexToPrimaryValueColumn[Z];Fe&&c.A1.copyAggregates(J,Fe);var ze=this.selectIndexToValueColumnsMap[Z];if(ze)for(var rt=0,Oe=ze;rt<Oe.length;rt++)c.A1.copyAggregates(J,Oe[rt])}}},We.prototype.readPrimaryHierarchyCalc=function(de,te){var Ve=de.calcId(),xe=this.context.aggregateCalcMetadata[Ve];if(xe&&1===xe.aggregateKind)c.A1.fillMetadataColumnAggregate(de.calcValue(),xe);else{var Z=this.context.calcInfo[Ve];if(Z){var J=de.calcValue();if(Z.kind===a.hk.Group)l.fF.assert(function(){return!!te},"Must have an identity builder when parsing grouping values"),Z.isGroupKeyButNotSelect||this.selectIndexToCategoryColumn[Z.selectIdx].values.push(J),Z.forIdentity&&te.addExpr(Ve,de.calcValueAsExpr());else if(Z.kind===a.hk.Measure){var Fe=Z.calcKind;1===Fe?(this.selectIndexToPrimaryValueColumn[Z.selectIdx].values.push(J),this.aggregator.update(J,Z.selectIdx)):4===Fe?this.selectIndexToDynamicFormatColumn[Z.selectIdx].values.push(J):3===Fe?this.selectIndexToPrimaryValueColumn[Z.selectIdx].highlights.push(J):6===Fe&&this.selectIndexToDynamicFormatColumn[Z.selectIdx].highlights.push(J)}}}},We.prototype.parseIntersections=function(de){var te=de.intersections();if(te)for(var Ve=this.context.calcInfo,xe=0;te.next();){var Z=this.intersectionValueColumnsMap[xe],J=this.intersectionDynamicFormatColumnsMap[xe];if(te.nextCalc()){if(!this.parseIntersectionCalc(te,Z,J,Ve))continue;for(xe++;te.nextCalc();)this.parseIntersectionCalc(te,Z,J,Ve)}}},We.prototype.parseIntersectionCalc=function(de,te,Ve,xe){var Z=de.calcId(),J=xe[Z];if(J)switch(l.fF.assert(function(){return J.kind===a.hk.Measure},"unexpected select kind found in intersection"),J.calcKind){case 1:return te[Z].values.push(de.calcValue()),!0;case 3:return te[Z].highlights.push(de.calcValue()),!0;case 4:return Ve[Z].values.push(de.calcValue()),!0;case 6:return Ve[Z].highlights.push(de.calcValue()),!0;case 2:case 5:return!1}},We.prototype.readMeasuresWithNoGrouping=function(de,te){this.aggregator.read(de),this.aggregator.copyToColumns();var Ve=de.primaryHierarchy();if(Ve.next()){this.addPrimaryValueColumns(te,!0);for(var xe=this.context.calcInfo,Z=Ve.instances();Z.next();)for(var J=function(){var rt=Z.calcId(),Oe=xe[rt];Oe&&(l.fF.assert(function(){return null!=Oe.selectIdx},"expect a selectIdx for all measures when there is no grouping"),1===Oe.calcKind?Fe.selectIndexToPrimaryValueColumn[Oe.selectIdx].values.push(Z.calcValue()):3===Oe.calcKind?Fe.selectIndexToPrimaryValueColumn[Oe.selectIdx].highlights.push(Z.calcValue()):4===Oe.calcKind?Fe.selectIndexToDynamicFormatColumn[Oe.selectIdx].values.push(Z.calcValue()):6===Oe.calcKind&&Fe.selectIndexToDynamicFormatColumn[Oe.selectIdx].highlights.push(Z.calcValue()))},Fe=this;Z.nextCalc();)J()}},We}(),f=t(781322),V=t(768783),p=t(572232),C=function(){function We(de,te,Ve,xe,Z){l.fF.assertValue(de,"targets"),l.fF.assert(function(){return null!=te.Select||null!=te.ScriptVisualBinding},"descriptor"),this.targets=de,this.descriptor=te,this.selects=te.Select,this.selectIndexToColumn={},this.aggregateCalcMetadata={},this._calcInfo={},this.calcIdToColumnIndices={},this.dataMemberIdToIdentityBuilder={};var J=te.Expressions;this._primaryAxisGroupings=J&&J.Primary&&J.Primary.Groupings,this._secondaryAxisGroupings=J&&J.Secondary&&J.Secondary.Groupings,this.measureSelectIndices=[],this.dataMemberIdToMetadata=Ve.dataMemberIdToMetadata,this.maxPrimaryDepth=Ve.maxPrimaryDepth,this.maxSecondaryDepth=Ve.maxSecondaryDepth,this.primarySynchronizedGroups=Ve.primarySynchronizedGroups,this.scopedAggregatesEnabled=xe,this.dataShapeParser=Z}return Object.defineProperty(We.prototype,"primaryAxisGroupings",{get:function(){return this._primaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(We.prototype,"secondaryAxisGroupings",{get:function(){return this._secondaryAxisGroupings},enumerable:!1,configurable:!0}),Object.defineProperty(We.prototype,"calcInfo",{get:function(){return this._calcInfo},enumerable:!1,configurable:!0}),We.prototype.createContextForPrimarySynchronizedGroup=function(de,te){var Ve=this,xe=new We(this.targets,this.descriptor,de.context,this.scopedAggregatesEnabled,te);return xe._primaryAxisGroupings=_.map(de.groupings,function(Z){return Ve.primaryAxisGroupings[Z].SynchronizedGroup}),xe._secondaryAxisGroupings=void 0,xe._calcInfo=this._calcInfo,xe},We.prototype.includes=function(de){return l.fF.assertValue(de,"kind"),(0,V.yE)(this.targets,de)},We.prototype.createDataViewMetadataColumns=function(){var de=this,te=this.selects;if(!_.isEmpty(te)){var Ve=[],xe=te.length;this.selectIndexToColumnIndex=new Array(xe);for(var Z=function(we,Ze){var et=te[we];if(!et)return"continue";l.fF.assert(function(){return et.Kind!==a.hk.None},"Expecting every select never to be of SelectKind.None");var at=J.createColumns(Ve,we),St=at.column,Ie=at.columnIdx,qe=at.dynamicFormatColumn;J.selectIndexToColumn[we]=St,J.selectIndexToColumnIndex[we]=Ie,et.Kind===a.hk.Measure&&J.measureSelectIndices.push(we);var bt=et.Aggregates;if(bt)for(var It=0,Rt=bt;It<Rt.length;It++){var zt=Rt[It],Kt=J.getAggregateKind(zt.Aggregate);J.createAggregateCalcMetadata(zt.Ids,Kt,St,we,zt.Aggregate)}var Yt=et.Value;Yt&&(J.calcIdToColumnIndices[Yt]||(J.calcIdToColumnIndices[Yt]=[]),J.calcIdToColumnIndices[Yt].push(Ie),(null==et.Depth||null==et.SecondaryDepth)&&(J.aggregateCalcMetadata[Yt]={source:St,aggregateKind:4,selectIdx:we})),et.Kind===a.hk.Measure&&(et.Subtotal&&J.createAggregateCalcMetadata(et.Subtotal,1,St,we),et.SubtotalDynamicFormat&&J.createAggregateCalcMetadata(_.map(et.SubtotalDynamicFormat,function(ir){return ir&&ir.Format}),1,qe,we),et.Count&&(l.fF.assert(function(){return _.size(et.Count)<=1},"dataView cannot represent aggregates other than subtotal at different scopes yet"),J.createAggregateCalcMetadata(et.Count,5,St,we)),et.Max&&J.createAggregateCalcMetadata(et.Max,2,St,we),et.Min&&J.createAggregateCalcMetadata(et.Min,3,St,we))},J=this,Fe=0,ze=xe;Fe<ze;Fe++)Z(Fe);this.parseAxisGroupings(this.primaryAxisGroupings),this.parseAxisGroupings(this.secondaryAxisGroupings);var rt=function(we){_.size(Oe.calcIdToColumnIndices[we])>1&&(Oe.calcInfo[we].hasDuplicateColumnIndices=!0,l.fF.assert(function(){return!de.calcInfo[we].isGroupKeyButNotSelect},"calcs which represent group keys cannot have duplicate column indices"))},Oe=this;for(var Pe in this.calcIdToColumnIndices)rt(Pe);return this.scopedAggregatesEnabled&&(this.createScopedAggregateMetadata(),this.fillDataShapeScopeAggregateValues()),Ve}},We.prototype.parseAxisGroupings=function(de){if(de)for(var te=0,Ve=de;te<Ve.length;te++){var xe=Ve[te],Z=xe.SynchronizedGroup;if(Z){this.parseGroupingKeys(Z.Keys,!0);var J=xe.SynchronizationIndex;J&&(this.calcInfo[J]={kind:a.hk.Measure,calcKind:10})}this.parseGroupingKeys(xe.Keys,!1)}},We.prototype.parseGroupingKeys=function(de,te){for(var Ve,xe,Z=this.calcInfo,J=this.selects,Fe=0,ze=de;Fe<ze.length;Fe++){var rt=ze[Fe],Oe=J[rt.Select];null!=Oe?te?(l.fF.assertValue(null===(Ve=Oe.Synchronized)||void 0===Ve?void 0:Ve.Value,"Key of a Synchronized AxisGrouping should refer to Select with Synchronization"),Z[null===(xe=Oe.Synchronized)||void 0===xe?void 0:xe.Value].forIdentity=!0):Z[Oe.Value].forIdentity=!0:rt.Calc?Z[rt.Calc]={kind:a.hk.Group,forIdentity:!0,isGroupKeyButNotSelect:!0}:l.fF.assertFail("Unexpected DataShapeExpressionAxisGroupingKey without select or calc")}},We.prototype.createAggregateCalcMetadata=function(de,te,Ve,xe,Z){for(var J=0,Fe=de;J<Fe.length;J++){var rt=this.aggregateCalcMetadata[Fe[J]]={source:Ve,aggregateKind:te,selectIdx:xe};Z&&(rt.aggregate=Z)}},We.prototype.getAggregateKind=function(de){return de.Average?6:de.Max?2:de.Min?3:de.Median?8:de.Percentile?7:void 0},We.prototype.createColumns=function(de,te){var Ve=de.length,xe=this.createMetadataColumn(te);de.push(xe);var Z=this.selects[te],J=Z.Kind,Fe=this.calcInfo;Fe[Z.Value]={kind:J,columnIndex:Ve,selectIdx:te,calcKind:1};var ze=Z.Synchronized;if(ze&&(l.fF.assert(function(){return J===a.hk.Group},"Synchronization Auxiliary Select is expected only for Grouping Selects"),l.fF.assertValue(ze.Value,"Synchronization Auxiliary Select must have a Value"),l.fF.assertValue(ze.GroupKeys,"Synchronization Auxiliary Select must have GroupKeys"),Fe[ze.Value]={kind:J,columnIndex:Ve,selectIdx:te,calcKind:1},Fe[Z.Value].isSynchronized=!0),Z.Subtotal){l.fF.assert(function(){return J===a.hk.Measure},"Subtotal SelectKind");for(var rt=0,Oe=Z.Subtotal;rt<Oe.length;rt++)Fe[Pe=Oe[rt]]={columnIndex:Ve,kind:J,selectIdx:te,calcKind:2}}if(Z.Highlight){l.fF.assert(function(){return J===a.hk.Measure},"Highlight SelectKind");var X=Z.Highlight.Value;X&&(Fe[X]={columnIndex:Ve,kind:J,selectIdx:te,calcKind:3});var we=Z.Highlight.Subtotal;if(we)for(var Ze=0,et=we;Ze<et.length;Ze++)Fe[Pe=et[Ze]]={columnIndex:Ve,kind:J,selectIdx:te,calcKind:9}}if(this.scopedAggregatesEnabled){if(!_.isEmpty(Z.Aggregates))for(var at=0,St=Z.Aggregates;at<St.length;at++)if((Ie=St[at]).Aggregate.Scope)for(var qe=0,bt=Ie.Ids;qe<bt.length;qe++)Fe[bt[qe]]={columnIndex:Ve,kind:J,selectIdx:te,calcKind:7};var Rt=Z.Highlight;if(Rt&&!_.isEmpty(Rt.Aggregates))for(var Kt=0,Yt=Rt.Aggregates;Kt<Yt.length;Kt++){var Ie;if((Ie=Yt[Kt]).Aggregate.Scope)for(var ir=0,lr=Ie.Ids;ir<lr.length;ir++)Fe[lr[ir]]={columnIndex:Ve,kind:J,selectIdx:te,calcKind:8}}}var dr=this.tryCreateDynamicFormatColumnMetadata(te,xe);if(dr){l.fF.assert(function(){return J===a.hk.Measure},"Dynamic Format SelectKind");var br=Ve+1;if(de.push(dr),Fe[Z.DynamicFormat.Format]={columnIndex:br,kind:a.hk.Measure,selectIdx:te,calcKind:4},Z.SubtotalDynamicFormat)for(var Cr=0,pt=Z.SubtotalDynamicFormat;Cr<pt.length;Cr++){var Pe,Ut=(Pe=pt[Cr])&&Pe.Format;Ut&&(Fe[Ut]={columnIndex:br,kind:a.hk.Measure,selectIdx:te,calcKind:5})}var er=Z.Highlight&&Z.Highlight.DynamicFormat&&Z.Highlight.DynamicFormat.Format;er&&(Fe[er]={columnIndex:br,kind:a.hk.Measure,selectIdx:te,calcKind:6})}return{column:xe,columnIdx:Ve,dynamicFormatColumn:dr}},We.prototype.createMetadataColumn=function(de){var te=this.selects[de],Ve={displayName:"",index:de};te.Format&&(Ve.format=te.Format),Ve.type=c.A1.describeDataType(te.Type,te.DataCategory),te.Kind===a.hk.Measure&&(Ve.isMeasure=!0);var xe=te.GroupKeys;if(xe)for(var Z=Ve.identityExprs=new Array(xe.length),J=0;J<xe.length;J++)Z[J]=(0,p.U1)(xe[J],de,this.selects);return Ve},We.prototype.tryCreateDynamicFormatColumnMetadata=function(de,te){var Ve=this.selects[de];if(Ve.DynamicFormat&&Ve.DynamicFormat.Format){var xe={displayName:"",isMeasure:!0};return te.formatSource={formatString:xe},xe}},We.prototype.createScopedAggregateMetadata=function(){for(var de=this.selects,Ve=this.selectIndexToColumn,xe=0,Z=de.length;xe<Z;xe++){var J=de[xe];if(J){var Fe=J.Aggregates,ze=Ve[xe];if(!_.isEmpty(Fe))for(var rt=0,Oe=Fe;rt<Oe.length;rt++)this.createScopedAggregateCalcMetadata(Oe[rt],ze);var X=J.Highlight;if(X&&!_.isEmpty(X.Aggregates))for(var Ze=0,et=X.Aggregates;Ze<et.length;Ze++)this.createScopedAggregateCalcMetadata(et[Ze],ze)}}},We.prototype.createScopedAggregateCalcMetadata=function(de,te){var Ve=de.Aggregate,xe=Ve.Scope;if(xe){var Z=this.selectIndexToColumn,J=xe.PrimaryDepth;l.fF.assert(function(){return void 0===xe.SecondaryDepth},"Scoped Aggregates not supports secondary depth for now.");for(var Fe=new Array(J),ze=this.primaryAxisGroupings,rt=0,Oe=0;Oe<J;Oe++)for(var X=0,we=ze[Oe].Keys;X<we.length;X++){var et=we[X].Select;l.fF.assertValue(et,"select");var at=Z[et];l.fF.assertValue(at,"inputScopeColumn"),Fe[rt++]=at}for(var St={column:te,inputScope:Fe,respectInstanceFilters:Ve.RespectInstanceFilters},qe=this.calcInfo,bt=0,It=de.Ids;bt<It.length;bt++){var zt=qe[It[bt]];l.fF.assertValue(zt,"aggregateCalcInfo"),zt.scopedAggregateCalcMetadata={metadata:St,aggregateKind:this.getAggregateKind(Ve)}}}},We.prototype.fillDataShapeScopeAggregateValues=function(){var de=this.dataShapeParser;if(de){var te=this.calcInfo;de.reset();var Ve=de.next();l.fF.assert(function(){return Ve},"There must be a DataShape");for(var xe=function(){var J=te[de.calcId()];if(!J||!J.scopedAggregateCalcMetadata)return"continue";var Fe=J.scopedAggregateCalcMetadata,ze=Fe.metadata,rt=ze.column,Oe=ze.inputScope,Pe=ze.respectInstanceFilters,X={inputScope:Oe,respectInstanceFilters:Pe,values:{},highlight:{}};if(rt.scopedAggregates){var we=_.find(rt.scopedAggregates,function(at){return We.sameScopedAggregatesInputScope(at.inputScope,Oe)&&at.respectInstanceFilters===Pe});we?X=we:rt.scopedAggregates.push(X)}else rt.scopedAggregates=[X];var Ze=void 0;switch(J.calcKind){case 7:Ze=X.values;break;case 8:Ze=X.highlight;break;default:l.fF.assertFail("Invalid CalcKind.")}var et=de.calcValue();switch(Fe.aggregateKind){case 3:Ze.min=et;break;case 2:Ze.max=et;break;case 6:Ze.avg=et;break;default:l.fF.assertFail("Invalid scoped aggregate function.")}};de.nextCalc();)xe()}},We.sameScopedAggregatesInputScope=function(de,te){if(de===te)return!0;if(de.length!==te.length)return!1;for(var Ve=0;Ve<de.length;Ve++)if(de[Ve]!==te[Ve])return!1;return!0},We}(),y=function(){function We(de,te,Ve,xe){this.context=de,this.dsrParser=te,this.metadata=Ve,l.fF.assertValue(de,"context"),l.fF.assertValue(te,"dsrParser"),l.fF.assertValue(Ve,"metadata"),l.fF.assertNonEmpty(Ve.columns,"metadata.columns"),this.aggregator=new r(de),this.scopedAggregatesEnabled=xe}return We.prototype.run=function(){var de=this,te=this.aggregator,Ve=this.dsrParser;Ve.reset();var xe=Ve.dataShapes();this.calcInfoCache={};var Z=xe.next();l.fF.assert(function(){return Z},"There must be a DataShape"),this.createHierarchiesLevels(),this.readValueSources(xe),l.fF.assert(function(){return de.context.maxPrimaryDepth>0||!_.isEmpty(de.context.measureSelectIndices)},"DSR is not compatible with Matrix"),te.read(xe,1===this.context.maxPrimaryDepth&&0===this.context.maxSecondaryDepth);var J=xe.secondaryHierarchy(),Fe=this.readHierarchy(1,J,xe),ze=xe.primaryHierarchy(),rt=this.readHierarchy(0,ze,xe);return te.copyToColumns(),{rows:rt,columns:Fe,valueSources:this.valueSources}},We.prototype.createHierarchiesLevels=function(){var de=this.context.selects,te=this.context.maxPrimaryDepth,Ve=this.context.maxSecondaryDepth;this.primaryHierarchyLevels=new Array(te),this.secondaryHierarchyLevels=new Array(Ve);for(var xe=0;xe<te;xe++)this.primaryHierarchyLevels[xe]={sources:[]};for(xe=0;xe<Ve;xe++)this.secondaryHierarchyLevels[xe]={sources:[]};var Z=this.metadata.columns,J=Z.length,Fe=this.columnIndexToZoneIndex=new Array(J);for(xe=0;xe<J;xe++){var ze=Z[xe],rt=ze.index;if(null!=rt){var Oe=de[rt],Pe=void 0;Oe.Kind===a.hk.Group&&(null!=Oe.Depth?Pe=this.primaryHierarchyLevels[Oe.Depth].sources:null!=Oe.SecondaryDepth&&(Pe=this.secondaryHierarchyLevels[Oe.SecondaryDepth].sources),l.fF.assertValue(Pe,"Grouping Select not belonging to either Hierarchy"),Fe[xe]=Pe.length,Pe.push(ze))}}},We.prototype.readHierarchy=function(de,te,Ve){var xe,Z,J=this.valueSources.length;switch(de){case 0:if(Z=this.context.maxPrimaryDepth,!(xe=this.context.primaryAxisGroupings))return l.fF.assert(function(){return 0===Z},"No primary groupings"),l.fF.assert(function(){return J>0},"Matrix without groups needs at least a measure"),this.createRowHierarchyForNoGroupings(te);break;case 1:if(Z=this.context.maxSecondaryDepth,!(xe=this.context.secondaryAxisGroupings))return l.fF.assert(function(){return 0===Z},"No secondary groupings"),0===J?{levels:[],root:{children:[]}}:this.createColumnHierarchyForNoGroupings();break;default:l.fF.assertFail("Unexpected DataShapeHierarchy")}l.fF.assert(function(){return Z===_.size(xe)},"Groupings-Hierarchy mismatch");var Fe={levels:0===de?this.primaryHierarchyLevels:this.secondaryHierarchyLevels,root:{}};1===de&&J>1&&Fe.levels.push(this.createColumnHierarchyMeasuresLevel());var ze=this.context.primarySynchronizedGroups;0===de&&ze&&this.readRowsSynchronizedGroups(ze,Fe,Ve);var rt=this.context;return this.readNodeChildren(rt,rt.calcInfo,this.columnIndexToZoneIndex,rt.dataMemberIdToIdentityBuilder,rt.dataMemberIdToMetadata,Fe.root,te,0,de,J,this.context.maxSecondaryDepth,Fe.levels),!_.isEmpty(Fe.root.children)&&!_.isEmpty(Fe.synchronizedGroups)&&this.ensureRowNodeSynchronization(Fe.root,0),Fe},We.prototype.readRowsSynchronizedGroups=function(de,te,Ve){l.fF.assertNonEmpty(de,"No Primary Synchronized Groups"),l.fF.assertValue(te,"hierarchy");var xe=de.length;te.synchronizedGroups=new Array(xe),this.primarySynchronizedGroupByLevel=new Array(te.levels.length);for(var Z=Ve.nestedDataShapes(),J=function(Oe){var Pe=de[Oe],X=Pe.groupings;l.fF.assert(function(){return!_.isEmpty(X)},"Empty synchronized group");var we=Z[Pe.dataShapeId];l.fF.assertValue(we,"no dataShapeParser for a SynchronizedGroup");var Ze=we.next();l.fF.assert(function(){return Ze},"Nested DataShape not found");var et=we.primaryHierarchy();l.fF.assertValue(et,"Nested DataShape of a Synchronized Group has no Primary Hierarchy");for(var at=te.synchronizedGroups[Oe]={levels:new Array,root:{}},St=0;St<X.length;St++){var Ie=X[St],qe=at.levels[St]=te.levels[Ie];qe.valueSources&&((te.levels[Ie]=(0,f.ED)(qe)).valueSources=qe.valueSources,delete qe.valueSources)}Fe.primarySynchronizedGroupByLevel[X[0]]=at;for(var It=Fe.metadata.columns,Rt=new Array(It.length),zt=function(lr){for(var dr=It[lr],br=0,Cr=at.levels;br<Cr.length;br++){var Ut=_.findIndex(Cr[br].sources,function(er){return er===dr});if(Ut>-1){Rt[lr]=Ut;break}}},Kt=0;Kt<It.length;Kt++)zt(Kt);var Yt=Fe.context.createContextForPrimarySynchronizedGroup(Pe,we);Fe.readNodeChildren(Yt,Yt.calcInfo,Rt,Yt.dataMemberIdToIdentityBuilder,Yt.dataMemberIdToMetadata,at.root,et,0,0,0,Yt.maxSecondaryDepth,at.levels,{currentIndex:0})},Fe=this,ze=0;ze<xe;ze++)J(ze)},We.prototype.readNodeChildren=function(de,te,Ve,xe,Z,J,Fe,ze,rt,Oe,Pe,X,we){if(Fe&&0!==Fe.count())for(var Ze;Fe.next();){var et=Fe.id(),at=Z[et];if(at){var St=2===at.kind,Ie=St&&0===ze,qe=void 0,bt=void 0;St||((qe=xe[et])||(qe=xe[et]=new i(de,et)),bt=qe.getIdentityFields());var It=Fe.instances();if(!It||0===It.count())continue;bt&&(J.childIdentityFields=bt),Ze||(Ze=J.children=[]);var Rt=this.calcInfoCache[et];for(null==Rt&&(Rt=this.calcInfoCache[et]=[]);It.next();){var zt=this.readNode(de,at,xe,Z,te,Ve,It,ze,St,Ie,Rt,rt,Oe,Pe,qe,at.restartValuesBuilder,X,we);Ze.push(zt),we&&we.currentIndex++}}}},We.prototype.readNode=function(de,te,Ve,xe,Z,J,Fe,ze,rt,Oe,Pe,X,we,Ze,et,at,St,Ie){l.fF.assert(function(){return!!et==!rt},"Unexpected IdentityBuilder"),l.fF.assert(function(){return!(rt&&at)},"Subtotal nodes should not have RestartValues");var qe=de.aggregateCalcMetadata,bt={level:ze};te.forSynchronization&&(l.fF.assertValue(Ie,"undefined synchronizedGroupLeafIndex while parsing Master List"),bt.synchronizationIndex=Ie.currentIndex),1===Fe.restartFlagKind()&&(bt.isMerge=!0),rt?bt.isSubtotal=!0:et.reset();for(var It=[],Rt=te.isSynchronized,zt=function(pt){var Ut=Fe.calcId(),er=Pe[pt];if(!er){if(!(er=Z[Ut]))return"continue";Pe[pt]=er}if(10===er.calcKind){var Pr=Fe.calcValue();return l.fF.assert(function(){return"number"==typeof Pr},"Synchronization Index is expected to be a number"),bt.synchronizationIndex=Pr,"continue"}var mr=er.columnIndex;l.fF.assert(function(){return!0===er.isGroupKeyButNotSelect==(null==mr)},"Unexpected columnIndex");var gr=J[mr];l.fF.assert(function(){return!0===er.isGroupKeyButNotSelect==(null==gr)},"Unexpected zoneIndex");var xr=er.kind,Vr=void 0;if(xr===a.hk.Group){if(!Rt){var Qr=Fe.calcValueAsExpr();Vr=Qr.value,er.isGroupKeyButNotSelect||(It[gr]={value:Vr,levelSourceIndex:gr}),et.addExpr(Ut,Qr)}}else if(xr===a.hk.Measure){l.fF.assertValue(er.selectIdx,"Measure Calc ".concat(Ut," on DataMember instances must be related to a Select"));var Gr=Kt.measuresGroupingScopeBySelectIndex[er.selectIdx];l.fF.assertValue(Gr,"Calc ".concat(Ut," has an undefined grouping scope")),l.fF.assert(function(){return 0===Gr.secondary},"Calc ".concat(Ut," is grouped by Secondary while appearing on DataMember")),l.fF.assert(function(){return 0===X},"Measure Calcs cannot appear on Secondary Hierarchy DataMembers");var Jr,Hr=void 0;0===Ze&&Gr.primary===St.length?(Jr=we,null==bt.values&&(Hr=bt.values={}),Hr=bt.values):(Jr=St[ze].valueSources[0].length,bt.nodeValues||(bt.nodeValues={0:{}}),Hr=bt.nodeValues[0]),l.fF.assert(function(){return gr<Jr},"Measure index out-of-bound");var Zr=Hr[gr];Zr||(Zr=Hr[gr]={},gr>0&&(Zr.valueSourceIndex=gr)),Vr=Fe.calcValue(),Kt.readNodeValueCalc(Zr,Vr,er),Kt.scopedAggregatesEnabled&&er.scopedAggregateCalcMetadata&&Kt.setScopeAggregateValue(bt,Vr,er,St[ze-1]),Oe&&(2===er.calcKind||5===er.calcKind)&&(l.fF.assertValue(de.aggregateCalcMetadata[Ut],"Grand Total AggregateMetadata is undefined"),c.A1.fillMetadataColumnAggregate(Vr,qe[Ut]))}else l.fF.assertFail("Unexpected SelectKind");if(!Rt&&er.hasDuplicateColumnIndices)for(var Or=0,Ur=de.calcIdToColumnIndices[Ut];Or<Ur.length;Or++){var ai=J[Ur[Or]];It[ai]||(It[ai]={value:Vr,levelSourceIndex:ai})}},Kt=this,Yt=0;Fe.nextCalc();Yt++)zt(Yt);if(!rt&&!Rt){bt.levelValues=It,bt.value=It[0].value,bt.identity=et.getIdentity();var ir=Fe.restartKind();ir&&(1===ir?bt.restartKind=1:2===ir?bt.restartKind=2:3===ir&&(bt.restartKind=3),bt.restartKind&&(l.fF.assertValue(at,"An instance with RestartKind must belong to a DataMember with RestartIdentity"),bt.restartValues=at.getRestartValues(Fe)))}var lr=Fe.intersections(),dr=Fe.members();if(lr)l.fF.assert(function(){return null==dr},"non-leaf node with intersections"),this.readIntersectionsValues(Z,J,we,bt,lr);else if(dr){if(l.fF.assert(function(){return null==lr},"non-leaf node with intersections"),this.readNodeChildren(de,Z,J,Ve,xe,bt,dr,ze+1,X,we,Ze,St,Ie),te.isSynchronized&&!_.isEmpty(bt.children)){var br=bt.children[0].synchronizationIndex;void 0!==br&&(bt.synchronizationIndex=br)}}else 1===X&&we>1&&(ze===Ze-1||bt.isSubtotal)&&this.createColumnHierarchyMeasuresNodes(bt);return bt},We.prototype.setScopeAggregateValue=function(de,te,Ve,xe){l.fF.assertValue(de,"node"),l.fF.assert(function(){return void 0!==te},"calcValue"),l.fF.assertValue(Ve,"calcInfo");var Fe,Z=Ve.scopedAggregateCalcMetadata,J=this.findDataViewNodeAggregates(de,Z.metadata);switch(Ve.calcKind){case 7:Fe=J.values;break;case 8:Fe=J.highlight;break;default:l.fF.assertFail("Invalid Aggregate CalcInfo.")}switch(Z.aggregateKind){case 2:Fe.max=te;break;case 3:Fe.min=te;break;case 6:Fe.avg=te;break;default:l.fF.assertFail("Unexpected DataViewAggregateKind.")}var ze=Z.metadata,rt=xe.aggregates;rt?_.some(rt,function(Pe){return Pe.column===ze.column&&C.sameScopedAggregatesInputScope(Pe.inputScope,ze.inputScope)&&Pe.respectInstanceFilters===ze.respectInstanceFilters})||rt.push(ze):xe.aggregates=[ze]},We.prototype.findDataViewNodeAggregates=function(de,te){var xe,Ve=de.aggregateValues;return Ve?(xe=_.find(Ve,function(Z){var J=Z.metadata;return J.column===te.column&&C.sameScopedAggregatesInputScope(J.inputScope,te.inputScope)&&J.respectInstanceFilters===te.respectInstanceFilters}))||Ve.push(xe={metadata:te,values:{},highlight:{}}):de.aggregateValues=[xe={metadata:te,values:{},highlight:{}}],xe},We.prototype.readIntersectionsValues=function(de,te,Ve,xe,Z){if(0!==Ve)for(var J=xe.values={},Fe=0;Z.next();){for(var ze=0;ze<Ve;ze++){var rt=J[Ve*Fe+ze]={};ze>0&&(rt.valueSourceIndex=ze)}for(;Z.nextCalc();){var Oe=de[Z.calcId()];if(Oe){var Pe=te[Oe.columnIndex];l.fF.assertValue(Pe,"Intersection calculation has no matching column index"),l.fF.assertValue(rt=J[Ve*Fe+Pe],"nodeValue not found"),this.readNodeValueCalc(rt,Z.calcValue(),Oe)}}Fe++}},We.prototype.readNodeValueCalc=function(de,te,Ve){switch(l.fF.assertValue(de,"nodeValue"),l.fF.assert(function(){return void 0!==te},"calcValue"),l.fF.assertValue(Ve,"calcInfo"),Ve.calcKind){case 1:case 4:de.value=te,this.aggregator.update(te,Ve.selectIdx);break;case 2:case 5:de.value=te;break;case 3:case 6:case 9:de.highlight=te;break;case 7:case 8:case 10:break;default:l.fF.assertNever(Ve.calcKind)}},We.prototype.createRowHierarchyForNoGroupings=function(de){var te={level:0,values:{}},Ve={levels:[],root:{children:[te]}};l.fF.assert(function(){return 1===de.count()},"DSR with no groupings should have one DataMember"),de.next();var xe=de.instances();return l.fF.assertValue(xe,"instancesParser"),this.readNodeForNoGroupings(te,xe),Ve},We.prototype.readNodeForNoGroupings=function(de,te){l.fF.assert(function(){return 1===te.count()},"DSR with no groupings should have one Instance");var Ve=this.context.calcInfo,xe=this.columnIndexToZoneIndex;te.next();for(var Z=de.values={};te.nextCalc();){var Fe=Ve[te.calcId()];if(Fe){var ze=xe[Fe.columnIndex],rt=Z[ze];rt||(rt=Z[ze]={},ze>0&&(rt.valueSourceIndex=ze)),this.readNodeValueCalc(rt,te.calcValue(),Fe)}}},We.prototype.createColumnHierarchyForNoGroupings=function(){var de=[],te={};return this.valueSources.length>0&&(de=[this.createColumnHierarchyMeasuresLevel()],this.createColumnHierarchyMeasuresNodes(te)),{levels:de,root:te}},We.prototype.createColumnHierarchyMeasuresLevel=function(){for(var de=this.valueSources.length,te=new Array(de),Ve=0;Ve<de;Ve++)te[Ve]=this.valueSources[Ve];return{sources:te}},We.prototype.createColumnHierarchyMeasuresNodes=function(de){for(var te=null==de.level?0:this.context.maxSecondaryDepth,Ve=this.valueSources.length,xe=de.children=new Array(Ve),Z=de.isSubtotal,J=0;J<Ve;J++){var Fe=xe[J]={level:te};J>0&&(Fe.levelSourceIndex=J),Z&&(Fe.isSubtotal=!0)}},We.prototype.readValueSources=function(de){var te=this,Ve=this.context,xe=Ve.selects,Z=Ve.measureSelectIndices,J=Z.length,Fe=Ve.selectIndexToColumn,ze=Ve.selectIndexToColumnIndex,rt=this.columnIndexToZoneIndex;l.fF.assertValue(Z,"measureSelectIndices"),this.valueSources=[],this.measuresGroupingScopeBySelectIndex={};var Oe={};if(de.calcCount()>0){for(;de.nextCalc();)Oe[de.calcId()]=!0;de.restartCalcs()}for(var Pe=function(et){var at=Z[et],St=xe[at];l.fF.assert(function(){return St.Kind===a.hk.Measure},"Expected a Measure Select"),l.fF.assertValue(St.Value,"Every Measure Select must have a Calc Id");var Ie=ze[at],qe=X.measuresGroupingScopeBySelectIndex[at]=X.getMeasureGroupingScope(St,Oe[St.Value]);if(!qe)return"continue";var bt=qe.primary,It=qe.secondary,Rt=void 0;if(bt===X.context.maxPrimaryDepth&&It===X.context.maxSecondaryDepth)Rt=X.valueSources;else{l.fF.assert(function(){return 0===It},"Currently, Arbitrary-scoping of measures only supports suppresing projections on all Secondary"),l.fF.assert(function(){return bt<=te.primaryHierarchyLevels.length},"Arbitrary-scope cannot be more specific than inner-most scope");var zt=X.primaryHierarchyLevels[bt-1];zt.valueSources||(zt.valueSources={0:[]}),Rt=zt.valueSources[0]}var Kt=Fe[at];if(l.fF.assertValue(Kt,"Measure column not found"),rt[Ie]=Rt.length,Rt.push(Kt),St.DynamicFormat&&St.DynamicFormat.Format){var Yt=Kt.formatSource&&Kt.formatSource.formatString;l.fF.assertValue(Yt,"DynamicFormat column not found"),rt[Ie+1]=Rt.length,Rt.push(Yt)}},X=this,we=0;we<J;we++)Pe(we)},We.prototype.getMeasureGroupingScope=function(de,te){return null==de.Depth&&null==de.SecondaryDepth?te?null:{primary:this.context.maxPrimaryDepth,secondary:this.context.maxSecondaryDepth}:{primary:null!=de.Depth?de.Depth+1:0,secondary:null!=de.SecondaryDepth?de.SecondaryDepth+1:0}},We.prototype.ensureRowNodeSynchronization=function(de,te){var Ve=this;if(l.fF.assert(function(){return!Ve.isRowLeaf(de)},"Attempting to traverse Hierarchy beyond leaves"),!this.isRowLeaf(de)){var xe=this.primarySynchronizedGroupByLevel[te];if(xe)return void this.synchronizeNodeChildren(de,xe.root);var Z=de.children;l.fF.assertNonEmpty(Z,"Jagged hierarcy found!");for(var J=te+1,Fe=0,ze=Z;Fe<ze.length;Fe++)this.ensureRowNodeSynchronization(ze[Fe],J)}},We.prototype.synchronizeNodeChildren=function(de,te){if(!this.isRowLeaf(de)){var Ve=de.level+1,xe=te.children;if(_.isEmpty(xe))return void this.ensureRowNodeSynchronization(de,Ve);var Z=xe.length,J=de.children||[],Fe=new Array(Z);de.children=Fe;var rt,Oe,ze=0;Oe=null==(rt=ze<J.length?J[ze]:void 0)?void 0:rt.synchronizationIndex;for(var Pe=0;Pe<Z;Pe++){var X=xe[Pe],we=X.synchronizationIndex,Ze=this.copyFromMasterNode(X);Ze.level=Ve,Fe[Pe]=Ze,rt&&Oe===we?(l.fF.assert(function(){return rt.level===Ve},"A child node's level must come immediately after its parents level"),this.copyFromExistingNode(rt,Ze),this.synchronizeNodeChildren(Ze,X),ze++,Oe=null==(rt=ze<J.length?J[ze]:void 0)?void 0:rt.synchronizationIndex):void 0===Oe||we<Oe?this.isRowLeaf(Ze)||(Ze.children=[],this.synchronizeNodeChildren(Ze,X)):l.fF.assertFail("Unsynchronized nodes should be a subset of master list nodes.")}}},We.prototype.copyFromMasterNode=function(de){var te={};if(te.synchronizationIndex=de.synchronizationIndex,de.identity&&(te.identity=de.identity),void 0!==de.value&&(te.value=de.value),void 0!==de.isSubtotal&&(te.isSubtotal=de.isSubtotal),de.levelValues){var Ve=de.levelValues.length;te.levelValues=new Array(Ve);for(var xe=0;xe<Ve;xe++){var Z=de.levelValues[xe];te.levelValues[xe]={value:Z.value,levelSourceIndex:Z.levelSourceIndex}}}return void 0!==de.restartKind&&(te.restartKind=de.restartKind),void 0!==de.restartValues&&(te.restartValues=de.restartValues),te},We.prototype.copyFromExistingNode=function(de,te){de.aggregateValues&&(te.aggregateValues=de.aggregateValues),de.values&&(te.values=de.values),de.nodeValues&&(te.nodeValues=de.nodeValues),l.fF.assert(function(){return!(_.isEmpty(de.children)&&!_.isEmpty(te.children))},"A non-leaf master node matches a leaf node"),de.children&&(te.children=de.children),de.childIdentityFields&&!te.childIdentityFields&&(te.childIdentityFields=de.childIdentityFields)},We.prototype.isRowLeaf=function(de){return!(de.level!==this.context.maxPrimaryDepth-1&&!de.isSubtotal||(l.fF.assert(function(){return _.isEmpty(de.children)},"A leaf node should not have children"),0))},We}(),P=function(){function We(de,te){this.context=de,this.dsrParser=te,this.aggregator=new r(de)}return We.prototype.run=function(){return this.parseSingle()},We.prototype.parseSingle=function(){var de=this.dsrParser;de.reset();var te=de.dataShapes(),Ve=te.next();return l.fF.assert(function(){return Ve},"There must be a DataShape"),this.aggregator.read(te,!1),this.aggregator.copyToColumns(),0===this.context.maxPrimaryDepth?this.parseMeasureValue(te.primaryHierarchy()):this.parseSubtotal(te.primaryHierarchy())},We.prototype.parseMeasureValue=function(de){for(l.fF.assert(function(){return 1===de.count()},"call parseMeasureValue only when there's one datamember with no grouping");de.next();)return this.parseInstance(de.instances())},We.prototype.parseSubtotal=function(de){for(;de.next();)if(2===this.context.dataMemberIdToMetadata[de.id()].kind)return this.parseInstance(de.instances())},We.prototype.parseInstance=function(de){for(var xe,Z,te=this.context,Ve=te.calcInfo;de.next();)for(;de.nextCalc();){var J=de.calcId(),Fe=Ve[J];if(Fe){var ze=Fe.calcKind,rt=2===ze;(1===ze||rt)&&(xe=de.calcValue(),Z=Fe.selectIdx,rt&&(l.fF.assertValue(te.aggregateCalcMetadata[J],"AggregateCalcMetadata for calc must exist."),c.A1.fillMetadataColumnAggregate(xe,te.aggregateCalcMetadata[J])))}}if(void 0!==xe)return{column:te.selectIndexToColumn[Z],value:xe}},We.isCompatible=function(de){return 0===de.maxSecondaryDepth&&1===de.measureSelectIndices.length},We}(),E=function(){function We(de,te,Ve){this.context=de,this.dsrParser=te,this.metadata=Ve,l.fF.assertValue(de,"context"),l.fF.assertValue(te,"dsrParser"),l.fF.assertValue(Ve,"metadata"),this.aggregator=new r(de)}return We.prototype.run=function(){if(this.isCompatible()){var te={columns:this.metadata.columns},Ve=this.dsrParser;Ve.reset();var xe=Ve.dataShapes(),Z=xe.next();l.fF.assert(function(){return Z},"There must be a DataShape");var J=this.aggregator;J.read(xe);var Fe=xe.primaryHierarchy();return 1===this.context.maxPrimaryDepth?this.readRows(te,Fe):0===this.context.maxPrimaryDepth?this.readRowWithoutGrouping(te,Fe):l.fF.assert(function(){return!1},"Upsupported maxPrimaryDepth value"),J.copyToColumns(),te}},We.prototype.readRows=function(de,te){var xe,J,Ve=this.context,Z=this.getRowCellsCount(te);for(te.reset();te.next();){var Fe=te.id(),ze=Ve.dataMemberIdToMetadata[Fe];if(ze){var rt=ze.kind,Oe=te.instances(),Pe=[];if(1===rt){var X=Ve.dataMemberIdToIdentityBuilder[Fe];X||(X=Ve.dataMemberIdToIdentityBuilder[Fe]=new i(Ve,Fe));var we=ze.axisGrouping,Ze=Oe.count();xe=new Array(Ze);for(var et=new Array(Ze),at=0;Oe.next();at++)1===Oe.restartFlagKind()&&(J=at),X.reset(),xe[at]=this.readRow(Oe,we,Pe,Z,X,!1),et[at]=X.getIdentity();_.isEmpty(et)||(de.identity=et),de.identityFields=X.getIdentityFields()}else if(2===rt){if(0===Z)continue;for(;Oe.next();){l.fF.assert(function(){return null==de.totals},"Totals can only be assigned once.");var St=this.readRow(Oe,null,Pe,Z,null,!0),Ie=St.length;for(at=0;at<Ie;at++)void 0===St[at]&&(St[at]=null);de.totals=St}}else l.fF.assert(function(){return!1},"Unsupported DataMemberKind");de.rows=xe,void 0!==J&&(de.lastMergeIndex=J)}}},We.prototype.readRow=function(de,te,Ve,xe,Z,J){var rt,Fe=this.aggregator,ze=new Array(xe),Oe=0===Ve.length;Oe&&te&&(l.fF.assert(function(){return de.calcCount()>0},"No DataShape with a single primary DataMember should ever have a DataMember instance with no calculations."),rt=this.createCalcIdToGroupingIdentityIndexMap(te),Ve.length=de.calcCount());for(var Pe=this.context,X=Pe.aggregateCalcMetadata,we=0;de.nextCalc();we++){var Ze=de.calcId();if(Oe){var et=rt&&rt[Ze],at=Pe.calcInfo[Ze],St=at&&at.columnIndex;at&&(3===at.calcKind||6===at.calcKind||9===at.calcKind)&&(St=null),Ve[we]={axisGroupingIndex:et,columnIndex:St,hasDuplicateColumnIndices:at&&at.hasDuplicateColumnIndices,isGroupKeyOnly:null!=et&&null==St,selectIndex:at&&at.selectIdx,aggregateMetadata:X[Ze]}}var qe=Ve[we];if(null!=qe.columnIndex){var bt=de.calcValue();if(ze[qe.columnIndex]=bt,J?c.A1.fillMetadataColumnAggregate(bt,qe.aggregateMetadata):Fe.update(bt,qe.selectIndex),qe.hasDuplicateColumnIndices)for(var It=0,Rt=Pe.calcIdToColumnIndices[Ze];It<Rt.length;It++){var zt=Rt[It];void 0===ze[zt]&&(ze[zt]=bt)}}Z&&Z.addExpr(Ze,de.calcValueAsExpr())}return ze},We.prototype.readRowWithoutGrouping=function(de,te){if(l.fF.assert(function(){return te.count()<=1},"There must be maximum one DataMember, because SubTotalMember are not supported without grouping."),te.next()){var Ve=te.instances(),xe=[];if(l.fF.assert(function(){return Ve.count()<=1},"There must be maximum one DataMemberInstance since there is no grouping."),Ve.next()){for(var Z=[];Ve.nextCalc();){var J=Ve.calcId(),Fe=this.context.calcInfo[J];Fe&&3!==Fe.calcKind&&(Z[Fe.columnIndex]=Ve.calcValue())}xe.push(Z)}de.rows=xe}},We.prototype.getRowCellsCount=function(de){for(de.reset();de.next();){var te=de.id(),Ve=this.context.dataMemberIdToMetadata[te];if(Ve&&1===Ve.kind){var xe=de.instances();if(xe.next()){for(var Z=0;xe.nextCalc();){var J=xe.calcId(),Fe=this.context.calcInfo[J];Fe&&(1===Fe.calcKind||2===Fe.calcKind)&&(Fe.hasDuplicateColumnIndices?Z+=_.size(this.context.calcIdToColumnIndices[J]):Z++)}return Z}}}return 0},We.prototype.createCalcIdToGroupingIdentityIndexMap=function(de){for(var te={},Ve=de.Keys,xe=this.context.selects,Z=Ve.length,J=0;J<Z;J++){var Fe=Ve[J];te[Fe.Calc||xe[Fe.Select].Value]=J}return te},We.prototype.isCompatible=function(){var de=this.context;return 0===de.maxSecondaryDepth&&de.maxPrimaryDepth<=1},We}(),x=function(){function We(de,te){this.context=de,this.dsrParser=te,this.calcIndexToCalcMetadataDictionary={},this.aggregator=new r(de)}return We.prototype.run=function(){if(this.isCompatible()){var de={};return this.parseTree(de),{root:de}}},We.prototype.parseTree=function(de){var te=this.dsrParser;te.reset();var Ve=te.dataShapes(),xe=Ve.next();l.fF.assert(function(){return xe},"There must be a DataShape");var Z=this.context.maxPrimaryDepth;this.aggregator.read(Ve,1===Z),0===Z?this.parseDataMembersWithNoGrouping(de,Ve.primaryHierarchy()):this.parseDataMembers(de,Ve.primaryHierarchy(),0),this.parseAggregates(de)},We.prototype.parseDataMembers=function(de,te,Ve){for(;te.next();){var xe=this.context,Z=te.id(),J=xe.dataMemberIdToMetadata[Z];if(J){var Fe=te.instances(),ze=this.calcIndexToCalcMetadataDictionary[Z];switch(ze||(this.calcIndexToCalcMetadataDictionary[Z]=ze=[]),J.kind){case 1:var rt=xe.dataMemberIdToIdentityBuilder[Z];rt||(rt=new i(xe,Z),xe.dataMemberIdToIdentityBuilder[Z]=rt);var Oe=rt.getIdentityFields();Oe&&(de.childIdentityFields=Oe),this.parseInstances(de,Fe,ze,rt,!1,Ve);break;case 2:this.parseInstances(de,Fe,ze,null,!0,Ve);break;default:l.fF.assert(function(){return!1},"Unsupported DataMemberKind")}}}},We.prototype.parseInstances=function(de,te,Ve,xe,Z,J){var Fe=this.context,ze=this.aggregator,rt=Fe.aggregateCalcMetadata,Oe=de.children;for(Z||(l.fF.assertValue(xe,"identityBuilder"),!Oe&&te.count()>0&&(Oe=de.children=new Array(te.count())));te.next();){var Pe=void 0,X=void 0,we=void 0;Z||xe.reset();var Ze=0===Ve.length;Ze&&(Ve.length=te.calcCount());for(var et=function(It){Z&&(Pe=de.values),Pe||(Pe={});var Rt=te.calcId();Ze&&(Ve[It]=Fe.calcInfo[Rt]);var Kt=Ve[It];if(!Kt)return"continue";var Yt=te.calcValue(),ir=Kt.calcKind,lr=Kt.kind,dr=Kt.selectIdx;if(Z)l.fF.assert(function(){return lr!==a.hk.Group},"subtotal cannot be of grouping kind."),at.addTreeNodeMeasureValues(Pe,dr,ir,Yt),0===J&&c.A1.fillMetadataColumnAggregate(Yt,rt[Rt]);else{var br=Kt.isGroupKeyButNotSelect;br||at.addTreeNodeMeasureValues(Pe,dr,ir,Yt),lr===a.hk.Group?(br||(we=Yt),xe.addExpr(Rt,te.calcValueAsExpr())):lr===a.hk.Measure&&1===ir&&(X=Yt,l.fF.assertValue(dr,"selectIndex"),ze.update(Yt,dr))}},at=this,St=0;te.nextCalc();St++)et(St);if(Z)de.values=Pe,1===te.restartFlagKind()&&(de.isMerge=!0);else{var Ie={values:Pe,identity:xe.getIdentity()};void 0!==we&&(Ie.name=we),void 0!==X&&(Ie.value=X),1===te.restartFlagKind()&&(Ie.isMerge=!0);var qe=te.members();qe&&this.parseDataMembers(Ie,qe,J+1),Oe[te.currentIndex()]=Ie}}},We.prototype.addTreeNodeMeasureValues=function(de,te,Ve,xe){l.fF.assertValue(te,"selectIndex");var Z=de[te];switch(!Z&&this.isSupportedMeasureType(Ve)&&(Z=de[te]={}),Ve){case 1:Z.value=xe;break;case 2:Z.subtotal=xe;break;case 3:Z.highlight=xe}},We.prototype.isSupportedMeasureType=function(de){return 1===de||2===de||3===de},We.prototype.parseDataMembersWithNoGrouping=function(de,te){l.fF.assert(function(){return 1===te.count()},"There can only be one datamember with no grouping"),te.next();var Ve=te.instances();l.fF.assert(function(){return 1===Ve.count()},"There can only be one instance for datamember with no grouping"),Ve.next();for(var xe,Z=this.context.calcInfo;Ve.nextCalc();){de.values||(de.values=xe={});var J=Z[Ve.calcId()];if(J){var Fe=J.calcKind,ze=Ve.calcValue();this.addTreeNodeMeasureValues(xe,J.selectIdx,Fe,ze),1===Fe&&(de.value=ze)}}},We.prototype.isCompatible=function(){return 0===_.size(this.context.secondaryAxisGroupings)},We.prototype.parseAggregates=function(de){var te=this.context;this.aggregator.copyToColumns();for(var Ve=te.measureSelectIndices,xe=Ve.length,Z=0;Z<xe;Z++){var J=Ve[Z],Fe=te.selectIndexToColumn[J].aggregates,ze=de.values;if(Fe){ze||(ze=de.values={});var rt=ze[J];rt||(rt=ze[J]={}),c.A1.copyAggregates(Fe,rt)}}},We}(),R=t(777220),g=t(202587),T=t(28291);function O(We,de){for(var te=[],Ve={},xe=0,Z=We;xe<Z.length;xe++){var J=Z[xe],Fe={id:J.Id,name:J.Name,component:J.Component,pageHidden:void 0,start:(0,T.Kk)(J.Start).valueOf(),end:J.End?(0,T.Kk)(J.End).valueOf():void 0,metrics:J.Metrics,status:1,rootId:de,parentId:J.ParentId};J.ParentId?(Ve[J.ParentId]||(Ve[J.ParentId]=[]),Ve[J.ParentId].push(Fe)):te.push(Fe)}return N(te,Ve),te}function N(We,de){for(var te=0,Ve=We;te<Ve.length;te++){var xe=Ve[te];de[xe.id]&&(xe.children=de[xe.id],N(xe.children,de))}}var A=t(700954),I=t(973188),B=t(553474),U=t(408514),W=t(347996);function K(We,de){if(We.metadata.dataReduction={},We.categorical){var te=We.metadata.dataReduction.categorical={};de.Primary&&(te.categories=ee(de.Primary)),de.Secondary&&(te.values=ee(de.Secondary)),de.Intersection&&(te.metadata=ee(de.Intersection))}We.matrix&&(te=We.metadata.dataReduction.matrix={},de.Primary&&(te.rows=ee(de.Primary)))}function ee(We){switch(We.Type){case 3:return{binnedLineSample:{}};case 4:return{overlappingPointsSample:{}};default:return{}}}function he(We,de){l.fF.assertValue(We,"node");var te=We.values;te||(te=We.values={});var Ve=te[de];return Ve||(Ve=te[de]={}),Ve}function Y(We,de,te,Ve){l.fF.assertValue(We,"context"),l.fF.assertValue(te,"dataShape"),l.fF.assertValue(Ve,"metadata"),l.fF.assert(function(){return We.includes(2)},"context.includes(StandardDataViewKinds.Matrix)");var xe=(0,d.BL)("DSR.matrix(".concat(We.perfId,")")),Z=[],J=[],Fe=[];!function(We,de,te,Ve,xe){l.fF.assertValue(xe,"metadataColumns");for(var Z=We.selects,J=0,Fe=Z.length;J<Fe;J++){var ze=Z[J];if(ze){var rt=me(We,xe,J);if(ze.Kind===a.hk.Measure)Ve.push(rt);else if(null!=ze.Depth){var Oe=de[ze.Depth];null!=Oe?Oe.sources.push(rt):de[ze.Depth]=G([rt])}else if(null!=ze.SecondaryDepth){var Pe=te[ze.SecondaryDepth];null!=Pe?Pe.sources.push(rt):te[ze.SecondaryDepth]=G([rt])}ze.DynamicFormat&&ze.DynamicFormat.Format&&(l.fF.assertValue(rt.formatSource&&rt.formatSource.formatString,"metadataColumn.formatSource.formatString"),Ve.push(rt.formatSource.formatString))}}var X=Ve.length;(X>1||X>0&&(0===de.length||0===te.length))&&te.push(G(Ve))}(We,Z,J,Fe,Ve.columns);var ze=[],rt=function(We,de,te,Ve,xe,Z){if(!xe.SecondaryHierarchy||0===xe.SecondaryHierarchy.length){var J={};return Je(J,te,0,!1),J}var Fe;Ve&&Ve.Secondary&&(Fe=Ve.Secondary.Groupings);var ze=_e(We,de,xe.SecondaryHierarchy,Fe,function(rt,Oe,Pe,X,we){if(we<de.length)if(X.isSubtotal){var Ze=de.length-1,et=de[Ze].sources.length;et>1&&Je(X,et,Ze,!0)}else l.fF.assert(function(){return we===de.length-1},"We only support one extra level in the column hierarchy (for measures)"),Je(X,de[we].sources.length,we,!1);Z.push(Ne(X)),We.stats.secondary++});return ze}(We,J,Fe.length,de,te,ze),Oe=function(We,de,te,Ve,xe){if(Ve.PrimaryHierarchy&&0!==Ve.PrimaryHierarchy.length){var Z;te&&te.Primary&&(Z=te.Primary.Groupings);var J=0,Fe=0;te&&(J=Ye(te.Primary),Fe=Ye(te.Secondary));var ze=_.filter(We.selects,function(Oe){return Oe&&Oe.Kind===a.hk.Measure}),rt=_e(We,de,Ve.PrimaryHierarchy,Z,function(Oe,Pe,X,we,Ze){(function(We,de,te,Ve,xe,Z,J){l.fF.assertValue(te,"instance"),l.fF.assertValue(Ve,"node"),l.fF.assertValue(xe,"intersectionToSecondaryAggIdx");var Fe=te.Intersections,ze={index:0};if(Fe)for(var rt=0,Oe=Fe.length;rt<Oe;rt++)Fe[rt].Calculations&&Ce(We,de,Fe[rt].Calculations,Ve,ze,xe[rt],Z,J);else Ce(We,de,te.Calculations,Ve,ze,0,Z,J)})(Pe,ze,X,we,xe,J,Fe),Oe.stats.primary++});return rt}}(We,Z,de,te,ze),we={rows:{root:Oe,levels:Z},columns:{root:rt,levels:J},valueSources:Fe};return xe(),we}function G(We){l.fF.assertValue(We,"metadataColumns");for(var de={sources:[]},te=0,Ve=We.length;te<Ve;te++)de.sources.push(We[te]);return de}function me(We,de,te){l.fF.assertValue(de,"metadataColumns");for(var Ve=0,xe=de.length;Ve<xe;Ve++){var Z=de[Ve];if(Z&&Z.index===te&&void 0===Z.groupName)return Z}return We.createColumns(de,te)}function Ne(We){return l.fF.assertValue(We,"node"),We.isSubtotal?We.level:We.level+1}function Ye(We){return l.fF.assertAnyValue(We,"axis"),We&&We.Groupings?We.Groupings.length:0}function Je(We,de,te,Ve){We.children=[];for(var xe=0;xe<de;xe++){var Z={level:te};xe>0&&(Z.levelSourceIndex=xe),We.children.push(Z),Ve&&(Z.isSubtotal=!0)}}function _e(We,de,te,Ve,xe){l.fF.assertValue(We,"context");var Z={};return pe(We,de,Z,te,Ve,0,xe),Z}function pe(We,de,te,Ve,xe,Z,J){if(l.fF.assertValue(We,"context"),l.fF.assertValue(te,"node"),l.fF.assertValue(Z,"depth"),Ve)for(var Fe=We.selects,ze=function(We,de){l.fF.assertAnyValue(We,"levelSources"),l.fF.assertValue(de,"depth");var te=[],Ve=We&&We[de]&&We[de].sources;if(!_.isEmpty(Ve))for(var xe=0,Z=Ve.length;xe<Z;xe++){var J=Ve[xe];l.fF.assertValue(J.index,"pre-condition: sourceMetadataColumn.index is defined"),te[J.index]=xe}return te}(de,Z),rt=0,Oe=Ve.length;rt<Oe;rt++)for(var Pe=Ve[rt],X=0,we=0,Ze=Pe.Instances.length;we<Ze;we++){var et=Pe.Instances[we];if(0===X&&4===(X=ye(Fe,xe,Z,Pe,et)))break;var at={level:Z};if(te.children||(te.children=[]),te.children.push(at),1===X){var St=oe(Fe,et.Calculations,ze);if(!_.isEmpty(St)){at.levelValues=St;var Ie=_.last(St);at.value=Ie.value,Ie.levelSourceIndex>0&&(at.levelSourceIndex=Ie.levelSourceIndex)}}else 3===X&&(at.isSubtotal=!0);et.RestartFlag&&1===et.RestartFlag&&(at.isMerge=!0),xe&&1===X&&(te.childIdentityFields=We.readKeys(xe,Z),at.identity=We.readIdentity(xe,et,Z));var qe=et.Members;qe&&qe.length>0?pe(We,de,at,qe,xe,Z+1,J):J&&J(We,X,et,at,Z+1)}}function oe(We,de,te){l.fF.assertValue(We,"selects"),l.fF.assertValue(de,"calculations"),l.fF.assertNonEmpty(te,"selectIndexToLevelSourceIndexMapping should be non-empty for dynamic groups");for(var Ve,xe=0,Z=We.length;xe<Z;xe++){var J=We[xe];if(J&&J.Value&&J.Kind===a.hk.Group){var Fe=c.A1.findAndParseCalculation(de,J.Value);void 0!==Fe&&(Ve||(Ve=[]),Ve.push({levelSourceIndex:te[xe],value:Fe}))}}return Ve}function ye(We,de,te,Ve,xe){if(l.fF.assertValue(We,"selects"),l.fF.assertValue(Ve,"member"),de&&de.length>te&&null!=Ve.Id){var Z=de[te];if(Ve.Id===Z.Member)return 1;if(Ve.Id===Z.SubtotalMember)return 3}var J=xe.Calculations;if(J){for(var Fe=!1,ze=0,rt=We.length;ze<rt;ze++){var Oe=We[ze];if(Oe&&c.A1.findCalculation(J,Oe.Value)){if(Oe.Kind===a.hk.Group)return 1;!Fe&&Oe.Kind===a.hk.Measure&&(Fe=!0)}}if(Fe)return 2}return 4}function Ce(We,de,te,Ve,xe,Z,J,Fe){if(l.fF.assertValue(de,"selects"),l.fF.assertValue(Ve,"node"),te)for(var ze={index:0},rt=function(we,Ze){var et=de[we];l.fF.assert(function(){return et.Kind===a.hk.Measure},"measureSelects is expected to have measure select bindings only");var at=et.Highlight,Ie=at&&at.DynamicFormat&&at.DynamicFormat.Format;if(Be(We,te,Ve,xe,ze,Z,J,Fe,0,et.Value,at&&at.Value,et.Subtotal),et.DynamicFormat&&et.DynamicFormat.Format){var qe=_.map(et.SubtotalDynamicFormat,function(bt){return bt&&bt.Format});Be(We,te,Ve,xe,ze,Z,J,Fe,0,et.DynamicFormat.Format,Ie,qe)}},Oe=0,Pe=de.length;Oe<Pe;Oe++)rt(Oe)}function Be(We,de,te,Ve,xe,Z,J,Fe,ze,rt,Oe,Pe){l.fF.assertValue(xe,"measureIndex");var X=he(te,Ve.index),we=null;if(3!==We&&(we=c.A1.findAndParseCalculation(de,rt)),null==we){var et=function(We,de,te,Ve,xe,Z){if(de){var J=c.A1.computeAggIdx(te,Ve,xe,Z);if(J<de.length)return c.A1.findAndParseCalculation(We,de[J])}}(de,Pe,Ne(te),Z,J,Fe);void 0!==et&&(we=et)}Oe&&(X.highlight=c.A1.findAndParseCalculation(de,Oe)),X.value=we,xe.index>0&&(X.valueSourceIndex=xe.index),Ve.index++,xe.index++}var ce=function(){function We(de){l.fF.assertValue(de,"context"),this._context=de}return We.prototype.read=function(de,te,Ve){var xe=this;l.fF.assertValue(te,"dataShape");var Z={metadata:{columns:[]}};return Ve.script=(0,d.zb)(function(){if(te.PrimaryHierarchy&&te.PrimaryHierarchy.length>0){var J=te.PrimaryHierarchy[0];if(J&&J.Instances.length>0){var Oe=c.A1.findCalculation(J.Instances[0].Calculations,xe._context.scriptVisualBinding.PayloadCalculationId||xe._context.scriptVisualBinding.ImageCalculationId);if(Oe){var X=(0,U.K0)(Oe.Value);X&&(Z.scriptResult={payloadBase64:X})}}}}),Z},We}(),ve=function(){function We(de){l.fF.assertValue(de,"context"),this.context=de}return We.prototype.read=function(de,te,Ve){var xe=this;l.fF.assertValue(te,"dataShape");var Z=this.context,J=this.readMetadata(te.IsComplete),Fe={metadata:J},ze=Z.includes(16),rt=Z.includes(1),Oe=Z.includes(4),Pe=Z.includes(8);if(ze||rt||Oe||Pe){var X,we=(0,d.zb)(function(){X=xe.parseTree(J.columns,de,te),l.fF.assertValue(X,"root")});ze&&(Ve.tree=we+(0,d.zb)(function(){var Ze=xe.createTree(J,X);Ze&&(Fe.tree=Ze)})),rt&&(Ve.categorical=we+(0,d.zb)(function(){var Ze=xe.categorize(J,X);Ze&&(Fe.categorical=Ze)})),Oe&&(Ve.single=we+(0,d.zb)(function(){var Ze=xe.createSingleValue(J,X);Ze&&(Fe.single=Ze)})),Pe&&(Ve.table=we+(0,d.zb)(function(){var Ze=xe.createTable(J,X);Ze&&(Fe.table=Ze)}))}return Z.includes(2)&&(Ve.matrix=(0,d.zb)(function(){var Ze=Y(xe.context,de,te,Fe.metadata);Ze&&(Fe.matrix=Ze)})),Fe},We.prototype.readMetadata=function(de){for(var te={columns:[]},Ve=this.context,xe=Ve.selects,Z=0,J=xe.length;Z<J;Z++)xe[Z]?Ve.createColumns(te.columns,Z):Ve.actionHistory|=1;return de||(te.segment={}),te},We.prototype.parseTree=function(de,te,Ve){var xe=(0,d.BL)("DSR.tree(".concat(this.context.perfId,")")),Z={},J=this.context.selects;this.parseRootAggregates(de,Z);var Fe=c.A1.getTopLevelPrimaryDynamicMember(Ve,te,!0);if(Fe){var ze=Ve.PrimaryHierarchy[0];Fe!==ze&&this.parseValues(J,Z,We.getFirstInstanceCalcs(ze));var rt=void 0;te&&te.Primary&&(rt=te.Primary.Groupings),this.parseRecursive(Z,Fe,rt,0,de)}else _.isEmpty(Ve.PrimaryHierarchy)||this.parseValues(J,Z,We.getFirstInstanceCalcs(Ve.PrimaryHierarchy[0]));return xe(),Z},We.prototype.parseRecursive=function(de,te,Ve,xe,Z){l.fF.assertValue(de,"node"),l.fF.assertValue(te,"dynamicMember"),l.fF.assertValue(xe,"depth"),l.fF.assertAnyValue(Z,"columns");var rt,J=this.context,Fe=te.Instances,ze=Fe.length;ze&&(de.children=[],0===xe&&(rt=He.create(de,J))),Ve&&(de.childIdentityFields=J.readKeys(Ve,xe));for(var Oe=0;Oe<ze;Oe++){var Pe=Fe[Oe],X={};de.children.push(X),Pe.RestartFlag&&1===Pe.RestartFlag&&(X.isMerge=!0),this.parseValues(J.selects,X,Pe.Calculations,rt),Ve&&(X.identity=J.readIdentity(Ve,Pe,xe));var we=Pe.Members;if(this.parseAggregates(J.selects,X,Pe.Calculations,we,xe+1),!_.isEmpty(we)){var Ze=c.A1.getDynamicMember(we,Ve,xe+1);Ze&&this.parseRecursive(X,Ze,Ve,xe+1)}}rt&&rt.complete(Z)},We.getFirstInstanceCalcs=function(de){l.fF.assertValue(de,"member");var te=de.Instances;return te.length>0?te[0].Calculations:null},We.prototype.parseRootAggregates=function(de,te){l.fF.assertValue(de,"columns"),l.fF.assertValue(te,"node");for(var Ve=0,xe=de.length;Ve<xe;Ve++){var J=de[Ve].aggregates;J&&c.A1.copyAggregates(J,he(te,Ve))}},We.prototype.parseAggregates=function(de,te,Ve,xe,Z){l.fF.assertValue(de,"selects"),l.fF.assertValue(te,"node"),l.fF.assertAnyValue(Ve,"calculations"),l.fF.assertAnyValue(xe,"allMembers");for(var J=0,Fe=de.length;J<Fe;J++){var ze=de[J];if(ze){var rt=mt(ze,Ve,xe,Z);rt&&c.A1.copyAggregates(rt,he(te,this.context.selectIndexToColumnIndexMap[J]))}}},We.prototype.parseValues=function(de,te,Ve,xe){if(l.fF.assertValue(de,"selects"),l.fF.assertValue(te,"node"),l.fF.assertAnyValue(Ve,"calculations"),!_.isEmpty(Ve))for(var Z=0,J=0,Fe=de.length;Z<Fe;Z++){var ze=de[Z];if(ze){if(ze.Value&&void 0!==(rt=c.A1.findAndParseCalculation(Ve,ze.Value))&&(ze.Kind===a.hk.Group?te.name=rt:(te.value=rt,xe&&xe.add(J,rt)),he(te,J).value=rt),ze.Highlight){var Oe=c.A1.findAndParseCalculation(Ve,ze.Highlight.Value);void 0!==Oe&&(he(te,J).highlight=Oe)}if(J++,ze.DynamicFormat&&ze.DynamicFormat.Format){var rt=c.A1.findAndParseCalculation(Ve,ze.DynamicFormat.Format);he(te,J).value=rt,J++}}}},We.prototype.categorize=function(de,te){if(l.fF.assertValue(de,"metadata"),!this.canCategorize())return null;for(var Z,Ve=(0,d.BL)("DSR.categorical(".concat(this.context.perfId,")")),xe={},J=0,Fe=de.columns.length;J<Fe;J++){var ze=de.columns[J];if(void 0!==ze.index){if(!ze.isMeasure){Z||(Z=[]),Z.push({columnIndex:J,metadataColumn:ze});continue}var rt={source:ze,values:[]},Oe=ze.aggregates;Oe&&c.A1.copyAggregates(Oe,rt),xe.values||(xe.values=(0,h.Yv)()),xe.values.push(rt)}}if(Z){xe.categories=[];for(var Pe=void 0,X=0,we=Z.length;X<we;X++){var Ze=Z[X],et=te.children,at={source:Ze.metadataColumn,values:[]};if(et)for(var St=0,Ie=et.length;St<Ie;St++){var qe=et[St];at.values.push(qe.values[Ze.columnIndex].value),0===X&&(this.writeCategoricalValues(de,qe,xe.values),qe.identity&&(Pe||(Pe=[]),Pe.push(qe.identity))),qe.isMerge&&(xe.lastMergeIndex=St)}Pe&&(at.identity=Pe),te.childIdentityFields&&(at.identityFields=te.childIdentityFields),xe.categories.push(at)}}else this.writeCategoricalValues(de,te,xe.values);return Ve(),xe},We.prototype.canCategorize=function(){for(var te=this.context.selects,Ve=0,xe=te.length;Ve<xe;Ve++){var Z=te[Ve];if(Z&&Z.Depth>0)return!1}return!0},We.prototype.createTree=function(de,te){var Ve=this.context;if(!(2&Ve.actionHistory||1&Ve.actionHistory))return{root:te};var xe=(0,f.ED)(te),Z=de.columns,J=te.values;if(J){for(var Fe={},ze=0;ze<Z.length;ze++){var rt=Z[ze];void 0!==rt.index&&void 0!==J[ze]&&(Fe[rt.index]=J[ze])}xe.values=Fe}var Oe=te.children;return Oe&&(xe.children=this.removeFormatSourceFromTreeChildren(Z,Oe)),{root:xe}},We.prototype.removeFormatSourceFromTreeChildren=function(de,te){for(var Ve=te.length,xe=_.map(te,function(Pe){return Pe}),Z=0;Z<Ve;Z++){var J=(0,f.ED)(xe[Z]);xe[Z]=J;for(var Fe={},ze=0;ze<de.length;ze++){var rt=de[ze];void 0!==rt.index&&void 0!==xe[Z].values[ze]&&(Fe[rt.index]=xe[Z].values[ze])}xe[Z].values=Fe;var Oe=xe[Z].children;Oe&&(xe[Z].children=this.removeFormatSourceFromTreeChildren(de,Oe))}return xe},We.prototype.createTable=function(de,te){l.fF.assertValue(de,"metadata");for(var Ve,xe=this.context.selects,Z=0,J=xe.length;Z<J;Z++)if(xe[Z]){var ze=xe[Z].Depth;ze>=0&&(Ve=Math.max(ze,Ve||0))}if(Ve>0)return null;var Oe,we,rt=(0,d.BL)("DSR.table(".concat(this.context.perfId,")")),Pe=[],X=de.columns.length;if(Ve>=0){var Ze=te.children;if(Ze){Z=0;for(var et=Ze.length;Z<et;Z++){var at=Ze[Z];this.toTableRow(at,X,Pe),at.isMerge&&(Oe=Z),at.identity&&(we||(we=[]),we.push(at.identity))}}}else l.fF.assert(function(){return 0===(0,B.Hy)(de.columns)},"groups.length=0"),this.toTableRow(te,X,Pe);var St=this.toTotals(te,X),Ie={rows:Pe,columns:de.columns};return we&&(Ie.identity=we),te.childIdentityFields&&(Ie.identityFields=te.childIdentityFields),St&&(Ie.totals=St),Oe>=0&&(Ie.lastMergeIndex=Oe),rt(),Ie},We.prototype.toTableRow=function(de,te,Ve){for(var xe=[],Z=0;Z<te;Z++){var J=de.values[Z];J&&xe.push(J.value)}Ve.push(xe)},We.prototype.toTotals=function(de,te){var Ve=[],xe=de.values,Z=!1;if(xe)for(var J=0;J<te;J++){var Fe=xe[J],ze=Fe?Fe.subtotal:null;Z=Z||null!=ze,Ve.push(ze)}return Z?Ve:null},We.prototype.writeCategoricalValues=function(de,te,Ve){for(var xe=de.columns,Z=0,J=0,Fe=xe.length;J<Fe;J++){var ze=xe[J];if(ze.isMeasure&&void 0!==ze.index){var rt=te.values[J];if(rt){var Oe=Ve[Z++];Oe.values.push(rt.value),void 0!==rt.highlight&&(Oe.highlights||(Oe.highlights=[]),Oe.highlights.push(rt.highlight))}}}},We.prototype.createSingleValue=function(de,te){if(l.fF.assertValue(de,"metadata"),l.fF.assertValue(te,"root"),te.values){for(var Ve=de.columns,xe=null,Z=void 0,J=0,Fe=Ve.length;J<Fe;J++)if(Ve[J].isMeasure&&null!=Ve[J].index){if(xe)return null;xe=Ve[J],Z=J}if(!xe)return null;var ze=te.values[Z];if(!ze)return null;var rt=0===(0,B.Hy)(de.columns)?ze.value:ze.subtotal;return void 0===rt?null:{column:xe,value:rt}}return null},We}(),Re=function(){function We(de){l.fF.assertValue(de,"context"),this._context=de,this._categoriesMetadata=[],this._primaryMeasureSelects=[],this._measureSelects=[],this._secondarySelects=[],this._seriesColumn=null}return We.prototype.read=function(de,te,Ve){var xe=this;l.fF.assertValue(te,"dataShape");var Z=this._context,J={metadata:this.readMetadata(te.IsComplete)};return Z.includes(1)&&(Ve.categorical=(0,d.zb)(function(){var Fe=xe.categorize(te,J.metadata,de);Fe&&(J.categorical=Fe)})),Z.includes(2)&&(Ve.matrix=(0,d.zb)(function(){var Fe=Y(xe._context,de,te,J.metadata);Fe&&(J.matrix=Fe)})),J},We.prototype.readMetadata=function(de){for(var te={columns:[]},Ve=this._context,xe=Ve.selects,Z=function(Oe,Pe){var X=xe[Oe];if(!X)return"continue";if(X.Kind===a.hk.Measure)return 0===X.Depth?J._primaryMeasureSelects.push(X):J._measureSelects.push(X),"continue";l.fF.assert(function(){return X.Kind===a.hk.Group},"Unexpected Select.Kind");var we=Ve.createColumns(te.columns,Oe);X.SecondaryDepth>=0?(J._secondarySelects.push(X),J._secondaryDepth=Math.max(J._secondaryDepth||0,X.SecondaryDepth),J._seriesColumn=we):0===X.Depth&&J._categoriesMetadata.push({select:X,column:we})},J=this,Fe=0,ze=xe.length;Fe<ze;Fe++)Z(Fe);return de||(te.segment={}),te},We.prototype.categorize=function(de,te,Ve){if(l.fF.assertValue(de,"dataShape"),l.fF.assertValue(te,"metadata"),0!==this._secondaryDepth||0===this._categoriesMetadata.length)return null;var Z,J,xe=(0,d.BL)("DSR.categorical(".concat(this._context.perfId,", secondary)"));Ve&&(Ve.Primary&&(Z=Ve.Primary.Groupings),Ve.Secondary&&(J=Ve.Secondary.Groupings));var Fe=c.A1.getTopLevelSecondaryDynamicMember(de,Ve),ze=this.readColumnsFromSecondary(Fe,te,J,de.Calculations),rt=c.A1.getTopLevelPrimaryDynamicMember(de,Ve),Oe=this.readCategoriesAndValues(rt,te,ze,Z),Pe={categories:Oe.categories,values:ze};return void 0!==Oe.lastMergeIndex&&(Pe.lastMergeIndex=Oe.lastMergeIndex),xe(),Pe},We.prototype.readColumnsFromSecondary=function(de,te,Ve,xe){l.fF.assertValue(de,"secondaryMember"),l.fF.assertValue(te,"metadata");var Z,J=this._context;Ve&&(Z=J.readKeys(Ve,0));var Fe=[],ze=J.selects,rt=this._measureSelects.length,Oe=[],Pe=de.Instances,X=Pe.length;if(X)for(var we=0;we<X;we++){var Ze=Pe[we],et=Ze.Calculations,at=void 0;Ve&&(at=J.readIdentity(Ve,Ze,0));for(var St=0,Ie=this._secondarySelects.length;St<Ie;St++){for(var bt=c.A1.findAndParseCalculation(et,this._secondarySelects[St].Value),It=[],Rt=0;Rt<rt;Rt++){var Kt=ze.indexOf(zt=this._measureSelects[Rt]),Yt=J.createColumns(te.columns,Kt,!0);void 0!==bt&&(Yt.groupName=bt);var ir={source:Yt,values:[]};at&&(ir.identity=at),this.addColumnAggregates(xe,zt,ir),Fe.push(ir),It.push(ir)}Oe.push({identity:at,name:bt,values:It})}}else{for(Rt=0;Rt<rt;Rt++){var zt;Kt=ze.indexOf(zt=this._measureSelects[Rt]),Yt=J.createColumns(te.columns,Kt),this.addColumnAggregates(xe,zt,ir={source:Yt,values:[]}),Fe.push(ir)}Oe.push({values:(0,I.__spreadArray)([],Fe||[],!0)})}Rt=0;for(var lr=this._primaryMeasureSelects.length;Rt<lr;Rt++)Kt=ze.indexOf(this._primaryMeasureSelects[Rt]),Yt=J.createColumns(te.columns,Kt),Fe.push(ir={source:Yt,values:[]});Z&&(Fe.identityFields=Z);var br=this._seriesColumn;return br&&(Fe.source=br),Fe.grouped=function(){return Oe},Fe},We.prototype.addColumnAggregates=function(de,te,Ve){de&&(te.Max&&(Ve.max=c.A1.findAndParseCalculation(de,te.Max[0])),te.Min&&(Ve.min=c.A1.findAndParseCalculation(de,te.Min[0])))},We.prototype.readCategoriesAndValues=function(de,te,Ve,xe){l.fF.assertValue(de,"primaryMember"),l.fF.assertValue(Ve,"values");for(var ze,Z=[],J=this._categoriesMetadata,Fe=J.length,rt=this._context,Oe=0;Oe<Fe;Oe++)Z.push(Pe={source:J[Oe].column,values:[]}),xe&&(ze||(ze=[]),Pe.identity=ze,Pe.identityFields=rt.readKeys(xe,0));for(var Ze,X=de.Instances,we=this._primaryMeasureSelects,et=(Oe=0,X.length);Oe<et;Oe++){var at=X[Oe];1===at.RestartFlag&&(Ze=Oe);for(var St=0;St<Fe;St++){var Pe;(Pe=Z[St]).values.push(c.A1.findAndParseCalculation(at.Calculations,J[St].select.Value))}ze&&ze.push(rt.readIdentity(xe,at,0));for(var Ie=at.Intersections,qe=0,bt=0,It=Ie.length;bt<It;bt++)for(var Rt=Ie[bt].Calculations,zt=0,Kt=this._measureSelects.length;zt<Kt;zt++)if(void 0!==(ir=c.A1.findAndParseCalculation(Rt,(Yt=this._measureSelects[zt]).Value))&&((lr=Ve[qe++]).values.push(ir),Yt.Highlight)){lr.highlights||(lr.highlights=[]);var dr=c.A1.findAndParseCalculation(Rt,Yt.Highlight.Value);lr.highlights.push(dr)}for(bt=0,It=we.length;bt<It;bt++){var Yt,lr,ir=c.A1.findAndParseCalculation(Rt=at.Calculations,(Yt=we[bt]).Value);if((lr=Ve[qe++]).values.push(ir),Yt.Highlight){lr.highlights||(lr.highlights=[]);var br=c.A1.findAndParseCalculation(Rt,Yt.Highlight.Value);lr.highlights.push(br)}}}return{categories:Z,lastMergeIndex:Ze}},We}(),Ke=function(){function We(de,te,Ve,xe){l.fF.assertValue(de,"targets"),l.fF.assert(function(){return null!=te.Select||null!=te.ScriptVisualBinding},"descriptor"),l.fF.assertAnyValue(Ve,"perfId"),l.fF.assertValue(xe,"aggregateReader"),this.targets=de,this.selects=te.Select,this.scriptVisualBinding=te.ScriptVisualBinding,this.perfId=Ve||"",this.stats={id:Ve||void 0,primary:0,secondary:0},this.aggregateReader=xe,this.cacheItems=[],this.selectIndexToColumnIndexMap={}}return We.prototype.createColumns=function(de,te,Ve){var Z=this.columnMetadata(te,de.length,Ve);de.push(Z);var Fe=this.tryCreatingDynamicFormatColumnMetadata(te,de.length,Z);return Fe&&de.push(Fe),Z},We.prototype.columnMetadata=function(de,te,Ve){l.fF.assertValue(de,"selectIndex"),l.fF.assertAnyValue(Ve,"suppressAggregates");var xe=this.selects[de];l.fF.assertValue(xe,"select");var Z={displayName:"",index:de};if(xe.Format&&(Z.format=xe.Format),Z.type=c.A1.describeDataType(xe.Type,xe.DataCategory),xe.Kind===a.hk.Measure&&(Z.isMeasure=!0),!Ve){var J=this.aggregateReader.compute(xe,te);J&&(Z.aggregates=J)}var Fe=xe.GroupKeys;if(Fe)for(var ze=Z.identityExprs=[],rt=0,Oe=Fe;rt<Oe.length;rt++){var X=this.convertKey(Oe[rt]);ze.push(X)}return this.selectIndexToColumnIndexMap[de]=te,Z},We.prototype.tryCreatingDynamicFormatColumnMetadata=function(de,te,Ve,xe){var Z=this.selects[de];if(Z.DynamicFormat&&Z.DynamicFormat.Format){var J={displayName:"",isMeasure:!0};Ve.formatSource={formatString:J};var Fe={Kind:a.hk.Measure,Subtotal:_.map(Z.SubtotalDynamicFormat,function(rt){return rt&&rt.Format})};if(!xe){var ze=this.aggregateReader.compute(Fe,te);ze&&(J.aggregates=ze)}return this.actionHistory|=2,J}},We.prototype.readIdentity=function(de,te,Ve){l.fF.assertValue(de,"axisGroupings"),l.fF.assertValue(Ve,"depth");for(var Z,xe=this.readKeys(de,Ve),J=de[Ve].Keys,Fe=0,ze=J.length;Fe<ze;Fe++){var rt=J[Fe],Pe=c.A1.findAndParseCalculationToSQExpr(te.Calculations,rt.Calc||this.selects[rt.Select].Value),X=(0,u.Dg)(xe[Fe],Pe);Z=(0,u.xD)(Z,X)}return(0,s.TZ)(Z)},We.prototype.readKeys=function(de,te){l.fF.assertValue(de,"axisGroupings"),l.fF.assertValue(te,"depth");var Ve=this.getAxisCache(de),xe=Ve.exprs[te];if(void 0===xe){xe=Ve.exprs[te]=[];for(var Z=de[te].Keys,J=0,Fe=Z.length;J<Fe;J++)xe.push(this.convertKey(Z[J]))}return xe},We.prototype.includes=function(de){return l.fF.assertValue(de,"kind"),(0,V.yE)(this.targets,de)},We.prototype.getAxisCache=function(de){l.fF.assertValue(de,"axisGroupings");for(var te=this.cacheItems,Ve=0,xe=te.length;Ve<xe;Ve++){var Z=te[Ve];if(Z.axisGroupings===de)return Z}var J={axisGroupings:de,exprs:[]};return te.push(J),J},We.prototype.convertKey=function(de){l.fF.assertValue(de,"key");var te=de.Source;return(0,u.Oh)((0,u.nw)((0,a._H)(te),te.Entity||te.EntitySet),te.Property)},We}(),tt=function(){function We(de,te){l.fF.assert(function(){return null!=de.Select||null!=de.ScriptVisualBinding},"descriptor"),l.fF.assertValue(te,"dataShape"),this.dataShape=te}return We.prototype.compute=function(de,te,Ve){l.fF.assertValue(te,"columnIndex");var xe=this.cache;if(xe){var Z=xe[te];if(Z)return Z}if(de){xe||(this.cache=xe={});var J=this.dataShape,Fe=mt(de,J.Calculations,J.PrimaryHierarchy,0);return Ve&&!Fe&&(Fe={}),xe[te]=Fe,Fe}},We.prototype.updateAggregates=function(de,te,Ve,xe){l.fF.assertValue(de,"select"),l.fF.assertValue(te,"columnIndex"),l.fF.assertValue(Ve,"name"),l.fF.assertAnyValue(xe,"value");var Z=this.compute(de,te,!0);if(Z)return Z[Ve]=xe,Z},We}();function mt(We,de,te,Ve){l.fF.assertValue(We,"select"),l.fF.assertAnyValue(de,"calculations"),l.fF.assertAnyValue(te,"allMembers"),l.fF.assertValue(Ve,"depth");var xe=!_.isEmpty(te)&&ve.getFirstInstanceCalcs(te[0]);if(!_.isEmpty(de)||!_.isEmpty(xe)){var Z;if(!_.isEmpty(xe)&&We.Subtotal&&(J=We.Subtotal[Ve])&&void 0!==(Fe=c.A1.findAndParseCalculation(xe,J))&&(Z||(Z={}),Z.subtotal=Fe),!_.isEmpty(de)){We.Max&&(J=We.Max[Ve])&&void 0!==(Fe=c.A1.findAndParseCalculation(de,J))&&(Z||(Z={}),Z.max=Fe),We.Min&&(J=We.Min[Ve])&&void 0!==(Fe=c.A1.findAndParseCalculation(de,J))&&(Z||(Z={}),Z.min=Fe),We.Count&&(J=We.Count[Ve])&&void 0!==(Fe=c.A1.findAndParseCalculation(de,J))&&(Z||(Z={}),Z.count=Fe);var ze=We.Aggregates;if(ze)for(var rt=0,Oe=ze;rt<Oe.length;rt++){var J,Fe,Pe=Oe[rt],X=Pe.Aggregate;if((J=Pe.Ids[Ve])&&void 0!==(Fe=c.A1.findAndParseCalculation(de,J))){var we=X.Percentile;if(we){var Ze={k:we.K,value:Fe};we.Exclusive&&(Ze.exclusive=we.Exclusive),Z||(Z={});var et=Z.percentiles;et||(et=Z.percentiles=[]),et.push(Ze)}else X.Average?(Z||(Z={}),Z.average=Fe):X.Median&&(Z||(Z={}),Z.median=Fe)}}0===Ve&&(J=We.Value)&&void 0!==(Fe=c.A1.findAndParseCalculation(de,J))&&(Z||(Z={}),Z.single=Fe)}return Z}}var He=function(){function We(de,te,Ve,xe){l.fF.assertValue(de,"node"),l.fF.assertValue(te,"aggregateReader"),l.fF.assertValue(xe,"aggregators"),this.node=de,this.aggregateReader=te,this.selects=Ve,this.aggregators=xe}return We.create=function(de,te){for(var Ve=de.values,xe=te.selects,Z=!1,J={},Fe=0,ze=0,rt=xe.length;Fe<rt;Fe++){var Oe=xe[Fe];if(Oe){if(Oe.Kind!==a.hk.Measure){ze++;continue}var X=void 0,we=void 0;if(Ve&&(we=Ve[ze])){if(X=[],void 0===we.min&&X.push(new c.nc),void 0===we.max&&X.push(new c._8),0===X.length){ze++;continue}}else X=[new c.nc,new c._8];J[ze]=X,Z=!0,ze++,Oe.DynamicFormat&&Oe.DynamicFormat.Format&&ze++}}if(Z)return new We(de,te.aggregateReader,te.selects,J)},We.prototype.add=function(de,te){var Ve=this.aggregators[de];if(Ve)for(var xe=0,Z=Ve.length;xe<Z;xe++)Ve[xe].update(te)},We.prototype.complete=function(de){l.fF.assertValue(de,"columns");for(var te=this.aggregators,Ve=this.node,xe=this.aggregateReader,Z=0,J=0,Fe=this.selects.length;Z<Fe;Z++){var ze=this.selects[Z];if(ze){var rt=te[J];if(!rt){J++;continue}for(var Oe=0,Pe=rt.length;Oe<Pe;Oe++){var X=rt[Oe],we=X.value();if(void 0!==we){var Ze=X.name;he(Ve,J)[Ze]=we,de[J].aggregates=xe.updateAggregates(ze,J,Ze,we)}}J++,ze&&ze.DynamicFormat&&ze.DynamicFormat.Format&&J++}}},We}();function ke(We){if(l.fF.assertAnyValue(We,"dsr"),2===We.Version)return!0}function ft(We){return l.fF.assertAnyValue(We,"dsr"),We.MinorVersion}function Le(We,de,te,Ve,xe,Z){if(l.fF.assertValue(de,"arg"),!de)return null;var J;de.data&&(de=de.data),Z&&Z.isRunning()&&(J=Z.createChildActivity({name:"Parse Query Result"}));var Fe={},ze=de,rt=(0,o.z)();_.isString(de)&&(Fe.dsrLength=de.length,Fe.jsonParse=(0,d.zb)(function(){ze=JSON.parse(de)}),J&&J.setProperty("metrics",{jsonParse:Fe.jsonParse}));var Oe=function(We,de,te,Ve,xe,Z,J,Fe,ze,rt,Oe,Pe,X,we,Ze){if(!te)return null;var et,at;if(Fe||(Fe={}),4&We&&(We|=8),ke(te)){if(at="dsr2-read",performance&&performance.mark&&performance.mark(at+"-start"),Fe.mode="V2",1!==_.size(te.DS))return null;var St=(0,p.Ei)(de),Ie=(0,A.KI)(te,St);et=function(We,de,te,Ve,xe){var Z={columns:We.createDataViewMetadataColumns()},J={dataView:{metadata:Z}};if(function(We,de){We.reset();var te=We.dataShapes();l.fF.assert(function(){return 1===te.count()},"DSR has multiple DataShapes"),te.next(),te.complete()||(de.dataView.metadata.segment={},de.restartToken=te.restartTokens())}(de,J),We.includes(2)){var Fe,ze=(0,d.zb)(function(){Fe=function(We,de,te,Ve){return new y(We,de,te,Ve).run()}(We,de,Z,xe),Fe&&(J.dataView.matrix=Fe,de.lockCache())});Fe&&(te.matrix=ze)}if(We.includes(1)){var rt,Oe=(0,d.zb)(function(){rt=function(We,de,te,Ve){if(m.isCompatible(We))return(new m).run(We,de,te)}(We,de,Z),rt&&(J.dataView.categorical=rt,de.lockCache())});rt&&(te.categorical=Oe)}if(We.includes(8)){var Pe,X=(0,d.zb)(function(){Pe=function(We,de,te){return new E(We,de,te).run()}(We,de,Z),Pe&&(J.dataView.table=Pe,de.lockCache())});Pe&&(te.table=X)}if(We.includes(16)){var we,Ze=(0,d.zb)(function(){we=function(We,de){return new x(We,de).run()}(We,de),we&&(J.dataView.tree=we,de.lockCache())});we&&(te.tree=Ze)}if(We.includes(4)){var et,at=(0,d.zb)(function(){et=function(We,de){if(P.isCompatible(We))return new P(We,de).run()}(We,de),et&&(J.dataView.single=et)});et&&(te.single=at)}return J}(new C(We,de,St,we,Ie.dataShapes()),Ie,Fe,0,we),Ie.reset();var bt=Ie.dataShapes(),It=bt.next();if(l.fF.assert(function(){return It},"There must be a DataShape"),bt.limitsExceeded()){et.warnings||(et.warnings=[]);var Rt=new R.x(de,function(We){for(var de=We.limits(),te=de.count(),Ve=new Array(te),xe=0;xe<te;xe++)de.next(),Ve[xe]={Id:de.id()};return Ve}(bt),function(We){for(var de=new Array(We.calcCount()),te=0;We.nextCalc();te++)de[te]={Id:We.calcId(),Value:We.calcValue()};return de}(bt));et.warnings.push(Rt),K(et.dataView,Rt.limits)}(function(We,de){var te=We.messages();if(te)for(;te.next();)g.py[te.code()]&&te.severity()===(0,g.sK)(0)&&(de.warnings||(de.warnings=[]),de.warnings.push(te.dsrMessage()))})(bt,et),et.dataView&&!_.isEmpty(Z)&&((0,v.dj)(et.dataView,Z),et.disallowPersisting=!0)}else at="dsr1-read",performance&&performance.mark&&performance.mark(at+"-start"),Fe.mode="V1Old",et=function(We,de,te,Ve,xe,Z,J){if(l.fF.assertValue(We,"targets"),l.fF.assertAnyValue(de,"descriptor"),l.fF.assertValue(te,"dsr"),l.fF.assertAnyValue(Z,"clientSideFilters"),!function(We){return We&&1===_.size(We.DataShapes)}(te))return null;var Fe=te.DataShapes[0];if(Fe["odata.error"]){var rt=new W.Ow(Fe["odata.error"]);return xe&&(rt.requestId=xe),{error:rt}}var Pe=new Ke(We,de,J,new tt(de,Fe)),X=function(We){if(l.fF.assertValue(We,"context"),null!=We.scriptVisualBinding)return new ce(We);for(var de=0,te=0,Ve=We.selects,xe=0,Z=Ve.length;xe<Z;xe++){var J=Ve[xe];J&&(null!=J.Depth&&(de=Math.max(de,J.Depth+1)),null!=J.SecondaryDepth&&(te=Math.max(te,J.SecondaryDepth+1)))}return te>=1&&1===de?new Re(We):new ve(We)}(Pe).read(de.Expressions,Fe,Ve),we={dataView:X};if(Fe.RestartTokens&&(we.restartToken=Fe.RestartTokens),Fe.DataLimitsExceeded&&Fe.DataLimitsExceeded.length>0){we.warnings||(we.warnings=[]);var Ze=new R.x(de,Fe.DataLimitsExceeded,Fe.Calculations);we.warnings.push(Ze),K(X,Ze.limits)}if(Fe.DataShapeMessages&&Fe.DataShapeMessages.length>0)for(var et=0,at=Fe.DataShapeMessages;et<at.length;et++){var St=at[et];g.py[St.Code]&&St.Severity===(0,g.sK)(0)&&(we.warnings||(we.warnings=[]),we.warnings.push(new g.lp(St)))}return we.dataView&&!_.isEmpty(Z)&&((0,v.dj)(we.dataView,Z),we.disallowPersisting=!0),l.fF.log("DSR.stats",Pe.stats),we}(We,de,te,Fe,xe,Z,J);return et&&(et.timestamp=Oe,et.fromCache=Pe,X&&!et.fromCache&&(et.performanceActivities=O(X.Events,Ze&&Ze.getProperty("rootId")))),performance&&(performance.mark&&performance.mark(at+"-end"),performance.measure&&performance.measure(at,at+"-start",at+"-end")),Fe.total=(0,o.z)()-rt,ze&&ze.logEvent(S.h1,{jsonparse:Fe.jsonParse,categorical:Fe.categorical,table:Fe.table,tree:Fe.tree,matrix:Fe.matrix,single:Fe.single,script:Fe.script,total:Fe.total,mode:Fe.mode,targetDataView:We,dsrLength:Fe.dsrLength,id:J}),et}(We,ze.descriptor,ze.dsr,0,ze.requestId,ze.clientSideFilters,xe,Fe,Ve,rt,ze.timestamp,ze.fromCache,ze.metrics,te.scopedAggregates,Z);if(null!=te&&te.queryContext){var Pe=ze.queryContext;Pe&&(Oe.queryContext=Pe)}return J&&J.resolve(),Oe}function Ue(We){if(l.fF.assertAnyValue(We,"dataViewSource"),!We)return!1;var de=We.data;return _.isString(de)&&(de=(0,e.K)(de)),!_.isEmpty(de)&&function(We){if(We)if(ke(We)){for(var de=(0,A.KI)(We,void 0).dataShapes();de.next();)if(de.hasRestartTokens())return!0}else for(var Ve=0,xe=We.DataShapes;Ve<xe.length;Ve++)if(!_.isEmpty(xe[Ve].RestartTokens))return!0;return!1}(de.dsr)}},797667:function(Xe,H,t){t.d(H,{PE:function(){return c},xV:function(){return u}});var e=t(498342),l=t(569978),o=t(659514),d=t(756846),v=t(45484),c=function(){function i(a,n,m,f,V){this.addVisualIdToQueryDataAsHttpBodyId=V,this.preferredMaxBatchesConfigured=a>0,this.maxBatches=this.preferredMaxBatchesConfigured?a:4,this.queryExecuteCallback=n,this.pending=[],this.timeoutService=m,this.telemetryV2Enabled=f,this.useHttp2QueryDataEnabled=l.M.browserSupportsHttp2()}return i.prototype.enqueue=function(a){var n=this;if(!function(i,a){var n=a.options;if(1===n.executionType){e.fF.assertValue(n.queryId,"queryId");var m=_.findIndex(i,function(f){return f.options.queryId===n.queryId});if(m>-1)return e.fF.assert(function(){return i[m].execution.rejected()},"CancelQuery should correspond to rejected queries."),!0}return!1}(this.pending,a))return this.pending.push(a),this.currentBatchDeferred||(this.currentBatchDeferred=a.options.telemetryV2Enabled?new o.GG(!0):$.Deferred(),this.timeoutService.setTimeout(-1,this.telemetryV2Enabled).promise.then(function(){var V=n.createBatches();n.clearPending(),n.queryExecuteCallback(V),n.currentBatchDeferred.resolve(),n.currentBatchDeferred=void 0})),a.options.telemetryV2Enabled?this.currentBatchDeferred.promise:this.currentBatchDeferred.promise()},i.prototype.clearPending=function(){this.pending=[]},i.prototype.setMaxBatches=function(a){this.maxBatches=a,this.preferredMaxBatchesConfigured=a>0},i.prototype.createBatches=function(){var a=[],n=this.sortQueriesByDataSource(),m=this.maxBatches,f=!1;if(!this.preferredMaxBatchesConfigured&&this.useHttp2QueryDataEnabled&&(_.some(n,function(b){return _.some(b.dataSources,function(y){return y.isLimitedParallelQueryModel})})||(m=20,f=!0)),n.length>=m)for(var p=0,C=n.length;p<C;++p)a.push(this.createBatchFromDataSourceGroup(n[p]));else a=this.splitDataSourcesIntoBatches(n,m);return f&&_.forEach(a,function(b){return b.useSynchronous=!0}),a},i.prototype.sortQueriesByDataSource=function(){var n,a=this;n=this.addVisualIdToQueryDataAsHttpBodyId?_.groupBy(this.pending,function(V){return null===(y=null===(b=null===(C=null==(p=V.options)?void 0:p.applicationContext)||void 0===C?void 0:C.Sources)||void 0===b?void 0:b[0])||void 0===y?void 0:y.VisualId;var p,C,b,y}):{"":this.pending};var f=[];return _.forEach(n,function(V){var p=[];_.forEach(V,function(C){if(!function(i){return!!(0,v.I3)(i)&&i.execution.rejected()}(C)){var b=a.findDataSourceGroup(C.options.dataSources,p,C.options.cacheResponseOnServer);b?b.queuedExecutions.push(C):p.push({dataSources:C.options.dataSources,queuedExecutions:[C],cacheResponseOnServer:C.options.cacheResponseOnServer,cacheOptions:C.options.cacheOptions})}}),f.push.apply(f,p)}),f},i.prototype.findDataSourceGroup=function(a,n,m){for(var f=0,V=n.length;f<V;++f){var p=n[f];if((0,d.fS)(a,p.dataSources)&&p.cacheResponseOnServer===m)return p}return null},i.prototype.createBatchFromDataSourceGroup=function(a){for(var n=[],m=[],f=[],V=a.queuedExecutions,p=[],C=[],b=function(F,E){var w=V[F],x=V[F].options,R=V[F].enqueueActivity;(0,v.I3)(w)?(n.push(x),f.push(w.deferred),R&&p.push(R),V[F].queryActivity&&C.push(V[F].queryActivity)):(e.fF.assert(function(){return 1===x.executionType},"Only CancelQuery executions are not rejectable."),m.push(x))},y=0,D=V.length;y<D;++y)b(y);return{dataSources:a.dataSources,queryOptions:n,cancelQueryOptions:m,promises:f,cacheOptions:a.cacheOptions,cacheResponseOnServer:a.cacheResponseOnServer,enqueueActivities:p,queryActivities:C}},i.prototype.splitDataSourcesIntoBatches=function(a,n){for(var m=[],f=0,V=a.length;f<V;++f)m.push(this.createBatchFromDataSourceGroup(a[f]));return this.splitBatches(m,n)},i.prototype.splitBatches=function(a,n){for(var m=a.slice();m.length<n;){for(var f=void 0,V=0,p=m.length;V<p;++V){var C=m[V];C.queryOptions.length>1&&(!f||f.queryOptions.length<C.queryOptions.length)&&(f=C)}if(!f)return m;m.push(this.splitBatch(f)),f=null}return m},i.prototype.splitBatch=function(a){var n=a.queryOptions.length,m=a.queryOptions.splice(n/2),f=a.promises.splice(n/2),V=a.enqueueActivities.splice(n/2),p=a.queryActivities.splice(n/2),C=a.cancelQueryOptions.length,b=[];return C&&(b=a.cancelQueryOptions.splice(C/2)),{dataSources:a.dataSources,queryOptions:m,promises:f,cacheOptions:a.cacheOptions,cacheResponseOnServer:a.cacheResponseOnServer,cancelQueryOptions:b,enqueueActivities:V,queryActivities:p}},i}();function u(i,a,n,m,f){return{queryOptions:_.map(i,function(V){return{command:V,dataSources:a}}),cancelQueryOptions:[],cacheOptions:n,dataSources:a,cacheResponseOnServer:m,promises:[],enqueueActivities:[],queryActivities:[],useSynchronous:f}}},45484:function(Xe,H,t){t.d(H,{I3:function(){return S},K4:function(){return o},u5:function(){return l}});var e=t(498342);function l(h,c,r){var s=_.map(h.queryOptions,function(m){var f=m.command,p={Query:f,CacheKey:m.cacheResponseOnServer?JSON.stringify(f):void 0,CacheOptions:h.cacheOptions,QueryId:m.queryId};return m.applicationContext&&(p.ApplicationContext=m.applicationContext),1===m.requestPriority&&(p.RequestPriority=1),p}),u=_.map(h.cancelQueryOptions,function(m){return{QueryId:m.queryId}}),i=function(h){return e.fF.assertNonEmpty(h,"dataSources"),e.fF.assert(function(){return 1===h.length},"dataSources.length === 1"),_.head(h)}(h.dataSources),a={version:d,queries:s,cancelQueries:u,modelId:i.modelId,userPreferredLocale:c.getUserPreferredLocale()};if(r&&r.impersonating){var n=r.getImpersonationState();n.modelId===a.modelId&&_.extend(a,n)}return a}function o(h){return _.some(h.queries,function(c){return _.some(c.Query.Commands,function(r){var s;return null===(s=r.SemanticQueryDataShapeCommand)||void 0===s?void 0:s.Extension})})}var d="1.0.0";function S(h){return null!=h&&void 0!==h.deferred&&void 0!==h.execution}},724717:function(Xe,H,t){t.d(H,{N8:function(){return e},_H:function(){return l},hk:function(){return o}});var e=void 0;function l(d){return d.Schema||e}var o=function(d){return d[d.None=0]="None",d[d.Group=1]="Group",d[d.Measure=2]="Measure",d}({})},17851:function(Xe,H,t){t.d(H,{$z:function(){return o},cm:function(){return s}});var e=t(973188),l=t(498342);function o(u,i){!function(u,i,a){if(l.fF.assertValue(i,"visitor"),u){i.visitDescriptor(u,a);var n=u.Select;if(n&&n.length)for(var m=0,f=n.length;m<f;m++)i.visitSelect(n[m],a);var V=u.Expressions;V&&function(u,i,a){l.fF.assertValue(u,"expressions"),i.visitExpressions(u,a),l.fF.assertValue(u.Primary,"Primary"),S(u.Primary,i,a);var n=u.Secondary;n&&S(n,i,a)}(V,i,a)}}(u,i,void 0)}function S(u,i,a){l.fF.assertValue(u,"axis"),i.visitDataShapeExpressionsAxis(u,a);var n=u.Groupings;l.fF.assertValue(n,"groupings");for(var m=0,f=n.length;m<f;m++)h(n[m],i,a)}function h(u,i,a){l.fF.assertValue(u,"grouping"),i.visitDataShapeExpressionsAxisGrouping(u,a);var n=u.Keys;l.fF.assertValue(n,"keys");for(var m=0,f=n.length;m<f;m++)c(n[m],i,a)}function c(u,i,a){l.fF.assertValue(u,"groupingKey"),i.visitDataShapeExpressionsAxisGroupingKey(u,a),l.fF.assertValue(u.Source,"Source"),i.visitConceptualPropertyReference(u.Source,a)}var s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return(0,e.__extends)(i,u),i}(function(){function u(){}return u.prototype.visitDescriptor=function(i,a){},u.prototype.visitSelect=function(i,a){},u.prototype.visitExpressions=function(i,a){},u.prototype.visitDataShapeExpressionsAxis=function(i,a){},u.prototype.visitDataShapeExpressionsAxisGrouping=function(i,a){},u.prototype.visitDataShapeExpressionsAxisGroupingKey=function(i,a){},u.prototype.visitConceptualPropertyReference=function(i,a){},u}())},898345:function(Xe,H,t){t.d(H,{Q:function(){return d}});var e=t(365358),l=t(498342),o=t(724717),d=function(){function v(S,h){l.fF.assertValue(S,"metadata"),l.fF.assertValue(S.Select,"metadata.Select"),l.fF.assertValue(h,"binding"),h.ScriptVisualBinding||(l.fF.assertValue(h.Select,"binding.Select"),l.fF.assert(function(){return S.Select.length<=h.Select.length},"Metadata should have the same number or fewer select items as Binding.")),this._metadata=S,this._binding=h}return v.prototype.getSelectRestatements=function(){return this.getRestatements()},v.prototype.getGroupRestatements=function(){return this.getRestatements(o.hk.Group)},v.prototype.getMeasureRestatements=function(){return this.getRestatements(o.hk.Measure)},v.prototype.getFilterRestatements=function(){var S=this._metadata.Filters;if(_.isEmpty(S))return null;for(var h=[],c=0,r=S.length;c<r;c++){var s=S[c];h.push(s?s.Restatement:"")}return(0,e.rm)(h)},v.prototype.getRestatements=function(S){var h=this._metadata,c=this._binding,r=[];if(!c.ScriptVisualBinding)for(var s=0,u=h.Select.length;s<u;s++){var i=c.Select[s];i&&(void 0===S||i.Kind===S)&&r.push(h.Select[s].Restatement||"")}return(0,e.rm)(r)},v}()},368434:function(Xe,H,t){t.d(H,{Zl:function(){return ve},cd:function(){return ft},Jz:function(){return We}});var e=t(973188),l=t(979868),o=t(669266),d=t(365358),v=t(498342),S=t(414385),h=t(148782),c=t(225069),r=t(604520),s=t(423610),u=t(844722),i=t(114096),a=t(512322),n=t(603662),m=t(445765);function f(Oe){v.fF.assertValue(Oe,"mapping"),Oe.categorical&&function(Oe){if(v.fF.assertValue(Oe,"categorical"),!Oe.dataReductionAlgorithm){Oe.categories&&y(Oe.categories);var Pe=Oe.values;Pe&&Pe.group&&function(Oe){v.fF.assertValue(Oe,"mapping"),v.fF.assertValue(Oe.group,"mapping.group"),Oe.group.dataReductionAlgorithm||(Oe.group.dataReductionAlgorithm={top:{}})}(Pe)}}(Oe.categorical),Oe.table&&function(Oe){v.fF.assertValue(Oe,"table"),Oe.rows&&y(Oe.rows)}(Oe.table),Oe.matrix&&function(Oe){v.fF.assertValue(Oe,"matrix"),Oe.rows&&y(Oe.rows),Oe.columns&&y(Oe.columns)}(Oe.matrix)}function y(Oe){v.fF.assertValue(Oe,"mapping"),!Oe.dataReductionAlgorithm&&!function(Oe){var Pe=Oe.select;return!!Pe&&_.some(Pe,function(X){return!!X.dataReductionAlgorithm})}(Oe)&&(Oe.dataReductionAlgorithm={top:{}})}var E=t(162320),w=t(758205);function x(Oe,Pe){if(v.fF.assertValue(Oe,"expansionState"),v.fF.assert(function(){return Pe>=0},"lastActiveLevelIndex >= 0"),!_.isEmpty(Oe.levels)&&0!==Pe){v.fF.assertValue(Oe.root,"expansionState.root");var X=g(Oe.root,-1,Pe,Oe.levels);if(X){for(var we=new Array(X.depth),Ze=new E.cL(null),et=0;et<X.depth;et++)we[et]=R(Oe.levels[et],Ze);var at=[];return w.ib.serializeFrom(Ze,at),{From:at,Levels:we,Instances:X.instance}}}}function R(Oe,Pe){return v.fF.assertValue(Oe,"level"),{Expressions:_.map(Oe.identityKeys,function(Ze){var et=i.cX.rewrite(Ze,Pe,Pe);return w.ib.serializeExprWithRef(et)}),Default:Oe.isCollapsed?0:1}}function g(Oe,Pe,X,we){v.fF.assertValue(Oe,"node");var Ze=-1===Pe,et=Pe+1===X,at=!Ze&&!!we[Pe].isCollapsed;if(Oe.isToggled||!(at||et||_.isEmpty(Oe.children))){var qe,St=!Ze&&!at&&Oe.isToggled,bt=0;if(!et&&!_.isEmpty(Oe.children)&&!St){qe=[];for(var It=0,Rt=Oe.children;It<Rt.length;It++){var zt=Rt[It];v.fF.assertNonEmpty(zt.identityValues,"child.identityValues");var Kt=g(zt,Pe+1,X,we);Kt&&(bt=Math.max(bt,Kt.depth+1),qe.push(Kt.instance))}}if(Oe.isToggled||!_.isEmpty(qe)){var Yt={};return _.isEmpty(Oe.identityValues)||(Yt.Values=_.map(Oe.identityValues,function(ir){return w.ib.serializeExpr(ir)})),_.isEmpty(qe)||(Yt.Children=qe),{depth:bt,instance:Yt}}}}function L(Oe){if(Oe&&Oe.root){var Pe=M(Oe.root),X=T(Pe),we=new E.cL(null);v.fF.assert(function(){return X<=_.size(Oe.levels)},"Missing levels in window expansion state");var Ze=_.take(Oe.levels,X),et=_.map(Ze,function(St){return function(Oe,Pe){v.fF.assertValue(Oe,"Level must be defined");var X=_.map(Oe.identityKeys,function(we){var Ze=i.cX.rewrite(we,Pe,Pe);return w.ib.serializeExprWithRef(Ze)});return{Expressions:X,Default:0}}(St,we)}),at=[];return w.ib.serializeFrom(we,at),{From:at,Levels:et,WindowInstances:Pe}}}function M(Oe){return v.fF.assertValue(Oe,"Window expansion instance is not defined"),{Values:_.map(Oe.identityValues,function(Pe){return w.ib.serializeExpr(Pe)}),WindowExpansionInstanceWindowValue:_.map(Oe.windowValues,function(Pe){return{Values:_.map(Pe.restartValues,function(X){return w.ib.serializeExpr(X)}),WindowStartKind:Pe.windowKind}}),Children:_.map(Oe.children,function(Pe){return M(Pe)})}}function T(Oe){return!Oe||_.isEmpty(Oe.Children)?0:Math.max.apply(Math,_.map(Oe.Children,function(Pe){return T(Pe)}))+1}var N=t(684261);function U(Oe,Pe){v.fF.assertValue(Oe,"item"),v.fF.assertValue(Pe,"newExpr"),Oe.query=Oe.query.addSelect(Pe);var X=Oe.query.select(),we=(0,N.p)(X,Pe),Ze=X[we],et=Oe.additionalProjections;return et||(et=Oe.additionalProjections=[]),et.push({queryName:Ze.name,selector:null}),{index:we,expr:Pe,queryName:Ze.name}}var j=function(){function Oe(){this.queryReferencesByRole={}}return Oe.findActive=function(Pe){var X=new Oe;return(0,h.oF)(Pe,X),X.queryReferencesByRole},Oe.prototype.visitRole=function(Pe){var X=Pe.items;_.isEmpty(Pe.activeItems)||(X=_.filter(X,function(we){return _.includes(Pe.activeItems,we.queryName)})),this.queryReferencesByRole[Pe.role]=_.map(X,function(we){return we.queryName})},Oe}(),K=t(540638),ee=t(756846);function ie(Oe,Pe,X){var we,Ze=[],et=Oe.select(),at=null===(we=et.withName(Pe))||void 0===we?void 0:we.expr;v.fF.assertValue(at,"Attempting to duplicate a non-existing Select");var St=Oe.addSelect(at),Ie=St.select();v.fF.assert(function(){return Ie.length===et.length+1},"Expected a Select to have ben added");var qe=Ie.length-1,bt=Ie[qe];v.fF.assert(function(){return!et.withName(bt.name)},"this code assumes that the newly added select is always the last element in updatedSelectClause");var It=Pe,Rt=bt.name;return Ze.push({selectExprAdded:{selectIndex:qe,namedSQExpr:bt}}),void 0!==X&&Ze.push({projectionQueryRefChanged:{role:X,oldQueryRef:It,newInternalQueryRef:Rt}}),{rewriteRecords:Ze,newQuery:St,newQueryName:Rt}}function G(Oe,Pe,X,we){if(Oe.queryName!==Pe.queryName)return!1;var Ze=(0,m.P6)(Oe.selector.data,X,we),et=(0,m.P6)(Pe.selector.data,X,we),at=_.xor(Ze,et);return!_.isEmpty(at)}function re(Oe,Pe,X,we){var Ze=X.queryName,et=Oe[Ze];et||(et=Oe[Ze]={categoryAndValueGroup:[],categoryOnly:[]});var at={roleName:Pe,roleItem:X};we?et.categoryAndValueGroup.push(at):et.categoryOnly.push(at)}function le(Oe,Pe){v.fF.assertValue(Oe,"roles"),v.fF.assertValue(Pe,"role");for(var X={for:{in:Pe}},we=0,Ze=Oe;we<Ze.length;we++)if((0,ee.fS)(Ze[we],X))return;Oe.push(X)}var Ee=t(854883),Ne=function(){function Oe(){}return Oe.prototype.conflictsWith=function(Pe){if(this.getQueryName()!==Pe.getQueryName())return!1;var X=_.xor(this.getScopeRefs(),Pe.getScopeRefs());return!_.isEmpty(X)},Oe}(),Ye=function(Oe){function Pe(X,we,Ze){var at,St,et=this;(et=Oe.call(this)||this).additionalProjection=X;var qe=X.aggregates&&_.isEmpty(null===(at=X.selector)||void 0===at?void 0:at.data)?[(0,Ee.Ue)()]:null===(St=X.selector)||void 0===St?void 0:St.data;return et.scopeRefs=(0,m.P6)(qe,we,Ze),et}return(0,e.__extends)(Pe,Oe),Pe.prototype.getQueryName=function(){return this.additionalProjection.queryName},Pe.prototype.getScopeRefs=function(){return this.scopeRefs},Pe.prototype.updateQueryName=function(X){this.additionalProjection.queryName=X},Pe.prototype.getRoleName=function(){},Pe}(Ne),Je=function(Oe){function Pe(X,we,Ze){var et=Oe.call(this)||this;return et.roleItem=X,et.roleName=we,et.scopeRefs=Ze,et}return(0,e.__extends)(Pe,Oe),Pe.prototype.getQueryName=function(){return this.roleItem.queryName},Pe.prototype.getScopeRefs=function(){return this.scopeRefs},Pe.prototype.getRoleName=function(){return this.roleName},Pe.prototype.updateQueryName=function(X){this.roleItem.queryName=X},Pe}(Ne);function fe(Oe,Pe){var X,we=Pe.queryRewrites||[],et=ie(Pe.query,Oe.getQueryName(),null===(X=Oe.getRoleName)||void 0===X?void 0:X.call(Oe));return Oe.updateQueryName(et.newQueryName),we.push.apply(we,et.rewriteRecords),{query:et.newQuery,queryRewrites:we,mappings:Pe.mappings,additionalProjections:Pe.additionalProjections}}var ye=function(){function Oe(Pe){this.expectedContext=Pe,this.scopeRefs=[],this.queryRefsByRole={}}return Oe.prototype.visitRole=function(Pe,X){if(X===this.expectedContext)for(var we=(0,c.Xw)(Pe),Ze=this.queryRefsByRole[Pe.role]=[],et=0,at=we;et<at.length;et++){var St=at[et];this.scopeRefs.push(St.queryName),Ze.push(St.queryName)}},Oe}(),Ce=function(){function Oe(Pe,X){this.scopeRefs=Pe,this.expectedContext=X,this.rolesMeasures=[]}return Oe.prototype.visitRole=function(Pe,X){if(X===this.expectedContext)for(var Ze=0,et=(0,c.Xw)(Pe);Ze<et.length;Ze++)this.rolesMeasures.push(new Je(et[Ze],Pe.role,this.scopeRefs))},Oe}(),Be=t(33962),be=t(173818),Te=function(){function Oe(Pe){this.selects=Pe,this.referencedItems=new Set}return Oe.prototype.withRestartToken=function(Pe){return this},Oe.prototype.withPrimaryWindowExpansion=function(Pe){return this},Oe.prototype.withDataVolume=function(Pe){return this},Oe.prototype.withIncludeEmptyGroups=function(Pe){return this},Oe.prototype.withHighlightFilter=function(Pe){return this},Oe.prototype.withGroupBy=function(Pe){return this},Oe.prototype.withPrimaryGrouping=function(Pe,X,we,Ze,et,at){var St,Ie;return Pe=this.filterItems(Pe,X,at),_.isEmpty(Pe)||(this.rows=null!==(St=this.rows)&&void 0!==St?St:[],et&&(Ie=_.last(this.rows)),Ie||(Ie=this.createAxisGroup(),this.rows.push(Ie)),this.updateAxisGroup(Ie,Pe)),this},Oe.prototype.withPrimaryGroupingNestedByRole=function(Pe,X,we,Ze,et,at,St){return this.isRoleSupportHierachryGrouping(St)?this.withPrimaryGroupingNested(Pe,X,we,Ze,at):this.withPrimaryGrouping(Pe,X,we,Ze,et,at)},Oe.prototype.isRoleSupportHierachryGrouping=function(Pe){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(Pe)},Oe.prototype.withPrimaryExpansion=function(Pe){return this},Oe.prototype.withPrimarySynchronization=function(Pe){return this},Oe.prototype.withPrimaryGroupingNested=function(Pe,X,we,Ze,et){var at=this;return Pe=this.filterItems(Pe,X,et),_.isEmpty(Pe)||_.each(Pe,function(St){return at.withPrimaryGrouping([St],X,we,Ze,!1,et)}),this},Oe.prototype.withSecondaryGrouping=function(Pe,X,we,Ze,et){var at;if(Pe=this.filterItems(Pe,X,et),_.isEmpty(Pe))return this;this.columns=null!==(at=this.columns)&&void 0!==at?at:[];var St=this.createAxisGroup();return this.columns.push(St),this.updateAxisGroup(St,Pe),this},Oe.prototype.withSecondaryGroupingNestedByRole=function(Pe,X,we,Ze,et,at){return this.isRoleSupportHierachryGrouping(at)?this.withSecondaryGroupingNested(Pe,X,we,Ze,et):this.withSecondaryGrouping(Pe,X,we,Ze,et)},Oe.prototype.withSecondaryExpansion=function(Pe){return this},Oe.prototype.withSecondaryGroupingNested=function(Pe,X,we,Ze,et){var at=this;return Pe=this.filterItems(Pe,X,et),_.isEmpty(Pe)||_.each(Pe,function(St){return at.withSecondaryGrouping([St],X,we,Ze,et)}),this},Oe.prototype.withCurrentInnermostGrouping=function(Pe,X,we){return this},Oe.prototype.withCurrentInnermostPrimaryGrouping=function(Pe,X,we,Ze){return this},Oe.prototype.withPrimaryDataReduction=function(Pe){return this},Oe.prototype.withScopedDataReduction=function(Pe,X){return this},Oe.prototype.withSecondaryDataReduction=function(Pe){return this},Oe.prototype.withIntersectionDataReduction=function(Pe){return this},Oe.prototype.withTopLevelAggregates=function(Pe){return this},Oe.prototype.withAdditionalProjections=function(Pe){return this},Oe.prototype.withRolesWithHierarchicalGroupingSupport=function(Pe){return v.fF.assertAnyValue(Pe,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(Pe)||(this.rolesWithHierarchicalGroupingSupport=Pe),this},Oe.prototype.toQueryShape=function(Pe){var X=[],we=this.createAxis("rows",this.rows);we&&X.push(we);var Ze=this.createAxis("columns",this.columns);return Ze&&X.push(Ze),_.isEmpty(X)?void 0:X},Oe.prototype.createAxis=function(Pe,X){if(this.removeEmptyAxisGroups(X),!_.isEmpty(X))return{Name:Pe,Groups:X}},Oe.prototype.removeEmptyAxisGroups=function(Pe){_.isEmpty(Pe)||_.remove(Pe,function(X){return _.isEmpty(X.Keys)})},Oe.prototype.createAxisGroup=function(){return{Keys:[],Subtotal:!0}},Oe.prototype.updateAxisGroup=function(Pe,X){for(var we=0,Ze=X;we<Ze.length;we++){var et=Ze[we];if(!this.referencedItems.has(et.queryName)){var at=(0,d.rC)(this.selects,et.queryName);(0,be.k)(at.expr)||(this.referencedItems.add(et.queryName),Pe.Keys.push(w.ib.serializeExprWithRef(at.expr)))}}},Oe.prototype.filterItems=function(Pe,X,we){if(v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(X,"activeProjection"),_.isEmpty(X)||_.isEmpty(Pe))return Pe;var Ze=Pe.findIndex(function(at){return at.queryName===X[0]});return Pe.slice(Ze)||(we?[]:Pe)},Oe}(),ce=t(781090);function ve(Oe){return new Ke(w.ib,Oe)}var Ke=function(){function Oe(Pe,X){v.fF.assertValue(Pe,"serializer"),this.serializer=Pe,this.featureSwitches=X}return Oe.prototype.execute=function(Pe){var X=this.executeForQueryOnlyImpl(Pe);if(!X||!X.dataShapeBinding&&X.mergedQueries&&X.mergedQueries.mapping&&2===X.mergedQueries.mapping.updateType)return{command:void 0};var we=X.mergedQueries,Ze=X.dataShapeBinding,et=X.query;this.adjustIntersectionDataReduction(Ze,we.mapping,et,Pe.highVolumeOverride),_.isEmpty(et.groupBy())||this.applyDataReductionForGroupByQuery(Ze,et);var at=X.mergedQueries&&X.mergedQueries.mapping&&1===X.mergedQueries.mapping.updateType&&_.isEmpty(Pe.additionalProjections);return{command:this.createDataQuery(et,X.queryExtensionSchema,Pe.dataSourceVariables,Ze,X.compiledDataViewMappings,Pe.dataWindow,Pe.executionMetricsKinds,Pe.anchorTime,X.visualShape),splits:we.splits,queryRewrites:X.queryRewrites,deferred:at,isPivoted:null==Ze?void 0:Ze.isPivoted}},Oe.prototype.executeForQueryOnly=function(Pe){var X=this.executeForQueryOnlyImpl(Pe);return X&&X.query},Oe.prototype.produceIdentities=function(Pe,X){var we=new Be.H;return Pe.accept(we,X)},Oe.prototype.executeForQueryOnlyImpl=function(Pe){v.fF.assertValue(Pe,"options");var bt,X=(0,ce.Go)(Pe.mappings),we=this.prepareQuery(Pe.query,X,Pe.additionalProjections),Ze=we.query,et=we.mappings,at=we.queryRewrites,St=we.additionalProjections,Ie=We(Ze),qe=(0,K.lr)(X,Ie);!function(Oe){v.fF.assertValue(Oe,"mappings");for(var Pe=Oe.length,X=0;X<Pe;X++)f(Oe[X])}(Pe.mappings),Pe.highVolumeOverride&&(bt=6),qe.mapping.categorical&&function(Oe,Pe){var X=function(){function Ze(et){this.indicesByName=et}return Ze.prototype.visitRole=function(et,at){var St=this;if(!_.isEmpty(et.items)){for(var Ie,qe=0,bt=et.items;qe<bt.length;qe++){var It=bt[qe];It.scalarKeyInfo&&null!=It.scalarKeyInfo.scalarKeyQueryName&&(v.fF.assert(function(){return null==Ie},"Only a single role item with a scalar key is supported."),Ie=It.scalarKeyInfo.scalarKeyQueryName)}Ie&&(v.fF.assert(function(){return null==St.primaryScalarKey},"Only a single scalar key is supported."),this.primaryScalarKey=this.indicesByName[Ie])}},Ze}(),we=new X(Pe);(0,h.oF)(Oe,we),null!=we.primaryScalarKey&&(0,h.oF)(Oe,{visitRole:function(){},visitReduction:function(et){et.binnedLineSample&&(et.binnedLineSample.primaryScalarKey=we.primaryScalarKey)}})}(qe.mapping,Ie);var Rt,zt,It=function(Oe,Pe,X,we,Ze,et,at,St,Ie,qe,bt,It,Rt,zt,Kt,Yt,ir){var pt,lr=et;if(et)for(var dr=0,br=J([X],we);dr<br.length;dr++)lr=lr.rewrite(br[dr]);return et&&(pt=[Oe.serializeFilter(lr)]),function(Oe,Pe,X,we,Ze,et,at,St,Ie,qe,bt,It,Rt,zt,Kt,Yt,ir){return ft(function(){return new Z(Oe,X,bt,zt,Kt,Yt)},Oe,Pe,X,we,Ze,et,at,St,Ie,qe,It,Rt,ir)}(Pe,X,we,Ze,pt,at,St,Ie,qe,Oe,bt,It,Rt,zt,Kt,Yt,ir)}(this.serializer,Ie,qe.mapping,Ze.select(),St,Pe.highlightFilter,Pe.restartToken,Ze.groupBy(),bt,Pe.expansionStates,Pe.keepProjectionOrder,Pe.noDefaultProjections,Pe.windowExpansion,this.featureSwitches,Pe.disableHidden,Pe.enableAllSubtotal,Pe.enableHierarchicalGrouping?Pe.rolesWithHierarchicalGroupingSupport:[]);if((0,r.AR)(It,et,qe.mapping,Ze.select(),3,bt),this.queryHasMeasureFilter(Ze)&&It&&(this.processTargetsForMeasureFilters(Ze,et,It),Ze=this.adjustQueryMeasureFilters(Ze,It)),Ze.hasVisualCalculations()&&(Rt=function(Oe,Pe,X,we,Ze,et,at,St,Ie,qe,bt,It){return ft(function(){return new Te(we)},Pe,X,we,Ze,[],et,at,St,Ie,Oe,qe,bt,It)}(this.serializer,Ie,qe.mapping,Ze.select(),St,Pe.restartToken,Ze.groupBy(),bt,Pe.expansionStates,Pe.noDefaultProjections,Pe.windowExpansion,Pe.rolesWithHierarchicalGroupingSupport)),Pe.queryExtensionLookup){var Kt=Pe.queryExtensionLookup(Ze,at);Ze=Kt.query,zt=Kt.extensions,at=Kt.queryRewrites}return{query:Ze,queryExtensionSchema:zt,mergedQueries:qe,dataShapeBinding:It,compiledDataViewMappings:et,queryRewrites:at,visualShape:Rt}},Oe.prototype.hasAmbiguousEqualitySemantics=function(Pe){return v.fF.assertValue(Pe,"value"),(0,o.fS)(Pe,(0,a.O7)(!1))||(0,o.fS)(Pe,(0,a.cA)(0))},Oe.prototype.prepareQuery=function(Pe,X,we){v.fF.assertValue(Pe,"query"),v.fF.assertValue(X,"mappings"),v.fF.assertAnyValue(we,"additionalProjections");for(var Ze=0,et=J(X,Pe.select());Ze<et.length;Ze++)Pe=Pe.rewrite(et[Ze]);var St=this.rewriteQuery(Pe,X,we);return St.query=function(Oe){v.fF.assertValue(Oe,"query");for(var X,Pe=Oe.select(),we=Pe.length-1;we>=0;we--)(0,l.VC)(Pe[we].expr)&&(Pe.splice(we,1),X=!0);return X?Oe.select(Pe):Oe}(St.query),St},Oe.prototype.rewriteQuery=function(Pe,X,we){v.fF.assertValue(X,"mappings");var Ze={query:Pe,mappings:X,additionalProjections:we};return function(Oe,Pe){void 0===Pe&&(Pe=!1),v.fF.assertValue(Oe,"rewrittenQuery");var X=[],we=function(Oe){if(v.fF.assertNonEmpty(Oe,"mappings"),!(Oe.length>1)&&Oe[0].matrix){var Pe=Oe[0].matrix,X=new ye("MatrixRowsGroup");(0,h.Ay)(Pe.rows,X);var we=new ye("MatrixColumnsGroup");(0,h.yL)(Pe.columns,we);var Ze=(0,e.__spreadArray)((0,e.__spreadArray)([],X.scopeRefs,!0),we.scopeRefs,!0),et=new Ce(Ze,"MatrixIntersection");(0,h.hw)(Pe.values,et);var at=new Ce(X.scopeRefs,"MatrixRowsScopedValue");return(0,h.Ay)(Pe.rows,at),{groupingRefsByRole:(0,e.__assign)((0,e.__assign)({},X.queryRefsByRole),we.queryRefsByRole),roleItemsInfo:(0,e.__spreadArray)((0,e.__spreadArray)([],et.rolesMeasures,!0),at.rolesMeasures,!0)}}v.fF.assert(function(){return Oe.length<=1||null==Oe[0].matrix&&null==Oe[1].matrix},"Not expected having two mappings with matrix")}(Oe.mappings);if(!we)return Oe;if(X.push.apply(X,we.roleItemsInfo),Pe&&!_.isEmpty(Oe.additionalProjections))for(var Ze=Oe.query.select(),et=0,at=Oe.additionalProjections;et<at.length;et++)X.push(new Ye(at[et],Ze,we.groupingRefsByRole));return _.isEmpty(X)||(Oe=function(Oe,Pe){for(var X=0;X<Oe.length;X++)for(var we=Oe[X],Ze=0;Ze<X;Ze++)we.conflictsWith(Oe[Ze])&&(Pe=fe(we,Pe));return Pe}(X,Oe)),Oe}(Ze=function(Oe){v.fF.assertValue(Oe,"item");var Pe=Oe.mappings;if(1!==Pe.length)return Oe;var X=function(Oe){var Pe,X;if(v.fF.assertValue(Oe,"mapping"),(0,h.oF)(Oe,{visitRole:function(Ze){if(Ze.aggregates&&!_.isEmpty(Ze.items)){Pe||(Pe={},X=[]);for(var et=0,at=Ze.items;et<at.length;et++)Pe[at[et].queryName]=Ze.aggregates;X.push(Ze)}}}),Pe)return{queryNames:Pe,roles:X}}(Pe[0]);if(!X)return Oe;var we=Oe.queryRewrites;return we||(we=Oe.queryRewrites=[]),function(Oe,Pe,X){v.fF.assertValue(Oe,"item"),v.fF.assertValue(Pe,"aggregatedQueryNames"),v.fF.assertValue(X,"queryRewrites");var we=Oe.query.select();for(var Ze in Pe){var et=we.withName(Ze).expr,at=Pe[Ze],St={};at.min&&(St.min=U(Oe,(0,a.m_)(et,3))),at.max&&(St.max=U(Oe,(0,a.m_)(et,4))),X.push({aggregatesAdded:{originalQueryRef:Ze,aggregates:St}})}}(Oe,X.queryNames,we),function(Oe){v.fF.assertValue(Oe,"aggregatedColumns");for(var Pe=Oe.queryNames,X=0,we=Oe.roles;X<we.length;X++){var Ze=we[X];v.fF.assertValue(Ze.items,"role.items"),_.remove(Ze.items,function(et){return Pe[et.queryName]})}}(X),Oe}(Ze=function(Oe){v.fF.assertValue(Oe,"item");var Pe=Oe.mappings.length;if(1===Pe)return Oe;if(Pe>1){var X=function(Oe){var Pe=Oe.query,X=Oe.mappings,we=Oe.additionalProjections,Ze=Oe.queryRewrites;v.fF.assertValue(Pe,"query"),v.fF.assertNonEmpty(X,"mappings");for(var et=[],at=[],St={by:null,select:[]},Ie={categories:{select:et},values:{group:St,select:at}},qe={},bt=function(mr){if(!mr.categorical)return{value:void 0};var gr=mr.categorical;(function(Oe,Pe,X,we,Ze){var at,et=Oe.values;et&&((0,h.Sr)(Oe.categories,{visitRole:function(Ie){le(X,Ie)}}),(0,h.vS)(et,{visitRole:function(Ie){if(Ze.by=Ie,Ie.items)for(var qe=0,bt=Ie.items;qe<bt.length;qe++)re(Pe,Ie.role,bt[qe],!0),at=!0}}),(0,h.fl)(et,{visitRole:function(Ie,qe){if(le("CategoricalValueGroup"===qe?Ze.select:we,Ie),Ie.items)for(var It=0,Rt=Ie.items;It<Rt.length;It++)re(Pe,Ie.role,Rt[It],at)}}))})(gr,qe,et,at,St),v.fF.assert(function(){return null==Ie.dataVolume||null==gr.dataVolume||gr.dataVolume===Ie.dataVolume},"If multiple dataVolumes are applied, they must match identically.  Otherwise, only the first dataVolume is taken."),null!=gr.dataVolume&&null==Ie.dataVolume&&(Ie.dataVolume=gr.dataVolume)},It=0,Rt=X;It<Rt.length;It++){var Kt=bt(Rt[It]);if("object"==typeof Kt)return Kt.value}var Yt=Ze?(0,e.__spreadArray)([],Ze,!0):[],ir=Pe;for(var lr in qe){var dr=qe[lr];if(!_.isEmpty(dr.categoryAndValueGroup)&&!_.isEmpty(dr.categoryOnly))for(var br=0,Cr=dr.categoryAndValueGroup;br<Cr.length;br++){var pt=Cr[br],Ut=pt.roleItem,er=ie(ir,Ut.queryName,pt.roleName);Ut.queryName=er.newQueryName,ir=er.newQuery,Yt.push.apply(Yt,er.rewriteRecords)}}return{query:ir,mappings:[{metadata:X[0].metadata,categorical:Ie}],queryRewrites:_.isEmpty(Yt)?void 0:Yt,additionalProjections:we}}(Oe);return X=function(Oe){var Pe;if(_.isEmpty(Oe.additionalProjections))return Oe;var X=Oe.query,we=Oe.mappings,Ze=Oe.queryRewrites,et=(0,e.__spreadArray)([],Oe.additionalProjections,!0);v.fF.assertValue(X,"query"),v.fF.assert(function(){return 1===we.length},"Mappings should have been merged already");for(var at=j.findActive(we[0]),St=Ze?(0,e.__spreadArray)([],Ze,!0):[],Ie=X,qe=0;qe<et.length-1;qe++)for(var bt=et[qe],It=qe+1;It<et.length;It++){var Rt=et[It];if(G(bt,Rt,Ie.select(),at)){var zt=ie(Ie,Rt.queryName);Ie=zt.newQuery,St.push.apply(St,null!==(Pe=zt.rewriteRecords)&&void 0!==Pe?Pe:[]),et[It]=(0,e.__assign)((0,e.__assign)({},Rt),{queryName:zt.newQueryName})}}return{query:Ie,mappings:we,queryRewrites:_.isEmpty(St)?void 0:St,additionalProjections:et}}(X),X}}(Ze)),!0)},Oe.prototype.adjustIntersectionDataReduction=function(Pe,X,we,Ze){if(X.categorical){var et=X.categorical;if(et.dataReductionAlgorithm)if(Pe.DataReduction&&Pe.DataReduction.Intersection)v.fF.assert(function(){return!(Pe.Secondary&&!Pe.Primary)},"Should never have only a Secondary axis"),Pe.Primary&&!Pe.Secondary&&(v.fF.assert(function(){return!Pe.DataReduction.Primary},"Should not have both Primary and Intersection data reduction"),Pe.DataReduction.Primary=Pe.DataReduction.Intersection,Pe.DataReduction.Intersection=void 0);else{var at=Pe.Primary&&(!Pe.DataReduction||!Pe.DataReduction.Primary),St=Pe.Secondary&&(!Pe.DataReduction||!Pe.DataReduction.Secondary);if(!at&&!St)return;Pe.DataReduction||(Pe.DataReduction={DataVolume:et.dataVolume||(Ze?6:3)}),at&&(Pe.DataReduction.Primary=(0,S.P)(et.dataReductionAlgorithm,we.select())),St&&(Pe.DataReduction.Secondary=(0,S.P)(et.dataReductionAlgorithm,we.select()))}}},Oe.prototype.applyDataReductionForGroupByQuery=function(Pe,X){Pe.DataReduction={},Pe.DataReduction.Primary=(0,S.P)({top:{count:1e3}},X.select())},Oe.prototype.generateScriptVisualCommand=function(Pe,X){v.fF.assertValue(Pe,"dataViewMappings");var we=(0,s.Hc)(Pe);if(we||(we=(0,s.QB)(Pe)),!we)return null;var Ze={Version:0,Script:we.source,RenderingEngine:we.provider,ScriptOutputType:we.outputType};X&&X.height&&X.width&&(Ze.ViewportWidthPx=X.width,Ze.ViewportHeightPx=X.height);var et=(0,s.oy)(Pe);return et&&et.script.scriptInput&&(Ze.ScriptInput=et.script.scriptInput),{ScriptVisualCommand:Ze}},Oe.prototype.queryHasMeasureFilter=function(Pe){for(var X=0,we=Pe.where();X<we.length;X++)if(1===(0,u._)(we[X].condition))return!0;return!1},Oe.prototype.removeExprFromTargetExprs=function(Pe,X){for(var we=0,Ze=Pe;we<Ze.length;we++){var at=Ze[we].target;if(null!=at)for(var St=0,Ie=at.length;St<Ie;St++)(0,o.fS)(at[St],X)&&at.splice(St,1)}},Oe.prototype.processTargetsForMeasureFilters=function(Pe,X,we){var Ze=this;v.fF.assertValue(Pe,"query"),v.fF.assertValue(X,"mappings"),v.fF.assertAnyValue(we,"binding");for(var et=this.getProjectedSelectIndexMap(we),at=0,St=X;at<St.length;at++)(0,h.oF)(St[at],{visitRole:function(bt){var It=bt.activeItems,Rt=bt.items;if(It&&!_.isEmpty(It)&&!_.isEmpty(Rt))for(var zt=_.findIndex(Rt,function(br){return _.includes(It,br.queryName)}),Kt=0;Kt<zt;Kt++){var Yt=Rt[Kt].queryName,ir=Pe.select(),lr=(0,d.g2)(ir,Yt);if(!et[lr]){var dr=ir[lr].expr;Ze.removeExprFromTargetExprs(Pe.where(),dr)}}}})},Oe.prototype.adjustQueryMeasureFilters=function(Pe,X){var we=Pe.where(),Ze=[],et=[];if(_.isEmpty(X.Primary.Groupings)||_.isEmpty(X.Primary.Groupings[0].Projections)||!_.isEmpty(X.Secondary))return Pe;for(var at=Pe.select(),Ie=0,qe=X.Primary.Groupings[0].Projections;Ie<qe.length;Ie++)if(!(0,be.k)(at[qe[Ie]].expr))return Pe;for(var Rt=0,zt=we;Rt<zt.length;Rt++){var Kt=zt[Rt];_.isEmpty(Kt.target)?et.push(Kt):Ze.push(Kt)}if(_.isEmpty(Ze))return Pe;var Yt=i.vQ.createWith({from:Pe.from(),select:Pe.select(),orderBy:Pe.orderBy(),top:Pe.top(),transforms:Pe.transforms(),groupBy:Pe.groupBy(),where:et}),ir=i.yl.fromMeasureFilters(Pe,Ze,X);return Yt.addSemanticFilter(ir)},Oe.prototype.getProjectedSelectIndexMap=function(Pe){return v.fF.assertAnyValue(Pe,"binding"),Pe?_.chain([Pe.Primary,Pe.Secondary]).filter(function(we){return we&&!_.isEmpty(we.Groupings)}).map(function(we){return we.Groupings}).flatten().filter(function(we){return!_.isEmpty(we.Projections)}).map(function(we){return we.Projections}).flatten().reduce(function(we,Ze){return we[Ze]=!0,we},{}).value():{}},Oe.prototype.createDataQuery=function(Pe,X,we,Ze,et,at,St,Ie,qe){var bt={Query:this.serializer.serializeQuery(Pe),Binding:Ze,AnchorTime:Ie};X&&(bt.Extension=X),we&&(bt.DataSourceVariables=we),St&&(bt.ExecutionMetricsKind=St);var Rt={Commands:[{SemanticQueryDataShapeCommand:bt}]},zt=this.generateScriptVisualCommand(et,at);return zt&&Rt.Commands.push(zt),_.isEmpty(qe)||(bt.Query.VisualShape=qe),Rt},Oe}();function ft(Oe,Pe,X,we,Ze,et,at,St,Ie,qe,bt,It,Rt,zt){v.fF.assertValue(Pe,"indicesByName"),v.fF.assertValue(X,"mapping"),v.fF.assertValue(we,"querySelects"),v.fF.assertAnyValue(Ze,"additionalProjections"),v.fF.assertAnyValue(et,"highlightFilter"),v.fF.assertAnyValue(at,"restartToken"),v.fF.assertAnyValue(St,"queryGroupBy"),v.fF.assertAnyValue(Ie,"highVolumeOverride"),v.fF.assertAnyValue(qe,"expansionStates"),v.fF.assertAnyValue(bt,"serializer");var Kt=Oe();if(Kt.withRestartToken(at).withHighlightFilter(et).withAdditionalProjections(Ze).withRolesWithHierarchicalGroupingSupport(zt),X.table?Kt=Kt.withGroupBy(St):v.fF.assert(function(){return _.isEmpty(St)},"GroupBy should only be used with table mapping."),2!==X.updateType)if(X.categorical)!function(Oe,Pe,X){v.fF.assertValue(Oe,"builder"),v.fF.assertValue(Pe,"mapping"),(0,h.Sr)(Pe.categories,{visitRole:function(Ze){Oe.withPrimaryGroupingNestedByRole(Ze.items,Ze.activeItems,Ze.showAll,Ze.subtotalType,!0,X,Ze.role)},visitReduction:function(Ze){Oe.withPrimaryDataReduction(Ze)}}),(0,h.vS)(Pe.values,{visitRole:function(Ze){Oe.withSecondaryGroupingNestedByRole(Ze.items,Ze.activeItems,Ze.showAll,Ze.subtotalType,X,Ze.role)},visitReduction:function(Ze){Oe.withSecondaryDataReduction(Ze)}}),(0,h.fl)(Pe.values,{visitRole:function(Ze,et){Oe.withCurrentInnermostPrimaryGrouping(Ze.items,Ze.showAll,Ze.subtotalType,"CategoricalValueGroup"!==et)}}),Oe.withIntersectionDataReduction(Pe.dataReductionAlgorithm).withDataVolume(Pe.dataVolume).withIncludeEmptyGroups(Pe.includeEmptyGroups)}(Kt,X.categorical,It);else if(X.table)!function(Oe,Pe){v.fF.assertValue(Oe,"builder"),v.fF.assertValue(Pe,"mapping"),(0,h.vV)(Pe,{visitRole:function(we){Oe.withPrimaryGroupingNestedByRole(we.items,we.activeItems,we.showAll,we.subtotalType,!0,!1,we.role)},visitReduction:function(we){Oe.withPrimaryDataReduction(we)}}),Oe.withDataVolume(Pe.dataVolume)}(Kt,X.table);else if(X.matrix)!function(Oe,Pe,X,we,Ze){v.fF.assertValue(Oe,"builder"),v.fF.assertValue(Pe,"mapping");var et=new nt(Oe,we);(0,h.Ay)(Pe.rows,et),v.fF.assert(function(){return!X||X.length<=1},"Expected max one expansion state");var at=function(Oe,Pe,X,we,Ze){if(null!=Oe&&(v.fF.assertValue(Oe,"items"),v.fF.assertAnyValue(Pe,"activeProjections"),!(_.isEmpty(we)||_.isEmpty(Pe)&&Ze))){var et=_.find(we,function(Ie){return _.isEqual(Ie.roles,X)});if(v.fF.assertValue(et,"Expansion state should have been found since only 1 is supported"),!_.isEmpty(et.levels))return Oe=_.uniqBy(Oe,function(Ie){return Ie.queryName}),Pe=_.uniq(Pe),x(et,(_.isEmpty(Pe)?Oe.length:Pe.length)-1)}}(et.primaryRoleItems,et.primaryActiveRoleItems,et.primaryRoles,X,we);at&&Oe.withPrimaryExpansion(at),Ze&&Oe.withPrimaryWindowExpansion(Ze),(0,h.yL)(Pe.columns,{visitRole:function(Ie){Oe.withSecondaryGroupingNested(Ie.items,Ie.activeItems,Ie.showAll,Ie.subtotalType,we)},visitReduction:function(Ie){Oe.withSecondaryDataReduction(Ie)}}),(0,h.hw)(Pe.values,{visitRole:function(Ie){Oe.withCurrentInnermostGrouping(Ie.items,Ie.showAll,Ie.subtotalType)}}),Oe.withDataVolume(Pe.dataVolume),Oe.withIncludeEmptyGroups(Pe.includeEmptyGroups)}(Kt,X.matrix,qe,It,Rt);else if(X.tree)!function(Oe,Pe,X){v.fF.assertValue(Oe,"builder"),v.fF.assertValue(Pe,"mapping"),(0,h.Dt)(Pe.nodes,{visitRole:function(Ze){Oe.withPrimaryGroupingNested(Ze.items,Ze.activeItems,Ze.showAll,Ze.subtotalType,X)},visitReduction:function(Ze){Oe.withPrimaryDataReduction(Ze)}}),(0,h.nA)(Pe.values,{visitRole:function(Ze){Oe.withCurrentInnermostPrimaryGrouping(Ze.items,Ze.showAll,Ze.subtotalType)}}),Oe.withDataVolume(Pe.dataVolume)}(Kt,X.tree,It);else if(X.scriptResult)return ft(Oe,Pe,X.scriptResult.dataInput,we,Ze);return Ie&&Kt.withDataVolume(Ie),Kt.withTopLevelAggregates(X.scopedAggregates),Kt.toQueryShape(X)}var nt=function(){function Oe(Pe,X){this.inComposite=!1,this.startedCompositeNest=!1,this.builder=Pe,this.noDefaultProjections=X}return Oe.prototype.visitRole=function(Pe,X){var we,Ze;if("MatrixRowsScopedValue"===X)this.builder.withCurrentInnermostPrimaryGrouping(Pe.items,Pe.showAll,Pe.subtotalType,!0);else if(this.inComposite){var et=this.startedCompositeNest;this.startedCompositeNest=!0,this.builder.withPrimaryGrouping(Pe.items,Pe.activeItems,Pe.showAll,Pe.subtotalType,et,this.noDefaultProjections)}else this.builder.withPrimaryGroupingNested(Pe.items,Pe.activeItems,Pe.showAll,Pe.subtotalType,this.noDefaultProjections);this.primaryRoleItems||(this.primaryRoleItems=[]),this.primaryRoles||(this.primaryRoles=[]),this.primaryRoles.push(Pe.role),(we=this.primaryRoleItems).push.apply(we,Pe.items||[]),_.isEmpty(Pe.activeItems)||(this.primaryActiveRoleItems||(this.primaryActiveRoleItems=[]),(Ze=this.primaryActiveRoleItems).push.apply(Ze,Pe.activeItems||[]))},Oe.prototype.visitReduction=function(Pe){this.builder.withPrimaryDataReduction(Pe)},Oe.prototype.enterComposite=function(Pe){this.inComposite=!0,this.startedCompositeNest=!1,this.compositeGroupingIndexStart=this.builder.primaryGroupingCount},Oe.prototype.exitComposite=function(Pe){if(this.inComposite=!1,this.startedCompositeNest=!1,Pe.dataReductionAlgorithm||Pe.synchronized){var X=this.compositeGroupingIndexStart,we=this.builder.primaryGroupingCount;if(X<we){var Ze=_.range(X,we);Pe.synchronized&&this.builder.withPrimarySynchronization({Groupings:Ze}),Pe.dataReductionAlgorithm&&this.builder.withScopedDataReduction(Pe.dataReductionAlgorithm,{Primary:Ze})}}},Oe}();function We(Oe){v.fF.assertValue(Oe,"query");for(var Pe={},X=Oe.select(),we=Oe.groupBy(),Ze=0,et=X.length;Ze<et;Ze++)Pe[X[Ze].name]=Ze;for(Ze=0,et=we.length;Ze<et;Ze++)Pe[we[Ze].name]=Ze;return Pe}function de(Oe,Pe){if(v.fF.assertValue(Oe,"projectionIdx"),v.fF.assertAnyValue(Pe,"axis"),Pe)for(var X=0,we=Pe.Groupings;X<we.length;X++)if(_.includes(we[X].Projections,Oe))return!0}function Ve(Oe){v.fF.assertValue(Oe,"percentile");var Pe={K:Oe.k};return Oe.exclusive&&(Pe.Exclusive=Oe.exclusive),{Percentile:Pe}}var Z=function(){function Oe(Pe,X,we,Ze,et,at){this.disableHidden=et,this.enableAllSubtotal=at,v.fF.assertValue(Pe,"indicesByName"),v.fF.assertValue(X,"querySelects"),this.indicesByName=Pe,this.querySelects=X,this.reduction={DataVolume:3},this.joinPredicateBehaviors=[],this.insertProjection=we?d.Gz:d.yg,this.featureSwitches=Ze||{},this.hiddenProjections=[]}return Object.defineProperty(Oe.prototype,"primaryGroupingCount",{get:function(){return this.primary&&this.primary.Groupings&&this.primary.Groupings.length||0},enumerable:!1,configurable:!0}),Oe.prototype.withRestartToken=function(Pe){return v.fF.assertAnyValue(Pe,"restartToken"),this.restartToken=Pe,this},Oe.prototype.withPrimaryWindowExpansion=function(Pe){return v.fF.assertAnyValue(Pe,"windowExpansion"),this.reduction.Primary&&this.reduction.Primary.TopNPerLevel&&(this.reduction.Primary.TopNPerLevel.WindowExpansion=function(Oe){return L(Oe)}(Pe)),this},Oe.prototype.withDataVolume=function(Pe){return v.fF.assertAnyValue(Pe,"dataVolume"),null==Pe||(this.reduction.DataVolume=Pe),this},Oe.prototype.withIncludeEmptyGroups=function(Pe){return v.fF.assertAnyValue(Pe,"value"),this.includeEmptyGroups=Pe,this},Oe.prototype.withHighlightFilter=function(Pe){return v.fF.assertAnyValue(Pe,"value"),this.highlightFilter=Pe,this},Oe.prototype.withGroupBy=function(Pe){return v.fF.assertAnyValue(Pe,"queryGroupBy"),_.isEmpty(Pe)||(this.groupByNames=_.map(Pe,function(X){return X.name})),this},Oe.prototype.withPrimaryGrouping=function(Pe,X,we,Ze,et,at){var Ie,St=this;if(v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(X,"activeProjection"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(Ze,"roleSubtotalType"),v.fF.assert(function(){return!St.secondary},"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),Pe=this.filterItems(Pe,X,at),_.isEmpty(Pe))return this;this.primary?et?Ie=_.last(this.primary.Groupings):this.primary.Groupings.push(Ie={Projections:[]}):this.primary={Groupings:[Ie={Projections:[]}]},this.updateGrouping(Ie,Pe,we,Ze);var qe=this.getAggregatesForRoleItems(Pe);return this.applyTopLevelAggregates(qe),this},Oe.prototype.withPrimaryExpansion=function(Pe){return v.fF.assertAnyValue(Pe,"expansion"),this.ensurePrimaryAxis(),this.primary.Expansion=Pe,this},Oe.prototype.withPrimarySynchronization=function(Pe){return v.fF.assertValue(Pe,"synchronization"),this.ensurePrimaryAxis(),this.primary.Synchronization||(this.primary.Synchronization=[]),this.primary.Synchronization.push(Pe),this},Oe.prototype.ensurePrimaryAxis=function(){this.primary||(this.primary={Groupings:[]})},Oe.prototype.ensureSecondaryAxis=function(){this.secondary||(this.secondary={Groupings:[]})},Oe.prototype.withPrimaryGroupingNested=function(Pe,X,we,Ze,et){var at=this;return v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(X,"activeProjection"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(Ze,"roleSubtotalType"),v.fF.assert(function(){return!at.secondary},"DataShapeBindingBuilder is sequence dependent -- must not add primary items after secondary items."),Pe=this.filterItems(Pe,X,et),_.isEmpty(Pe)?this:(this.primary||(this.primary={Groupings:[]}),this.withNested(this.primary.Groupings,Pe,we,Ze))},Oe.prototype.withSecondaryGrouping=function(Pe,X,we,Ze,et){if(v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(X,"activeProjection"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(Ze,"roleSubtotalType"),Pe=this.filterItems(Pe,X,et),_.isEmpty(Pe))return this;var at;if(this.primary){var St=_.last(this.primary.Groupings);this.containsAll(St,Pe)?at=St:(this.secondary||(this.secondary={Groupings:[]}),this.secondary.Groupings.push(at={Projections:[]}))}else this.primary={Groupings:[at={Projections:[]}]},this.pivotedSecondaryToPrimary=!0;this.updateGrouping(at,Pe,we,Ze);var Ie=this.getAggregatesForRoleItems(Pe);return this.applyTopLevelAggregates(Ie),this},Oe.prototype.withSecondaryExpansion=function(Pe){return v.fF.assertAnyValue(Pe,"expansion"),this.ensureSecondaryAxis(),this.secondary.Expansion=Pe,this},Oe.prototype.withSecondaryGroupingNested=function(Pe,X,we,Ze,et){return v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(Ze,"roleSubtotalType"),Pe=this.filterItems(Pe,X,et),_.isEmpty(Pe)?this:(this.primary?(this.secondary||(this.secondary={Groupings:[]}),at=this.secondary.Groupings):(this.primary={Groupings:at=[]},this.pivotedSecondaryToPrimary=!0),this.withNested(at,Pe,we,Ze));var at},Oe.prototype.withCurrentInnermostGrouping=function(Pe,X,we){return v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(X,"showAll"),v.fF.assertAnyValue(we,"roleSubtotalType"),Pe=this.filterItems(Pe,null,!1),_.isEmpty(Pe)||(this.secondary&&(Ze=_.last(this.secondary.Groupings)),this.addValuesToGrouping(Pe,X,we,Ze)),this;var Ze},Oe.prototype.withCurrentInnermostPrimaryGrouping=function(Pe,X,we,Ze){if(v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(X,"showAll"),v.fF.assertAnyValue(we,"roleSubtotalType"),Pe=this.filterItems(Pe,null,!1),_.isEmpty(Pe))return this;if(this.addValuesToGrouping(Pe,X,we),Ze){this.primaryOnlyProjections=this.primaryOnlyProjections||[];for(var et=0,at=Pe;et<at.length;et++)this.primaryOnlyProjections.push(this.indicesByName[at[et].queryName])}return this},Oe.prototype.addValuesToGrouping=function(Pe,X,we,Ze){Ze||(Ze=this.ensureInnermostPrimaryGrouping()),this.updateGrouping(Ze,Pe,X,we);var et=this.getAggregatesForRoleItems(Pe);this.applyTopLevelAggregates(et)},Oe.prototype.ensureInnermostPrimaryGrouping=function(){var Pe;return this.primary?Pe=_.last(this.primary.Groupings):this.primary={Groupings:[Pe={Projections:[]}]},Pe},Oe.prototype.withPrimaryDataReduction=function(Pe){return Pe&&this.primary?(this.reduction.Primary=(0,S.P)(Pe,this.querySelects),this):this},Oe.prototype.withScopedDataReduction=function(Pe,X){return Pe?(this.reduction.Scoped||(this.reduction.Scoped=[]),this.reduction.Scoped.push({Scope:X,Algorithm:(0,S.P)(Pe,this.querySelects)}),this):this},Oe.prototype.withSecondaryDataReduction=function(Pe){if(this.pivotedSecondaryToPrimary)return this.withPrimaryDataReduction(Pe);if(!Pe||!this.secondary)return this;if(this.reduction.Scoped&&!_.isEmpty(this.secondary.Groupings)){var we=_.range(0,this.secondary.Groupings.length);return this.withScopedDataReduction(Pe,{Secondary:we}),this}return this.reduction.Secondary=(0,S.P)(Pe,this.querySelects),this},Oe.prototype.withIntersectionDataReduction=function(Pe){return Pe?this.reduction.Primary||this.reduction.Secondary?(v.fF.assertFail("Should not have both Intersection and Primary or Secondary data reduction algorithm."),this):Pe.binnedLineSample?(this.reduction.Intersection=(0,S.P)(Pe,this.querySelects),this):this:this},Oe.prototype.withTopLevelAggregates=function(Pe){var X=this;if(!this.featureSwitches.scopedAggregates)return this;if(_.isEmpty(Pe))return this;var Ze=this.convertDataViewMappingAggregate(Pe,function(at){return X.toAggregateScope(at,X.primary.Groupings,0)}),et=this.getDataShapeBindingAggregates(Ze);return this.applyTopLevelAggregates(et),this},Oe.prototype.toAggregateScope=function(Pe,X,we){v.fF.assertValue(Pe,"scopeAsQueryNames"),v.fF.assertValue(X,"primaryGroupings");for(var Ze=0,et=this.querySelects,at=0,St=X;at<St.length;at++){var Ie=St[at];if(!_.isEmpty(Ie.ShowItemsWithNoData))return;for(var bt=function(ir){var lr=et[ir];if((0,be.k)(lr.expr))return"continue";var dr=lr.name;return Pe.some(function(br){return br===dr})?void 0:Ze>we?{value:{PrimaryDepth:Ze}}:{value:void 0}},It=0,Rt=Ie.Projections;It<Rt.length;It++){var Kt=bt(Rt[It]);if("object"==typeof Kt)return Kt.value}Ze++}if(Ze>we)return{PrimaryDepth:Ze}},Oe.prototype.updateScopeAggregatesForGroupings=function(Pe,X){var we=this;if(this.featureSwitches.scopedAggregates&&X&&Pe)for(var et=0,at=0,St=X;at<St.length;at++){var Ie=St[at],qe=Ie.aggregates&&Ie.aggregates.filter(c.u5);if(!_.isEmpty(qe)){var bt=this.convertDataViewMappingAggregate(qe,function(Rt){return we.toAggregateScope(Rt,Pe,et+1)}),It=this.getDataShapeBindingAggregates(bt);_.isEmpty(It)||(Pe[et].Aggregates=It),et++}}},Oe.prototype.getDataShapeBindingAggregates=function(){for(var Pe=[],X=0;X<arguments.length;X++)Pe[X]=arguments[X];for(var we={},Ze=0,et=Pe;Ze<et.length;Ze++){var at=et[Ze];_.forEach(at,function(St,Ie){for(var qe=we[Ie]=we[Ie]||[],bt=function(Yt){qe.some(function(ir){return _.isEqual(ir,Yt)})||qe.push(Yt)},It=0,Rt=St;It<Rt.length;It++)bt(Rt[It])})}return _.map(we,function(St,Ie){return{Select:+Ie,Aggregations:St}})},Oe.prototype.updateGrouping=function(Pe,X,we,Ze){v.fF.assertValue(Pe,"grouping"),v.fF.assertNonEmpty(X,"items"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(Ze,"roleSubtotalType"),this.addProjections(Pe.Projections,X);var et=this.indicesByName;if(we){Pe.ShowItemsWithNoData||(Pe.ShowItemsWithNoData=[]);for(var at=0,St=X;at<St.length;at++)this.insertProjection(Pe.ShowItemsWithNoData,et[St[at].queryName])}for(var qe=X[0].subtotalType,bt=1,It=X.length;bt<It;bt++)if(X[bt].subtotalType!==qe){qe=void 0;break}var Rt=function(Oe){switch(Oe){case 1:return 1;case 2:return 2;case 0:return}}(null!=qe?qe:Ze);null!=Rt?Pe.Subtotal=Rt:this.enableAllSubtotal&&(Pe.Subtotal=2);var zt=this.groupByNames;zt&&(Pe.GroupBy=_.map(zt,function(Kt){return et[Kt]}))},Oe.prototype.withNested=function(Pe,X,we,Ze){v.fF.assertValue(Pe,"groupings"),v.fF.assertValue(X,"items"),v.fF.assertAnyValue(we,"showAll"),v.fF.assertAnyValue(Ze,"roleSubtotalType");for(var et=0,at=X;et<at.length;et++){var Ie={Projections:[]};this.updateGrouping(Ie,[at[et]],we,Ze),Pe.push(Ie)}this.updateScopeAggregatesForGroupings(Pe,X);var qe=this.getAggregatesForRoleItems(X);return this.applyTopLevelAggregates(qe),this},Oe.prototype.filterItems=function(Pe,X,we){if(v.fF.assertAnyValue(Pe,"items"),v.fF.assertAnyValue(X,"activeProjection"),!_.isEmpty(Pe)){Pe=_.uniqBy(Pe,function(It){return It.queryName});var et,Ze=this.indicesByName;X&&(et=[]);for(var at=0,St=Pe.length;at<St;at++){var Ie=Pe[at],qe=null,bt=X&&!_.isEmpty(X)&&!_.includes(X,Ie.queryName);null==Ze[Ie.queryName]?qe=at-1:(bt||this.isReferenced(Ie))&&(qe=at),null==qe?et&&et.push(Ie):et||(et=qe<0?[]:(0,d.w6)(Pe,0,qe))}return et||(we?[]:Pe)}},Oe.prototype.isReferenced=function(Pe){v.fF.assertValue(Pe,"item");var X=this.indicesByName[Pe.queryName];return de(X,this.primary)||de(X,this.secondary)||_.includes(this.projections,X)},Oe.prototype.containsAll=function(Pe,X){v.fF.assertValue(Pe,"grouping"),v.fF.assertValue(X,"items");for(var we=Pe.Projections,Ze=this.indicesByName,et=0,at=X;et<at.length;et++)if(!_.includes(we,Ze[at[et].queryName]))return!1;return!0},Oe.prototype.addProjections=function(Pe,X){v.fF.assertValue(Pe,"projections"),v.fF.assertValue(X,"items");for(var we=this.indicesByName,Ze=0,et=X;Ze<et.length;Ze++){var at=et[Ze],St=we[at.queryName];at.hidden&&this.hiddenProjections.push({QueryReference:{ExpressionName:at.queryName}}),this.insertProjection(Pe,St),this.addJoinPredicateBehavior(St,at.joinPredicate)}},Oe.prototype.addJoinPredicateBehavior=function(Pe,X){this.joinPredicateBehaviors[Pe]?void 0===X&&(this.joinPredicateBehaviors[Pe].behavior=X):this.joinPredicateBehaviors[Pe]={behavior:X}},Oe.prototype.withRolesWithHierarchicalGroupingSupport=function(Pe){return v.fF.assertAnyValue(Pe,"rolesWithHierarchicalGroupingSupport"),_.isEmpty(Pe)||(this.rolesWithHierarchicalGroupingSupport=Pe),this},Oe.prototype.withPrimaryGroupingNestedByRole=function(Pe,X,we,Ze,et,at,St){return this.isRoleSupportHierachryGrouping(St)?this.withPrimaryGroupingNested(Pe,X,we,Ze,at):this.withPrimaryGrouping(Pe,X,we,Ze,et,at)},Oe.prototype.isRoleSupportHierachryGrouping=function(Pe){return this.rolesWithHierarchicalGroupingSupport&&this.rolesWithHierarchicalGroupingSupport.includes(Pe)},Oe.prototype.withSecondaryGroupingNestedByRole=function(Pe,X,we,Ze,et,at){return this.isRoleSupportHierachryGrouping(at)?this.withSecondaryGroupingNested(Pe,X,we,Ze,et):this.withSecondaryGrouping(Pe,X,we,Ze,et)},Oe.prototype.withAdditionalProjections=function(Pe){return v.fF.assertAnyValue(Pe,"additionalProjections"),_.isEmpty(Pe)||(this.additionalProjections=Pe),this},Oe.prototype.applyAdditional=function(Pe){var we,X=this,Ze=this.querySelects,et=this.additionalProjections,at=j.findActive(Pe);if(!_.isEmpty(et))for(var St=this.primary,Ie=this.secondary,qe=this.projections,bt=function(ir){var lr=(0,m.P6)(null===(we=ir.selector)||void 0===we?void 0:we.data,Ze,at);v.fF.assert(function(){return void 0!==lr},"scopeRefs !== undefined");var dr=It.indicesByName[ir.queryName],br=It.convertProjectionAggregates(dr,ir.aggregates);if(br&&It.applyTopLevelAggregates([br]),null===lr)return ir.aggregates||(qe||(It.projections=qe=[]),It.insertProjection(qe,dr),It.addJoinPredicateBehavior(dr,ir.joinPredicate)),"continue";var Cr=_.map(lr,function(Vr){return X.indicesByName[Vr]}),pt=Ie&&!_.isEmpty(Ie.Groupings),Ut=!!Pe.categorical&&pt&&It.featureSwitches.categoricalSecondaryCF,er=Ut?Ie:St,Pr=Ut?St:Ie,mr=Cr.length,gr=St&&It.addAdditional(dr,Cr,er);gr&&pt&&er===St&&It.addSuppressedProjection(_.last(Ie.Groupings),dr);var xr=Cr.length;gr||(gr=pt&&It.addAdditional(dr,Cr,Pr))&&Pr===St&&mr===xr&&It.addSuppressedProjection(_.last(Ie.Groupings),dr),gr&&It.addJoinPredicateBehavior(dr,ir.joinPredicate)},It=this,Rt=0,zt=et;Rt<zt.length;Rt++)bt(zt[Rt])},Oe.prototype.addAdditional=function(Pe,X,we){v.fF.assertValue(Pe,"projectionIdx"),v.fF.assertNonEmpty(X,"remainingScopeRefs"),v.fF.assertValue(we,"axis"),v.fF.assertNonEmpty(we.Groupings,"groupings");for(var at,Ze=we.Groupings,et=!1,St=0;St<Ze.length;St++)if(at=Ze[St],et)this.addSuppressedProjection(at,Pe);else if(_.remove(X,function(Ie){return _.includes(at.Projections,Ie)}),0===X.length){if(!this.isProjectingOnNonLeafGrouping(St,we))return this.insertProjection(_.last(Ze).Projections,Pe),!0;this.insertProjection(at.Projections,Pe),et=!0}return et},Oe.prototype.isProjectingOnNonLeafGrouping=function(Pe,X){v.fF.assertValue(X,"axis"),v.fF.assertNonEmpty(X.Groupings,"groupings"),v.fF.assert(function(){return Pe>=0&&Pe<X.Groupings.length},"out-of-bound projection target");var Ze=X.Groupings.length;return!(Pe===Ze-1||2!==Ze||!X.Synchronization)},Oe.prototype.addSuppressedProjection=function(Pe,X){v.fF.assertValue(Pe,"grouping"),Pe.SuppressedProjections||(Pe.SuppressedProjections=[]),this.insertProjection(Pe.SuppressedProjections,X)},Oe.prototype.applyTopLevelAggregates=function(Pe){var X;_.isEmpty(Pe)||(this.aggregates||(this.aggregates=[]),(X=this.aggregates).push.apply(X,Pe))},Oe.prototype.getAggregatesForRoleItems=function(Pe){for(var X=[],we=0,Ze=Pe;we<Ze.length;we++){var et=Ze[we];et.aggregates&&X.push(this.convertDataViewMappingAggregate(et.aggregates,et.queryName))}if(!_.isEmpty(X))return this.getDataShapeBindingAggregates.apply(this,X)},Oe.prototype.convertDataViewMappingAggregate=function(Pe,X){var we,Ze;_.isFunction(X)?v.fF.assertValue(Ze=X,"Need `getAggregateScope` when aggregates are scoped"):we=this.indicesByName[X];for(var et={},at=function(Rt){var zt=void 0,Kt=void 0;if((0,c.u5)(Rt)){if(!(Ze&&(zt=Rt.queryName?St.indicesByName[Rt.queryName]:we,Kt=Rt.scope&&Ze(Rt.scope))))return"continue"}else zt=we;v.fF.assertValue(zt,"aggregate must provide a queryName or a defaultQueryName must be provided");var Yt=et[zt]=et[zt]||[],ir=!!Kt||void 0;v.fF.assert(function(){return Rt.min||Rt.max||Rt.average},"Aggregates must aggregate"),Rt.min&&Yt.push({Scope:Kt,RespectInstanceFilters:ir,Min:{}}),Rt.max&&Yt.push({Scope:Kt,RespectInstanceFilters:ir,Max:{}}),Rt.average&&Yt.push({Scope:Kt,RespectInstanceFilters:ir,Average:{}})},St=this,Ie=0,qe=Pe;Ie<qe.length;Ie++)at(qe[Ie]);return _.isEmpty(et)?void 0:et},Oe.prototype.convertProjectionAggregates=function(Pe,X){if(v.fF.assertValue(Pe,"projectionIdx"),v.fF.assertAnyValue(X,"aggregates"),X){var we=[],Ze={Select:Pe,Aggregations:we};if(X.min&&we.push({Min:{}}),X.max&&we.push({Max:{}}),X.average&&we.push({Average:{}}),X.median&&we.push({Median:{}}),X.percentiles)for(var et=0,at=X.percentiles;et<at.length;et++)we.push(Ve(at[et]));return v.fF.assert(function(){return!_.isEmpty(Ze.Aggregations)},"Some aggregates should be added to the query if projectionAggregates will be added to the data shape binding."),Ze}},Oe.prototype.suppressProjectionsIfNeeded=function(){if(!_.isEmpty(this.primaryOnlyProjections)&&this.secondary)for(var Pe=_.last(this.secondary.Groupings),X=0,we=this.primaryOnlyProjections;X<we.length;X++)this.addSuppressedProjection(Pe,we[X])},Oe.prototype.toQueryShape=function(Pe){var X;this.applyAdditional(Pe),this.suppressProjectionsIfNeeded();var we=this.primary,Ze=this.projections;if(!we){if(!Ze)return;we={Groupings:[{Projections:Ze}]},Ze=null}var et=this.restartToken;if(et){var at=!1;if(this.reduction.Primary&&this.reduction.Primary.Window&&(this.reduction.Primary.Window.RestartTokens=et,at=!0),this.reduction.Scoped){for(var St=0,Ie=this.reduction.Scoped;St<Ie.length;St++){var qe=Ie[St];qe.Algorithm.Window&&(v.fF.assert(function(){return!at},"Only 1 scoped window is allowed at this time"),qe.Algorithm.Window.RestartTokens=et,qe.Algorithm.Window.RestartMatchingBehavior=1,at=!0)}v.fF.assert(function(){return at},"A restartToken was present but it wasn't assigned to any window.")}}var bt={Primary:we};this.secondary&&(bt.Secondary=this.secondary),Ze&&(bt.Projections=Ze),(this.reduction.Primary||this.reduction.Secondary||this.reduction.Intersection||this.reduction.Scoped)&&(bt.DataReduction=this.reduction),this.includeEmptyGroups&&(bt.IncludeEmptyGroups=this.includeEmptyGroups);var It=this.aggregates;It&&(bt.Aggregates=It);for(var Rt=[],zt=0;zt<this.joinPredicateBehaviors.length;zt++)if(this.joinPredicateBehaviors[zt]&&0===this.joinPredicateBehaviors[zt].behavior){var Kt=null===(X=this.querySelects[zt])||void 0===X?void 0:X.expr;(!Kt||!(0,l.jX)(Kt))&&Rt.push(zt)}return _.isEmpty(Rt)||(bt.SuppressedJoinPredicates=Rt),!this.disableHidden&&!_.isEmpty(this.hiddenProjections)&&(bt.HiddenProjections=this.hiddenProjections),bt.Version=1,this.highlightFilter&&(bt.Highlights=this.highlightFilter),this.pivotedSecondaryToPrimary&&(bt.isPivoted=this.pivotedSecondaryToPrimary),bt},Oe}();function J(Oe,Pe){return[new Fe,new rt(Oe,Pe),new ze]}var Fe=function(Oe){function Pe(){return null!==Oe&&Oe.apply(this,arguments)||this}return(0,e.__extends)(Pe,Oe),Pe.prototype.visitScopedEval=function(X){return _.isEmpty(X.scope)?X:(0,a.ed)(X.expression,_.filter(X.scope,function(we){return!(0,l.DB)(we)}))},Pe}(n.b),ze=function(Oe){function Pe(){return null!==Oe&&Oe.apply(this,arguments)||this}return(0,e.__extends)(Pe,Oe),Pe.prototype.visitGroupRef=function(X){return new a.Wh(X.source,X.ref)},Pe}(n.b),rt=function(Oe){function Pe(X,we){var Ze=Oe.call(this)||this;return Ze.mappings=X,Ze.selects=we,Ze}return(0,e.__extends)(Pe,Oe),Pe.prototype.visitScopedEval=function(X){for(var we=[],Ze=!1,et=0,at=X.scope;et<at.length;et++){var St=at[et];if((0,l.yL)(St)){Ze=!0;for(var Ie=0,qe=this.mappings;Ie<qe.length;Ie++){var Rt=j.findActive(qe[Ie])[St.role];if(Rt)for(var zt=function(br){var Cr=_.find(Kt.selects,function(pt){return pt.name===br});Cr&&we.push(Cr.expr)},Kt=this,Yt=0,ir=Rt;Yt<ir.length;Yt++)zt(ir[Yt])}}else we.push(St)}return Ze?(0,a.ed)(X.expression,_.uniqBy(we,function(dr){return w.ib.serializeExpr(dr)})):X},Pe}(n.b)},700954:function(Xe,H,t){t.d(H,{KI:function(){return r}});var e=t(973188),l=t(498342),o=t(512322),d=t(408514),v=t(655537),S=t(202587),h=t(572232),c=function(){function F(E){this.elements=E,this.currentIndex=-1}return F.prototype.reset=function(E){var w=this;this.currentIndex=-1,E&&(l.fF.assert(function(){return w.elements!==E},"Resetting with same elements"),this.elements=E)},F.prototype.count=function(){return _.size(this.elements)},F.prototype.current=function(){var E=this;return l.fF.assert(function(){return E.currentIndex>=0},"Invalid Iterator index"),this.elements[this.currentIndex]},F.prototype.done=function(){return this.currentIndex===_.size(this.elements)-1},F.prototype.next=function(){return!this.done()&&(this.currentIndex++,!0)},F.prototype.index=function(){return this.currentIndex},F}();function r(F,E){return new s(F,E)}var s=function(){function F(E,w){this.dsrParserContext=w,l.fF.assertValue(E,"dsr"),l.fF.assertAnyValue(w,"dsrParserContext"),this.parser=new a(E.DS,this.dsrParserContext)}return F.prototype.dataShapes=function(){return this.parser},F.prototype.reset=function(){this.parser.reset()},F.prototype.lockCache=function(){this.dsrParserContext.locked||(this.dsrParserContext.locked=!0)},F}(),u=function(){function F(E){this.calculationContainerKind=E,this.nullValuesHandler=new b,this.repeatedValuesHandler=new y}return F.prototype.initialize=function(E,w){this.lastContainerCalculations=w,this.repeatedValuesHandler.initialize(E&&E.R,w),this.nullValuesHandler.initialize(E&&E.\u00d8)},F.prototype.getCurrentCalc=function(E,w,x,R){var L,g=this;return l.fF.assert(function(){return E>=0},"unexpected position input"),x?void 0!==(L=this.repeatedValuesHandler.tryRead(E))?L:void 0!==(L=this.nullValuesHandler.tryRead(E))?(this.lastContainerCalculations[E]=null,L):(w?w.next()&&(L=w.current(),this.lastContainerCalculations[E]=L):(l.fF.assert(function(){return!!R},"Unexpected calcId"),void 0===(L=x[R])&&(L=null),this.lastContainerCalculations[E]=L),L):(l.fF.assert(function(){return 3===g.calculationContainerKind},"Unexpected Empty DataShape/DataMemberInstance as calc container"),null)},F}(),i=function(){function F(E,w,x){this.context=E,this.calcMetadataCacheKey=x,this.baseCalculationParser=new u(w)}return F.prototype.setCalculations=function(E){l.fF.assertAnyValue(E,"calculationContainerParser:setCalculation calculationContainer can be any value"),this.calculationContainer=E;var w=this.context;if(w){var x=this.calcMetadataCacheKey,R=E.S;R&&(this.metadata=R,x&&!w.locked&&(w.memberInstanceCalcMetadataCache[x]=R),this.lastContainerCalculations||(this.lastContainerCalculations=new Array(R.length))),w.instancesCalcCache[x]&&(this.lastContainerCalculations=w.instancesCalcCache[x]),this.baseCalculationParser.initialize(E,this.lastContainerCalculations);var g=E.C;(R=this.getCalcMetadata())?this.calcMetadataIt=new c(R):this.calcMetadataIt&&this.calcMetadataIt.reset(),this.calcIt=_.size(g)>0?new c(g):void 0}},F.prototype.restartCalcs=function(){l.fF.assertValue(this.calcMetadataIt,"restartCalcs called before setCalculations"),l.fF.assertAnyValue(this.calcIt,"CalcIt is created only if Calcs are not included as properties"),this.calcIt&&this.calcIt.reset(),this.calcMetadataIt.reset(),delete this.dsrCalcValue},F.prototype.nextCalc=function(){var E=!1,w=this.calcMetadataIt;return w&&((E=w.next()||E)&&(this.dsrCalcValue=this.baseCalculationParser.getCurrentCalc(w.index(),this.calcIt,this.calculationContainer,this.calcId())),w.done()&&(this.context.instancesCalcCache[this.calcMetadataCacheKey]=this.lastContainerCalculations)),E||!1},F.prototype.calcId=function(){return this.metadata[this.calcMetadataIt.index()].N},F.prototype.getCalcMetadata=function(){var E=this.metadata;return E||(E=this.metadata=this.context.memberInstanceCalcMetadataCache[this.calcMetadataCacheKey]),E},F.prototype.calcValue=function(){var E=this.metadata[this.calcMetadataIt.index()],w=this.context.valueDictionaryHandler.getCalcValue(this.dsrCalcValue,E.DN,E.T);return void 0===w&&(w=(0,d.Yt)(this.dsrCalcValue,E.T)),w},F.prototype.calcValueAsExpr=function(){var E=this;l.fF.assert(function(){return void 0!==E.dsrCalcValue},"Unexpected parsedCalcValue");var w=this.calcMetadataIt.current(),x=this.calcValue(),R=this.context.valueDictionaryHandler.getCalcValueExpr(x,this.dsrCalcValue,w.DN,w.T);return R||(R=(0,d.HL)(x,this.dsrCalcValue,w.T)),R},F.prototype.calcCount=function(){return this.calcMetadataIt?this.calcMetadataIt.count():this.calcIt?this.calcIt.count():0},F}(),a=function(F){function E(w,x,R){var g=F.call(this,x,1)||this;return g.parserContext=x,g.rootDataShape=R,l.fF.assertValue(w,"dataShapes"),l.fF.assertAnyValue(x,"parserContext"),g.it=new c(w),g}return(0,e.__extends)(E,F),E.prototype.reset=function(){this.it.reset()},E.prototype.index=function(){return this.it.index()},E.prototype.count=function(){return this.it.count()},E.prototype.next=function(){var w;this.primaryHierarchyParser=this.secondaryHierarchyParser=this.messageParser=void 0;var x=this.it.next();if(x){var R=this.it.current();this.setCalculations(R),this.context&&(this.context.valueDictionaryHandler=new h.cd(R.ValueDicts||(null===(w=this.rootDataShape)||void 0===w?void 0:w.ValueDicts)))}return x},E.prototype.id=function(){return this.it.current().N},E.prototype.nestedDataShapes=function(){l.fF.assertValue(this.context.primarySynchronizedGroups,"Reading Nested DataShapes other than Synchronized Groups ones is currently unsupported");var w=this.it.current(),x=w.DS;if(!_.isArray(x)||x.length<1)return{};for(var R={},g=function(A){var I=_.find(x,function(B){return B.N===A.dataShapeId});l.fF.assertValue(I,"No DataShape with ID "+A.dataShapeId),I&&(R[I.N]=new E([I],A.context,L.rootDataShape||w))},L=this,M=0,T=this.context.primarySynchronizedGroups;M<T.length;M++)g(T[M]);return R},E.prototype.primaryHierarchy=function(){var w=this;if(l.fF.assert(function(){return null!=w.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.primaryHierarchyParser&&this.parserContext){var x=this.it.current().PH;this.primaryHierarchyParser=x&&new f(x,this.parserContext,0,0)}return this.primaryHierarchyParser},E.prototype.secondaryHierarchy=function(){var w=this;if(l.fF.assert(function(){return null!=w.parserContext},"Parser Context is needed to parse DataShape Hierarchy"),!this.secondaryHierarchyParser&&this.parserContext){var x=this.it.current().SH;this.secondaryHierarchyParser=x&&new f(x,this.parserContext,1,0)}return this.secondaryHierarchyParser},E.prototype.messages=function(){return!this.messageParser&&_.size(this.it.current().Msg)>0&&(this.messageParser=new m(this.it.current().Msg)),this.messageParser},E.prototype.hasRestartTokens=function(){return _.size(this.restartTokens())>0},E.prototype.restartTokens=function(){var w=this.it.current(),x=w.DW;return _.isEmpty(x)?w.RT:(l.fF.assert(function(){return 1===x.length},"Multiple data windows are not yet handled"),x[0].RT)},E.prototype.complete=function(){var w=this.it.current(),x=w.DW;return _.isEmpty(x)?w.IC:(l.fF.assert(function(){return 1===x.length},"Multiple data windows are not yet handled"),x[0].IC)},E.prototype.hasAllData=function(){return this.it.current().HAD},E.prototype.limitsExceeded=function(){return _.size(this.it.current().DLEx)>0},E.prototype.limits=function(){return this.limitsParser||(this.limitsParser=new n(this.it.current().DLEx)),this.limitsParser},E}(i),n=function(){function F(E){l.fF.assertValue(E,"limits"),this.it=new c(E)}return F.prototype.next=function(){return this.it.next()},F.prototype.id=function(){return this.it.current().N},F.prototype.count=function(){return this.it.count()},F}(),m=function(){function F(E){l.fF.assertValue(E,"dataShapeMessage"),this.it=new c(E)}return F.prototype.next=function(){return this.it.next()},F.prototype.code=function(){return this.it.current().Code},F.prototype.severity=function(){return this.it.current().Severity},F.prototype.dsrMessage=function(){return new S.lp(this.it.current())},F}(),f=function(){function F(E,w,x,R){this.context=w,this.hierarchy=x,this.depth=R,l.fF.assertValue(E,"dataMembers"),this.it=new c(E)}return F.prototype.count=function(){return this.it.count()},F.prototype.reset=function(){this.it.reset(),this.dataMemberId=void 0},F.prototype.next=function(){this.instancesParser&&(this.instancesParser=void 0),this.dataMemberId&&(this.dataMemberId=void 0);var E=this.it.next();if(E){var w=this.dataMemberIdCache();if(_.size(w)>0)for(var x=this.it.current(),R=0,g=w[this.depth];R<g.length;R++){var L=g[R];x[L]&&(this.dataMemberId=L)}if(void 0===this.dataMemberId){var M=Object.keys(this.it.current());1===_.size(M)?this.dataMemberId=M[0]:l.fF.assertFail("Unexpected DataMember with multiple properties. Cannot infer DataMemberId")}}return E},F.prototype.id=function(){return this.dataMemberId},F.prototype.dataMemberIdCache=function(){return 0===this.hierarchy?this.context.primaryDataMemberIdCache:this.context.secondaryDataMemberIdCache},F.prototype.instances=function(){if(!this.instancesParser){var E=this.it.current()[this.dataMemberId];this.instancesParser=E&&new V(E,this.context,this.id(),this.hierarchy,this.depth)}return this.instancesParser},F}(),V=function(F){function E(w,x,R,g,L){var M=F.call(this,x,2,R)||this;return M.parentDataMemberId=R,M.hierarchy=g,M.depth=L,l.fF.assertValue(w,"instances"),M.it=new c(w),M}return(0,e.__extends)(E,F),E.prototype.next=function(){var w=this,x=this.it.next();if(x){var R=this.it.current();!this.context.locked&&!R.M&&1===this.hierarchy&&this.context.secondaryLeafDataMemberId.push(this.parentDataMemberId),this.setCalculations(R),this.dataMemberIt=void 0,this.intersectionParserDirty=!0,l.fF.assert(function(){return 1!==w.hierarchy||!R.Intersections},"secondary hierarchy should not have any intersections")}return x},E.prototype.count=function(){return this.it.count()},E.prototype.currentIndex=function(){return this.it.index()},E.prototype.intersections=function(){if(!this.intersectionParser){this.intersectionParserDirty=!1;var w=this.it.current().X;return this.intersectionParser=w&&new p(w,this.context,this.parentDataMemberId)}return this.intersectionParserDirty?(this.intersectionParserDirty=!1,this.intersectionParser.reset(this.it.current().X),this.intersectionParser):this.intersectionParser},E.prototype.restartFlagKind=function(){return this.it.current().RF},E.prototype.restartKind=function(){return this.it.current().RK},E.prototype.members=function(){if(!this.dataMemberIt){var w=this.it.current().M;this.dataMemberIt=w&&new f(w,this.context,this.hierarchy,this.depth+1)}return this.dataMemberIt},E}(i),p=function(){function F(E,w,x){this.context=w,this.parentDataMemberId=x,l.fF.assertValue(E,"intersections"),this.it=new c(null),this.reset(E),this.baseCalculationParser=new u(3),this.intersectionMeasureCount=_.size(this.context.intersectionMeasureToSelectIndex),this.expectedIntersectionCount=_.size(this.context.secondaryLeafDataMemberId);var R=w.dataMemberIdToMetadata[x];this.primaryMemberIsGroupMember=1===R.kind,this.primaryDataMemberDepth=R.depth,l.fF.assertValue(w.intersectionCalcMetadataCache,"context.intersectionCalcMetadataCache"),this.calcMetadataCache=w.intersectionCalcMetadataCache[x],!this.calcMetadataCache&&!w.locked&&(this.calcMetadataCache=w.intersectionCalcMetadataCache[x]=new Array(this.expectedIntersectionCount))}return F.prototype.reset=function(E){this.it.reset(E),this.logicalIntersectionIndex=-1,this.physicalIntersectionIndex=-1,this.hasIntersectionElements=E.length>0},F.prototype.next=function(){if(this.resetCalcIt(),this.logicalIntersectionIndex++,this.logicalIntersectionIndex>=this.expectedIntersectionCount)return!1;if(this.setIntersectionId(),this.it.count()===this.expectedIntersectionCount){var E=this.it.next();return E&&this.initialize(this.it.current()),E}if(this.hasIntersectionElements){var w=void 0;if((0===this.logicalIntersectionIndex||this.physicalIntersectionIndex<this.logicalIntersectionIndex)&&this.it.next()&&((w=this.it.current()).I||0===this.logicalIntersectionIndex?this.physicalIntersectionIndex=w.I||0:this.physicalIntersectionIndex++),this.physicalIntersectionIndex===this.logicalIntersectionIndex)return w||(w=this.it.current()),this.initialize(w),!0}return this.initialize(),!0},F.prototype.setIntersectionId=function(){this.intersectionId=this.parentDataMemberId+this.context.secondaryLeafDataMemberId[this.logicalIntersectionIndex]},F.prototype.resetCalcIt=function(E){var w=E&&E.C;this.currentCalcIndex=-1,this.currentCalc=void 0,this.calcIt=w?new c(w):void 0},F.prototype.initialize=function(E){var w=this;if(l.fF.assert(function(){return w.logicalIntersectionIndex>=0},"Unexpected call to initialize IntersectionParser"),this.resetCalcIt(E),E){var x=E.S;if(x&&!this.context.locked){void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=x.length),l.fF.assert(function(){return null==w.calcMetadataCache[w.logicalIntersectionIndex]},"unexpected schema present for current logical intersection"),this.calcMetadataCache[this.logicalIntersectionIndex]=x;for(var R=this.context.calcIdToCalcMetadata,g=0,L=x;g<L.length;g++)R[L[g].N]=x}}this.calculationContainer=E;var T=this.context.lastIntersectionCalcCache[this.intersectionId];!T&&this.intersectionId&&(T=this.context.lastIntersectionCalcCache[this.intersectionId]=new Array(this.intersectionCalcCount)),this.baseCalculationParser.initialize(E,T);var O=this.getCalcMetadata();O&&(this.currentCalcMetadata=O,void 0===this.intersectionCalcCount&&(this.intersectionCalcCount=this.intersectionMeasureCount>0?this.currentCalcMetadata.length:0))},F.prototype.restartCalcs=function(){this.calcIt&&this.calcIt.reset(),this.currentCalcIndex=-1,delete this.currentCalc},F.prototype.nextCalc=function(){var E=++this.currentCalcIndex;return E<this.intersectionCalcCount?(this.currentCalc=this.baseCalculationParser.getCurrentCalc(E,this.calcIt,this.calculationContainer,this.calcId()),!0):(this.currentCalc=void 0,!1)},F.prototype.calcId=function(){return this.currentCalcMetadata[this.currentCalcIndex].N},F.prototype.getCalcMetadata=function(){var E=this;l.fF.assert(function(){return E.logicalIntersectionIndex>=0},"getCalcMetadata can return metadata only for valid logical intersection");var w=this.calcMetadataCache[this.logicalIntersectionIndex];if(!w&&!this.context.locked){var x=this.getExpectedCalcId();x&&(w=this.calcMetadataCache[this.logicalIntersectionIndex]=this.context.calcIdToCalcMetadata[x])}return w},F.prototype.getExpectedCalcId=function(){if(0!==this.intersectionMeasureCount){var E=this.context,w=E.dataMemberIdToMetadata[E.secondaryLeafDataMemberId[this.logicalIntersectionIndex]],g=E.selects[this.currentCalcIndex<0?E.intersectionMeasureToSelectIndex[0]:E.intersectionMeasureToSelectIndex[this.currentCalcIndex]];if(1===w.kind&&this.primaryMemberIsGroupMember)return g.Value;if(g.Subtotal){var L=v.A1.computeAggIdx(this.primaryDataMemberDepth,w.depth,E.maxPrimaryDepth,E.maxSecondaryDepth);return g.Subtotal.length>L&&g.Subtotal[L]}}},F.prototype.calcValue=function(){return null!=this.currentCalc?this.parseCalcValue(this.currentCalc):null},F.prototype.parseCalcValue=function(E){var w=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],x=this.context.valueDictionaryHandler.getCalcValue(E,w.DN,w.T);return void 0===x&&(x=(0,d.Yt)(E,w.T)),x},F.prototype.calcValueAsExpr=function(){if(void 0!==this.currentCalc)return this.parseCalcValueExpr(this.currentCalc,this.calcValue());if(this.it.index()===this.logicalIntersectionIndex){var E=this.calcValue();return null===E?(0,o.IF)():this.parseCalcValueExpr(this.it.current()[this.calcId()],E)}return(0,o.IF)()},F.prototype.parseCalcValueExpr=function(E,w){var x=this.calcMetadataCache[this.logicalIntersectionIndex][this.currentCalcIndex],R=this.context.valueDictionaryHandler.getCalcValueExpr(w,E,x.DN,x.T);return void 0===R&&(R=(0,d.HL)(w,E,x.T)),R},F.prototype.calcCount=function(){return this.calcIt?this.calcIt.count():0},F}(),C=function(){function F(){}return F.prototype.initialize=function(E){this.value=E,this.overflowValue=E>F.MaxSignedNumberFor32Bits?function(F){var E=F.toString(2),w=E.substr(0,E.length-31);return parseInt(w,2)}(E):0},F.prototype.hasBitAtPosition=function(E){if(l.fF.assert(function(){return E>=0},"expected positive integer for position"),E>52)return!1;if(this.value>0){var w=0,x=this.value;return E<31?w=1<<E:(w=1<<E-31,x=this.overflowValue),(x&w)>0}},F.MaxSignedNumberFor32Bits=Math.pow(2,31)-1,F}(),b=function(){function F(){this.bitSequenceHandler=new C}return F.prototype.initialize=function(E){this.bitSequenceHandler.initialize(E)},F.prototype.tryRead=function(E){if(this.bitSequenceHandler.hasBitAtPosition(E))return null},F}(),y=function(){function F(){this.bitSequenceHandler=new C}return F.prototype.initialize=function(E,w){this.bitSequenceHandler.initialize(E),this.lastContainerCalculations=w},F.prototype.tryRead=function(E){if(this.bitSequenceHandler.hasBitAtPosition(E))return this.lastContainerCalculations[E]},F}()},33962:function(Xe,H,t){t.d(H,{H:function(){return v}});var e=t(973188),l=t(498342),o=t(512322),v=function(S){function h(){return null!==S&&S.apply(this,arguments)||this}return(0,e.__extends)(h,S),h.prototype.visitColumnRef=function(c,r){if(c.hasGroupOnKeys(r)){var s=c.getConceptualProperty(r),u=c.getTargetEntity();return _.map(s.column.keys,function(i){return(0,o.Oh)(u,i.name)})}return[c]},h.prototype.visitHierarchyLevel=function(c,r){var s=c.arg.getTargetEntity();if(!s)return[c];if(c.arg instanceof o.jE){var u=void 0,i=s.schema,a=c.arg;if(a.arg instanceof o.c7){var n=a.arg,m=r.schema(i).findTargetEntityOfVariation(s.entity,n.property,n.name);if(!m)return[c];u=(0,o.nw)(i,m.name)}else u=s,l.fF.assert(function(){return a.arg instanceof o.PN},".visitHierarchyLevel hierarchy should not contain anything other entity/variation source");var f=r.schema(i).findHierarchyLevel(u.entity,a.hierarchy,c.level);return this.visitColumnRef((0,o.Oh)(u,f.column.name),r)}return[c]},h.prototype.visitGroupRef=function(c,r){return this.visitColumnRef(c,r)},h.prototype.visitDefault=function(c){return l.fF.assertFail("SelectToIdentityExpressionsVisitor should not have any other expressions to visit"),[c]},h}(t(960514).Ml)},413892:function(Xe,H,t){t.d(H,{r:function(){return o}});var e=t(498342),l="noQueryName",o=function(){function d(v,S,h,c){this.deepestNodeLevelInPath=-1,this.measures=S||[],this.dataMap=v||null,this.nodeIsCollapsed=null!=h?h:null,this.nodeIndexes=null!=c?c:[]}return d.prototype.withCategory=function(v,S,h){var c,r;return void 0===h&&(h=!1),v&&v.source&&v.identity&&v.identity[S]&&(c=v.identity[S],r=v.source.queryName||l),this.addItemToDataMap(r,c),this},d.prototype.withSeries=function(v,S,h){var c,r;return void 0===h&&(h=!1),v&&v.source&&S&&(c=S.identity,r=v.source.queryName||l),this.addItemToDataMap(r,c),this},d.prototype.withMeasure=function(v){return this.measures.push(v),this},d.prototype.withMatrixNode=function(v,S,h){if(void 0===h&&(h=!1),!v)return this;var c,r,u=v.level;return v.identity&&S&&S[u]&&S[u].sources&&S[u].sources[0]&&(c=v.identity,r=S[u].sources[0].queryName||l),this.addItemToDataMap(r,c,v.isCollapsed,u,v.nodeIndex),this},d.prototype.withTable=function(v,S,h){var c,r;return void 0===h&&(h=!1),v&&v.identity&&null!=S&&(r=(c=v.identity[S])?JSON.stringify(c):l),this.addItemToDataMap(r,c),this},d.prototype.equals=function(v){var S=v;return!!(this.compareMeasures(this.measures,S.measures)&&this.compareMetadata(this.getSelector(),S.getSelector())&&this.compareMetadata(S.getSelector(),this.getSelector()))},d.prototype.createSelectionId=function(v){return this.key=JSON.stringify(this.dataMap)+JSON.stringify(this.measures),this},d.prototype.getKey=function(){return this.key},d.prototype.includes=function(v,S){void 0===S&&(S=!1);var h=v;return!!(!this.dataMap&&this.compareMeasures(this.measures,h.measures)||this.dataMap&&h.dataMap&&this.compareMetadata(this.getSelector(),h.getSelector()))},d.prototype.hasIdentity=function(){return!!this.dataMap},d.prototype.compareMeasures=function(v,S){if(v.length!==S.length)return!1;for(var h=0,c=S;h<c.length;h++)if(-1===v.indexOf(c[h]))return!1;return!0},d.prototype.compareMetadata=function(v,S){if(!v.data&&S.data||v.data&&!S.data)return!1;if(!v.data&&!S.data)return!0;for(var h=function(a){if(!S.data.some(function(n){return JSON.stringify(n)===JSON.stringify(a)}))return{value:!1}},c=0,r=v.data;c<r.length;c++){var u=h(r[c]);if("object"==typeof u)return u.value}return!0},d.prototype.addItemToDataMap=function(v,S,h,c,r){if(S){this.dataMap||(this.dataMap={});var s=this.dataMap,u=s[v];if(null==u)return s[v]=[S],null!=h&&null!=c&&c>this.deepestNodeLevelInPath&&(this.nodeIsCollapsed=h,this.deepestNodeLevelInPath=c),void(null!=r&&this.nodeIndexes.push(r));u.push(S)}},d.prototype.getSelector=function(){var v=this,S={data:void 0,metadata:_.head(this.measures)};if(this.dataMap){S.data=[];var h=function(u){e.fF.assert(function(){return v.dataMap[u].length<=1},"dataMap can only have one selector per column"),S.data.push(c.dataMap[u][0])},c=this;for(var r in this.dataMap)h(r)}return S},d.prototype.getSelectorsByColumn=function(){return null},d}()},408514:function(Xe,H,t){t.d(H,{H2:function(){return r},HL:function(){return a},K0:function(){return u},Yt:function(){return i},bE:function(){return s}});var e=t(28291),l=t(498342),o=t(957571),d=t(512322),v=t(358246),S=/''/g,h="base64'",c=/\.000'$/;function r(f){return n(f)}function s(f){return n(f,!0)}function u(f){return f&&_.startsWith(f,h)?f.substring(h.length,f.length-1):null}function i(f,V){if(l.fF.assert(function(){return void 0!==f},"Undefined dsrValue indicates a DSR parsing bug"),null===f)return null;switch(V){case 4:return l.fF.assert(function(){return"string"==typeof f||"number"==typeof f},"Expected only string or number values for type ".concat(V)),"number"==typeof f?f:parseInt(f,10);case 2:case 3:return l.fF.assert(function(){return"string"==typeof f||"number"==typeof f},"Expected only string or number values for type ".concat(V)),"number"==typeof f?f:m(f);case 7:case 6:if(l.fF.assert(function(){return"string"==typeof f||"number"==typeof f},"Expected only string or number values for type ".concat(V)),"number"==typeof f){l.fF.assert(function(){return f>=0},"Expected positive miliseconds since UNIX epoch for type ".concat(V));var p=new Date(f),C=new Date(p.getUTCFullYear(),p.getUTCMonth(),p.getUTCDate(),p.getUTCHours(),p.getUTCMinutes(),p.getUTCSeconds(),p.getUTCMilliseconds()),b=new Date(p.getTime()+6e4*C.getTimezoneOffset());return b.epochTimeStamp=f,b}var y=(0,e.Kk)(f);return y&&(0,o.Fg)(y);case 1:return l.fF.assert(function(){return"string"==typeof f},"Expected only string values for type ".concat(V)),f;case 5:return l.fF.assert(function(){return"number"==typeof f||"boolean"==typeof f},"Expected number or boolean values for type ".concat(V)),"number"==typeof f?1===f:f;case 13:return l.fF.assert(function(){return"string"==typeof f||"boolean"==typeof f},"Expected only string or boolean values for type ".concat(V)),n(f);default:l.fF.assertFail("unsupported dsrValue for type ".concat(V))}}function a(f,V,p){if(null===f)return(0,d.IF)();switch(p){case 4:return"number"==typeof V?(0,d.cA)(+f):(0,d.f7)(260,+f,V.toString());case 2:return"number"==typeof V?(0,d.gH)(+f):(0,d.f7)(258,+f,V.toString());case 3:return"number"==typeof V?(0,d.tx)(+f):(0,d.f7)(259,+f,V.toString());case 7:case 6:return"number"==typeof V?new d.jz(v.Ge.fromExtendedType(519),f):(0,d.f7)(519,f,V.toString());case 1:return(0,d.fL)(f.toString());case 5:return(0,d.O7)(!!f);case 13:return n(V,!0);default:l.fF.assertFail("unsupported dsrValue for type ".concat(p))}}function n(f,V){var p=typeof f;if("string"===p){if(_.endsWith(f,"L")){var C=parseInt(f,10);return V?(0,d.cA)(C,f):C}if(_.endsWith(f,"D")){var b=m(f);return V?(0,d.tx)(b,f):b}if(_.endsWith(f,"M")){var y=m(f);return V?(0,d.gH)(y,f):y}if(_.endsWith(f,"'")){if("'"===f.charAt(0)){var D=f.substring(1,f.length-1).replace(S,"'");return V?(0,d.fL)(D,f):D}if(0===f.indexOf("datetime'")){var P=f.replace(c,"'"),F=f.substring(9,P.length-1),E=(0,e.Kk)(F);return V?(0,d.CQ)(E,P):E}}if("null"===f)return V?(0,d.IF)():null;if("true"===f)return!V||(0,d.O7)(!0);if("false"===f)return!!V&&(0,d.O7)(!1)}return"boolean"===p?V?(0,d.O7)(f):f:null===f?V?(0,d.IF)():null:f}function m(f){var V=parseFloat(f);return isNaN(V)?parseFloat(f.replace("INF","Infinity")):V}},705236:function(Xe,H,t){t.d(H,{Db:function(){return u},Tq:function(){return i},Ui:function(){return a},dq:function(){return s},if:function(){return n},vH:function(){return r}});var e=t(973188),l=t(979868),o=t(498342),d=t(726501),v=t(411429),S=t(512322),h=t(603662),c=t(678776);function r(b){o.fF.assertValue(b,"changes");for(var y=[],D=0,P=b.length;D<P;D++){var F=b[D];F.measureMove&&y.push(s(F.measureMove)),F.entityRename&&y.push(u(F.entityRename)),F.propertyRename&&y.push(i(F.propertyRename)),F.hierarchyLevelRename&&y.push(a(F.hierarchyLevelRename))}return y}function s(b){return o.fF.assertValue(b,"measureMove"),new f(b)}function u(b){return o.fF.assertValue(b,"entityRename"),new m(b)}function i(b){return o.fF.assertValue(b,"propertyRename"),new V(b)}function a(b){return o.fF.assertValue(b,"hierarchyLevelRename"),new p(b)}function n(b){return o.fF.assertValue(b,"setSchemaMeasure"),new C(b)}var m=function(b){function y(D){var P=this;return o.fF.assertValue(D,"change"),(P=b.call(this)||this).change=D,P}return(0,e.__extends)(y,b),y.prototype.visitColumnRef=function(D){if(o.fF.assertValue(D,"expr"),(0,l.Lk)(D.source)||(0,l.jv)(D.source)){var P=D.source.accept(this);return P!==D.source?new S.Wh(P,D.ref):D}return D},y.prototype.visitEntity=function(D){var P=this.change;return D.schema===P.schema&&D.entity===P.before?new S.PN(D.schema,P.after,D.variable):D},y.prototype.visitSubqueryRef=function(D){if(o.fF.assertValue(D,"expr"),D.query){var P=D.query.rewrite(this);return P!==D.query?new S.wb(P):D}return D},y}(h.b),f=function(b){function y(D){var P=this;return o.fF.assertValue(D,"change"),(P=b.call(this)||this).change=D,P}return(0,e.__extends)(y,b),y.prototype.visitMeasureRef=function(D){var P=this.change,F=(0,d.Um)((0,v.Q)(D));if(o.fF.assertValue(F,"fieldPattern"),F.schema===P.schema&&F.entity===P.source&&D.ref===P.property){var E=new S.PN(F.schema,P.destination);return new S.UY(E,P.property)}return D},y.prototype.visitSubqueryRef=function(D){if(D.query){var P=D.query.rewrite(this);return P!==D.query?new S.wb(P):D}return D},y}(h.b),V=function(b){function y(D){var P=this;return o.fF.assertValue(D,"change"),(P=b.call(this)||this).change=D,P}return(0,e.__extends)(y,b),y.prototype.visitColumnRef=function(D){if(o.fF.assertValue(D,"expr"),(0,l.jv)(D.source)){var P=D.source.accept(this);return P!==D.source?new S.Wh(P,D.ref):D}if((0,l.PA)(D.source))return D;var F=this.change;return this.matches(F,D)?new S.Wh(D.source,F.after):D},y.prototype.visitMeasureRef=function(D){var P=this.change;return this.matches(P,D)?new S.UY(D.source,P.after):D},y.prototype.visitGroupRef=function(D){var P=this,F=D,E=this.change;this.matches(E,D)&&(F=new S.qg(E.after,D.source,D.groupedExprs));var w=_.map(D.groupedExprs,function(x){return x.accept(P)});return c.m.sequenceEqual(w,D.groupedExprs)||(F=new S.qg(F.ref,F.source,w)),F},y.prototype.visitHierarchy=function(D){o.fF.assertValue(D,"expr"),o.fF.assertValue(D.arg,"expr.arg");var P=D.arg.accept(this);if(P!==D.arg)return new S.jE(P,D.hierarchy);var F=this.change;return this.hierarchyMatches(F,D)?new S.jE(D.arg,F.after):D},y.prototype.visitPropertyVariationSource=function(D){o.fF.assertValue(D,"expr");var P=this.change;return this.variationMatches(P,D)?new S.c7(D.arg,D.name,P.after):D},y.prototype.visitSubqueryRef=function(D){if(o.fF.assertValue(D,"expr"),D.query){var P=D.query.rewrite(this);return P!==D.query?new S.wb(P):D}return D},y.prototype.variationMatches=function(D,P){o.fF.assertValue(D,"change"),o.fF.assertValue(P,"expr");var F=P.arg;return o.fF.assert(function(){return F instanceof S.PN},"entityExpr"),F.schema===D.schema&&F.entity===D.entity&&P.property===D.before},y.prototype.hierarchyMatches=function(D,P){o.fF.assertValue(D,"change"),o.fF.assertValue(P,"expr");var F=P.arg;if((0,l.Lk)(F))return"Hierarchy"===D.objectType&&F.schema===D.schema&&F.entity===D.entity&&P.hierarchy===D.before},y.prototype.matches=function(D,P){o.fF.assertValue(D,"change"),o.fF.assertValue(P,"expr");var F=(0,d.Um)((0,v.Q)(P));return o.fF.assertValue(F,"fieldPattern"),F.schema===D.schema&&F.entity===D.entity&&P.ref===D.before},y}(h.b),p=function(b){function y(D){var P=this;return o.fF.assertValue(D,"change"),(P=b.call(this)||this).change=D,P}return(0,e.__extends)(y,b),y.prototype.visitHierarchyLevel=function(D){o.fF.assertValue(D,"expr"),o.fF.assertValue(D.arg,"expr.arg");var P=this.change;return this.matches(P,D)?new S.vD(D.arg,P.after):D},y.prototype.matches=function(D,P){o.fF.assertValue(D,"change"),o.fF.assertValue(P,"expr");var F=(0,v.Q)(P);if(o.fF.assertValue(F,"fieldPattern"),!F.columnHierarchyLevelVariation){var E=(0,d.Um)(F);o.fF.assertValue(E,"fieldEntityPattern");var w=P.arg;return o.fF.assertValue(w,"hierarchyExpr"),E.schema===D.schema&&E.entity===D.entity&&w.hierarchy===D.hierarchy&&P.level===D.before}},y}(h.b),C=function(b){function y(D){var P=this;return o.fF.assertValue(D,"change"),(P=b.call(this)||this).change=D,P}return(0,e.__extends)(y,b),y.prototype.visitMeasureRef=function(D){var P=this.change,F=(0,d.Um)((0,v.Q)(D));if(o.fF.assertValue(F,"fieldPattern"),F.schema!==P.schema&&F.entity===P.entity&&D.ref===P.name){var E=new S.PN(P.schema,P.entity);return new S.UY(E,P.name)}return D},y}(h.b)},43615:function(Xe,H,t){t.d(H,{L:function(){return e}});var e=function(l){return l[l.Version0=0]="Version0",l[l.Version1=1]="Version1",l[l.Version2=2]="Version2",l}({})},617319:function(Xe,H,t){t.d(H,{r:function(){return u}});var e=t(973188),l=t(498342),o=t(880856),d=t(275179),v=t(768783),S=t(881105),h=t(42298),c=t(421396);function u(n,m,f,V,p){return new i(n,m,f,V,p)}var i=function(){function n(m,f,V,p,C){this.stopCommunicationHandlers=[],this.resumeCommunicationHandlers=[],l.fF.assertValue(m,"promiseFactory"),l.fF.assertValue(f,"dataReaderProvider"),l.fF.assertValue(V,"featureSwitchService"),this.promiseFactory=m,this.dataReaderProvider=f,this.featureSwitchService=V,this.telemetryService=p,this.validator=C,this.individualConceptualSchemaCache={},this.mergedConceptualSchemaCache={}}return n.prototype.get=function(m,f){var V=this;l.fF.assertNonEmpty(m,"dataSources");var p=this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.telemetryV2;if(!m)return this.promiseFactory.reject({clientError:{code:"DataSourcesUndefined"}},p);var C=this.generateSchemaKey(m),b=this.mergedConceptualSchemaCache[C];if(this.isSchemaPaused(b))return this.promiseFactory.reject(this.getPauseReason(b),p);if(b&&b.promise)return f&&f.setProperty("isConceptualSchemaCached",!0),b.promise;var y=this.promiseFactory.defer(p),D={deferred:y,promise:y.promise};this.mergedConceptualSchemaCache[C]=D,D.promise.then(function(){return delete D.deferred},function(){return delete V.mergedConceptualSchemaCache[C]});var P=[],F=a(m),E=function(g){var L=F[g],M=w.generateSchemaKey(L),T=w.individualConceptualSchemaCache[M];if(w.isSchemaPaused(T))return P.push(w.promiseFactory.reject(w.getPauseReason(T),p)),"continue";if(T)return P.push(T.promise),"continue";var O=w.promiseFactory.defer(p),N=O.promise;P.push(N),w.individualConceptualSchemaCache[M]={deferred:O,promise:N},N.finally(function(){V.individualConceptualSchemaCache[M]&&delete V.individualConceptualSchemaCache[M].deferred});var A=w.dataReaderProvider.schemaReader(g);if(!A)return l.fF.assertFail("No schema reader exists for data source type: ".concat(g)),O.reject({clientError:{code:"SchemaReaderUndefined"}}),"continue";A.execute({dataSources:L}).then(function(I){return V.onSuccess(A,I,M,O)},function(I){return V.onError(A,I,M,O)})},w=this;for(var x in F)E(x);return this.promiseFactory.all(P,p).then(function(R){var g=S.l.merge(R);V.validator&&V.validator.validate(g),D.result=g,y.resolve(g)}).catch(function(R){y.reject(R)}),D.promise},n.prototype.getWithWireContract=function(m){var f=this;return m&&_.uniqBy(m,function(V){return(0,h.wx)(V)}).length>1?(l.fF.assertFail("Cannot look up wire contract data across multiple data source types"),this.promiseFactory.reject()):this.get(m).then(function(V){var p=f.individualConceptualSchemaCache[f.generateSchemaKey(m)];if(p)return{data:p.data,contract:V}})},n.prototype.getLatestCapabilities=function(m,f){var V=a(m);for(var p in V){var b=this.generateSchemaKey(V[p]),y=this.individualConceptualSchemaCache[b];if(y&&y.result){var D=y.result.schema(f);if(D)return D.capabilities}}},n.prototype.clearCache=function(m,f){var V=this;if(!f)return this.rejectPendingDeferred(m),this.individualConceptualSchemaCache={},void(this.mergedConceptualSchemaCache={});var p=a(f);for(var C in p){var b=p[C],y=this.generateSchemaKey(b),D=JSON.stringify(_.map(b,function(P){return P.id}));this.telemetryService.logEvent(c.I7,{datasetIds:D,requestId:m&&m.requestId,reason:m&&m.clientError.code}),this.forSchemasContainingKey(this.individualConceptualSchemaCache,y,function(P){V.rejectPendingDeferred(m,P),delete V.individualConceptualSchemaCache[P]}),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,y,function(P){delete V.mergedConceptualSchemaCache[P]})}},n.prototype.stopCommunication=function(m,f){var V,p,C={clientError:m};if(f){var b=a(f);for(var y in b)V=this.generateSchemaKey(b[y]),(p=this.individualConceptualSchemaCache[V])||(this.individualConceptualSchemaCache[V]=p={}),p.pauseReason=C,this.rejectPendingDeferred(C,V)}else this.pauseAllSchemasReason=C||{clientError:null},this.rejectPendingDeferred(C);for(var F=0,E=this.stopCommunicationHandlers;F<E.length;F++)(0,E[F])()},n.prototype.resumeCommunication=function(m){var V,f=this;m?V=_.map(a(m),function(E){return f.generateSchemaKey(E)}):(this.pauseAllSchemasReason=void 0,V=Object.keys(this.individualConceptualSchemaCache));for(var p=0,C=V;p<C.length;p++){var b=C[p];this.isSchemaPaused(this.individualConceptualSchemaCache[b])&&(delete this.individualConceptualSchemaCache[b],this.forSchemasContainingKey(this.mergedConceptualSchemaCache,b,function(E){return delete f.mergedConceptualSchemaCache[E]}))}for(var D=0,P=this.resumeCommunicationHandlers;D<P.length;D++)(0,P[D])()},n.prototype.registerStopCommunicationHandlers=function(m){var f=this;return this.stopCommunicationHandlers.push(m),function(){return _.pull(f.stopCommunicationHandlers,m)}},n.prototype.registerResumeCommunicationHandlers=function(m){var f=this;return this.resumeCommunicationHandlers.push(m),function(){return _.pull(f.resumeCommunicationHandlers,m)}},n.prototype.isEmpty=function(m){return(0,e.__awaiter)(this,void 0,d.J,function(){var f,V=this;return(0,e.__generator)(this,function(p){switch(p.label){case 0:return[4,this.get(m)];case 1:return f=p.sent(),[2,_.every(f.schemas,function(C){return _.isEmpty(C.entities)||V.isSystemEntity(C.entities)})]}})})},n.prototype.isSystemEntity=function(m){return _.every(m,function(f){return(0,v.yE)(f.visibility,4)||(0,v.yE)(f.visibility,2)})},n.prototype.isSchemaPaused=function(m){return!!this.pauseAllSchemasReason||m&&!m.promise},n.prototype.getPauseReason=function(m){return m&&m.pauseReason?m.pauseReason:this.pauseAllSchemasReason},n.prototype.rejectPendingDeferred=function(m,f){var V,p;for(var C in f?(V={})[f]=null:V=this.individualConceptualSchemaCache,V)(p=this.individualConceptualSchemaCache[C])&&(p.deferred&&p.deferred.reject(m),delete p.promise,delete p.deferred,this.forSchemasContainingKey(this.mergedConceptualSchemaCache,C,function(b,y){y.deferred&&y.deferred.reject(m),delete y.promise,delete y.deferred}))},n.prototype.onSuccess=function(m,f,V,p){var C=m.transform(f);if(C.error)this.onErrorCore(C,V,p);else{var b=this.individualConceptualSchemaCache[V];b&&(b.result=C.schema,b.data=f.data);var y=this.tryGetAdditionalIndividualCacheKey(V,C);y&&(this.individualConceptualSchemaCache[y]=b),p.resolve(C.schema)}},n.prototype.onError=function(m,f,V,p){var C=m.transform(f);this.onErrorCore(C,V,p)},n.prototype.onErrorCore=function(m,f,V){var p=this;delete this.individualConceptualSchemaCache[f],m.error&&m.error.serviceError&&(m.error.clientError=new o.sI(m.error.serviceError),m.error.clientError.requestId=m.error.requestId),V.reject(m.error),this.forSchemasContainingKey(this.mergedConceptualSchemaCache,f,function(C){delete p.mergedConceptualSchemaCache[C]})},n.prototype.tryGetAdditionalIndividualCacheKey=function(m,f){var V=f.schema.schemas;if(V){l.fF.assert(function(){return 1===V.length},"schemas should be length 1");var p=V[0];if(p.cubeName){var C=JSON.parse(m);l.fF.assert(function(){return 1===C.length},"key is length 1");var b=C[0];if(l.fF.assert(function(){return p.name===b.name},"names should be same"),!b.perspectiveId)return b.perspectiveId=p.cubeName,this.generateSchemaKey([b])}}},n.prototype.forSchemasContainingKey=function(m,f,V){for(var C=0,b=JSON.parse(f);C<b.length;C++){var y=b[C];for(var D in m)for(var F=0,E=JSON.parse(D);F<E.length;F++){var w=E[F];y.id===w.id&&y.name===w.name&&y.type===w.type&&V(D,m[D])}}},n.prototype.generateSchemaKey=function(m){return l.fF.assertValue(m,"dataSources"),JSON.stringify(_.chain(m).map(function(f){return{id:f.id,name:f.name,type:(0,h.wx)(f),perspectiveId:f.perspectiveId}}).orderBy(["type","name","id","perspectiveId"]).value())},n}();function a(n){return _.groupBy(n,function(m){return(0,h.wx)(m)})}},916248:function(Xe,H,t){t.d(H,{Az:function(){return r},Fu:function(){return h},M2:function(){return c}});var e=t(400198),l=t(562386),o=t(498342),d=t(756846),v=t(421396),S=t(58227);function h(n,m){return!(!n.query||!m.query)&&n.type===m.type&&n.kinds===m.kinds&&n.perfId===m.perfId&&n.query.allowResultFromClientCache===m.query.allowResultFromClientCache&&n.query.allowClientSideFilters===m.query.allowClientSideFilters&&n.query.cacheResponseOnServer===m.query.cacheResponseOnServer&&n.query.ignoreViewportForCache===m.query.ignoreViewportForCache&&(0,d.fS)(n.query.cacheOptions,m.query.cacheOptions)&&(0,d.fS)(n.query.command,m.query.command)&&(0,d.fS)(n.query.dataSources,m.query.dataSources)}function c(n,m,f){return new u(n,m,f)}var r=function(m,f,V,p){return new i(m,f,V)},u=function(){function n(m,f,V){this.promiseFactory=m,this.dataReaderProvider=f,this.dataReaders={},this.telemetryService=V}return n.prototype.execute=function(m){return o.fF.assertValue(m,"options"),this.getReader(m.type).execute(m.query,m.kinds,m.perfId)},n.prototype.getReader=function(m){var f=this.dataReaders[m];if(f)return f;var V=this.dataReaderProvider.reader(m);return o.fF.assertValue(V,"Could not find data reader for type: ".concat(m)),this.dataReaders[m]=new a(m,V,this.promiseFactory,this.telemetryService)},n.prototype.stopCommunication=function(m){this.getReader(m).stopCommunication()},n.prototype.resumeCommunication=function(m){this.getReader(m).resumeCommunication()},n.prototype.clearCache=function(m,f){this.getReader(m).clearCache(f)},n.prototype.rewriteCacheEntries=function(m,f,V){this.getReader(m).rewriteCacheEntries(f,V)},n.prototype.setLocalCacheResult=function(m,f){return this.getReader(m.type).setLocalCacheResult(m.query,f)},n}(),i=function(){function n(m,f,V){this.proxy=m,this.promiseFactory=f,this.timeoutService=V}return n.prototype.execute=function(m){var f=this,V=this.lastExecute;if(V&&V.promise.pending()){if(h(m,V.query)){var p=(0,e.U)(V.deferred);return p.matchesLastExecuteQuery=!0,p}this.lastExecute.ended=!0,this.lastExecute.promise.reject(new l.hC("NewQuery"))}var C=m&&m.query&&m.query.telemetryV2Enabled,b=this.promiseFactory.defer(C),y=(0,e.U)(b),D=this.lastExecute={query:m,deferred:b,promise:y,ended:!1};return this.queuedExecution||(this.queuedExecution=!0,this.timeoutService.setTimeout(!0===m.isColdLoad?-1:0,C).promise.then(function(){f.queuedExecution=!1;var w=f.lastExecute;if(w&&!w.ended){var x=f.proxy.execute(w.query);x.then(function(R){w.ended?w.deferred.reject():w.deferred.resolve(R)},function(R){return w.deferred.reject(R)}),w.promise.catch(function(R){return x.reject(R)})}}).catch(function(){})),y.finally(function(){D.ended=!0,D===f.lastExecute&&(f.lastExecute=void 0)}).catch(function(){}),y},n.prototype.cancelQuery=function(m){var f=this.lastExecute;f&&f.promise.pending()&&(f.ended=!0,f.promise.reject("PausedQuery"===m?new l.xs:new l.hC(m)))},n}(),a=function(){function n(m,f,V,p){o.fF.assertAnyValue(m,"pluginName"),o.fF.assertValue(f,"reader"),o.fF.assertValue(V,"promiseFactory"),o.fF.assertValue(p,"telemetryService"),this.name=m,this.reader=f,this.promiseFactory=V,this.telemetryService=p}return n.prototype.execute=function(m,f,V){var p=this;o.fF.assertValue(m,"options"),o.fF.assertAnyValue(V,"perfId");var C=this.promiseFactory.defer(m.telemetryV2Enabled),b=this.reader;if(b.execute){var y=b.execute(m,V);y.then(function(P){if(P){var F=p.transform(P,f,V,m.performanceActivity),E=F.error;if(F.performanceActivities&&E&&(E.performanceActivities=F.performanceActivities),E)return C.reject(E),void p.telemetryService.logEvent(v.zT,{requestId:P.requestId,isError:!0,errorSource:"PowerBI",errorCode:E.code});C.resolve({dataReaderResult:F,dataViewSource:{data:P}})}else C.reject(new S.C6),p.telemetryService.logEvent(v.zT,{isError:!0,errorSource:"PowerBI",errorCode:"DataProxy_EmptyData"})},function(P){C.reject(P),(!P||!P.ignorable)&&p.telemetryService.logEvent(v.zT,{requestId:null==P?void 0:P.requestId,isError:!0,errorSource:"PowerBI",errorCode:P?P.code:"DataProxy_ProviderError"})}).catch(function(P){C.reject(P)});var D=(0,e.U)(C);return D.catch(function(P){P=P||new S._W,y.reject(P)}),D}return m.command?C.resolve({dataReaderResult:this.transform(m.command,f,V)}):C.reject(),(0,e.U)(C)},n.prototype.stopCommunication=function(){var m=this.reader;m.stopCommunication&&m.stopCommunication()},n.prototype.resumeCommunication=function(){var m=this.reader;m.resumeCommunication&&m.resumeCommunication()},n.prototype.clearCache=function(m){var f=this.reader.cache;f&&f.clear(m)},n.prototype.rewriteCacheEntries=function(m,f){var V=this.reader.cache;V&&V.rewrite(m,f)},n.prototype.setLocalCacheResult=function(m,f){var V=this.reader;V.setLocalCacheResult&&V.setLocalCacheResult(m,f)},n.prototype.transform=function(m,f,V,p){var C=this.reader;if(C.transform)return C.transform(m,f||31,V,p);var b={metadata:{columns:[]}};return b[this.name]=m,{dataView:b}},n}()},58227:function(Xe,H,t){t.d(H,{C6:function(){return v},Kd:function(){return d},_W:function(){return S},qc:function(){return o}});var e=t(301938),l=t(562386),o=function(){function h(c){this.innerError=c,this.code="QueryPipelineError",this.eventFactory=e.mN,this.ignorable=!(null==c||!c.ignorable)}return h.prototype.getDetails=function(c){return{message:"",displayableErrorInfo:[]}},h}(),d=function(){function h(){}return Object.defineProperty(h.prototype,"code",{get:function(){return"FailedRealTimeUpdate"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getDetails=function(c){return{message:c.get("Realtime_UpdateFailedValue"),displayableErrorInfo:[{errorInfoKey:c.get("Realtime_UpdateFailedKey"),errorInfoValue:c.get("Realtime_UpdateFailedValue")}],debugErrorInfo:[{errorInfoKey:l.zd,errorInfoValue:this.code}]}},h}(),v=function(){function h(){}return Object.defineProperty(h.prototype,"code",{get:function(){return"EmptyData"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getDetails=function(c){return{message:c.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:c.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:c.get("InvalidDataFormat_DataFormatIsInvalid")}],debugErrorInfo:[{errorInfoKey:l.zd,errorInfoValue:this.code}]}},h}(),S=function(){function h(){}return Object.defineProperty(h.prototype,"code",{get:function(){return"InvalidDataResponse"},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),h.prototype.getDetails=function(c){return{message:c.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:c.get("ServiceError_ExecuteSemanticQueryErrorKey"),errorInfoValue:c.get("InvalidDataResponse_ServerError")}],debugErrorInfo:[{errorInfoKey:l.zd,errorInfoValue:this.code}]}},h}()},136847:function(Xe,H,t){t.d(H,{ON:function(){return u},Om:function(){return h},aU:function(){return i}});var e=t(498342),l=t(768783),o=t(812454),d=t(629081),v=t(915925),S=t(686311),h=function(){function m(){}return m.getDataPointsDescription=function(f,V){if(f&&!_.isEmpty(V)){for(var p=this.getDataViewKind(f),C=[],b=0,y=V;b<y.length;b++){var D=y[b],P=this.query([f],D,p,[],!0),F=(0,o.tV)(D);C.push({selector:F,values:P})}return C}},m.getDataViewKind=function(f){var V=0;if(f.matrix)V=2;else if(f.table)V=8;else{if(!f.categorical)return void e.fF.assertFail("DataViewQueryEngine for this call doesnt support dataView other than categorical/table/matrix");V=1}return V},m.query=function(f,V,p,C,b){if(_.isEmpty(f)||!V)return[];var D,y=(0,o.gU)(V);if(_.some(y,function(T){return!(0,o.yN)(T)}))return[];D=C&&!b?C:V.metadata;var P=[];if((0,l.yE)(p,8))for(var F=0,E=f;F<E.length;F++){var w=E[F],x=new s(V,D,b);a(w.table,x),P.push.apply(P,x.valueDetails||[])}else if((0,l.yE)(p,1))for(var R=0,g=f;R<g.length;R++)i(w=g[R],x=new c(V,D,b)),P.push.apply(P,x.valueDetails||[]);else if((0,l.yE)(p,2))for(var L=0,M=f;L<M.length;L++)w=M[L],x=new r(V),n(w.matrix,x),P.push.apply(P,x.valueDetails||[]);return P},m}(),c=function(){function m(f,V,p){this.ignoreQueryName=p,this.requestedValues=V,this.identities=(0,o.gU)(f),this.valueDetails=[]}return m.prototype.visitCategoryColumns=function(f,V){if(!_.isEmpty(f))for(var p=function(F){if(C.ignoreQueryName||_.includes(C.requestedValues,F.source.queryName))for(var E=0;E<F.identity.length;E++){var w=F.identity[E];if(_.includes(C.identities,w)){var x=_.find(V.columns,function(R){return R.index===F.source.index});C.valueDetails.push({identity:w,value:F.values[E],expr:x.expr,formattedValue:(0,S.WU)(F.values[E],F.source.format)});break}}},C=this,b=0,y=f;b<y.length;b++)p(y[b])},m.prototype.visitValueColumnGroups=function(f,V){if(!_.isEmpty(f)&&V&&(this.ignoreQueryName||_.includes(this.requestedValues,V.queryName)))for(var p=0,C=f;p<C.length;p++){var b=C[p];if(_.includes(this.identities,b.identity))return void this.valueDetails.push({value:b.name,formattedValue:(0,S.WU)(b.name,V.format),expr:V.expr,identity:b.identity})}},m.prototype.visitValueColumn=function(f){return!!_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,f.source.queryName)},m.prototype.visitValue=function(f,V,p,C,b){u(this.identities,V.data)||this.valueDetails.push({expr:p.expr,value:f,formattedValue:(0,S.WU)(f,p.format),identity:_.head(V.data)})},m}(),r=function(){function m(f){this.valueDetails=[],this.identitiesToSearch=(0,o.gU)(f)}return m.prototype.visitHierarchy=function(f){for(var V=f.root;V&&V.children&&this.identitiesToSearch.length>0;)V=this.searchNode(V,f.levels)},m.prototype.searchNode=function(f,V){for(var p=0,C=this.identitiesToSearch;p<C.length;p++)for(var b=C[p],y=0,D=f.children;y<D.length;y++){var P=D[y];if(P.identity===b){var F=P.levelValues,E=V[P.level||0];if(!_.isEmpty(F))for(var w=0,x=F;w<x.length;w++){var R=x[w],g=E.sources[R.levelSourceIndex||0];this.valueDetails.push({expr:g.expr,identity:b,value:R.value,formattedValue:(0,S.WU)(R.value,g.format)})}return _.remove(this.identitiesToSearch,b),P}}},m}(),s=function(){function m(f,V,p){this.ignoreQueryName=p,this.requestedValues=V,this.identities=(0,o.gU)(f),this.valueDetails=[],this.requestedColumnsIndices=[]}return m.prototype.visitColumn=function(f,V){(this.ignoreQueryName||f.isMeasure&&(_.isEmpty(this.requestedValues)||_.includes(this.requestedValues,f.queryName)))&&this.requestedColumnsIndices.push(V)},m.prototype.visitRow=function(f,V){if(e.fF.assertAnyValue(f.rows[V],"A row for this rowIndex does not exist"),!f.identity||!u(this.identities,[f.identity[V]]))for(var C=0,b=this.requestedColumnsIndices;C<b.length;C++){var y=b[C],D=f.rows[V][y],P=f.columns[y];this.valueDetails.push({expr:P.expr,value:D,formattedValue:(0,S.WU)(D,P.format),identity:f.identity&&f.identity[V]})}},m}();function u(m,f){if(m)for(var V=function(P){if(!_.some(f,function(F){return(0,v.fS)(P,F)}))return{value:!0}},p=0,C=m;p<C.length;p++){var y=V(C[p]);if("object"==typeof y)return y.value}return!1}function i(m,f){var V=m.categorical;if(e.fF.assertAnyValue(f,"visitor should be defined"),V&&!_.isEmpty(V.values)){var p=(0,d.zq)(V);f.visitCategoryColumns(p,m.metadata);var C=_.head(V.categories),b=C&&_.clone(C.identity),y=V.values.grouped();f.visitValueColumnGroups(y,V.values.source);for(var D=0,P=y;D<P.length;D++)for(var F=P[D],E=F.identity,w=0,x=F.values;w<x.length;w++){var R=x[w];if(f.visitValueColumn(R))for(var g=Object.keys(R.values),L=0;L<g.length;L++){var T=R.values[g[L]],N={data:b?[b[L]]:[],metadata:R.source.queryName};E&&N.data.push(E),f.visitValue(T,N,R.source,V.categories,L)}}}}function a(m,f){if(e.fF.assertAnyValue(f,"visitor should be defined"),m&&!_.isEmpty(m.rows)){for(var V=m.columns,p=0;p<V.length;p++)f.visitColumn(V[p],p);for(var C=0;C<m.rows.length;C++)f.visitRow(m,C)}}function n(m,f){m.rows&&f.visitHierarchy(m.rows),m.columns&&f.visitHierarchy(m.columns)}},589004:function(Xe,H,t){t.d(H,{D:function(){return d},m:function(){return o}});var e=t(915925),l=t(758205);function o(v){return{scopeId:l.ib.serializeExpr(v.expr)}}function d(v){if(v.scopeId){var S=l.ib.deserializeExpr(v.scopeId);if(S)return(0,e.TZ)(S)}}},7431:function(Xe,H,t){t.d(H,{m8:function(){return s},mc:function(){return u},qC:function(){return S},vB:function(){return h}});var e=t(498342),l=t(572909),o=t(588376),d=t(358246),v={get:function(C){return C},getOptional:function(C){return C},format:function(C){return C}};function S(p,C){e.fF.assertValue(p,"objectDescriptors");var b={};for(var y in p)b[y]=c(p[y],C||v);return b}function h(p){e.fF.assertValue(p,"wireObjectDescriptors");var C={};for(var b in p)C[b]=r(p[b]);return C}function c(p,C){if(p){var b={properties:{}};for(var y in p.displayName&&(b.displayName=(0,l.G)(p.displayName,C)),p.description&&(b.description=(0,l.G)(p.description,C)),p.properties)b.properties[y]=s(p.properties[y],C);return b}}function r(p){var C={properties:{}};for(var b in p.displayName&&(C.displayName=(0,l.V)(p.displayName)),p.description&&(C.description=(0,l.V)(p.description)),p.properties)C.properties[b]=u(p.properties[b]);return C}function s(p,C){var b={type:i(p.type,C)};return p.rule&&(b.rule=p.rule),p.displayName&&(b.displayName=(0,l.G)(p.displayName,C)),p.description&&(b.description=(0,l.G)(p.description,C)),p.placeHolderText&&(b.placeHolderText=(0,l.G)(p.placeHolderText,C)),b}function u(p){var C={type:a(p.type)};return p.displayName&&(C.displayName=(0,l.V)(p.displayName)),p.description&&(C.description=(0,l.V)(p.description)),p.placeHolderText&&(C.placeHolderText=(0,l.V)(p.placeHolderText)),p.rule&&(C.rule=p.rule),C}function i(p,C){var b=d.Ge.fromDescriptor(p);return b&&b.enum?{enumeration:m(b.enum,C)}:null!=b&&b.flagsEnum?{flagsEnumeration:m(b.flagsEnum,C)}:p}function a(p){return d.Ge.fromDescriptor(p)?function(p){var C;if(p.enumeration)C={enumeration:f(p.enumeration)};else if(p.flagsEnumeration)C={flagsEnumeration:f(p.flagsEnumeration)};else for(var y in C={},p)C[y]=p[y];return C}(p):p}function m(p,C){return _.map(p.members(),function(b){return function(p,C){return{displayName:(0,l.G)(p.displayName,C),value:p.value}}(b,C)})}function f(p){return(0,o.i)(p)}},593773:function(Xe,H,t){t.d(H,{PU:function(){return le},wN:function(){return B},kO:function(){return I},OT:function(){return Q},L1:function(){return ie},UU:function(){return U},JF:function(){return he},iz:function(){return K},kg:function(){return G},un:function(){return x},CA:function(){return g},kS:function(){return M},B6:function(){return ft},W7:function(){return vt},xF:function(){return tt},Vg:function(){return Le},UZ:function(){return He},OR:function(){return W},U9:function(){return ke},bI:function(){return j},kW:function(){return Ue}});var N,e=t(781322),l=t(365358),o=t(498342),d=t(504898),v=t(393308),S=t(812454),h=t(204553),c=t(865001),r=t(917791),s=t(478226),u=t(854883),i=t(114096),a=t(512322),n=t(646517),m=t(864185),f=t(267103),V=t(358246),p=t(589004),C=t(316236),b=t(901389),y=t(758205),D=V.Ge.fromDescriptor({bool:!0}),P=V.Ge.fromDescriptor({numeric:!0}),F=V.Ge.fromDescriptor({text:!0}),E={fill:{solid:{color:!0}}};function x(Ie,qe){var bt=Ie&&Ie[qe];if(bt){for(var It,Rt=0,zt=bt.length;Rt<zt;Rt++){var Kt=bt[Rt];if(null==Kt.selector){It=Kt;break}}if(It)return It.properties}}function g(Ie){return Ie&&"ExprContext"===Ie.propertyDefinitionKind}function M(Ie){return _.isArray(Ie)&&!!Ie[0].dataMap}function I(Ie,qe,bt,It){if(void 0===It&&(It="objects"),null!=Ie)if(!_.isEmpty(Ie)||(0,e.Jx)(Ie)){var Rt=qe();if(Rt)bt[It]=B(Ie,Rt);else{var Kt,zt=!1;Object.defineProperty(bt,It,{enumerable:!0,get:function(){return zt||(zt=!0,Kt=B(Ie,qe())),Kt},set:function(ir){zt=!0,Kt=ir}})}}else bt[It]={};else bt[It]=void 0}function B(Ie,qe){if(o.fF.assertAnyValue(Ie,"input"),o.fF.assertAnyValue(qe,"descriptors"),Ie){!N&&!qe&&(N=!0,d.f.error("deserializeObjects called with no descriptors - ",!0));var bt={};for(var It in Ie){var Rt=void 0;if(!qe||(Rt=qe[It]))for(var zt=Ie[It],Kt=bt[It]=[],Yt=0,ir=zt.length;Yt<ir;Yt++)Kt.push(ee(zt[Yt],Rt,!qe))}return bt}}function U(Ie){if(Ie)return _.map(Ie,ie)}function W(Ie){if(Ie)return _.map(Ie,He)}function j(Ie){if(Ie)return{category:Ie.categoryString,underlyingType:Ie.extendedType}}function K(Ie){if(Ie)return new V.Ge(Ie.underlyingType,Ie.category)}function ee(Ie,qe,bt){if(o.fF.assertAnyValue(Ie,"input"),o.fF.assertAnyValue(qe,"descriptor"),Ie){var It={properties:re(Ie.properties,qe?qe.properties:null,bt)},Rt=ie(Ie.selector);return Rt&&(It.selector=Rt),It}}function ie(Ie){if(o.fF.assertAnyValue(Ie,"input"),null===Ie)return null;if(Ie){var qe={};return Ie.data&&(qe.data=_.chain(Ie.data).map(function(bt){return me(bt)}).filter(function(bt){return null!=bt}).value()),Ie.metadata&&(qe.metadata=Ie.metadata),Ie.id&&(qe.id=Ie.id),void 0!==Ie.highlightMatching&&(qe.highlightMatching=Ie.highlightMatching),null!=Ie.order&&(qe.order=Ie.order),qe}}function he(Ie){if(o.fF.assertAnyValue(Ie,"input"),Ie){var qe={};if(Ie.dataMap)for(var bt in qe.dataMap={},Ie.dataMap)qe.dataMap[bt]=_.chain(Ie.dataMap[bt]).map(function(It){return me(It)}).filter(function(It){return null!=It}).value();return Ie.metadata&&(qe.metadata=Ie.metadata),Ie.id&&(qe.id=Ie.id),qe}}function q(Ie,qe,bt){Ie.decomposedIdentities&&(qe.decomposedIdentities=bt(Ie.decomposedIdentities)),Ie.queryNames&&(qe.queryNames=Ie.queryNames),Ie.queryNameMap&&(qe.queryNameMap=Ie.queryNameMap),Ie.metadata&&(qe.metadata=Ie.metadata),Ie.id&&(qe.id=Ie.id)}function G(Ie){if(Ie)return _.map(Ie,function(qe){return{objectName:qe.objectName,selectorsByColumn:he(qe.selectorsByColumn)}})}function me(Ie){return o.fF.assertValue(Ie,"input"),Ie.scopeId?(0,p.D)(Ie):Ie.wildcard?(0,s.ms)(_.map(Ie.wildcard,y.ib.deserializeExpr)):Ie.roles?(0,c.Yp)(Ie.roles):Ie.total?(0,r.ms)(_.map(Ie.total,y.ib.deserializeExpr)):Ie.dataViewWildcard?(0,u.Ue)(Ie.dataViewWildcard.matchingOption):void 0}function re(Ie,qe,bt){if(o.fF.assertAnyValue(Ie,"input"),o.fF.assertAnyValue(qe,"propertyDescriptors"),Ie){var It={};for(var Rt in Ie){var zt=le(Ie[Rt],qe?qe[Rt]:null,bt);void 0!==zt&&(It[Rt]=zt)}return It}}function le(Ie,qe,bt){if(o.fF.assertAnyValue(Ie,"input"),o.fF.assertAnyValue(qe,"propertyDescriptor"),qe){var It=at(qe.type);return g(Ie)?{propertyDefinitionKind:"ExprWithContext",value:Ee(Ie.value,It.value),context:Ye(Ie.context)}:function(Ie,qe){return!!qe.value}(0,It)?Ee(Ie,It.value):Ne(Ie,It.structural)}if(bt&&Ie){if(g(Ie))return{propertyDefinitionKind:"ExprWithContext",value:y.ib.deserializeExpr(Ie.value.expr),context:Ye(Ie.context)};if(Ie.expr)return y.ib.deserializeExpr(Ie.expr);if(Ie.solid)return Ne(Ie,E);if(Ie.filter)return y.ib.deserializeFilter(Ie.filter)}}function Ee(Ie,qe){if(o.fF.assertValue(qe,"type"),void 0!==qe.primitiveType&&Ie.expr)return y.ib.deserializeExpr(Ie.expr)}function Ne(Ie,qe){if(o.fF.assertValue(qe,"type"),qe.fill&&qe.fill.solid&&qe.fill.solid.color&&Ie)return Ie.solid&&Ie.solid.color?{solid:{color:Ee(Ie.solid.color,V.Ge.fromPrimitiveTypeAndCategory(1))}}:void 0;if(qe.fillRule){var Rt=St(Ie,Ee);if(Rt)return Rt}var zt=Ie;return qe.filter&&zt&&zt.filter?y.ib.deserializeFilter(zt.filter):qe.image&&zt&&zt.image?function(Ie){o.fF.assertValue(Ie,"input");var qe={name:Ee(Ie.name,F),url:Ee(Ie.url,V.Ge.fromDescriptor(n.z))};return Ie.scaling&&(qe.scaling=Ee(Ie.scaling,F)),qe}(zt.image):qe.geoJson&&zt&&zt.geoJson?function(Ie){return o.fF.assertValue(Ie,"input"),{type:Ee(Ie.type,F),name:Ee(Ie.name,F),content:Ee(Ie.content,F)}}(zt.geoJson):qe.paragraphs&&Ie?function(Ie){return o.fF.assertValue(Ie,"input"),_.map(Ie,function(qe){var bt={textRuns:_.map(qe.textRuns,function(It){return(0,m.Y0)(It)?fe(It):(0,m.Zm)(It)?function(Ie){var qe={cases:_.map(Ie.cases,function(bt){var It={pattern:Ee(bt.pattern,F),textRuns:_.map(bt.textRuns,function(Rt){return fe(Rt)})};return It}),defaultCase:{textRuns:_.map(Ie.defaultCase.textRuns,function(bt){return fe(bt)})},expression:Ce(Ie.expression)};return qe}(It):void 0})};return qe.horizontalTextAlignment&&(bt.horizontalTextAlignment=qe.horizontalTextAlignment),qe.listType&&(bt.listType=qe.listType),qe.indent&&(bt.indent=qe.indent),bt})}(Ie):qe.queryTransform&&Ie?function(Ie){return o.fF.assertValue(Ie,"input"),{algorithm:Ie.algorithm,parameters:_.map(Ie.parameters,function(bt){return{name:bt.Name,expr:y.ib.deserializeExpr(bt)}})}}(Ie):qe.dataBars&&Ie?function(Ie){return o.fF.assertValue(Ie,"input"),{minValue:Ie.minValue?Ee(Ie.minValue,P):void 0,maxValue:Ie.maxValue?Ee(Ie.maxValue,P):void 0,positiveColor:Ne(Ie.positiveColor,E),negativeColor:Ne(Ie.negativeColor,E),axisColor:Ne(Ie.axisColor,E),reverseDirection:Ee(Ie.reverseDirection,D),hideText:Ee(Ie.hideText,D)}}(Ie):qe.icon&&Ie&&"Icon"===Ie.kind?function(Ie){o.fF.assertValue(Ie,"input");var qe={kind:"Icon"};return Ie.layout&&(qe.layout=Ee(Ie.layout,F)),Ie.verticalAlignment&&(qe.verticalAlignment=Ee(Ie.verticalAlignment,D)),Ie.value&&(qe.value=Ee(Ie.value,F)),qe}(Ie):qe.exprList&&Ie&&"ExprList"===Ie.kind?function(Ie){o.fF.assertValue(Ie,"input");var qe={exprs:[],kind:"ExprList"};return qe.exprs=_.map(Ie.exprs,function(bt){return y.ib.deserializeExpr(bt.expr)}),qe}(Ie):qe.errorRange&&Ie&&"ErrorRange"===Ie.kind?function(Ie){o.fF.assertValue(Ie,"input");var qe={kind:"ErrorRange"};if(Ie.explicit)qe.explicit={isRelative:y.ib.deserializeExpr((bt=Ie.explicit).isRelative.expr)},bt.lowerBound&&(qe.explicit.lowerBound=y.ib.deserializeExpr(bt.lowerBound.expr)),bt.upperBound&&(qe.explicit.upperBound=y.ib.deserializeExpr(bt.upperBound.expr));else if(Ie.symmetricalExplicit)qe.symmetricalExplicit={delta:y.ib.deserializeExpr((bt=Ie.symmetricalExplicit).delta.expr)};else if(Ie.standardDeviation)qe.standardDeviation={value:y.ib.deserializeExpr((bt=Ie.standardDeviation).value.expr),multiplier:y.ib.deserializeExpr(bt.multiplier.expr)};else if(Ie.percentage)qe.percentage={lowerBoundDelta:y.ib.deserializeExpr((bt=Ie.percentage).lowerBoundDelta.expr),upperBoundDelta:y.ib.deserializeExpr(bt.upperBoundDelta.expr)};else if(Ie.percentile){var bt;o.fF.assertValue((bt=Ie.percentile).lowerBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),o.fF.assertValue(bt.upperBound.expr.Percentile,"Percentile lowerBound must be a Percentile expression"),qe.percentile={lowerBound:y.ib.deserializeExpr(bt.lowerBound.expr),upperBound:y.ib.deserializeExpr(bt.upperBound.expr)}}return qe}(Ie):qe.qnaVisualLink&&Ie?function(Ie){o.fF.assertValue(Ie,"input");var qe={};return Ie.suggestedUtterances&&(qe.suggestedUtterances=_.map(Ie.suggestedUtterances,function(bt){return{utterance:bt.Utterance}})),_.isEmpty(qe)?void 0:qe}(Ie):qe.itemLocation&&Ie&&"ItemLocation"===Ie.kind?function(Ie){if(o.fF.assertValue(Ie,"input"),Ie.byReference){var qe={kind:"ItemLocation",byReference:{itemId:Ee(Ie.byReference.itemId,F)}};return null!=Ie.byReference.workspaceId&&(qe.byReference.workspaceId=Ee(Ie.byReference.workspaceId,F)),null!=Ie.byReference.folderId&&(qe.byReference.folderId=Ee(Ie.byReference.folderId,F)),qe}}(Ie):void o.fF.assertFail("Deserializing a structural type failed")}function Ye(Ie){o.fF.assertValue(Ie,"input");var qe={};return _.isEmpty(Ie.filterContext)||(qe.filterContext=_.map(Ie.filterContext,function(bt){return{filter:y.ib.deserializeFilter(bt.filter),metadata:bt.metadata?(0,b.hE)(bt.metadata):void 0}})),qe}function fe(Ie){var qe={value:oe(Ie.value)};return Ie.textStyle&&(qe.textStyle=Ie.textStyle),Ie.url&&(qe.url=Ie.url),Ie.mentionEmail&&(qe.mentionEmail=Ie.mentionEmail),qe}function oe(Ie){var qe;if(_.isString(Ie))qe=Ie;else if(!(qe=Ee(Ie,F))){var bt=Ie;(0,f.U)(bt)&&(qe=bt)}return qe}function Ce(Ie){var qe;if(!(qe=Ee(Ie,F))){var bt=Ie;(0,f.U)(bt)&&(qe=bt)}return qe}function tt(Ie,qe,bt,It){if(o.fF.assertAnyValue(Ie,"contract"),o.fF.assertAnyValue(qe,"descriptors"),Ie){var Rt={};for(var zt in Ie){var Kt=void 0;if(!qe||(Kt=qe[zt]))for(var Yt=Ie[zt],ir=Rt[zt]=[],lr=0,dr=Yt.length;lr<dr;lr++)ir.push(mt(Yt[lr],Kt,!qe,bt,It))}return Rt}}function mt(Ie,qe,bt,It,Rt){if(o.fF.assertAnyValue(Ie,"contract"),o.fF.assertAnyValue(qe,"descriptor"),Ie){var zt=function(Ie,qe,bt,It,Rt){if(o.fF.assertAnyValue(Ie,"contract"),o.fF.assertAnyValue(qe,"descriptors"),Ie){var zt={};for(var Kt in Ie){var Yt=qe?qe[Kt]:null;if(!(Rt&&null!=Yt&&Yt.transient||!bt&&!Yt)){var ir=vt(Ie[Kt],Yt,bt,It);void 0===ir?o.fF.assertFail("DataViewObjectSerializer: failed to serialize property: "+Kt+" due to malformed property value."):zt[Kt]=ir}}return zt}}(Ie.properties,qe?qe.properties:null,bt,It,Rt);if(zt){var Kt={properties:zt},Yt=He(Ie.selector);return Yt&&(Kt.selector=Yt),Kt}}}function He(Ie){if(o.fF.assertAnyValue(Ie,"contract"),null===Ie)return null;if(Ie){var qe={};return Ie.data&&(qe.data=_.chain(Ie.data).map(function(bt){return ae(bt)}).filter(function(bt){return null!=bt}).value()),Ie.metadata&&(qe.metadata=Ie.metadata),Ie.id&&(qe.id=Ie.id),void 0!==Ie.highlightMatching&&(qe.highlightMatching=Ie.highlightMatching),null!=Ie.order&&(qe.order=Ie.order),qe}}function ke(Ie){if(o.fF.assertAnyValue(Ie,"contract"),Ie){var qe={};if(Ie.dataMap)for(var bt in qe.dataMap={},Ie.dataMap){var It=(0,l.rY)(Ie.dataMap[bt]);qe.dataMap[bt]=_.chain(It).map(function(Rt){return ae(Rt)}).filter(function(Rt){return null!=Rt}).value()}return Ie.metadata&&(qe.metadata=Ie.metadata),Ie.id&&(qe.id=Ie.id),qe}}function ft(Ie){if(o.fF.assertAnyValue(Ie,"contract"),Ie){var qe={};return q(Ie,qe,C.Rs),qe}}function Le(Ie,qe){return qe?ft((0,v.od)(Ie)):_.map(Ie,function(It){return ke(It)})}function Q(Ie){if(function(Ie){return!_.isArray(Ie)&&!!Ie.decomposedIdentities}(Ie)){var qe=function(Ie){if(o.fF.assertAnyValue(Ie,"input"),Ie){var qe={};return q(Ie,qe,C.H9),qe}}(Ie);return(0,v.k4)(qe)}return _.map(Ie,function(bt){return he(bt)})}function Ue(Ie){if(Ie)return _.map(Ie,function(qe){return{objectName:qe.objectName,selectorsByColumn:ke(qe.selectorsByColumn)}})}function ae(Ie){return o.fF.assertValue(Ie,"contract"),(0,S.yN)(Ie)&&Ie.expr?(0,p.m)(Ie):(0,S.QV)(Ie)&&Ie.exprs?{wildcard:_.map(Ie.exprs,function(qe){return y.ib.serializeExpr(qe)})}:(0,S.j9)(Ie)&&Ie.roles?{roles:Ie.roles}:(0,S.tQ)(Ie)&&Ie.exprs?{total:_.map(Ie.exprs,function(qe){return y.ib.serializeExpr(qe)})}:(0,S.qm)(Ie)?{dataViewWildcard:Se(Ie)}:void o.fF.assertFail("serializeDataRepetitionSelector - Selector did not match type and constraints.")}function Se(Ie){return{matchingOption:Ie.matchingOption}}function vt(Ie,qe,bt,It){if(o.fF.assertAnyValue(Ie,"contract"),o.fF.assertAnyValue(qe,"descriptor"),qe){var Rt=at(qe.type);return(0,h.er)(Ie)?{propertyDefinitionKind:"ExprContext",value:We(Ie.value,Rt.value),context:te(Ie.context,It)}:Rt.value?We(Ie,Rt.value):de(Ie,Rt.structural)}if(bt&&Ie){if((0,h.er)(Ie))return{propertyDefinitionKind:"ExprContext",value:{expr:y.ib.serializeExpr(Ie.value)},context:te(Ie.context,It)};if(Ie instanceof a.Il)return{expr:y.ib.serializeExpr(Ie)};if(Ie instanceof i.yl)return{filter:y.ib.serializeFilter(Ie)};if(Ie.solid)return de(Ie,E)}}function We(Ie,qe){if(o.fF.assertValue(qe,"type"),void 0!==qe.primitiveType&&Ie instanceof a.Il)return{expr:y.ib.serializeExpr(Ie,!0)}}function de(Ie,qe){if(o.fF.assertValue(qe,"type"),Ie){if(qe.fill&&qe.fill.solid&&qe.fill.solid.color)return{solid:{color:We(Ie.solid.color,F)}};if(qe.fillRule){var Rt=St(Ie,We);if(Rt)return Rt}if(qe.filter)return{filter:y.ib.serializeFilter(Ie)};if(qe.image)return{image:Ve(Ie)};if(qe.geoJson)return{geoJson:xe(Ie)};if(qe.paragraphs)return function(Ie){return o.fF.assertValue(Ie,"definition"),_.map(Ie,function(qe){var bt={textRuns:_.map(qe.textRuns,function(It){return(0,m.IM)(It)?J(It):(0,m.Kt)(It)?{cases:_.map(It.cases,function(zt){return{pattern:We(zt.pattern,F),textRuns:_.map(zt.textRuns,function(Yt){return J(Yt)})}}),defaultCase:{textRuns:_.map(It.defaultCase.textRuns,function(zt){return J(zt)})},expression:ze(It.expression)}:void 0})};return qe.horizontalTextAlignment&&(bt.horizontalTextAlignment=qe.horizontalTextAlignment),qe.listType&&(bt.listType=qe.listType),qe.indent&&(bt.indent=qe.indent),bt})}(Ie);if(qe.queryTransform)return function(Ie){return{algorithm:Ie.algorithm,parameters:_.map(Ie.parameters,function(qe){var bt=y.ib.serializeExpr(qe.expr);return bt.Name=qe.name,bt})}}(Ie);if(qe.dataBars)return function(Ie){return{minValue:We(Ie.minValue,P),maxValue:We(Ie.maxValue,P),positiveColor:de(Ie.positiveColor,E),negativeColor:de(Ie.negativeColor,E),axisColor:de(Ie.axisColor,E),reverseDirection:We(Ie.reverseDirection,D),hideText:We(Ie.hideText,D)}}(Ie);if(qe.icon&&"Icon"===Ie.kind)return function(Ie){var qe={kind:"Icon"};return Ie.layout&&(qe.layout=We(Ie.layout,F)),Ie.verticalAlignment&&(qe.verticalAlignment=We(Ie.verticalAlignment,D)),Ie.value&&(qe.value=We(Ie.value,F)),qe}(Ie);if(qe.exprList&&"ExprList"===Ie.kind)return function(Ie){o.fF.assertValue(Ie,"input");var qe={exprs:[],kind:"ExprList"};return qe.exprs=_.map(Ie.exprs,function(bt){return We(bt,F)}),qe}(Ie);if(qe.errorRange&&"ErrorRange"===Ie.kind)return function(Ie){o.fF.assertValue(Ie,"input");var qe={kind:"ErrorRange"};if(Ie.explicit)qe.explicit={isRelative:We((bt=Ie.explicit).isRelative,D)},bt.lowerBound&&(qe.explicit.lowerBound=We(bt.lowerBound,P)),bt.upperBound&&(qe.explicit.upperBound=We(bt.upperBound,P));else if(Ie.symmetricalExplicit)qe.symmetricalExplicit={delta:We((bt=Ie.symmetricalExplicit).delta,P)};else if(Ie.standardDeviation)qe.standardDeviation={value:We((bt=Ie.standardDeviation).value,P),multiplier:We(bt.multiplier,P)};else if(Ie.percentage)qe.percentage={lowerBoundDelta:We((bt=Ie.percentage).lowerBoundDelta,P),upperBoundDelta:We(bt.upperBoundDelta,P)};else if(Ie.percentile){var bt;qe.percentile={lowerBound:We((bt=Ie.percentile).lowerBound,P),upperBound:We(bt.upperBound,P)}}return qe}(Ie);if(qe.qnaVisualLink)return function(Ie){o.fF.assertValue(Ie,"input");var qe={};if(Ie.suggestedUtterances){qe.suggestedUtterances=_.map(Ie.suggestedUtterances,function(It){return{Version:"1.0",Utterance:It.utterance}})}return _.isEmpty(qe)?void 0:qe}(Ie);if(qe.itemLocation)return function(Ie){if(o.fF.assertValue(Ie,"input"),Ie.byReference){var qe=Ie.byReference,bt={kind:"ItemLocation",byReference:{itemId:We(qe.itemId,F)}};return null!=qe.workspaceId&&(bt.byReference.workspaceId=We(qe.workspaceId,F)),null!=qe.folderId&&(bt.byReference.folderId=We(qe.folderId,F)),bt}}(Ie);o.fF.assertFail("Serializing a structural type failed")}}function te(Ie,qe){o.fF.assertValue(Ie,"contract");var bt={};return _.isEmpty(Ie.filterContext)||(bt.filterContext=_.map(Ie.filterContext,function(It){return{filter:y.ib.serializeFilter(It.filter),metadata:It.metadata?(0,b.Qe)(It.metadata,qe):void 0}})),bt}function Ve(Ie){o.fF.assertValue(Ie,"definition");var qe={name:We(Ie.name,F),url:We(Ie.url,V.Ge.fromDescriptor(n.z))};return Ie.scaling&&(qe.scaling=We(Ie.scaling,F)),qe}function xe(Ie){return o.fF.assertValue(Ie,"definition"),{type:We(Ie.type,F),name:We(Ie.name,F),content:We(Ie.content,F)}}function J(Ie){var qe={value:Fe(Ie.value)};return Ie.textStyle&&(qe.textStyle=Ie.textStyle),Ie.url&&(qe.url=Ie.url),Ie.mentionEmail&&(qe.mentionEmail=Ie.mentionEmail),qe}function Fe(Ie){var qe;return Ie instanceof a.Il?qe=We(Ie,F):_.isString(Ie)||(0,f.U)(Ie)?qe=Ie:o.fF.assertNever(Ie),qe}function ze(Ie){var qe;return Ie instanceof a.Il?qe=We(Ie,F):(0,f.U)(Ie)?qe=Ie:o.fF.assertNever(Ie),qe}function at(Ie){o.fF.assertValue(Ie,"typeDescriptor");var qe=V.Ge.fromDescriptor(Ie);return 0!==qe.primitiveType?{value:qe}:{structural:Ie}}function St(Ie,qe){if(Ie.linearGradient2){var It={min:{color:qe((bt=Ie.linearGradient2).min.color,V.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:qe(bt.max.color,V.Ge.fromPrimitiveTypeAndCategory(1))}};return bt.min.value&&(It.min.value=qe(bt.min.value,V.Ge.fromPrimitiveTypeAndCategory(3))),bt.max.value&&(It.max.value=qe(bt.max.value,V.Ge.fromPrimitiveTypeAndCategory(3))),bt.nullColoringStrategy&&(It.nullColoringStrategy={strategy:qe(bt.nullColoringStrategy.strategy,V.Ge.fromPrimitiveTypeAndCategory(1))},bt.nullColoringStrategy.color&&(It.nullColoringStrategy.color=qe(bt.nullColoringStrategy.color,V.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient2:It}}var bt;return Ie.linearGradient3?(It={min:{color:qe((bt=Ie.linearGradient3).min.color,V.Ge.fromPrimitiveTypeAndCategory(1))},mid:{color:qe(bt.mid.color,V.Ge.fromPrimitiveTypeAndCategory(1))},max:{color:qe(bt.max.color,V.Ge.fromPrimitiveTypeAndCategory(1))}},bt.min.value&&(It.min.value=qe(bt.min.value,V.Ge.fromPrimitiveTypeAndCategory(3))),bt.mid.value&&(It.mid.value=qe(bt.mid.value,V.Ge.fromPrimitiveTypeAndCategory(3))),bt.max.value&&(It.max.value=qe(bt.max.value,V.Ge.fromPrimitiveTypeAndCategory(3))),bt.nullColoringStrategy&&(It.nullColoringStrategy={strategy:qe(bt.nullColoringStrategy.strategy,V.Ge.fromPrimitiveTypeAndCategory(1))},bt.nullColoringStrategy.color&&(It.nullColoringStrategy.color=qe(bt.nullColoringStrategy.color,V.Ge.fromPrimitiveTypeAndCategory(1)))),{linearGradient3:It}):null}},123012:function(Xe,H,t){t.d(H,{F:function(){return i}});var e=t(973188),l=t(498342),o=t(417666),d=t(204553),v=t(509607),S=t(512322),h=t(358246),c=t(593773),s=t(633796),u=t(758205),i=function(){function a(){}return a.deserializeDataViewSelectTransforms=function(n){return l.fF.assertValue(n,"input"),function(a){if(a)for(var n=0,m=a;n<m.length;n++){var f=m[n];f.kpiStatusGraphic&&(f.kpi={graphic:f.kpiStatusGraphic})}}(n),_.map(n,function(m){var f={displayName:m.displayName,format:m.format,kpi:m.kpi,queryName:m.queryName,roles:m.roles,sort:m.sort,sortOrder:m.sortOrder,type:(0,c.iz)(m.type)};return m.expr&&(f.expr=u.ib.deserializeExpr(m.expr)),m.aggregateSources&&(f.aggregateSources=m.aggregateSources),m.relatedSelects&&(f.relatedSelects=m.relatedSelects),m.relatedObjects&&(f.relatedObjects=m.relatedObjects),f})},a.serializeDataViewSelectTransforms=function(n){return l.fF.assertValue(n,"input"),_.map(n,function(m){var f={displayName:m.displayName,format:m.format,kpi:m.kpi,queryName:m.queryName,roles:m.roles,sort:m.sort,sortOrder:m.sortOrder,type:(0,c.bI)(m.type)};return m.expr&&(f.expr=u.ib.serializeExpr(m.expr)),m.aggregateSources&&(f.aggregateSources=m.aggregateSources),m.relatedSelects&&(f.relatedSelects=m.relatedSelects),m.relatedObjects&&(f.relatedObjects=m.relatedObjects),f})},a.serializeDataViewTransformActions=function(n,m){l.fF.assertAnyValue(m,"objectDescriptors");var f={objects:(n=n||{}).objects,projectionOrdering:n.roles&&n.roles.ordering,projectionActiveItems:n.roles&&n.roles.activeItems,splits:n.splits,queryMetadata:null,visualElements:null};return n&&n.objects&&(f.objects=(0,c.xF)(n.objects,m,void 0,!1)),n&&n.selects&&(f.selects=a.serializeDataViewSelectTransforms(n.selects)),n&&!_.isEmpty(n.expansionStates)&&(f.expansionStates=(0,s.hI)(n.expansionStates)),f},a.deserializeDataViewTransformActions=function(n,m){var f=m&&m.objects;l.fF.assertValue(n,"actions"),l.fF.assertAnyValue(f,"objectDescriptors");var V=n.objects?(0,c.wN)(n.objects,f):null,p=a.createTransformActions(n.queryMetadata,n.visualElements,f,V)||{},C=n&&n.projectionActiveItems;return _.isEmpty(C)||this.upgradeActiveItemsIfNeeded(C),p.roles={ordering:n.projectionOrdering,activeItems:C},p.splits=n.splits,n.selects&&(p.selects=a.deserializeDataViewSelectTransforms(n.selects)),n.expansionStates&&(p.expansionStates=(0,s.bX)(n.expansionStates,{supportsMerge:m&&m.expandCollapse&&m.expandCollapse.supportsMerge,canCollapseRoot:m&&m.noDefaultProjections,collapseParentAfterRemovingChildLevel:m&&m.expandCollapse&&m.expandCollapse.collapseParentAfterRemovingChildLevel})),this.upgradeComboChartFromCY16SU04AndPrior(p),p},a.isStringArray=function(n){return _.isString(n[0])},a.upgradeActiveItemsIfNeeded=function(n){for(var m in n){var f=n[m],V=void 0;!_.isEmpty(f)&&this.isStringArray(f)&&(V=_.map(f,function(C){return{queryRef:C}})),n[m]=V||f}},a.upgradeComboChartFromCY16SU04AndPrior=function(n){var m;l.fF.assertValue(n,"transformActions");var p=n.roles&&n.roles.ordering;if(p){var C=p.Y&&1===p.Y.length&&_.includes(p.Y2,p.Y[0])?p.Y[0]:void 0;if(void 0!==C){var b=n.splits&&2===n.splits.length&&!n.splits[0].selects[C]&&n.splits[1].selects[C]?n.splits[0]:void 0;if(b){var y=_.chain(Object.keys(b.selects)).filter(function(w){return b.selects[w]}).map(function(w){return parseInt(w,10)}).maxBy(function(w){return w}).value();if(y!==Number.NEGATIVE_INFINITY&&n.selects&&n.selects.length===y){var P=n.selects[C];if(P&&P.roles.Y&&P.roles.Y2){delete P.roles.Y;var E=(0,e.__assign)({},P);E.roles=((m={}).Y=!0,m),E.queryName=P.queryName,n.selects[y]=E,n.roles.ordering.Y=[y]}}}}}},a.serializeTransformActions=function(n){return JSON.stringify(n)},a.createTransformActions=function(n,m,f,V){if(l.fF.assertAnyValue(n,"queryMetadata"),l.fF.assertAnyValue(m,"visualElements"),l.fF.assertAnyValue(f,"objectDescs"),l.fF.assertAnyValue(V,"objectDefns"),n&&!_.isEmpty(n.Select)||!_.isEmpty(m)||V){var p={};if(n){var C=n.Select;if(C)for(var b=p.selects=[],y=function(R,g){var L=C[R];if(!L)return b.push(null),"continue";var M=D.toTransformSelect(L,R);if(b.push(M),M.format&&f){l.fF.assert(function(){return!!M.queryName},"selectTransform.queryName should be defined (or defaulted).");var T=(0,v.$v)(f);T&&(V||(V={}),(0,d.sO)(V,T,{metadata:M.queryName},(0,S.fL)(M.format)))}},D=this,P=0,F=C.length;P<F;P++)y(P)}if(m){var E=(m=_.unionBy(m,function(x){return JSON.stringify(x)})).length;for(E>1&&(p.splits=[]),P=0;P<E;P++){var w=m[P];w.Settings&&0===P&&(V=this.upgradeSettingsToObjects(w.Settings,V)),w.DataRoles&&(p.selects||(p.selects=[]),p.roles||(p.roles={ordering:{}}),this.populateDataRoles(w.DataRoles,p.selects,p.roles.ordering)),p.splits&&p.splits.push(this.populateSplit(w.DataRoles))}}return V&&(p.objects=V),p}},a.toTransformSelect=function(n,m){l.fF.assertValue(n,"select");var f={};return n.Restatement&&(f.displayName=n.Restatement),n.Name?f.queryName=n.Name:f.queryName||(f.queryName="$select"+m),n.Format&&(f.format=n.Format),n.Type&&(f.type=this.describeDataType(n.Type,(0,o.lb)(n.DataCategory))),n.kpi&&(f.kpi=n.kpi),n.kpiStatusGraphic&&(f.kpi={graphic:n.kpiStatusGraphic}),f},a.describeDataType=function(n,m){var f=0;switch(n=n||0){case 2048:f=1;break;case 1:f=3;break;case 3:f=4;break;case 4096:f=5;break;case 20:f=6;break;case 4:f=7;break;case 8:f=9;break;case 67:f=4,l.fF.assert(function(){return!m||"Year"===m},"Unexpected category for Year type."),m="Year";break;case 35:f=4,l.fF.assert(function(){return!m||"Month"===m},"Unexpected category for Month type."),m="Month"}return h.Ge.fromPrimitiveTypeAndCategory(f,m)},a.populateDataRoles=function(n,m,f){l.fF.assertValue(n,"roles"),l.fF.assertValue(m,"selects"),l.fF.assertValue(f,"projectionOrdering");for(var V=0,p=n.length;V<p;V++){var C=n[V],b=C.Projection,y=C.Name,D=m[b];void 0===D&&(this.fillArray(m,b),D=m[b]={});var P=D.roles;void 0===D.roles&&(P=D.roles={}),P[y]=!0;var F=f[y];void 0===F&&(F=f[y]=[]),F.push(b)}},a.fillArray=function(n,m){l.fF.assertValue(n,"selects"),l.fF.assertValue(m,"length");for(var f=n.length;f<m;f++)n[f]={}},a.populateSplit=function(n){l.fF.assertAnyValue(n,"roles");var m={},f={selects:m};if(n)for(var V=0,p=n.length;V<p;V++)m[n[V].Projection]=!0;return f},a.upgradeSettingsToObjects=function(n,m){if(n){var f;for(f in m||(m={}),n){var V=n[f],p=f,C=V,b="general";switch(f){case"hasScalarCategoryAxis":b="categoryAxis",p="axisType",C=(0,S.fL)(V?"Scalar":"Categorical");break;case"Totals":p="totals",C=(0,S.O7)(!!V);break;case"textboxSettings":p="paragraphs",V&&V.paragraphs&&(C=V.paragraphs);break;case"VisualType1":p="visualType1",C=(0,S.fL)(V);break;case"VisualType2":p="visualType2",C=(0,S.fL)(V);break;case"imageVisualSettings":p="imageUrl",V&&V.imageUrl&&(C=(0,S.fL)(V.imageUrl));break;default:continue}this.setObjectDefinition(m,b,p,C)}return m}},a.setObjectDefinition=function(n,m,f,V){l.fF.assertValue(n,"objects"),l.fF.assertValue(m,"objectName"),l.fF.assertValue(f,"propertyName");var p=n[m];void 0===p&&(p=n[m]=[]);var C=p[0];void 0===C&&(C=p[0]={properties:{}}),C.properties[f]=V},a}()},316236:function(Xe,H,t){t.d(H,{H9:function(){return d},LF:function(){return h},QW:function(){return S},Rs:function(){return r}});var e=t(498342),l=t(758205),o=t(979868);function d(s){for(var u=[],a=0,n=s.values;a<n.length;a++){for(var f=[],V=0,p=n[a];V<p.length;V++){var b=_.mapValues(p[V],function(y){return _.map(y,function(D){return l.ib.deserializeExpr(D)})});f.push(b)}u.push(f)}return{values:u,columns:_.map(s.columns,function(y){return v(y)})}}function v(s){var u={};if(s.left&&s.right)return u.left=v(s.left),u.right=v(s.right),u;if(s.value){var i=l.ib.deserializeExpr(s.value);return(0,o.Lk)(i)||(0,o.kb)(i)||(0,o.t3)(i)||(0,o.iV)(i)?u.value=i:e.fF.assertFail("Value should be fieldRef: entity/measure/column/aggregate"),u}e.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function S(s){if(e.fF.assertAnyValue(s,"input"),s){var u={expressions:_.map(s.expressions,function(i){return l.ib.deserializeExpr(i)})};return s.decomposedIdentities&&(u.decomposedIdentities=d(s.decomposedIdentities)),s.valueMap&&(u.valueMap=s.valueMap),s.jsonFilter&&(u.jsonFilter=s.jsonFilter),u}}function h(s){if(e.fF.assertAnyValue(s,"contract"),s){var u={expressions:_.map(s.expressions,function(i){return l.ib.serializeExpr(i)})};return s.decomposedIdentities&&(u.decomposedIdentities=r(s.decomposedIdentities)),s.valueMap&&(u.valueMap=s.valueMap),s.jsonFilter&&(u.jsonFilter=s.jsonFilter),u}}function c(s){var u={};return s.left&&s.right?(u.left=c(s.left),u.right=c(s.right),u):s.value?(u.value=l.ib.serializeExpr(s.value),u):void e.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function r(s){if(e.fF.assertAnyValue(s,"contract"),s){for(var u=[],a=0,n=s.values;a<n.length;a++){for(var f=[],V=0,p=n[a];V<p.length;V++){var b=_.mapValues(p[V],function(y){return _.map(y,function(D){return l.ib.serializeExpr(D)})});f.push(b)}u.push(f)}return{values:u,columns:_.map(s.columns,function(y){return c(y)})}}}},561224:function(Xe,H,t){t.d(H,{dq:function(){return d},kE:function(){return o},pW:function(){return v},vX:function(){return l}});var e=t(589004);function l(S){if(S&&!(S.length<1)){for(var h=[],c=0,r=S;c<r.length;c++){var s=r[c];if(s.identity&&s.identity.expr){var u=(0,e.m)(s.identity);u&&h.push({id:u,displayName:s.displayName})}}return h}}function o(S){if(S&&!(S.length<1)){for(var h=[],c=0,r=S;c<r.length;c++){var s=r[c];if(s.id){var u=(0,e.D)(s.id);u&&h.push({identity:u,displayName:s.displayName})}}return h}}function d(S){if(S&&!(S.length<1)){for(var h=[],c=0,r=S;c<r.length;c++){var s=r[c];if(!_.isEmpty(s.identities)){var u=_.map(s.identities,function(i){return(0,e.m)(i)});u&&h.push({identities:u,valueMap:s.valueMap})}}return h}}function v(S){if(S&&!(S.length<1)){for(var h=[],c=0,r=S;c<r.length;c++){var s=r[c];if(!_.isEmpty(s.identities)){var u=_.map(s.identities,function(i){return(0,e.D)(i)});u&&h.push({identities:u,valueMap:s.valueMap})}}return h}}},633796:function(Xe,H,t){t.d(H,{bX:function(){return c},hI:function(){return d}});var e=t(498342),l=t(495130),o=t(758205);function d(u){return _.filter(_.map(u,function(i){return function(u){if(e.fF.assertValue(u,"expansionState"),e.fF.assertValue(!_.isEmpty(u.roles),"expansionState.roles"),(0,l.of)(u)||(0,l.iA)(u)){var i={roles:u.roles};return _.isEmpty(u.levels)||(e.fF.assertValue(u.root,"expansionState.root"),i.levels=_.map(u.levels,function(a){return function(u){if(e.fF.assertAnyValue(u,"level"),u){e.fF.assertNonEmpty(u.queryRefs,"level.queryRefs");var i={queryRefs:_.clone(u.queryRefs)};return u.isCollapsed&&(i.isCollapsed=!0),u.identityKeys&&(i.identityKeys=_.map(u.identityKeys,function(a){return o.ib.serializeExpr(a)})),u.isPinned&&(i.isPinned=u.isPinned),u.isLocked&&(i.isLocked=u.isLocked),u.AIInformation&&(i.AIInformation=_.cloneDeep(u.AIInformation)),i}}(a)}),i.root=h(u.root)),i}}(i)}),function(i){return i})}function h(u){e.fF.assertValue(u,"node");var i={identityValues:u.identityValues?_.map(u.identityValues,function(V){return o.ib.serializeExpr(V)}):null};if(u.isToggled&&(i.isToggled=!0),!_.isEmpty(u.children)){i.children=[];for(var a=function(p){e.fF.assert(function(){return!_.isEmpty(p.identityValues)},"child.identityValues");var C=h(p);i.children.push(C)},n=0,m=u.children;n<m.length;n++)a(m[n])}return i}function c(u,i){if(u){for(var a=[],n=function(C){if(!C)return"continue";e.fF.assert(function(){return!_.isEmpty(C.roles)},"serializedHierarchy.roles");var b=new l.cb(C.roles,i);_.isEmpty(C.levels)||(e.fF.assertValue(C.root,"serializedHierarchy.root"),b.levels=_.map(C.levels,function(y){return function(u){var i={queryRefs:_.clone(u.queryRefs),isCollapsed:!!u.isCollapsed,toggledNodes:[],isPinned:u.isPinned,isLocked:u.isLocked,AIInformation:_.cloneDeep(u.AIInformation)};return u.identityKeys&&(i.identityKeys=_.map(u.identityKeys,function(a){return o.ib.deserializeExpr(a)})),i}(y)}),b.root=s(C.root,-1,null,b.levels,!!i.canCollapseRoot)),a.push(b)},m=0,f=u;m<f.length;m++)n(f[m]);return a}}function s(u,i,a,n,m){e.fF.assertValue(u,"serializedNode");var f={identityValues:u.identityValues?_.map(u.identityValues,function(p){return o.ib.deserializeExpr(p)}):null,parent:a,children:[]};if(u.isToggled&&(f.isToggled=!0,i>=0?n[i].toggledNodes.push(f):e.fF.assert(function(){return m},"Collapse to root capability not enabled")),!_.isEmpty(u.children)){var V=i+1;f.children=_.map(u.children,function(p){return s(p,V,f,n,m)})}return f}},901389:function(Xe,H,t){t.d(H,{Qe:function(){return c},R6:function(){return a},_q:function(){return u},hE:function(){return r}});var e=t(498342),l=t(393308),o=t(316236),d=t(561224),v=t(758205);function c(n,m){var f;if(e.fF.assertValue(n,"input"),!_.isEmpty(n.expressions)){if(m){var V=(0,l.s0)(n);f=(0,o.LF)(V)}else f=function(n){if(e.fF.assertValue(n,"input"),!_.isEmpty(n.expressions)){var m={expressions:_.map(n.expressions,function(f){return v.ib.serializeExpr(f)})};return _.isEmpty(n.cachedValueItems)||(m.cachedValueItems=(0,d.dq)(n.cachedValueItems)),n.jsonFilter&&(m.jsonFilter=n.jsonFilter),m}}(n);return f}}function r(n){if(e.fF.assertValue(n,"input"),!_.isEmpty(n.expressions)){if(function(n){return!!n.decomposedIdentities}(n)){var m=(0,o.QW)(n);return(0,l.Ns)(m)}return u(n)}}function u(n){if(e.fF.assertValue(n,"input"),!_.isEmpty(n.expressions)){var m={expressions:_.map(n.expressions,function(f){return v.ib.deserializeExpr(f)})};return _.isEmpty(n.cachedValueItems)||(m.cachedValueItems=(0,d.pW)(n.cachedValueItems)),n.jsonFilter&&(m.jsonFilter=n.jsonFilter),m}}function a(n){return!!n.cachedValueItems}},758205:function(Xe,H,t){t.d(H,{ib:function(){return a}});var e=t(939701),l=t(28291),o=t(498342),d=t(382088),v=t(844722),S=t(512322),h=t(162320),c=t(408514),r=t(114096),s=function(){function Z(J){o.fF.assertValue(J,"from"),this.clauses={from:J,select:[]}}return Z.prototype.addWhere=function(J){o.fF.assertValue(J,"filter");var Fe=this.clauses;Fe.where||(Fe.where=[]),Fe.where.push(J)},Z.prototype.addWheres=function(J){o.fF.assertValue(J,"filters");var Fe=this.clauses;Fe.where||(Fe.where=[]);for(var ze=0,rt=J;ze<rt.length;ze++)Fe.where.push(rt[ze])},Z.prototype.addOrderBy=function(J){o.fF.assertValue(J,"sort");var Fe=this.clauses;Fe.orderBy||(Fe.orderBy=[]),Fe.orderBy.push(J)},Z.prototype.addSelect=function(J){o.fF.assertValue(J,"select"),this.clauses.select.push(J)},Z.prototype.addGroupBy=function(J){o.fF.assertValue(J,"groupBy");var Fe=this.clauses;Fe.groupBy||(Fe.groupBy=[]),Fe.groupBy.push(J)},Z.prototype.addTransform=function(J){o.fF.assertValue(J,"transformItem");var Fe=this.clauses;Fe.transforms||(Fe.transforms=[]),Fe.transforms.push(J)},Z.prototype.setTop=function(J){this.clauses.top=J},Z.prototype.toQuery=function(){return r.vQ.createWith(this.clauses,!0)},Z.prototype.toFilter=function(){var J=this.clauses;if(o.fF.assert(function(){return!J.orderBy&&0===J.select.length},"toFilter must not have orderBy/select specified."),J.from&&J.where)return new r.yl(J.from,J.where)},Z}(),u=t(43615),i=t(216018),a=function(){function Z(){}return Z.serializeQuery=function(J,Fe,ze){void 0===Fe&&(Fe=!1),void 0===ze&&(ze=!1),o.fF.assertValue(J,"query");var rt=[],Oe=J.from();this.serializeFrom(Oe,rt);var X,Pe=this.serializeQueryFilters(J.where(),f.create,!1),we=J.transforms();if(!_.isEmpty(we)){X=[];for(var Ze=0,et=we;Ze<et.length;Ze++){var at=et[Ze],St=_.map(at.input.parameters,function(br){return f.createNamed(br,Fe)}),Ie={Name:at.name,Algorithm:at.algorithm,Input:{Parameters:St},Output:void 0};if(at.input.table){var qe=this.serializeTransformTableColumns(at.input.table.columns);Ie.Input.Table={Name:at.input.table.name,Columns:qe}}if(at.output&&at.output.table){var bt=this.serializeTransformTableColumns(at.output.table.columns);Ie.Output={Table:{Name:at.output.table.name,Columns:bt}}}X.push(Ie)}}for(var It=this.serializeSortDefinitions(J.orderBy(),Fe),Rt=[],zt=J.select(),Kt=0,Yt=zt.length;Kt<Yt;Kt++)Rt.push(f.createNamed(zt[Kt],Fe,ze));var ir,lr=J.groupBy();if(lr&&lr.length)for(ir=[],Kt=0,Yt=lr.length;Kt<Yt;Kt++)ir.push(f.createNamed(lr[Kt],Fe));var dr={Version:u.L.Version2,From:rt,Select:Rt};return Pe&&(dr.Where=Pe),X&&(dr.Transform=X),It&&(dr.OrderBy=It),ir&&(dr.GroupBy=ir),J.top()&&(dr.Top=J.top()),dr},Z.serializeSortDefinitions=function(J,Fe){var ze;if(J&&J.length){ze=[];for(var rt=0,Oe=J.length;rt<Oe;rt++){var Pe=J[rt];ze.push({Direction:Pe.direction,Expression:f.create(Pe.expr,Fe)})}}return ze},Z.tryDeserializeQuery=function(J){var Fe;try{Fe=this.deserializeQuery(J)}catch(ze){}if(Fe&&!this.isMalformed(Fe))return Fe},Z.isMalformed=function(J){for(var Fe=0,ze=J.select();Fe<ze.length;Fe++)if(!ze[Fe].expr)return!0;return!1},Z.serializeQueryFilters=function(J,Fe,ze){var rt;if(!_.isEmpty(J)){rt=[];for(var Oe=0,Pe=J;Oe<Pe.length;Oe++){var X=Pe[Oe],we={Condition:Fe(X.condition,ze)};if(!_.isEmpty(X.target)){we.Target=[];for(var Ze=0,et=X.target;Ze<et.length;Ze++)we.Target.push(Fe(et[Ze],ze))}X.annotations&&(we.Annotations=X.annotations),rt.push(we)}}return rt},Z.deserializeQuery=function(J){o.fF.assertValue(J,"contract");var Fe=J.Version?J.Version:u.L.Version0,ze=Fe<u.L.Version1,rt=n.from(J.From),Oe=new s(rt),Pe=J.Where;if(Pe)for(var X=0,we=Pe.length;X<we;X++){var Ze=n.filter(Pe[X],rt);Ze&&(ze&&(Ze=V.Upgrade(Fe,Ze)),Oe.addWhere(Ze))}var et=J.Transform,at=rt;if(!_.isEmpty(et)){for(var St={},qe=0,bt=rt.keys();qe<bt.length;qe++){var It=bt[qe];St[It]=rt.source(It)}for(X=0,we=et.length;X<we;X++){var Rt;et[X].Input&&et[X].Input.Table&&(St[Rt=et[X].Input.Table.Name]=new h.SX(void 0,Rt)),et[X].Output&&et[X].Output.Table&&(St[Rt=et[X].Output.Table.Name]=new h.SX(void 0,Rt))}for(at=new h.cL(St),X=0,we=et.length;X<we;X++)Oe.addTransform(n.transform(et[X],at))}var zt=J.OrderBy;if(zt)for(X=0,we=zt.length;X<we;X++)Oe.addOrderBy(n.sort(zt[X],rt));var Kt=J.Select,Yt={};for(X=0,we=Kt.length;X<we;X++)Oe.addSelect(n.select(Kt[X],Yt,at));var ir=J.GroupBy;if(ir){var lr={};for(X=0,we=ir.length;X<we;X++)Oe.addGroupBy(n.groupBy(ir[X],lr,rt))}return J.Top&&Oe.setTop(J.Top),Oe.toQuery()},Z.deserializeSortDefinitions=function(J,Fe){return _.isEmpty(J)?[]:_.map(J,function(ze){return n.sort(ze,Fe)})},Z.serializeFilter=function(J){var Fe=[],ze=J.from();this.serializeFrom(ze,Fe);var rt=this.serializeQueryFilters(J.where(),f.create,!1);return{Version:u.L.Version2,From:Fe,Where:rt}},Z.serializeFrom=function(J,Fe){for(var ze=J.keys(),rt=new m(J),Oe=0,Pe=ze.length;Oe<Pe;Oe++)Fe.push(J.source(ze[Oe]).accept(rt,Oe))},Z.deserializeFrom=function(J){return n.from(J)},Z.deserializeFilter=function(J,Fe){o.fF.assertValue(J,"contract");var ze=J.Version?J.Version:u.L.Version0,rt=ze<u.L.Version1,Oe=n.from(J.From),Pe=new s(Oe),X=J.Where;if(X)for(var we=0,Ze=X.length;we<Ze;we++){var et=n.filter(X[we],Oe);et?(rt&&(et=V.Upgrade(ze,et)),Pe.addWhere(et)):Fe&&(_.isEmpty(Fe.RemovedIndexes)&&(Fe.RemovedIndexes=[]),Fe.RemovedIndexes.push(we))}return Pe.toFilter()},Z.serializeExpr=function(J,Fe){return void 0===Fe&&(Fe=!1),o.fF.assertValue(J,"contract"),o.fF.assertValue(Fe,"serializeAnnotations"),f.create(J,!0,Fe)},Z.serializeExprWithRef=function(J,Fe){return void 0===Fe&&(Fe=!1),o.fF.assertValue(J,"contract"),o.fF.assertValue(Fe,"serializeAnnotations"),f.create(J,!1,Fe)},Z.deserializeExpr=function(J){return o.fF.assertValue(J,"input"),C(J)},Z.deserializeExprWithRef=function(J,Fe){return o.fF.assertValue(J,"input"),p(J,Fe)},Z.serializeTransformTableColumns=function(J){return o.fF.assertValue(J,"columns"),_.map(J,function(Fe){var ze={Expression:f.createNamed(Fe.expression)};return Fe.role&&(ze.Role=Fe.role),ze})},Z}(),n=function(){function Z(){}return Z.from=function(J){o.fF.assertValue(J,"contract");var Fe={};if(J)for(var ze=0,rt=J.length;ze<rt;ze++){var Oe=J[ze];switch(Oe.Type){case 2:Fe[Oe.Name]=Oe.Expression.Subquery?new h.vd(a.deserializeQuery(Oe.Expression.Subquery.Query)):new h.Qo(D(Oe.Expression));break;case 1:Fe[Oe.Name]=new h.QS(Oe.Schema,Oe.Entity);break;default:Fe[Oe.Name]=new h.SX(Oe.Schema,Oe.Entity)}}return new h.cL(Fe)},Z.filter=function(J,Fe){o.fF.assertValue(J,"contract");var ze=Fe?p(J.Condition,Fe):C(J.Condition);if(ze){var rt={condition:ze};if(J.Target){rt.target=[];for(var Oe=0,Pe=J.Target;Oe<Pe.length;Oe++){var X=Pe[Oe],we=Fe?p(X,Fe):C(X);if(!we)return;rt.target.push(we)}}return J.Annotations&&(rt.annotations=J.Annotations),rt}},Z.sort=function(J,Fe){return o.fF.assertValue(J,"contract"),{direction:J.Direction,expr:p(J.Expression,Fe)}},Z.select=function(J,Fe,ze){return Z.toNamedQueryExpression(J,Fe,ze)},Z.groupBy=function(J,Fe,ze){return Z.toNamedQueryExpression(J,Fe,ze)},Z.transform=function(J,Fe){var ze=_.map(J.Input.Parameters,function(X){return Z.toNamedQueryExpression(X,{},Fe)}),rt={name:J.Name,algorithm:J.Algorithm,input:{parameters:ze},output:{}};if(J.Input.Table){var Oe=this.deserializeTransformTableColumns(J.Input.Table.Columns,Fe);rt.input.table={name:J.Input.Table.Name,columns:Oe}}if(J.Output&&J.Output.Table){var Pe=this.deserializeTransformTableColumns(J.Output.Table.Columns,Fe);rt.output.table={name:J.Output.Table.Name,columns:Pe}}return rt},Z.toNamedQueryExpression=function(J,Fe,ze){o.fF.assertValue(J,"contract"),o.fF.assertValue(ze,"from");var rt=p(J,ze),Oe=J.Name||(0,d.zE)(Fe,(0,i.L)(rt));Fe[Oe]=!0;var Pe={name:Oe,expr:rt};return J.NativeReferenceName&&(Pe.nativeReferenceName=J.NativeReferenceName),Pe},Z.deserializeTransformTableColumns=function(J,Fe){o.fF.assertValue(J,"columns");var ze={};return _.map(J,function(rt){return{role:rt.Role,expression:Z.toNamedQueryExpression(rt.Expression,ze,Fe)}})},Z}(),m=function(){function Z(J){this.from=J}return Z.prototype.visitEntity=function(J,Fe){return{Name:this.from.keys()[Fe],Entity:J.entity,Schema:J.schema,Type:0}},Z.prototype.visitPod=function(J,Fe){return{Name:this.from.keys()[Fe],Entity:J.pod,Schema:J.schema,Type:1}},Z.prototype.visitSubquery=function(J,Fe){return{Name:this.from.keys()[Fe],Expression:{Subquery:{Query:a.serializeQuery(J.subquery)}},Type:2}},Z.prototype.visitExpr=function(J,Fe){return{Name:this.from.keys()[Fe],Expression:a.serializeExpr(J.expr),Type:2}},Z}(),f=function(){function Z(J,Fe){this.standalone=J,this.serializeAnnotations=Fe}return Z.getInstance=function(J,Fe){J||(J=!1),Fe||(Fe=!1);var ze=[+J,+Fe].reduce(function(Oe,Pe){return Oe<<1|Pe}),rt=Z.instances[ze];return rt||(rt=new Z(J,Fe)),rt},Z.create=function(J,Fe,ze){return void 0===Fe&&(Fe=!1),void 0===ze&&(ze=!1),J.accept(Z.getInstance(Fe,ze))},Z.createNamed=function(J,Fe,ze){void 0===Fe&&(Fe=!1),void 0===ze&&(ze=!1);var rt=Z.getInstance(Fe,ze),Oe=J.expr.accept(rt);return J.name&&(Oe.Name=J.name),J.nativeReferenceName&&(Oe.NativeReferenceName=J.nativeReferenceName),Oe},Z.prototype.visitColumnRef=function(J){return this.addAnnotations(J,{Column:{Expression:J.source.accept(this),Property:J.ref}})},Z.prototype.visitMeasureRef=function(J){return this.addAnnotations(J,{Measure:{Expression:J.source.accept(this),Property:J.ref}})},Z.prototype.visitNativeMeasure=function(J){var Fe={Language:J.language,Expression:J.expression,DataType:J.dataType};J.proposedName&&(Fe.ProposedName=J.proposedName),J.format&&(Fe.Format=J.format);var ze=J.expressionContentCache;return!ze||!ze.dependencies&&null==ze.unrecognizedIdentifiers?{NativeMeasure:Fe}:(Fe.ExpressionContentCache={},ze.dependencies&&(Fe.ExpressionContentCache.Dependencies=this.serializeAll(ze.dependencies)),null!=ze.unrecognizedIdentifiers&&(Fe.ExpressionContentCache.UnrecognizedIdentifiers=ze.unrecognizedIdentifiers),this.addAnnotations(J,{NativeMeasure:Fe}))},Z.prototype.visitNativeColumn=function(J){var Fe={Language:J.language,Expression:J.expression,DataType:J.dataType,Source:J.source.accept(this)};J.proposedName&&(Fe.ProposedName=J.proposedName),J.format&&(Fe.Format=J.format);var ze=J.expressionContentCache;return!ze||!ze.dependencies&&null==ze.unrecognizedIdentifiers||(Fe.ExpressionContentCache={},ze.dependencies&&(Fe.ExpressionContentCache.Dependencies=this.serializeAll(ze.dependencies)),null!=ze.unrecognizedIdentifiers&&(Fe.ExpressionContentCache.UnrecognizedIdentifiers=ze.unrecognizedIdentifiers)),this.addAnnotations(J,{NativeColumn:Fe})},Z.prototype.visitAggr=function(J){if(!_.isNil(J.includeAllTypes))switch(J.func){case 3:return this.addAnnotations(J,{Min:{Expression:J.arg.accept(this),IncludeAllTypes:J.includeAllTypes}});case 4:return this.addAnnotations(J,{Max:{Expression:J.arg.accept(this),IncludeAllTypes:J.includeAllTypes}})}return this.addAnnotations(J,{Aggregation:{Expression:J.arg.accept(this),Function:J.func}})},Z.prototype.visitPercentile=function(J){var Fe=this.addAnnotations(J,{Percentile:{Expression:J.arg.accept(this),K:J.k}});return J.exclusive&&(Fe.Percentile.Exclusive=J.exclusive),Fe},Z.prototype.visitRangePercent=function(J){return this.addAnnotations(J,{RangePercent:{Min:J.min.accept(this),Max:J.max.accept(this),Percent:J.percent}})},Z.prototype.visitHierarchy=function(J){return this.addAnnotations(J,{Hierarchy:{Expression:J.arg.accept(this),Hierarchy:J.hierarchy}})},Z.prototype.visitPropertyVariationSource=function(J){var Fe=J.arg.accept(this);return this.addAnnotations(J,{PropertyVariationSource:{Expression:{SourceRef:Fe.SourceRef},Name:J.name,Property:J.property}})},Z.prototype.visitHierarchyLevel=function(J){return this.addAnnotations(J,{HierarchyLevel:{Expression:J.arg.accept(this),Level:J.level}})},Z.prototype.visitSelectRef=function(J){return o.fF.assert(function(){return void 0===J.attributeKind||null==J.attributeKind},"Serialization of expr.attributeKind is not supported."),this.addAnnotations(J,{SelectRef:{ExpressionName:J.expressionName}})},Z.prototype.visitBetween=function(J){return this.addAnnotations(J,{Between:{Expression:J.arg.accept(this),LowerBound:J.lower.accept(this),UpperBound:J.upper.accept(this)}})},Z.prototype.visitIn=function(J){var Fe=this.serializeAll(J.args),ze=J.values;if(ze){for(var rt=[],Oe=0,Pe=ze.length;Oe<Pe;Oe++)rt.push(this.serializeAll(ze[Oe]));return this.addAnnotations(J,{In:{Expressions:Fe,Values:rt}})}return this.addAnnotations(J,{In:{Expressions:this.serializeAll(J.args),Table:J.table.accept(this)}})},Z.prototype.visitEntity=function(J){var Fe;return o.fF.assertValue(J,"expr"),this.standalone?Fe={Schema:J.schema,Entity:J.entity}:(o.fF.assertValue(J.variable,"expr.variable"),Fe={Source:J.variable}),this.addAnnotations(J,{SourceRef:Fe})},Z.prototype.visitSubqueryRef=function(J){return o.fF.assertValue(J,"expr"),J.variable&&!J.query?this.addAnnotations(J,{SourceRef:{Source:J.variable}}):this.standalone?this.addAnnotations(J,{Subquery:{Query:a.serializeQuery(J.query,!1,this.serializeAnnotations)}}):void o.fF.assertFail("The inlined subquery is only expected to be there in standalone mode.")},Z.prototype.visitNamedQueryRef=function(J){return this.standalone?this.addAnnotations(J,{NamedQueryReference:{Name:J.queryName}}):(o.fF.assertValue(J.variable,"expr.variable"),this.addAnnotations(J,{SourceRef:{Source:J.variable}}))},Z.prototype.visitAnd=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{And:{Left:J.left.accept(this),Right:J.right.accept(this)}})},Z.prototype.visitOr=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{Or:{Left:J.left.accept(this),Right:J.right.accept(this)}})},Z.prototype.visitCompare=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{Comparison:{ComparisonKind:J.comparison,Left:J.left.accept(this),Right:J.right.accept(this)}})},Z.prototype.visitConditional=function(J){var Fe=this;o.fF.assertValue(J,"expr");var ze=this.addAnnotations(J,{Conditional:{Cases:_.map(J.cases,function(Oe){return Fe.visitCase(Oe)})}}),rt=J.defaultValue;return rt&&(ze.Conditional.DefaultValue=rt.accept(this)),ze},Z.prototype.visitCase=function(J){return{Condition:J.condition.accept(this),Value:J.value.accept(this)}},Z.prototype.visitContains=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{Contains:{Left:J.left.accept(this),Right:J.right.accept(this)}})},Z.prototype.visitDateAdd=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{DateAdd:{Expression:J.arg.accept(this),Amount:J.amount,TimeUnit:J.unit}})},Z.prototype.visitDateSpan=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{DateSpan:{Expression:J.arg.accept(this),TimeUnit:J.unit}})},Z.prototype.visitExists=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{Exists:{Expression:J.arg.accept(this)}})},Z.prototype.visitNot=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{Not:{Expression:J.arg.accept(this)}})},Z.prototype.visitNow=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{Now:{}})},Z.prototype.visitDefaultValue=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{DefaultValue:{}})},Z.prototype.visitAnyValue=function(J){o.fF.assertValue(J,"expr");var Fe={};return null!=J.defaultValueOverridesAncestors&&(Fe.DefaultValueOverridesAncestors=J.defaultValueOverridesAncestors),this.addAnnotations(J,{AnyValue:Fe})},Z.prototype.visitFillRule=function(J){o.fF.assertValue(J,"expr");var Fe={},ze=J.rule;return ze.linearGradient2&&(Fe.linearGradient2=this.visitLinearGradient2(ze.linearGradient2)),ze.linearGradient3&&(Fe.linearGradient3=this.visitLinearGradient3(ze.linearGradient3)),this.addAnnotations(J,{FillRule:{Input:J.input.accept(this),FillRule:Fe}})},Z.prototype.visitLinearGradient2=function(J){o.fF.assertValue(J,"visitLinearGradient2 - gradient");var Fe={min:this.visitRuleStop(J.min),max:this.visitRuleStop(J.max)},ze=this.visitNullColoringStrategy(J.nullColoringStrategy);return ze&&(Fe.nullColoringStrategy=ze),Fe},Z.prototype.visitLinearGradient3=function(J){o.fF.assertValue(J,"visitLinearGradient3 - gradient");var Fe={min:this.visitRuleStop(J.min),mid:this.visitRuleStop(J.mid),max:this.visitRuleStop(J.max)},ze=this.visitNullColoringStrategy(J.nullColoringStrategy);return ze&&(Fe.nullColoringStrategy=ze),Fe},Z.prototype.visitRuleStop=function(J){o.fF.assertValue(J,"stop");var Fe={color:J.color.accept(this)};return J.value&&(Fe.value=J.value.accept(this)),Fe},Z.prototype.visitNullColoringStrategy=function(J){if(J){o.fF.assertValue(J.strategy,"visitNullColoringStrategy - input.strategy");var Fe={strategy:J.strategy.accept(this)};return J.color&&(Fe.color=J.color.accept(this)),Fe}},Z.prototype.visitThemeDataColor=function(J){return this.addAnnotations(J,{ThemeDataColor:{ColorId:J.colorId,Percent:J.percent}})},Z.prototype.visitStartsWith=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{StartsWith:{Left:J.left.accept(this),Right:J.right.accept(this)}})},Z.prototype.visitGroupRef=function(J){var Fe=this;return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{GroupRef:{Expression:J.source.accept(this),Property:J.ref,GroupedColumns:_.map(J.groupedExprs,function(ze){return ze.accept(Fe)})}})},Z.prototype.visitConstant=function(J){switch(o.fF.assertValue(J,"expr"),J.type.primitiveType){case 5:case 7:case 2:case 4:case 3:case 0:case 1:return this.addAnnotations(J,{Literal:{Value:J.valueEncoded}});default:o.fF.assertFail("Unrecognized kind: "+J.type.primitiveType)}},Z.prototype.visitArithmetic=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{Arithmetic:{Left:J.left.accept(this),Right:J.right.accept(this),Operator:J.operator}})},Z.prototype.visitFloor=function(J){o.fF.assertValue(J,"expr");var Fe=this.addAnnotations(J,{Floor:{Expression:J.arg.accept(this),Size:J.size}});return null!=J.timeUnit&&(Fe.Floor.TimeUnit=J.timeUnit),Fe},Z.prototype.visitResourcePackageItem=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{ResourcePackageItem:{PackageName:J.packageName,PackageType:J.packageType,ItemName:J.itemName}})},Z.prototype.visitScopedEval=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{ScopedEval:{Expression:J.expression.accept(this),Scope:this.serializeAll(J.scope)}})},Z.prototype.visitFilteredEval=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{FilteredEval:{Expression:J.expression.accept(this),Filters:a.serializeQueryFilters(J.filters,Z.create,this.standalone)}})},Z.prototype.visitWithRef=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{WithRef:{ExpressionName:J.expressionName}})},Z.prototype.visitTransformTableRef=function(J){return this.addAnnotations(J,{TransformTableRef:{Source:J.source}})},Z.prototype.visitTransformOutputRoleRef=function(J){return this.addAnnotations(J,{TransformOutputRoleRef:{Role:J.role,Transform:J.transform}})},Z.prototype.visitRoleRef=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{RoleRef:{Role:J.role}})},Z.prototype.visitSummaryValueRef=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{SummaryValueRef:{Name:J.name}})},Z.prototype.visitAllRolesRef=function(J){return o.fF.assertValue(J,"expr"),this.addAnnotations(J,{AllRolesRef:{}})},Z.prototype.visitDiscretize=function(J){return this.addAnnotations(J,{Discretize:{Expression:J.source.accept(this),Count:J.count}})},Z.prototype.visitMember=function(J){return this.addAnnotations(J,{Member:{Expression:J.source.accept(this),Member:J.member}})},Z.prototype.visitSparklineData=function(J){var Fe={SparklineData:{Measure:J.measure.accept(this),Groupings:this.serializeAll(J.grouping),PointsPerSparkline:J.pointsPerSparkline}};return J.scalarKey&&(Fe.SparklineData.ScalarKey=J.scalarKey.accept(this)),J.includeMinGroupingInterval&&(Fe.SparklineData.IncludeMinGroupingInterval=J.includeMinGroupingInterval),Fe},Z.prototype.serializeAll=function(J){for(var Fe=[],ze=0,rt=J.length;ze<rt;ze++)Fe.push(J[ze].accept(this));return Fe},Z.prototype.visitNativeVisualCalc=function(J,Fe){return this.addAnnotations(J,{NativeVisualCalculation:{Language:J.language,Expression:J.expression,Name:J.name}})},Z.prototype.addAnnotations=function(J,Fe){if(this.serializeAnnotations){var ze=J.getAnnotations();ze&&(Fe.Annotations=ze)}return Fe},Z.instances=[],Z}(),V=function(){function Z(){}return Z.Upgrade=function(J,Fe){if(!Fe||!Fe.condition)return null;var ze=(0,v._)(Fe.condition);return J===u.L.Version0&&2!==ze?{condition:Fe.condition}:Fe},Z}();function p(Z,J){return o.fF.assertValue(Z,"contract"),function(Z,J){if(Z.Column){var Fe=p(Z.Column.Expression,J);if(Fe)return(0,S.Oh)(Fe,Z.Column.Property,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Measure){var Fe=p(Z.Measure.Expression,J);if(Fe)return(0,S.mv)(Fe,Z.Measure.Property,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.NativeMeasure){var Fe=void 0;return Z.NativeMeasure.ExpressionContentCache&&(Fe={unrecognizedIdentifiers:Z.NativeMeasure.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:b(Z.NativeMeasure.ExpressionContentCache.Dependencies)}),"dax"!==Z.NativeMeasure.Language&&o.fF.assertFail("QueryNativeMeasure is using unexpected language: "+Z.NativeMeasure.Language),(0,S.PB)(Z.NativeMeasure.Language,Z.NativeMeasure.Expression,Z.NativeMeasure.DataType,Z.NativeMeasure.ProposedName,Fe,Z.NativeMeasure.Format,Z.Annotations)}}(Z)||function(Z,J){if(Z.NativeColumn){var Fe=void 0;if(Z.NativeColumn.ExpressionContentCache&&(Fe={unrecognizedIdentifiers:Z.NativeColumn.ExpressionContentCache.UnrecognizedIdentifiers,dependencies:b(Z.NativeColumn.ExpressionContentCache.Dependencies)}),"dax"!==Z.NativeColumn.Language)return void o.fF.assertFail("QueryNativeColumn is using unexpected language: "+Z.NativeColumn.Language);if(!Z.NativeColumn.Source)return void o.fF.assertFail("QueryNativeColumn should have a source");var ze=p(Z.NativeColumn.Source,J);return(0,S.sl)(Z.NativeColumn.Language,Z.NativeColumn.Expression,Z.NativeColumn.DataType,ze,Z.NativeColumn.ProposedName,Fe,Z.NativeColumn.Format,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.SourceRef){if(!J){var Oe=Z.SourceRef;return(0,S.nw)(Oe.Schema,Oe.Entity,void 0,Z.Annotations)}var ze=Z.SourceRef.Source,rt=J.source(ze);if(rt)return(0,h.$r)(rt)?(0,S.nw)(rt.schema,rt.entity,ze,Z.Annotations):(0,h.Yg)(rt)?(0,S.nw)(rt.schema,rt.pod,ze):(0,e.y)(rt)?(0,S.v5)(ze,Z.Annotations):(o.fF.assert(function(){return(0,h.Ms)(rt)},"Expected an ExpressionSource"),rt.expr.as(ze))}}(Z,J)||function(Z,J){if(Z.Aggregation){var Fe=p(Z.Aggregation.Expression,J);if(Fe)return(0,S.m_)(Fe,Z.Aggregation.Function,void 0,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Min){var Fe=p(Z.Min.Expression,J);if(Fe)return(0,S.m_)(Fe,3,Z.Min.IncludeAllTypes,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Max){var Fe=p(Z.Max.Expression,J);if(Fe)return(0,S.m_)(Fe,4,Z.Max.IncludeAllTypes,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.SelectRef)return(0,S.xA)(Z.SelectRef.ExpressionName,void 0,Z.Annotations)}(Z)||function(Z,J){if(Z.Percentile){var Fe=p(Z.Percentile.Expression,J);if(Fe)return(0,S.Pe)(Fe,Z.Percentile.K,Z.Percentile.Exclusive||!1,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.RangePercent){var Fe=p(Z.RangePercent.Min,J),ze=p(Z.RangePercent.Max,J);if(Fe&&ze)return(0,S.Mj)(Fe,ze,Z.RangePercent.Percent,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Arithmetic){var Fe=p(Z.Arithmetic.Left,J),ze=p(Z.Arithmetic.Right,J);if(Fe&&ze)return(0,S.Y8)(Fe,ze,Z.Arithmetic.Operator,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Floor){var Fe=p(Z.Floor.Expression,J);if(Fe)return(0,S.GW)(Fe,Z.Floor.Size,Z.Floor.TimeUnit,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Discretize){var Fe=p(Z.Discretize.Expression,J);if(Fe)return(0,S.h5)(Fe,Z.Discretize.Count,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Member){var Fe=p(Z.Member.Expression,J);if(Fe)return(0,S.fP)(Fe,Z.Member.Member,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Hierarchy){var Fe=p(Z.Hierarchy.Expression,J);if(Fe)return(0,S.bT)(Fe,Z.Hierarchy.Hierarchy,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.HierarchyLevel){var Fe=p(Z.HierarchyLevel.Expression,J);if(Fe)return(0,S.os)(Fe,Z.HierarchyLevel.Level,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.PropertyVariationSource){var Fe=p(Z.PropertyVariationSource.Expression,J);if(Fe)return(0,S.yU)(Fe,Z.PropertyVariationSource.Name,Z.PropertyVariationSource.Property,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.And){var Fe=p(Z.And.Left,J),ze=p(Z.And.Right,J);if(Fe&&ze)return(0,S.xD)(Fe,ze,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Between){var Fe=p(Z.Between.Expression,J),ze=p(Z.Between.LowerBound,J),rt=p(Z.Between.UpperBound,J);if(Fe&&ze&&rt)return(0,S.vX)(Fe,ze,rt,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.In){if(Z.In.Values)return(0,S.Sh)(b(Z.In.Expressions,J),_.map(Z.In.Values,function(ze){return b(ze,J)}));var Fe=p(Z.In.Table,J);if(Fe)return(0,S.dY)(b(Z.In.Expressions,J),Fe,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Or){var Fe=p(Z.Or.Left,J),ze=p(Z.Or.Right,J);if(Fe&&ze)return(0,S.or)(Fe,ze,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Contains){var Fe=p(Z.Contains.Left,J),ze=p(Z.Contains.Right,J);if(Fe&&ze)return(0,S.r3)(Fe,ze,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Comparison){var Fe=p(Z.Comparison.Left,J),ze=p(Z.Comparison.Right,J);if(Fe&&ze)return(0,S.qu)(Z.Comparison.ComparisonKind,Fe,ze,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Conditional){for(var Fe=Z.Conditional.Cases,ze=Fe.length,rt=new Array(ze),Oe=0;Oe<ze;Oe++){var Pe=me(Fe[Oe]);if(!Pe){rt=void 0;break}rt[Oe]=Pe}if(Z.Conditional.DefaultValue){var X=p(Z.Conditional.DefaultValue);if(rt&&X)return(0,S.u7)(rt,X,Z.Annotations)}else if(rt)return(0,S.u7)(rt,void 0,Z.Annotations)}}(Z)||function(Z,J){if(Z.DateAdd){var Fe=p(Z.DateAdd.Expression,J);if(Fe)return(0,S.sO)(Z.DateAdd.TimeUnit,Z.DateAdd.Amount,Fe,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.DateSpan){var Fe=p(Z.DateSpan.Expression,J);if(Fe)return(0,S.uQ)(Z.DateSpan.TimeUnit,Fe,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Exists){var Fe=p(Z.Exists.Expression,J);if(Fe)return(0,S.Gg)(Fe,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.Not){var Fe=p(Z.Not.Expression,J);if(Fe)return(0,S.ff)(Fe,Z.Annotations)}}(Z,J)||function(Z){if(Z.Now)return(0,S.zO)(Z.Annotations)}(Z)||function(Z){if(Z.DefaultValue)return(0,S.LS)(Z.Annotations)}(Z)||function(Z){if(Z.AnyValue)return(0,S.n7)(Z.AnyValue.DefaultValueOverridesAncestors,Z.Annotations)}(Z)||function(Z,J){if(Z.StartsWith){var Fe=p(Z.StartsWith.Left,J),ze=p(Z.StartsWith.Right,J);if(Fe&&ze)return(0,S.Ny)(Fe,ze,Z.Annotations)}}(Z,J)||function(Z,J){if(Z.FillRule){var Fe=p(Z.FillRule.Input,J),ze=Z.FillRule,rt={},Oe=ze.FillRule.linearGradient2,Pe=ze.FillRule.linearGradient3;if(Oe)rt.linearGradient2={min:ve(Oe.min,J),max:ve(Oe.max,J)},(X=Re(Oe.nullColoringStrategy,J))&&(rt.linearGradient2.nullColoringStrategy=X);else if(Pe){var X;rt.linearGradient3={min:ve(Pe.min,J),mid:ve(Pe.mid,J),max:ve(Pe.max,J)},(X=Re(Pe.nullColoringStrategy,J))&&(rt.linearGradient3.nullColoringStrategy=X)}return(0,S.x5)(Fe,rt,Z.Annotations)}}(Z,J)||function(Z){if(Z.ThemeDataColor)return(0,S.e7)(Z.ThemeDataColor.ColorId,Z.ThemeDataColor.Percent,Z.Annotations)}(Z)||function(Z,J){if(Z.ResourcePackageItem)return(0,S.nF)(Z.ResourcePackageItem.PackageName,Z.ResourcePackageItem.PackageType,Z.ResourcePackageItem.ItemName,Z.Annotations)}(Z)||function(Z,J){if(Z.ScopedEval){var Fe=p(Z.ScopedEval.Expression,J);if(Fe)return(0,S.ed)(Fe,b(Z.ScopedEval.Scope,J),Z.Annotations)}}(Z,J)||function(Z,J){if(Z.FilteredEval){var Fe=p(Z.FilteredEval.Expression,J);return(0,S.Xw)(Fe,_.map(Z.FilteredEval.Filters,function(ze){return n.filter(ze,J)}),Z.Annotations)}}(Z,J)||function(Z,J){if(Z.WithRef)return(0,S.Oe)(Z.WithRef.ExpressionName,Z.Annotations)}(Z)||function(Z,J){if(Z.TransformTableRef)return(0,S.GB)(Z.TransformTableRef.Source,Z.Annotations)}(Z)||function(Z,J){if(Z.TransformOutputRoleRef)return(0,S.hu)(Z.TransformOutputRoleRef.Role,Z.TransformOutputRoleRef.Transform,Z.Annotations)}(Z)||function(Z){if(Z.Literal)return(0,c.bE)(Z.Literal.Value)}(Z)||function(Z,J){if(Z.GroupRef){var Fe=p(Z.GroupRef.Expression,J),ze=_.map(Z.GroupRef.GroupedColumns,function(rt){return p(rt,J)});if(Fe&&!_.isEmpty(ze))return(0,S.Wp)(Z.GroupRef.Property,Fe,ze,Z.Annotations)}}(Z,J)||function(Z){if(Z.RoleRef)return(0,S.Wu)(Z.RoleRef.Role,Z.Annotations)}(Z)||function(Z){if(Z.AllRolesRef)return(0,S.lI)(Z.Annotations)}(Z)||function(Z){if(Z.NamedQueryReference)return(0,S.kD)(Z.NamedQueryReference.Name,void 0,Z.Annotations)}(Z)||function(Z){if(Z.Subquery)return(0,S.v5)(a.deserializeQuery(Z.Subquery.Query),Z.Annotations)}(Z)||function(Z){return function(Z){if(Z.Boolean)return(0,S.O7)(Z.Boolean.Value,Z.Annotations)}(Z)||tt(Z)||function(Z){if(Z.DateTimeSecond){var J=Ue(Z.DateTimeSecond);return(0,S.uQ)(5,(0,S.CQ)(J),Z.Annotations)}}(Z)||tt(Z)||function(Z){if(Z.Decimal)return(0,S.gH)(Z.Decimal.Value,void 0,Z.Annotations)}(Z)||function(Z){if(Z.Integer)return(0,S.cA)(Z.Integer.Value,void 0,Z.Annotations)}(Z)||function(Z){if(Z.Null)return(0,S.IF)()}(Z)||function(Z){if(Z.Number)return(0,c.bE)(Z.Number.Value)}(Z)||function(Z){if(Z.String)return(0,S.fL)(Z.String.Value,void 0,Z.Annotations)}(Z)}(Z)||function(Z){if(Z.SummaryValueRef)return(0,S.bO)(Z.SummaryValueRef.Name,Z.Annotations)}(Z)||function(Z,J){var Fe=Z.SparklineData;if(Fe)return(0,S.Zy)(p(Fe.Measure,J),b(Fe.Groupings,J),Fe.ScalarKey?p(Z.SparklineData.ScalarKey,J):void 0,Fe.PointsPerSparkline,Fe.IncludeMinGroupingInterval)}(Z,J)||function(Z,J){var Fe=Z.NativeVisualCalculation;if(Fe)return(0,S.YU)(Fe.Name,Fe.Expression,Z.Annotations)}(Z)}function C(Z){return p(Z,null)}function b(Z,J){for(var Fe=[],ze=0,rt=Z.length;ze<rt;ze++)Fe.push(p(Z[ze],J));return Fe}function D(Z){return C(Z)}function me(Z){if(Z){var J=p(Z.Condition),Fe=p(Z.Value);if(J&&Fe)return{condition:J,value:Fe}}}function ve(Z,J){if(Z){var Fe={color:p(Z.color,J)};return Z.value&&(Fe.value=p(Z.value,J)),Fe}}function Re(Z,J){if(Z){var Fe={strategy:p(Z.strategy,J)};return Z.color&&(Fe.color=p(Z.color,J)),Fe}}function tt(Z){var J=Z.DateTime||Z.Date;if(J){var Fe=Ue(J);if(Fe)return(0,S.CQ)(Fe,void 0,Z.Annotations)}}function Ue(Z){return o.fF.assertValue(Z,"contract"),(0,l.TX)(Z.Value)}},560583:function(Xe,H,t){t.d(H,{d:function(){return e}});var e="tabular"},471723:function(Xe,H,t){t.d(H,{Ov:function(){return v},Rk:function(){return S}});var e=t(28291),l=t(498342),o=t(957571),d=t(231626);function v(){return new u}function S(i){var a=[];for(var n in i=c(i))if(i.hasOwnProperty(n)){var m=i[n],f=void 0;if(!m)continue;_.isDate(m)||null!=h(m.toString().substr(0,26))?f={dateTime:!0}:isNaN(+m)?_.isString(m)&&(f={text:!0}):f={numeric:!0},f&&a.push({name:n,type:f})}return a}function h(i){var a=null,n=+i;if(isNaN(n)){var p=(0,e.Kk)(i.toString());p&&(a=(0,o.Fg)(p))}else{var m=new Date;m.setDate(m.getDate()-s);var f=m.getTime();(m=new Date).setDate(m.getDate()+s);var V=m.getTime();n<f&&(n*=1e3),n>f&&n<V&&(a=(0,o.tU)(n))}return a}function c(i){try{return r(i)}catch(a){l.fF.assertFail("Failed to flatten JSON object")}return i}function r(i,a,n){return a||(a={}),_.isObject(i)?_.forOwn(i,function(m,f){r(m,a,n?n+"."+f:f)}):a[n]=i,a}var s=7,u=function(){function i(){this.clear()}return i.prototype.add=function(a){l.fF.assertValue(a,"data");var n=this.getKey(a.modelId,a.name);return this.tabularDataMap[n]=a,n},i.prototype.get=function(a){return l.fF.assertValue(a,"key"),this.tabularDataMap[a]},i.prototype.remove=function(a){l.fF.assertValue(a,"key"),delete this.tabularDataMap[a]},i.prototype.clear=function(){this.tabularDataMap={}},i.prototype.getKey=function(a,n){return l.fF.assertValue(a,"modelId"),l.fF.assertValue(n,"tableName"),a+"_"+n},i.prototype.mergeRows=function(a,n,m,f){l.fF.assertValue(a,"modelId");var V=this.getKey(a,n),p=this.get(V);if(!p||!p.rowGroups){var C={modelId:a,name:n,rowGroups:m,lastVersion:f,columns:p&&p.columns};return this.constructColumnsMetadataIfNeeded(C),this.fixUpValues(C.rowGroups,C.columns),void this.add(C)}var b=[],y=p.rowGroups||[],D=m||[];for(this.fixUpValues(D,p.columns);!_.isEmpty(y)||!_.isEmpty(D);){var P=_.head(y),F=_.head(D);P&&!F?(this.appendRow(b,P,f),y.shift()):!P&&F?(this.appendRow(b,F,f),D.shift()):P.version<F.version?(this.appendRow(b,P,f),y.shift()):F&&(D.shift(),P.version===F.version&&y.shift(),this.appendRow(b,F,f))}p.rowGroups=b,p.lastVersion=f},i.prototype.constructColumnsMetadataIfNeeded=function(a){if(l.fF.assertValue(a,"tabularData"),!a.columns){var n=_.last(a.rowGroups);if(n){var m=_.last(n.rows);m&&(a.columns=S(m))}}},i.prototype.fixUpValues=function(a,n){if(!_.isEmpty(a)){for(var m={},f={},V=0,p=n;V<p.length;V++){var C=p[V];m[C.name]=C.type&&C.type.dateTime,f[C.name]=C.type&&C.type.numeric}for(var b=0,y=a;b<y.length;b++){var D=y[b];if(D.rows)for(var P=0;P<D.rows.length;P++){var F=D.rows[P]=c(D.rows[P]);for(var E in F)if(F.hasOwnProperty(E)){var w=F[E];if(w)if(m[E]){var x=h(w);x&&(F[E]=x)}else if(f[E]){var R=parseFloat(w.toString());isNaN(R)||(F[E]=R)}}}}}},i.prototype.appendRow=function(a,n,m){l.fF.assertValue(a,"rows"),l.fF.assertValue(n,"row"),l.fF.assert(function(){return m>0},"Invalid version"),!(m-n.version>d.cm)&&a.push(n)},i}()},270132:function(Xe,H,t){t.d(H,{Q:function(){return r},q:function(){return s}});var e=t(400198),l=t(498342),o=t(148782),d=t(18883),v=t(915925),S=t(512322),h=t(358246);function r(u){var i=_.indexOf(u,".");return i<0||i>=u.length-1?u:u.substr(i+1)}var s=function(){function u(i,a){l.fF.assertValue(i,"host"),l.fF.assertValue(a,"tabularData"),this.promiseFactory=i.promiseFactory(),this.tabularDataCache=a,this.columnToIndexMap={}}return u.prototype.execute=function(i){l.fF.assertValue(i,"options");var a=_.head(i.dataSources),m=this.buildDataView(i.command,a.modelId),f=this.promiseFactory.defer();return f.resolve(m),(0,e.w)(f)},u.prototype.transform=function(i,a,n){return null==i?{dataView:{metadata:{columns:[]},error:{code:"UndefinedData"}}}:{dataView:i}},u.prototype.buildDataView=function(i,a){var n=this;l.fF.assertValue(i,"command"),l.fF.assertValue(a,"modelId");var m=i.mappings[0],f=this.tabularDataCache,V=f.get(f.getKey(a,i.tableName));l.fF.assertValue(V,"tabularData");var p=u.getLastVersion(V)-i.dataWindow;if(V.rowGroups){var C=i&&_.head(i.Commands);if(C){var b=C.SemanticQueryDataShapeCommand;b&&b.Query&&b.Query.Select&&b.Query.Select.map(function(P,F){n.columnToIndexMap[r(P.Name)]=F})}var y=this.filterTabularDataRowGroups(V.rowGroups,p),D=this.createDataView({rowGroups:y,columns:V.columns,modelId:V.modelId,name:V.name},m);return i.dataWindow&&(D.metadata.objects={categoryAxis:{duration:i.dataWindow}}),D}},u.prototype.filterTabularDataRowGroups=function(i,a){return l.fF.assertValue(i,"rowGroups"),l.fF.assertValue(a,"cutOff"),_.filter(i,function(n){return n.version>=a})},u.prototype.createDataView=function(i,a){l.fF.assertValue(i,"tabularData"),l.fF.assertValue(a,"mapping");var n={metadata:{columns:[]}},m=this.extractColumns(a),f=[];if(a.categorical){var V=this.getCategoricalDataViewInfo(m.categorical,i);n.categorical=V.dataView,_.isEmpty(n.categorical.values)&&(n.categorical.values=void 0),f.push.apply(f,V.columns||[])}if(a.table){var p=this.getSingleDataViewInfo(m.table,i);n.single=p.dataView;var C=p.columns[0];null==_.find(f,C)&&f.push(C)}return n.metadata.columns=f,n},u.prototype.getCategoricalDataViewInfo=function(i,a){l.fF.assertValue(i,"categoricalColumns"),l.fF.assertValue(a,"tabularData");var n=(0,d.h)();if(!_.isEmpty(i.categories)){var m=this.getCategoryColumnOption(i.categories,a);n.withCategory(m)}var f=this.getValueColumnOptions(i.categories,i.values,a);_.isEmpty(i.groupedValues)||i.groupedValues===i.categories?n.withValues({columns:f}):this.addGroupValues(i,a,n,f);var V=n.build();return{dataView:V.categorical,columns:V.metadata.columns}},u.prototype.addGroupValues=function(i,a,n,m){l.fF.assertValue(i,"categoricalColumns"),l.fF.assertValue(a,"tabularData"),l.fF.assertValue(i.groupedValues,"groupedValues"),l.fF.assertValue(m,"valueColumnOption");for(var f=r(i.groupedValues),V=this.getCategoryColumnOption(f,a),p=this.extractColumnValues(f,a),C=u.getUniqueValues(p),b=this.getValueToIndicesMap(p),y={},P=0,F=i.values;P<F.length;P++)for(var w=r(F[P]),x=this.extractColumnValues(w,a),R=0,g=C;R<g.length;R++){var M=u.valueToString(g[R]);null==y[M]&&(y[M]=[]);var O=_.at(x,b[M]);y[M].push({values:O})}var N=_.values(y);_.isEmpty(N)||n.withGroupedValues({groupColumn:V,valueColumns:m,data:N})},u.prototype.getValueToIndicesMap=function(i){for(var a={},n=0,m=i.length;n<m;n++){var f=u.valueToString(i[n]),V=a[f];V?V.push(n):a[f]=[n]}return a},u.prototype.getSingleDataViewInfo=function(i,a){l.fF.assertValue(i,"singleColumn"),l.fF.assertValue(a,"tabularData");var n=this.getColumnMetadataAndValues(i,a);return{dataView:{value:n.values[n.values.length-1],column:n.metadataColumn},columns:[n.metadataColumn]}},u.prototype.extractColumns=function(i){l.fF.assertValue(i,"mapping");var a=function(D,P){var F=D.items;if(F)for(var E=0,w=F;E<w.length;E++)P.push(w[E].queryName)},n={},m=i.categorical;if(m){var f=[];(0,o.Sr)(m.categories,{visitRole:function(D){a(D,f)}});var V=[];(0,o.fl)(m.values,{visitRole:function(D){a(D,V)}});var p=[];(0,o.vS)(m.values,{visitRole:function(D){a(D,p)}}),l.fF.assert(function(){return p.length<=1},"grouped values length should be <= 1"),l.fF.assert(function(){return f.length<=1},"grouped values length should be <= 1"),n.categorical={categories:f[0],groupedValues:p[0],values:V}}var C=i.table;if(C){var b=[];(0,o.vV)(C,{visitRole:function(D){a(D,b)}}),l.fF.assert(function(){return 1===b.length},"The length of the single column should be one"),n.table=b[0]}return n},u.prototype.getCategoryColumnOption=function(i,a){l.fF.assertValue(i,"columnNames"),l.fF.assertValue(a,"tabularData");var n=this.getColumnMetadataAndValues(i,a),m=u.getUniqueValues(n.values),f=(0,S.Oh)((0,S.nw)(null,a.name),i),V=_.map(m,function(p){return(0,v.TZ)((0,S.Dg)(f,(0,S.fL)(p.toString())))});return{source:n.metadataColumn,values:m,identityFrom:{fields:[f],identities:V}}},u.prototype.getValueColumnOptions=function(i,a,n){l.fF.assertAnyValue(i,"categoryColumnName"),l.fF.assertValue(a,"columnNames"),l.fF.assertValue(n,"tabularData");for(var m=[],f=0,V=a;f<V.length;f++){var C=this.getColumnMetadataAndValues(V[f],n,i),b=C.values;!i&&!_.isEmpty(b)&&(b=[_.last(b)]);var y={source:C.metadataColumn,values:b,minLocal:_.min(b),maxLocal:_.max(b)};m.push(y)}return m},u.prototype.getColumnMetadataAndValues=function(i,a,n){l.fF.assertValue(i,"columnName"),l.fF.assertValue(a,"tabularData"),l.fF.assertAnyValue(n,"categoryColumnName");var p,m=a.columns,f=r(i),V=this.columnToIndexMap[f];if(l.fF.assert(function(){return V>=0},"The column name should exist in tabular columns"),n){var C=r(n);p=this.extractUniqueColumnValues(f,a,C)}else p=this.extractColumnValues(f,a);var b=_.find(m,function(D){return D.name===f});return{metadataColumn:u.createMetadataColumn(f,V,h.Ge.fromDescriptor(b.type)),values:p}},u.prototype.extractColumnValues=function(i,a){l.fF.assertValue(i,"columnName"),l.fF.assertValue(a,"tabularData");for(var m=[],f=0,V=a.rowGroups;f<V.length;f++)for(var C=0,b=V[f].rows;C<b.length;C++)m.push(b[C][i]);return m},u.prototype.extractUniqueColumnValues=function(i,a,n){l.fF.assertValue(i,"columnName"),l.fF.assertValue(a,"tabularData"),l.fF.assertValue(n,"categoryName");for(var f={},V=0,p=a.rowGroups;V<p.length;V++)for(var b=0,y=p[V].rows;b<y.length;b++){var D=y[b];f[u.valueToString(D[n])]=D[i]}return _.values(f)},u.getLastVersion=function(i){if(l.fF.assertValue(i,"tabularData"),_.isEmpty(i.rowGroups))return i.lastVersion?i.lastVersion:Number.NEGATIVE_INFINITY;var a=Number.NEGATIVE_INFINITY;if(!i.rowGroups)return a;for(var n=0,m=i.rowGroups;n<m.length;n++){var f=m[n];f.version>a&&(a=f.version)}return a},u.createMetadataColumn=function(i,a,n){l.fF.assertValue(i,"name"),l.fF.assertValue(a,"columnIndex");var m={displayName:i,queryName:i,index:a,isMeasure:!1};return null!=n&&(m.type=n,m.isMeasure=!!n.numeric),m},u.getUniqueValues=function(i){return _.uniqBy(i,function(a){return u.valueToString(a)})},u.valueToString=function(i){return _.isDate(i)?i.getTime().toString():i?i.toString():""},u}()},719512:function(Xe,H,t){t.d(H,{Z:function(){return d}});var e=t(498342),l=t(678776),o=t(758205);function d(){return new v(o.ib)}var v=function(){function S(h){e.fF.assertValue(h,"serializer"),this.serializer=h}return S.prototype.execute=function(h){e.fF.assertValue(h,"options");var c=h.query;e.fF.assertValue(c,"query");var s={SemanticQueryDataShapeCommand:{Query:this.serializer.serializeQuery(c),Binding:null}},u=l.m.getActiveTablesNames(c);e.fF.assertValue(1===u.length,"Exactly 1 entity is expected");var i=u[0];return e.fF.assertValue(i,"entity"),{command:{dataWindow:h.dataWindow,tableName:i,mappings:h.mappings,Commands:[s]}}},S.prototype.produceIdentities=function(h,c){return e.fF.assertFail("TabularDataQueryGenerator.produceIdentities should not get used. "),[h]},S}()},421396:function(Xe,H,t){t.d(H,{I7:function(){return u},Zq:function(){return l},h1:function(){return m},hh:function(){return v},oj:function(){return r},s7:function(){return h},sS:function(){return c},vP:function(){return o},zT:function(){return a}});var e=t(947634),l="PBI.Data.QueryData",o=e.cx[l]=(0,e.b1)(l),d="PBI.Data.QueryCancellation",v=e.cx[d]=(0,e.b1)(d,{logRatio:1e-4}),S="PBI.Data.ClientCacheHit",h=e.cx[S]=(0,e.b1)(S,{logRatio:1e-4}),c="PBI.Data.GetConceptualSchema",r=e.cx[c]=(0,e.b1)(c),s="PBI.Data.ClearConceptualSchemaCache",u=e.cx[s]=(0,e.b1)(s),i="PBI.Data.ExecuteQuery",a=e.cx[i]=(0,e.b1)(i),n="PBI.Data.DsrToDataView",m=e.cx[n]=(0,e.b1)(n,{logRatio:1e-4})},738428:function(Xe,H,t){t.d(H,{S:function(){return l}});var e=t(438919);function l(){return new o}var o=function(){function d(){this.plugins=e.Gr}return d.prototype.getTransformPlugin=function(v){if(v)return this.plugins[v]},d}()},438919:function(Xe,H,t){t.d(H,{Gr:function(){return u},Xp:function(){return o}});var l,e=t(273269),o="SampleAndDetectAnomaly",v={ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd"},S=_.mapValues(v,function(i){return"anomalyDetection."+i}),h=_.mapValues(v,function(i){return i+"Role"}),u=((l={Forecast:{name:"Forecast",inputRoles:[{name:"X",visualDataRoleMatching:{cartesianKind:0}},{name:"Y",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:"forecast.ForecastValue",algorithmRole:"Forecast",columnName:"forecastValue",kind:e.DW.Measure},{name:"forecast.ConfidenceHighBound",algorithmRole:"UpperBound",columnName:"confidenceHighBound",kind:e.DW.Measure},{name:"forecast.ConfidenceLowBound",algorithmRole:"LowerBound",columnName:"confidenceLowBound",kind:e.DW.Measure}]},KMeansClustering:{name:"KMeansClustering",inputRoles:[{name:"Attribute",visualDataRoleMatching:{matchMeasure:!0,skipJoinPredicateNone:!0}},{name:"Item",visualDataRoleMatching:{matchGrouping:!0}}],outputRoles:[{name:"Series",algorithmRole:"ClusterId",columnName:"clusterId",kind:e.DW.Grouping}]}})[o]={name:o,inputRoles:[{name:"TimeSeriesColumnRole",visualDataRoleMatching:{cartesianKind:0}},{name:"ValueColumnRole",visualDataRoleMatching:{cartesianKind:1}}],outputRoles:[{name:S.ExpectedValue,algorithmRole:h.ExpectedValue,columnName:v.ExpectedValue,kind:e.DW.Measure,joinPredicateBehavior:0},{name:S.ExpectedLow,algorithmRole:h.ExpectedLow,columnName:v.ExpectedLow,kind:e.DW.Measure,joinPredicateBehavior:0},{name:S.ExpectedHigh,algorithmRole:h.ExpectedHigh,columnName:v.ExpectedHigh,kind:e.DW.Measure,joinPredicateBehavior:0},{name:S.RawScore,algorithmRole:h.RawScore,columnName:v.RawScore,kind:e.DW.Measure,joinPredicateBehavior:0},{name:S.Anomaly,algorithmRole:h.Anomaly,columnName:v.Anomaly,kind:e.DW.Measure,joinPredicateBehavior:0},{name:S.BatchStart,algorithmRole:h.BatchStart,columnName:v.BatchStart,kind:e.DW.Measure,joinPredicateBehavior:0},{name:S.BatchEnd,algorithmRole:h.BatchEnd,columnName:v.BatchEnd,kind:e.DW.Measure,joinPredicateBehavior:0}]},l)},515418:function(Xe,H,t){t.d(H,{tc:function(){return S},cu:function(){return i},X9:function(){return s},GB:function(){return r}});var e=t(606008),l=t(805659),o=t(947634),d="PBI.Settings.EsriSaveModel",v=o.cx[d]=(0,o.b1)(d);function S(f,V,p){return void 0===p&&(p=!0),{automaticallyImport:p,sandboxProperties:[2,1,0,3],providers:{blocker:{blockedInCluster:_.stubTrue,blockedInTenant:_.stubTrue,blockedInHost:_.stubFalse},validator:{getErrorDetails:function(){return{message:V.get("VisualContainer_EsriNotSupportedInEmbed"),errorType:1,displayableErrorInfo:[],helpLink:e.ep}}}},visualTypeOptions:h(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return f.reject(l.VT)}},consentPersistencyProvider:{loadConsent:function(){return f.reject(l.VT)},saveConsent:function(b){return f.reject(l.VT)}}}}}function h(){return{class:l.Jo,titleKey:"ArcGISMapsForPowerBI",watermarkKey:"map"}}function c(f){return{blockedInCluster:function(){return!f.featureSwitches.esriEnabled},blockedInTenant:function(){return!f.featureSwitches.esriVisualEnabled},blockedInHost:_.stubFalse}}function r(f,V,p,C,b,y,D,P){void 0===P&&(P=!0);var F=c(p);return{automaticallyImport:P,sandboxProperties:[2,1,0,3],providers:{blocker:F,validator:n(F,D,C)},visualTypeOptions:h(),registerVisualConsentOptions:u(f,V,b,y)}}function s(f,V,p){void 0===p&&(p=!0);var C=c(f);return{automaticallyImport:p,sandboxProperties:[2,1,0,3],providers:{blocker:C,validator:n(C,void 0,V)},visualTypeOptions:h()}}function u(f,V,p,C){return{consentDialogProvider:m(f,V),consentPersistencyProvider:a(f,p,C)}}function i(f,V,p,C,b,y,D){void 0===D&&(D=!0);var P=c(V);return{automaticallyImport:D,sandboxProperties:[2,1,0,3],providers:{blocker:P,validator:n(P,C,p)},visualTypeOptions:h(),registerVisualConsentOptions:{consentDialogProvider:{showConsentDialog:function(){return f.reject("Esri consent dialog is not supported in Mobile scenario.")}},consentPersistencyProvider:a(f,b,y)}}}function a(f,V,p){return{loadConsent:function(){var b=f.defer();return V.esriVisualEnabled.subscribe(function(y){b.resolve(y)}),b.promise},saveConsent:function(b){var y=p.startEvent(v,{esriEnabled:b});return V.setEsriVisualEnabled(b,y),f.resolve(b)}}}function n(f,V,p){return{getErrorDetails:function(){var b;if(f.blockedInTenant()?b="SettingsEsri_OrganizationHasDisabled":V&&!V.hasConsent(l.Jo)&&(b="VisualContainer_EsriNotConsented"),b)return{message:p.get(b),errorType:1,displayableErrorInfo:[],helpLink:e.ep}}}}function m(f,V){return{showConsentDialog:function(){var C=f.defer();return V.openHostDialog({dialogName:"EsriConsentDialog",componentName:"EsriConsentDialog",config:{panelClass:["esri-consent-dialog"],autoFocus:!1}}).then(function(y){return y.afterClosed().subscribe(function(D){return C.resolve(D)})}),C.promise}}}},462027:function(Xe,H,t){t.d(H,{O:function(){return e},T:function(){return l}});var e={name:"saveExploration",type:3},l={name:"saveAsExploration",type:3}},524816:function(Xe,H,t){t.d(H,{GB:function(){return h}});var e=t(347996),l=t(785205),o=t(562386),d=t(359234),v=[e.qf,e.Af,e.dw,e._V,e.Z4,e.fD,e.jK,e.yz,e.lR,e.LO,e.yC,e.Lr,e.de,e.hh,d.hR,e.vc,e.$n,e.Kb,e.jO,l.K0,l.td,l.gn,l.IJ,e.wf,d.ts,l.tk,"HttpStatusCode = -1","HttpStatusCode = 401","GroupNotAccessible",o.qw.Code,"ActivityLimitReached"],S=[];function h(s){return{errorCode:r(s),errorSource:c(s)}}function c(s){var u=s&&s.clientError,i=r(s);return _.includes(v,i)?"User":_.includes(S,i)?"External":u&&null!=u.source?u.source:"PowerBI"}function r(s){return s&&s.serviceError&&s.serviceError.errorCode||s&&s.clientError&&s.clientError.code||l.Kj}},343484:function(Xe,H,t){t.d(H,{d:function(){return l}});var l={type:2,name:"topNFilterOrderByUpdate"}},694798:function(Xe,H,t){t.d(H,{hM:function(){return i},oX:function(){return u}});var e=t(973188),l=t(430912),o=t(497141),d=t(927903),v=t(227871),S=t(498342),h=t(204553),c=t(678776),r=t(173818),s=t(898268),u=function(n){return n[n.Card=0]="Card",n[n.Pane=1]="Pane",n}({}),i=function(n){function m(f,V,p){var C=n.call(this,f,{expanded:!1,canToggleSingleSelect:!1,availableTypes:[],type:f.type})||this;return C.localizationService=p,C.isInvalidForMappedColumn=!1,C.id=m.counter++,C.restatement="",C.displayName="",C.containerScope=V,C.howCreated=0,C.isLinkedAsAggregation=!1,C.filterCapabilities=o.l.getFilterCapabilities(f),C.containerType=u.Pane,C}return(0,e.__extends)(m,n),m.prototype.setServices=function(f,V,p){S.fF.assertAnyValue(f,"visualHostServices can be null or undefined."),this.visualHostServices=f,this.visualPlugin=V,this.viewModeState=p},m.prototype.isInvalid=function(){return this.invalid},m.prototype.clearDQPWarning=function(){this.isInvalidForMappedColumn&&(this.invalid=!1,this.readOnlyState.invalid=!1,this.isInvalidForMappedColumn=!1)},m.prototype.isInvalidCardType=function(){return this.cardType&&this.cardType.invalid},m.prototype.setContainerType=function(f){this.containerType=f},Object.defineProperty(m.prototype,"filterContainerType",{get:function(){return this.containerType},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isVisualFilter",{get:function(){return this.containerScope&&0===this.containerScope.scopeType},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"hasDefaultValue",{get:function(){return this.defaultValue&&(1===this.howCreated||5===this.howCreated)},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"isLinkField",{get:function(){return 5===this.howCreated&&!this.contract.isTransient},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canToggleLinkAsAggregation",{get:function(){return this.isLinkField&&!this.isMeasure},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canDeleteManually",{get:function(){return this.filterCapabilities.canDelete||!!this.readOnlyState.invalid},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canClearManually",{get:function(){return this.filterCapabilities.canClear},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"hasRestatement",{get:function(){return""!==this.restatement&&null!=this.restatement},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canHideManually",{get:function(){return this.filterCapabilities.canHide},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canLockManually",{get:function(){return this.filterCapabilities.canLock},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canRenameManually",{get:function(){return this.filterCapabilities.canRename},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canSortManually",{get:function(){return this.filterCapabilities.canSort},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"canExpandManually",{get:function(){return this.filterCapabilities.canEdit&&o.l.canExpandManually(this.contract.howCreated,this.contract.isTransient,this.contract.expression,!this.invalid,this.contract.type)},enumerable:!1,configurable:!0}),m.prototype.getFilterContainerScope=function(){return this.containerScope},m.prototype.setRestatement=function(f){this.contract.type===this.readOnlyState.type&&(this.restatement=f)},m.prototype.clearRestatement=function(){this.restatement=""},m.prototype.getRestatement=function(){return this.restatement},m.prototype.updateFilterCardStyle=function(f,V){V&&(this.style=o.l.getFilterCardStyle(f&&f.evaluatedObjects,!!this.contract.filter,V,this.filterCardStyleArguments))},Object.defineProperty(m.prototype,"checkboxAndApplyColor",{get:function(){return this.style&&this.style.checkboxAndApplyColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"borderColor",{get:function(){return this.style&&this.style.borderColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"backgroundColor",{get:function(){return this.style&&this.style.backgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"foregroundColor",{get:function(){return this.style&&this.style.foregroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputBoxBorderColor",{get:function(){return this.style&&this.style.inputBoxBorderColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputBoxBackgroundColor",{get:function(){return this.style&&this.style.inputBoxBackgroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"inputBoxForegroundColor",{get:function(){return this.style&&this.style.inputBoxForegroundColor},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontSize",{get:function(){return this.style&&this.style.fontSize},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"fontFamily",{get:function(){return this.style&&this.style.fontFamily},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"visualContainer",{get:function(){if(this.isVisualFilter)return this.containerScope.container},enumerable:!1,configurable:!0}),m.prototype.isFilterLocked=function(){return this.contract.isLockedInViewMode},m.prototype.isFilterHidden=function(){return this.contract.isHiddenInViewMode},m.prototype.isFilterExpanded=function(){return this.readOnlyState.expanded},m.prototype.updateFilterProperties=function(f,V,p){if(this.contract.expression){var C=this.contract.expression;this.isMeasure=(0,r.k)(C),this.discourageAggregation=c.m.discourageAggregation(C,f),this.valueType=o.l.getValueType(C,f),this.formatter=o.l.getFormatter(C,f),this.defaultValue=c.m.getDefaultValue(C,f),this.parameterMetadata=c.m.getConceptualParameterMetadata(C,f),5===this.howCreated&&!this.contract.isTransient||this.isMappedToMParameter()&&!this.supportsMultipleValues()?(this.isSingleSelectionRequired=!0,this.disableSelectionModeToggle=!0):this.contract.isTransient&&(this.isSingleSelectionRequired=!1,this.disableSelectionModeToggle=!0)}if(this.contract.objects){var D=(0,h.NA)(this.contract.objects,{objectName:"general",propertyName:"isInvertedSelectionMode"},void 0);this.isInvertedSelectionMode=D&&D.value}var P=this.containerScope.container;this.hasGroupingScope=P&&(0,d.e4)(P,f),this.invalid=!_.isEmpty(o.l.validate(this.contract,f,p)),this.invalid?this.isInvalidForMappedColumn=!1:(this.isInvalidForMappedColumn=this.hasInvalidFiltersForMParameters(this.contract,f),this.invalid=this.isInvalidForMappedColumn),this.disabled=o.l.shouldDisableFilter(this.contract,f,P,p,V)},m.prototype.hasInvalidFiltersForMParameters=function(f,V){var p,C=null===(p=null==f?void 0:f.filter)||void 0===p?void 0:p.conditions();if(!C)return!1;for(var b=0,y=C;b<y.length;b++)if(!c.m.checkExprForValidMParameters(y[b],V))return!0;return!1},m.prototype.switchType=function(f){this.readOnlyState.type=f},m.prototype.canVisualize=function(){var f=this.contract;return f.expression&&f.type!==l.vA.Passthrough&&!this.isMeasure},m.prototype.updateViewStateCore=function(f){var V=this.contract;S.fF.assertValue(f.type,"Expected type to be defined for filter contract.");var p=!this.invalid;if(f.disabled=this.disabled,f.expanded=!0===V.expanded&&p,f.invalid=!p,_.some(this.availableTypes,function(y){return y.type===l.vA.Categorical})&&!f.visual&&V.config){var C=V.config.singleVisual;C&&this.visualHostServices&&this.visualPlugin&&(f.visual={viewport:m.DefaultVisualViewPort,type:v.L.filterSlicer.name,dataTransforms:{objects:C.objects},hostServices:this.visualHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:{}})}f.canToggleSingleSelect=!(5===this.howCreated&&!this.contract.isTransient||this.contract.isTransient||f.disabled||!f.expanded||!f.visual||!f.visual.data)},m.prototype.updateAvailableTypes=function(){var f=this.localizationService,V=this.readOnlyState.type;if(V!==l.vA.Passthrough){var p=[];(function(n,m){return n&&!n.bool&&!m})(this.valueType,this.isLinkField)&&p.push({type:l.vA.Advanced,label:f.get("FilterPane_Advanced")}),this.isMeasure||(p.push({type:l.vA.Categorical,label:f.get("FilterPane_Basic")}),this.valueType&&this.valueType.dateTime&&!this.isMappedToMParameter()&&(p.push({type:l.vA.RelativeDate,label:f.get("FilterPane_RelativeDate")}),p.push({type:l.vA.RelativeTime,label:f.get("FilterPane_RelativeTime")})),this.isVisualFilter&&!this.isMappedToMParameter()&&p.push({type:l.vA.TopN,label:f.get("FilterPane_TopN")})),this.availableTypes=p,this.hiddenTypes=[],this.updateCardType(V)}else this.availableTypes=[]},m.prototype.updateCardType=function(f){var V=this.availableTypes;this.readOnlyState.type=f,this.cardType=_.find(V,function(p){return p.type===f}),!this.cardType&&this.hiddenTypes&&this.hiddenTypes.length>0?(this.cardType=_.find(this.hiddenTypes,function(p){return p.type===f}),this.availableTypes.push(this.cardType)):!this.cardType&&this.isMappedToMParameter()&&(this.cardType={type:l.vA.Categorical,label:this.localizationService.get("FilterPane_Basic")})},m.prototype.isSingleSelectDisabled=function(){return this.disableSelectionModeToggle||!this.viewModeState||0===this.viewModeState.getMode()},m.prototype.getDisplayName=function(){return this.contract.displayName?this.contract.displayName:this.displayName},m.prototype.updateIsLinkedAsAggregation=function(f){this.isLinkedAsAggregation=f},m.prototype.getInputPlaceholder=function(){return this.viewModeState&&this.viewModeState.getConfig().displayOptions.enableMobileFilters?this.localizationService.get("TypeHere"):""},m.prototype.isMappedToMParameter=function(){return this.parameterMetadata&&1===this.parameterMetadata.kind},m.prototype.supportsMultipleValues=function(){var f;return!(null===(f=this.parameterMetadata)||void 0===f||!f.supportsMultipleValues)},m.prototype.supportsSelectAll=function(){var f;return!(null===(f=this.parameterMetadata)||void 0===f||!f.supportsSelectAll)},m.DefaultVisualViewPort={width:146,height:180,scale:1},m.counter=0,m}(s.j)},367547:function(Xe,H,t){t.d(H,{fw:function(){return C},l7:function(){return b}});var e=t(973188),l=t(430912),o=t(497141),d=t(498342),v=t(447751),S=t(262852),h=t(686311),c=t(726501),r=t(411429),s=t(451319),u=t(224498),i=t(410695),a=t(859137),n=t(580939),m=t(757414),V=t(694798),p=t(519753);function C(L,M,T,O,N,A,I,B,U){var W;switch(d.fF.assertValue(L,"contract"),d.fF.assertValue(L.expression||L.filter||L.type===l.vA.Include||L.type===l.vA.Exclude,"field or filter is required; otherwise this must be an empty include/exclude filter"),d.fF.assert(function(){return!L.isTransient||!!L.filter},"We assume that if it is a transient filter, it should have semantic filter. If the assumption is wrong, please revisit implementation of getDefaultFilterType."),L.type){case l.vA.TopN:W=w(L,B,O,M,T,I,U);break;case l.vA.Advanced:case l.vA.Categorical:W=E(L,B,O,M,T,I,U);break;case l.vA.RelativeTime:W=x(S.wj.Time,L,B,O,M,T,I,U,!1);break;case l.vA.RelativeDate:W=x(S.wj.Date,L,B,O,M,T,I,U,!1);break;case l.vA.Passthrough:W=F(L,B,O,M,T,U,I);break;case l.vA.Include:case l.vA.Exclude:W=P(L,O,M,T,I);break;default:W=w(L,B,O,M,T,I,U)||x(S.wj.Time,L,B,O,M,T,I,U,!0)||x(S.wj.Date,L,B,O,M,T,I,U,!0)||E(L,B,O,M,T,I,U)||P(L,O,M,T,I)||F(L,B,O,M,T,U,I)}return d.fF.assertValue(W,"Expected to convert contract to FilterViewModel"),d.fF.assertValue(L.type,"Expected filter contract type to be assigned"),W.howCreated=L.howCreated,W.updateFilterProperties(M,N,A),W}function b(L,M){var T;if(L.filter){var O=L.filter.conditions();d.fF.assert(function(){return 1===O.length},"There should be exactly 1 filter expression.");var N=O[0];N&&(T=new m.L(M).fromFilterExpr(N,null,L.expression))}return!T&&L.expression&&(T=new n.d(L.expression,M)),T}function y(L,M,T,O,N,A,I){var B=(0,r.Q)(L);return T.getDisplayName(L,M,O,N,0===I?A:void 0,{includeVariationSource:!0})||(B?(0,c._6)(B):void 0)}function D(L,M,T,O,N,A,I){var B=T.getQualifiedDisplayName(L,M,N);return 5===I||6===I||2===I?B=O.format("FilterCard_Transient_Drill",[B]):7===I?B=O.format("FilterCard_Transient_URL",[B]):A&&(B=O.format("FilterCard_Transient",[B])),B}function P(L,M,T,O,N){var A=new a.v(T,O);if(!L.filter)return L.type?new V.hM(L,M,N):void 0;var I=L.filter.conditions();if(!(_.isEmpty(I)||I.length>1)&&(I[0].accept(A),A.dataPoints.length>0)){L.type=A.isExclude?l.vA.Exclude:l.vA.Include;var U=new V.hM(L,M,N);return U.displayName=o.l.getDisplayNameForIncludeExcludeFilters(N,L.type,A.dataPoints.length),U}}function F(L,M,T,O,N,A,I){d.fF.assert(function(){return null==L.type||L.type===l.vA.Passthrough},"Filter contract matches FilterType.Passthrough, but has differing type property: "+L.type),null==L.type&&(L.type=l.vA.Passthrough);var B=new V.hM(L,T,I),U=L.restatement;if((!U||""===U)&&L.filter){d.fF.assert(function(){return 1===_.size(L.filter.where())},"expecting only 1 filter in passthrough filters");var W={includeFieldNamesInFilter:!0};if(U=N.getFilterRestatement(L.filter,O,M,W),B.tooltip=N.getQualifiedFilterRestatement(L.filter,O,M,W),_.isEmpty(U)){var j=(0,s.J_)(L.filter);if(!_.isEmpty(j)){var q,K=I.get("ListJoin_Separator"),ee=void 0,ie=void 0,he=void 0;A&&(q=A.columnProperties);var Y=j.fieldsBeingFiltered.map(function(Ee){var Ne=A&&A.query&&A.query.defn.selectNameOf(Ee);return N.getDisplayName(Ee,O,M,Ne,q)}).join(K),G=j.fieldsBeingFiltered.map(function(Ee){return N.getQualifiedDisplayName(Ee,O,M,W)}).join(K);if(j.isSubquery&&j.itemCount){d.fF.assert(function(){return 1===T.scopeType&&5===L.howCreated},"Subqueries are expected to be only within section and drillthrough context.");var me=(0,h.WU)(j.itemCount);if(j.orderByField){var re=A&&A.query&&A.query.defn.selectNameOf(j.orderByField),le=N.getDisplayName(j.orderByField,O,M,re,q);he=j.isTop?"FilterRestatement_TopNBy_Drillthrough":"FilterRestatement_BottomNBy_Drillthrough",ee=[me,Y,le],ie=[me,G,le]}}else ee=[Y],ie=[G],he=j.isSubquery?"FilterRestatement_Subquery":"FilterRestatement_Columns";U=v.W.apply(void 0,(0,e.__spreadArray)([I.get(he)],ee||[],!1)),B.tooltip=v.W.apply(void 0,(0,e.__spreadArray)([I.get(he)],ie||[],!1))}}}return B.setRestatement(U),B}function E(L,M,T,O,N,A,I,B){var U=b(L,A);if(U){L.expression||(L.expression=U.field),d.fF.assert(function(){return null==L.type||L.type===l.vA.Categorical||L.type===l.vA.Visual||L.type===l.vA.Advanced},"Filter contract matches FilterType.Advanced, FilterType.Categorical, or FilterType.Visual, but  has differing type property: "+L.type),null==L.type&&(L.filter?L.type=o.l.getFilterType(U.field,U.supportsCategorical):(d.fF.assert(function(){return!L.isTransient},"We assume the FilterContainer isTransient to be false when it reaches here. If it is true, getDefaultFilterType API needs to consider isTransient."),L.type=(0,p.NV)(L.expression,O,L.howCreated))),null==L.type&&(L.type=l.vA.Categorical);var K,ee,W=L.expression,j=new V.hM(L,T,A);return I&&(K=I.query&&I.query.defn.selectNameOf(W),ee=I.columnProperties),j.displayName=y(W,O,N,M,K,ee,T.scopeType),j.tooltip=D(W,O,N,A,M,L.isTransient,L.howCreated),j}}function w(L,M,T,O,N,A,I){if(0===T.scopeType&&5!==L.howCreated){var B=(0,i.J_)(L.filter);return B&&R(L,l.vA.TopN,B.fieldBeingFiltered),g(L,l.vA.TopN,T,O,N,A,M,I)}}function x(L,M,T,O,N,A,I,B,U){var W=function(L){switch(L){case S.wj.Time:return l.vA.RelativeTime;case S.wj.Date:return l.vA.RelativeDate;default:return d.fF.assertFail("Unsupported RelativeFilterType"),null}}(L),j=(0,u.pi)(M.filter,L);if(j){if(j.options&&j.options.anchorDate&&U)return;R(M,W,j.field)}return g(M,W,O,N,A,I,T,B)}function R(L,M,T){d.fF.assert(function(){return null==L.type||L.type===M},"Filter contract matches FilterType."+M+" but has differing type property: "+L.type),L.type=M,L.expression=T}function g(L,M,T,O,N,A,I,B){if(L.type===M&&L.expression){var U=new V.hM(L,T,A),W=B&&B.query?B.query.defn.selectNameOf(L.expression):void 0;return U.displayName=y(L.expression,O,N,I,W,B?B.columnProperties:void 0,T.scopeType),U.tooltip=D(L.expression,O,N,A,I,L.isTransient,L.howCreated),U}}},997726:function(Xe,H,t){t.d(H,{$l:function(){return d},De:function(){return a},H:function(){return f},Il:function(){return x},Kp:function(){return w},Kx:function(){return he},LG:function(){return E},LQ:function(){return s},Ll:function(){return K},Lu:function(){return me},Rz:function(){return i},T9:function(){return S},TY:function(){return r},V1:function(){return W},X:function(){return Y},Y:function(){return G},Y1:function(){return B},Y4:function(){return M},Z0:function(){return m},Zp:function(){return Ne},b4:function(){return A},di:function(){return U},e4:function(){return v},es:function(){return R},f4:function(){return Ee},hz:function(){return c},i$:function(){return q},iR:function(){return ee},jA:function(){return C},jv:function(){return I},k8:function(){return g},mn:function(){return b},ns:function(){return L},oU:function(){return re},ph:function(){return u},rR:function(){return h},tV:function(){return O},ve:function(){return o},xh:function(){return j},yD:function(){return F}});var o="calloutValue",d="categoryAxis",v="categoryLabels",S="conditionalFormatting",h="dataBars",c="dataPoint",r="dropShadow",s="general",u="gradient",i="labels",a="legend",m="personalizeVisual",f="stylePreset",C="totals",b="valueAxis",F="visualTooltip",E="zoom",w="applyToAllPages",x="color",R="dynamicLabelValue",g="flagsSelection",L="innerPadding",M="numericSelection",O="revertToDefault",A="secShow",I="secShowAxisTitle",B="selection",U="show",W="showAxisTitle",j="showDynamicLabels",K="showGradientLegend",ee="slider",he="textarea",q="transparency",Y="x",G="y",me="width",re="height",Ee="allowBinnedLineSample",Ne="allowOverlappingPointsSample"},679705:function(Xe,H,t){t.d(H,{u:function(){return d}});var e=t(973188),l=t(498342),o=t(275179),d=function(){function v(S,h){void 0===h&&(h=!1),this.localizationService=S,this.showIcons=h,this.allCommands=[]}return v.prototype.getItems=function(){return this.menuItems},v.prototype.getCommandByIndex=function(S){return this.allCommands[S]},v.prototype.createItems=function(S){return(0,e.__awaiter)(this,void 0,o.J,function(){var h,c;return(0,e.__generator)(this,function(r){switch(r.label){case 0:return[4,this.createMenuItemsFromCommands(S,h=[])];case 1:return c=r.sent(),_.isEmpty(c)?[2,this.createNoAvailableActionsMenu()]:(this.allCommands=h,[2,{items:c}])}})})},v.prototype.createNoAvailableActionsMenu=function(){var S=[],h=this.localizationService.get("VisualContainer_ContextMenu_NoAvailableActions"),c=this.createMenuItem(null,h,null);return c.disabled=!0,S.push(c),{items:S}},v.prototype.createMenuItemsFromCommands=function(S,h){return void 0===h&&(h=[]),(0,e.__awaiter)(this,void 0,o.J,function(){var c,r,s,u,i,a,n,m,f,V,p;return(0,e.__generator)(this,function(C){switch(C.label){case 0:if(_.isEmpty(S))return[2];c=[],r=0,s=S,C.label=1;case 1:return r<s.length?[4,(u=s[r]).isVisible()]:[3,11];case 2:return C.sent()?(1===u.separatorPosition&&(l.fF.assert(function(){return c.length>0},"There is no point to adding a separator as the first item."),l.fF.assert(function(){return 1!==c[c.length-1].type},"Adjacent separators are not allowed."),p=this.createItemSeparator(),c.push(p)),i=void 0,a=void 0,u.getToolTip?[4,u.getToolTip(this.localizationService)]:[3,4]):[3,10];case 3:a=C.sent(),C.label=4;case 4:return(m=u.isDisabled)?[4,u.isDisabled()]:[3,6];case 5:m=C.sent(),C.label=6;case 6:return(n=m)?[3,9]:[4,u.getChildren()];case 7:return f=C.sent(),[4,this.createMenuItemsFromCommands(f,h)];case 8:i=C.sent(),C.label=9;case 9:h.push(u),V=this.createMenuItem(h.length-1,u.title(this.localizationService),n,i,u.glyph,u.selected,u.customIcon,a),c.push(V),2===u.separatorPosition&&(p=this.createItemSeparator(),c.push(p)),C.label=10;case 10:return r++,[3,1];case 11:return[2,c]}})})},v.prototype.createMenuItem=function(S,h,c,r,s,u,i,a){return{type:0,key:S,text:h,children:r,icon:s,selected:u,customIcon:i,showIcon:this.showIcons,disabled:c,tooltip:a}},v.prototype.createItemSeparator=function(){return{type:1,checked:!1}},v}()},696079:function(Xe,H,t){t.d(H,{$j:function(){return D},BB:function(){return r},Co:function(){return E},D5:function(){return h},Dw:function(){return s},K5:function(){return n},LQ:function(){return u},U2:function(){return V},VA:function(){return w},W1:function(){return S},X5:function(){return f},Y9:function(){return a},Yb:function(){return m},aW:function(){return R},hu:function(){return c},jk:function(){return F},kV:function(){return x},qD:function(){return y},v0:function(){return l},xk:function(){return i}});var l="trustedVisualConsentStateChanged",S=9,h=20,c=10,r=20,s=30,u=300,i=300,a=150,n=150,m=500,f=15,V={x:1,y:1},y=8,D=50,F=558,E=324,w=18,x=180,R=3600},245517:function(Xe,H,t){t.d(H,{H$:function(){return f},MY:function(){return r},Vk:function(){return i},Yk:function(){return v},aV:function(){return m},gI:function(){return s},hH:function(){return c},m$:function(){return h},oD:function(){return n},oS:function(){return u},uH:function(){return a}});var e=t(454084),l=t(915382),o=t(365358),d=t(498342);function v(V,p){var C=(0,e.yG)(p),b=(0,e.yG)(V);d.fF.assert(function(){return C.length===b.length},"permanent section count is out of sync");for(var y=C.length-1;y>=0;y--){var D=C[y],P=b[y];D.id=P.id,D.objectId=P.objectId,S(D.visualContainerGroups,P.visualContainerGroups)}}function S(V,p){for(var C=function(D){var P=V[D],F=p[D];P.id=F.id,d.fF.assert(function(){return(0,l.q4)(P)===(0,l.q4)(F)},"visualContainerGroups items must be in sync"),(0,l.q4)(P)&&(0,l.q4)(F)&&S(P.children,F.children)},b=V.length-1;b>=0;b--)C(b)}function h(V,p){if(V&&V.sections){var b=_.findIndex(V.sections,function(y){return y.name===p});if(-1!==b)return b}}function c(V,p){var C;return p&&(C=h(V,p)),null==C&&_.isNumber(V.activeSectionIndex)&&(C=V.activeSectionIndex),(null==C||!_.inRange(C,0,V.sections.length))&&(C=0),C}function r(V,p){return V&&V.sections?_.findIndex(V.sections,function(y){return y===p}):-1}function s(V,p){return V&&V.sections?(0,o.Jq)(V.sections,p):null}function u(V,p){return V&&V.sections?_.findIndex(V.sections,function(y){return y.id===p}):-1}function i(V,p){for(var C=1,b=p.format("Explore_Section_Page",[C.toFixed()]);_.findLastIndex(V,function(y){return y.displayName===b})>=0;)b=p.format("Explore_Section_Page",[(++C).toFixed()]);return b}function a(V,p){for(var b=0,y=V.sections;b<y.length;b++){var D=y[b];D.displayName||(D.displayName=i(V.sections,p))}}function n(V){return _.filter(V,function(p){return!m(p)})}function m(V){return!!(1&V.visibility)}function f(V){return!!(1&V.type)}},297219:function(Xe,H,t){t.d(H,{$o:function(){return o},Y6:function(){return v},u3:function(){return d}});var e=t(758205),l=t(88590);function o(i,a,n){i.addEventListener("drop",function(m){var f=v(m);f&&a(m,f,S(i,m))}),i.addEventListener("dragover",function(m){(function(i){return!function(i){return i.dataTransfer.types.includes("buildfieldwell")}(i)})(m)&&(n&&function(i,a){switch(a){case 0:c(i.previousElementSibling,l.Hq.class),c(i,l.Hq.class),c(i.nextElementSibling,l.Hq.class);break;case 2:c(i.previousElementSibling,l.at.class),c(i,l._r.class),c(i.nextElementSibling,l.Hq.class);break;case 3:c(i.previousElementSibling,l.Hq.class),c(i,l.at.class),c(i.nextElementSibling,l._r.class);break;case 1:c(i.previousElementSibling,l.Hq.class),c(i,l.BN.class),c(i.nextElementSibling,l.Hq.class);break;default:r(i)}}(i,n(S(i,m))),m.preventDefault())}),n&&(i.addEventListener("dragleave",function(){return r(i)}),i.addEventListener("dragexit",function(){return r(i)}),i.addEventListener("dragend",function(){return r(i)}))}function d(i){i.removeAllListeners("drop"),i.removeAllListeners("dragover"),i.removeAllListeners("dragleave"),i.removeAllListeners("dragexit"),i.removeAllListeners("dragend")}function v(i,a){void 0===a&&(a=!0),a&&(i.stopPropagation(),i.preventDefault());var n=i.dataTransfer.getData("pbi-tree-node");if(n){var m=JSON.parse(n).fieldExpr;if(m)return e.ib.deserializeExpr(m)}}function S(i,a){var n=i.getBoundingClientRect(),m=0;return(m|=n.top+n.height/2>a.pageY?1:4)|(n.left+n.width/2>a.pageX?8:2)}function c(i,a){!i||i.classList.contains(a)||(i.classList.remove(l.at.class),i.classList.remove(l.Hq.class),i.classList.remove(l._r.class),i.classList.remove(l.BN.class),i.classList.add(a))}function r(i){c(i.previousElementSibling,l.Hq.class),c(i,l.Hq.class),c(i.nextElementSibling,l.Hq.class)}},184651:function(Xe,H,t){t.d(H,{K:function(){return l}});var e=t(973188);function l(o,d){var v=function(c){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return d.run(c,o,r)},S={getLocalizedString:function(c){for(var r=[],s=1;s<arguments.length;s++)r[s-1]=arguments[s];return o.getLocalizedString.apply(o,(0,e.__spreadArray)([c],r||[],!1))},tooltips:function(){return o.tooltips()},getSectionsMetadata$:function(){return o.getSectionsMetadata$()},getBookmarksMetadata$:function(){return o.getBookmarksMetadata$()},getSubSelectionService:function(){return o.getSubSelectionService()},alertScreenReader:function(c){return v(o.alertScreenReader,c)},alertWithDebounce:function(c,r){return v(o.alertWithDebounce,c,r)},requestFocus:function(c){return v(o.requestFocus,c)},onDragStart:function(c){return v(o.onDragStart,c)},getVisualLinkProperties:function(){return v(o.getVisualLinkProperties)},canSelect:function(c){return v(o.canSelect,c)},onSelecting:function(c){return v(o.onSelecting,c)},onSelect:function(c){return v(o.onSelect,c)},onSwitchFocusModeState:function(c){return v(o.onSwitchFocusModeState,c)},canExpandCollapse:function(c){return v(o.canExpandCollapse,c)},setNodeExpansionState:function(c){return v(o.setNodeExpansionState,c)},setLevelExpansionState:function(c){return v(o.setLevelExpansionState,c)},onContextMenu:function(c){return v(o.onContextMenu,c)},loadMoreData:function(){return v(o.loadMoreData)},loadWindow:function(c){return v(o.loadWindow,c)},setShouldDeferData:function(c){return v(o.setShouldDeferData,c)},persistProperties:function(c,r){return v(o.persistProperties,c,r)},onCustomSort:function(c){return v(o.onCustomSort,c)},getViewMode:function(){return v(o.getViewMode)},getEditMode:function(){return v(o.getEditMode)},setWarnings:function(c){return v(o.setWarnings,c)},getWarnings$:function(){return v(o.getWarnings$)},setToolbar:function(c,r){return v(o.setToolbar,c,r)},shouldRetainSelection:function(){return v(o.shouldRetainSelection)},geocoder:function(){return v(o.geocoder)},geolocation:function(){return v(o.geolocation)},locale:function(){return v(o.locale)},promiseFactory:function(){return v(o.promiseFactory)},ignoreDefaultFilter:function(){return v(o.ignoreDefaultFilter)},getIdentityDisplayNames:function(c){return v(o.getIdentityDisplayNames,c)},setIdentityDisplayNames:function(c){return v(o.setIdentityDisplayNames,c)},dropdown:function(){return v(o.dropdown)},telemetry:function(){return v(o.telemetry)},authenticationService:function(){return v(o.authenticationService)},localStorageService:function(){return v(o.localStorageService)},eventService:function(){return v(o.eventService)},licenseManagerService:function(){return v(o.licenseManagerService)},loader:function(){return v(o.loader)},getUIComponentFactory:function(){return v(o.getUIComponentFactory)},applyJsonFilter:function(c,r,s,u){return v(o.applyJsonFilter,c,r,s,u)},applyIdentityFilter:function(c,r,s,u){return v(o.applyIdentityFilter,c,r,s,u)},launchUrl:function(c){return v(o.launchUrl,c)},instanceId:o.instanceId,refreshHostData:function(){return v(o.refreshHostData)},decompositionService:function(){return v(o.decompositionService)},getJSONFilter:function(c,r){return v(o.getJSONFilter,c,r)},visualCapabilitiesChanged:function(){return v(o.visualCapabilitiesChanged)},onHyperlinkClick:function(c,r){return v(o.onHyperlinkClick,c,r)},visualTimeSynchronization:function(){return v(o.visualTimeSynchronization)},setFilterExpressionMetadata:function(c){return v(o.setFilterExpressionMetadata,c)},getFilterExpressionMetadata:function(){return v(o.getFilterExpressionMetadata)},isVisualEnabled:function(){return v(o.isVisualEnabled)},dataMultiSelectMode:function(){return v(o.dataMultiSelectMode)},networkAvailability:function(){return v(o.networkAvailability)},downloadService:function(){return v(o.downloadService)},setAriaMetadata:function(c){return v(o.setAriaMetadata,c)},artifactService:function(){return v(o.artifactService)},onNotifyLicense:function(c){return v(o.onNotifyLicense,c)},onClearLicenseNotification:function(){return v(o.onClearLicenseNotification)},onNotifyFeatureBlocked:function(c){return v(o.onNotifyFeatureBlocked,c)},webAccessService:function(){return v(o.webAccessService)},drill:function(c){return v(o.drill,c)},getAzureMapToken:function(){return v(o.getAzureMapToken)},acquireAADTokenService:function(){return o.acquireAADTokenService()},localStorageV2Service:function(){return o.localStorageV2Service()},aiNarrativesService:function(){return v(o.aiNarrativesService)},azureMapsEndpoint:function(){return o.azureMapsEndpoint()},geocoderIndexedDB:function(){return o.geocoderIndexedDB()},triggerUpdate:function(){return v(o.triggerUpdate)},isScreenshotWorkload:function(){return o.isScreenshotWorkload()},setCanDrill:function(c){return v(o.setCanDrill,c)},dateTimeFormatService:function(){return o.dateTimeFormatService()},visualExportService:function(){return v(o.visualExportService)},visualHostSubSelectionService:function(){return o.visualHostSubSelectionService()}};return o.isSelected&&o.isSelected$&&(S.isSelected=function(){return o.isSelected()},S.isSelected$=function(){return o.isSelected$()}),S}},859137:function(Xe,H,t){t.d(H,{v:function(){return S}});var e=t(973188),l=t(497141),o=t(498342),d=t(686311),S=function(h){function c(r,s,u){var i=h.call(this)||this;return i.schema=r,i.displayName=s,i.metadata=u,i.dataPoints=[],i.isExclude=!1,i}return(0,e.__extends)(c,h),c.prototype.visitNot=function(r){this.isExclude=!0,r.arg.accept(this)},c.prototype.visitOr=function(r){r.left.accept(this),r.right.accept(this)},c.prototype.visitIn=function(r){var s,u=this;if(!_.isEmpty(r.values)){for(var i=[],a=r.args,n=_.map(a,function(b){return u.displayName.getDisplayName(b,u.schema,null,null,null,{includeVariationSource:!0})}),m=function(y){o.fF.assert(function(){return a.length===y.length},"Columns can't be different from values");var D=n,P=_.map(y,function(E){return E.value}),F=l.l.findValuesInFilterCache(a,y,f.metadata);F&&(D=_.map(F.columns,function(E){return u.displayName.getDisplayName(E,u.schema,null,null,null,{includeVariationSource:!0})}),P=F.values),i.push({columns:a,values:y,text:c.getDataPointText(D,P)})},f=this,V=0,p=r.values;V<p.length;V++)m(p[V]);(s=this.dataPoints).push.apply(s,i||[])}},c.getDataPointText=function(r,s){var u="";o.fF.assert(function(){return r.length>0},"getDataPointText columns cant be empty"),o.fF.assert(function(){return r.length===s.length},"getDataPointText columns and values should have the same length");for(var i=0;i<r.length;i++){var n=r[i];u+=(0,d.WU)(s[i])+" ("+n+") + "}return u.slice(0,u.length-3)},c}(t(960514).vq)},692696:function(Xe,H,t){t.d(H,{V:function(){return d}});var e=t(973188),l=t(498342),o=t(275179),d=function(){function v(S,h,c,r,s,u,i){this.defaultTitleKey=S,this.selectors=h,this.glyph=c,this.commandDisplayOption=r,this.selected=s,this.customIcon=u,this.separatorPosition=i,l.fF.assert(function(){return _.isEmpty(h)||!_.some(h,function(a){return _.isEmpty(a)})}),this.selectors=_.compact(h)}return v.prototype.title=function(S){return S&&this.defaultTitleKey?S.get(this.defaultTitleKey):this.defaultTitleKey},v.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,o.J,function(){return(0,e.__generator)(this,function(S){return[2]})})},v.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,o.J,function(){return(0,e.__generator)(this,function(S){return[2,2!==this.commandDisplayOption]})})},v.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,o.J,function(){return(0,e.__generator)(this,function(S){return[2,1===this.commandDisplayOption]})})},v.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,o.J,function(){return(0,e.__generator)(this,function(S){return[2,null]})})},v.prototype.getTelemetryInfo=function(){return this.defaultTitleKey},v.prototype.announceSelectionState=function(S,h){if(S){var c=S.getLocalizedString(this.getSelectionStateStringKey(h));S.alertScreenReader(c)}},v.prototype.getSelectionStateStringKey=function(S){return S?"FieldListProperty_Selected":"FieldListProperty_Unselected"},v}()},619976:function(Xe,H,t){t.d(H,{V:function(){return s}});var e=t(316714),l=t(915382),o=t(715770),d=t(306018),v=t(134052),S=t(498342),h=t(35734),c=t(620581),r=t(148776);function s(i,a,n,m,f,V,p,C,b,y,D){return new u(i,a,m,f,V,p,C,b,y,D)}var u=function(){function i(a,n,m,f,V,p,C,b,y,D){this.clipboardService=a,this.selectionService=n,this.viewModeState=m,this.undoRedoService=f,this.visualAuthoring=V,this.eventBridge=p,this.visibilityService=C,this.formFactor=b,this.layoutAuthoring=y,this.telemetryService=D,S.fF.assertValue(a,"clipboard"),S.fF.assertValue(n,"selection"),S.fF.assertValue(m,"viewModeState"),S.fF.assertValue(f,"undoRedoService"),S.fF.assertValue(V,"visualAuthoring"),S.fF.assertValue(C,"visibilityService"),this.debouncedLogScanKeyEvent=_.debounce(this.logScanKeyEvent,i.DebounceWait)}return i.prototype.getVisualInteractivityDisabled=function(){return this.visualInteractivityDisabled},i.prototype.setVisualInteractivityDisabled=function(a){this.visualInteractivityDisabled=!!a},i.prototype.onKeyDown=function(a,n){if(this.debouncedLogScanKeyEvent(a),this.isSaveEvent(a))return this.onSave(),this.preventStopAndReturnFalse(a);if(this.isClearEvent(a))return this.onClear(),this.preventStopAndReturnFalse(a);if(this.isMatrixViewEvent(a))return this.onMatrixViewEvent(),this.preventStopAndReturnFalse(a);var m=this.formFactor.getCurrentLayoutCapabilities();if(0===this.viewModeState.getMode())return m.canPassUnhandledKeysToSelectedVisual()?this.allowSelectedVisualContainerToHandle(a,n):void 0;if(this.isDeleteEvent(a)&&!this.isFocusedOnTextElement()&&!this.visibilityService.get())return m.canRemoveVisualFromLayout()?this.onRemoveFromLayout(a,n):m.canDelete()&&this.onDelete(a,n),this.preventStopAndReturnFalse(a);var f=a.which;if(this.isCtrlOrMeta(a)&&!this.isFocusedOnTextElement()){var V=!_.isEmpty(this.selectionService.getSelectedElements());switch(f){case 65:return this.onSelectAll(a,n),this.preventStopAndReturnFalse(a);case 67:return!m.canCutCopyPaste()||!V||(this.onCopy(a),this.preventStopAndReturnFalse(a));case 88:return!m.canCutCopyPaste()||!V||(this.onCut(a),this.preventStopAndReturnFalse(a));case 86:return m.canCutCopyPaste()&&this.onPaste(a),this.preventStopAndReturnFalse(a);case 89:return this.onRedo(),this.preventStopAndReturnFalse(a);case 90:return this.onUndo(),this.preventStopAndReturnFalse(a);case 191:return this.onShowQna(),this.preventStopAndReturnFalse(a);case 40:return!a.shiftKey||(this.onApplyAllSlicers(),this.preventStopAndReturnFalse(a));case 71:return a.shiftKey?this.onUnGroup():this.onGroup(),this.preventStopAndReturnFalse(a);case 77:return this.onMergeGroup(),this.preventStopAndReturnFalse(a)}}return m.canPassUnhandledKeysToSelectedVisual()?this.allowSelectedVisualContainerToHandle(a,n):void 0},i.prototype.logScanKeyEvent=function(a){0===this.viewModeState.getMode()&&!this.isFocusedOnTextElement()&&!a.ctrlKey&&!a.metaKey&&!a.altKey&&_.includes(h.wx,a.keyCode)&&this.telemetryService.logEvent(c.K2L)},i.prototype.isFocusedOnTextElement=function(){var a=document.activeElement;return v.M.isElementContentEditable(a)||v.M.isTextElement(a)},i.prototype.allowSelectedVisualContainerToHandle=function(a,n){if(!this.visualInteractivityDisabled&&(0,e.y)(".visualContainer")){var m=d.UP.getSelectedVisual(this.selectionService);if(m){var f=(0,r.FK)(n.visualContainers,m);if(f)return f.handleKeyDown(a)}}},i.prototype.preventStopAndReturnFalse=function(a){return a&&(a.preventDefault(),a.stopPropagation()),!1},i.prototype.onApplyAllSlicers=function(){this.eventBridge.publishToChannel(o.FRm)},i.prototype.onUndo=function(){this.undoRedoService.undo()},i.prototype.onRedo=function(){this.undoRedoService.redo()},i.prototype.onCopy=function(a){this.canCopyOrCut()&&this.clipboardService.copy()},i.prototype.onCut=function(a){this.canCopyOrCut()&&this.clipboardService.cut()},i.prototype.onPaste=function(a){this.clipboardService.paste()},i.prototype.onRemoveFromLayout=function(a,n){this.layoutAuthoring.removeLayoutFromSelectedVisuals(n)},i.prototype.onDelete=function(a,n){var m=this;this.undoRedoService.register("CanvasKeyDelete",function(){m.visualAuthoring.deleteSelectedVisuals(n)})},i.prototype.onSelectAll=function(a,n){var m;m=n.visualContainerGroups?_.map(n.visualContainerGroups,function(f){return f.contract}):_.map(n.visualContainers,function(f){return f.contract}),d.UP.selectCanvasItems(m,this.selectionService)},i.prototype.onSave=function(){this.eventBridge.publishToChannel(o._$U)},i.prototype.onClear=function(){this.eventBridge.publishToChannel(o.Wqo)},i.prototype.onShowQna=function(){this.eventBridge.publishToChannel(o.j3G,{creationSource:7})},i.prototype.onGroup=function(){this.layoutAuthoring.groupCanvasItems(d.UP.getSelectedCanvasItems(this.selectionService))},i.prototype.onUnGroup=function(){var a=this,n=d.UP.getSelectedCanvasItems(this.selectionService);_.forEach(n,function(m){var f=(0,l.q4)(m)?m:m.parentGroup;f&&a.layoutAuthoring.ungroupCanvasItems(f)})},i.prototype.onMergeGroup=function(){this.layoutAuthoring.canMergeCanvasItems()&&this.layoutAuthoring.mergeCanvasItemContainers(d.UP.getSelectedCanvasItems(this.selectionService))},i.prototype.onMatrixViewEvent=function(){this.viewModeState.canEnterMatrixView()?this.viewModeState.enterMatrixView():this.viewModeState.canExitMatrixView()&&this.viewModeState.exitMatrixView()},i.prototype.isSaveEvent=function(a){return this.isOnlyCtrlOrMeta(a)&&83===a.which},i.prototype.isDeleteEvent=function(a){return!a.ctrlKey&&46===a.which},i.prototype.canCopyOrCut=function(){return!this.visibilityService.get()},i.prototype.isClearEvent=function(a){return a.altKey&&a.shiftKey&&82===a.which},i.prototype.isMatrixViewEvent=function(a){return this.isCtrlOrMeta(a)&&a.shiftKey&&122===a.which},i.prototype.isCtrlOrMeta=function(a){var n=a.ctrlKey,m=a.metaKey;return a&&(n&&!m||!n&&m)},i.prototype.isOnlyCtrlOrMeta=function(a){return this.isCtrlOrMeta(a)&&!a.altKey&&!a.shiftKey},i.DebounceWait=100,i}()},205303:function(Xe,H,t){t.d(H,{o:function(){return l}});var e=t(715770);function l(d,v,S,h,c,r,s){return new o(d,v,h,c,r,s)}var o=function(){function d(v,S,h,c,r,s){this.eventBridge=v,this.explorationNavigation=S,this.formFactorProvider=h,this.visibility=c,this.viewModeState=r,this.overlayService=s,this.displayAreaScale=1,this.wallpaperScale=1}return d.prototype.setDisplayAreaScaleFactor=function(v){this.displayAreaScale=v,this.eventBridge.publishToChannel(e.JXP,v)},d.prototype.setWallpaperScaleFactor=function(v){this.wallpaperScale=v},d.prototype.getDisplayAreaScaleFactor=function(){return this.displayAreaScale},d.prototype.getWallpaperScaleFactor=function(){return this.wallpaperScale},d.prototype.getDisplayOption=function(){if(1===this.formFactorProvider.getCurrentLayout()&&1===this.viewModeState.getMode()||null!=this.canvasZoom)return 3;if(this.visibility.get())return 0;if(null!=this.overrideDisplayOption)return this.overrideDisplayOption;var h=this.explorationNavigation.getCurrentSection();return h?h.size.displayOption:void 0},d.prototype.setDisplayOption=function(v){var S=this.explorationNavigation.getCurrentSection();S&&(this.canvasZoom=void 0,this.overlayService.hideAllDropdowns(),S.size.displayOption=v)},d.prototype.setCanvasZoom=function(v){this.overlayService.hideAllDropdowns(),this.canvasZoom=v},d.prototype.getCanvasZoom=function(){return this.canvasZoom},d}()},380551:function(Xe,H,t){t.d(H,{V:function(){return a}});var e=t(979868),l=t(715770),o=t(306018),d=t(497141),v=t(480819),S=t(927903),h=t(365358),c=t(498342),r=t(382088),s=t(273269),i=(t(512322),t(245517));function a(){var n=d.l,m=o.UP,V=r.b$,p=function(){function b(y,D,P,F,E){this.sourceSection=y,this.sourceVisualContainer=D,this.targetSection=P,this.targetVisualContainer=F,this.navigationState=E}return b.prototype.toSnapshot=function(y){var D=this;if(y.getCurrentSection()===this.targetSection){var P=y.getCurrentExploration(),F=(0,i.MY)(P,this.sourceSection),E=(0,i.MY)(P,this.targetSection);return{sourceSectionIndex:F,sourceVisualIndex:_.findIndex(this.sourceSection.visualContainers,function(R){return R===D.sourceVisualContainer}),targetSectionIndex:E,targetVisualIndex:_.findIndex(this.targetSection.visualContainers,function(R){return R===D.targetVisualContainer})}}},b.fromSnapshot=function(y,D){if(y){var P=D.getCurrentExploration(),F=P.sections[y.sourceSectionIndex],E=F.visualContainers[y.sourceVisualIndex],w=P.sections[y.targetSectionIndex],x=w.visualContainers[y.targetVisualIndex];return c.fF.assertValue(F,"sourceSection"),c.fF.assertValue(E,"sourceVisual"),c.fF.assertValue(w,"targetSection"),c.fF.assertValue(x,"targetVisual"),c.fF.assert(function(){return D.getCurrentSection()===w},"expected to be on the drill to details section"),new b(F,E,w,x,0)}},b}(),C=function(){function b(y,D,P,F,E,w,x,R,g,L){var M=this;this.conceptualSchemaProxy=y,this.visualAuthoringOperations=D,this.undoRedo=P,this.selectionService=F,this.explorationNavigationService=E,this.explorationSerializer=w,this.visibility=x,this.eventBridge=R,this.filterGenerator=g,this.visualPluginService=L,this.eventBridge.createChannelSubscriptionManager().subscribe(l.wAN,function(){return M.onSectionChanged()}).subscribe(l.y5h,function(){return M.onPopOutModeChanged()}).subscribe(l.SVs,function(T,O){return M.clearContext()})}return b.prototype.drillToDetails=function(y,D,P){var F=this;if(!_.isEmpty(y)){var E=_.head(y);if(E&&!_.isEmpty(E.metadata)){var w=(0,S.Xf)(D);if(w&&w.defn){if(_.isEmpty(E.dataMap)){if(!w.projections)return;var x=(0,S.d$)(D,this.visualPluginService),R=_(x).filter(function(M){return M.kind!==s.DW.Measure}).map(function(M){return M.name}).value();for(var g in w.projections)if(!_.isEmpty(w.projections[g])&&_.includes(R,g))return}var L=w.defn.select().withName(_.head(E.metadata));!L||!(0,e.iV)(L.expr)||this.conceptualSchemaProxy.get(P).then(function(M){var T=F.visualAuthoringOperations.drillToDetails(V.generateGuid(),M,[L.expr],y,D);T&&(F.addCrossFilters(D,F.explorationNavigationService.getCurrentSection(),T,!1,M),F.drillToDetailsCore(y,D,T))},function(){return _.noop})}}}},b.prototype.generateDetailsTable=function(y,D,P,F){var E=this.mockVisualContainer(y),w=this.visualAuthoringOperations.drillToDetails(V.generateGuid(),D,P,null,E,F);if(w)return w.config.singleVisual},b.prototype.clear=function(){var y=this;if(this.drillToDetailsContext){c.fF.assert(function(){return 0===y.drillToDetailsContext.navigationState},"expected to be in show details mode"),this.drillToDetailsContext.navigationState=1;var D=(0,i.MY)(this.explorationNavigationService.getCurrentExploration(),this.drillToDetailsContext.sourceSection);c.fF.assert(function(){return D>=0},"source section not found"),this.eventBridge.publishToChannel(l.$4A,{index:D})}},b.prototype.getContext=function(){return this.drillToDetailsContext},b.prototype.setContext=function(y){var D=this;c.fF.assert(function(){return null!=y},"attempting to set a null context for drill to details service"),c.fF.assert(function(){return null==D.drillToDetailsContext},"overriding existing drill to details context"),c.fF.assert(function(){return 0===y.navigationState},"drill to details state can only be restored for showing the detail visual"),this.drillToDetailsContext=y},b.prototype.clearContext=function(){this.drillToDetailsContext=null},b.prototype.hasContext=function(){return!!this.drillToDetailsContext},b.prototype.getDetailsTableTargetMeasures=function(y){var D=this.mockVisualContainer(y),P=(0,S.Xf)(D);if(P&&P.defn){var F=(0,S.d$)(D,this.visualPluginService);if(!_.isEmpty(F)){for(var w=[],x=0,R=_(F).filter(function(I){return(I.kind===s.DW.Measure||I.kind===s.DW.GroupingOrMeasure)&&0!==I.joinPredicate}).map(function(I){return I.name}).value();x<R.length;x++){var L=P.projections[R[x]];if(!_.isEmpty(L))for(var T=0,O=L.all();T<O.length;T++){var N=O[T],A=P.defn.select().withName(N.queryRef);if(A&&(0,e.iV)(A.expr))return[A.expr];A&&(0,e.kb)(A.expr)&&w.push(A.expr)}}return w}}},b.prototype.mockVisualContainer=function(y){var D={name:V.generateGuid(),config:{singleVisual:y},layouts:(0,h.UR)(),filters:[]};return D.layouts.push({id:0,position:{x:0,y:0,width:0,height:0}}),D},b.prototype.onSectionChanged=function(){var y=this;if(this.drillToDetailsContext){var D=this.explorationNavigationService.getCurrentSection();switch(c.fF.assert(function(){return null!=D},"currentSection"),this.drillToDetailsContext.navigationState){case 0:c.fF.assert(function(){return D===y.drillToDetailsContext.targetSection},"expected to navigate to target section"),window.setTimeout(function(){m.selectCanvasItem(y.drillToDetailsContext.targetVisualContainer,y.selectionService),y.visibility.set(y.drillToDetailsContext.targetVisualContainer,1)},0);break;case 1:c.fF.assert(function(){return D===y.drillToDetailsContext.sourceSection},"expected to navigate to source section");var P=this.explorationNavigationService.getCurrentExploration(),F=(0,i.MY)(P,this.drillToDetailsContext.targetSection);c.fF.assert(function(){return F>=0},"target section not found");var E=(0,i.MY)(P,this.drillToDetailsContext.sourceSection),w=this.drillToDetailsContext.sourceVisualContainer;this.drillToDetailsContext=null,this.eventBridge.publishToChannel(l.F$x,{targetSectionIndex:F}),window.setTimeout(function(){(0,i.MY)(y.explorationNavigationService.getCurrentExploration(),y.explorationNavigationService.getCurrentSection())===E&&m.selectCanvasItem(w,y.selectionService),y.undoRedo.clear()},0);break;default:c.fF.assertFail("unknown drill to details navigationState")}}},b.prototype.onPopOutModeChanged=function(){var y=this;if(this.drillToDetailsContext){var D=this.explorationNavigationService.getCurrentSection();c.fF.assert(function(){return null!=D},"currentSection"),D!==this.drillToDetailsContext.sourceSection&&(c.fF.assert(function(){return D===y.drillToDetailsContext.targetSection},"expected to be on target section"),this.visibility.get()!==this.drillToDetailsContext.targetVisualContainer&&this.clear())}},b.prototype.drillToDetailsCore=function(y,D,P){var F=this.explorationNavigationService.getCurrentSection();if(F){var E=this.explorationNavigationService.getAllSections(),w=this.explorationSerializer.serializePage(F,1),x=this.explorationSerializer.deserializePage(w),R={name:"Drill to Details",displayName:"Drill to Details",filters:x.filters,size:x.size,visualContainers:[P],visualContainerGroups:[P],transient:!0};(0,v.gs)(R,E),this.drillToDetailsContext=new p(F,D,R,P,0),this.eventBridge.publishToChannel(l.x1m,R)}},b.prototype.addCrossFilters=function(y,D,P,F,E){var w=this.filterGenerator.getVisualContainerCrossFilters(D,y,E);if(w.dataFilters)for(var x=0,R=w.dataFilters;x<R.length;x++)this.addVisualFilters(P,R[x],E,!1);if(F){c.fF.assertValue(w.highlightFilters,"highlight filter");for(var L=0,M=w.highlightFilters;L<M.length;L++)this.addVisualFilters(P,M[L],E,!1)}},b.prototype.addVisualFilters=function(y,D,P,F){if(D&&D.filter){var E=n.convertFilterData(D,y.filters,0);n.add(y,E)}},b}();return{create:function(y,D,P,F,E,w,x,R,g,L){return new C(y,L,F,E,w,D,x,R,g,P)},createContext:function(y,D,P,F,E){return new p(y,D,P,F,E)},snapshotToContext:p.fromSnapshot}}},693996:function(Xe,H,t){t.d(H,{Bo:function(){return d},nR:function(){return l},o4:function(){return e},q7:function(){return o}});var e={type:2,name:"visualCustomCommand"},l={type:2,name:"preparePersonalVisuals"},o={type:2,name:"copyVisualAsImage"},d={type:2,name:"VisualContainerAdded"}},873233:function(Xe,H,t){function e(o,d){return new l(o,d)}t.d(H,{L:function(){return e}});var l=function(){function o(d,v){var S=!v||v.featureSwitches.contentAuthoringUIEnabled,h=!!d&&!!d.isGuestUser,r=h&&!(v&&v.featureSwitches.elevatedGuestsTenantEnabled),s=!(!d||void 0===d.userLicense)&&"Free"===d.userLicense();this.options={shouldSetFocus:!v||!v.featureSwitches.globalSkipToMainContent,showAppBar:!0,showStatusBar:!1,showTaskPane:!0,showVisualizationPane:!0,showNavContentPane:!0,visualContainerOptions:{showMenu:!0,showPin:!0,showContextMenu:!0,disablePin:r||!S,disableQueryCacheUpdates:!1},showBackButtonOnAppBar:!1,disablePin:r||!S,disableSharePointEmbed:h,disableSecurePublishToWeb:h||!S,disableQRGeneration:h,disableSaveAs:r||s,disableSwitchMode:r||!S,disableAnalyzeInExcel:h,expandTaskPane:!0,expandVisualizationPane:!0,allowVisualContainerPreload:!1,allowNewLoadingExperience:!1,persistentUserStateEnabled:!1,persistentUserStateThrottlingEnabled:!1,defaultPersonalBookmarkEnabled:!1,disableEditVariables:!0,disableChangeDetectionDialog:!0,showCopyVisualImageButton:!1,allowVisualRecommendations:!!v&&v.featureSwitches.onObject}}return o.prototype.setCapabilities=function(d){_.merge(this.options,d)},o.prototype.getCapabilities=function(){return this.options},o}()},472579:function(Xe,H,t){t.d(H,{D:function(){return s}});var e=t(715770),l=t(927903),o=t(425335),d=t(346162),v=t(498342),S=t(245517),h=t(620581),c=t(443759),r={updateUrl:!0,action:e.UBn.Unknown};function s(i,a,n,m,f,V,p,C){return new u(i,a,n,m,f,V,p,C)}var u=function(){function i(a,n,m,f,V,p,C,b){this.contextActivityService=a,this.eventBridge=n,this.selection=m,this.formFactor=f,this.telemetryService=V,this.explorationActivity=p,this.sectionsSubject=C,this.currentSectionSubject=b,v.fF.assertValue(n,"eventBridge"),v.fF.assertValue(m,"selection"),v.fF.assertValue(f,"formFactor"),this.history=[],this.sections$=C.asObservable(),this.currentSection$=b.asObservable(),p.registerExplorationNavigationService(this)}return i.prototype.registerExplorationViewModel=function(a){this.getViewModel=a},i.prototype.updateActiveSection=function(a){var n=this,m=this.getViewModel();v.fF.assertValue(m,"explorationContainer viewModel has not been initialized in explorationNavigationService");var f=m.exploration.contract;if(v.fF.assertValue(f,"exploration"),v.fF.assert(function(){return a.targetSectionIndex>=0&&a.targetSectionIndex<f.sections.length},"targetSectionIndex is out of range."),a.forceUpdate||f.activeSectionIndex!==a.targetSectionIndex){var V=null==a.clearSelection||a.clearSelection,p=a.targetSectionIndex>-1&&a.targetSectionIndex<f.sections.length,C=this.exploration.sections[a.targetSectionIndex],b=C.objectId,y=C.displayName;if(this.contextActivityService.upsertExplorationProperties({reportPageId:b,reportPageName:y}),a.parentContextActivity&&a.parentContextActivity.isRunning()&&(a.parentContextActivity.setProperty("reportPageId",b),a.parentContextActivity.setProperty("reportPageName",y)),this.changeReportPageActivity&&this.changeReportPageActivity.isRunning()&&this.changeReportPageActivity.cancel(),!this.changeReportPageActivity||!this.changeReportPageActivity.isRunning()){var D={name:"Change Report Page"};this.changeReportPageActivity=a.parentContextActivity?(0,o.zK)(a.parentContextActivity)&&a.parentContextActivity.isRunning()?a.parentContextActivity.createChildActivity(D):a.parentContextActivity:this.contextActivityService.createActivity(D)}var P=(0,l.a8)(C),F=Object.keys(P).reduce(function(E,w){return"__hidden"!==w?E+P[w]:E},0);this.changeReportPageActivity.isRunning()&&(this.changeReportPageActivity.setProperty("visualTypesAndCount",JSON.stringify(P)),this.changeReportPageActivity.setProperty("totalVisibleVisualCount",F)),a.parentContextActivity&&a.parentContextActivity.isRunning()&&(a.parentContextActivity.setProperty("visualTypesAndCount",JSON.stringify(P)),a.parentContextActivity.setProperty("totalVisibleVisualCount",F)),this.explorationActivity.changeSection(function(E){var w=n.getCurrentSection();if(a.suppressHistory||w&&!w.transient&&n.history.push({name:w.name}),p){n.selection&&!1!==V&&!_.isEmpty(n.selection.getSelectedElements())&&n.selection.clearSelection();var x=m.exploration.sections;if(!_.isEmpty(x))for(var R=x.length-1;R>=0;--R)x[R].selected=R===a.targetSectionIndex;m.sectionStatus.currentSectionNumber=a.targetSectionIndex;var g=f.sections[a.targetSectionIndex],L=null!=a.canvasLayout?a.canvasLayout:n.formFactor.getCurrentLayout();if(m.exploration.exploreCanvas=(0,c.T8)(f,g,L,a.currentZone),(null==a.clearCrossFilter||a.clearCrossFilter)&&w&&w.crossFilterSource&&(w.crossFilterSource.highlight=void 0),g){var T=E.event.info;T.width=g.size.width,T.height=g.size.height,T.displayOption=g.size.displayOption}n.goto(g,{action:a.navigationAction,newReport:a.newReport,parentActivity:E,parentContextActivity:n.changeReportPageActivity,isInitialUpdateSection:a.isInitialUpdateSection})}},function(){return n.telemetryService.startChildActivity(a.parentActivity&&a.parentActivity.event,h.Hn8,{targetSectionIndex:a.targetSectionIndex,forceUpdate:a.forceUpdate,suppressHistory:a.suppressHistory,canvasLayout:a.canvasLayout,clearSelection:V,isCancelled:!1,sectionGuid:p&&f.sections[a.targetSectionIndex].objectId})},this.changeReportPageActivity)}},i.prototype.updateExplorationActiveSectionIndex=function(a){v.fF.assertValue(a,"args"),v.fF.assertValue(a.exploration,"exploration"),v.fF.assertValue(a.section,"section");var n=a.exploration,m=(0,S.m$)(n,a.section);if(!(null!=m&&n&&n.sections&&n.sections[m].transient||(n.activeSectionIndex=m,a.suppressTelemetry))){var f=n.sections[m];this.telemetryService.logChildEvent(a.parentActivity&&a.parentActivity.event,h.Hvk,{reportId:n.reportId,reportGuid:a.reportGUID,sectionIndex:m,sectionGuid:f?f.objectId:void 0,groupObjectId:a.groupObjectId,isReadonlyGroup:a.isReadonlyGroup,permissions:a.reportPermissions,scrubUserInfo:a.scrubUserInfo,newReport:a.newReport,originalReportGuid:n.report?n.report.originalReportObjectId:void 0,originalGroupObjectId:n.report&&n.report.ownerInfo?n.report.ownerInfo.groupObjectId:void 0})}},i.prototype.goto=function(a,n){v.fF.assertValue(a,"section"),this.updateSectionViewSession(),n&&n.parentContextActivity&&this.telemetryData&&(n.parentContextActivity.setProperty("reportPageViewSessionId",this.telemetryData.exsid),n.parentContextActivity.setProperty("isInitialUpdateSection",!!n.isInitialUpdateSection)),n=n?_.merge({},r,n):r,this.currentSection=a,this.currentSectionSubject.next(a),this.raiseEvent(),n.updateUrl&&this.eventBridge.publishToChannel(e.yVh,{name:a.name,displayName:a.displayName,action:n.action,newReport:n.newReport,parentActivity:n.parentActivity,parentContextActivity:n.parentContextActivity,isInitialUpdateSection:n.isInitialUpdateSection})},i.prototype.back=function(a){if(!_.isEmpty(this.history)){var n=this.history.pop(),m=_.findIndex(this.exploration.sections,function(f){return f.name===n.name});m<0||this.updateActiveSection({targetSectionIndex:m,forceUpdate:!1,suppressHistory:!0,parentActivity:a})}},i.prototype.loadExploration=function(a,n){if(this.telemetryData=void 0,this.exploration=a,this.currentZone=a&&n,a&&a.sections&&a.activeSectionIndex>=0){var m=a.sections[a.activeSectionIndex];this.currentSection=m,this.currentSectionSubject.next(m)}this.emitUpdatedSections(),this.raiseExplorationLoadedEvent(a)},i.prototype.startExplorationSession=function(a){a&&void 0===a.exid&&(a.exid=d.q.generateShortId(5)),this.telemetryData=a},i.prototype.updateExplorationTelemetryData=function(a){this.telemetryData||(this.telemetryData={}),_.assign(this.telemetryData,a)},i.prototype.getExplorationTelemetryData=function(){return this.telemetryData},i.prototype.getCurrentSection=function(){if(this.currentSection)return this.currentSection;var a=this.exploration;return a&&_.inRange(a.activeSectionIndex,0,a.sections.length)?a.sections[a.activeSectionIndex]:void 0},i.prototype.getSectionByName=function(a){return _.find(this.exploration.sections,function(n){return n.name===a})},i.prototype.getAllSections=function(){return this.exploration&&this.exploration.sections},i.prototype.getAllVisualContainers=function(a){return this.exploration&&this.exploration.sections?this.exploration.sections.reduce(a?function(n,m){return n.concat(m.visualContainers.filter(function(f){return f.config.singleVisual.visualType===a}))}:function(n,m){return n.concat(m.visualContainers)},[]):[]},i.prototype.getCurrentExploration=function(){return this.exploration},i.prototype.getCurrentExploreCanvas=function(){return v.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().exploration.exploreCanvas},i.prototype.showExplorationMask=function(){v.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().showMask=!0},i.prototype.hideExplorationMask=function(){v.fF.assertValue(this.getViewModel,"explorationContainer viewModel has not been initialized in explorationNavigationService"),this.getViewModel().showMask=!1},i.prototype.getCurrentZone=function(){return this.currentZone},i.prototype.emitUpdatedSections=function(){this.sectionsSubject.next(this.getAllSections())},i.prototype.raiseEvent=function(){this.eventBridge.publishToChannel(e.wAN)},i.prototype.raiseExplorationLoadedEvent=function(a){this.eventBridge.publishToChannel(e.LE3,a)},i.prototype.updateSectionViewSession=function(){if(this.telemetryData){var a=d.q.generateShortId(5);this.telemetryData.exsid=a,this.contextActivityService.upsertExplorationProperties({reportPageViewSessionId:a})}},i}()},242969:function(Xe,H,t){t.d(H,{RH:function(){return L}});var e=t(973188),l=t(297464),o=t(796490),d=function(){function O(){}return O.prototype.bindEvents=function(N,A,I){var B=this,U=N.paths;if(!_.isEmpty(U))for(var W=0,j=U;W<j.length;W++){var K=j[W];K&&K.on("contextmenu",function(){return B.handleContextMenu(A)})}},O.prototype.renderSelection=function(N){},O.prototype.handleContextMenu=function(N){var A=(0,o.bt)(),I=d3.event;I.preventDefault(),(0,l.n)(I),(0,o.kW)(function(B){N.handleContextMenu(B,A)})},O}(),v=t(276510),S=t(709272),h=t(957240),c=t(227871),r=t(498342),s=t(781322),u=t(660407),i=t(360964),a=t(664837),n=t(344029),m=t(25138),f=t(563746),V=t(572909),p=t(750098),C=t(314055),E=t(698883),w=t(237094),x=t(273269),R="dataViewer",g=function(){function O(N){this.visualSandbox=N}return O.prototype.reloadAdapter=function(N){var A=this;if(void 0===N&&(N=!1),this.dataViewShowing){if(N)return;this.toggleDataview(!1)}if(!u.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")){this.toggleAutoReload(!1);var B=this.buildErrorMessage({message:this.host.getLocalizedString("DebugVisual_Enabled_Error_Message"),moreMessage:this.host.getLocalizedString("DebugVisual_Enabled_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247468",moreLinkText:this.host.getLocalizedString("LearnMore"),type:"blockedsite"});return this.container.html(B),this.setCustomizeQuery(),void this.setCapabilities()}var U=u.DU.getData("DEVELOPMENT_SERVER_URL")||"https://localhost:8080/assets/";this.statusLoading||(this.statusLoading=!0,$.get(U+"status").done(function(W){if(W&&(!N||A.lastUpdateStatus!==W)){if(A.lastUpdateStatus=W,"error"===W){var j=A.buildErrorMessage({message:A.host.getLocalizedString("DebugVisual_Compile_Error_Message"),moreMessage:A.host.getLocalizedString("DebugVisual_Compile_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247735",moreLinkText:A.host.getLocalizedString("LearnMore"),type:"repair"});return A.container.html(j),A.setCustomizeQuery(),void A.setCapabilities()}$.getJSON(U+"pbiviz.json").done(function(K){if(r.fF.assertValue(K.capabilities,"DebugVisual - pbiviz capabilities missing"),r.fF.assertValue(K.visual&&K.visual.guid,"DebugVisual - pbiviz visual guid missing"),K.capabilities&&K.visual&&K.visual.guid){A.visualGuid!==K.visual.guid&&(A.visualGuid=K.visual.guid);var ee=A.host.locale();K=ee?(0,E.zQ)(K,ee):K;var ie=(0,C.S)(K,ee);(0,w.L)(ie),c.L[ie.name]=ie,A.setCustomizeQuery(ie.customizeQuery),A.setCapabilities(ie.capabilities),A.loadVisual(ie)}})}}).fail(function(){A.toggleAutoReload(!1);var W=A.buildErrorMessage({message:A.host.getLocalizedString("DebugVisual_Server_Error_Message"),moreMessage:A.host.getLocalizedString("DebugVisual_Server_Error_Learn_More"),moreLinkHref:"https://go.microsoft.com/fwlink/?linkid=2247488",moreLinkText:A.host.getLocalizedString("LearnMore"),type:"error"});A.container.html(W),A.setCustomizeQuery(),A.setCapabilities()}).always(function(){A.statusLoading=!1}))},O.prototype.loadVisual=function(N){var A=this,I=N.name!==R;this.promiseFactory=this.host.promiseFactory(),this.visualContainer.attr("class","visual-"+N.name),this.visualContainer.empty(),this.container.empty().append(this.visualContainer),this.adapterPromise&&this.adapterPromise.reject();var B=this.adapterPromise=(0,p.z)({visualPlugin:N,promiseFactory:this.promiseFactory,moduleLoader:this.host.loader(),featureSwitches:{sandboxVisualsEnabled:I},visualSandbox:this.visualSandbox,isDebugVisual:!0});this.adapter&&this.adapter.destroy(),B.then(function(U){if(A.adapter=U,A.sandbox=A.adapter.sandbox,U.init&&U.init(A.visualInitOptions),U.update&&A.lastUpdateOptions){var W=A.lastUpdateOptions;W.type=x.EP.All,U.update(W)}})},O.prototype.toggleAutoReload=function(N){var A=this;this.autoReloadInterval&&!0!==N?(this.autoRefreshBtn.addClass("pbi-glyph-circle-play"),this.autoRefreshBtn.removeClass("pbi-glyph-circle-stop"),this.refreshBtn.show(),clearInterval(this.autoReloadInterval),this.autoReloadInterval=void 0):!this.autoReloadInterval&&!1!==N&&(this.autoRefreshBtn.removeClass("pbi-glyph-circle-play"),this.autoRefreshBtn.addClass("pbi-glyph-circle-stop"),this.refreshBtn.hide(),this.autoReloadInterval=setInterval(function(){return A.reloadAdapter(!0)},O.autoReloadPollTime))},O.prototype.toggleDataview=function(N){this.dataViewShowing&&!0!==N?(this.dataViewShowing=!1,this.dataBtn.toggleClass("active",!1),this.reloadAdapter()):!this.dataViewShowing&&!1!==N&&(this.dataViewShowing=!0,this.dataBtn.toggleClass("active",!0),this.loadVisual(c.L[R]))},O.prototype.flatten=function(N){if(N instanceof Array){for(var A=[],I=0,B=N.length;I<B;I++)A[I]=this.flatten(N[I]);return A}if("object"==typeof N){for(I in A={},I=void 0,N)A[I]=this.flatten(N[I]);return A}return N},O.prototype.createAndClickAnchorTagWithJsonData=function(N){var A=document.createElement("a");A.href="data:"+N,A.download="dataViews.json",A.click()},O.prototype.exportDataViews=function(){var N=this.flatten(this.lastUpdateOptions.dataViews),A="text/json;charset=utf-8,"+encodeURIComponent(JSON.stringify(N));this.createAndClickAnchorTagWithJsonData(A)},O.prototype.createRefreshBtn=function(){var N=this,A=this.host.getLocalizedString("DebugVisual_Reload_Visual_Button_Title"),I=this.refreshBtn=$('<i title="'.concat(A,'" class="controlBtn glyphicon pbi-glyph-refresh"></i>'));return I.on("click",function(){return N.reloadAdapter()}),I},O.prototype.createAutoRefreshBtn=function(){var N=this,A=this.host.getLocalizedString("DebugVisual_Toggle_Auto_Reload_Button_Title"),I=this.autoRefreshBtn=$('<i title="'.concat(A,'" class="controlBtn glyphicon pbi-glyph-circle-play"></i>'));return I.on("click",function(){return N.toggleAutoReload()}),I},O.prototype.createDataBtn=function(){var N=this,A=this.host.getLocalizedString("DebugVisual_Show_Dataview_Button_Title"),I=this.dataBtn=$('<i title="'.concat(A,'" class="controlBtn glyphicon pbi-glyph-seedata"></i>'));return I.on("click",function(){return N.toggleDataview()}),I},O.prototype.createHelpBtn=function(){var N=this.host.getLocalizedString("DebugVisual_Help_Button_Title");return $('<a href="'.concat("https://go.microsoft.com/fwlink/?linkid=2245690",'" target="_blank"><i title="').concat(N,'" class="controlBtn glyphicon pbi-glyph-question"></i></a>'))},O.prototype.createSmilyBtn=function(){var N=this.host.getLocalizedString("DebugVisual_Feedback_Button_Title");return $('<a href="'.concat("https://go.microsoft.com/fwlink/?linkid=2247381",'" target="_blank"><i title="').concat(N,'" class="controlBtn glyphicon pbi-glyph-smiley"></i></a>'))},O.prototype.createExportDataViewsBtn=function(){var N=this,A=this.host.getLocalizedString("DebugVisual_Export_Data_Button_Title"),I=$('<i title="'.concat(A,'" class="controlBtn glyphicon pbi-glyph-export"></i>'));return I.on("click",function(){return N.exportDataViews()}),I},O.prototype.buildControls=function(){var N=$('<div class="debugVisual-controlsContainer"></div>');return N.append(this.createRefreshBtn(),this.createAutoRefreshBtn(),this.createDataBtn(),this.createExportDataViewsBtn(),this.createHelpBtn(),this.createSmilyBtn()),N},O.prototype.buildErrorMessage=function(N){return _.template(O.errorMessageTemplate)(N)},O.prototype.setCapabilities=function(N){void 0===N&&(N=O.defaultCapabilities),!_.isEqual(N,c.L.debugVisual.capabilities)&&(c.L.debugVisual.capabilities=N,this.host.visualCapabilitiesChanged())},O.prototype.setCustomizeQuery=function(N){void 0===N&&(N=function(I){return null}),c.L.debugVisual.customizeQuery=N},O.prototype.init=function(N){this.host=N.host;var A=this.container=$('<div class="debugVisualContainer"></div>'),I=this.visualContainer=$('<div class="visual"></div>');this.dataViewShowing=!1,A.append(I),N.element.append(A),(this.visualInitOptions=N).element=I,this.host.setToolbar(this.buildControls()),this.reloadAdapter()},O.prototype.update=function(N){if(this.visualContainer){if(N.viewport){this.visualInitOptions.viewport=N.viewport;var I=N.viewport.width;this.visualContainer.height(N.viewport.height).width(I)}this.lastUpdateOptions=N,this.adapter&&this.adapter.update&&this.adapter.update(N)}},O.prototype.enumerateObjectInstances=function(N){return this.adapter&&this.adapter.enumerateObjectInstances?this.adapter.enumerateObjectInstances(N):[]},O.prototype.enumerateObjectInstancesAsync=function(N){return this.adapter&&this.adapter.enumerateObjectInstancesAsync?this.adapter.enumerateObjectInstancesAsync(N):this.promiseFactory.resolve(this.enumerateObjectInstances(N))},O.prototype.enumerateObjectRepetitionAsync=function(){return this.adapter&&this.adapter.enumerateObjectRepetitionAsync?this.adapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve([])},O.prototype.getFormattingModel=function(){if(this.adapter&&this.adapter.getFormattingModel)return this.adapter.getFormattingModel()},O.prototype.getFormattingModelAsync=function(){return this.adapter&&this.adapter.getFormattingModelAsync?this.adapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())},O.prototype.getSubSelectionStyles=function(N){if(this.adapter&&this.adapter.getSubSelectionStyles)return this.adapter.getSubSelectionStyles(N)},O.prototype.getSubSelectionStylesAsync=function(N){return this.adapter&&this.adapter.getSubSelectionStylesAsync?this.adapter.getSubSelectionStylesAsync(N):this.promiseFactory.resolve(this.getSubSelectionStyles(N))},O.prototype.getSubSelectionShortcuts=function(N,A){if(this.adapter&&this.adapter.getSubSelectionShortcuts)return this.adapter.getSubSelectionShortcuts(N,A)},O.prototype.getSubSelectionShortcutsAsync=function(N,A){return this.adapter&&this.adapter.getSubSelectionShortcutsAsync?this.adapter.getSubSelectionShortcutsAsync(N,A):this.promiseFactory.resolve(this.getSubSelectionShortcuts(N,A))},O.prototype.getSubSelectables=function(N){if(this.adapter&&this.adapter.getSubSelectables)return this.adapter.getSubSelectables(N)},O.prototype.getSubSelectablesAsync=function(N){return this.adapter&&this.adapter.getSubSelectablesAsync?this.adapter.getSubSelectablesAsync(N):this.promiseFactory.resolve(this.getSubSelectables(N))},O.prototype.onClearSelection=function(){if(this.adapter&&this.adapter.onClearSelection)return this.adapter.onClearSelection()},O.prototype.onRestoreSelection=function(N){if(this.adapter&&this.adapter.onRestoreSelection)return this.adapter.onRestoreSelection(N)},O.prototype.destroy=function(){this.adapter&&this.adapter.destroy&&this.adapter.destroy(),this.toggleAutoReload(!1),this.container=null,this.visualContainer=null,this.host.setToolbar(null),this.promiseFactory=null},O.prototype.visualHasMethod=function(N){var A;return null===(A=this.adapter)||void 0===A?void 0:A.visualHasMethod(N)},O.capabilities=O.defaultCapabilities={dataRoles:[{displayName:"Values",name:"Values",kind:x.DW.Measure}],dataViewMappings:[{table:{rows:{for:{in:"Values"}}}}]},O.autoReloadPollTime=300,O.errorMessageTemplate='\n            <div class="errorContainer">\n                <div class="errorMessage">\n                    <div ng-switch="$ctrl.errorInfo.overlayType">\n                        <div class="glyphicon pbi-glyph-<%= type %> glyph-med"></div>\n                    </div>\n                    <div>\n                        <div class="errorSpan"><%= message %></div>\n                        <span class="errorSeeMore"><%= moreMessage %></span>\n                        <a class="errorSeeMore" href="<%= moreLinkHref %>" target="_blank"><%= moreLinkText %></a>\n                    </div>\n                </div>\n            </div>\n        ',O}();function L(O,N,A,I,B){return new M(O,A,N,new T(O,I,B))}(0,f.G)("debugVisual",{name:"debugVisual",watermarkKey:"kpi",titleKey:(0,V.V)("DebugVisual_ToolTip"),capabilities:g.capabilities,create:function(){return new g},createES6:function(){return Promise.resolve(new g)},customizeQuery:function(N){return null},systemVisual:!0});var M=function(){function O(N,A,I,B){var U=this;this.asyncFeatureSwitchService=N,this.resourceLoader=A,this.promiseFactory=I,r.fF.assertValue(N,"asyncFeatureSwitchService"),r.fF.assertValue(I,"promiseFactory"),this.resourceLoader=A,this.promiseFactory=I,this.trustedConvertibleVisualTypes=[],this.customConvertibleVisualTypes=[],this.globalConvertibleVisualTypes=[],this.storage=new a.ZM,this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(function(W){return B=B||new T(N),U.getConvertibleCoreVisualTypeNames(W)}).then(function(W){for(var j in U.globalConvertibleVisualTypes=W,c.L)U.storage.loadPlugin(j,B.getPlugin(j))})}return O.prototype.getConvertibleCoreVisualTypeNames=function(N){var A=[c.L.barChart.name,c.L.columnChart.name,c.L.clusteredBarChart.name,c.L.clusteredColumnChart.name,c.L.hundredPercentStackedBarChart.name,c.L.hundredPercentStackedColumnChart.name,c.L.lineChart.name,c.L.areaChart.name,c.L.stackedAreaChart.name,c.L.lineStackedColumnComboChart.name,c.L.lineClusteredColumnComboChart.name,c.L.ribbonChart.name,c.L.waterfallChart.name,c.L.funnel.name,c.L.scatterChart.name,c.L.pieChart.name,c.L.donutChart.name,c.L.treemap.name,c.L.map.name,c.L.filledMap.name];N&&N.shapeMapVisualEnabled&&A.push(c.L.shapeMap.name),(!N||!N.hideAzureMapVisual)&&A.push(c.L.azureMap.name),A.push.apply(A,[c.L.gauge.name,c.L.card.name,c.L.multiRowCard.name,c.L.kpi.name,c.L.slicer.name]),N&&N.pivotTableVisualEnabled?(A.push(c.L.tableEx.name),A.push(c.L.pivotTable.name)):(A.push(c.L.table.name),A.push(c.L.matrix.name)),N&&N.scriptVisualEnabled&&N.scriptVisualAuthoringEnabled&&(A.push(c.L.scriptVisual.name),A.push(c.L.pythonVisual.name)),N&&N.keyDrivers&&A.push(c.L.keyDriversVisual.name),A.push(c.L.decompositionTreeVisual.name),N&&N.qnaVisual&&A.push(c.L.qnaVisual.name),N&&N.daxTransformEnabled&&!(N.aiNarrativesSingleEntryPoint&&N.aiNarrativesVisual)&&A.push(c.L.textbox.name),N&&N.aiNarrativesVisual&&A.push(c.L.aiNarratives.name),N&&N.scorecardVisual&&A.push(c.L.scorecard.name),N&&N.rdlNativeVisual&&A.push(c.L.rdlVisual.name),N&&N.newCard&&A.push(c.L.cardVisual.name),N&&N.buttonSlicer&&N.buttonSlicerAuthoring&&A.push(c.L.advancedSlicerVisual.name),u.DU.getData("VISUAL_DEVELOPER_MODE_ENABLED")&&A.push("debugVisual");var B=this.promiseFactory.defer();return B.resolve(A),B.promise},O.prototype.getNonConvertibleCoreVisualTypeNames=function(){return[c.L.actionButton.name,c.L.bookmarkNavigator.name,c.L.image.name,c.L.textbox.name,c.L.pageNavigator.name,c.L.shape.name]},O.prototype.getVisuals=function(){return this.storage.getLoadedPlugins()},O.prototype.getConvertibleVisuals=function(){for(var N=this,A=[],I=0,B=this.globalConvertibleVisualTypes;I<B.length;I++){var U=B[I];this.storage.hasPlugin(U)&&!_.includes(A,U)&&A.push(U)}for(var W=0,j=this.trustedConvertibleVisualTypes;W<j.length;W++){var K=j[W];this.storage.hasPlugin(K)&&!_.includes(A,K)&&A.push(K)}for(var ee=0,ie=this.customConvertibleVisualTypes;ee<ie.length;ee++){var he=ie[ee];this.storage.hasPlugin(he)&&!_.includes(A,he)&&A.push(he)}return A.map(function(q){return N.storage.getLoadedPlugin(q)})},O.prototype.getConvertibleVisualsAsync=function(){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(N){switch(N.label){case 0:return[4,this.ensureBuiltInPlugins()];case 1:return N.sent(),[2,this.getConvertibleVisuals()]}})})},O.prototype.getCoreVisualTypes=function(){var N=(0,e.__spreadArray)((0,e.__spreadArray)([],this.getNonConvertibleCoreVisualTypeNames(),!0),this.globalConvertibleVisualTypes,!0);return _.uniq(N)},O.prototype.ensureBuiltInPlugins=function(){return this.initBuiltInPlugins},O.prototype.ensureTrustedVisualPlugins=function(N){(0,a.Os)(this.storage,N);for(var A=0,I=N;A<I.length;A++)this.addTrustedConvertibleVisualType(I[A].name)},O.prototype.ensurePlugins=function(N,A){var I=this;r.fF.assertValue(this.promiseFactory,"promiseFactory");var B=[];if(N&&N.length)for(var U=function(he){if((0,m.JZ)(he)){var q=W.ensurePlugin(he,A).then(function(){return I.addCustomConvertibleVisualType(he.name)});B.push(q)}},W=this,j=0,K=N;j<K.length;j++)U(K[j]);return this.promiseFactory.allSettled(B)},O.prototype.ensurePlugin=function(N,A){return(0,a.wl)(this.storage,this.promiseFactory,this.resourceLoader,N,A)},O.prototype.addTrustedConvertibleVisualType=function(N){this.trustedConvertibleVisualTypes.indexOf(N)<0&&this.trustedConvertibleVisualTypes.push(N)},O.prototype.addCustomConvertibleVisualType=function(N){this.customConvertibleVisualTypes.indexOf(N)<0&&this.customConvertibleVisualTypes.push(N)},O.prototype.capabilities=function(N){var A=this.getPlugin(N);return A?A.capabilities:void 0},O.prototype.removeAllCustomVisuals=function(){for(var N=0,A=this.customConvertibleVisualTypes;N<A.length;N++)this.storage.unloadPlugin(A[N]);this.customConvertibleVisualTypes=[]},O.prototype.removePlugin=function(N){this.getPlugin(N)&&(this.storage.unloadPlugin(N),_.remove(this.customConvertibleVisualTypes,function(I){return I===N}))},O.prototype.getTelemetryHostInformation=function(){return{name:"Exploration"}},O.prototype.isCustomVisual=function(N){return(0,i.vh)(this.getPlugin(N),N)},O.prototype.isScriptVisual=function(N){return(0,i.ww)(this.getPlugin(N))},O.prototype.isScriptVisualQueryable=function(N){return(0,i.Se)(N,this.asyncFeatureSwitchService.featureSwitches)},O.prototype.isLightWeightRenderingVisual=function(N){return(0,i.vt)(this.getPlugin(N))},O.prototype.getInteractivityOptions=function(){return{overflow:"hidden",isVisualInteractive:!0}},O.prototype.getCustomizeConvertTo=function(N,A){var I=this.getPlugin(A);return I.getCustomizeConvertTo?I.getCustomizeConvertTo(N,A,this.asyncFeatureSwitchService.featureSwitches):void 0},O.prototype.loadPluginByNameIfAny=function(N){if(!this.getPlugin(N)){if(this.storage.hasPlugin(N))return void this.storage.loadPlugin(N);c.L[N]&&this.storage.loadPlugin(N,c.L[N])}},O.prototype.getPlugin=function(N){return this.storage.getLoadedPlugin(N)},O.prototype.getStorage=function(){return this.storage},O}(),T=function(){function O(N,A,I){this.featureSwitchService=N,this.mapControlFactory=A,this.visualSandbox=I,r.fF.assertValue(N,"featureSwitchService")}return O.prototype.getPlugin=function(N){var I,A=this,B=this.featureSwitchService.featureSwitches?_.clone(this.featureSwitchService.featureSwitches):{},U=function(){throw new Error("explorationVisualPluginService: 'Create' function is deprecated")};switch(N){case c.L.barChart.name:return(0,n.i8)(c.L.barChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ie.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=ie.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=ie.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=ie.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:6,isScrollable:!0,dataPointLassoSelect:!0,animator:new j,tooltipsEnabled:!0,behaviorFactory:new K([new ee],B),featureSwitches:B})]}})})});case c.L.card.name:return(0,n.i8)(c.L.card,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("cardModule").then(t.bind(t,532869))];case 1:return[2,(0,j.sent().createCard)({isScrollable:!0,animator:new v.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:B})]}})})});case c.L.cardVisual.name:return(0,n.i8)(c.L.cardVisual,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("cardVisual").then(t.bind(t,26963))];case 1:return[2,new(0,j.sent().CardVisual)({isScrollable:!0,animator:new v.r5,tooltipsEnabled:!0,interactivityEnabled:!0,featureSwitches:B})]}})})});case c.L.clusteredBarChart.name:return(0,n.i8)(c.L.clusteredBarChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ie.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=ie.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=ie.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=ie.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:5,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee],B),featureSwitches:B})]}})})});case c.L.clusteredColumnChart.name:return(0,n.i8)(c.L.clusteredColumnChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ie.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=ie.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=ie.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=ie.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:3,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee],B),featureSwitches:B})]}})})});case c.L.columnChart.name:return(0,n.i8)(c.L.columnChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ie.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=ie.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=ie.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=ie.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:4,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee],B),featureSwitches:B})]}})})});case c.L.donutChart.name:return(0,n.i8)(c.L.donutChart,function(){throw new Error("explorationVisualPluginService: 'Create' function is deprecated")},B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("donutChart").then(t.bind(t,218539))];case 1:return W=ee.sent().DonutChart,[4,t.e("donutChartAnimator").then(t.bind(t,16585))];case 2:return j=ee.sent().WebDonutChartAnimator,[4,t.e("donutChartBehaviors").then(t.bind(t,658846))];case 3:return K=ee.sent().DonutChartWebBehavior,[2,new W({animator:new j,isScrollable:!0,tooltipsEnabled:!0,behavior:new K})]}})})});case c.L.funnel.name:return(0,n.i8)(c.L.funnel,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("funnelChart").then(t.bind(t,583720))];case 1:return W=ee.sent().FunnelChart,[4,t.e("funnelChartAnimator").then(t.bind(t,329732))];case 2:return j=ee.sent().WebFunnelAnimator,[4,t.e("funnelBehaviors").then(t.bind(t,404230))];case 3:return K=ee.sent().FunnelWebBehavior,[2,new W({animator:new j,behavior:new K,tooltipsEnabled:!0})]}})})});case c.L.gauge.name:return(0,n.i8)(c.L.gauge,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("gauge").then(t.bind(t,143339))];case 1:return[2,new(0,j.sent().Gauge)({animator:new v.r5,tooltipsEnabled:!0,behavior:new d},B)]}})})});case c.L.kpi.name:return(0,n.i8)(c.L.kpi,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("kpiStatusWithHistory").then(t.bind(t,184894))];case 1:return[2,new(0,j.sent().KPIStatusWithHistory)({interactivityEnabled:!0,featureSwitches:B})]}})})});case c.L.hundredPercentStackedBarChart.name:return(0,n.i8)(c.L.hundredPercentStackedBarChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ie.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=ie.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=ie.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=ie.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:7,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee],B),featureSwitches:B})]}})})});case c.L.hundredPercentStackedColumnChart.name:return(0,n.i8)(c.L.hundredPercentStackedColumnChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ie.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=ie.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=ie.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=ie.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:8,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee],B),featureSwitches:B})]}})})});case c.L.lineChart.name:return(0,n.i8)(c.L.lineChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ee.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 2:return j=ee.sent().CartesianChartBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,113384))];case 3:return K=ee.sent().LineChartWebBehaviorFactory,[2,new W({chartType:0,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new j([new K],B),featureSwitches:B})]}})})});case c.L.areaChart.name:return(0,n.i8)(c.L.areaChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ee.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 2:return j=ee.sent().CartesianChartBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,113384))];case 3:return K=ee.sent().LineChartWebBehaviorFactory,[2,new W({chartType:1,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new j([new K],B),featureSwitches:B})]}})})});case c.L.stackedAreaChart.name:return(0,n.i8)(c.L.stackedAreaChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ee.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 2:return j=ee.sent().CartesianChartBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,113384))];case 3:return K=ee.sent().LineChartWebBehaviorFactory,[2,new W({chartType:2,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new j([new K],B),featureSwitches:B})]}})})});case c.L.lineClusteredColumnComboChart.name:return(0,n.i8)(c.L.lineClusteredColumnComboChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee,ie;return(0,e.__generator)(this,function(he){switch(he.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=he.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=he.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=he.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=he.sent().ColumnChartWebBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,113384))];case 5:return ie=he.sent().LineChartWebBehaviorFactory,[2,new W({chartType:12,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee,new ie],B),featureSwitches:B})]}})})});case c.L.lineStackedColumnComboChart.name:return(0,n.i8)(c.L.lineStackedColumnComboChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee,ie;return(0,e.__generator)(this,function(he){switch(he.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=he.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=he.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=he.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=he.sent().ColumnChartWebBehaviorFactory,[4,t.e("lineChartBehaviors").then(t.bind(t,113384))];case 5:return ie=he.sent().LineChartWebBehaviorFactory,[2,new W({chartType:13,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee,new ie],B),featureSwitches:B})]}})})});case c.L.multiRowCard.name:return(0,n.i8)(c.L.multiRowCard,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j;return(0,e.__generator)(this,function(K){switch(K.label){case 0:return[4,t.e("multiRowCard").then(t.bind(t,182123))];case 1:return W=K.sent().MultiRowCard,[4,t.e("multiRowCardBehavior").then(t.bind(t,241367))];case 2:return j=K.sent().MultiRowCardBehavior,[2,new W({interactivityEnabled:!0,behavior:new j})]}})})});case c.L.pieChart.name:return(0,n.i8)(c.L.pieChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("donutChart").then(t.bind(t,218539))];case 1:return W=ee.sent().DonutChart,[4,t.e("donutChartAnimator").then(t.bind(t,16585))];case 2:return j=ee.sent().WebDonutChartAnimator,[4,t.e("donutChartBehaviors").then(t.bind(t,658846))];case 3:return K=ee.sent().DonutChartWebBehavior,[2,new W({sliceWidthRatio:0,animator:new j,isScrollable:!0,tooltipsEnabled:!0,behavior:new K})]}})})});case c.L.ribbonChart.name:return(0,n.i8)(c.L.ribbonChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ie.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return j=ie.sent().ColumnChartAnimator,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 3:return K=ie.sent().CartesianChartBehaviorFactory,[4,t.e("columnChartBehaviors").then(t.bind(t,68121))];case 4:return ee=ie.sent().ColumnChartWebBehaviorFactory,[2,new W({chartType:9,isScrollable:!0,tooltipsEnabled:!0,animator:new j,behaviorFactory:new K([new ee],B),featureSwitches:B})]}})})});case c.L.scatterChart.name:return(0,n.i8)(c.L.scatterChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ee.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 2:return j=ee.sent().CartesianChartBehaviorFactory,[4,t.e("scatterChartBehaviors").then(t.bind(t,436079))];case 3:return K=ee.sent().ScatterChartWebBehaviorFactory,[2,new W({chartType:10,isScrollable:!0,dataPointLassoSelect:!0,tooltipsEnabled:!0,animator:new v.r5,behaviorFactory:new j([new K],B),featureSwitches:B})]}})})});case c.L.treemap.name:return(0,n.i8)(c.L.treemap,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("treemap").then(t.bind(t,322497))];case 1:return W=ee.sent().Treemap,[4,t.e("treemapAnimator").then(t.bind(t,498491))];case 2:return j=ee.sent().WebTreemapAnimator,[4,t.e("treemapBehaviors").then(t.bind(t,372704))];case 3:return K=ee.sent().TreemapWebBehavior,[2,new W({animator:new j,isScrollable:!0,behavior:new K,tooltipsEnabled:!0,cartesianConditionalFormatting:B.cartesianConditionalFormatting,dataPointLassoSelect:!0})]}})})});case c.L.filterSlicer.name:return(0,n.i8)(c.L.filterSlicer,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("slicer").then(t.bind(t,432767))];case 1:return[2,new(0,j.sent().Slicer)({lockKeyboardNavigation:!1,featureSwitches:B})]}})})});case c.L.accessibleTable.name:return(0,n.i8)(c.L.accessibleTable,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("accessibleTable").then(t.bind(t,318110))];case 1:return[2,new(0,j.sent().AccessibleTable)]}})})});case c.L.waterfallChart.name:return(0,n.i8)(c.L.waterfallChart,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j,K;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return W=ee.sent().CartesianChart,[4,t.e("cartesianChartBehaviors").then(t.bind(t,321093))];case 2:return j=ee.sent().CartesianChartBehaviorFactory,[4,t.e("waterfallChart.behavior").then(t.bind(t,552969))];case 3:return K=ee.sent().WaterfallChartWebBehaviorFactory,[2,new W({chartType:11,isScrollable:!0,tooltipsEnabled:!0,behaviorFactory:new j([new K],B),featureSwitches:B})]}})})});case c.L.map.name:return(0,n.i8)(c.L.map,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j;return(0,e.__generator)(this,function(K){switch(K.label){case 0:return[4,t.e("map").then(t.bind(t,215253))];case 1:return W=K.sent().Map,[4,t.e("mapBehaviors").then(t.bind(t,884640))];case 2:return j=K.sent().MapBehavior,[2,new W({behavior:new j,dataPointLassoSelect:!0,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case c.L.filledMap.name:return(0,n.i8)(c.L.filledMap,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j;return(0,e.__generator)(this,function(K){switch(K.label){case 0:return[4,t.e("map").then(t.bind(t,215253))];case 1:return W=K.sent().Map,[4,t.e("mapBehaviors").then(t.bind(t,884640))];case 2:return j=K.sent().MapBehavior,[2,new W({filledMap:!0,behavior:new j,dataPointLassoSelect:!0,tooltipsEnabled:!0,filledMapDataLabelsEnabled:B&&B.filledMapDataLabelsEnabled,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case c.L.azureMap.name:return(0,n.i8)(c.L.azureMap,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j;return(0,e.__generator)(this,function(K){switch(K.label){case 0:return[4,t.e("azureMap").then(t.bind(t,73667))];case 1:return W=K.sent().AzureMap,[4,t.e("azureMapBehaviors").then(t.bind(t,203494))];case 2:return j=K.sent().AzureMapBehavior,[2,new W({behavior:new j,tooltipsEnabled:!0,isLegendScrollable:!0,mapControlFactory:this.mapControlFactory})]}})})});case c.L.shape.name:return(0,n.i8)(c.L.shape,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("shape").then(t.bind(t,591091))];case 1:return[2,new(0,j.sent().Shape)]}})})});case c.L.actionButton.name:return(0,n.i8)(c.L.actionButton,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("actionButton").then(t.bind(t,448131))];case 1:return[2,new(0,j.sent().ActionButton)]}})})});case c.L.shapeMap.name:return(0,n.i8)(c.L.shapeMap,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){var W,j;return(0,e.__generator)(this,function(K){switch(K.label){case 0:return[4,t.e("shapeMap").then(t.bind(t,186913))];case 1:return W=K.sent().ShapeMap,[4,t.e("shapeMapBehaviors").then(t.bind(t,279890))];case 2:return j=K.sent().ShapeMapBehavior,[2,new W({behavior:new j,tooltipsEnabled:!0})]}})})});case c.L.slicer.name:return(0,n.i8)(c.L.slicer,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("slicer").then(t.bind(t,432767))];case 1:return[2,new(0,j.sent().Slicer)({featureSwitches:B,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0})]}})})});case c.L.advancedSlicerVisual.name:return(0,n.i8)(c.L.advancedSlicerVisual,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("advancedSlicer").then(t.bind(t,284757))];case 1:return[2,(0,j.sent().createAdvancedSlicer)({featureSwitches:B,preventVirtualKeyboardOnTheFirstTap:!0,isSlicer:!0,tooltipsEnabled:!0})]}})})});case c.L.matrix.name:return(0,n.i8)(c.L.matrix,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("matrix").then(t.bind(t,520989))];case 1:return[2,new(0,j.sent().Matrix)]}})})});case c.L.table.name:return(0,n.i8)(c.L.table,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("table").then(t.bind(t,104545))];case 1:return[2,new(0,j.sent().Table)]}})})});case c.L.pivotTable.name:return(0,n.i8)(c.L.pivotTable,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("pivotTable").then(t.bind(t,782999))];case 1:return[2,new(0,j.sent().PivotTable)((0,S.DH)(),B)]}})})});case c.L.tableEx.name:return(0,n.i8)(c.L.tableEx,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("tableEx").then(t.bind(t,675455))];case 1:return[2,new(0,j.sent().TableEx)((0,h.DH)(),B)]}})})});case c.L.scriptVisual.name:return(0,n.i8)(c.L.scriptVisual,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,745903))];case 1:return[2,new(0,j.sent().ScriptVisual)]}})})});case c.L.pythonVisual.name:return(0,n.i8)(c.L.pythonVisual,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,745903))];case 1:return[2,new(0,j.sent().ScriptVisual)]}})})});case null===(I=c.L.debugVisual)||void 0===I?void 0:I.name:return(0,n.i8)(c.L.debugVisual,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(W){return[2,new g(this.visualSandbox)]})})});case c.L.textbox.name:return(0,n.i8)(c.L.textbox,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("textbox").then(t.bind(t,92183))];case 1:return[2,new(0,j.sent().Textbox)({supportsNarrativeExpressions:B.daxTransformEnabled,supportsFormattingChangeIndication:!0})]}})})});case c.L.keyDriversVisual.name:return(0,n.i8)(c.L.keyDriversVisual,function(W){return W.module.createAnalysisVisual()},B,void 0);case c.L.decompositionTreeVisual.name:return(0,n.i8)(c.L.decompositionTreeVisual,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("decompositionTree").then(t.bind(t,289570))];case 1:return[2,new(0,j.sent().DecompositionTree)]}})})});case c.L.qnaVisual.name:return(0,n.i8)(c.L.qnaVisual,function(W){return W.module.createQnaVisual()},B,void 0);case c.L.aiNarratives.name:return(0,n.i8)(c.L.aiNarratives,U,B,function(){return(0,e.__awaiter)(A,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,t.e("aiNarratives").then(t.bind(t,66851))];case 1:return[2,new(0,j.sent().AINarratives)]}})})});default:return(0,s.ED)(c.L[N])}},O}()},902114:function(Xe,H,t){function e(){return new l(150,150)}t.d(H,{Z:function(){return e}});var l=function(){function o(d,v){this.emptySpaceMinWidth=d,this.emptySpaceMinHeight=v}return o.prototype.getEmptySpaces=function(d,v){for(var S=this.getNonOverlapingRects(d,v),c=[],r=0,s=this.filterWithMinimumWidth(S);r<s.length;r++){var i=this.extendRect(s[r],S);i.height>=this.emptySpaceMinHeight&&c.push(i)}return c},o.prototype.getNonOverlapingRects=function(d,v){if(!v.length)return[];for(var S=[d],h=0,c=v;h<c.length;h++){for(var r=c[h],s=[],u=0,i=S;u<i.length;u++)s=s.concat(this.splitRectangleOnIntersection(i[u],r));S=s}return S},o.prototype.getIntersectingRectangle=function(d,v){var S=Math.max(d.x,v.x),h=Math.min(d.x+d.width,v.x+v.width),c=Math.max(d.y,v.y),r=Math.min(d.y+d.height,v.y+v.height);return S<=h&&c<=r?{x:S,y:c,width:h-S,height:r-c}:null},o.prototype.extendRect=function(d,v){for(var h,S=!1,c=0,r=v;c<r.length;c++){var s=r[c];if(s!==d){var u=!1,i=!1;if(this.doIntersect(s,d)&&(u=s.y+s.height===d.y,i=s.y===d.y+d.height),!(s.width<d.width))if(i)(n=this.getIntersectingRectangle(a={x:d.x,y:d.y,width:d.width,height:d.height+s.height},s))&&n.width===a.width&&(S=!0,h=a);else if(u){var a,n;(n=this.getIntersectingRectangle(a={x:d.x,y:s.y,width:d.width,height:d.height+s.height},s))&&n.width===a.width&&(S=!0,h=a)}}}return S?this.extendRect(h,v):d},o.prototype.doIntersect=function(d,v){return!(v.x>d.x+d.width||v.x+v.width<d.x||v.y>d.y+d.height||v.y+v.height<d.y)},o.prototype.filterWithArea=function(d){for(var v=[],S=0,h=d;S<h.length;S++){var c=h[S];c.width>0&&c.height>0&&v.push(c)}return v},o.prototype.filterWithMinimumWidth=function(d){for(var v=[],S=0,h=d;S<h.length;S++){var c=h[S];c.width>=this.emptySpaceMinWidth&&v.push(c)}return v},o.prototype.splitRectangleOnIntersection=function(d,v){var S=this.getIntersectingRectangle(d,v);return S?this.filterWithArea([{x:d.x,y:d.y,width:d.width,height:S.y-d.y},{x:d.x,y:S.y+S.height,width:d.width,height:d.y+d.height-(S.y+S.height)},{x:d.x,y:S.y,width:S.x-d.x,height:S.height},{x:S.x+S.width,y:S.y,width:d.x+d.width-(S.x+S.width),height:S.height}]):[d]},o}()},301734:function(Xe,H,t){t.d(H,{d:function(){return a}});var e=t(973188),l=t(498342),o=t(275179),d=t(572909),v=t(726501),S=t(411429),h=t(173818),c=t(620581),r=function(){return function(f,V,p){for(var C=[],b=3;b<arguments.length;b++)C[b-3]=arguments[b];l.fF.assertValue(V,"nameResourceKey"),l.fF.assertValue(p,"locService"),this.kind=f,this.name=p.format(V,C)}}(),s=function(m){function f(V){return m.call(this,void 0,"ShowValueAs_Calculation_None",V)||this}return(0,e.__extends)(f,m),f}(r),u=function(m){function f(V){return m.call(this,0,"ShowValueAs_Calculation_PercentOfGrandTotal",V)||this}return(0,e.__extends)(f,m),f}(r),i=function(m){function f(V,p,C){var b=m.call(this,1,"ShowValueAs_Calculation_PercentOfRoleTotal",V,C)||this;return b.roles=p,b}return(0,e.__extends)(f,m),f}(r);function a(m,f,V,p,C){return new n(m,V,p,C)}var n=function(){function m(f,V,p,C){this.localizationService=f,this.telemetryService=V,this.visualAuthoring=p,this.visualPlugin=C}return m.prototype.createShowValueAsMenuItems=function(f,V,p){l.fF.assertValue(f,"expr"),l.fF.assertValue(V,"schema"),l.fF.assertValue(p,"visualType");var C=(0,v.J1)((0,S.Q)(f));if(!V.schema(C).capabilities.supportsScopedEval)return[];var b=[];if(this.aggregateSupportsShowValueAs(f,V)){var y=new s(this.localizationService);b.push(this.showValueAsMenuItemBuilder(y));var D=new u(this.localizationService);b.push(this.showValueAsMenuItemBuilder(D));var P=this.visualPlugin.capabilities(p),F=P&&P.dataRoleTotals;if(!_.isEmpty(F))for(var E=0,w=F;E<w.length;E++){var x=w[E],R=new i(this.localizationService,x.roles,(0,d.G)(x.displayName,this.localizationService));b.push(this.showValueAsMenuItemBuilder(R))}}return b},m.prototype.applyShowValueAs=function(f,V,p){return(0,e.__awaiter)(this,void 0,o.J,function(){return(0,e.__generator)(this,function(b){switch(b.label){case 0:return l.fF.assertValue(f,"context"),l.fF.assertValue(V,"original"),l.fF.assertValue(p,"target"),[4,this.visualAuthoring.applyShowValueAs(f,V,p)];case 1:return b.sent()&&this.telemetryService.logEvent(c.iZX,{original:this.showValueAsKindToTelemetryId(V.kind),target:this.showValueAsKindToTelemetryId(p.kind)}),[2]}})})},m.prototype.showValueAsMenuItemBuilder=function(f){var V={type:0};return V.key={action:32,showValueAs:f},V.text=f.name,V},m.prototype.aggregateSupportsShowValueAs=function(f,V){var p=f.getMetadata(V);return p&&p.type&&p.type.numeric&&(0,h.k)(f)},m.prototype.showValueAsKindToTelemetryId=function(f){switch(f){case void 0:return"None";case 0:return"PercentOfGrandTotal";case 1:return"PercentOfRoleTotal"}l.fF.assertFail("Could not convert showValueAsKind "+f+" to a telemetry ID")},m}()},909546:function(Xe,H,t){t.d(H,{$G:function(){return j},HK:function(){return Y},IX:function(){return W},J_:function(){return Je},TM:function(){return ie},Ue:function(){return E},XU:function(){return N},Yd:function(){return L},Ys:function(){return le},ab:function(){return F},dl:function(){return Ne},eA:function(){return P},ft:function(){return _e},gI:function(){return fe},gM:function(){return he},il:function(){return pe},oT:function(){return x},of:function(){return g},ok:function(){return R},tZ:function(){return Be},uF:function(){return U},x0:function(){return ee}});var e=t(973188),l=t(979868),o=t(915382),d=t(715770),v=t(306018),S=t(927903),h=t(40152),c=t(527353),r=t(498342),s=t(275179),u=t(768783),i=t(812454),a=t(696079),n=t(620581),m=t(148776),f=t(621010),V=t(693996),p=t(692696),C=t(90908),b=t(502600),y=t(227871),D=window,P=function(be){function Te(ce){var ve=be.call(this,ce.titleKey)||this;return ve.visualCommandConfig=ce,ve}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,this.visualCommandConfig.executeFn()]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,this.visualCommandConfig.isVisibleFn()]})})},Te}(p.V),F=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q){var Ue=be.call(this,Le||"DrillDown",ve,"pbi-glyph-drilldowndisabled",Q&&Q.drill)||this;return Ue.visualContainer=ce,Ue.roles=Re,Ue.dataSources=Ke,Ue.drill=tt,Ue.visualAuthoring=mt,Ue.runningVisual=He,Ue.contextActivityService=ke,Ue.source=ft,Ue}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return ce=oe(this.visualContainer.name,this.contextActivityService,"DrillDown",this.source),_.isEmpty(this.selectors)?(r.fF.assertFail("No selectors are available for drilling."),ce.reject(),[2]):(r.fF.assertValue(this.dataSources,"dataSources service is not provided."),r.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),[4,this.visualAuthoring.drillDown(this.selectors,this.visualContainer,this.dataSources.get(),_.head(this.roles))]);case 1:return Re.sent()?ce.resolve():ce.reject(),[2]}})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re,Ke;return(0,e.__generator)(this,function(tt){switch(tt.label){case 0:return(ce=_.isEmpty(this.selectors))?[3,2]:[4,be.prototype.isVisible.call(this)];case 1:ce=!tt.sent(),tt.label=2;case 2:return ce?[2,!1]:(ve=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),Re=(0,u.yE)(ve,4),Ke=(0,u.yE)(ve,2),[2,Re||Ke])}})})},Te.prototype.isDisabled=function(){var ce;return(0,e.__awaiter)(this,void 0,s.J,function(){var ve,Re;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return ve=!(null===(ce=this.runningVisual)||void 0===ce||!ce.getErrorInfo()),(Re=ve)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:Re=Ke.sent(),Ke.label=2;case 2:return[2,Re]}})})},Te}(p.V),E=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=be.call(this,ft||"DrillUp",void 0,"pbi-glyph-drillup",Le&&Le.drill)||this;return Q.visualContainer=ce,Q.roles=Re,Q.drill=Ke,Q.visualAuthoring=tt,Q.runningVisual=mt,Q.contextActivityService=He,Q.source=ke,Q}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return r.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"DrillUp",this.source),this.visualAuthoring.drillUp(_.head(this.roles),this.visualContainer),ce.resolve(),[2]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return Re.sent()?(ce=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,u.yE)(ce,1)]):[2,!1]}})})},Te.prototype.isDisabled=function(){var ce;return(0,e.__awaiter)(this,void 0,s.J,function(){var ve,Re;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return ve=!(null===(ce=this.runningVisual)||void 0===ce||!ce.getErrorInfo()),(Re=ve)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:Re=Ke.sent(),Ke.label=2;case 2:return[2,Re]}})})},Te}(p.V),w=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft){var Le=be.call(this,ce,void 0,void 0,ft&&ft.drill)||this;return Le.visualContainer=ve,Le.roles=Re,Le.drillDirection=Ke,Le.visualAuthoring=tt,Le.runningVisual=mt,Le.contextActivityService=He,Le.source=ke,Le}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return r.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"DrillDownLevel"===this.defaultTitleKey?"DrillDownLevelUngrouped":"DrillDownLevelGrouped",this.source),this.visualAuthoring.drillDownLevel(_.head(this.roles),this.visualContainer,this.drillDirection),ce.resolve(),[2]})})},Te.prototype.isDisabled=function(){var ce;return(0,e.__awaiter)(this,void 0,s.J,function(){var ve,Re;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return ve=!(null===(ce=this.runningVisual)||void 0===ce||!ce.getErrorInfo()),(Re=ve)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:Re=Ke.sent(),Ke.label=2;case 2:return[2,Re]}})})},Te}(p.V),x=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,"DrillDownLevel",ce,ve,3,Re,tt,mt,He,ke)||this;return ft.drill=Ke,ft.runningVisual=tt,ft}return(0,e.__extends)(Te,be),Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return Re.sent()?(ce=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,u.yE)(ce,4)]):[2,!1]}})})},Te.prototype.isDisabled=function(){var ce;return(0,e.__awaiter)(this,void 0,s.J,function(){var ve,Re;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return ve=!(null===(ce=this.runningVisual)||void 0===ce||!ce.getErrorInfo()),(Re=ve)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:Re=Ke.sent(),Ke.label=2;case 2:return[2,Re]}})})},Te}(w),R=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,"DrillDownLevelGrouped",ce,ve,2,Re,tt,mt,He,ke)||this;return ft.drill=Ke,ft.runningVisual=tt,ft}return(0,e.__extends)(Te,be),Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return Re.sent()?(ce=this.drill.getSupportedDrillDirections(this.visualContainer,_.head(this.roles)),[2,(0,u.yE)(ce,2)]):[2,!1]}})})},Te.prototype.isDisabled=function(){var ce;return(0,e.__awaiter)(this,void 0,s.J,function(){var ve,Re;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return ve=!(null===(ce=this.runningVisual)||void 0===ce||!ce.getErrorInfo()),(Re=ve)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:Re=Ke.sent(),Ke.label=2;case 2:return[2,Re]}})})},Te}(w),g=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=be.call(this,"DataPointTable_Show",Re,void 0,Le&&Le.drill)||this;return Q.visualContainer=ce,Q.explorationCapabilities=ve,Q.drill=Ke,Q.dataSources=tt,Q.drillToDetails=mt,Q.runningVisual=He,Q.contextActivityService=ke,Q.source=ft,Q}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){return ce=oe(this.visualContainer.name,this.contextActivityService,"DrillToDetails",this.source),_.isEmpty(this.selectors)?(r.fF.assertFail("No selectors are available for drilling."),ce.reject(),[2]):(r.fF.assertValue(this.dataSources,"dataSources service is not provided."),r.fF.assertValue(this.drillToDetails,"drillToDetails service is not provided."),ve=this.dataSources.get(),this.drillToDetails.drillToDetails(this.selectors,this.visualContainer,ve),ce.resolve(),[2])})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return(ce=_.isEmpty(this.selectors))?[3,2]:[4,be.prototype.isVisible.call(this)];case 1:ce=!Ke.sent(),Ke.label=2;case 2:return ce||this.explorationCapabilities.getCapabilities().disallowDrillToDetails?[2,!1]:[2,this.drill.canDrillToDetails(this.visualContainer,this.selectors)]}})})},Te.prototype.isDisabled=function(){var ce;return(0,e.__awaiter)(this,void 0,s.J,function(){var Re,Ke;return(0,e.__generator)(this,function(tt){switch(tt.label){case 0:return(0,S.iv)(this.visualContainer)?[2,!0]:(Re=!(null===(ce=this.runningVisual)||void 0===ce||!ce.getErrorInfo()),(Ke=Re)?[3,2]:[4,be.prototype.isDisabled.call(this)]);case 1:Ke=tt.sent(),tt.label=2;case 2:return[2,Ke]}})})},Te}(p.V),L=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=be.call(this,Re?"Collapse":"Expand",Ke,void 0,Le&&Le.expandCollapse)||this;return Q.allowedActions=ve,Q.isCollapse=Re,Q.roles=tt,Q.nodeIndex=mt,Q.childCommands=[new M(ce,Q.isCollapse,Q.allowedActions,Q.selectors,Q.roles,Q.nodeIndex,He,ke,ft,Le),new T(ce,Q.isCollapse,Q.allowedActions,Q.selectors,Q.roles,Q.nodeIndex,He,ke,ft,Le),new O(ce,Q.isCollapse,Q.allowedActions,Q.selectors,Q.roles,Q.nodeIndex,He,ke,ft,Le)],Q}return(0,e.__extends)(Te,be),Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return this.isCollapse?[4,be.prototype.isDisabled.call(this)]:[3,2];case 1:return[2,ce.sent()||!(this.allowedActions.collapseHierarchy||this.allowedActions.collapseLevel||this.allowedActions.collapseNode)];case 2:return[4,be.prototype.isDisabled.call(this)];case 3:return[2,ce.sent()||!(this.allowedActions.expandHierarchy||this.allowedActions.expandLevel||this.allowedActions.expandNode)]}})})},Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,this.childCommands]})})},Te}(p.V),M=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=be.call(this,"ExpandCollapseNode",Ke,void 0,Le&&Le.expandCollapse)||this;return Q.visualContainer=ce,Q.isCollapse=ve,Q.allowedActions=Re,Q.roles=tt,Q.nodeIndex=mt,Q.handlers=He,Q.contextActivityService=ke,Q.source=ft,Q}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return r.fF.assertNonEmpty(this.roles,"empty roles"),r.fF.assertNonEmpty(this.selectors,"empty selectors"),r.fF.assertValue(this.handlers&&this.handlers.onSetNodeExpansionState,"handler is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"ExpandCollapseNode",this.source),this.handlers.onSetNodeExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),ce.resolve(),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return[4,be.prototype.isDisabled.call(this)];case 1:return[2,ce.sent()||(this.isCollapse?!this.allowedActions.collapseNode:!this.allowedActions.expandNode)]}})})},Te}(p.V),T=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=be.call(this,"ExpandCollapseLevel",Ke,void 0,Le&&Le.expandCollapse)||this;return Q.visualContainer=ce,Q.isCollapse=ve,Q.allowedActions=Re,Q.roles=tt,Q.nodeIndex=mt,Q.handlers=He,Q.contextActivityService=ke,Q.source=ft,Q}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return r.fF.assertNonEmpty(this.roles,"empty roles"),r.fF.assertNonEmpty(this.selectors,"empty selectors"),r.fF.assertValue(this.handlers&&this.handlers.onSetLevelExpansionState,"handler is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"ExpandCollapseLevel",this.source),this.handlers.onSetLevelExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),ce.resolve(),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return[4,be.prototype.isDisabled.call(this)];case 1:return[2,ce.sent()||this.isCollapse?!this.allowedActions.collapseLevel:!this.allowedActions.expandLevel]}})})},Te}(p.V),O=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=be.call(this,"All",Ke,void 0,Le&&Le.expandCollapse)||this;return Q.visualContainer=ce,Q.isCollapse=ve,Q.allowedActions=Re,Q.roles=tt,Q.nodeIndex=mt,Q.handlers=He,Q.contextActivityService=ke,Q.source=ft,Q}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return r.fF.assertNonEmpty(this.roles,"empty roles"),r.fF.assertNonEmpty(this.selectors,"empty selectors"),r.fF.assertValue(this.handlers&&this.handlers.onSetHierarchyExpansionState,"handler is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"ExpandCollapseHierarchy",this.source),this.handlers.onSetHierarchyExpansionState({data:this.selectors[0],dataRoles:this.roles,isCollapse:this.isCollapse,nodeIndex:this.nodeIndex}),ce.resolve(),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return[4,be.prototype.isDisabled.call(this)];case 1:return[2,ce.sent()||this.isCollapse?!this.allowedActions.collapseHierarchy:!this.allowedActions.expandHierarchy]}})})},Te}(p.V),N=function(be){function Te(ce,ve,Re,Ke,tt,mt){var He=be.call(this,"Group_Action",void 0,void 0,mt&&mt.groupVisualContainers)||this;return He.container=ce,He.selection=ve,He.viewModeState=Ke,He.explorationSettings=tt,He.childCommands=[new A(He.selection,Re,mt),new B(He.container,Re,mt),new I(He.selection,Re,mt)],He}return(0,e.__extends)(Te,be),Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return(ce=!(this.explorationSettings&&this.explorationSettings.useStylableVisualContainerHeader))?[3,2]:[4,be.prototype.isVisible.call(this)];case 1:ce=!ve.sent(),ve.label=2;case 2:return ce?[2,!1]:[2,1===this.viewModeState.getMode()]}})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return ce=(0,o.q4)(this.container)||!!this.container.parentGroup,(ve=!v.UP.hasMultipleVisualContainerSelection(this.selection)&&!ce)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:ve=Re.sent(),Re.label=2;case 2:return[2,ve]}})})},Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,this.childCommands]})})},Te}(p.V),A=function(be){function Te(ce,ve,Re){var Ke=be.call(this,"Group_Action",void 0,void 0,Re&&Re.groupVisualContainers)||this;return Ke.selection=ce,Ke.layoutAuthoring=ve,Ke}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return this.layoutAuthoring.groupCanvasItems(v.UP.getSelectedCanvasItems(this.selection)),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re,Ke,tt;return(0,e.__generator)(this,function(mt){switch(mt.label){case 0:return ce=!1,(ve=v.UP.getSelectedCanvasItems(this.selection)).length>1&&(Re=ve[0].parentGroup,ce=_.every(ve,function(He){return He.parentGroup===Re}),Ke=(0,m.N$)(ve),ce=ce&&Ke<a.D5),(tt=!ce)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:tt=mt.sent(),mt.label=2;case 2:return[2,tt]}})})},Te}(p.V),I=function(be){function Te(ce,ve,Re){var Ke=be.call(this,"Merge",void 0,void 0,Re&&Re.groupVisualContainers)||this;return Ke.selection=ce,Ke.layoutAuthoring=ve,Ke}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return this.layoutAuthoring.mergeCanvasItemContainers(v.UP.getSelectedCanvasItems(this.selection)),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return ce=this.layoutAuthoring.canMergeCanvasItems(),(ve=!ce)?[3,2]:[4,be.prototype.isDisabled.call(this)];case 1:ve=Re.sent(),Re.label=2;case 2:return[2,ve]}})})},Te}(p.V),B=function(be){function Te(ce,ve,Re){var Ke=be.call(this,"Ungroup",void 0,void 0,Re&&Re.groupVisualContainers)||this;return Ke.container=ce,Ke.layoutAuthoring=ve,Ke}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return(ce=(0,o.q4)(this.container)?this.container:this.container.parentGroup)&&this.layoutAuthoring.ungroupCanvasItems(ce),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return ce=(0,o.q4)(this.container)||!!this.container.parentGroup,[4,be.prototype.isDisabled.call(this)];case 1:return[2,ve.sent()||!ce]}})})},Te}(p.V),U=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q){var Ue=be.call(this,"Summarize",void 0,void 0,He&&He.summarize)||this;return Ue.itemContainer=ce,Ue.explorationNavigation=ve,Ue.pluginOps=Re,Ue.selection=Ke,Ue.visualAuthoring=tt,Ue.viewModeState=mt,Ue.runningVisualService=ke,Ue.contextActivityService=ft,Ue.source=Le,Ue.featureSwitchService=Q,Ue}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re,Ke;return(0,e.__generator)(this,function(tt){return(0,o.Vz)(this.itemContainer)&&(ce=oe(this.itemContainer.name,this.contextActivityService,"SummarizeVisualContainer",this.source)),ve=this.getSelectedSummarizableVisuals(),Re=this.explorationNavigation.getCurrentExploreCanvas(),Ke=this.explorationNavigation.getAllSections(),this.featureSwitchService.featureSwitches.aiNarrativesVisual&&this.featureSwitchService.featureSwitches.aiNarrativesSingleEntryPoint?this.visualAuthoring.addEmptyVisualContainer(Ke,Re,y.L.aiNarratives.name,void 0,!0,ve):this.visualAuthoring.addVisualContainerTextbox(Ke,Re,void 0,!0,ve),null==ce||ce.resolve(),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,_.isEmpty(this.getSelectedSummarizableVisuals())]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return[2,ve.sent()&&1===this.viewModeState.getMode()]}})})},Te.prototype.getSelectedSummarizableVisuals=function(){var ce=this,ve=v.UP.getSelectedVisualContainers(this.selection);return _.filter(ve,function(Re){var Ke=ce.runningVisualService.getVisual(Re);return!(!_.isEmpty(Ke&&Ke.getErrorInfo())||(null==Ke?void 0:Ke.getHasPendingChanges()))&&ce.pluginOps.canSummarizeVisual((0,h.s)(Re))&&!(0,S.iv)(Re)&&!(0,S.tL)(Re)&&!(0,S.J6)(Re.config.singleVisual)})},Te.prototype.getToolTip=function(ce){return(0,e.__awaiter)(this,void 0,s.J,function(){var Re,Ke,tt;return(0,e.__generator)(this,function(mt){switch(mt.label){case 0:return[4,this.isDisabled()];case 1:return mt.sent()?(Re=v.UP.getSelectedVisualContainers(this.selection),Ke=Re.some(function(He){return(0,S.iv)(He)}),tt=Re.some(function(He){return(0,S.tL)(He)}),Ke?[2,ce.get("Summarize_Disabled_For_VC")]:tt?[2,ce.get("Summarize_Disabled_For_Hidden_Projections")]:[2]):[2]}})})},Te}(p.V),W=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){void 0===ke&&(ke=!1);var Q=be.call(this,"VisualTable_Show",void 0,ke?"itemIcon glyphicon pbi-glyph-seedata glyph-small":void 0,Le&&Le.seeData)||this;return Q.visualContainer=ce,Q.explorationCapabilities=ve,Q.drill=Re,Q.visibility=Ke,Q.pluginOps=tt,Q.contextActivityService=mt,Q.source=He,Q.viewModeState=ft,Q}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){return r.fF.assertValue(this.visibility,"visibility service is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"SeeData",this.source),ve=2,this.viewModeState&&this.viewModeState.getConfig().displayOptions.showVisualAccessibleData&&(ve=8),this.visibility.set(this.visualContainer,ve),ce.resolve(),[2]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return Re.sent()?this.explorationCapabilities.getCapabilities().disallowSeeData?[2,!1]:[2,this.visualContainer&&2!==this.visualContainer.visibility&&this.drill.canSeeData(this.visualContainer)&&!this.pluginOps.isAnalysisVisual((0,h.s)(this.visualContainer))]:[2,!1]}})})},Te}(p.V),j=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,"Group_Data_Action",ve,void 0,ke&&ke.createGroup)||this;return ft.visualContainer=ce,ft.conceptualSchemaProxy=Re,ft.dataSources=Ke,ft.featureSwitchService=tt,ft.groupAuthoring=mt,ft.promiseFactory=He,ft}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:if(this.pendingGroupOperation)return[2];this.pendingGroupOperation=!0,r.fF.assertValue(this.dataSources,"dataSources service is not provided."),r.fF.assertValue(this.conceptualSchemaProxy,"conceptualSchemaProxy service is not provided."),ce=this.dataSources.get(),Re.label=1;case 1:return Re.trys.push([1,,4,5]),[4,this.conceptualSchemaProxy.get(ce)];case 2:return ve=Re.sent(),r.fF.assertValue(this.groupAuthoring,"groupAuthoring service is not provided."),[4,this.groupAuthoring.visual.group(this.visualContainer,this.selectors,!0,ce,ve)];case 3:return Re.sent(),[3,5];case 4:return this.pendingGroupOperation=!1,[7];case 5:return[2]}})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re,Ke,mt;return(0,e.__generator)(this,function(He){switch(He.label){case 0:return(ce=!this.featureSwitchService.featureSwitches.enableGroupAuthoring)?[3,2]:[4,be.prototype.isVisible.call(this)];case 1:ce=!He.sent(),He.label=2;case 2:return ce?[2,!1]:(ve=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(ve)]:[2,!1];case 3:return Re=He.sent(),Ke=Re.schema(void 0),mt=!1!==(Ke&&Ke.capabilities&&Ke.capabilities.supportsGrouping)&&this.groupAuthoring.visual.canGroup(this.visualContainer,this.selectors,Re),[2,this.promiseFactory.resolve(mt)]}})})},Te}(p.V),K=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q,Ue){var ae=be.call(this,ce,Re,void 0,Ue&&Ue.includeExclude)||this;return ae.visualContainer=ve,ae.filterCreationKind=Ke,ae.conceptualSchemaProxy=tt,ae.dataSources=mt,ae.includeExcludeService=He,ae.promiseFactory=ke,ae.dataView=ft,ae.contextActivityService=Le,ae.source=Q,ae}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return r.fF.assertValue(this.includeExcludeService,"includeExclude service is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,3===this.filterCreationKind?"Include":"Exclude",this.source),this.includeExcludeService.setFilter(this.filterCreationKind,this.selectors,this.visualContainer,this.dataView),ce.resolve(),[2]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return Ke.sent()&&(0,i.Yw)(this.selectors)&&(ce=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(ce)]:[2,this.promiseFactory.resolve(!1)];case 2:return ve=Ke.sent(),null!=this.selectors[0].dataMap?(Re=this.includeExcludeService.isIncludeExcludeSupported(this.visualContainer,ve,this.selectors),[2,this.promiseFactory.resolve(Re)]):[2,this.promiseFactory.resolve(!1)]}})})},Te}(p.V),ee=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q){return be.call(this,"VisualContainer_ContextMenu_Include",ce,ve,3,Re,Ke,mt,He,Le,ke,ft,Q)||this}return(0,e.__extends)(Te,be),Te}(K),ie=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q){return be.call(this,"VisualContainer_ContextMenu_Exclude",ce,ve,4,Re,Ke,mt,He,Le,ke,ft,Q)||this}return(0,e.__extends)(Te,be),Te.prototype.isDisabled=function(){var ce,ve,Re;return(0,e.__awaiter)(this,void 0,s.J,function(){var Ke,tt,mt,He;return(0,e.__generator)(this,function(ke){switch(ke.label){case 0:if(Ke=null===(ve=null===(ce=this.dataView)||void 0===ce?void 0:ce.metadata)||void 0===ve?void 0:ve.columns)for(tt=0,mt=Ke;tt<mt.length;tt++)if(1===(null===(Re=null==(He=mt[tt])?void 0:He.parameter)||void 0===Re?void 0:Re.kind))return[2,this.promiseFactory.resolve(!0)];return[4,be.prototype.isDisabled.call(this)];case 1:return[2,ke.sent()]}})})},Te.prototype.getToolTip=function(ce){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return[4,this.isDisabled()];case 1:return Re.sent()?[2,this.promiseFactory.resolve(ce.get("DQP_Disabled_Operator"))]:[2,this.promiseFactory.resolve(ce.get("VisualContainer_ContextMenu_Exclude"))]}})})},Te}(K),he=function(be){function Te(ce,ve,Re,Ke,tt){var mt=be.call(this,"Slicer_Clear",void 0,void 0,tt&&tt.clearSelection)||this;return mt.visualContainer=ce,mt.runningVisual=ve,mt.contextActivityService=Re,mt.source=Ke,mt}return(0,e.__extends)(Te,be),Te.prototype.isVisible=function(){var ce,ve;return(0,e.__awaiter)(this,void 0,s.J,function(){var Re;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return Ke.sent()&&null!==(ce=this.runningVisual)&&void 0!==ce&&ce.getSelectedDatapoints&&(Re=null===(ve=this.runningVisual)||void 0===ve?void 0:ve.getSelectedDatapoints())?[2,!_.isEmpty(Re)]:[2,!1]}})})},Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return ce=oe(this.visualContainer.name,this.contextActivityService,"ClearSelection",this.source),this.runningVisual.clearSelectedDatapoints(),ce.resolve(),[2]})})},Te}(p.V),q=function(be){function Te(ce,ve,Re,Ke,tt,mt,He){var ke=be.call(this,ce,void 0,void 0,He&&He.copy)||this;return ke.viewModel=ve,ke.eventBridge=Re,ke.hasMetadata=Ke,ke.useModernClipboard=tt,ke.telemetryService=mt,ke}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return this.telemetryService.logEvent(n.hbA,{visualType:this.viewModel.name,hasMetadata:this.hasMetadata,entryPoint:"ContextMenu"}),this.eventBridge.publishToChannel(V.q7,{visual:this.viewModel,hasMetadata:this.hasMetadata,useModernClipboard:this.useModernClipboard}),[2]})})},Te}(p.V),Y=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q,Ue,ae,Se,nt){var vt=be.call(this,"Copy",void 0,void 0,nt&&nt.copy)||this;if(vt.visualContainer=ce,vt.clipboard=ve,vt.featureSwitchService=Re,vt.copyVisualImageService=Ke,vt.telemetryService=tt,vt.visualContainerCopyService=mt,vt.explorationCapabilities=He,vt.explorationNavigation=ke,vt.visibility=ft,vt.viewModeState=Le,vt.args=Q,vt.eventBridge=Ue,vt.contextActivityService=ae,vt.source=Se,vt.childCommands=[],vt.copyPasteService=(0,c.Ue)(),Q.copyArgs&&(Q.copyArgs.singleValue||Q.copyArgs.grid)&&(vt.childCommands.push(new G("Visual_CopyValue",vt.visualContainer.contract,vt.copyPasteService,vt.telemetryService,vt.args.copyArgs.singleValue,vt.contextActivityService,vt.source)),vt.childCommands.push(new me("Visual_CopySelection",vt.visualContainer.contract,vt.copyPasteService,vt.telemetryService,vt.args.copyArgs.grid,vt.contextActivityService,vt.source))),vt.visibility.get()||0!==vt.viewModeState.getMode()&&vt.childCommands.push(new re(vt.visualContainer.contract,"Visual_CopyVisual",vt.clipboard,vt.contextActivityService,vt.source)),(vt.featureSwitchService.featureSwitches.copyPasteMenuImage||vt.featureSwitchService.featureSwitches.copyPasteMenuMetadata)&&null!=vt.explorationNavigation.getCurrentExploration().reportId){var de=(0,h.s)(ce.contract);r.fF.assertValue(Ke,"copyVisualImage service is not provided."),r.fF.assertValue(mt,"visualContainerCopy service is not provided."),vt.copyVisualImageService.canCopy(de)&&vt.visualContainerCopyService.showCopyVisualImageOption(ce,vt.visualContainerCopyService.getActiveSection(),"ContextMenu")&&(vt.featureSwitchService.featureSwitches.copyPasteMenuImage&&vt.childCommands.push(new q("Image",vt.visualContainer,vt.eventBridge,!1,vt.explorationCapabilities.getCapabilities().useModernClipboard,vt.telemetryService)),vt.featureSwitchService.featureSwitches.copyPasteMenuMetadata&&vt.childCommands.push(new q("Image_WithCaption",vt.visualContainer,vt.eventBridge,!0,vt.explorationCapabilities.getCapabilities().useModernClipboard,vt.telemetryService)))}return vt}return(0,e.__extends)(Te,be),Object.defineProperty(Te.prototype,"commandsCount",{get:function(){return this.childCommands.length},enumerable:!1,configurable:!0}),Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,this.childCommands]})})},Te}(p.V),G=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,ce,void 0,void 0,ke&&ke.copy)||this;return ft.visualContainer=ve,ft.copyPasteService=Re,ft.telemetryService=Ke,ft.valueCallback=tt,ft.contextActivityService=mt,ft.source=He,ft}return(0,e.__extends)(Te,be),Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return[4,be.prototype.isDisabled.call(this)];case 1:return[2,ce.sent()||null===this.valueCallback||!("string"==typeof this.valueCallback||"function"==typeof this.valueCallback)]}})})},Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){return ce=oe(this.visualContainer.name,this.contextActivityService,"CopyValue",this.source),ve=(0,h.s)(this.visualContainer),this.copyPasteService.copyText(this.valueCallback,this.telemetryService,ve),ce.resolve(),[2]})})},Te}(p.V),me=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,ce,void 0,void 0,ke&&ke.copy)||this;return ft.visualContainer=ve,ft.copyPasteService=Re,ft.telemetryService=Ke,ft.valueCallback=tt,ft.contextActivityService=mt,ft.source=He,ft}return(0,e.__extends)(Te,be),Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return[4,be.prototype.isDisabled.call(this)];case 1:return[2,ce.sent()||null===this.valueCallback||"function"!=typeof this.valueCallback]}})})},Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){return ce=oe(this.visualContainer.name,this.contextActivityService,"CopySelection",this.source),ve=(0,h.s)(this.visualContainer),this.copyPasteService.copyGrid(this.valueCallback,this.telemetryService,ve),ce.resolve(),[2]})})},Te}(p.V),re=function(be){function Te(ce,ve,Re,Ke,tt,mt){var He=be.call(this,ve,void 0,void 0,mt&&mt.copy)||this;return He.visualContainer=ce,He.clipboard=Re,He.contextActivityService=Ke,He.source=tt,He}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){return ce=oe(this.visualContainer.name,this.contextActivityService,"CopyVisual",this.source),this.clipboard.copy(),ce.resolve(),[2]})})},Te}(p.V),le=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q,Ue,ae,Se,nt){var vt=be.call(this,"VisualContainer_ContextMenu_Analyze",ve,void 0,null==nt?void 0:nt.insightsAnalysis)||this;return vt.visualContainer=ce,vt.position=Re,vt.conceptualSchemaProxy=Ke,vt.dataSources=tt,vt.eventBridge=mt,vt.explorationCapabilities=He,vt.explorationNavigation=ke,vt.lazyScoped=ft,vt.viewModeState=Le,vt.queryHandler=Q,vt.analysisType=Ue,vt.contextActivityService=ae,vt.source=Se,vt.displayOverride=nt,vt}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Ke,tt;return(0,e.__generator)(this,function(He){switch(He.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return He.sent()&&(ce=this.dataSources.get())&&(ve=this.explorationCapabilities.getCapabilities())&&ve.insights?[4,this.lazyScoped.get(b.jU)]:[2,!1];case 2:return He.sent().getState()?[2,!1]:[4,this.conceptualSchemaProxy.get(ce)];case 3:return Ke=He.sent(),[4,this.getAnalysisOptions(Ke)];case 4:return tt=He.sent(),[2,!_.isEmpty(tt)]}})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return(0,S.J6)(this.visualContainer.config.singleVisual)||this.shouldDisableBecauseOfVisualCalc()?[2,!0]:[2,be.prototype.isDisabled.call(this)]})})},Te.prototype.getToolTip=function(ce){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ve){return this.shouldDisableBecauseOfVisualCalc()?[2,ce.get("VisualContainer_ContextMenu_Analyze_Disabled_For_VC")]:[2]})})},Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re,Ke,tt,mt,ke;return(0,e.__generator)(this,function(ft){switch(ft.label){case 0:return(ce=this.dataSources.get())?[4,this.conceptualSchemaProxy.get(ce)]:[2,void 0];case 1:return ve=ft.sent(),[4,this.getAnalysisOptions(ve)];case 2:if(Re=ft.sent(),!_.isEmpty(Re)){for(Ke=[],tt=0,mt=Re;tt<mt.length;tt++)ke=new Ee(this.selectors,this.visualContainer,this.position,mt[tt],this.dataSources,this.eventBridge,this.explorationNavigation,this.viewModeState,this.lazyScoped,this.contextActivityService,this.source,this.displayOverride),Ke.push(ke);return[2,Ke]}return[2,null]}})})},Te.prototype.getAnalysisOptions=function(ce){return(0,e.__awaiter)(this,void 0,s.J,function(){var ve,Re;return(0,e.__generator)(this,function(tt){switch(tt.label){case 0:return[4,this.lazyScoped.get(b.wn)];case 1:return ve=tt.sent(),[4,this.queryHandler.getCachedQueryOrGenerate({contract:this.visualContainer})];case 2:return null==(Re=tt.sent())?[2]:[2,ve.getOptions(this.visualContainer,Re.filterContext,this.selectors,ce,this.analysisType)]}})})},Te.prototype.shouldDisableBecauseOfVisualCalc=function(){return this.selectors.some(function(ce){var ve;return null===(ve=ce.valueDetails)||void 0===ve?void 0:ve.some(function(Re){return(0,l.jX)(Re.expr)})})},Te}(p.V),Ee=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q,Ue){var ae=be.call(this,null,ce,void 0,Ue&&Ue.insightsAnalysis)||this;return ae.visualContainer=ve,ae.position=Re,ae.insightsAnalysisData=Ke,ae.dataSources=tt,ae.eventBridge=mt,ae.explorationNavigation=He,ae.viewModeState=ke,ae.lazyScoped=ft,ae.contextActivityService=Le,ae.source=Q,ae}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return r.fF.assertValue(this.insightsAnalysisData,"expect insightsAnalysisData to be defined."),r.fF.assertValue(this.explorationNavigation,"explorationNavigation service is not provided."),r.fF.assertValue(this.dataSources,"dataSources service is not provided."),r.fF.assertValue(this.viewModeState,"viewModeState service is not provided."),r.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"Analyze",this.source),[4,this.lazyScoped.get(b.aq)];case 1:return ve=Re.sent(),this.insightsAnalysisData.useInsightsPane?[4,ve.showInsightsFor(this.insightsAnalysisData)]:[3,3];case 2:return Re.sent(),[3,5];case 3:return[4,ve.launch(this.insightsAnalysisData,this.position)];case 4:Re.sent(),Re.label=5;case 5:return ce.resolve(),[2]}})})},Te.prototype.title=function(ce){return ce&&this.defaultTitleKey?ce.get(this.defaultTitleKey):this.insightsAnalysisData.question},Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,null]})})},Te}(p.V),Ne=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q,Ue,ae){var Se=be.call(this,Ue||"Drillthrough",ve,"pbi-glyph-drillthrough",ae&&ae.drillthrough)||this;return Se.visualContainer=ce,Se.drillthroughEntryPoint=Re,Se.drill=Ke,Se.explorationNavigation=tt,Se.lazyScoped=mt,Se.pluginOps=He,Se.queryHandler=ke,Se.telemetryService=ft,Se.contextActivityService=Le,Se.source=Q,Se.displayOverride=ae,Se}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re=this;return(0,e.__generator)(this,function(Ke){switch(Ke.label){case 0:return(ce=_.isEmpty(this.selectors))?[3,2]:[4,be.prototype.isVisible.call(this)];case 1:ce=!Ke.sent(),Ke.label=2;case 2:return ce?[2,!1]:this.drill.canDrillthrough(this.visualContainer)?(r.fF.assert(function(){return void 0===Re.children},"children should not be set yet"),ve=this,[4,this.getChildren()]):[3,4];case 3:return ve.children=Ke.sent(),[2,!_.isEmpty(this.children)];case 4:return[2,!1]}})})},Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve,Re,Ke,mt,ke=this;return(0,e.__generator)(this,function(ft){switch(ft.label){case 0:return void 0!==this.children?[2,this.children]:(ce=this.drillthroughEntryPoint,ve=this.explorationNavigation.getCurrentSection(),Re=(0,h.s)(this.visualContainer),_.isEmpty(this.selectors)||_.isEmpty(ve.name)||!this.pluginOps.isQueryVisual(Re)?[2,[]]:[4,this.queryHandler.getCachedQueryOrGenerate({contract:this.visualContainer})]);case 1:return Ke=ft.sent(),r.fF.assertValue(Ke,"query should be defined"),null==Ke?[2]:[4,this.lazyScoped.get(b.AB)];case 2:return[4,ft.sent().getDrillthroughActions(ve.name,this.visualContainer,this.selectors,Ke.filterContext)];case 3:return mt=ft.sent(),[2,_.map(mt,function(Le){return new Ye(ke.visualContainer,Le,ce,ke.lazyScoped,ke.telemetryService,ke.contextActivityService,ke.source,ke.displayOverride)})]}})})},Te}(p.V),Ye=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,"Drillthrough",void 0,void 0,ke&&ke.drillthrough)||this;return ft.visualContainer=ce,ft.drillthroughActionData=ve,ft.drillthroughEntryPoint=Re,ft.lazyScoped=Ke,ft.telemetryService=tt,ft.contextActivityService=mt,ft.source=He,ft}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(Re){switch(Re.label){case 0:return r.fF.assertValue(this.drillthroughActionData,"expect drillthroughActionData to be defined."),r.fF.assertValue(this.drillthroughEntryPoint,"expect drillthroughEntryPoint to be defined."),r.fF.assertValue(this.lazyScoped,"lazyScoped service is not provided."),r.fF.assertValue(this.telemetryService,"telemetryService service is not provided."),ce=oe(this.visualContainer.name,this.contextActivityService,"DrillThrough",this.source),[4,this.lazyScoped.get(b.AB)];case 1:return Re.sent().applyDrillthroughState(this.drillthroughActionData,!0),ce.resolve(),this.telemetryService.logEvent(n.$xe,{entryPoint:this.drillthroughEntryPoint,toExternalReport:!!this.drillthroughActionData.targetReportGuid}),[2]}})})},Te.prototype.title=function(ce){return this.drillthroughActionData.reportDisplayName?this.drillthroughActionData.sectionDisplayName+" ["+this.drillthroughActionData.reportDisplayName+"]":this.drillthroughActionData.sectionDisplayName},Te}(p.V),Je=function(be){function Te(ce,ve,Re){var Ke=be.call(this,null,void 0,void 0,ve&&ve.extensions)||this;return Ke.groupTitle=ce,Ke.menuLocation=Re,Ke.children=[],Ke}return(0,e.__extends)(Te,be),Te.prototype.title=function(ce){return this.groupTitle},Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,this.children]})})},Te.prototype.addChild=function(ce){this.children.push(ce)},Object.defineProperty(Te.prototype,"isEmpty",{get:function(){return 0===this.children.length},enumerable:!1,configurable:!0}),Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,be.prototype.isVisible&&!this.isEmpty]})})},Te}(p.V),_e=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q){var Ue=be.call(this,null,ve,void 0,Q&&Q.extensions,void 0,ft)||this;return Ue.visualContainer=ce,Ue.commandName=Re,Ue.commandTitle=Ke,Ue.eventBridge=tt,Ue.explorationExtensibilityService=mt,Ue.contextActivityService=He,Ue.source=ke,Ue.visualContainerDataSelectionService=Le,r.fF.assertValue(Re,"commandName is not provided."),Ue}return(0,e.__extends)(Te,be),Te.prototype.title=function(ce){return this.commandTitle},Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,ve;return(0,e.__generator)(this,function(Re){return ce=oe(this.visualContainer.name,this.contextActivityService,"ExtensionCommand",this.source),ve=this.getDataPointsDescriptions(),this.explorationExtensibilityService.executeCustomCommand(this.eventBridge,this.visualContainer,this.commandName,ve),ce.resolve(),[2]})})},Te.prototype.getDataPointsDescriptions=function(){var ce=[];if(this.visualContainerDataSelectionService&&!_.isEmpty(this.selectors))for(var ve=0,Re=this.selectors;ve<Re.length;ve++){var Ke=Re[ve],tt=this.visualContainerDataSelectionService.getSelectedValues(Ke);ce.push({selector:Ke,values:tt})}return ce},Te}(p.V),pe=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,"Format",void 0,void 0,ke&&ke.turnOnFormatMode)||this;return ft.featureSwitchService=ce,ft.panesVisibilityService=ve,ft.viewModeState=Re,ft.container=Ke,ft.selectionService=tt,ft.visualPlugin=mt,ft.visualPluginOps=He,ft}return(0,e.__extends)(Te,be),Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return[2,ce.sent()&&this.featureSwitchService.featureSwitches.onObject&&1===this.viewModeState.getMode()]}})})},Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce,Re=this;return(0,e.__generator)(this,function(Ke){return ce=v.UP.getSelectedVisualContainers(this.selectionService),_.find(ce,function(tt){return tt.name===Re.container.name})||this.selectionService.selectElement({id:this.container.id,canvasItem:this.container},0),this.viewModeState.setFormatMode(!0,"Context Menu"),this.panesVisibilityService.isPaneVisible("format")||this.panesVisibilityService.togglePaneVisibility("format"),[2]})})},Te.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,(0,f.LR)(this.visualPlugin,this.visualPluginOps,this.container)]})})},Te}(p.V),fe=function(be){function Te(ce,ve,Re,Ke,tt){var mt=be.call(this,"NewVisualCalc",void 0,void 0,tt&&tt.seeData)||this;return mt.visualContainer=ce,mt.contextActivityService=ve,mt.source=Re,mt.visualCalcEagerService=Ke,mt}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return ce=oe(this.visualContainer.name,this.contextActivityService,"CreateVisualCalculation",this.source),[4,this.visualCalcEagerService.enterVisualCalcMode(this.visualContainer,void 0)];case 1:return ve.sent(),ce.resolve(),[2]}})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){switch(ce.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return ce.sent()?[4,this.visualCalcEagerService.canSupportVisualCalc(this.visualContainer)]:[2,!1];case 2:return[2,ce.sent()]}})})},Te}(p.V);function oe(be,Te,ce,ve){return Te.createActivity({name:"VisualAction",visualName:be,data:{action:ce,source:ve}})}var ye=function(be){function Te(ce,ve,Re,Ke,tt,mt,He){var ke=be.call(this,"Sharing_Visual_LinkToVisual",void 0,"pbi-glyph-link",He&&He.shareVisual)||this;return ke.eventBridge=ce,ke.explorationCapabilities=ve,ke.menuOptions=Re,ke.source=Ke,ke.viewModeState=tt,ke.visualContainer=mt,ke}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return this.eventBridge.publishToChannel(d.wCO,{visual:this.visualContainer,source:this.source}),[2]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return(ce=this.explorationCapabilities.getCapabilities().allowShareVisual&&0===this.viewModeState.getMode())?[4,be.prototype.isVisible.call(this)]:[3,2];case 1:ce=ve.sent(),ve.label=2;case 2:return[2,ce&&this.menuOptions.canShareVisual]}})})},Te}(p.V),Ce=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke){var ft=be.call(this,"Storytelling_Export_Open_In_PowerPoint",void 0,"pbi-glyph-powerpoint",ke&&ke.shareVisual)||this;return ft.eventBridge=ce,ft.explorationCapabilities=ve,ft.menuOptions=Re,ft.source=Ke,ft.viewModeState=tt,ft.visualContainer=mt,ft.featureSwitchService=He,ft}return(0,e.__extends)(Te,be),Te.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return this.eventBridge.publishToChannel(d.gsN,{visual:this.visualContainer,source:this.source}),[2]})})},Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return(ce=this.explorationCapabilities.getCapabilities().allowShareVisual&&0===this.viewModeState.getMode())?[4,be.prototype.isVisible.call(this)]:[3,2];case 1:ce=ve.sent(),ve.label=2;case 2:return[2,ce&&this.featureSwitchService.featureSwitches.storytellingTenantEnabled&&D.exportToPPTLiveEnabled&&this.menuOptions.canShareVisual]}})})},Te}(p.V),Be=function(be){function Te(ce,ve,Re,Ke,tt,mt,He,ke,ft,Le){var Q=be.call(this,"Share",void 0,"VisualHeader"===He?"pbi-glyph-share":void 0,Le&&Le.shareVisual)||this;return Q.childCommands=[new ye(ce,ve,tt,He,Re,ke.contract,Le),new C.dc(ke,Ke,ce,tt,mt,He,Le),new Ce(ce,ve,tt,He,Re,ke.contract,ft,Le)],Q}return(0,e.__extends)(Te,be),Te.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){var ce;return(0,e.__generator)(this,function(ve){switch(ve.label){case 0:return[4,be.prototype.isVisible.call(this)];case 1:return(ce=ve.sent())?[4,window.Promise.all(this.childCommands.map(function(Re){return Re.isVisible()}))]:[3,3];case 2:ce=ve.sent().some(function(Re){return Re}),ve.label=3;case 3:return[2,ce]}})})},Te.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(ce){return[2,this.childCommands]})})},Te}(p.V)},866409:function(Xe,H,t){t.d(H,{R:function(){return d}});var e=t(136847),l=t(40152),o=t(927903);function d(S,h){return new v(S,h)}var v=function(){function S(h,c){this.visualContainer=h,this.visualPluginOps=c}return S.prototype.getSelectedValues=function(h){if(h.valueDetails){var c=this.filterThroughValueDetails(h.valueDetails,h.metadata);return this.amendIdentityToValueDetails(h,c)}var s=(0,l.s)(this.visualContainer.contract),u=(0,o.Xf)(this.visualContainer.contract),i=this.visualPluginOps.dataViewKinds(s,u);return e.Om.query(this.getDataViews(),h,i)},S.prototype.filterThroughValueDetails=function(h,c){return c?_.filter(h,function(r){return _.includes(c,r.queryName)}):h},S.prototype.amendIdentityToValueDetails=function(h,c){for(var r=[],s=0,u=c;s<u.length;s++){var i=u[s];r.push({queryName:i.queryName,identity:i.identity||h.dataMap&&_.values(h.dataMap)[0][0],expr:i.expr,value:i.value,formattedValue:i.formattedValue})}return r},S.prototype.getDataViews=function(){var h=this.visualContainer&&this.visualContainer.getRunningVisual();return h&&h.getDataViews()},S}()},505122:function(Xe,H,t){t.d(H,{Q:function(){return h}});var e=t(973188),l=t(915382),o=t(498342),d=t(275179),v=t(909546),S=t(90908);function h(r,s,u,i,a,n,m,f,V,p,C,b,y,D,P,F,E,w,x,R,g,L,M,T,O,N,A,I,B,U,W,j){return new c(r,s,u,i,a,n,V,p,C,m,b,R,y,D,P,f,L,M,E,g,x,F,w,T,O,N,A,I,B,U,W,j)}var c=function(){function r(s,u,i,a,n,m,f,V,p,C,b,y,D,P,F,E,w,x,R,g,L,M,T,O,N,A,I,B,U,W,j,K){this.conceptualSchemaProxy=s,this.contextActivityService=u,this.clipboard=i,this.dataSources=a,this.drill=n,this.expandCollapse=m,this.eventBridge=f,this.explorationCapabilities=V,this.explorationNavigation=p,this.explorationExtensibility=C,this.featureSwitchService=b,this.filterGenerator=y,this.groupAuthoring=D,this.includeExcludeService=P,this.lazyScoped=F,this.drillToDetails=E,this.panesVisibilityService=w,this.pluginOps=x,this.promiseFactory=R,this.telemetryService=g,this.viewModeState=L,this.visibility=M,this.visualAuthoring=T,this.overlayService=O,this.undoRedo=N,this.visualPlugin=A,this.selection=I,this.layoutAuthoring=B,this.runningVisualService=U,this.copyVisualImageService=W,this.visualCalcEagerService=j,this.visualContainerCopyService=K}return r.prototype.createDrillthroughCommands=function(s,u,i){var a=this.explorationExtensibility.getCommandsDisplayOptions(s.name);return new v.dl(s,u,"ModeOn",this.drill,this.explorationNavigation,this.lazyScoped,this.pluginOps,i,this.telemetryService,this.contextActivityService,"ContextMenu",void 0,a)},r.prototype.createOptionsCommands=function(s,u,i){var a=this;o.fF.assert(function(){return null!==a.explorationNavigation.getCurrentExploration()},"Exploration cannot be null while creating visual container option commands.");var n=this.explorationNavigation.getCurrentExploration().settings,m=this.explorationExtensibility.getCommandsDisplayOptions(s.contract.name),f=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],this.featureSwitchService.featureSwitches.visualSharingEntryPointOptions?[new v.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,u,this.contextActivityService,"VisualHeader",s,this.featureSwitchService,m)]:[],!0),[new S.eY(s,this.eventBridge,u,this.contextActivityService,"VisualHeader",m)],!1),this.featureSwitchService.featureSwitches.tridentPrivatePreviewEnabled&&this.featureSwitchService.featureSwitches.tridentProductReflex&&this.featureSwitchService.featureSwitches.reflexPBIArtifact?[new S.pq(s,this.selection,this.panesVisibilityService,this.featureSwitchService,this.explorationCapabilities,this.contextActivityService,this.telemetryService,"VisualHeader",m)]:[],!0),this.featureSwitchService.featureSwitches.visualSharingEntryPointOptions?[]:[new S.dc(s,this.visibility,this.eventBridge,u,this.contextActivityService,"VisualHeader",m)],!0),[new S.Vj(s,this.filterGenerator,this.overlayService,this.undoRedo,this.visualAuthoring,this.visualPlugin,u,this.contextActivityService,"VisualHeader",m),new S.ky(s,this.eventBridge,this.overlayService,u,this.contextActivityService,"VisualHeader",m),new S.Ol(s,this.conceptualSchemaProxy,this.dataSources,this.eventBridge,this.featureSwitchService,this.filterGenerator,this.overlayService,u,n,this.contextActivityService,"VisualHeader",m),new v.IX(s.contract,this.explorationCapabilities,this.drill,this.visibility,this.pluginOps,this.contextActivityService,"VisualHeader",!0,this.viewModeState,m),new S.Qz(s,this.eventBridge,this.undoRedo,u,this.contextActivityService,"VisualHeader",m),new S.ig(s,this.eventBridge,u,this.contextActivityService,"VisualHeader",m),new S.qr(s,this.visibility,u,this.contextActivityService,"VisualHeader",m),new S.GB(s,u,this.lazyScoped,this.telemetryService,this.contextActivityService,"VisualHeader",m)],!1),this.getSortCommands(s,u,m),!0),[new v.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,s.contract,this.selection,this.visualPlugin,this.pluginOps,m)],!1);return this.getCustomCommands(f,1,s.contract,i,void 0,m)},r.prototype.getSortCommands=function(s,u,i){if(_.isEmpty(u.sortSetting.sortGroups))return[];var a=u.sortSetting.sortGroups;if(1===a.length&&a[0].isDefaultGroup){var n=a[0];return[new S.BM(s,this.eventBridge,this.overlayService,u,n,this.contextActivityService,"VisualHeader",i),new S.cN(s,this.eventBridge,this.overlayService,u,n,this.contextActivityService,"VisualHeader",i),new S.JS(s,this.eventBridge,this.overlayService,u,this.contextActivityService,"VisualHeader",i)]}for(var m=[],f=0,V=a;f<V.length;f++){var C=new S.pr(s,this.eventBridge,this.overlayService,u,V[f],this.contextActivityService,"VisualHeader",i);m.push(C)}return m},r.prototype.createNonQueryCommands=function(s,u){var i=this.explorationExtensibility.getCommandsDisplayOptions(s.name),a=this.explorationNavigation.getCurrentExploration().settings,n=(0,e.__spreadArray)((0,e.__spreadArray)([],(0,l.q4)(s.contract)?[]:[new v.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,(0,e.__assign)((0,e.__assign)({},u),{canShareVisual:!0}),this.contextActivityService,"ContextMenu",s,this.featureSwitchService,i)],!0),[new v.XU(s.contract,this.selection,this.layoutAuthoring,this.viewModeState,a,i)],!1);return this.featureSwitchService.featureSwitches.daxTransformEnabled&&n.push(new v.uF(s.contract,this.explorationNavigation,this.pluginOps,this.selection,this.visualAuthoring,this.viewModeState,i,this.runningVisualService,this.contextActivityService,"ContextMenu",this.featureSwitchService)),this.featureSwitchService.featureSwitches.onObject&&n.push(new v.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,s.contract,this.selection,this.visualPlugin,this.pluginOps,i)),n},r.prototype.createCommands=function(s,u,i,a,n,m,f,V){return(0,e.__awaiter)(this,void 0,d.J,function(){var p,C,b,y,D,P,F,E,w,x,R,g,L,M;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return o.fF.assertValue(u,"args"),!n||(0,l.q4)(s.contract)?[2,this.createNonQueryCommands(s,m)]:(p=s,C=this.runningVisualService.getVisual(s.contract),b=u.data,y=u.dataRoles,D=u.nodeIndex,P=u.position,F=[],E=this.explorationExtensibility.getCommandsDisplayOptions(p.name),w=this.explorationNavigation.getCurrentExploration().settings,F.push(new v.tZ(this.eventBridge,this.explorationCapabilities,this.viewModeState,this.visibility,(0,e.__assign)((0,e.__assign)({},m),{canShareVisual:!0}),this.contextActivityService,"ContextMenu",p,this.featureSwitchService,E)),[4,this.conceptualSchemaProxy.get(this.dataSources.get())]);case 1:if(x=O.sent().schema(void 0),this.expandCollapse.isSupported(x&&x.capabilities,s.contract,y)&&this.expandCollapse.isEnabled(s.contract,y)&&(R=this.expandCollapse.getAllowedActions(s.contract,y,b))&&(F.push(new v.Yd(p.contract,R,!1,b,y,D,a,this.contextActivityService,"ContextMenu",E)),F.push(new v.Yd(p.contract,R,!0,b,y,D,a,this.contextActivityService,"ContextMenu",E))),F.push(new v.ab(s.contract,b,y,this.dataSources,this.drill,this.visualAuthoring,C,this.contextActivityService,"ContextMenu",void 0,E),new v.of(s.contract,this.explorationCapabilities,b,this.drill,this.dataSources,this.drillToDetails,C,this.contextActivityService,"ContextMenu",E),new v.IX(s.contract,this.explorationCapabilities,this.drill,this.visibility,this.pluginOps,this.contextActivityService,"ContextMenu",void 0,this.viewModeState,E),new v.gI(s.contract,this.contextActivityService,"ContextMenu",this.visualCalcEagerService,E),new v.oT(s.contract,y,this.visualAuthoring,this.drill,C,this.contextActivityService,"ContextMenu",E),new v.ok(s.contract,y,this.visualAuthoring,this.drill,C,this.contextActivityService,"ContextMenu",E),new v.Ue(s.contract,b,y,this.drill,this.visualAuthoring,C,this.contextActivityService,"ContextMenu",void 0,E),new v.$G(s.contract,b,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.groupAuthoring,this.promiseFactory,E),new v.x0(s.contract,b,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.includeExcludeService,this.promiseFactory,this.contextActivityService,"ContextMenu",V,E),new v.TM(s.contract,b,this.conceptualSchemaProxy,this.dataSources,this.featureSwitchService,this.includeExcludeService,this.promiseFactory,this.contextActivityService,"ContextMenu",V,E),new v.dl(s.contract,b,"ContextMenu",this.drill,this.explorationNavigation,this.lazyScoped,this.pluginOps,i,this.telemetryService,this.contextActivityService,"ContextMenu",void 0,E),new v.Ys(s.contract,b,P,this.conceptualSchemaProxy,this.dataSources,this.eventBridge,this.explorationCapabilities,this.explorationNavigation,this.lazyScoped,this.viewModeState,i,void 0,this.contextActivityService,"ContextMenu",E),new v.XU(s.contract,this.selection,this.layoutAuthoring,this.viewModeState,w,E),new v.gM(p.contract,C,this.contextActivityService,"ContextMenu",E)),this.featureSwitchService.featureSwitches.daxTransformEnabled&&F.push(new v.uF(p.contract,this.explorationNavigation,this.pluginOps,this.selection,this.visualAuthoring,this.viewModeState,E,this.runningVisualService,this.contextActivityService,"ContextMenu",this.featureSwitchService)),(g=new v.HK(p,this.clipboard,this.featureSwitchService,this.copyVisualImageService,this.telemetryService,this.visualContainerCopyService,this.explorationCapabilities,this.explorationNavigation,this.visibility,this.viewModeState,u,this.eventBridge,this.contextActivityService,"ContextMenu",E)).commandsCount>0&&(this.featureSwitchService.featureSwitches.copyPasteMenuImage||this.featureSwitchService.featureSwitches.copyPasteMenuMetadata?F.unshift(g):F.push(g)),this.featureSwitchService.featureSwitches.onObject&&F.push(new v.il(this.featureSwitchService,this.panesVisibilityService,this.viewModeState,s.contract,this.selection,this.visualPlugin,this.pluginOps,E)),u.visualCommandConfigs)for(L=0,M=u.visualCommandConfigs;L<M.length;L++)F.push(new v.eA(M[L]));return[2,this.getCustomCommands(F,0,p.contract,b,f,E)]}})})},r.prototype.getCustomCommands=function(s,u,i,a,n,m){var V,f=this,p={};return null===(V=this.explorationExtensibility.getGroups())||void 0===V||V.forEach(function(C){p[C.name]=new v.J_(C.title,m,C.menuLocation)}),this.getCommandExtensions(i,u).forEach(function(C){var b=f.getCommandMenuExtension(C,u);o.fF.assert(function(){return!!b},"extensionPoint shouldn't be null");var y=new v.ft(i,a,C.name,b.title||C.title,f.eventBridge,f.explorationExtensibility,f.contextActivityService,"ContextMenu",b.icon||C.icon,n,m),D=b.groupName&&p[b.groupName];D?(D.isEmpty&&(1===D.menuLocation?s.unshift(D):s.push(D)),D.addChild(y)):1===b.menuLocation?s.unshift(y):s.push(y)}),s},r.prototype.getCommandMenuExtension=function(s,u){var i=s&&s.extend;switch(u){case 0:return i&&i.visualContextMenu;case 1:return i&&i.visualOptionsMenu;default:o.fF.assertNever(u)}},r.prototype.getCommandExtensions=function(s,u){var i=this,a=this.explorationExtensibility.getCommandExtensions()||[];switch(s&&(a=a.filter(function(n){return i.visualMenuShouldHaveCommand(s,n)})),u){case 0:return a.filter(function(n){return n.extend&&n.extend.visualContextMenu});case 1:return a.filter(function(n){return n.extend&&n.extend.visualOptionsMenu});default:o.fF.assertNever(u)}},r.prototype.visualMenuShouldHaveCommand=function(s,u){return!u.visuals||u.visuals.some(function(i){return i===s.name})},r}()},90908:function(Xe,H,t){t.d(H,{BM:function(){return D},GB:function(){return x},JS:function(){return F},Ol:function(){return i},Qz:function(){return f},Vj:function(){return u},cN:function(){return P},dc:function(){return b},eY:function(){return a},ig:function(){return p},ky:function(){return m},pq:function(){return n},pr:function(){return E},qr:function(){return C}});var e=t(973188),l=t(715770),o=t(306018),d=t(927903),v=t(40152),S=t(498342),h=t(275179),c=t(204553),r=t(620581),s=t(692696),u=function(g){function L(M,T,O,N,A,I,B,U,W,j){var K=g.call(this,"Slicer_SearchBox_Text",void 0,"itemIcon glyphicon pbi-glyph-search glyph-small",j&&j.search)||this;return K.visualContainer=M,K.filterGenerator=T,K.overlayService=O,K.undoRedo=N,K.visualAuthoring=A,K.visualPlugin=I,K.menuOptions=B,K.contextActivityService=U,K.source=W,K.selected=K.isSearchOn,K}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){return S.fF.assertValue(this.overlayService,"overlay service is not provided."),S.fF.assertValue(this.undoRedo,"undoRedo service is not provided."),S.fF.assertValue(this.visualAuthoring,"visualAuthoring service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"ToggleSearch",this.source),this.visualAuthoring.toggleSlicerVisualSearch(this.visualContainer.contract,this.filterGenerator,this.visualPlugin),this.overlayService.hideAllDropdowns(),this.announceSelectionState(this.visualContainer.visualHostServices,this.isSearchOn),M.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canSearch&&g.prototype.isVisible.call(this)]})})},Object.defineProperty(L.prototype,"isSearchOn",{get:function(){var T=this.visualContainer.contract.config.singleVisual;if(!T||!T.objects)return!1;var O=(0,d.cj)(this.visualContainer.contract,this.visualPlugin);if(!O)return!1;var N=this.filterGenerator.tryGetSelfFilterEnabledProperty(O);if(!N)return!1;var A=(0,c.NA)(T.objects,N,null);return A&&A.value||!1},enumerable:!1,configurable:!0}),L}(s.V),i=function(g){function L(M,T,O,N,A,I,B,U,W,j,K,ee){var ie=g.call(this,"ExportData_MenuItem",void 0,"itemIcon glyphicon pbi-glyph-export glyph-small",ee&&ee.exportData)||this;return ie.visualContainer=M,ie.conceptualSchemaProxy=T,ie.dataSources=O,ie.eventBridge=N,ie.featureSwitchService=A,ie.filterGenerator=I,ie.overlayService=B,ie.menuOptions=U,ie.explorationSettings=W,ie.contextActivityService=j,ie.source=K,ie}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M,T,O,N,A,I,B;return(0,e.__generator)(this,function(U){switch(U.label){case 0:S.fF.assertValue(this.conceptualSchemaProxy,"conceptualSchemaProxy service is not provided."),S.fF.assertValue(this.dataSources,"dataSources service is not provided."),S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),S.fF.assertValue(this.overlayService,"overlay service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"ExportVisualData",this.source),T=this.visualContainer.getRunningVisual(),N=null!=(O=this.visualContainer.visualTitle)?O.text:"",A=this.dataSources.get(),U.label=1;case 1:return U.trys.push([1,3,4,5]),[4,this.conceptualSchemaProxy.get(A)];case 2:return I=U.sent(),this.eventBridge.publishToChannel(l.Diu,{visualData:{data:T.getData(),dataTransforms:T.getDataTransforms()},visualContainer:this.visualContainer.contract,visualTitle:N,additionalFilters:this.visualContainer.hostServices.getFilters(this.filterGenerator,I)}),[3,5];case 3:return B=U.sent(),S.fF.log(B),[3,5];case 4:return this.overlayService.hideAllDropdowns(),M.resolve(),[7];case 5:return[2]}})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canExport&&g.prototype.isVisible.call(this)]})})},L.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){switch(M.label){case 0:return[4,g.prototype.isDisabled.call(this)];case 1:return[2,M.sent()||this.explorationSettings&&this.explorationSettings.exportDataMode&&2===this.explorationSettings.exportDataMode||this.menuOptions.exportDataDenied||this.featureSwitchService.featureSwitches.disableExportDataOnVisualError&&this.visualHasError()||!!this.visualContainer.visualPausedWarning||(0,d.iv)(this.visualContainer.contract)||(0,d.tL)(this.visualContainer.contract)]}})})},L.prototype.visualHasError=function(){return!!this.visualContainer.errorInfo},L.prototype.getToolTip=function(M){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(N){switch(N.label){case 0:return[4,this.isDisabled()];case 1:return N.sent()?this.menuOptions.exportDataDenied?[2,M.get("ExportData_DeniedTooltip")]:(0,d.iv)(this.visualContainer.contract)||(0,d.tL)(this.visualContainer.contract)?[2,M.get("ExportData_DisabledTooltip_For_VC_Hidden")]:this.visualHasError()?[2,M.get("VisualContainer_ExportDataDisabled_VisualError_Tooltip")]:[2,M.get("VisualContainer_ExportDataDisabled_Tooltip")]:[2,null]}})})},L}(s.V),a=function(g){function L(M,T,O,N,A,I){var B=g.call(this,"AddComment",void 0,"itemIcon glyphicon glyph-small pbi-glyph-comment",I&&I.addComment)||this;return B.visualContainer=M,B.eventBridge=T,B.menuOptions=O,B.contextActivityService=N,B.source=A,B}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){return S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"AddCommentVisual",this.source),this.eventBridge.publishToChannel(l.v3I,{visualContainerId:this.visualContainer.id}),M.resolve(),[2]})})},L.prototype.isVisible=function(){return this.menuOptions.canAddComment&&g.prototype.isVisible.call(this)},L}(s.V),n=function(g){function L(M,T,O,N,A,I,B,U,W){var j=g.call(this,"ReportAppBar_Alerts",void 0,"itemIcon glyphicon glyph-small pbi-glyph-bell",W&&W.reflexTrigger)||this;return j.visualContainer=M,j.selection=T,j.paneVisibilityService=O,j.featureSwitchService=N,j.explorationCapabilitiesService=A,j.contextActivityService=I,j.telemetryService=B,j.source=U,j}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){return M=R(this.visualContainer.name,this.contextActivityService,"ReflexTriggerAction",this.source),o.UP.selectCanvasItem(this.visualContainer.contract,this.selection),this.paneVisibilityService.isPaneVisible("reflex")||(this.paneVisibilityService.togglePaneVisibility("reflex"),this.telemetryService.logEvent(r.RfG,{visualType:this.visualContainer.getVisualType(),visualName:this.visualContainer.name})),M.resolve(),[2]})})},L.prototype.isVisible=function(){var M;return(0,e.__awaiter)(this,void 0,h.J,function(){var T,O;return(0,e.__generator)(this,function(N){return T=(null===(M=this.featureSwitchService.featureSwitches)||void 0===M?void 0:M.projectTridentOverall)||!!/trident=(1|true)/.test(location.search),O=this.explorationCapabilitiesService.getCapabilities(),[2,!!this.featureSwitchService.featureSwitches.tridentPrivatePreviewEnabled&&!!this.featureSwitchService.featureSwitches.tridentProductReflex&&!!this.featureSwitchService.featureSwitches.reflexPBIArtifact&&T&&!0===O.reflex&&g.prototype.isVisible.call(this)]})})},L.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){switch(M.label){case 0:return[4,g.prototype.isDisabled.call(this)];case 1:return[2,M.sent()||(0,d.iv)(this.visualContainer.contract)]}})})},L.prototype.getToolTip=function(M){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(T){return(0,d.iv)(this.visualContainer.contract)?[2,M.get("Reflex_Trigger_Disabled_For_VC")]:[2]})})},L}(s.V),m=function(g){function L(M,T,O,N,A,I,B){var U=g.call(this,"Edit_ToolTip",void 0,"itemIcon glyphicon pbi-glyph-edit glyph-mini",B&&B.enterAdvancedEditMode)||this;return U.visualContainer=M,U.eventBridge=T,U.overlayService=O,U.menuOptions=N,U.contextActivityService=A,U.source=I,U}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){return S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"EnterAdvancedEditMode",this.source),this.eventBridge.publishToChannel(l.OKC,{editMode:1,visualContainer:this.visualContainer.contract}),this.overlayService.hideAllDropdowns(),M.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canEdit&&g.prototype.isVisible.call(this)]})})},L.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,!!this.visualContainer.visualPausedWarning||g.prototype.isDisabled.call(this)]})})},L}(s.V),f=function(g){function L(M,T,O,N,A,I,B){var U=g.call(this,"Remove_visual",void 0,"itemIcon glyphicon pbi-glyph-close glyph-mini",B&&B.removeVisual)||this;return U.visualContainer=M,U.eventBridge=T,U.undoRedo=O,U.menuOptions=N,U.contextActivityService=A,U.source=I,U}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M,T=this;return(0,e.__generator)(this,function(O){return S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),S.fF.assertValue(this.undoRedo,"undoRedo service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"DeleteVisualContainer",this.source),this.undoRedo.register("DeleteVisualContainer",function(){T.eventBridge.publishToChannel(l.Un,T.visualContainer.contract)}),M.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canDelete&&g.prototype.isVisible.call(this)]})})},L}(s.V),p=function(g){function L(M,T,O,N,A,I){return g.call(this,"Visual_Cluster_FindGroups","itemIcon glyphicon pbi-glyph-scatter glyph-small",M,T,O,N,A,I)||this}return(0,e.__extends)(L,g),L}(function(g){function L(M,T,O,N,A,I,B,U){var W=g.call(this,M,void 0,T,U&&U.clusters)||this;return W.visualContainer=O,W.eventBridge=N,W.menuOptions=A,W.contextActivityService=I,W.source=B,W}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){return S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"ClustersSpatial",this.source),this.eventBridge.publishToChannel(l.zdm,{visualContainer:this.visualContainer.contract}),M.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canCluster&&g.prototype.isVisible.call(this)]})})},L}(s.V)),C=function(g){function L(M,T,O,N,A,I){var B=g.call(this,"Spotlight",void 0,"itemIcon glyphicon pbi-glyph-flashlight glyph-small",I&&I.spotlight)||this;return B.visualContainer=M,B.visibility=T,B.menuOptions=O,B.contextActivityService=N,B.source=A,B.selected=B.isSpotlightOn,B}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){return S.fF.assertValue(this.visibility,"visibility service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"ToggleSpotlight",this.source),4===this.visualContainer.contract.visibility?this.visibility.clear():this.visibility.set(this.visualContainer.contract,4),this.announceSelectionState(this.visualContainer.visualHostServices,this.isSpotlightOn),M.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canSpotlight&&g.prototype.isVisible.call(this)]})})},Object.defineProperty(L.prototype,"isSpotlightOn",{get:function(){return 4===this.visualContainer.contract.visibility},enumerable:!1,configurable:!0}),L}(s.V),b=function(g){function L(M,T,O,N,A,I,B){var U=g.call(this,"ChatInTeams",void 0,"itemIcon glyphicon glyph-small pbi-glyph-teamslogo",B&&B.shareToTeams)||this;return U.visualContainer=M,U.visibility=T,U.eventBridge=O,U.menuOptions=N,U.contextActivityService=A,U.source=I,U}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){return S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),S.fF.assertValue(this.visibility,"visibility service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"ShareToTeamsVisual",this.source),this.visibility.set(this.visualContainer.contract,4),this.eventBridge.publishToChannel(l.CVC),M.resolve(),[2]})})},L.prototype.isVisible=function(){return this.menuOptions.canShareToTeams&&g.prototype.isVisible.call(this)},L}(s.V),y=function(g){function L(M,T,O,N,A,I,B,U,W,j,K,ee){var ie=g.call(this,M,void 0,T,K&&K.sort,void 0,void 0,ee)||this;return ie.sortDirection=O,ie.visualContainer=N,ie.eventBridge=A,ie.overlayService=I,ie.menuOptions=B,ie.sortGroup=U,ie.contextActivityService=W,ie.source=j,ie.selected=ie.isHighlighted,ie}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M,T;return(0,e.__generator)(this,function(N){return S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"Sort",this.source),this.overlayService.hideAllDropdowns(),T=this.getSortByField(),this.eventBridge.publishToChannel(l.up$,{visualContainer:this.visualContainer.contract,sortableField:T,sortDirection:this.sortDirection,sortGroup:this.sortGroup}),M.resolve(),[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canSort&&g.prototype.isVisible.call(this)]})})},L.prototype.isDisabled=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){switch(M.label){case 0:return[4,g.prototype.isDisabled.call(this)];case 1:return[2,M.sent()||void 0===this.getSortByField()]}})})},Object.defineProperty(L.prototype,"activeSortableField",{get:function(){return _.find(this.sortGroup.fields,function(T){return T.active})},enumerable:!1,configurable:!0}),Object.defineProperty(L.prototype,"isHighlighted",{get:function(){return void 0!==this.activeSortableField&&this.activeSortableField.sortDirection===this.sortDirection},enumerable:!1,configurable:!0}),L.prototype.getSortByField=function(){if(this.sortGroup.fields)return 1===_.size(this.sortGroup.fields)?this.sortGroup.fields[0]:this.activeSortableField},L}(s.V),D=function(g){function L(M,T,O,N,A,I,B,U,W){return g.call(this,"Sort_Desc","itemIcon glyphicon pbi-glyph-ztoa glyph-small",2,M,T,O,N,A,I,B,U,W)||this}return(0,e.__extends)(L,g),L}(y),P=function(g){function L(M,T,O,N,A,I,B,U){return g.call(this,"Sort_Asc","itemIcon glyphicon pbi-glyph-atoz glyph-small",1,M,T,O,N,A,I,B,U)||this}return(0,e.__extends)(L,g),L}(y),F=function(g){function L(M,T,O,N,A,I,B){var U=g.call(this,"MobileFooter_SortBy",void 0,void 0,B&&B.sort)||this;return U.visualContainer=M,U.eventBridge=T,U.overlayService=O,U.menuOptions=N,U.contextActivityService=A,U.source=I,U.displayOverride=B,U}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2]})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){switch(T.label){case 0:return(M=this.menuOptions.canSort)?[4,g.prototype.isVisible.call(this)]:[3,2];case 1:M=T.sent(),T.label=2;case 2:return M?[2,_.size(this.menuOptions.sortSetting.sortableFields)>1]:[2,!1]}})})},L.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M,T,O,A=this;return(0,e.__generator)(this,function(I){return M=this.menuOptions.sortSetting.sortableFields,T=1===this.visualContainer.readOnlyState.actualSortDirection?"Sort_Asc":"Sort_Desc",O=_.some(this.menuOptions.sortSetting.sortableFields,function(B){return B.active}),[2,_.map(M,function(B){return new w(A.visualContainer,B,O?T:void 0,A.eventBridge,A.overlayService,A.contextActivityService,A.source,A.displayOverride)})]})})},L}(s.V),E=function(g){function L(M,T,O,N,A,I,B,U){var W=g.call(this,"Sort_Group"+A.displayName,void 0,void 0,U&&U.sort)||this;return W.visualContainer=M,W.eventBridge=T,W.overlayService=O,W.menuOptions=N,W.sortGroup=A,W.contextActivityService=I,W.source=B,W.displayOverride=U,W}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2]})})},L.prototype.title=function(M){return M.format("Sort_Group",M.get(this.sortGroup.displayName))},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(T){switch(T.label){case 0:return(M=this.menuOptions.canSort)?[4,g.prototype.isVisible.call(this)]:[3,2];case 1:M=T.sent(),T.label=2;case 2:return M?[2,!0]:[2,!1]}})})},L.prototype.getChildren=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M,T,O,N;return(0,e.__generator)(this,function(B){for(M=[],T=0,O=this.sortGroup.fields;T<O.length;T++)M.push(new w(this.visualContainer,N=O[T],1===N.sortDirection?"Sort_Asc":"Sort_Desc",this.eventBridge,this.overlayService,this.contextActivityService,this.source,this.displayOverride));return M.push(new D(this.visualContainer,this.eventBridge,this.overlayService,this.menuOptions,this.sortGroup,this.contextActivityService,this.source,this.displayOverride,1),new P(this.visualContainer,this.eventBridge,this.overlayService,this.menuOptions,this.sortGroup,this.contextActivityService,this.source,this.displayOverride)),[2,M]})})},L}(s.V),w=function(g){function L(M,T,O,N,A,I,B,U){var W=g.call(this,T.displayName,void 0,void 0,U&&U.sort)||this;return W.visualContainer=M,W.sortField=T,W.sortDirectionKey=O,W.eventBridge=N,W.overlayService=A,W.contextActivityService=I,W.source=B,W.selected=W.sortField.active,W}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M;return(0,e.__generator)(this,function(O){return S.fF.assertValue(this.sortField,"expect sortField to be defined."),S.fF.assertValue(this.eventBridge,"eventBridge service is not provided."),M=R(this.visualContainer.name,this.contextActivityService,"SortBy",this.source),this.overlayService.hideAllDropdowns(),this.eventBridge.publishToChannel(l.zgs,{sortableField:this.sortField,sortDirection:this.visualContainer.readOnlyState.actualSortDirection,visualContainer:this.visualContainer.contract}),M.resolve(),[2]})})},L.prototype.title=function(M){return this.sortField.displayName},L.prototype.getToolTip=function(M){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(T){return this.sortDirectionKey?[2,this.sortField.displayName+", "+M.get(this.sortDirectionKey)]:[2,this.title(M)]})})},L}(s.V),x=function(g){function L(M,T,O,N,A,I,B){var U=g.call(this,"AutomatedInsights_AppBar_GetInsights",void 0,"itemIcon glyphicon pbi-glyph-insight glyph-small",B&&B.insightsAnalysis)||this;return U.visualContainer=M,U.menuOptions=T,U.lazyScoped=O,U.telemetryService=N,U.contextActivityService=A,U.source=I,U}return(0,e.__extends)(L,g),L.prototype.execute=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return this.telemetryService.logEvent(r.Jab,{visualType:(0,v.s)(this.visualContainer.contract),visualName:this.visualContainer.contract.name}),M=R(this.visualContainer.name,this.contextActivityService,"GetAutomatedInsights",this.source),[4,this.lazyScoped.get("automatedInsightsQuery")];case 1:return T=O.sent(),S.fF.assertValue(T,"GetInsightsCommand automatedInsightsQuery"),T.showAutomatedInsights({entryPoint:"VisualOptionsMenu",queryOptions:{summarySelectionOptions:{visualsToSummarize:[this.visualContainer.contract]},updateProcessingState:!0},enforcePremiumLicensing:!0,viewOnlyNoteworthy:!1}),M.resolve(),[2]}})})},L.prototype.isVisible=function(){return(0,e.__awaiter)(this,void 0,h.J,function(){return(0,e.__generator)(this,function(M){return[2,this.menuOptions.canGetInsights&&g.prototype.isVisible.call(this)]})})},L}(s.V);function R(g,L,M,T){return L.createActivity({name:"VisualAction",visualName:g,data:{action:M,source:T}})}},227099:function(Xe,H,t){t.d(H,{e:function(){return s},q:function(){return u}});var e=t(973188),l=t(17816),o=t(780959),d=t(258218),v=t(843081),S=t(498342),h=t(686311),c=t(325319),r={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},s=function(){function i(a){this.services=a,this.instanceId=void 0}return i.initialize=function(a){S.fF.assertValue(a,"localize"),!i.initialized&&(i.initialized=!0,(0,h.X0)(i.createLocaleOptions(a)),v.I6.localizationOptions=i.createTooltipLocaleOptions(a),(0,c.iZ)(i.createDataViewTransformLocalizationOptions(a)))},i.createLocaleOptions=function(a){return S.fF.assertValue(a,"localize"),{null:a.get("NullValue"),true:a.get("BooleanTrue"),false:a.get("BooleanFalse"),NaN:a.get("NaNValue"),infinity:a.get("InfinityValue"),negativeInfinity:a.get("NegativeInfinityValue"),beautify:function(m){return i.beautify(a,m)},describe:function(m){return i.describeUnit(a,m)},restatementComma:a.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),restatementCompoundAnd:a.get("FilterRestatement_CompoundAnd"),restatementCompoundOr:a.get("Generic_Or")}},i.createTooltipLocaleOptions=function(a){return{highlightedValueDisplayName:a.get(v.I6.highlightedValueDisplayNameResorceKey)}},i.createDataViewTransformLocalizationOptions=function(a){return{quarterPrefix:a.get(d.mG)}},i.prototype.getLocalizedString=function(a){for(var n,m=[],f=1;f<arguments.length;f++)m[f-1]=arguments[f];return(n=this.services.localizationService).format.apply(n,(0,e.__spreadArray)([a],m||[],!1))},i.prototype.requestFocus=function(a){l.IK.focus(a)},i.prototype.alertScreenReader=function(a){},i.prototype.alertWithDebounce=function(a,n){this.services.screenReaderService&&this.services.screenReaderService.alertWithDebounce(a,n)},i.prototype.onDragStart=function(){},i.prototype.getVisualLinkProperties=function(){},i.prototype.canSelect=function(){return!1},i.prototype.onSelecting=function(){},i.prototype.onSelect=function(){},i.prototype.onSwitchFocusModeState=function(){},i.prototype.canExpandCollapse=function(a){return!!this.services.canExpandCollapse&&this.services.canExpandCollapse(a)},i.prototype.setNodeExpansionState=function(a){},i.prototype.setLevelExpansionState=function(a){},i.prototype.setCanDrill=function(a){},i.prototype.onContextMenu=function(){},i.prototype.loadMoreData=function(){},i.prototype.loadWindow=function(a){},i.prototype.setShouldDeferData=function(){},i.prototype.persistProperties=function(a){},i.prototype.onCustomSort=function(a){},i.prototype.getViewMode=function(){return 0},i.prototype.getEditMode=function(){return 0},i.prototype.setWarnings=function(a){},i.prototype.getWarnings$=function(){},i.prototype.setToolbar=function(a){},i.prototype.shouldRetainSelection=function(){return!1},i.prototype.geocoder=function(){return this.services.geocoder},i.prototype.geolocation=function(){return this.services.geolocation},i.prototype.locale=function(){return(0,o.uD)()},i.prototype.promiseFactory=function(){return this.services.promiseFactory},i.prototype.ignoreDefaultFilter=function(){return!1},i.prototype.getIdentityDisplayNames=function(a){},i.prototype.setIdentityDisplayNames=function(a){},i.prototype.setFilterExpressionMetadata=function(){},i.prototype.getFilterExpressionMetadata=function(){},i.prototype.decompositionService=function(){},i.prototype.dropdown=function(){},i.prototype.tooltips=function(){return this.services.visualHostTooltipService},i.prototype.telemetry=function(){},i.prototype.authenticationService=function(){return this.services.authenticationService},i.prototype.localStorageService=function(){},i.prototype.acquireAADTokenService=function(){},i.prototype.eventService=function(){},i.prototype.licenseManagerService=function(){},i.prototype.drill=function(a){},i.prototype.loader=function(){return this.services.moduleLoader},i.prototype.getUIComponentFactory=function(){},i.prototype.applyJsonFilter=function(a,n,m,f){},i.prototype.applyIdentityFilter=function(a,n,m,f){},i.prototype.launchUrl=function(a){},i.prototype.refreshHostData=function(){},i.prototype.getJSONFilter=function(a,n){return this.promiseFactory().reject()},i.prototype.onHyperlinkClick=function(a,n){},i.prototype.visualTimeSynchronization=function(){},i.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},i.prototype.dataMultiSelectMode=function(){return 0},i.prototype.networkAvailability=function(){},i.prototype.downloadService=function(){},i.prototype.setAriaMetadata=function(a){},i.prototype.artifactService=function(){},i.prototype.getSectionsMetadata$=function(){},i.prototype.getBookmarksMetadata$=function(){},i.prototype.visualExportService=function(){},i.prototype.onNotifyLicense=function(a){this.services.onNotifyLicense&&this.services.onNotifyLicense(a)},i.prototype.onClearLicenseNotification=function(){this.services.onClearLicenseNotification&&this.services.onClearLicenseNotification()},i.prototype.onNotifyFeatureBlocked=function(a){this.services.onNotifyFeatureBlocked&&this.services.onNotifyFeatureBlocked(a)},i.prototype.getSubSelectionService=function(){},i.prototype.webAccessService=function(){},i.prototype.getAzureMapToken=function(){},i.prototype.azureMapsEndpoint=function(){},i.prototype.geocoderIndexedDB=function(){},i.prototype.triggerUpdate=function(){},i.prototype.isScreenshotWorkload=function(){return!1},i.prototype.localStorageV2Service=function(){},i.prototype.aiNarrativesService=function(){},i.prototype.dateTimeFormatService=function(){},i.prototype.visualHostSubSelectionService=function(){},i.beautify=function(a,n){var m=r[n];return m?((0,h.J6)(m),a.getOptional(m)||n):n},i.describeUnit=function(a,n){var m=-1===n?"Auto":n.toString(),f=a.getOptional("DisplayUnitSystem_E"+m+"_Title"),V=n<=0?"{0}":a.getOptional("DisplayUnitSystem_E"+m+"_LabelFormat");if(f||V)return{title:f,format:V}},i}();function u(i){return new s(i)}},214475:function(Xe,H,t){t.d(H,{w:function(){return i}});var e=t(973188),l=t(599287),o=t(927903),d=t(498342),v=t(275179),S=t(204553),h=t(509607),c=t(114096),s=(t(512322),t(603662)),u=t(669266);function i(){var a=h.MD,n=c.yl,f=s.b,p=function(){function y(D,P,F,E,w,x,R,g,L){this.explorationStateManager=D,this.explorationNavigation=P,this.explorationSerializer=F,this.featureSwitchService=E,this.visualPlugin=w,this.conceptualSchemaProxy=x,this.dataSources=R,this.displayNameService=g,this.visualAuthoringOperations=L}return y.prototype.generateUniqueGroupName=function(D,P,F){var w,E=this.getVisualSyncField(P);w=E?this.displayNameService.getDisplayName(E,D,this.visualPlugin.capabilities(P.visualType)):"Group",d.fF.assert(function(){return!_.isEmpty(w)},"expected preferred name for group");for(var x=w,R=1;x in F;)x=w+R++;return x},y.prototype.syncFilterState=function(D,P){return(0,e.__awaiter)(this,void 0,v.J,function(){var F,E,w,x,R,g,L,M,T,O,N,A,I,B,U,W,j,K,ee;return(0,e.__generator)(this,function(ie){switch(ie.label){case 0:return this.canSyncVisual(F=D.config.singleVisual)&&F.syncGroup?(E=this.getOtherSectionsInSyncGroup(F),_.isEmpty(E)?[2]:[4,this.conceptualSchemaProxy.get(this.dataSources.get())]):[2];case 1:for(w=ie.sent(),x=this.explorationStateManager.captureFilterState(F),P=P&&F.syncGroup.filterChanges,R=this.visualPlugin.capabilities(F.visualType),g={clearUnmatchedData:!1,suppressActiveSection:!0,suppressDisplay:!0,targetVisualNames:[]},L=a(R.objects),M=L&&(0,S.NA)(x.objects.merge,L,null),T=[],O=0,N=E;O<N.length;O++)for((0,o.Dl)((A=N[O]).section),I=0,B=A.visualContainers;I<B.length;I++){if(U=B[I],W=P&&this.syncFilters(U,D.filters),j=x,M){if(K=(0,S.NA)(U.config.singleVisual.objects,L,null),ee=this.replaceSemanticFilterField(D.config.singleVisual.query.defn,M,U.config.singleVisual.query.defn,K,w),M&&!ee){W&&this.visualAuthoringOperations.notifyVisualContainers([U]);continue}ee!==M&&((j=(0,l.Ay)(j,this.visualPlugin,this.featureSwitchService)).cachedFilterDisplayItems=void 0,j.filterExpressionMetadata=void 0,(0,S.sO)(j.objects.merge,L,null,ee))}g.targetVisualNames.push(U.name),T.push({visual:U,state:j,impacted:W})}return _.isEmpty(T)||this.explorationStateManager.applyFilterState(T,w),[2]}})})},y.prototype.syncVisualFiltersState=function(D,P){void 0===P&&(P=!0),d.fF.assertValue(D,"syncVisualFilterState - sourceVisual should be defined"),d.fF.assertValue(D.config,"syncVisualFilterState - sourceVisual config should be defined");var F=D.config.singleVisual,E=[];if(this.canSyncVisual(F)&&F.syncGroup.filterChanges){for(var x=0,R=this.getOtherSectionsInSyncGroup(F);x<R.length;x++){var g=R[x];if(!_.isEmpty(g.visualContainers))for(var L=0,M=g.visualContainers;L<M.length;L++){var T=M[L];this.syncFilters(T,D.filters)&&E.push(T)}}P&&this.visualAuthoringOperations.notifyVisualContainers(E)}},y.prototype.syncFilters=function(D,P){var F=_.isEmpty(P);if(D.config.singleVisual.syncGroup.filterChanges){if(F&&!_.isEmpty(D.filters))return D.filters=[],!0;if(!F){var E=this.explorationSerializer.deserializeFilterCollection(this.explorationSerializer.serializeFilterCollection(P),[],!0);return D.filters=E,!0}}return!1},y.prototype.getVisualsAffectByFieldChanges=function(D){var P=D.config.singleVisual;return this.canSyncVisual(P)&&P.syncGroup.fieldChanges?_.filter(this.getOtherVisualsInSyncGroup(P),function(F){return F.config.singleVisual.syncGroup.fieldChanges}):[]},y.prototype.canSyncVisual=function(D){if(!D.syncGroup)return!1;var P=this.visualPlugin.capabilities(D.visualType),F=P&&P.supportsSynchronizingFilterState;return d.fF.assert(function(){return F},"Visual has a sync group, but does not support syncing"),F},y.prototype.getOtherVisualsInSyncGroup=function(D){return this.getVisualsInSectionsSyncGroup(this.getOtherSectionsInSyncGroup(D))},y.prototype.getVisualsInSectionsSyncGroup=function(D){for(var P=[],F=0,E=D;F<E.length;F++)P.push.apply(P,E[F].visualContainers||[]);return P},y.prototype.getOtherSectionsInSyncGroup=function(D){if(!D.syncGroup)return[];if(!D.syncGroup.groupName)return d.fF.assertFail("expected non-empty group name"),[];for(var F=[],E=0,w=this.explorationNavigation.getCurrentExploration().sections;E<w.length;E++){var x=w[E],R=_.filter(x.visualContainers,function(g){var L=g.config.singleVisual;return L!==D&&L.syncGroup&&L.syncGroup.groupName===D.syncGroup.groupName&&L.visualType===D.visualType});_.isEmpty(R)||F.push({section:x,visualContainers:R})}return F},y.prototype.getVisualSyncField=function(D){var P=D.query.defn.select();return d.fF.assertValue(P,"fields can't be null"),0===P.length?(d.fF.assertFail("Expected sync group visual to have at least one field"),null):P[0].expr},y.prototype.replaceSemanticFilterField=function(D,P,F,E,w){if(!P)return P;var x=D.select(),R=F.select();if(x.length===R.length){if(x.length>1)return _.differenceWith(x,R,function(A,I){return(0,u.fS)(A.expr,I.expr)}).length?void 0:P;if(1!==x.length)return void d.fF.assertFail("Expected single select in source and target queries");if((0,u.fS)(x[0].expr,R[0].expr))return P;var L=C.extract(P);if(!L)return void d.fF.assertFail("could not extract a single field from the source filter expression");if(!E){var M=P.conditions();if(1!==M.length)return void d.fF.assertFail("expected single condition");var T=R[0].expr.getKeyColumns(w);if(1!==T.length)return void d.fF.assertFail("can only sync slicers on single-key columns when syncing across different fields");var O=b.replaceCondition(M[0],L,T[0]);return n.fromSQExpr(O)}var N=C.extract(E);return N?b.replace(P,L,N):void d.fF.assertFail("expected incoming and target fields for SemanticFilter rewrite")}},y}(),C=function(y){function D(){return y.call(this)||this}return(0,e.__extends)(D,y),D.extract=function(P){var F=new D;return P.rewrite(F),F.foundSingleField&&F.fieldExpr},D.prototype.visitHierarchyLevel=function(P){return this.setFieldExpr(P),P},D.prototype.visitColumnRef=function(P){return this.setFieldExpr(P),P},D.prototype.setFieldExpr=function(P){if(!this.fieldExpr)return this.fieldExpr=P,void(this.foundSingleField=!0);(0,u.fS)(this.fieldExpr,P)||(this.foundSingleField=!1,d.fF.assertFail("found multiple fields in SemanticFilter"))},D}(f),b=function(y){function D(P,F){var E=y.call(this)||this;return E.before=P,E.after=F,E}return(0,e.__extends)(D,y),D.replace=function(P,F,E){if((0,u.fS)(F,E))return P;var w=new D(F,E);return P.rewrite(w)},D.replaceCondition=function(P,F,E){if((0,u.fS)(F,E))return P;var w=new D(F,E);return P.accept(w)},D.prototype.visitColumnRef=function(P){if((0,u.fS)(P,this.before))return this.after},D}(s.b);return{create:function(y,D,P,F,E,w,x,R,g){return new p(y,D,P,F,E,w,x,R,g)}}}},620581:function(Xe,H,t){t.d(H,{$9b:function(){return Yt},$FE:function(){return v},$Zr:function(){return Se},$xe:function(){return ar},A2J:function(){return Le},AS5:function(){return Zi},Aog:function(){return _e},BKg:function(){return qi},CDV:function(){return G},Dbt:function(){return Ir},EuU:function(){return Ri},FQA:function(){return k},F_y:function(){return zr},GDm:function(){return ha},Gk2:function(){return Te},H95:function(){return Mt},Hbu:function(){return Jr},HgC:function(){return g},Hn8:function(){return Ge},Htt:function(){return Vt},Hvk:function(){return br},Im5:function(){return Ct},JBw:function(){return Gi},Jab:function(){return ya},K2L:function(){return ji},KC9:function(){return O},LMe:function(){return xr},LPp:function(){return Et},Lfd:function(){return Pe},Ly$:function(){return q},LyQ:function(){return Qi},MMo:function(){return st},Mjo:function(){return rt},N15:function(){return Br},Nsy:function(){return _t},Og1:function(){return a},OvK:function(){return pi},Piu:function(){return Ye},Pro:function(){return _r},Q5S:function(){return r},QBi:function(){return ke},Qkf:function(){return nr},RU3:function(){return Ee},RfG:function(){return Ti},SuX:function(){return er},T7R:function(){return pt},Tei:function(){return Si},V1H:function(){return fe},V3X:function(){return Be},WZm:function(){return Bt},X7L:function(){return E},X9Z:function(){return jt},XON:function(){return Qr},XfB:function(){return Ae},YBT:function(){return ve},_rP:function(){return ye},a6h:function(){return M},amt:function(){return tr},b3D:function(){return Hi},bCE:function(){return qt},eru:function(){return lr},f5P:function(){return Wt},fbs:function(){return or},fg8:function(){return B},gEB:function(){return pr},gOc:function(){return m},hbA:function(){return ta},heC:function(){return h},iZX:function(){return Ke},ig4:function(){return Mr},j5C:function(){return re},jOG:function(){return A},jkG:function(){return zi},jvW:function(){return Or},knl:function(){return Fe},l$8:function(){return u},lJ4:function(){return K},l_t:function(){return $t},lm7:function(){return Ni},mC$:function(){return C},m_M:function(){return dt},my7:function(){return y},q1S:function(){return Ve},rJV:function(){return mr},spf:function(){return W},uEy:function(){return V},u_F:function(){return Z},vLR:function(){return x},zae:function(){return Yr},zb_:function(){return P},zu$:function(){return ie}});var e=t(947634),l="PBI.EX.NewExploration",d=(e.cx[l]=(0,e.b1)(l),"PBI.EX.RefreshReport"),v=e.cx[d]=(0,e.b1)(d),S="PBI.EX.SaveExploration",h=e.cx[S]=(0,e.b1)(S),c="PBI.EX.InteractionVisualConversion",r=e.cx[c]=(0,e.b1)(c),s="PBI.EX.InteractionExpand",u=e.cx[s]=(0,e.b1)(s,{logExpAssignment:!0}),i="PBI.EX.InteractionDrill",a=e.cx[i]=(0,e.b1)(i,{logExpAssignment:!0}),n="PBI.EX.DrillToDetails",m=e.cx[n]=(0,e.b1)(n,{logExpAssignment:!0}),f="PBI.EX.AddFilter",V=e.cx[f]=(0,e.b1)(f),p="PBI.EX.ClearFilter",C=e.cx[p]=(0,e.b1)(p,{logExpAssignment:!0}),b="PBI.EX.RemoveFilter",y=e.cx[b]=(0,e.b1)(b),D="PBI.EX.HideFilter",P=e.cx[D]=(0,e.b1)(D),F="PBI.EX.LockFilter",E=e.cx[F]=(0,e.b1)(F),w="PBI.EX.TogglePaneExpanded",x=e.cx[w]=(0,e.b1)(w),R="PBI.EX.ToggleFilterCardExpanded",g=e.cx[R]=(0,e.b1)(R),L="PBI.EX.ToggleFilterCardSort",M=e.cx[L]=(0,e.b1)(L),T="PBI.EX.FilterPaneAdvancedFilterApplied",O=e.cx[T]=(0,e.b1)(T),N="PBI.EX.FilterPaneTopNFilterApplied",A=e.cx[N]=(0,e.b1)(N),I="PBI.EX.FilterPaneRelativeDateFilterApplied",B=e.cx[I]=(0,e.b1)(I),U="PBI.EX.FilterPaneRelativeTimeFilterApplied",W=e.cx[U]=(0,e.b1)(U),j="PBI.EX.FilterPaneBasicFilterChanged",K=e.cx[j]=(0,e.b1)(j,{logExpAssignment:!0}),ee="PBI.EX.FilterPaneFilterDefaultRestored",ie=e.cx[ee]=(0,e.b1)(ee),he="PBI.EX.FilterPaneFilterCleared",q=e.cx[he]=(0,e.b1)(he,{logExpAssignment:!0}),Y="PBI.EX.FilterPaneFilterDeleted",G=e.cx[Y]=(0,e.b1)(Y),me="PBI.EX.FilterPaneInteraction",re=e.cx[me]=(0,e.b1)(me,{logExpAssignment:!0}),le="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneExpansion",Ee=e.cx[le]=(0,e.b1)(le,{logExpAssignment:!0}),Ne="PBI.EX.ImprovedFilterExperience.ToggleOutspacePaneVisibility",Ye=e.cx[Ne]=(0,e.b1)(Ne),Je="PBI.EX.ImprovedFilterExperience.ShowRestatement",_e=e.cx[Je]=(0,e.b1)(Je,{logExpAssignment:!0}),pe="PBI.EX.LoadFilterError",fe=e.cx[pe]=(0,e.b1)(pe),oe="PBI.EX.CreateVisual",ye=e.cx[oe]=(0,e.b1)(oe,{logExpAssignment:!0}),Ce="PBI.EX.AddField",Be=e.cx[Ce]=(0,e.b1)(Ce),be="PBI.EX.ResolveParameters",Te=e.cx[be]=(0,e.b1)(be,{logRatio:.001}),ce="PBI.EX.SwitchQueryParameter",ve=e.cx[ce]=(0,e.b1)(ce),Re="PBI.EX.ChangeQuickCalc",Ke=e.cx[Re]=(0,e.b1)(Re),tt="PBI.EX.SetConditionalFormatting",He=(e.cx[tt]=(0,e.b1)(tt),"PBI.EX.SetDataBars"),ke=e.cx[He]=(0,e.b1)(He),ft="PBI.EX.ExplorationRefresh",Le=e.cx[ft]=(0,e.b1)(ft),Q="PBI.EX.SnapshotEmbedCreate",ae=(e.cx[Q]=(0,e.b1)(Q),"PBI.EX.PublicEmbedCreate"),Se=e.cx[ae]=(0,e.b1)(ae),nt="PBI.EX.SnapshotEmbedDelete",We=(e.cx[nt]=(0,e.b1)(nt),"PBI.EX.SnapshotEmbedUpdate"),te=(e.cx[We]=(0,e.b1)(We),"PBI.EX.ImportCustomViz"),Ve=e.cx[te]=(0,e.b1)(te),xe="PBI.EX.CdnVisualOverride",Z=e.cx[xe]=(0,e.b1)(xe),J="PBI.EX.DeleteCustomViz",Fe=e.cx[J]=(0,e.b1)(J),ze="PBI.EX.EnableCustomViz",rt=e.cx[ze]=(0,e.b1)(ze),Oe="PBI.EX.VisualRelationshipOverride",Pe=e.cx[Oe]=(0,e.b1)(Oe),X="PBI.EX.CodePaneUserRunScript",Ze=(e.cx[X]=(0,e.b1)(X),"PBI.EX.CodePaneUserEditScriptWithExternalIDE"),at=(e.cx[Ze]=(0,e.b1)(Ze),"PBI.EX.CodePaneUserOpenOptionsDialog"),Ie=(e.cx[at]=(0,e.b1)(at),"PBI.EX.CodePaneLaunchExternalIDEFailed"),bt=(e.cx[Ie]=(0,e.b1)(Ie),"PBI.EX.CodePaneLaunchExternalIDESucceeded"),Rt=(e.cx[bt]=(0,e.b1)(bt),"PBI.EX.CodePaneShowWarning"),Kt=(e.cx[Rt]=(0,e.b1)(Rt),"PBI.EX.ExportVisualData"),Yt=e.cx[Kt]=(0,e.b1)(Kt,{logExpAssignment:!0}),ir="PBI.EX.LoadReportWithScriptVis",lr=e.cx[ir]=(0,e.b1)(ir),dr="PBI.ExploreHost.ChangeReportPage",br=e.cx[dr]=(0,e.b1)(dr),Cr="PBI.EX.RemoveMobileCanvasVisuals",pt=e.cx[Cr]=(0,e.b1)(Cr),Ut="PBI.EX.LoadReportContainer",er=e.cx[Ut]=(0,e.b1)(Ut),Pr="PBI.EX.LoadReportContainerDatasetMissing",mr=e.cx[Pr]=(0,e.b1)(Pr),gr="PBI.EX.InitExploration",xr=e.cx[gr]=(0,e.b1)(gr),Vr="PBI.EX.LoadExplorationVisuals",Qr=e.cx[Vr]=(0,e.b1)(Vr,{defaultTimeoutSec:60,logExpAssignment:!0}),Gr="PBI.EX.VisualContainerChanged",Jr=e.cx[Gr]=(0,e.b1)(Gr,{logRatio:0}),Hr="PBI.EX.RenderExplorationVisual",Yr=e.cx[Hr]=(0,e.b1)(Hr,{logRatio:.01}),Zr="PBI.EX.FetchExploration",Or=e.cx[Zr]=(0,e.b1)(Zr),Ur="PBI.EX.ChangeCanvasLayout",zr=e.cx[Ur]=(0,e.b1)(Ur),ai="PBI.EX.Clustering.AddClustering",ct=(e.cx[ai]=(0,e.b1)(ai),"PBI.EX.Clustering.EditClustering"),ot=(e.cx[ct]=(0,e.b1)(ct),"PBI.EX.QuickMeasures.OpenDialog"),ht=(e.cx[ot]=(0,e.b1)(ot),"PBI.EX.QuickMeasures.DialogResult"),Ft=(e.cx[ht]=(0,e.b1)(ht),"PBI.EX.QuickMeasures.OnMeasureChange"),Gt=(e.cx[Ft]=(0,e.b1)(Ft),"PBI.EX.Drillthrough.GotoTarget"),ar=e.cx[Gt]=(0,e.b1)(Gt,{logExpAssignment:!0}),sr="PBI.EX.Drillthrough.FilterUpdate",pr=e.cx[sr]=(0,e.b1)(sr),fr="PBI.EX.RefreshHostData",Mr=e.cx[fr]=(0,e.b1)(fr),hr="PBI.EX.BookmarkAdd",Ir=e.cx[hr]=(0,e.b1)(hr),Pt="PBI.EX.BookmarkUpdate",dt=e.cx[Pt]=(0,e.b1)(Pt),ue="PBI.EX.BookmarkDelete",k=e.cx[ue]=(0,e.b1)(ue),se="PBI.EX.BookmarkPlay",Ae=e.cx[se]=(0,e.b1)(se),$e="PBI.EX.BookmarkApply",Et=e.cx[$e]=(0,e.b1)($e),Nt="PBI.EX.Bookmark.LoadError",Bt=e.cx[Nt]=(0,e.b1)(Nt),Qt="PBI.EX.CopyPasteSyncGroup",$t=e.cx[Qt]=(0,e.b1)(Qt),ur="PBI.EX.CustomDateTableValidationResult",or=e.cx[ur]=(0,e.b1)(ur),Ar="PBI.EX.UpdateActiveSection",Ge=e.cx[Ar]=(0,e.b1)(Ar,{defaultTimeoutSec:10}),ut="PBI.EX.VisualContainerApplyUpdate",Vt=e.cx[ut]=(0,e.b1)(ut,{logRatio:0}),Dt="PBI.EX.VisualDataChanged",Mt=e.cx[Dt]=(0,e.b1)(Dt,{logRatio:0}),Ot="PBI.EX.ApplySlicer",Wt=e.cx[Ot]=(0,e.b1)(Ot,{logExpAssignment:!0}),Xt="PBI.EX.ApplyAllClicked",tr=e.cx[Xt]=(0,e.b1)(Xt),Lt="PBI.EX.SelectDataPoint",nr=e.cx[Lt]=(0,e.b1)(Lt,{logExpAssignment:!0}),yr="PBI.EX.RefreshSingleVisual",_r=e.cx[yr]=(0,e.b1)(yr),Dr="PBI.EX.PerformanceAnalyzerRefreshReport",jt=e.cx[Dr]=(0,e.b1)(Dr),Me="PBI.EX.PerformanceAnalyzerExportLogs",Ct=e.cx[Me]=(0,e.b1)(Me),At="PBI.EX.PerformanceAnalyzerCopyQueries",st=e.cx[At]=(0,e.b1)(At),xt="PBI.EX.PerformanceAnalyzerRunDaxyQuery",_t=e.cx[xt]=(0,e.b1)(xt),Zt="PBI.EX.PerformanceAnalyzerStopRecording",qt=e.cx[Zt]=(0,e.b1)(Zt),Er="PBI.EX.ThemeDialogClosed",Br=e.cx[Er]=(0,e.b1)(Er),ii="PBI.Settings.FavoriteResourcePackages",pi=e.cx[ii]=(0,e.b1)(ii),si="PBI.Settings.VisualPane",Si=e.cx[si]=(0,e.b1)(si),di="PBI.Settings.OutOfBoxVisuals",Hi=e.cx[di]=(0,e.b1)(di),Pi="PBI.EX.DrillthroughButtonClicked",Gi=e.cx[Pi]=(0,e.b1)(Pi),Mi="PBI.EX.SmallMultiplesFirstField",Qi=e.cx[Mi]=(0,e.b1)(Mi),xi="PBI.EX.AnalyticsLoadSchemaError",Ni=e.cx[xi]=(0,e.b1)(xi),li="PBI.EX.ExecuteActionCommands",Ri=e.cx[li]=(0,e.b1)(li),Xi="PBI.EX.UndefinedTooltipStyleInActionBar",ha=e.cx[Xi]=(0,e.b1)(Xi),_i="PBI.EX.ActionBarShown",Zi=e.cx[_i]=(0,e.b1)(_i),sa="PBI.EX.ScanModeKeyPressed",ji=e.cx[sa]=(0,e.b1)(sa),ma="PBI.EX.GetInsightsMenuCommand",ya=e.cx[ma]=(0,e.b1)(ma),la="PBI.Sparklines.Delete",qi=e.cx[la]=(0,e.b1)(la),ea="PBI.CopyVisualImage.EntryPoint",ta=e.cx[ea]=(0,e.b1)(ea),Ii="PBI.EX.FontsReadyVisualUpdateTriggered",zi=e.cx[Ii]=(0,e.b1)(Ii,{logRatio:.01}),fi="PBI.Reflex.OpenTriggerActionFromVisual",Ti=e.cx[fi]=(0,e.b1)(fi)},221040:function(Xe,H,t){t.d(H,{s:function(){return f}});var e=t(196960),l=t(753454),o=t(715770),d=t(691379),v=t(789015),S=t(935232),h=t(566464),c=t(498342),r=t(504898),s=t(85179),u=t(204553),i=t(179664),a=t(696079),n=t(979868),m=t(669266),f=function(){function V(){}return V.setScrollWidth=function(p){this.scrollWidth=p},V.fitToWidth=function(p,C,b,y,D,P,F){void 0===P&&(P=!1),null!=p.canvasOptions.overrideSectionAlignment&&(F=p.canvasOptions.overrideSectionAlignment);var E=C.get(0).getBoundingClientRect(),x=this.findParentElement(C,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),R=C.find(".displayAreaViewport").get(0).getBoundingClientRect();if(E.width>R.width){var g=E.width-R.width;null!=this.scrollWidth&&Math.abs(this.scrollWidth-g)>.01&&r.f.error("Multiple scroll bar widths detected, ".concat(this.scrollWidth," -> ").concat(g)),this.scrollWidth=g}var L=D.getConfig(),M=2*e.UL,T=E.width-M,O=E.height-M,N=this.getFitToWidthScaledSize(p,T,y),A=C.find(this.DisplayAreaNameSelector.selector),I=1===p.viewModel.canvasLayout;N.height<=O&&!I?(p.canvasViewStyle=2,C.css(h.hK,h.fw).css(h.Rg,h.fw),this.positionElement(A,R,N,F,!0,L.displayOptions.forceCenteredVerticalAlignment)):(N=this.getFitToWidthScaledSize(p,T=E.width-(M=L.displayOptions.scaleBackgroundImageToWidth?e.UL/2+(this.scrollWidth||0):3*e.UL/2+(this.scrollWidth||8)),y,I?e.U+e.KB:0),p.canvasViewStyle=1,C.css(h.hK,h.fw).css(h.Rg,h.K),this.clearElementPosition(A));var B=T/p.viewModel.width,W=this.getWallpaperScale(x,p.viewModel.width,p.viewModel.height,p.canvasOptions.scrollbarOffset,0);if(b.setDisplayAreaScaleFactor(B),b.setWallpaperScaleFactor(W),this.updateCanvasSize(p,N.width,N.height),A.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(p)),this.setElementSize(A,N),!P&&!L.displayOptions.preserveScrollPositionOnResize){var j=!1,K=p.fitToWidthScrollPosition;if(K){var ee=p.viewModel&&p.viewModel.contract;ee&&ee.name===K.sectionName&&ee.size&&ee.size.width===K.sectionSize.width&&ee.size.height===K.sectionSize.height&&(j=!0,C[0].scrollTo({top:K.relativeScroll*B,left:0,behavior:"instant"})),j||(p.fitToWidthScrollPosition=void 0)}j||C[0].scrollTo({top:0,left:0,behavior:"instant"})}},V.getWallpaperScale=function(p,C,b,y,D,P,F){if(0===D)return(p.width-y)/C;var w=b;return P&&F&&(w=P.getConfig().displayOptions.hideTileMenu?p.height:p.height-F),w/b},V.getFitToWidthScaledSize=function(p,C,b,y){void 0===y&&(y=0);var D=C/p.viewModel.width,P=C,F=p.viewModel.height*D+b;if(p.adjustScaleForLayout){var E=p.adjustScaleForLayout({x:D,y:D});if(E.x!==D||E.y!==D){var w=Math.min(E.x,E.y),x=w/D;P*=x,F=(F-b)*x+b,D=w}}return y>0&&(F+=y),{width:P,height:F}},V.fitToPage=function(p,C,b,y,D,P){var F=y.getConfig();null!=p.canvasOptions.overrideSectionAlignment&&(P=p.canvasOptions.overrideSectionAlignment);var w=this.findParentElement(C,this.ExploreCanvasSelector).get(0).getBoundingClientRect(),x=p.outerViewport.width/p.viewModel.width,R=this.getFitToPageScaleY(p,y,D),g=Math.min(x,R),M=this.getWallpaperScale(w,p.viewModel.width,p.viewModel.height,p.canvasOptions.scrollbarOffset,g===x?0:1,y,D);if(p.adjustScaleForLayout){var T=p.adjustScaleForLayout({x:g,y:g});(T.x!==g||T.y!==g)&&(g=Math.min(T.x,T.y))}b.setDisplayAreaScaleFactor(g),b.setWallpaperScaleFactor(M),F.displayOptions.preserveScrollPositionOnResize||C.scrollTop(0).scrollLeft(0);var O=p.viewModel.width*g,N=p.viewModel.height*g+D;p.canvasViewStyle=0,p.canvasViewStyle|=4,C.css(h.hK,h.fw).css(h.Rg,h.fw),this.updateCanvasSize(p,O,N);var A=C.find(this.DisplayAreaNameSelector.selector);A.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(p));var I={width:O,height:N};this.setElementSize(A,I),this.positionElement(A,p.outerViewport,I,P,!1)},V.getFitToPageScaleY=function(p,C,b){var D=C.getConfig().displayOptions.hideTileMenu?p.outerViewport.height:p.outerViewport.height-b;return(D-=this.getCanvasOutlineSize(p,C))/p.viewModel.height},V.findParentElement=function(p,C){if(p)return p.hasClass(C.class)?p:this.findParentElement(p.parent(),C)},V.getVerticalAlignmentSetting=function(p,C,b){var y=p.viewModel&&p.viewModel.contract&&p.viewModel.contract.evaluatedObjects&&p.viewModel.contract.evaluatedObjects.displayArea&&p.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment&&p.viewModel.contract.evaluatedObjects.displayArea.verticalAlignment.toString();if(y)return l.ab[y];var D=b.getCurrentExploration(),P=D&&D.evaluatedObjects&&D.evaluatedObjects.section&&D.evaluatedObjects.section.verticalAlignment&&D.evaluatedObjects.section.verticalAlignment.toString();return P?l.ab[P]:void 0},V.positionElement=function(p,C,b,y,D,P){var E=null!=C.height&&null!=b.height?(C.height-(P?e.U:0)-b.height)/2:void 0,w=null!=C.width&&null!=b.width?(C.width-b.width)/2:void 0,x={position:"absolute",left:null!=w?"".concat(w,"px"):""};y===l.ab.Top?_.extend(x,{top:null!=E?"".concat(D?e.UL:0,"px"):""}):_.extend(x,{top:null!=E?"".concat(E,"px"):""}),p.css(x)},V.setElementSize=function(p,C){p.css({height:"".concat(C.height,"px"),width:"".concat(C.width,"px")})},V.clearElementPosition=function(p){p.css({position:"",top:"",left:""})},V.clearElementSize=function(p){p.css({height:"",width:""})},V.fitToScreen=function(p,C,b,y){var D=C.find(this.DisplayAreaNameSelector.selector);this.clearElementPosition(D),this.clearElementSize(D),p.canvasViewStyle=8,b.setDisplayAreaScaleFactor(1),b.setWallpaperScaleFactor(1),this.updateCanvasSize(p,p.outerViewport.width,p.outerViewport.height),C.css(h.hK,h.fw).css(h.Rg,h.fw),D.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(p))},V.getCanvasActualSize=function(p,C,b){var y=V.getAutoLayoutVisualVCHeader(C,b),D=p.size;return{height:D.height+y,width:D.width}},V.displayInActualSize=function(p,C,b,y,D,P,F){void 0===F&&(F=1),null!=p.canvasOptions.overrideSectionAlignment&&(P=p.canvasOptions.overrideSectionAlignment);var E=C.find(this.DisplayAreaNameSelector.selector),w=p.isCanvasBackdropVisible();p.canvasViewStyle=0;var x=p.viewModel.width*F,R=p.viewModel.height*F+D,g={width:w?a.Co:x,height:w?a.jk:R};g.width>p.outerViewport.width?(p.canvasViewStyle|=512,C.css(h.hK,h.At)):(p.canvasViewStyle|=256,C.css(h.hK,h.fw)),g.height>p.outerViewport.height?(p.canvasViewStyle|=128,C.css(h.Rg,h.At)):(p.canvasViewStyle|=64,C.css(h.Rg,h.fw));var L=p.canvasViewStyle;this.positionElement(E,p.outerViewport,{width:256&L?g.width:void 0,height:64&L?g.height:void 0},P,!0),p.canvasViewStyle|=256&L&&64&L?32:16,this.setElementSize(E,g),y.setDisplayAreaScaleFactor(F),y.setWallpaperScaleFactor(F),this.updateCanvasSize(p,x,R);var T=this.convertDisplayOptionToStyle(p);E.attr("class",this.DisplayAreaNameSelector.class+" "+T),w&&(c.fF.assertValue(b,"canvasBackdrop should exist (hasBackdrop() returned true)"),b.attr("class",this.CanvasBackdropSelector.class+" "+T))},V.displayInActualSizeTopLeft=function(p,C,b,y){var D=C.find(this.DisplayAreaNameSelector.selector);p.canvasViewStyle=0,p.canvasViewStyle|=512,p.canvasViewStyle|=128,p.canvasViewStyle|=16,C.css(h.hK,p.viewModel.width>=p.outerViewport.width?h.At:h.fw),C.css(h.Rg,p.viewModel.height>=p.outerViewport.height?h.At:h.fw),b.setDisplayAreaScaleFactor(1),b.setWallpaperScaleFactor(1);var P=p.viewModel.width,F=p.viewModel.height+y;D.css({width:P+"px",height:F+"px"}),this.updateCanvasSize(p,P,F),D.attr("class",this.DisplayAreaNameSelector.class+" "+this.convertDisplayOptionToStyle(p))},V.updateCanvasSize=function(p,C,b){var y={width:C,height:b};y.width>0&&y.height>0&&(p.size=y)},V.updateAndApplyBackground=function(p,C,b,y,D,P,F,E,w,x,R,g,L){var M;c.fF.assertValue(E,"promiseFactory");var I,B,U,W,j,T=x.getConfig(),O=T.displayOptions.hideOutspaceFormatting,N=1===x.getMode()&&!C.isCanvasBackdropVisible(),A=!!L.get();switch(p){case 1:U=C.outspace=C.outspace||{},B="outspace",I=C.outspaceBackground,W=(0,e.e3)(),j=w.getCurrentLayoutCapabilities().canShowCanvasOutspace();break;case 2:U=C.background=C.background||{},B="background",I=C.canvasBackground,W=(0,e.tL)(),j=w.getCurrentLayoutCapabilities().canShowCanvasBackground();break;default:c.fF.assertNever(p)}if(j){c.fF.assertValue(U,"canvasDisplayUtil.updateAndApplyBackground - backgroundContract should exist.");var K=y&&y[B],ee=U.image;A?(U.color=e.tb,U.transparency=0,U.image=null):K?(U.color=(0,s.y)(K,"color",e.tb),U.transparency=(0,s.N)(K,"transparency",e.nW),U.image=K.image):this.setDefaultBackgroundProperties(U,W);var ie=U.image;(null==ie?void 0:ie.name)!==(null==ee?void 0:ee.name)&&(null===(M=C.backgroundImageChanging)||void 0===M||M.call(C,p));var q=(0,u.my)(C.viewModel.contract.objects,B,null),Y=q&&q.properties.image;Y&&(0,n.MI)(Y.url)?this.setImageFromPackage(C,I,U,ie,Y.url,q,P,F,E,g,N,R,O,p,A):this.setImage(I,U,ie,ie?ie.url:"",A,g,N,R,O,p,C)}else this.setDefaultBackgroundProperties(U,W),this.setImage(I,W,null,"",A,g,N,R,O,p,C);2===p&&b.css(x&&T.displayOptions.extendBackgroundToWholeCanvas?{"background-color":(0,d.cD)(U.color,(100-U.transparency)/100)}:{"background-color":""})},V.setDefaultBackgroundProperties=function(p,C){p.color=C.color,p.image=C.image,p.transparency=C.transparency},V.setImage=function(p,C,b,y,D,P,F,E,w,x,R){var g,L=b&&b.scaling,M=D?1:(100-C.transparency)/100,T=b&&y;if(T!==p.imageSource&&(p.imageSource=T,null===(g=R.backgroundImageChanged)||void 0===g||g.call(R,x)),p.imageFitClass=L,p.imageStyle=L===S.mJ?{transform:"scale("+P.getWallpaperScaleFactor()+")"}:{},p.backgroundStyle||(p.backgroundStyle={}),p.backgroundStyle.opacity=M,p.backgroundStyle["background-color"]=w&&1===x?"transparent":(0,d.cD)(C.color),2===x){var O=v.v.getThemeColor(E,"foregroundNeutralSecondary");p.displayAreaStyle||(p.displayAreaStyle={}),p.displayAreaStyle["box-shadow"]=w?"0 0 0":"0 0 10px rgba(200,200,200,".concat(M,")"),p.displayAreaStyle.outline=F&&M<=.5?"2px dotted ".concat(O):"none",p.imageStyle=L===S.mJ?{transform:"scale("+P.getDisplayAreaScaleFactor()+")"}:{}}},V.setImageFromPackage=function(p,C,b,y,D,P,F,E,w,x,R,g,L,M,T){var O=this;void 0===L&&(L=!1),c.fF.assertValue(w,"promiseFactory");var N=E.getCurrentExploration();if(N){var A=p.viewModel.contract;(0,i.yl)(D,N.resourcePackages,F,w).then(function(I){var B=P.properties.image;A===p.viewModel.contract&&B&&(0,m.fS)(B.url,D)&&O.setImage(C,b,y,I.value||"",T,x,R,g,L,M,p)})}},V.setDisplayAreaBackground=function(p,C,b){if(C&&C.outspace)p.canvasBackground.displayAreaStyle&&delete p.canvasBackground.displayAreaStyle["background-color"];else{p.canvasBackground.displayAreaStyle||(p.canvasBackground.displayAreaStyle={});var D=v.v.getThemeColor(b,"background");p.canvasBackground.displayAreaStyle["background-color"]=D}},V.convertDisplayOptionToStyle=function(p){var C="";return p.useResponsiveLayout&&(C+=" responsive"),p.disableAnimations&&(C+=" disableAnimations"),8==(8&p.canvasViewStyle)&&(C+=" fitToScreen"),4==(4&p.canvasViewStyle)&&(C+=" fitToPage"),1==(1&p.canvasViewStyle)&&(C+=" fitToWidthOrigin"),2==(2&p.canvasViewStyle)&&(C+=" fitToWidthCentered"),256==(256&p.canvasViewStyle)&&(C+=" actualSizeAlignCenter"),512==(512&p.canvasViewStyle)&&(C+=" actualSizeAlignLeft"),64==(64&p.canvasViewStyle)&&(C+=" actualSizeAlignMiddle"),128==(128&p.canvasViewStyle)&&(C+=" actualSizeAlignTop"),32==(32&p.canvasViewStyle)&&(C+=" actualSizeCentered"),16==(16&p.canvasViewStyle)&&(C+=" actualSizeOrigin"),C.trim()},V.getAutoLayoutVisualVCHeader=function(p,C){return C&&C.getCapabilities().visualContainerOptions.useStylableHeader||p&&p.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()?0:a.BB},V.getCanvasOutlineSize=function(p,C){if(1===C.getMode()){var b=p.background&&p.background.transparency;if(b&&b>=a.$j)return a.qD}return 0},V.applyFitOption=function(p,C,b,y,D,P){if(p.viewModel&&p.viewModel.contract){var F=C.find(this.DisplayAreaContainerNameSelector.selector),E=this.findParentElement(C,this.ExploreCanvasSelector).find(this.CanvasBackdropSelector.selector),w=b.canvasScale.getDisplayOption();2!==w&&(p.fitToWidthScrollPosition=void 0);var x=p.viewModel.contract.name,R=p.lastApplyFitContext;R&&(w!==R.displayOption||x!==R.sectionName)&&F[0].scrollTo({top:0,left:0,behavior:"instant"}),p.lastApplyFitContext={displayOption:w,sectionName:x};var g=this.getAutoLayoutVisualVCHeader(b.formFactor,b.explorationCapabilities);switch(w){case 2:this.fitToWidth(p,F,b.canvasScale,g,b.viewModeState,P,y);break;case 1:this.fitToPage(p,F,b.canvasScale,b.viewModeState,g,y);break;case 3:this.displayInActualSize(p,F,E,b.canvasScale,g,y,D);break;case 4:this.displayInActualSizeTopLeft(p,F,b.canvasScale,g);break;default:this.fitToScreen(p,F,b.canvasScale,g)}b.eventBridge.publishToChannel(o.ubE)}},V.storeOverflowValuesAndChange=function(p,C){this.currentOverflowXCSSValue=p.css(h.hK),this.currentOverflowYCSSValue=p.css(h.Rg),p.css(h.hK,C),p.css(h.Rg,C)},V.restoreOverflowValues=function(p){p.css(h.hK,this.currentOverflowXCSSValue),p.css(h.Rg,this.currentOverflowYCSSValue)},V.visualPositionToRect=function(p){return{left:p.x,top:p.y,width:p.width,height:p.height}},V.rectToVisualPosition=function(p){return{x:p.left,y:p.top,width:p.width,height:p.height}},V.isCortanaPageSize=function(p){return!1},V.DisplayAreaNameSelector=(0,h.CH)("displayArea"),V.DisplayAreaContainerNameSelector=(0,h.CH)("displayAreaContainer"),V.VisualContainerHostSelector=(0,h.CH)("visualContainerHost"),V.OutspaceContainerSelector=(0,h.CH)("outspaceContainer"),V.OutspaceImageSelector=(0,h.CH)("outspaceImage"),V.VisualBackgroundContainerSelector=(0,h.CH)("visualBackgroundContainer"),V.VisualBackgroundImageSelector=(0,h.CH)("visualBackgroundImage"),V.DefaultVisualPosition={x:100,y:100,width:300,height:300},V.CanvasBackdropSelector=(0,h.CH)("canvasBackdrop"),V.ExploreCanvasSelector=(0,h.CH)("exploreCanvas"),V.currentOverflowXCSSValue="",V.currentOverflowYCSSValue="",V}()},320319:function(Xe,H,t){t.d(H,{L0:function(){return S},vW:function(){return v},x_:function(){return c},zo:function(){return d},zq:function(){return h}});var e=t(979868),l=t(204553),o=t(997726);function d(r,s,u){var i=u&&u[r],a=o.di;if(i)return i.hasOwnProperty(a)&&!i[a];var n=(0,l.NA)(s,{objectName:r,propertyName:a},null);return void 0!==n&&(0,e.VC)(n)&&!n.value}function v(r,s,u){var i={x:r.x*s.x,y:r.y*s.y,z:r.z,width:r.width*s.x,height:r.height*s.y,angle:r.angle,tabOrder:r.tabOrder};if(!0===u){var a=Math.round(i.x),n=Math.round(i.y),m=Math.round(i.x+i.width),f=Math.round(i.y+i.height);i={x:a,y:n,z:i.z,width:m-a,height:f-n,angle:r.angle,tabOrder:r.tabOrder}}return i}function S(r,s){return{x:r.x/s.x,y:r.y/s.y,z:r.z,width:r.width/s.x,height:r.height/s.y,angle:r.angle,tabOrder:r.tabOrder}}function h(r,s){return{left:r.left*s.x,top:r.top*s.y,width:r.width*s.x,height:r.height*s.y}}function c(r,s){return{left:r.left/s.x,top:r.top/s.y,width:r.width/s.x,height:r.height/s.y}}},148776:function(Xe,H,t){t.d(H,{Dg:function(){return oe},F2:function(){return N},FK:function(){return E},JQ:function(){return Y},Mt:function(){return q},N$:function(){return g},P:function(){return Ee},SQ:function(){return A},V3:function(){return F},Vg:function(){return I},Xf:function(){return W},Xt:function(){return Ce},bt:function(){return fe},cV:function(){return ye},e2:function(){return M},eR:function(){return w},gO:function(){return O},lJ:function(){return pe},lN:function(){return me},nG:function(){return R},yC:function(){return _e},yz:function(){return x},zT:function(){return ee}});var e=t(973188),l=t(196960),o=t(430912),d=t(915382),v=t(827562),S=t(306018),h=t(389838),c=t(129093),r=t(927903),s=t(40152),u=t(275580),i=t(365358),a=t(498342),n=t(781322),m=t(569978),f=t(275179),V=t(204553),p=t(325319),C=t(620581),b=t(443759),y=t(416312),D=t(375608);function F(Be,be){var Te=S.UP.getSelectedCanvasItems(be);return w(Be.visualContainerGroups,Te)}function E(Be,be){for(var Te=0,ce=Be;Te<ce.length;Te++){var ve=ce[Te];if(ve.contract===be)return ve}}function w(Be,be){for(var Te={},ce=0,ve=be;ce<ve.length;ce++)Te[ve[ce].name]=!0;var Ke=[];(0,y.Iw)(Be,function(mt){Te[mt.name]&&Ke.push(mt)});var tt=function(He){return _.findIndex(be,function(ke){return ke.name===He.name})};return Ke.sort(function(mt,He){return tt(mt)-tt(He)}),Ke}function x(Be,be){a.fF.assert(function(){return Be.length===be.length},"lists of viewModels and contracts should be the same length");for(var Te=function(tt){var mt=(0,u.sE)(tt.name,be);if(!mt)return a.fF.assertValue(mt,"contract with the same name should exist"),"continue";(0,y.q4)(tt)&&(0,d.q4)(mt)&&(tt.contract!==mt&&(a.fF.assert(function(){return tt.contract.name===mt.name},"should be the same contract with same name"),tt.contract=mt),x(tt.children,mt.children))},ce=0,ve=Be;ce<ve.length;ce++)Te(ve[ce])}function R(Be,be){if(be.parentGroup)for(var Te=be.parentGroup;Te;){var ce=Te.position;Be.left+=ce.x,Be.top+=ce.y,Te=Te.parentGroup}return Be}function g(Be){var be=0;if(_.isEmpty(Be))return be;if(Be[0].parentGroup)for(var Te=Be[0].parentGroup;Te;)be++,Te=Te.parentGroup;return L(Be,be)}function L(Be,be){for(var Te=++be,ce=0,ve=Be;ce<ve.length;ce++){var Re=ve[ce];(0,d.q4)(Re)&&(Te=Math.max(L(Re.children,be),Te))}return Te}function M(Be,be,Te,ce,ve){var Re;ce.hideAllDropdowns(),(0,D.n)(Be);var Ke=m.M.isCtrlOrMeta(Be),tt=S.UP.isCanvasItemSelected(be.contract,Te);if(Ke&&tt&&S.UP.getSelectedCanvasItems(Te).length>1)S.UP.unselectCanvasItem(be.contract,Te);else{if(!ve){var mt=N(be);return mt.parentGroup&&mt.parentGroup.isSelected&&S.UP.unselectCanvasItem(mt.parentGroup.contract,Te),S.UP.selectCanvasItem(mt.contract,Te,(0,m.D)(Be)),void(null===(Re=function(Be,be){return $(Be).parents('[name="'.concat(be,'"]:first'))[0]}(Be.currentTarget,mt.contract.name))||void 0===Re||Re.focus())}S.UP.selectCanvasItem(be.contract,Te,(0,m.D)(Be))}}function O(Be,be,Te){if(Be.parentGroup)if(be){var ve=N(Be);ve!==Be&&(0,r.vz)(be,ve.name,Te)}else for(var ce=Be.parentGroup;ce;)(0,r.vz)(be,ce.name,Te),ce=ce.parentGroup}function N(Be,be){void 0===be&&(be=!1);for(var Te=Be.parentGroup,ce=Be;Te;){if(Te.isSelected||Te.isChildSelected){be&&Te.isSelected&&(ce=Te);break}ce=Te,Te=Te.parentGroup}return ce}function A(Be,be){S.UP.isCanvasItemSelected(Be,be)||S.UP.selectCanvasItem(Be,be)}function I(Be,be,Te,ce){void 0===ce&&(ce=!0);var ve=[];return ie(be.getSelectedElements(),ce,function(Ke){if((0,d.q4)(Ke))ve.push(Be.serializeVisualContainerGroup(Ke));else{var tt=function(Be,be){return Be.filters?function(Be,be){var Te=(0,i.UU)(Be.filters,function(ce){return function(Be,be){var Te=Be.filter;if((Be.type===o.vA.Include||Be.type===o.vA.Exclude)&&Te){var ce=Te.rewrite(be);if(ce!==Te)return(0,n.ED)(Be,function(ve){return ve.filter=ce})}return Be}(ce,be)});return Te!==Be.filters?(0,n.ED)(Be,function(ce){return ce.filters=Te}):Be}(Be,new c.L(be)):Be}(Ke,Te);ve.push(Be.serializeVisualContainer(tt))}}),ve}function W(Be,be,Te,ce,ve,Re){var Ke=Be.objects,tt=ve.getVisualObjects(ce,Te,void 0,be);tt&&(Ke=(0,V.d9)(Ke||{}),(0,V.l7)(Ke,tt));var mt=ve.getVisualStyle(ce),He=(0,p.G3)(Ke,be,mt,Re.featureSwitches);Be.evaluatedObjects=He.dataViewObjects}function ee(Be,be,Te){void 0===Te&&(Te=!0);var ce={};return ie(Be.getSelectedElements(),Te,function(Ke){var tt;(0,d.Vz)(tt=Ke)&&(0,h.WP)(tt.config.singleVisual.objects,void 0,be,ce)}),ce}function ie(Be,be,Te){if(!_.isEmpty(Be)){for(var ce=be&&[],ve=0,Re=Be;ve<Re.length;ve++){var tt=Re[ve].canvasItem;tt&&(be&&(0,d.q4)(tt)?ce.push(tt):Te(tt))}be&&!_.isEmpty(ce)&&(0,d.Iw)(ce,function(mt){return Te(mt)})}}function q(Be,be,Te,ce,ve,Re,Ke,tt,mt,He){return _.first(Y([Be],be,Te,ce,ve,Re,Ke,tt,mt,He))}function Y(Be,be,Te,ce,ve,Re,Ke,tt,mt,He){var ke,ft;if(Be){var Le={},Q=!!Ke,Ue=Te.size,ae=He?Te.visualContainerGroups:Te.visualContainers,Se=_.flatMap(be.sections,function(et){return He?et.visualContainerGroups:et.visualContainers}),nt=[],vt=ve.getCurrentLayout();(0,d.Iw)(ae,function(et){if(null==et.parentGroup){var at=et.layouts.withId(vt);nt.push(at.position)}}),(0,d.Iw)(Se,function(et){Le[et.name]=!0});var We=ce.deserializeCanvasItems(Be,!0,He,function(){var et=(0,r.vr)(Le);return a.fF.assert(function(){return!Le[et]},"New name already exists"),Le[et]=!0,et});if(We){var de=We.visualContainerGroups,te=We.visualContainers,Ve=function(Be,be,Te,ce){var ve=Ee(Be,be),Re=_.orderBy(Te,function(Ke){return Ke.config.layouts[be].position.z},["asc"]);return Re.reduce(function(Ke,tt){var mt,He=tt.config,ke=He.name,Le=!!He.parentGroupName;return(0,e.__assign)((0,e.__assign)({},Ke),((mt={})[ke]=Le&&ce?null:ve++,mt))},{})}(ae,vt,Be,He),xe=function(Be,be,Te){var ce=function(Be,be){var Te=0,ce=0;if(_.isEmpty(Be))return{pos:Te,neg:ce};for(var ve=0,Re=Be;ve<Re.length;ve++){var tt=Re[ve].layouts.withId(be),mt=tt&&tt.position,He=mt&&null!=mt.tabOrder?mt.tabOrder:void 0;null!=He&&(Te=Math.max(Te,He),ce=Math.min(ce,He))}return{pos:Te+1,neg:ce-1}}(Be,be),ve=_.orderBy(Te,function(Re){return Re.config.layouts[be].position.tabOrder},["asc"]);return ve.reduce(function(Re,Ke){var tt,mt=Ke.config,He=mt.name,Le=mt.layouts[be].position,Q=Le.tabOrder>=0;return(0,e.__assign)((0,e.__assign)({},Re),((tt={})[He]=null!=Le.tabOrder?Q?ce.pos++:ce.neg--:null,tt))},{})}(Te.visualContainers,vt,Be),Z=(0,i.UR)(),J=[],Fe=function(at){var qe=at.prevName,bt=null!=at.parentGroup,It=at.layouts.withId(vt),Rt=It.position;if(a.fF.assert(function(){return He||(0,d.Vz)(at)},"Should not be processing groups when grouping is disabled"),(!bt||!He)&&(qe&&!_.isNil(Ve[qe])&&(Rt.z=Ve[qe]),J.push(at)),qe&&!_.isNil(xe[qe])&&null!=Rt.tabOrder&&(0,d.Vz)(at)&&(Rt.tabOrder=xe[qe]),!bt){for(;2!==G(Rt,Ue)&&le(Rt,nt);)Rt.x+=10,Rt.y+=10;nt.push(Rt)}if(at.layouts=(0,i.Br)([It]),Q&&(0,d.Vz)(at)){var zt=(0,b.Dz)(be,Te,at,vt);Z.push(zt)}};if(He)(0,d.Iw)(de,function(et){return Fe(et)});else for(var ze=0,rt=te;ze<rt.length;ze++)Fe(rt[ze]);if((ke=Te.visualContainers).push.apply(ke,te||[]),Q&&(ft=Ke.visualContainers).push.apply(ft,Z||[]),He){if(Te.visualContainerGroups=u.IH.apply(void 0,(0,e.__spreadArray)([Te.visualContainerGroups],de||[],!1)),Q){var Pe=(0,b.C)(de,Z,vt);Ke.visualContainerGroups=u.IH.apply(void 0,(0,e.__spreadArray)([Ke.visualContainerGroups],Pe||[],!1))}}else Te.visualContainerGroups=u.IH.apply(void 0,(0,e.__spreadArray)([Te.visualContainerGroups],te||[],!1)),Q&&(Ke.visualContainerGroups=u.IH.apply(void 0,(0,e.__spreadArray)([Ke.visualContainerGroups],Z||[],!1)));if(Re.publishVisualContainerAddedEvent(),tt&&S.UP.selectCanvasItems(J,tt,!0),mt)for(var X=0,we=J;X<we.length;X++){var Ze=we[X];(0,d.Vz)(Ze)&&mt.applyFilterOutput(Ze)}return J}}}function G(Be,be){var Te=be.width||0,ce=be.height||0,ve=0;return Be.x+Be.width>Te&&(Be.x=Math.max(Te-Be.width,0),ve++),Be.y+Be.height>ce&&(Be.y=Math.max(ce-Be.height,0),ve++),ve}function me(Be,be,Te,ce,ve,Re){var Ke;return(0,e.__awaiter)(this,void 0,f.J,function(){var tt;return(0,e.__generator)(this,function(mt){switch(mt.label){case 0:return Be.expr?[3,1]:(tt=ve.addEmptyVisualContainer(be,Te,Be.visualType,Be.position,Be.shouldSummarize),[3,3]);case 1:return[4,ve.addVisualContainer({expr:Be.expr,visualType:Be.visualType,targetRole:Be.targetRole,dataSources:ce,allowAggregate:null===(Ke=Be.allowAggregate)||void 0===Ke||Ke,shouldSummarize:Be.shouldSummarize},be,Te)];case 2:tt=mt.sent(),mt.label=3;case 3:return Re.logEvent(C._rP,{source:re(Be.telemetrySource),visualType:(0,s.s)(tt),visualName:tt.name}),[2,tt]}})})}function re(Be){switch(Be){case 0:return"CheckboxTickedInFieldList";case 3:return"DraggedToFieldWell";case 1:return"DraggedToCanvas";case 2:return"VisualTypeIconClicked";case 4:return"InsertVisualButton";case 5:return"WhatIfParameterControl";case 8:return"QnaAppBar";case 6:return"QnaDoubleClick";case 7:return"QnaKeyboardShortcut";case 9:return"FieldParameterControl";case 10:return"CanvasBackgroundContextMenu";case 11:return"AssistedCreation";case 12:return"Copilot";default:a.fF.assertFail("Unexpected enum value, update the VisualCreationSource to visualcontainer.VisualCreationType mapping")}}function le(Be,be){return a.fF.assertValue(Be,"position"),_.some(be,function(Te){return Be.x===Te.x&&Be.y===Te.y})}function Ee(Be,be){return _.isEmpty(Be)?0:_.chain(Be).map(function(ce){var ve=ce.layouts.withId(be),Re=ve&&ve.position;return Re&&Re.z||0}).max().value()+1}function _e(Be,be,Te){if(!Be||_.isEmpty(Be.visualContainers))return 0;var ce=be?v.yM:v.ox;return _.forEach(Be.visualContainers,function(ve){var Re=ve.layouts.withId(Te),Ke=Re&&Re.position;if(Ke&&Ke.tabOrder){var tt=Ke.tabOrder;ce=be?Math.max(ce,tt):Math.min(ce,tt)}}),ce+(be?1:-1)}function pe(Be,be,Te){for(var ce=0,ve=0,Re=0,Ke=0,tt=null,mt=0,He=0,ke=Te.length;He<ke;He++)if(mt=He,(ft=Te[He])===Be){var Q=(Le=ft.parentGroup)&&Le.layouts.withId(be);Le=Q?Le:void 0,tt=(0,r.hP)(fe(ft,be),be,Le);break}if(tt){Te.splice(mt,1);for(var Ue=0,ae=Te;Ue<ae.length;Ue++){var ft,Le;Q=(Le=(ft=ae[Ue]).parentGroup)&&Le.layouts.withId(be),Le=Q?Le:void 0;var Se=(0,r.hP)(fe(ft,be),be,Le),nt=tt.x-Se.x;ce=ce<nt?nt:ce,ve=ve<(nt=Se.y+Se.height-(tt.y+tt.height))?nt:ve,Re=Re<(nt=tt.y-Se.y)?nt:Re,Ke=Ke<(nt=Se.x+Se.width-(tt.x+tt.width))?nt:Ke}return{top:0-(Re>0?Re/tt.height:0),left:0-(ce>0?ce/tt.width:0),bottom:1+(ve>0?ve/tt.height:0),right:1+(Ke>0?Ke/tt.width:0)}}}function fe(Be,be){var Te=Be.layouts.withId(be);return a.fF.assertValue(Te,"Can't find a visual layout for the current form factor."),Te&&Te.position}function oe(Be){for(var Te={},ce=0,ve=S.UP.getSelectedCanvasItems(Be);ce<ve.length;ce++){var Re=ve[ce],Ke=Re.parentGroup?Re.parentGroup.name:"root";Te[Ke]=Te[Ke]||[],Te[Ke].push(Re)}return Te}function ye(Be,be){return _.filter(Be,function(ce){var ve=fe(ce,0).tabOrder;return be?void 0===ve||ve>=0:ve&&ve<0})}function Ce(Be){var be=Be.getCurrentSection();return be&&be.evaluatedObjects&&be.evaluatedObjects.outspacePane&&be.evaluatedObjects.outspacePane.width||l.vg}},376694:function(Xe,H,t){t.d(H,{O6:function(){return d},fe:function(){return o},jx:function(){return l}});var e={BlockedCustomVisual:1,ScriptVisualsNotEnabled:1,UnapprovedCustomVisual:1,CvApiVersionNotSupported:1,AzureMapUserNotSignedIn:1,AzureMapNoEndpoint:1};function l(v){if(!v)return!1;var S=v.displayableErrorInfo;return!_.isEmpty(S)&&!_.isEmpty(S[0].errorInfoKey)&&!_.isEmpty(S[0].errorInfoValue)}function o(v){return v in e?e[v]:0}function d(v){return 1===o(v)}},375608:function(Xe,H,t){function e(o){var d;if(o){var h=(null!==(d=o.originalEvent)&&void 0!==d?d:o).handled;return void 0!==h&&!0===h}}function l(o){var d;o&&((null!==(d=o.originalEvent)&&void 0!==d?d:o).handled=!0)}t.d(H,{n:function(){return l},q:function(){return e}})},141115:function(Xe,H,t){t.d(H,{j:function(){return o}});var e=t(498342);function o(d,v){e.fF.assertValue(d,"exploration"),e.fF.assertValue(v,"trustedVisual");for(var S=[],h=0,c=d.sections;h<c.length;h++)for(var s=0,u=c[h].visualContainers;s<u.length;s++){var a=u[s].config.singleVisual.visualType;!a||!v.isTrustedVisual(a)||S.push(a)}return v.getConsentAndLoadVisuals(S)}},332488:function(Xe,H,t){t.d(H,{O:function(){return S},Q3:function(){return d},QR:function(){return v},UO:function(){return r},_A:function(){return h},ku:function(){return c}});var e=t(430912),l=t(498342),o=t(620581);function d(s,u,i,a){var n=_.filter(i.filters,function(m){return 5===m.howCreated});s.logChildEvent(a&&a.event,o.gEB,{type:u,countOfCurrentPageDrillthroughFilters:n.length})}function v(s){var u;switch(s&&(u=s.kind),u){case 0:return"Entity";case 2:return"ColumnRef";case 3:return"MeasureRef";case 4:return"Aggregation";case 5:return"PropertyVariationSource";case 6:return"Hierarchy";case 7:return"HierarchyLevel";case 46:return"Sparkline";case 47:return"VisualCalculation";default:return"Other"}}function S(s){switch(s){case e.vA.Advanced:return"Advanced";case e.vA.Categorical:return"Categorical";case e.vA.Passthrough:return"Passthrough";case e.vA.Range:return"Range";case e.vA.Visual:return"Visual";default:l.fF.assert(function(){return!0},"unknown filterType "+s)}}function h(s){switch(s){case 2:return"Exploration";case 1:return"Section";case 0:return"Visual";default:l.fF.assert(function(){return!0},"unknown filterScopeType "+s)}}function c(s){switch(s){case 0:return"View";case 1:return"Edit"}}function r(s){switch(s){case 1:return"Ascending";case 2:return"Descending";case 3:return"Custom"}}},840448:function(Xe,H,t){t.d(H,{CH:function(){return p},HD:function(){return b},JH:function(){return F},JN:function(){return f},PJ:function(){return V},Rh:function(){return P},Z:function(){return n},eW:function(){return m},ku:function(){return D},uE:function(){return y}});var e=t(973188),l=t(715770),o=t(306018),d=t(497141),v=t(947105),S=t(644585),h=t(927903),c=t(247740),r=t(498342),s=t(275179),u=t(382088),i=t(367547),a=t(443759);function n(R,g,L,M,T,O){if(2===R.scope.scopeType&&(r.fF.assertValue(L,"no exploration on report filter change"),(0,h.oU)(L)),1===R.changeType||2===R.changeType&&!function(R,g){for(var L=0,M=g;L<M.length;L++)if(M[L].contract===R)return!0;return!1}(R.filter,g)){var N=(0,h.cj)(O,M.visualPlugin),A=(0,i.fw)(R.filter,T,M.displayNameService,R.scope,M.visualPlugin,M.aggrOps,M.localizationService,N,O&&O.config.singleVisual);b(A,M.explorationNavigation),0===R.scope.scopeType&&R.scope.container!==O||(g.push(A),p(g,T,M.dataSources,M.visualAuthoring))}else 0===R.changeType&&_.remove(g,function(I){return I.contract===R.filter});!function(R,g){var L=R.explorationNavigation,M=L.getCurrentExploration(),T=L.getCurrentSection(),O=g.scope.scopeType,N=o.UP.getSelectedVisual(R.selection),A=(0,S.R2)(O,M,T,N,R.scriptVisuals);if(!_.isEmpty(A)){var I=g.changeType.toString();R.telemetryService.logChildEvent(g.parentActivity&&g.parentActivity.event,c.bD,{action:I,visualIds:JSON.stringify(A)})}}(M,R)}function m(R,g,L,M,T,O,N,A,I){return R.displayName?R.displayName:(0,i.fw)(R,L,T,g,N,M,O,A,I).displayName}function f(R,g){return(0,e.__awaiter)(this,void 0,s.J,function(){var L,M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return L=R.explorationNavigation.getCurrentSection(),M=[],L?[4,V(R.dataSources,R.conceptualSchemaProxy)]:[2,M];case 1:return T=O.sent(),p(M=(0,a.yU)({scopeType:1,container:L},T,R.displayNameService,R.visualPlugin,R.aggrOps,R.localizationService,null,g),T,R.dataSources,R.visualAuthoring,!1),function(R,g){if(!_.isEmpty(R))for(var L=0,M=R;L<M.length;L++)b(M[L],g)}(M,R.explorationNavigation),[2,M]}})})}function V(R,g){return(0,e.__awaiter)(this,void 0,s.J,function(){var L;return(0,e.__generator)(this,function(M){switch(M.label){case 0:return(L=R.get())?[4,g.get(L)]:[2];case 1:return[2,M.sent()]}})})}function p(R,g,L,M,T){if(void 0===T&&(T=!0),!_.isEmpty(R)){var O=L.get();M.addConfigToCategoricalFilters(R,g,O,T)}}function b(R,g){var L=g.getCurrentExploration(),M=g.getCurrentSection();if(M){var T=(0,v.Iv)(L,M.name);if(T&&!_.isEmpty(T.parameters)){var O=_.find(T.parameters,function(N){return N.boundFilter===R.contract.name});O&&R.updateIsLinkedAsAggregation(!!O.asAggregation)}}}function y(R,g,L,M,T,O,N){return(0,e.__awaiter)(this,void 0,s.J,function(){var A,I;return(0,e.__generator)(this,function(B){switch(B.label){case 0:return T?(A={scopeType:R,container:g},I=M.get(),L?[4,O.addDrillthroughFilter(T,A,I)]:[3,2]):[2];case 1:case 3:return[2,B.sent()];case 2:return[4,O.addFilter(T,A,I,N)]}})})}function D(R,g,L,M,T,O){var N=_.find(L.filters,function(I){return I.name===R});return!!N&&M.removeFilter(N,{scopeType:g,container:L},T,O)}function P(R,g,L,M){if(!_.isEmpty(L)&&(10===M.changeType||1===M.changeType||2===M.changeType||0===M.changeType))for(var T=w(M.scope.scopeType,5===M.filter.howCreated),O=0,N=L;O<N.length;O++){var A=N[O];if(!(T<w(g,5===A.howCreated))&&d.l.isCategoricalFilter(A.contract.type)&&A.contract!==M.filter){var B={filter:A.contract,changeType:4,scope:A.getFilterContainerScope(),parentActivity:M.parentActivity};R.eventBridge.publishToChannel(l.Tuj,B)}}}function F(R,g,L){if(!g||/^\s*$/.test(g))return!1;var M=R.contract.displayName||R.displayName;return _.isEmpty(M)&&(M=R.getRestatement()),!(0,u.ms)(M,g)}function w(R,g){return 0===R?0:1!==R||g?1===R?2:2===R?3:-1:1}},709060:function(Xe,H,t){function e(o,d,v){return o?v.get(o):d.reject()}function l(o,d){Object.defineProperty(o,"dataSources",{get:function(){return d.get()},set:function(S){return d.set(S)}})}t.d(H,{l:function(){return e},x:function(){return l}})},675157:function(Xe,H,t){t.d(H,{EI:function(){return S},Gy:function(){return v},e6:function(){return d}});var e=t(979868),l=t(669266),o=t(927903);function d(h){return _.some((0,o.oJ)(h),function(c){return(0,e.tO)(c.expr)})}function v(h,c,r){var s=(0,o.oJ)(c);if(!_.isEmpty(s))for(var u=(0,o.Xf)(c),i=function(V){var p=V.expr;if((0,e.tO)(p)){var C=p.measure,b=u.getRoleNameForExpr(p),y=_.chain(u.tryGetExprs(b)).map(function(D,P){return{expr:D,index:P}}).filter(function(D){return(0,l.fS)(D.expr,p)}).map(function(D){return D.index}).value();_.forEach(y,function(D){return r.replaceField(h,C,b,D,c)})}},a=0,n=s;a<n.length;a++)i(n[a])}function S(h,c){var r,s,u=null===(r=h.grouping[0].getMetadata(c))||void 0===r?void 0:r.type;return u&&(s=u.dateTime||u.temporal?"Date":u.numeric?"Numeric":"Categorical"),{groupingType:s,measureType:(0,e.iV)(h.measure)?"Aggregate":"Measure"}}},621010:function(Xe,H,t){t.d(H,{LR:function(){return a},vC:function(){return r},yY:function(){return c}});var e=t(973188),l=t(915382),o=t(95486),d=t(498342),v=t(273269),S=t(320319),h=t(625521);function c(n,m,f,V,p,C){if(n&&m){var b=n.getAdapter();b&&V&&b.update({viewport:m,suppressAnimations:!0,dataViews:n.getDataViews(),type:f,resizeMode:C,viewMode:V.getViewMode(),editMode:p})}}function r(n,m,f,V,p,C,b,y,D,P){var F=this,E={getType:function(){return n.type},setType:function(x){return n.type=x},getViewport:function(){return n.viewport},setViewport:function(x,R){n.viewport=x,R&&c(E,x,v.EP.Resize,m,f)},getData:function(){return n.data},getAdapter:function(){return n.visual},getDataViews:function(){return n.dataViews},setDataViews:function(x){return n.dataViews=x},getDataTransforms:function(){return n.dataTransforms},setThemeCollection:function(x){return n.themeCollection=x},getIsInFocus:function(){return n.isInFocus},setIsInFocus:function(x){return n.isInFocus=x},setData:function(x,R,g){n.data=x,n.dataAppliedEvent&&(n.dataAppliedEvent.reject(),n.dataAppliedEvent=void 0),n.performanceActivity&&(n.performanceActivity.cancel(!0),n.performanceActivity=void 0),n.dataAppliedEvent=R,n.performanceActivity=g},setDataTransforms:function(x){return n.dataTransforms=x},setPendingSelection:function(x){return n.pendingSelection=x},hasPendingSelection:function(){return!!n.pendingSelection},setAdditionalObjectUpdates:function(x){return n.additionalObjectUpdates=x},setIsDisabled:function(x){return n.isDisabled=x},getIsDisabled:function(){return n.isDisabled},setIsDisabledIfUncertified:function(x){return n.isDisabledIfUncertified=x},getIsDisabledIfUncertified:function(){return n.isDisabledIfUncertified},setReportId:function(x){return n.reportId=x},getErrorInfo:function(){return n.errorInfo},setErrorInfo:function(x){return n.errorInfo=x},getWarnings:function(){return u(n)},getWarnings$:function(){return m.getWarnings$()},setWarnings:function(x,R,g){return i(n,x,R,g)},getDataBoundObjectWarnings:function(){return n.dataBoundObjectWarnings},resetWarnings:function(x){void 0===x&&(x=!1),x&&(n.dataBoundObjectWarnings={}),n.warnings=void 0},getHasPendingChanges:function(){return n.hasPendingChanges},setHasPendingChanges:function(x){return n.hasPendingChanges=x},getHasUnappliedFilterChanges:function(){return n.hasUnappliedFilterChanges},setHasUnappliedFilterChanges:function(x){return n.hasUnappliedFilterChanges=x},getSelectedDatapoints:function(){return n.selectedDatapoints},setSelectedDatapoints:function(x,R){return function(n,m,f,V,p){var C=n.visual;d.fF.assert(function(){return!m.pendingSelection&&!n.pendingSelection},"There should be no pending selection when setSelectedDatapoints is called"),V&&(C&&C.visualHasMethod&&C.visualHasMethod("onRestoreSelection")?C.onRestoreSelection({selection:f}):(i(n,[new h.zC]),p&&p(u(n)))),n.selectedDatapoints=f}(n,V,x,R,b)},clearSelectedDatapoints:function(){n.selectedDatapoints=void 0;var x=n.visual;x&&x.onClearSelection&&x.onClearSelection(),p.selectDataPoint(C,[],void 0,void 0,1)},getSubSelectionStyles:function(x){return(0,e.__awaiter)(F,void 0,void 0,function(){var R,g,L,M,T,O;return(0,e.__generator)(this,function(N){switch(N.label){case 0:return D?[4,D.getSubSelectionStyles(x)]:[3,2];case 1:if(R=N.sent())return[2,R];N.label=2;case 2:return[4,null!==(M=null===(L=null===(g=n.visual)||void 0===g?void 0:g.getSubSelectionStylesAsync)||void 0===L?void 0:L.call(g,x))&&void 0!==M?M:null===(O=null===(T=n.visual)||void 0===T?void 0:T.getSubSelectionStyles)||void 0===O?void 0:O.call(T,x)];case 3:return[2,N.sent()]}})})},getSubSelectionShortcuts:function(x,R){return(0,e.__awaiter)(F,void 0,void 0,function(){var g,L,M,T,O,N;return(0,e.__generator)(this,function(A){switch(A.label){case 0:return D&&!R&&(g=D.getSubSelectionShortcuts(x,R))?[2,g]:[4,null!==(T=null===(M=null===(L=n.visual)||void 0===L?void 0:L.getSubSelectionShortcutsAsync)||void 0===M?void 0:M.call(L,x,R))&&void 0!==T?T:null===(N=null===(O=n.visual)||void 0===O?void 0:O.getSubSelectionShortcuts)||void 0===N?void 0:N.call(O,x,R)];case 1:return[2,A.sent()]}})})},getSubSelectables:function(x){return(0,e.__awaiter)(F,void 0,void 0,function(){var R,g,L,M,T,O,N,A;return(0,e.__generator)(this,function(I){switch(I.label){case 0:return R=[],[4,null!==(O=null===(T=null===(M=n.visual)||void 0===M?void 0:M.getSubSelectablesAsync)||void 0===T?void 0:T.call(M,x))&&void 0!==O?O:null===(A=null===(N=n.visual)||void 0===N?void 0:N.getSubSelectables)||void 0===A?void 0:A.call(N,x)];case 1:return(g=I.sent())&&R.push.apply(R,g),D&&(L=D.getSubSelectables(x))&&R.push.apply(R,L),[2,0!==R.length?R:void 0]}})})},onDataViewObjectChanged:function(x,R,g){if(g){if(!n.visual||!n.visual.visualHasMethod("onDataViewObjectChanged"))return x;var L=n.visual.onDataViewObjectChanged(x,R);if(L)return L}else if(P){var M=P.onDataViewObjectChanged(x,R);if(M)return M}return[]}};return y&&(E.sortServices=y),E}function u(n){var m,f=n.warnings,V=n.dataBoundObjectWarnings;if(m=f?_.cloneDeep(f):{},!_.isEmpty(V))for(var p in m.visualObjectWarnings||(m.visualObjectWarnings={}),V){var C=m.visualObjectWarnings[p];C?C.push.apply(C,V[p]||[]):m.visualObjectWarnings[p]=V[p]}return m}function i(n,m,f,V){if(_.isArray(m)){var p=_.filter(m,function(w){return!(w instanceof o.L)});if(_.isEmpty(p)){n.dataBoundObjectWarnings||(n.dataBoundObjectWarnings={});for(var b=0,y=_.filter(m,function(w){return w instanceof o.L});b<y.length;b++){var D=y[b],P=D.propertyId.objectName;if(!f||!(0,S.zo)(P,f,V)){var F={selector:D.selector,warnings:[D]},E=n.dataBoundObjectWarnings[P];E?E.push(F):n.dataBoundObjectWarnings[P]=[F]}}}else d.fF.assert(function(){return p.length===m.length},"setWarnings - Received a mix of DataBoundExprWarning and non-DataBoundExprWarning warnings"),n.warnings={warnings:p}}else n.warnings=m}function a(n,m,f){if((0,l.q4)(f))return!1;var V=null==f?void 0:f.config.singleVisual;if(V){var p=V.visualType,C=n.capabilities(p);return!(V.query||!m.isQueryVisual(p)||"debugVisual"===p||C&&C.supportsLandingPage)}return!0}},208052:function(Xe,H,t){function e(){return{getFilters:function(){return{dataFilter:null,dataFiltersUnmerged:null}},getDataSourceVariables:function(){},getVisualRelationshipFilterAction:function(){return 0},selectDataPoint:_.noop,setVisualRelationshipFilterAction:_.noop}}t.d(H,{E:function(){return e}})},550184:function(Xe,H,t){t.d(H,{UM:function(){return P}});var e=t(789015),l=t(102794),o=t(341648),d=t(9025),v=t(696933),S=t(366769),h=t(85179),u={size:d.dz.titleFontProperties.size,family:d.dz.titleFontProperties.family},i={size:d.dz.valueFontProperties.size,family:d.dz.valueFontProperties.family},a={size:d.dz.titleFontProperties.size,family:S.Wn.regular.css},n=d.dz.titleFontProperties.color,m=d.dz.valueFontProperties.color,f=d.dz.background.solid.color,V=d.dz.actionFontProperties.color;function P(R,g,L,M,T){var O;void 0===T&&(T=!1);var N=function(R,g,L){var M,T,O,N,A=!(!R||!(R.titleFontColor||R.valueFontColor||R.background));return g&&!A?(M=E(w(R&&R.themedTitleFontColor),e.v.getThemeColor(L,v.fA)),T=E(w(R&&R.themedValueFontColor),e.v.getThemeColor(L,v.fA)),O=E(w(R&&R.themedBackground),e.v.getThemeColor(L,v.U)),N=E(w(R&&R.actionFontColor),e.v.getThemeColor(L,v.fA))):g&&A?(M=E(E(w(R&&R.themedTitleFontColor),w(R&&R.titleFontColor)),n),T=E(E(w(R&&R.themedValueFontColor),w(R&&R.valueFontColor)),m),O=E(E(w(R&&R.themedBackground),w(R&&R.background)),f),N=E(w(R&&R.actionFontColor),M)):(M=E(w(R&&R.titleFontColor),n),T=E(w(R&&R.valueFontColor),m),O=E(w(R&&R.background),f)),{actionFontColor:N,backgroundColor:O,titleFontColor:M,valueFontColor:T}}(M,g,R),A=N.actionFontColor,I=N.backgroundColor,B=N.titleFontColor,U=N.valueFontColor;void 0===A&&L&&(A=g?V:B);var W=void 0!==A?x(M,g,L,R,a,A,T):void 0;return{titleFontProperties:x(M,g,L,R,u,B,T),valueFontProperties:x(M,g,L,R,i,U,T),actionFontProperties:W,discoverabilityFontProperties:g?_.clone(W):void 0,background:{solid:{color:I}},transparency:null!==(O=null==M?void 0:M.transparency)&&void 0!==O?O:g?0:d.dz.transparency,hoverColor:e.v.getThemeColor(R,v.Xy),dividerColor:e.v.getThemeColor(R,v.Xy)}}function E(R,g){return void 0===R?g:R}function w(R){if(R){if(null===R.solid)return null;if(R.solid)return R.solid.color}}function x(R,g,L,M,T,O,N){var U={size:"fontSize",family:"fontFamily",bold:(0,h.N)(R,"bold")?"bold":void 0,italic:(0,h.N)(R,"italic")?"italic":void 0,underline:(0,h.N)(R,"underline")?"underline":void 0},W=g?(0,l.Zi)(R,U,void 0,M,void 0,"label",T):(0,l.XH)(R,U,void 0,void 0,T),j=(0,l.ED)(W,{color:O});return L&&(j=(0,l.ED)(j,{size:o.B.createFromPt(N?11:9)})),(0,l.xH)(j)}},750395:function(Xe,H,t){t.d(H,{N:function(){return l}});var e=t(613118),l=function(){function o(){}return o.prototype.sortEntities=function(d){},o.prototype.sortProperties=function(d){d&&d.sort(function(v,S){return(0,e.ve)(v.displayName,S.displayName)})},o}()},405878:function(Xe,H,t){t.d(H,{I:function(){return o},c:function(){return l}});var e=t(973188),l=function(){function d(v){this.oldItems=v,this.newItems=[]}return d.prototype.add=function(){for(var v,S=[],h=0;h<arguments.length;h++)S[h]=arguments[h];return!!S&&(S=_.filter(S,function(c){return!!c}),(v=this.newItems).push.apply(v,S||[]),!0)},d.prototype.merge=function(v){v&&(this.newItems=_.filter(this.newItems,v));var S=this.oldItems;return S?S.splice.apply(S,(0,e.__spreadArray)([0,S.length],this.newItems||[],!1)):_.isEmpty(this.newItems)||(S=this.newItems),S},d}(),o=function(){function d(v,S){this.vmLookup=this.getPropertiesDictionary(v),this.renames=this.getRenamesDictionary(v,S)}return d.prototype.findVms=function(v,S,h){var c=this.getKey(v,S,h);return this.vmLookup[this.renames[c]||c]},d.prototype.getPropertiesDictionary=function(v){for(var S=this,h=_.clone(v.properties),c=0,r=v.columnsAndMeasures;c<r.length;c++)h.push(r[c]);for(var u=0,i=v.hierarchies;u<i.length;u++)h.push(i[u]);for(var n=0,m=v.displayFolders;n<m.length;n++){var f=m[n];h.push(f),h.push.apply(h,f.getAllChildren()||[])}return h=_.uniq(h),_.groupBy(h,function(p){return S.getVmKey(p)})},d.prototype.getRenamesDictionary=function(v,S){for(var h={},r=0,s=_.filter(S,function(m){return m.propertyRename&&m.propertyRename.entity===v.name});r<s.length;r++){var u=s[r],i=this.getFieldType(u.propertyRename.objectType),a=this.getKey(u.propertyRename.schema,u.propertyRename.before,i);h[this.getKey(u.propertyRename.schema,u.propertyRename.after,i)]=a}return h},d.prototype.getVmKey=function(v){return this.getKey(v.schemaName,v.name,v.fieldType)},d.prototype.getKey=function(v,S,h){return S+":"+h+(v?"|"+v:"")},d.prototype.getFieldType=function(v){switch(v){default:return 0;case"KPI":return 4;case"Hierarchy":return 2;case"Level":return 3}},d}()},580939:function(Xe,H,t){t.d(H,{d:function(){return v}});var e=t(322671),l=t(498342),o=t(678776),d=t(937744),v=function(){function S(h,c){l.fF.assertValue(h,"field"),this.field=h,this.conditions=[],this.operators=[],this.logicalOperator=2,this.logicalAndOperator=0,this.logicalOrOperator=1,this.filterRestatementGenerator=new e.wd(c),this.filterOperatorFactory=new e.Vl(c)}return S.prototype.toSQExpr=function(h){var c=this.field,r=c.getMetadata(h);if(l.fF.assertAnyValue(r,"metadata"),r){var s=r.type,u=o.m.hasMappedMParameter(c,h);return(0,d.d_)(c,s,this.conditions,this.logicalOperator,u)}},S.prototype.getRestatement=function(h){return this.filterRestatementGenerator.fromCondition(this.conditions,this.logicalOperator,h)},S.prototype.areConditionsValid=function(h,c){var r=this.conditions;if(_.isEmpty(r))return!1;for(var s=0,u=r.length;s<u;s++){var i=r[s];if(null!=i.operator&&0!==i.operator){if((!h||i.value&&i.value.hasValue)&&((0,e.AJ)(i.operator)&&i.value&&!i.value.hasValue||c&&!this.isConditionValid(c,i)))return!1}else if(s<u-1)return!1}return!0},S.prototype.loadOperators=function(h,c,r){var s=this.filterOperatorFactory.tryGetExprFilterOperators(this.field,h,c,r);s.hasError||(this.operators=s.operators)},S.prototype.ensureConditions=function(h,c){var r=this.operators,s=0;this.conditions||(this.conditions=[]),_.isEmpty(this.conditions)&&!_.isEmpty(r)&&this.conditions.push(new e.gP(r[0].value));var u=2;if(h){s=c?1:2,u=c?2:1;var i=!this.filterOperatorFactory.isOperatorForColumnMappedToMParameter(this.conditions[0].operator);(0===this.logicalOperator||i||this.conditions.length>1&&!c)&&(this.conditions=[new e.gP(9)],this.logicalOperator=s)}for(;this.conditions.length<u;)this.conditions.push(e.gP.empty()),this.logicalOperator=s},S.prototype.isConditionValid=function(h,c){return(0,d.Ek)(this.field,h,c)},S}()},937744:function(Xe,H,t){t.d(H,{Ek:function(){return h},d_:function(){return S}});var e=t(497141),l=t(498342),o=t(512322),d=t(100112),v=/[0-9]*\.?[0-9]+%/;function S(s,u,i,a,n){void 0===a&&(a=0),void 0===n&&(n=!1);for(var f,m=new r(s,u,a,n),V=0,p=i;V<p.length;V++){var C=p[V];null==C.operator||0===C.operator||(f=C.accept(m))}return f}function h(s,u,i){if(!u)return!1;var a=e.l.getValueType(s,u);if(!a)return!1;var n=new r(s,a,void 0);return null!=i.accept(n)}var r=function(){function s(u,i,a,n){void 0===n&&(n=!1),this.propertyExpr=u,this.dataType=i,this.logicalOperator=a,this.isMappedToMParameter=n}return s.prototype.visit=function(u){var i=this.expandExpr(u);return i&&(this.result?0===this.logicalOperator?this.result=(0,o.xD)(this.result,i):1===this.logicalOperator?this.result=(0,o.or)(this.result,i):l.fF.assertFail("Logical operator is not set for multiple conditions."):this.result=i),this.result},s.prototype.expandExpr=function(u){var i,a=11!==u.operator&&12!==u.operator&&13!==u.operator&&14!==u.operator;if(a&&(i=this.getValueExpr(u)),i||!a)switch(u.operator){case 9:return(0,o.qu)(0,this.propertyExpr,i);case 10:return(0,o.ff)((0,o.qu)(0,this.propertyExpr,i));case 11:return(0,o.qu)(0,this.propertyExpr,(0,o.IF)());case 12:return(0,o.ff)((0,o.qu)(0,this.propertyExpr,(0,o.IF)()));case 5:return(0,o.r3)(this.propertyExpr,i);case 6:return(0,o.ff)((0,o.r3)(this.propertyExpr,i));case 7:return(0,o.Ny)(this.propertyExpr,i);case 8:return(0,o.ff)((0,o.Ny)(this.propertyExpr,i));case 3:return(0,o.qu)(1,this.propertyExpr,i);case 4:return(0,o.qu)(2,this.propertyExpr,i);case 1:return(0,o.qu)(3,this.propertyExpr,i);case 2:return(0,o.qu)(4,this.propertyExpr,i);case 13:return(0,o.qu)(0,this.propertyExpr,(0,o.fL)(""));case 14:return(0,o.ff)((0,o.qu)(0,this.propertyExpr,(0,o.fL)("")));default:l.fF.assertFail("Not valid filter operator type.")}},s.prototype.getValueExpr=function(u){return function(s,u,i){if(void 0===i&&(i=!1),s.value){var a=s.value.stringValue;if((u.integer||u.numeric)&&a){var n=d.dx.parseFloat(a);return isNaN(n)?void 0:(a.match(v)&&(n/=100),2===u.primitiveType?(0,o.gH)(n):_.isInteger(n)?(0,o.cA)(n):(0,o.tx)(n))}if(u.text&&a)return(0,o.fL)(a);if(u.dateTime){var m=s.value.dateValue;if(m)return i?(0,o.CQ)(m):(0,o.uQ)(5,(0,o.CQ)(m))}}}(u,this.dataType,this.isMappedToMParameter)},s}()},789545:function(Xe,H,t){t.d(H,{C:function(){return l}});var e=t(10031);function l(d,v,S,h,c,r){return{parentContract:d,visual:{viewport:r?S:e.j.adjustViewport(d.detailVisualLayout,S,h),themeCollection:v,allowInvalidDataView:!0,hostServices:null,visualName:d.name+"-detail"},hasData:!1}}},845231:function(Xe,H,t){t.d(H,{U:function(){return l},y:function(){return o}});var e=t(696079),l={phoneWidth:e.Co,phoneHeight:e.aW,phoneGridLayout:{columnCount:e.VA,rowCount:e.kV,newVisualCellCount:{width:6,height:6}}},o=function(){function d(v,S){void 0===S&&(S=0),this.selectedVisualOriginalPosition=-1,this.contract=v,this.canvasLayout=S}return Object.defineProperty(d.prototype,"width",{get:function(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.width:l.phoneWidth},enumerable:!1,configurable:!0}),Object.defineProperty(d.prototype,"height",{get:function(){return 0===this.canvasLayout?this.contract.size&&this.contract.size.height:l.phoneHeight},enumerable:!1,configurable:!0}),d}()},691033:function(Xe,H,t){t.d(H,{Jg:function(){return f},N6:function(){return a},NJ:function(){return V},P_:function(){return r},Tl:function(){return i},UZ:function(){return p},Wx:function(){return c},_u:function(){return m},e:function(){return s},lb:function(){return n},wf:function(){return C}});var e=t(973188),l=t(979868),o=t(498342),d=t(768783),v=t(726501),S=t(411429),h=t(484829),c=function(y,D,P){var F=D?"_paneColorRefresh":"",E=y.fieldType;if(1===E)return"fieldListFolder"+F;if(5===E)return"none";if(2===E)return"fieldListHierarchy"+F;if(6===E)return"fieldListMeasure"+F;if(1===y.contract.queryable)return"fieldListError"+F;if(1===y.kind)return y.contract.measure&&y.contract.measure.kpi&&4===y.fieldType?"fieldListKpi"+F:y.contract.measure&&y.contract.measure.changeDetectionMetadata?"fieldListChangeDetection"+F:"fieldListMeasure"+F;if(void 0!==y.contract.type&&void 0!==y.contract.type.geography)return"fieldListGeoData"+F;if(0===y.kind){var w=y.contract.column;if(w){if(w.parameterMetadata)return"fieldListParameter"+F;if(w.groupingMetadata)return"fieldListGroup"+F;if(w.calculated)return y.type&&y.type.numeric?"fieldListNumericCalculatedColumn"+F:"fieldListCalculatedColumn"+F;if(!_.isEmpty(w.variations)&&y.type.dateTime)return"fieldListCalendar"+F}if(y.idOnEntityKey)return"fieldListIdentity"+F}return y.type&&y.type.numeric&&1!==y.defaultAggregate&&P?"fieldListNumeric"+F:"none"},r=function(){function b(y){o.fF.assertValue(y,"contract"),this.contract=y,this.showCheckboxes=!0,this.entities=[]}return Object.defineProperty(b.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canEdit",{get:function(){return this.contract.capabilities.canEdit&&!this.disableEditing},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canCreateColumn",{get:function(){return this.canEdit&&!1!==this.contract.capabilities.supportsCalculatedColumns},enumerable:!1,configurable:!0}),b.prototype.findEntity=function(y){return _.find(this.entities,function(D){return D.name===y})},b.prototype.findFields=function(y,D,P){var F=this.findEntity(y);if(F)return F.findFields(D,P)},b.prototype.findHierarchies=function(y,D,P){var F=this.findEntity(y);if(F)return F.findHierarchies(D,P)},b.prototype.findKpis=function(y,D,P){var F=this.findEntity(y);if(F)return F.findKpis(D,P)},b.prototype.findKpiMeasures=function(y,D,P){var F=this.findEntity(y);if(F)return F.findKpiMeasures(D,P)},b.prototype.findItems=function(y){var D=[];if((0,l.Im)(y)||(0,l.tO)(y))return D;var P=(0,S.Q)(y),F=(0,v.pV)(P);if(P){var E=P.hierarchyLevel||P.hierarchyLevelAggr;if(E){o.fF.assert(function(){return 1===_.size(F)},"hierarchy level should only have 1 underlying entity");var w=this.findHierarchies(F[0].entity,E.name,E.schema);if(w)for(var x=0,R=w;x<R.length;x++){var g=R[x];D.push(g);for(var L=0,M=g.hierarchyLevels;L<M.length;L++)(T=M[L]).name===E.level&&D.push(T)}}else if(P.columnHierarchyLevelVariation){var O=P.columnHierarchyLevelVariation.source.name;if(o.fF.assert(function(){return 1===_.size(F)},"variations should only have 1 underlying entity"),!(N=this.findFields(F[0].entity,O,F[0].schema)))return D;for(var A=0,I=N;A<I.length;A++){D.push(B=I[A]);var U=B.properties;if(U)for(var W=0,j=U;W<j.length;W++){var K=j[W];if(K instanceof f&&K.name===P.columnHierarchyLevelVariation.level.name){D.push(K);for(var ee=0,ie=K.hierarchyLevels;ee<ie.length;ee++){var T;(T=ie[ee]).name===P.columnHierarchyLevelVariation.level.level&&D.push(T)}}}}}else{var he=(0,v.gz)(P);o.fF.assert(function(){return!he||_.size(F)===_.size(he)},"There should be equal number of properties and entities");for(var q=0;q<F.length;q++){var N,Y=F[q];if(N=this.findFields(Y.entity,O=null==he?void 0:he[q],Y.schema)||this.findKpiMeasures(Y.entity,O,Y.schema))for(var G=0,me=N;G<me.length;G++){var B;D.push(B=me[G])}}}}return D},b.getUniqueId=function(){return b._uid++},b._uid=0,b}(),s=function(){function b(y,D,P){this.hasCheckedProperties=!1,o.fF.assertValue(y,"contract"),o.fF.assertValue(D,"contractSchema"),o.fF.assertValue(P,"schema"),this.contract=y,this.contractSchema=D,this.schema=P,this.properties=[],this.columnsAndMeasures=[],this.hierarchies=[],this.displayFolders=[]}return Object.defineProperty(b.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"displayName",{get:function(){return this.displayNameOverride||this.contract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"description",{get:function(){return this.contract.description},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"errorMessage",{get:function(){return this.contract.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"calculated",{get:function(){return this.contract.calculated},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"iconClassName",{get:function(){return 1===this.contract.queryable?"fieldListError":this.calculated?"fieldListEntityCalculated":this.isMeasureGroup?"fieldListMeasureGroup":void 0},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hidden",{get:function(){return(0,d.yE)(this.contract.visibility,1)&&_.every(this.properties,function(D){return!D.isExtension||D.hidden})},set:function(D){this.contract.visibility=D?(0,d.mB)(this.contract.visibility,1):(0,d.AS)(this.contract.visibility,1)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canEdit",{get:function(){return this.contractSchema.capabilities.canEdit&&!this.schema.disableEditing&&!(0,h.jX)(this.contract)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"private",{get:function(){return(0,d.yE)(this.contract.visibility,4)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showAsVariationsOnly",{get:function(){return(0,d.yE)(this.contract.visibility,2)},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showHidden",{get:function(){return this.schema.showHidden},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canRefresh",{get:function(){return this.canEdit&&this.contract.capabilities.canRefresh},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canHaveMeasures",{get:function(){return this.contract.capabilities.canHaveMeasures},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canEditEntity",{get:function(){return this.canEdit&&!this.calculated&&this.contract.capabilities.canEditSource},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canDelete",{get:function(){return this.canEdit&&this.contract.capabilities.canDelete},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canRename",{get:function(){return this.canEdit&&this.contract.capabilities.canRename},enumerable:!1,configurable:!0}),b.prototype.findFields=function(y,D){return this.findFieldsByType(y,D,0)},b.prototype.findKpis=function(y,D){return this.findFieldsByType(y,D,4)},b.prototype.findKpiMeasures=function(y,D){return this.findFieldsByType(y,D,5)},b.prototype.findHierarchies=function(y,D){return this.findFieldsByType(y,D,2)},b.prototype.findFieldsByType=function(y,D,P){var F=[];F.push.apply(F,2===P?_.filter(this.hierarchies,function(M){return M.name===y&&M.schema.name===D}):_.filter(this.properties,function(M){return M.name===y&&M.fieldType===P&&M.schemaName===D}));for(var E=0,w=this.displayFolders;E<w.length;E++)for(var R=0,g=_.filter(w[E].getAllChildren(),function(M){return M.name===y&&M.fieldType===P});R<g.length;R++){var L=g[R];F.indexOf(L)<0&&F.push(L)}if(!_.isEmpty(F))return F},Object.defineProperty(b.prototype,"userEntity",{get:function(){return!(this.private||this.showAsVariationsOnly)},enumerable:!1,configurable:!0}),b}(),u=function(){function b(y,D,P){this.hasCheckedChildren=!1,o.fF.assertValue(y,"contract"),o.fF.assertValue(D,"schema"),o.fF.assertValue(P,"entity"),this.contract=y,this.schema=D,this.entity=P,this.id=r.getUniqueId()}return Object.defineProperty(b.prototype,"children",{get:function(){return this._children},set:function(D){this._children=D},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"schemaName",{get:function(){return this.schema.name},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"displayName",{get:function(){return this.displayNameOverride||this.contract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"description",{get:function(){return this.contract.description},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"errorMessage",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"visible",{get:function(){return!this.parent||this.parent.expanded&&this.parent.visible},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"hidden",{get:function(){return this.contract.hidden},set:function(D){this.contract.hidden=D},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showHidden",{get:function(){return this.entity.showHidden},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"canEdit",{get:function(){return!this.variation&&this.schema.capabilities.canEdit&&!this.entity.schema.disableEditing},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"disableDragging",{get:function(){return this.entity.schema.disableDragging},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"disableSelectionOnFocus",{get:function(){return this.entity.schema.disableSelectionOnFocus},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"showCheckboxes",{get:function(){return this.entity.schema.showCheckboxes},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"isExtension",{get:function(){return!1},enumerable:!1,configurable:!0}),b}(),i=function(b){function y(D,P,F,E,w){var x=b.call(this,D,P,F)||this;return x.children=[],x.originalEntity=E,x.variation=w,x.expanded=!1,x.draggable=!x.disableDragging,x.fieldType=0,x}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"kind",{get:function(){return this.contract.kind},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return this.contract.column?this.contract.column.defaultAggregate:null},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"type",{get:function(){return this.contract.type},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"idOnEntityKey",{get:function(){return!!this.contract.column&&this.contract.column.idOnEntityKey},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"errorMessage",{get:function(){return this.contract.errorMessage},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return this.canEdit&&!1!==this.contract.canDelete},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canAddToFilter",{get:function(){return!this.contract.measure||!this.schema.capabilities.limitMultiColumnFiltersToQueryGroupColumns},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"properties",{get:function(){return this.children},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(u),a=function(b){function y(D,P,F){var E=this;return o.fF.assertValue(D,"contract"),o.fF.assertValue(P,"schema"),o.fF.assertValue(F,"entity"),(E=b.call(this,D,P,F)||this).fieldType=6,E}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return 3},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isExtension",{get:function(){return!1},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(u),n=function(b){function y(D,P,F){return b.call(this,D,P,F)||this}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"defaultAggregate",{get:function(){return 2},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"idOnEntityKey",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"isExtension",{get:function(){return!0},enumerable:!1,configurable:!0}),y.prototype.clone=function(){return new y(this.contract,this.schema,this.entity)},y}(i),m=function(b){function y(D,P,F,E,w,x){var R=this;return o.fF.assertValue(D,"contract"),o.fF.assertValue(F,"parent"),o.fF.assertValue(E,"entity"),(R=b.call(this,D.column,P,E)||this).originalEntity=w,R.variation=x,R.hierarchyLevelContract=D,R.parent=F,R.fieldType=3,R}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"hidden",{get:function(){return this.parent.hidden},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"name",{get:function(){return this.hierarchyLevelContract.name},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"displayName",{get:function(){return this.displayNameOverride||this.hierarchyLevelContract.displayName},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"description",{get:function(){return this.hierarchyLevelContract.description},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return!this.variation&&this.canEdit&&!1!==this.hierarchyLevelContract.canDelete},enumerable:!1,configurable:!0}),y.prototype.clone=function(D){return new y(this.hierarchyLevelContract,this.schema,D||this.parent,this.entity)},y}(i),f=function(b){function y(D,P,F,E,w){var x=b.call(this,D,P,F)||this;return x.expanded=!1,x.hierarchyLevels=[],x.originalEntity=E,x.variation=w,x.draggable=!x.disableDragging,x.fieldType=2,x}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"properties",{get:function(){return this.hierarchyLevels},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"children",{get:function(){return this.hierarchyLevels},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"canDelete",{get:function(){return!this.variation&&this.canEdit&&!1!==this.contract.canDelete},enumerable:!1,configurable:!0}),y.prototype.findLevel=function(D,P){return _.find(this.hierarchyLevels,function(F){return F.name===D})},y.prototype.clone=function(){var D=new y(this.contract,this.schema,this.entity);return D.hierarchyLevels=_.map(this.hierarchyLevels,function(P){return P.clone(D)}),D},y}(u),V=function(b){function y(D,P,F){var E=b.call(this,D,P,F)||this;return E.expanded=!1,E.kpiMeasures=[],E.fieldType=4,E}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"kind",{get:function(){return this.contract.kind},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"properties",{get:function(){return this.kpiMeasures},enumerable:!1,configurable:!0}),Object.defineProperty(y.prototype,"children",{get:function(){return this.kpiMeasures},enumerable:!1,configurable:!0}),y.prototype.clone=function(){var D=new y(this.contract,this.schema,this.entity);return D.kpiMeasures=_.map(this.kpiMeasures,function(P){return P.clone(D)}),D},y}(u),p=function(b){function y(D,P,F,E,w,x){var R=this;return o.fF.assertValue(D,"contract"),o.fF.assertValue(w,"entity"),o.fF.assertValue(F,"kpiType"),o.fF.assertValue(E,"kpiParent"),o.fF.assertValue(x,"locOptions"),(R=b.call(this,D,P,w)||this).kpiType=F,R.parent=E,R.locOptions=x,R.draggable=!R.disableDragging,R.fieldType=5,R}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"displayName",{get:function(){var P;switch(this.kpiType){case 2:P=this.locOptions.KpiValueDisplayName;break;case 1:P=this.locOptions.KpiGoalDisplayName;break;case 0:P=this.locOptions.KpiStatusDisplayName;break;case 3:P=this.locOptions.KpiTrendDisplayName;break;default:o.fF.assertFail("Unknown KpiType")}return this.displayNameOverride||P||this.contract.displayName},enumerable:!1,configurable:!0}),y.prototype.clone=function(D){return new y(this.contract,this.schema,this.kpiType,D||this.parent,this.entity,this.locOptions)},y}(i),C=function(b){function y(D,P,F,E,w){var x=b.call(this,D,E,w)||this;x.expanded=!1,x.parent=F,x.children=P,x.fieldType=1;for(var R=0,g=P;R<g.length;R++)g[R].parent=x;return x}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"hidden",{get:function(){return!_.some(this.children,function(P){return!P.hidden})},set:function(P){o.fF.assertFail("Should never hide display folder directly")},enumerable:!1,configurable:!0}),y.prototype.clone=function(){o.fF.assertFail("NotImplemented")},y.prototype.getAllChildren=function(){for(var D=[],P=0,F=this.children;P<F.length;P++){var E=F[P];D.push(E),1===E.fieldType&&D.push.apply(D,E.getAllChildren()||[])}return D},y}(u)},585216:function(Xe,H,t){t.d(H,{pF:function(){return d}});var e=t(196960),l=t(750395),o=t(405878);function d(h,c,r,s){var u,i=new o.c(h.displayFolders),a=_.keyBy(h.displayFolders,function(F){return F.name});if(!_.isEmpty(r))for(var n=0,m=r;n<m.length;n++)for(var V=function(E){var w=c.indexOf(c.filter(function(x){return x.name===E.name})[0]);w>=0?c[w]=v(c[w],E):c=c.concat(E)},p=0,C=m[n].entity.displayFolders;p<C.length;p++)V(C[p]);if(!_.isEmpty(c))for(var y=0,D=c;y<D.length;y++)i.add(S(h,void 0,D[y],a,s));h.displayFolders=i.merge(),(u=h.properties).push.apply(u,h.displayFolders||[])}function v(h,c){if(c){for(var r=0,s=c.properties;r<s.length;r++)h.properties.push(s[r]);for(var i=0,a=c.hierarchies;i<a.length;i++)h.hierarchies.push(a[i]);for(var m=function(b){var y=h.displayFolders.indexOf(h.displayFolders.filter(function(D){return D.name===b.name})[0]);y>=0?h.displayFolders[y]=v(h.displayFolders[y],b):h.displayFolders.push(b)},f=0,V=c.displayFolders;f<V.length;f++)m(V[f])}return h}function S(h,c,r,s,u){var i=s[r.name];if(i){i.contract=r;var a=new o.c(i.children);if(r.properties)for(var n=_.filter(i.children,function(T){return 1!==T.fieldType&&2!==T.fieldType}),m=_.keyBy(n,function(T){return T.name}),f=0,V=r.properties;f<V.length;f++){var p=V[f],C=m[p.name];C||((C=(_.head(h.findFields(p.name,i.schemaName))||_.head(h.findFields(p.name,e.eM))||_.head(h.findKpis(p.name,i.schemaName))).clone()).parent=i),a.add(C)}if(r.hierarchies)for(var y=_.filter(i.children,function(O){return 2===O.fieldType}),D=(m=_.keyBy(y,function(O){return O.name}),0),P=r.hierarchies;D<P.length;D++){var F=P[D],E=m[F.name];E||((E=_.head(h.findHierarchies(F.name,i.schemaName)).clone()).parent=i),a.add(E)}if(r.displayFolders)for(var x=_.filter(i.children,function(O){return 1===O.fieldType}),R=(m=_.keyBy(x,function(O){return O.name}),0),g=r.displayFolders;R<g.length;R++)a.add(S(h,i,g[R],m,u));i.children=a.merge(),(new l.N).sortProperties(i.children)}else i=u.convertConceptualDisplayFolder(r,h.contractSchema,c,h);return i}},245147:function(Xe,H,t){t.d(H,{o:function(){return S}});var e=t(498342),l=t(691033),o=t(585216),d=t(613118),v=t(484829);function S(c,r,s){return void 0===s&&(s=!1),new h(c,r,s)}var h=function(){function c(r,s,u){void 0===u&&(u=!1),this.withRowCounts=!1,e.fF.assertValue(r,"localizationService"),e.fF.assertValue(s,"featureSwitchService"),this.localizationService=r,this.withRowCounts=u}return c.prototype.createModel=function(r,s,u,i){e.fF.assertValue(r,"federatedSchema");for(var a,n=r.schemas,m=(0,d.nX)(n),f=0,V=n=(0,d.uU)(n);f<V.length;f++)a=this.convertConceptualSchema(V[f],a,m,s,u,i);return a},c.prototype.convertConceptualSchema=function(r,s,u,i,a,n){var m,f=this;(s=s||new l.P_(r)).disableDragging=a;var V=_.filter(r.entities,function(C){return!(0,v.p1)(C)||(0,v.jX)(C)}),p=_.map(V,function(C){return f.convertConceptualEntity(C,r,s,u)});return(m=s.entities).push.apply(m,p||[]),s.disableEditing=i,s.disableSelectionOnFocus=n,s},c.prototype.convertConceptualEntity=function(r,s,u,i){var D,a=this,n=new l.e(r,s,u);if(n.properties=[],r.properties&&!(0,v.p1)(r))for(var m=0,f=r.properties;m<f.length;m++)if((V=f[m]).measure&&V.measure.kpi){var p=this.convertConceptualKpi(V,s,n);n.columnsAndMeasures.push(p),n.properties.push(p)}else V.kpiValue||(p=this.convertConceptualProperty(V,s,n),n.columnsAndMeasures.push(p),n.properties.push(p));if(n.isMeasureGroup=(0,d.fn)(r.properties),n.expanded=!1,r.hierarchies&&r.hierarchies.length>0){n.hierarchies=_.map(r.hierarchies,function(T){return a.convertConceptualHierarchy(T,s,n)});for(var C=0,b=n.hierarchies;C<b.length;C++)n.properties.push(b[C])}if(i){var P=(0,v.U)(s.name,r.name);if(D=i.entities[P])for(var F=0,E=D;F<E.length;F++)for(var w=E[F],x=0,R=w.entity.properties;x<R.length;x++){var V,g=this.convertConceptualExtensionMeasure(V=R[x],w.schema,n);n.properties.push(g)}}if((0,o.pF)(n,r.displayFolders,D,this),(0,d.MM)(n.properties),(0,d.jM)(n.properties,n.displayFolders),(0,d.CU)(n),(0,d.WF)(n),this.withRowCounts&&0===r.visibility&&!s.capabilities.discourageQueryAggregateUsage){var M=this.createConceptualRowCount(s,n);n.properties.unshift(M)}return n},c.prototype.convertConceptualDisplayFolder=function(r,s,u,i){for(var a={},n={},m=0,f=i.properties;m<f.length;m++){var V=f[m];3===V.fieldType||2===V.fieldType?n[V.name]=V:a[V.name]=V}return this.convertConceptualDisplayFolderCore(r,s,u,a,n,i)},c.prototype.convertConceptualDisplayFolderCore=function(r,s,u,i,a,n){for(var m=[],f=0,V=r.properties;f<V.length;f++){var p=V[f];p&&(C=i[p.name])&&m.push(C.clone())}for(var b=0,y=r.hierarchies;b<y.length;b++){var C,D=y[b];D&&(C=a[D.name])&&m.push(C.clone())}for(var P=new l.wf(r,m,u,s,n),F=0,E=r.displayFolders;F<E.length;F++)P.children.push(this.convertConceptualDisplayFolderCore(E[F],s,P,i,a,n));return(0,d.MM)(P.children),P},c.prototype.convertConceptualHierarchy=function(r,s,u,i,a){var n=new l.Jg(r,s,u,i,a);n.hierarchyLevels=[];for(var m=0,f=r.levels;m<f.length;m++)n.hierarchyLevels.push(this.convertConceptualHierarchyLevel(f[m],s,n));return n},c.prototype.convertConceptualHierarchyLevel=function(r,s,u){return new l._u(r,s,u,u.entity,u.originalEntity,u.variation)},c.prototype.convertConceptualProperty=function(r,s,u){for(var i=new l.Tl(r,s,u),a=0,n=(0,d.Xj)(r);a<n.length;a++)i.children.push(this.convertConceptualVariationHierarchy(n[a],s,i));return i},c.prototype.convertConceptualVariationHierarchy=function(r,s,u){var i=this.convertConceptualHierarchy(r.defaultHierarchy,s,u.entity,r.navigationProperty.targetEntity,r.name);return i.parent=u,i},c.prototype.convertConceptualExtensionMeasure=function(r,s,u){return new l.lb(r,s,u)},c.prototype.convertConceptualKpi=function(r,s,u){var i=new l.NJ(r,s,u),a={};a.KpiValueDisplayName=this.localizationService.get("KpiValueFieldListDisplayName"),a.KpiStatusDisplayName=this.localizationService.get("KpiStatusFieldListDisplayName"),a.KpiGoalDisplayName=this.localizationService.get("KpiGoalFieldListDisplayName"),a.KpiTrendDisplayName=this.localizationService.get("KpiTrendFieldListDisplayName");var n=r.measure.kpi,m=n.goal,f=n.status,V=n.trend;return i.kpiMeasures=[],i.kpiMeasures.push(this.convertConceptualKpiMeasure(r,s,2,i,u,a)),m&&i.kpiMeasures.push(this.convertConceptualKpiMeasure(m,s,1,i,u,a)),f&&i.kpiMeasures.push(this.convertConceptualKpiMeasure(f,s,0,i,u,a)),V&&i.kpiMeasures.push(this.convertConceptualKpiMeasure(V,s,3,i,u,a)),i},c.prototype.convertConceptualKpiMeasure=function(r,s,u,i,a,n){return new l.UZ(r,s,u,i,a,n)},c.prototype.createConceptualRowCount=function(r,s){var u={name:s.name,displayName:this.localizationService.get("QuickExplore_RowCount"),canDelete:!1,hidden:!1};return new l.N6(u,r,s)},c}()},366669:function(Xe,H,t){t.d(H,{hi:function(){return u}});var e=t(750395),l=t(498342),o=t(691033),d=t(585216),v=t(613118),S=t(484829),r=t(405878),s=function(){function i(a,n,m,f,V,p){this.factory=a,this.sorter=n,this.disableEditing=m,this.disableDragging=f,this.disableSelectionOnFocus=V,this.schemaChanges=p?p.changes:[]}return i.prototype.mergeFieldList=function(a,n){return(!a||!n)&&(a={schema:void 0,isLoaded:!1}),n&&_.some(n.schemas)&&(a.schema=this.mergeSchemas(a,n),a.isLoaded=!0),a},i.prototype.mergeSchemas=function(a,n){var m=a.schema;if(m){var f=(0,v.nX)(n.schemas),V=(0,v.uU)(n.schemas);m.contract=_.find(V,function(w){return!(0,S.p1)(w)});for(var p=new r.c(m.entities),C=0,b=V;C<b.length;C++)for(var y=b[C],D=0,P=y.entities;D<P.length;D++){var F=P[D];if(!(0,S.p1)(F)||(0,S.jX)(F)){var E=this.mergeEntity(m,y,F,f);y===m.contract&&p.add.apply(p,E||[])}}m.entities=p.merge(),this.sorter.sortEntities(m.entities)}else m=this.factory.createModel(n,this.disableEditing,this.disableDragging,this.disableSelectionOnFocus);return m},i.prototype.mergeEntity=function(a,n,m,f){l.fF.assertValue(m,"entity");var V=this.findEntityVm(a,m);if(V){V.contract=m,V.contractSchema=n;var p=new r.c(V.properties),C=new r.c(V.columnsAndMeasures),b=new r.c(V.hierarchies),y=new r.I(V,this.schemaChanges);if(!(0,S.p1)(m))for(var D=0,P=m.properties;D<P.length;D++){var E=this.mergePropertyMeasureOrKpi(V,n,P[D],y);p.add.apply(p,E||[]),C.add.apply(C,E||[])}for(var w=0,x=m.hierarchies;w<x.length;w++){var g=this.mergeHierarchy(V,n,x[w],y);p.add.apply(p,g||[]),b.add.apply(b,g||[])}var L=f.entities[(0,S.U)(n.name,m.name)];if(L)for(var M=0,T=L;M<T.length;M++)for(var O=T[M],N=0,A=O.entity.properties;N<A.length;N++){var I=this.mergeExtensionMeasure(V,O.schema,A[N],y);p.add.apply(p,I||[]),C.add.apply(C,I||[])}V.columnsAndMeasures=C.merge(function(B){return!B.parent}),V.hierarchies=b.merge(function(B){return!B.parent}),V.properties=p.merge(function(B){return!B.parent}),(0,d.pF)(V,m.displayFolders,L,this.factory),this.sorter.sortProperties(V.properties),(0,v.jM)(V.properties,V.displayFolders),(0,v.CU)(V),(0,v.WF)(V)}else V=this.factory.convertConceptualEntity(m,n,a,f);return[V]},i.prototype.findEntityVm=function(a,n){var m=n.name,f=_.find(this.schemaChanges,function(p){return p.entityRename&&p.entityRename.after===n.name});f&&(m=f.entityRename.before);var V=a.findEntity(m);return V&&(0,S.jX)(V.contract)!==(0,S.jX)(n)?null:V},i.prototype.mergePropertyMeasureOrKpi=function(a,n,m,f){if(!(0,S.p1)(m)){if(function(i){return l.fF.assertValue(i,"contract"),!!i.measure&&!!i.measure.kpi}(m))return this.mergeKpi(a,n,m,f);if(!function(i){return l.fF.assertValue(i,"contract"),!!i.kpiValue}(m))return this.mergeProperty(a,n,m,f)}},i.prototype.mergeProperty=function(a,n,m,f){var V=f.findVms(n.name,m.name,0);if(V=_.filter(V,function(E){return!E.isExtension}),_.isEmpty(V))V=[this.factory.convertConceptualProperty(m,n,a)];else for(var p=0,C=V;p<C.length;p++){var b=C[p];b.contract=m,b.schema=n;for(var y=new r.c(b.children),D=0,P=(0,v.Xj)(m);D<P.length;D++)y.add(this.mergeVariationHierarchy(b,n,P[D]));b.children=y.merge()}return V},i.prototype.mergeVariationHierarchy=function(a,n,m){var f=_.find(a.children,function(V){return V instanceof o.Jg&&V.variation===m.name});return f?this.updateHierarchyVm(a.entity,f,m.defaultHierarchy,n):f=this.factory.convertConceptualVariationHierarchy(m,n,a),f},i.prototype.mergeExtensionMeasure=function(a,n,m,f){var V=f.findVms(n.name,m.name,0);return V=_.filter(V,function(p){return p.isExtension}),_.isEmpty(V)?V=[this.factory.convertConceptualExtensionMeasure(m,n,a)]:_.forEach(V,function(p){p.contract=m,p.schema=n}),V},i.prototype.mergeKpi=function(a,n,m,f){var V=f.findVms(n.name,m.name,4);if(_.isEmpty(V))V=[this.factory.convertConceptualKpi(m,n,a)];else for(var p=0,C=V;p<C.length;p++){var b=C[p];b.contract=m,b.schema=n;var y=new r.c(b.kpiMeasures);y.add(this.mergeKpiMeasure(n,b,m,2)),m.measure.kpi.goal&&y.add(this.mergeKpiMeasure(n,b,m.measure.kpi.goal,1)),m.measure.kpi.status&&y.add(this.mergeKpiMeasure(n,b,m.measure.kpi.status,0)),m.measure.kpi.trend&&y.add(this.mergeKpiMeasure(n,b,m.measure.kpi.trend,3)),b.kpiMeasures=_.some(y,function(D){return null===D})?this.factory.convertConceptualKpi(m,n,a).kpiMeasures:y.merge()}return V},i.prototype.mergeKpiMeasure=function(a,n,m,f){var V=_.find(n.kpiMeasures,function(p){return p.kpiType===f});return V?(V.contract=m,V.schema=a,V):null},i.prototype.mergeHierarchy=function(a,n,m,f){var V=f.findVms(n.name,m.name,2);if(_.isEmpty(V)){var p=this.factory.convertConceptualHierarchy(m,n,a);_.some(this.schemaChanges,function(D){return D.hierarchyCreate&&D.hierarchyCreate.entity===a.name&&D.hierarchyCreate.name===p.name})&&(p.expanded=!0),V=[p]}else for(var C=0,b=V;C<b.length;C++)this.updateHierarchyVm(a,b[C],m,n);return V},i.prototype.updateHierarchyVm=function(a,n,m,f){n.contract=m,n.schema=f;for(var V=_.keyBy(n.hierarchyLevels,function(P){return P.name}),p=new r.c(n.hierarchyLevels),C=0,b=m.levels;C<b.length;C++){var D=this.mergeHierarchyLevel(a,n,f,b[C],V);p.add(D)}n.hierarchyLevels=p.merge()},i.prototype.mergeHierarchyLevel=function(a,n,m,f,V){var p=this.findHierarchyLevel(a,n,m,f,V);return p?(p.contract=f.column,p.hierarchyLevelContract=f,p.schema=m):p=this.factory.convertConceptualHierarchyLevel(f,m,n),p},i.prototype.findHierarchyLevel=function(a,n,m,f,V){var p=f.name,C=_.find(this.schemaChanges,function(b){return b.hierarchyLevelRename&&b.hierarchyLevelRename.entity===a.contract.name&&b.hierarchyLevelRename.hierarchy===n.contract.name&&b.hierarchyLevelRename.after===p});return C&&(p=C.hierarchyLevelRename.before),V[p]},i}();function u(i,a,n,m,f,V,p){return new s(n,new e.N,f,V,p,m).mergeFieldList(i,a)}},613118:function(Xe,H,t){t.d(H,{CU:function(){return a},MM:function(){return r},WF:function(){return h},Xj:function(){return V},fn:function(){return d},jM:function(){return u},nX:function(){return v},uU:function(){return S},ve:function(){return s}});var e=t(498342),l=t(691033),o=t(484829);function d(p){return _.find(p,function(C){return!C.hidden})&&!_.find(p,function(C){return!C.hidden&&1!==C.kind&&2!==C.kind})}function v(p){for(var C={entities:{}},b=0,y=p;b<y.length;b++){var D=y[b];if((0,o.p1)(D))for(var P=D.extends,F=0,E=D.entities;F<E.length;F++){var w=E[F];if((0,o.p1)(w)){var x={schema:D,entity:w},R=(0,o.U)(P,w.name),g=C.entities[R];g?g.push(x):C.entities[R]=g=[x]}}}return C}function S(p){var C=_.filter(p,function(y){return!(0,o.p1)(y)}),b=_.filter(p,function(y){return(0,o.p1)(y)});return _.union(C,b)}function h(p){for(var b=[],y=0,D=p.properties;y<D.length;y++)c(b,D[y]);p.properties=b}function c(p,C){if(e.fF.assertValue(p,"properties"),e.fF.assertValue(C,"property"),p.push(C),(C instanceof l.NJ||C instanceof l.Jg||C instanceof l.Tl)&&!_.isEmpty(C.properties))for(var b=0,y=C.properties;b<y.length;b++)c(p,y[b])}function r(p){p&&p.sort(function(C,b){return s(C.displayName,b.displayName)})}function s(p,C){return p=(p||"").toLocaleUpperCase(),C=(C||"").toLocaleUpperCase(),p.localeCompare(C)}function u(p,C){if(!_.isEmpty(p)){var b={};i(C,b),_.remove(p,function(y){return 1!==y.fieldType&&b[y.name]})}}function i(p,C){if(!_.isEmpty(p)){for(var b=[],y=0,D=p;y<D.length;y++)for(var F=0,E=D[y].children;F<E.length;F++){var w=E[F];1===w.fieldType?b.push(w):C[w.name]=w}i(b,C)}}function a(p){var C=[];n(p.properties,C),p.properties=C}function n(p,C){for(var b=0,y=p;b<y.length;b++){var D=y[b];C.push(D),1===D.fieldType&&n(D.children,C)}}function V(p){var C=[];if(p.column&&p.column.variations)for(var b=0,y=p.column.variations;b<y.length;b++){var D=y[b],P=D.navigationProperty.targetEntity,F=D.defaultHierarchy;P&&P.hierarchies&&F&&!F.hidden&&C.push(D)}return C}},484829:function(Xe,H,t){function e(d,v){return JSON.stringify({e:v})}function l(d){return d.hasOwnProperty("extends")}function o(d){return d.isAbandoned}t.d(H,{U:function(){return e},jX:function(){return o},p1:function(){return l}})},420970:function(Xe,H,t){t.d(H,{Hh:function(){return p},op:function(){return D}});var e=t(979868),l=t(42920),o=t(614083),d=t(927903),v=t(142742),S=t(498342),h=t(273269),c=t(572909),r=t(726501),s=t(411429),u=t(446731),i=t(512322),a=t(817389),n=t(678776),m=t(470756),f=t(173818);function p(E,w,x,R,g,L,M,T,O,N){var A=new C(E,g,L,w,x,R,M,T,O,N);return(0,r.Vn)((0,s.Q)(E),A)}var C=function(){function E(w,x,R,g,L,M,T,O,N,A){this.sqExpr=w,this.dataRoleKind=x,this.requiredTypes=R,this.schema=g,this.aggrOps=L,this.hasHierarchyLevels=M,this.localizationService=T,this.property=O,this.forceAggregateItems=N,this.aggregatesConstraint=A}return E.prototype.visitEntity=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitColumn=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitColumnAggr=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitGroupingColumn=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitGroupingColumnAggr=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitColumnHierarchyVariation=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitColumnHierarchyLevelVariation=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitColumnSubquery=function(w){return[]},E.prototype.visitColumnAggrSubquery=function(w){return[]},E.prototype.visitColumnTransformRef=function(w){return[]},E.prototype.visitEntityAggr=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitHierarchy=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitHierarchyLevel=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitHierarchyLevelAggr=function(w){return this.createMenuItems(this.sqExpr)},E.prototype.visitMeasure=function(w){return[]},E.prototype.visitPercentOfGrandTotal=function(w){var x=(0,u.B)(w.baseExpr);return this.createMenuItemsForPercentOfTotal(x)},E.prototype.visitPercentOfRoleTotal=function(w){var x=(0,u.B)(w.baseExpr);return this.createMenuItemsForPercentOfTotal(x)},E.prototype.visitPercentile=function(w){return[]},E.prototype.visitSelectRef=function(w){return[]},E.prototype.visitFilteredEval=function(w){var x=(0,u.B)(w.baseExpr);return this.createMenuItems(x)},E.prototype.visitArithmetic=function(w){return[]},E.prototype.visitConstant=function(w){return S.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),[]},E.prototype.visitSparklineData=function(w){return[]},E.prototype.visitNativeVisualCalc=function(w){return[]},E.prototype.createMenuItemsForPercentOfTotal=function(w){var x=(0,a.n)(w,this.schema).getMetadata(this.schema);if(!x)return[];var R=x.type;return this.createMenuItems(w,R.text||R.dateTime||R.duration?[3,4]:[])},E.prototype.createMenuItems=function(w,x){void 0===x&&(x=[]);var R=[];if(!this.hasHierarchyLevels&&_.isEmpty(w.validate(this.schema,this.aggrOps))&&!n.m.discourageAggregation(w,this.schema)){var L=this.dataRoleKind===h.DW.GroupingOrMeasure,M=this.dataRoleKind!==h.DW.Grouping||this.forceAggregateItems?this.aggrOps.getSupportedAggregates(w,this.schema,this.requiredTypes):[];_.isEmpty(this.aggregatesConstraint)||(M=_.intersection(M,this.aggregatesConstraint)),M=_.difference(M,x),(L&&!function(E,w){var x=E.getConceptualProperty(w);return x&&1===x.kind}(w,this.schema)&&!function(E,w){var x=(0,s.Q)(E,w);return!(!x||!x.entityAggr)}(w,this.schema)||this.forceAggregateItems&&!_.isEmpty(M))&&R.push(this.createRemoveAggregateMenuItem());for(var T=0,O=M;T<O.length;T++)R.push(this.createAggregateMenuItem(O[T]))}return R},E.prototype.createAggregateMenuItem=function(w){var x={type:0};x.key={action:4,aggregate:w};var R=(0,a.n)(this.sqExpr,this.schema).getMetadata(this.schema),g=(0,l.zN)(w,R);return x.text=this.localizationService.get("Aggregate_"+g),x},E.prototype.createRemoveAggregateMenuItem=function(){var w={type:0,key:{action:2}};return w.text=this.localizationService.get("FieldWell_RemoveAggregate"),w},E.prototype.visitTransformOutputRoleRef=function(w){return[]},E}(),b=function(){function E(w,x,R,g,L,M,T,O,N,A,I,B,U,W){var j;if(this.property=w,this.bucket=x,this.buckets=R,this.dataRole=g,this.forceAggregateItems=L,this.schema=M,this.aggrOps=T,this.visual=O,this.featureSwitchService=N,this.groupingDesignStateService=A,this.showValueAsService=I,this.localizationService=B,this.visualContainer=U,this.visualCalcEagerService=W,this.supportedOperations=null!==(j=this.property.supportedOperations)&&void 0!==j?j:67108863,this.menuItems=[],1==(1&this.supportedOperations)&&this.menuItems.push(this.createDeleteMenuItem()),this.property.interactivityOptions.isEditableField&&32768==(32768&this.supportedOperations)&&this.menuItems.push(this.createRenameMenuItem()),524288==(524288&this.supportedOperations)){var K=(0,d.II)(this.visualContainer);!K&&this.bucket.properties.length>1&&this.menuItems.push(this.createMoveGroupMenuItem()),!K&&this.buckets.length>1&&this.menuItems.push(this.createMoveToGroupMenuItem())}this.createConditionalFormattingOptions()}return E.prototype.createConditionalFormattingOptions=function(){var w=this;_.isEmpty(this.property.conditionalFormattingRepetitions)||!this.visual||(this.conditionalFormattingOptions=this.property.conditionalFormattingRepetitions.map(function(x){return{repetition:x,propertyDefinition:(0,v.OT)(w.visual.objects,x)}}))},E.prototype.visitEntity=function(w){return S.fF.assertFail("Did not expect FieldExprEntityPattern in field well"),this.menuItems},E.prototype.visitColumn=function(w){var x=this.property.expr;return 4096==(4096&this.supportedOperations)&&this.addConditionalFormattingMenuItems(x),4==(4&this.supportedOperations)&&this.addAggregateMenuItems(),16==(16&this.supportedOperations)&&this.addShowValueAsMenuItem(w.schema),64==(64&this.supportedOperations)&&this.addQuickCalcMenuItem(w.schema),8==(8&this.supportedOperations)&&this.addShowAllMenuItem(x),2048==(2048&this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),128==(128&this.supportedOperations)&&this.addVariationsMenuItems(w),256==(256&this.supportedOperations)&&this.addGroupsMenuItems(w),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems},E.prototype.visitColumnAggr=function(w){var x=this.property.expr;return 2097152==(2097152&this.supportedOperations)&&this.addSparklineMenuItem(w.schema),4096==(4096&this.supportedOperations)&&this.addConditionalFormattingMenuItems(x),4==(4&this.supportedOperations)&&this.addAggregateMenuItems(),16==(16&this.supportedOperations)&&this.addShowValueAsMenuItem(w.schema),64==(64&this.supportedOperations)&&this.addQuickCalcMenuItem(w.schema),8==(8&this.supportedOperations)&&this.addShowAllMenuItem(x),2048==(2048&this.supportedOperations)&&this.addHierarchiesMenuItems(this.property.hierarchyLevels),128==(128&this.supportedOperations)&&this.addVariationsMenuItems(w),this.isFieldParameterOperations()&&this.addFieldParameterMenuItems(),this.menuItems},E.prototype.visitGroupingColumn=function(w){var x=this.property.expr;return this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(w),this.addGroupsMenuItems(w),this.menuItems},E.prototype.visitGroupingColumnAggr=function(w){var x=this.property.expr;return this.addSparklineMenuItem(w.schema),this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.addVariationsMenuItems(w),this.menuItems},E.prototype.visitColumnHierarchyVariation=function(w){return S.fF.assertFail("Did not expect columnHierarchyVariation in field well for now"),this.menuItems},E.prototype.visitColumnHierarchyLevelVariation=function(w){var x=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.source.schema),this.addQuickCalcMenuItem(w.source.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},E.prototype.visitColumnSubquery=function(w){return S.fF.assertFail("Should not be called"),this.menuItems},E.prototype.visitColumnAggrSubquery=function(w){return S.fF.assertFail("Should not be called"),this.menuItems},E.prototype.visitColumnTransformRef=function(w){return S.fF.assertFail("Should not be called"),this.menuItems},E.prototype.visitEntityAggr=function(w){var x=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(x),this.menuItems},E.prototype.visitHierarchy=function(w){return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addShowAllMenuItem(_.head(this.property.hierarchyLevels).expr),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},E.prototype.visitHierarchyLevel=function(w){var x=this.property.expr;return this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels),this.menuItems},E.prototype.visitHierarchyLevelAggr=function(w){var x=this.property.expr;return this.addSparklineMenuItem(w.schema),this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(x),this.menuItems},E.prototype.visitMeasure=function(w){var x=this.property.expr;return this.addSparklineMenuItem(w.schema),this.addConditionalFormattingMenuItems(x),this.addShowValueAsMenuItem(w.schema),this.addQuickCalcMenuItem(w.schema),this.addShowAllMenuItem(x),this.menuItems},E.prototype.visitPercentile=function(w){return this.addConditionalFormattingMenuItems(this.property.expr),this.menuItems},E.prototype.visitSelectRef=function(w){return[]},E.prototype.visitTransformOutputRoleRef=function(w){return[]},E.prototype.visitPercentOfGrandTotal=function(w){return this.addPercentTotalMenuItems(w.baseExpr)},E.prototype.visitPercentOfRoleTotal=function(w){return this.addPercentTotalMenuItems(w.baseExpr)},E.prototype.visitFilteredEval=function(w){return this.addFilteredEvalMenuItems()},E.prototype.visitArithmetic=function(w){return this.menuItems},E.prototype.visitNativeVisualCalc=function(w){return this.addEditVisualCalcMenuItems(),this.menuItems},E.prototype.visitConstant=function(w){return S.fF.assertFail("FieldWellMenuViewModelFactory - Not expecting to be called"),this.menuItems},E.prototype.visitSparklineData=function(w){return this.addEditSparklineMenuItem(),this.menuItems},E.prototype.isFieldParameterOperations=function(){return 16777216==(16777216&this.supportedOperations)||8388608==(8388608&this.supportedOperations)},E.prototype.addEditVisualCalcMenuItems=function(){(0,e.jX)(this.property.expr)&&this.featureSwitchService.featureSwitches.visualCalculationsAuthoring&&this.featureSwitchService.featureSwitches.visualCalculations&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createEditCalculationMenuItem()))},E.prototype.createEditCalculationMenuItem=function(){var w={type:0,key:{action:33554432}},x=this.visual.query;if(null!=x){var g=x.projections[this.property.role].all()[this.property.startIndex];w.disabled=this.visualCalcEagerService.shouldDisableEditing(g.queryRef,this.visualContainer)}return w.text=this.localizationService.get("FieldWell_EditVisualCalculation"),w},E.prototype.addFieldParameterMenuItems=function(){this.property.expr.getConceptualProperty(this.schema)&&(this.menuItems.push(this.createSeparatorMenuItem()),16777216==(16777216&this.supportedOperations)?this.menuItems.push(this.createColumnToParameter()):8388608==(8388608&this.supportedOperations)&&this.menuItems.push(this.createParameterToColumn()))},E.prototype.addFilteredEvalMenuItems=function(){return this.addAggregateMenuItems(),this.menuItems},E.prototype.addPercentTotalMenuItems=function(w){var x=(0,u.B)(w);this.addConditionalFormattingMenuItems(x),this.addAggregateMenuItems(),this.addShowValueAsMenuItem((0,r.J1)(w)),this.addShowAllMenuItem(x),this.addHierarchiesMenuItems(this.property.hierarchyLevels);var R=(0,r.$s)(w);return R&&this.addVariationsMenuItems(R),this.menuItems},E.prototype.addAggregateMenuItems=function(){var w,x=p(this.property.expr,this.schema,this.aggrOps,!_.isEmpty(this.property.hierarchyLevels),this.dataRole.kind,this.dataRole.requiredTypes,this.localizationService,this.property,this.forceAggregateItems);_.isEmpty(x)||(this.menuItems.push(this.createSeparatorMenuItem()),(w=this.menuItems).push.apply(w,x||[]))},E.prototype.addConditionalFormattingMenuItems=function(w){_.isEmpty(this.conditionalFormattingOptions)||w.getMetadata(this.schema)&&((0,d._9)(this.visual.query)||(this.menuItems.push(this.createSeparatorMenuItem()),this.addSetConditionalFormattingMenuItem(),this.addRemoveConditionalFormattingMenuItem()))},E.prototype.addSetConditionalFormattingMenuItem=function(){if(!_.isEmpty(this.conditionalFormattingOptions)){var w={type:0};w.text=this.localizationService.get("FieldWell_ConditionalFormatting"),this.menuItems.push(w);for(var x=w.children=[],R=0,g=this.conditionalFormattingOptions;R<g.length;R++){var L=g[R];x.push(this.createConditionalFormattingMenuItem(L.repetition.propertyDescriptor.displayName,4096,L))}}},E.prototype.addRemoveConditionalFormattingMenuItem=function(){if(!_.isEmpty(this.conditionalFormattingOptions)){var w={type:0};if(w.text=this.localizationService.get("FieldWell_RemoveConditionalFormatting"),this.menuItems.push(w),!_.some(this.conditionalFormattingOptions,function(O){return null!=O.propertyDefinition}))return void(w.disabled=!0);var R=w.children=[];R.push(this.createConditionalFormattingMenuItem((0,c.V)("All"),8192));for(var g=0,L=this.conditionalFormattingOptions;g<L.length;g++){var M=L[g],T=this.createConditionalFormattingMenuItem(M.repetition.propertyDescriptor.displayName,16384,M);T.disabled=null==M.propertyDefinition,R.push(T)}}},E.prototype.createConditionalFormattingMenuItem=function(w,x,R){var g={type:0};return g.key={action:x,conditionalFormattingOptions:R},g.text=(0,c.G)(w,this.localizationService),g},E.prototype.addShowAllMenuItem=function(w){var x=(0,f.k)(w);if(!(0,d._9)(this.visual.query)&&(this.dataRole.kind===h.DW.Grouping||this.dataRole.kind===h.DW.GroupingOrMeasure&&!x)){this.menuItems.push(this.createSeparatorMenuItem());var R=this.createShowAllMenuItem();this.visualContainer&&((0,d.iv)(this.visualContainer)||(0,d.tL)(this.visualContainer))&&(R.tooltip=this.localizationService.get("FieldWell_ShowAll_DisabledTooltip_For_VC_Hidden"),R.disabled=!0),this.menuItems.push(R)}},E.prototype.addHierarchiesMenuItems=function(w){if(!_.isEmpty(w)){var x=_.head(w),R=(0,m.wA)(this.schema,x.expr.arg);R instanceof Array&&R.length===w.length||this.bucket.supportsMultipleItems&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createRestoreHierarchyMenuItem()))}},E.prototype.addShowValueAsMenuItem=function(w){if(_.isEmpty(this.property.hierarchyLevels)&&this.property.expr.getConceptualProperty(this.schema)){var x=this.schema.schema(w),R=x&&x.capabilities.supportsScopedEval;if(!(0,d._9)(this.visual.query)&&R&&this.dataRole.kind!==h.DW.Grouping){var L=this.showValueAsService.createShowValueAsMenuItems(this.property.expr,this.schema,this.visual.visualType);_.isEmpty(L)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createShowValueAsMenuItem(L)))}}},E.prototype.addQuickCalcMenuItem=function(w){if(this.property.expr.getConceptualProperty(this.schema)){var x=this.schema.schema(w);(x&&x.capabilities.canEdit&&!x.isExtensionSchema||this.canAuthorReportMeasuresOnSchema(x))&&(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(this.createQuickCalcMenuItem()))}},E.prototype.canAuthorReportMeasuresOnSchema=function(w){return w.capabilities.isExtendable||w.isExtensionSchema},E.prototype.addSparklineMenuItem=function(w){var x,R,g,L;if(this.featureSwitchService.featureSwitches.sparklines&&this.dataRole.supportsSparklines){var M=this.schema.schema(w);if(M&&M.capabilities.supportsSparklineData){this.menuItems.push(this.createSeparatorMenuItem());var T={type:0,key:{action:2097152}};T.text=this.localizationService.get("Sparkline_AddOption");var N=16===(null===(x=this.visualContainer)||void 0===x?void 0:x.visibility),A=null!==(L=null===(g=null===(R=this.visualContainer)||void 0===R?void 0:R.config.singleVisual.query)||void 0===g?void 0:g.hasVisualCalcExpressions())&&void 0!==L&&L;T.disabled=N||A,N?T.tooltip=this.localizationService.get("Sparkline_AddOption_Disabled_For_VCEM"):A&&(T.tooltip=this.localizationService.get("Sparkline_AddOption_Disabled_For_VC")),this.menuItems.push(T)}}},E.prototype.addEditSparklineMenuItem=function(){if(this.featureSwitchService.featureSwitches.sparklines){this.menuItems.push(this.createSeparatorMenuItem());var w={type:0,key:{action:4194304}};w.text=this.localizationService.get("Sparkline_EditOption"),this.menuItems.push(w)}},E.prototype.addVariationsMenuItems=function(w){var x,R=(0,r.tg)(w),g=R.getConceptualProperty(this.schema);if(g){var L=g.column;if(L&&!_.isEmpty(L.variations)){for(var M=(0,i.nw)(w.schema,w.entity),T=this.createVariationMenuItem(g.displayName,R),O=[],N=0,A=L.variations;N<A.length;N++){var I=A[N];if(I.navigationProperty&&I.navigationProperty.targetEntity){var B=I.navigationProperty.targetEntity;if(this.dataRole.kind!==h.DW.Measure)for(var W=0,j=_.filter(B.hierarchies,function(re){return!re.hidden});W<j.length;W++){var K=j[W],ee=(0,i.bT)((0,i.yU)(M,I.name,g.name),K.name);O.push(this.createVariationMenuItem(K.name,ee))}for(var ie=(0,i.nw)(M.schema,B.name),q=0,Y=_.filter(B.properties,function(re){return!re.hidden});q<Y.length;q++){var G=Y[q],me=(0,i.Oh)(ie,G.name);O.push(this.createVariationMenuItem(G.displayName,me))}}}_.isEmpty(O)||(this.menuItems.push(this.createSeparatorMenuItem()),this.menuItems.push(T),(x=this.menuItems).push.apply(x,O||[]))}}},E.prototype.addGroupsMenuItems=function(w){var x,R=this.schema.schema(w.schema);if(!1!==(R&&R.capabilities.canEdit&&R.capabilities.supportsGrouping)){var L=this.featureSwitchService.featureSwitches.enableGroupAuthoring,M=[],T=this.property.expr.getConceptualProperty(this.schema);L&&((0,o.X0)(this.schema,this.property.expr)&&!(this.property.hierarchyLevels&&this.property.hierarchyLevels.length>0)&&M.push(this.createGroupsMenuItem()),(0,o.yl)(w.entity,T,this.groupingDesignStateService)&&M.push(this.createEditGroupsMenuItem())),(0,o.P2)(w.entity,T,this.groupingDesignStateService)&&M.push(this.createEditClusteringMenuItem()),M.length>0&&(this.menuItems.push(this.createSeparatorMenuItem()),(x=this.menuItems).push.apply(x,M||[]))}},E.prototype.createShowValueAsMenuItem=function(w){var x={type:0,key:{action:16}};return x.text=this.localizationService.get("FieldWell_ShowValueAs"),x.children=w,x},E.prototype.createQuickCalcMenuItem=function(){var w={type:0,key:{action:64}};return w.text=this.localizationService.get("QuickCalc_NewMeasure"),w},E.prototype.createGroupsMenuItem=function(){var w={type:0,key:{action:256}};return w.text=this.localizationService.get("ContextMenuItem_CreateGroups"),w},E.prototype.createEditGroupsMenuItem=function(){var w={type:0};return w.text=this.localizationService.get("ContextMenuItem_EditGroups"),w.key={action:512},w},E.prototype.createEditClusteringMenuItem=function(){var w={type:0};return w.text=this.localizationService.get("Clustering_EditClusters"),w.key={action:1024},w},E.prototype.createRestoreHierarchyMenuItem=function(){var w={type:0};return w.text=this.localizationService.get("FieldWell_RestoreHierarchy"),w.key={action:2048},w},E.prototype.createVariationMenuItem=function(w,x){var R={type:0};return R.text=w,R.key={action:128,variationExpr:x},R},E.prototype.createShowAllMenuItem=function(){var w={type:0,key:{action:8}};return w.text=this.localizationService.get("FieldWell_ShowAll"),w},E.prototype.createDeleteMenuItem=function(){var w={type:0,key:{action:1}};return w.text=this.localizationService.get("FieldWell_Remove"),w},E.prototype.createSeparatorMenuItem=function(){var w={type:0};return w.type=1,w},E.prototype.createRenameMenuItem=function(){var w={type:0,key:{action:32768}};return w.text=this.localizationService.get("FieldWell_RenameForThisVisual"),w},E.prototype.createParameterToColumn=function(){var w={type:0,key:{action:8388608}};return w.text=this.localizationService.get("FieldParameter_ConvertParameterToColumn"),w},E.prototype.createColumnToParameter=function(){var w,x,R,g={type:0,key:{action:16777216}};g.text=this.localizationService.get("FieldParameter_ConvertColumnToParameter");var L=16===(null===(w=this.visualContainer)||void 0===w?void 0:w.visibility),M=!!this.visualContainer&&(null===(R=null===(x=this.visualContainer.config.singleVisual)||void 0===x?void 0:x.query)||void 0===R?void 0:R.hasVisualCalcExpressions());return g.disabled=L||M,L?g.tooltip=this.localizationService.get("FieldParameter_ConvertColumnToParameter_Disabled_For_VCEM"):M&&(g.tooltip=this.localizationService.get("FieldParameter_ConvertColumnToParameter_Disabled_For_VC")),g},E.prototype.createMoveToBucketsMenuItem=function(){for(var w=[],x=0,R=this.buckets;x<R.length;x++){var g=R[x];if(!this.bucket.equals(g)){var L={type:0};L.text=g.displayName,L.key={action:262144,moveFieldBucketOptions:{role:g.role,targetIndex:g.properties?g.properties.length:0,displayName:g.displayName}},w.push(L)}}return w},E.prototype.createMoveToGroupMenuItem=function(){var w={type:0,key:{action:524288}};return w.text=this.localizationService.get("ItemAction_MoveTo"),w.children=this.createMoveToBucketsMenuItem(),w},E.prototype.createMoveUpMenuItem=function(){var w={type:0};w.text=this.localizationService.get("ItemAction_Move_Up");var x={action:65536},R=this.findFieldPropertyIndexInBucket();if(R<=0)w.disabled=!0;else{var g=this.bucket.properties[R-1];x.moveFieldPropertyOptions={role:g.role,startIndex:g.startIndex,hierarchyLevelsLength:g.hierarchyLevels?g.hierarchyLevels.length:0}}return w.key=x,w},E.prototype.createMoveDownMenuItem=function(){var w={type:0};w.text=this.localizationService.get("ItemAction_Move_Down");var x={action:131072},R=this.findFieldPropertyIndexInBucket();if(R>=this.bucket.properties.length-1)w.disabled=!0;else{var g=this.bucket.properties[R+1];x.moveFieldPropertyOptions={role:g.role,startIndex:g.startIndex,hierarchyLevelsLength:g.hierarchyLevels?g.hierarchyLevels.length:0}}return w.key=x,w},E.prototype.createMoveToTopMenuItem=function(){var w={type:0};w.text=this.localizationService.get("ItemAction_Move_Top");var x={action:65536},R=this.bucket.properties[0];return this.property.equals(R)?w.disabled=!0:x.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0},w.key=x,w},E.prototype.createMoveToBottomMenuItem=function(){var w={type:0};w.text=this.localizationService.get("ItemAction_Move_Bottom");var x={action:131072},R=this.bucket.properties[this.bucket.properties.length-1];return this.property.equals(R)?w.disabled=!0:x.moveFieldPropertyOptions={role:R.role,startIndex:R.startIndex,hierarchyLevelsLength:R.hierarchyLevels?R.hierarchyLevels.length:0},w.key=x,w},E.prototype.findFieldPropertyIndexInBucket=function(){var w=this;return _.findIndex(this.bucket.properties,function(x){return w.property.equals(x)})},E.prototype.createMoveGroupMenuItem=function(){var w={type:0,key:{action:524288}};return w.text=this.localizationService.get("ItemAction_Move"),w.children=[this.createMoveUpMenuItem(),this.createMoveDownMenuItem(),this.createMoveToTopMenuItem(),this.createMoveToBottomMenuItem()],w},E}();function D(E,w,x,R,g,L,M,T,O,N,A,I,B,U){return{items:(0,r.Vn)((0,s.Q)(E.expr),new b(E,w,x,R,g,L,M,T,O,N,A,I,B,U))}}},757414:function(Xe,H,t){t.d(H,{L:function(){return r}});var e=t(973188),l=t(979868),o=t(669266),d=t(322671),v=t(512322),S=t(960514),h=t(580939),r=function(){function u(i){this.localizationService=i}return u.prototype.fromFilterExpr=function(i,a,n){return i.accept(new s(this.localizationService,a,n))},u}(),s=function(u){function i(a,n,m){var f=u.call(this)||this;return f.localizationService=a,f.supportsCategorical=!0,f.context={isNegative:!1,allowNot:!0,logicalOperator:2},f.formatter=n,f.field=m,f}return(0,e.__extends)(i,u),i.prototype.visitColumnRef=function(a){if(null==this.field||(0,o.fS)(this.field,a))return this.createFilterCard(a)},i.prototype.visitGroupRef=function(a){if(null==this.field||(0,o.fS)(this.field,a))return this.createFilterCard(a)},i.prototype.visitMeasureRef=function(a){return this.createFilterCard(a)},i.prototype.visitAggr=function(a){return this.createFilterCard(a)},i.prototype.visitArithmetic=function(a){return this.createFilterCard(a)},i.prototype.visitHierarchyLevel=function(a){return this.supportsCategorical=!1,this.createFilterCard(a)},i.prototype.visitEntity=function(a){return this.createFilterCard(a)},i.prototype.visitIn=function(a){if(!a.table&&a.args&&1===a.args.length){a.args[0].accept(this);var n=this.filter;if(null==n&&null!=this.field)return this.createFilterCard(this.field);for(var m=this.context,f=0,V=a.values;f<V.length;f++){var p=V[f];m.condition=new d.gP(m.isNegative?10:9),p[0].accept(this),n.conditions.push(m.condition)}if(2!==n.logicalOperator)return;return n.logicalOperator=m.isNegative?0:1,n}},i.prototype.visitBetween=function(a){this.supportsCategorical=!1,a.arg.accept(this);var n=this.filter,m=this.context;if(m.condition=new d.gP(m.isNegative?1:4),a.lower.accept(this)&&(n.conditions.push(m.condition),m.condition=new d.gP(m.isNegative?3:2),a.upper.accept(this)&&(n.conditions.push(m.condition),2===n.logicalOperator)))return n.logicalOperator=0,n},i.prototype.visitAnd=function(a){this.supportsCategorical=!1;var n=this.context,m=n.isNegative?1:0;if(2===n.logicalOperator)n.logicalOperator=m;else if(n.logicalOperator!==m)return;if(a.left.accept(this)&&a.right.accept(this))return this.filter},i.prototype.visitOr=function(a){var n=this.context,m=n.isNegative?0:1;if(2===n.logicalOperator)n.logicalOperator=m;else if(n.logicalOperator!==m)return;if(a.left.accept(this)&&a.right.accept(this))return this.filter},i.prototype.visitCompare=function(a){var n=this.context,m=this.getFilterOperator(a,n.isNegative);if(void 0!==m&&0!==m){n.condition=new d.gP(this.getFilterOperator(a,n.isNegative));var f=n.allowNot;if(n.allowNot=!1,a.left.accept(this)&&a.right.accept(this)&&(a.right instanceof v.jz||a.right instanceof v.AC)){var V=this.filter;return V.conditions.push(this.context.condition),V.conditions.length>1&&2===V.logicalOperator&&(V.logicalOperator=0),n.allowNot=f,n.condition=null,V}}},i.prototype.visitNot=function(a){var n=this.context,m=a.arg;if((m instanceof v.wU||m instanceof v.Xg||m instanceof v.I6||n.allowNot&&(m instanceof v.uV||m instanceof v.Cc||m instanceof v.ev||m instanceof v.fw||m instanceof v.v3))&&(n.isNegative=!n.isNegative,a.arg.accept(this)))return n.isNegative=!n.isNegative,this.filter},i.prototype.visitConstant=function(a){if(this.context.condition)return 0!==a.type.primitiveType&&(this.context.condition.value=new d.pQ(a.value,this.formatter)),this.filter},i.prototype.visitDateSpan=function(a){if(this.supportsCategorical=!1,5===a.unit){var n=this.context,m=n.allowNot;n.allowNot=!1;var f=a.arg.accept(this);return n.allowNot=m,f}},i.prototype.visitContains=function(a){this.supportsCategorical=!1;var n=this.context;n.condition=new d.gP(n.isNegative?6:5);var m=n.allowNot;if(n.allowNot=!1,a.left.accept(this)&&a.right.accept(this)){var f=this.filter;return f.conditions.push(this.context.condition),n.allowNot=m,f}},i.prototype.visitStartsWith=function(a){this.supportsCategorical=!1;var n=this.context;n.condition=new d.gP(n.isNegative?8:7);var m=n.allowNot;if(n.allowNot=!1,a.left.accept(this)&&a.right.accept(this)){var f=this.filter;return f.conditions.push(this.context.condition),n.allowNot=m,f}},i.prototype.getFilterOperator=function(a,n){switch(this.supportsCategorical=this.supportsCategorical&&0===a.comparison,a.comparison){case 3:return n?4:1;case 4:return n?3:2;case 1:return n?2:3;case 2:return n?1:4;case 0:return(0,l.uR)(a.right)?n?12:11:(0,l.AW)(a.right)&&""===a.right.value?n?14:13:n?10:9}},i.prototype.createFilterCard=function(a){return this.filter||(this.filter=new h.d(a,this.localizationService),this.filter.supportsCategorical=this.supportsCategorical,this.filter.logicalOperator=this.context.logicalOperator),this.filter},i}(S.vq)},898268:function(Xe,H,t){t.d(H,{j:function(){return l}});var e=t(498342),l=function(){function o(d,v){e.fF.assertValue(d,"contract"),e.fF.assertValue(v,"state"),this._contract=d,this._state=v}return Object.defineProperty(o.prototype,"contract",{get:function(){return this._contract},enumerable:!1,configurable:!0}),Object.defineProperty(o.prototype,"readOnlyState",{get:function(){return this._state},enumerable:!1,configurable:!0}),o.prototype.updateViewState=function(){this.updateViewStateCore(this._state)},o.prototype.updateViewStateCore=function(d){},o}()},443759:function(Xe,H,t){t.d(H,{vi:function(){return T},T8:function(){return O},Iu:function(){return E},Dz:function(){return B},_r:function(){return A},C:function(){return N},oj:function(){return I},hx:function(){return F},VR:function(){return w},zv:function(){return U},yU:function(){return j},gk:function(){return x},g4:function(){return K},Jm:function(){return W},Ee:function(){return R},lD:function(){return L},EK:function(){return g},CL:function(){return b},L2:function(){return ee},n5:function(){return ie}});var e=t(973188),l=t(915382),o=t(497141),d=t(927903),v=t(916075),S=t(365358),h=t(498342),c=t(382088),r=t(367547),s=t(595158);function i(he,q,Y){return{key:q,text:(0,s.h1)(Y).get(he),type:0}}function a(he){return function(he){return{items:[i("Duplicate",0,he),i("Rename",1,he),i("Delete",2,he),i("Hide",3,he)]}}(he)}var n=t(845231),m=t(47359),f=t(416312),V=t(489972),p=t(390952),C=t(669266);function b(he,q,Y){var G=!0,me=q&&q.featureSwitches.userFavoriteResourcePackagesEnabled&&he.custom&&Y.isFavoritePublicCustomVisual(he.name),re=q&&q.featureSwitches.userFavoriteResourcePackagesEnabled&&he.custom&&he.favoriteId||me,le=q&&q.featureSwitches.userFavoriteResourcePackagesEnabled&&he.custom&&!he.favoriteId&&!me,Ee=q&&q.featureSwitches.tenantOutOfBoxVisualsEnabled&&he.custom&&he.isOutOfBox,Ne=q&&q.featureSwitches.personalVisualizationPaneEnabled&&Y.isUnpinnedVisual(he.name);return(he.custom&&!Ee&&le||Ne&&!re)&&(G=!1),G}var y=function(){function he(q){this.sections=[],this.activeSection=V.G.Fields,this.previousSection=V.G.Fields,this.pagePaneSections=[],this.activePageSection=V.W.Fields,this.previousPageSection=V.W.Fields,this.title="Format",this.icon="PBIFormat",this.visualPluginFilter=function(Y,G,me){return b(Y,G,me)},this.nonPersonalVisualizationPaneFilter=function(Y,G,me){return!b(Y,G,me)},this.showCloseButton=q}return Object.defineProperty(he.prototype,"activeSectionIndex",{get:function(){var Y=this,G=_.findIndex(this.sections,function(me){return me.sectionType===Y.activeSection});return-1!==G?G:0},enumerable:!1,configurable:!0}),Object.defineProperty(he.prototype,"activePageSectionIndex",{get:function(){var Y=this,G=_.findIndex(this.pagePaneSections,function(me){return me.sectionType===Y.activePageSection});return-1!==G?G:0},enumerable:!1,configurable:!0}),he}();function F(){return{exploration:null,options:null,taskPane:{title:"Data",icon:"PBIData"},visualizationPane:R(),sectionStatus:{currentSectionNumber:-1,isEditing:!1},isNavPaneCollapsed:!0,performancePane:w("PerformanceAnalyzerPane_Title","PBIPerformanceAnalyzer","PerformanceAnalyzerPane_Close"),bookmarksPane:w("ExplorationBookmarksPane_Title","AudioBookmark","ExplorationBookmarksPane_Close"),canvasItemsPane:w("ExplorationCanvasItemsPane_Title","LaunchSelectionPane","ExplorationCanvasItemsPane_Close"),syncGroupPane:w("SyncGroupPane_Title","PBISyncSlicer","SyncGroupPane_Close"),insightsPane:w("Insights_TitleKey","PBIAnomalyExplain","InsightsPane_Close"),reflexPane:w("Reflex_Config_Title",void 0,"Reflex_Pane_Close"),quickExplorePane:w("Summarize"),quickMeasuresPane:w("QuickMeasure","PBINewQuickMeasure","QuickMeasuresPane_Close"),buildSkittlePane:w("Skittles_Build_Title","PBIBuild"),chartElementsSkittlePane:w("Skittles_ChartElements_Title","PBIAddToChart"),assistedCreationPane:w("AssistedCreation_Pane_Title","addchartplaceholder","AssistedCreation_Pane_Close"),copilotPane:w("CopilotPaneEntryPoint_Title","PBIAnomalyExplain"),customizePane:w("Customize_PaneSwitcher","powermap_newtour")}}function E(he,q){return{contract:he,selected:!1,displayName:he.displayName,menuItems:a(q)}}function w(he,q,Y){return{title:he,icon:q,closePaneLabel:Y}}function x(){return{title:"Data",icon:"PBIData"}}function R(he){return void 0===he&&(he=!1),new y(he)}function g(he,q,Y,G,me,re){return L(_.filter(he,function(Ee){return Ee.custom}),q,Y,G,me,re)}function L(he,q,Y,G,me,re){for(var le=[],Ee=0,Ne=he;Ee<Ne.length;Ee++){var Ye=Ne[Ee];G&&!G(Ye,q,Y)||le.push((0,p.s_)(Ye,q,Y,me,re))}return le}function M(he,q,Y){Y.hostServices={getFilters:function(me,re){return me.calculateVisualContainerFilter(he,q,Y.contract,re)},getDataSourceVariables:function(){return he.dataSourceVariables},getVisualRelationshipFilterAction:function(me,re,le){return re.relationshipFilterAction(q,me,Y.contract,le,!1)},selectDataPoint:function(me,re,le,Ee,Ne,Ye){me.setFilterOnSelectData(he,re,q,Y.contract,le,Ee,Ne,Ye)},setVisualRelationshipFilterAction:function(me,re,le,Ee){return Ee.setVisualRelationship(q,me,re,le)}}}function T(he,q,Y,G,me){h.fF.assertValue(he,"contract");var Ee,re=_.map(he.sections,function(Je){return E(Je,me)}),le=he.sections;if(le&&le.length>0){var Ne=void 0!==Y?Y:0;if(Ne<le.length){Ee=O(he,le[Ne],q,G);for(var Ye=le.length-1;Ye>=0;--Ye)re[Ye].selected=Ye===Ne}}return{contract:he,sections:re,exploreCanvas:Ee}}function O(he,q,Y,G){h.fF.assertValue(q,"section");var me=new n.y(q,Y);if(q.visualContainers&&(me.visualContainers=(0,S.Br)(_(q.visualContainers).map(function(Ye){return I(Ye,Y,G)}).filter(function(Ye){return!!Ye}).value()),me.visualContainerGroups=1===Y?(0,e.__spreadArray)([],me.visualContainers,!0):N(q.visualContainerGroups,me.visualContainers,Y,G),!_.isEmpty(me.visualContainers)))for(var le=0,Ee=me.visualContainers;le<Ee.length;le++)M(he,q,Ee[le]);return me}function N(he,q,Y,G){for(var me=[],re=function(Je){if((0,l.Vz)(Je)){var _e=_.find(q,function(fe){return fe.contract===Je});_e&&me.push(_e)}else{var pe=A(Je,N(Je.children,q,Y,G));pe&&me.push(pe)}},le=0,Ee=he;le<Ee.length;le++)re(Ee[le]);return me}function A(he,q,Y){if(void 0===Y&&(Y=0),h.fF.assertValue(he,"contract"),he.layouts.withId(Y)){for(var me=new f.IT(he,Y,q),re=0,le=q;re<le.length;re++)le[re].parentGroup=me;return me}}function I(he,q,Y){void 0===q&&(q=0),h.fF.assertValue(he,"contract");var G=new v.Y,me=he.layouts.withId(q);if(me){var re=me.position;return G.position({y:re.y,x:re.x}),G.zIndex(re.z||0),G.viewport({height:re.height,width:re.width}),new m.C(he,G,q,Y)}}function B(he,q,Y,G){var me=I(Y,G);if(me)return M(he,q,me),me}function U(he,q){return void 0===q&&(q=!0),{isVisualVisible:!1,reportFilters:q?[]:null,pageFilters:[],drillthroughFilters:[],visualFilters:[],activeFilterPane:void 0,addFilterLabel:he.get("FieldDropZone_AddFields"),addDrillthroughFilterLabel:he.get("FieldDropZone_DrillthroughLink_Watermark")}}function W(he,q,Y,G,me,re,le,Ee,Ne){var Ye,Je;h.fF.assertValue(q,"visualContainer"),h.fF.assertValue(Y,"schema");for(var _e=(null===(Je=q.filters)||void 0===Je?void 0:Je.filter(function(He){return null!=He}))||[],pe=[],fe={container:q,scopeType:0},oe=(0,d.i4)(q,re,Y,Ee),ye=(0,d.uy)(he,q,le,Y),Ce=function(ke){return(0,r.fw)(ke,Y,G,fe,me,Ee,Ne,(0,d.cj)(q,me),q.config.singleVisual)},Be=function(ke){var ft=Ce(ke);if(pe.push(ft),oe){if(ke.expression&&!_.isEmpty(ke.expression.validate(Y,Ee)))return"continue";var Q=_.findIndex(oe,function(Ue){return(0,C.fS)(Ue.expression,ke.expression)});-1===Q?0===ke.howCreated&&(ft.howCreated=ke.howCreated=1):(1===ke.howCreated&&(ft.howCreated=ke.howCreated=0),2!==ke.howCreated&&oe.splice(Q,1))}},be=0,Te=_e;be<Te.length;be++)Be(Te[be]);var ve=ye=ye||[];if(ve=ve.concat(oe=oe||[]),_.isEmpty(fe.container.filters)&&(fe.container.filters=[]),(Ye=fe.container.filters).push.apply(Ye,oe||[]),ve)for(var Re=0,Ke=ve;Re<Ke.length;Re++){var tt=Ke[Re],mt=Ce(tt);mt.howCreated=tt.howCreated,pe.push(mt)}return pe.sort(ee),pe}function j(he,q,Y,G,me,re,le,Ee){var Ne=[];if(!he||!he.container||!he.container.filters)return Ne;for(var Ye=0,Je=he.container.filters;Ye<Je.length;Ye++){var _e=Je[Ye];if(null==Ee||_e.howCreated===Ee){_e.name||(_e.name=o.l.getNextFilterName(he.container.filters));var pe=(0,r.fw)(_e,q,Y,he,G,me,re,le,null);Ne.push(pe)}}return Ne.sort(ee),Ne}function K(he){return _.map(he,function(Y){return(0,c.ko)(Y,"-","\\-")}).join("-")}function ee(he,q){var Y=he.getDisplayName()?-1:1,G=q.getDisplayName()?-1:1;if(Y!==G)return Y-G;var me=he.getDisplayName()||he.getRestatement()||"",re=q.getDisplayName()||q.getRestatement()||"";return me.localeCompare(re)}function ie(he,q){var Y=void 0===he.contract.ordinal?1:-1,G=void 0===q.contract.ordinal?1:-1;return-1===Y&&-1===G?he.contract.ordinal-q.contract.ordinal:Y-G}},390952:function(Xe,H,t){t.d(H,{Gf:function(){return S},s_:function(){return h},tl:function(){return c}});var e=t(276698),l=t(595158),o=t(227871),d=t(35734),v=t(572909);function S(u,i){return i=(0,l.h1)(i),(0,v.G)(u,i)}function h(u,i,a,n,m){var f=(m=(0,l.h1)(m)).get("AddToFavorites_ContextMenu"),V=m.get("RemoveFromFavorites_ContextMenu"),p=m.get("AboutVisualDialog_About"),C={plugin:u,enabled:!0,active:!1,menuItems:[]},b=c(u,n,m,i);C.class=b.class,C.title=b.title,b.watermarkKey&&(u.watermarkKey=b.watermarkKey);var y=i&&i.featureSwitches.userFavoriteResourcePackagesEnabled&&u.custom&&a.isFavoritePublicCustomVisual(u.name),D=i&&i.featureSwitches.userFavoriteResourcePackagesEnabled&&u.custom&&u.favoriteId||y,P=i&&i.featureSwitches.userFavoriteResourcePackagesEnabled&&u.custom&&!u.favoriteId&&!y,F=i&&i.featureSwitches.tenantOutOfBoxVisualsEnabled&&u.custom&&u.isOutOfBox,E=i&&i.featureSwitches.personalVisualizationPaneEnabled&&a.isUnpinnedVisual(u.name),w=i&&i.featureSwitches.personalVisualizationPaneEnabled&&!a.isUnpinnedVisual(u.name),x=null;u.custom&&D?x=r(V,4):u.custom&&!F&&P?x=r(f,3):E?x=r(f,7):(!u.custom||F)&&w&&(x=r(V,6)),x&&C.menuItems.push(x);var R=r(p,5);return C.menuItems.push(R),C.tooltipConfig={tooltipTitle:C.title,tooltipShowOnFocus:!0},C}function c(u,i,a,n){var m=function(u,i,a,n,m){var f,V=S(i,n=(0,l.h1)(n));switch(u){case o.L.table.name:case o.L.tableEx.name:return{class:"table",title:V};case o.L.matrix.name:case o.L.pivotTable.name:return{class:"matrix",title:V};case o.L.scatterChart.name:return{class:"scatter",title:V};case o.L.barChart.name:return{class:"columnHoriz",title:V};case o.L.clusteredBarChart.name:return{class:"clusteredBarHoriz",title:V};case o.L.hundredPercentStackedBarChart.name:return{class:"column100Horiz",title:V};case o.L.ribbonChart.name:return{class:"ribbon",title:V};case o.L.columnChart.name:return{class:"columnVert",title:V};case o.L.clusteredColumnChart.name:return{class:"clusteredBarVert",title:V};case o.L.hundredPercentStackedColumnChart.name:return{class:"column100Vert",title:V};case o.L.realTimeLineChart.name:case o.L.lineChart.name:return{class:"line",title:V};case o.L.areaChart.name:return{class:"area",title:V};case o.L.stackedAreaChart.name:return{class:"stackedArea",title:V};case o.L.lineClusteredColumnComboChart.name:return{class:"lineClusteredColumnCombo",title:V};case o.L.lineStackedColumnComboChart.name:return{class:"lineStackedColumnCombo",title:V};case o.L.pieChart.name:return{class:"pie",title:V};case o.L.treemap.name:return{class:"tree",title:V};case o.L.map.name:return{class:"map",title:V};case o.L.filledMap.name:return{class:"filledMap",title:V};case o.L.azureMap.name:return{class:"azureMap",title:V};case o.L.shapeMap.name:return{class:"shapeMap",title:V};case o.L.funnel.name:return{class:"funnel",title:V};case o.L.gauge.name:return{class:"gauge",title:V};case o.L.multiRowCard.name:return{class:"card",title:V};case o.L.card.name:return{class:"calloutCard",title:V};case o.L.cardVisual.name:return{class:"cardVisual",title:V};case o.L.waterfallChart.name:return{class:"waterfall",title:V};case o.L.slicer.name:return{class:"slicerVert",title:V};case o.L.advancedSlicerVisual.name:return{class:"buttonSlicer",title:V};case o.L.donutChart.name:return{class:"donut",title:V};case o.L.kpi.name:return{class:"kpi",title:V};case o.L.scriptVisual.name:return{class:"rScriptImageVisual",title:V};case o.L.pythonVisual.name:return{class:"pythonImageVisual",title:V};case null===(f=o.L.debugVisual)||void 0===f?void 0:f.name:return{class:"debugger",title:V};case o.L.textbox.name:return{class:"smartNarratives",title:V};case o.L.basicShape.name:case o.L.shape.name:case o.L.actionButton.name:case o.L.image.name:return{class:null,title:V};case o.L.keyDriversVisual.name:return{class:"keyDrivers",title:V};case o.L.qnaVisual.name:return{class:"qna",title:V};case o.L.decompositionTreeVisual.name:return{class:"decompositionTree",title:V};case o.L.scorecard.name:return{class:"scorecard",title:V};case o.L.rdlVisual.name:return{class:"rdlVisual",title:null!=m&&m.featureSwitches.operationalReportStringTest?S((0,v.V)("Operational_Report"),n):V};case o.L.aiNarratives.name:return{class:"aiNarratives",title:V};default:if(a&&a.isTrustedVisual(u)){var p=a.getVisualTypeOptions(u);if(p)return{class:p.class,title:p.titleKey?n.get(p.titleKey):u,watermarkKey:p.watermarkKey}}return}}(u.name,u.titleKey,i,a,n),f=u.custom?u.displayName||u.name.match(/([A-z\s]+)/g)[0]:void 0;return m?(f&&(m.title=f),m):{class:u.class,title:null!=f?f:u.name}}function r(u,i){return{text:u,hasGlyph:!1,labelClass:"visualContextMenu itemLabel",action:i,type:e.w.Item,checked:!1,hrefTarget:d.bS}}},779533:function(Xe,H,t){t.d(H,{$Z:function(){return o}});var e=t(691379),l=t(824327),o=function(){function r(s){s&&(this.color=s.color.solid.color,this.visible=s.show,this.radius=s.radius)}return Object.defineProperty(r.prototype,"thickness",{get:function(){return d},enumerable:!1,configurable:!0}),r.prototype.getNumericPaddingFromBorder=function(){return c(this.radius)},r.prototype.getBorderStyle=function(){if(this.visible){var s=(0,e.Et)(this.color,1);return d+"px "+v+" "+s}},r.prototype.getPaddingFromBorder=function(){var s=c(this.radius);if(this.visible)return"".concat(s,"px")},r.prototype.getBorderRadius=function(){if(this.visible)return"".concat(this.radius||l.FJ,"px")},r}(),d=1,v="solid",h=Math.sin(Math.PI/180*45);function c(r){return Math.ceil(r-r*h)}},47359:function(Xe,H,t){t.d(H,{C:function(){return I}});var L,e=t(973188),l=t(316714),o=t(222415),d=t(249039),v=t(40152),S=t(927903),h=t(916075),c=t(789015),r=t(102794),s=t(227871),u=t(143056),i=t(437555),a=t(566464),n=t(498342),m=t(781322),f=t(963470),V=t(569978),p=t(281556),C=t(275179),b=t(533462),y=t(273269),D=t(85179),P=t(509607),F=t(696079),E=t(184651),w=t(320319),x=t(621010),R=t(898268),g=t(390952),T={key:void 0,defaultValue:!0,forceVisible:(L={},L[1]=!0,L)},O={visualInformationButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showVisualInformationButton"}),visualWarningButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showVisualWarningButton"}),visualErrorButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showVisualErrorButton"}),drillRoleSelector:(0,e.__assign)((0,e.__assign)({},T),{key:"showDrillRoleSelector"}),drillUpButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showDrillUpButton"}),drillToggleButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showDrillToggleButton"}),drillDownLevelButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showDrillDownLevelButton"}),drillDownExpandButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showDrillDownExpandButton"}),pinButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showPinButton"}),filterRestatementButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showFilterRestatementButton"}),focusModeButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showFocusModeButton"}),copyVisualImageButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showCopyVisualImageButton"}),seeDataLayoutToggleButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showSeeDataLayoutToggleButton"}),optionsMenu:(0,e.__assign)((0,e.__assign)({},T),{key:"showOptionsMenu"}),commentButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showCommentButton"}),tooltipButton:{key:"showTooltipButton",defaultValue:!1},personalizeVisualButton:(0,e.__assign)((0,e.__assign)({},T),{key:"showPersonalizeVisualButton"}),smartNarrativeButton:{key:"showSmartNarrativeButton",defaultValue:!1}},A=function(B){return B[B.Uninitialized=0]="Uninitialized",B[B.Initialized=1]="Initialized",B}({}),I=function(B){function U(W,j,K,ee){var ie=B.call(this,W,{footerStyle:null,headerBackgroundStyle:null,headerForegroundStyle:null,headerItemContainerStyle:null,popOutBarSubtitle:"",popOutBarTitle:"",position:null,style:j,titleStyle:null,visualViewportStyle:null,visualStyle:null,subTitleStyle:null,visualsDividerStyle:null,visualTitleAreaStyle:null})||this;return ie.uiScale=F.U2,ie.currentCanvasLayout=K,ie.currentEditMode=0,ie.visualTitleWrapped=[],ie.visualSubTitleWrapped=[],ie.currentZone=ee,ie.servicesState=A.Uninitialized,ie}return(0,e.__extends)(U,B),U.prototype.resolveDataAppliedEvent=function(){this.visual.dataAppliedEvent&&this.visual.dataAppliedEvent.resolve()},U.prototype.getRunningVisual=function(){return this.runningVisual},Object.defineProperty(U.prototype,"errorInfo",{get:function(){return this.runningVisual&&this.runningVisual.getErrorInfo()},set:function(j){var K=this.getRunningVisual();K&&K.setErrorInfo(j)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"visualPausedWarning",{get:function(){return this.visualPausedWarningModel},set:function(j){this.visualPausedWarningModel=j;var K=this.getRunningVisual();K&&K.setHasPendingChanges(void 0!==j)},enumerable:!1,configurable:!0}),U.prototype.setThemeCollection=function(W){this.themeCollection=W,this.runningVisual&&this.runningVisual.setThemeCollection(W)},U.prototype.startResize=function(){this.originalPosition=this.position},U.prototype.getVisualType=function(){return(0,v.s)(this.contract)},U.getVisualBodyOffset=function(W,j){return U.useStylableHeader(j)||W.canShowVisualContainerHeaderInset()?{top:0,height:0,width:0,left:0}:{top:this.VisualContainerHeaderHeight,height:-this.VisualContainerHeaderHeight,width:0,left:0}},Object.defineProperty(U.prototype,"id",{get:function(){return this.contract.id},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"position",{get:function(){return this.contract.layouts.withId(this.currentCanvasLayout).position},set:function(j){this.contract.layouts.withId(this.currentCanvasLayout).position=j},enumerable:!1,configurable:!0}),U.prototype.getScaledPosition=function(W){return void 0===W&&(W=!0),this.convertToScaledPosition(this.position,W)},Object.defineProperty(U.prototype,"editMode",{get:function(){return this.currentEditMode},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"headerTitleMaxLines",{get:function(){return this.isTitleWrappingEnabled?3:1},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"headerSubTitleMaxLines",{get:function(){return this.isSubTitleWrappingEnabled?3:1},enumerable:!1,configurable:!0}),U.prototype.setEditMode=function(W){this.currentEditMode=W,(0,x.yY)(this.runningVisual,this.runningVisual.getViewport(),y.EP.ViewMode,this.visualHostServices,this.editMode)},Object.defineProperty(U.prototype,"isPositioned",{get:function(){var j=this.position;return 0!==j.width&&0!==j.height},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isPoppedOut",{get:function(){var j=this.contract.visibility;return null!=j&&0!==j&&4!==j&&32!==j},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"bringToFront",{get:function(){var j=this.contract.config.singleVisual.evaluatedObjects;return!j||!j.general||!j.general.keepLayerOrder},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isHidden",{get:function(){return(0,d.xj)(this.contract.config.singleVisual)},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isTitleWrappingEnabled",{get:function(){return this.visualTitle&&!!this.visualTitle.titleWrap},enumerable:!1,configurable:!0}),Object.defineProperty(U.prototype,"isSubTitleWrappingEnabled",{get:function(){return this.visualSubTitle&&!!this.visualSubTitle.titleWrap},enumerable:!1,configurable:!0}),U.prototype.visualTitleAreaVisible=function(){var W=this.contract.config.singleVisual,j=W.evaluatedObjects&&W.evaluatedObjects.title,K=this.visualPlugin&&this.visualPlugin.capabilities(W.visualType);return!(0,o.xj)(j,K&&K.suppressDefaultTitle)&&!this.isPoppedOut},U.prototype.visualTitleVisible=function(){if(this.isPoppedOut)return!1;var W=this.contract.config.singleVisual;if(!W)return!1;var j=this.visualPlugin&&this.visualPlugin.capabilities(W.visualType);if(!j)return!1;var K=this.visualTitle;return!(!K||!1===K.show||void 0===K.show&&j.suppressDefaultTitle||!K.text)},U.prototype.visualSubTitleVisible=function(){var W;if(null===(W=this.featureSwitchService)||void 0===W||!W.featureSwitches.vcPadding||this.isPoppedOut)return!1;var j=this.contract.config.singleVisual;if(!j)return!1;var K=this.visualPlugin&&this.visualPlugin.capabilities(j.visualType);if(!K)return!1;var ee=this.visualTitle;if(!ee)return!1;var ie=this.visualSubTitle;return!(!ie||!1===ee.show||void 0===ee.show&&K.suppressDefaultTitle||!ie.show||!ie.text)},U.prototype.visualDividerVisible=function(){var W,j=this.contract.config.singleVisual,K=j.evaluatedObjects&&j.evaluatedObjects.divider,ee=j.evaluatedObjects&&j.evaluatedObjects.title,ie=this.visualPlugin&&this.visualPlugin.capabilities(j.visualType);return!(null===(W=this.featureSwitchService)||void 0===W||!W.featureSwitches.vcPadding||!K||(0,o.Qy)(K)||(0,o.xj)(ee,ie&&ie.suppressDefaultTitle)||this.isPoppedOut)},U.prototype.supportsKeyboardNavigation=function(){var j=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);return j&&j.supportsKeyboardFocus},Object.defineProperty(U.prototype,"supportsCustomPadding",{get:function(){var j;return null===(j=this.featureSwitchService)||void 0===j?void 0:j.featureSwitches.vcPadding},enumerable:!1,configurable:!0}),U.prototype.setServices=function(W,j,K,ee,ie,he,q,Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe){n.fF.assertValue(W,"visualHostServices"),n.fF.assertValue(j,"visualPlugin"),n.fF.assertValue(K,"visualPluginOps"),this.visualHostServices=(0,E.K)(W,Ee),this.visualAdapterHostServices=pe,this.visualPlugin=j,this.visualPluginOps=K,this.viewModeState=ee,this.formFactor=ie,this.visibility=he,this.runningVisuals=q,this.explorationCapabilities=_e,this.visualAuthoring=G,this.filterGenerator=re,this.themeService=le,this.showClientWarnings=Ne,this.sortServices=Ye,this.selectionServices=Je,this.dataViewServices=fe,this.servicesState=A.Initialized,this.bodyScaleChanged=oe,this.featureSwitchService=Y,this.localizationService=me},U.prototype.setSelected=function(W){this.isSelected=W},U.prototype.handleKeyDown=function(W){var j=function(B){switch(B.keyCode){case 122:return B.altKey&&B.shiftKey?0:void 0;case 70:return V.M.isCtrlOrMeta(B)?1:void 0}}(W);switch(j){case 0:this.visibility.set(this.contract,8);break;case 1:this.toggleVisualSearch(W)}if(this.shouldHandleKeydown(W)){if(this.isTextboxVisual()){var ee=this.getTextboxVisual();return ee&&ee.focus()}if(this.isContractQnaVisual()){var ie=this.getQnaVisual();if(ie)return ie.focus()}}},U.prototype.toggleVisualSearch=function(W){if(this.contract&&this.contract.config&&this.contract.config.singleVisual){var K=this.visualPlugin&&this.visualPlugin.capabilities(this.contract.config.singleVisual.visualType);K&&this.filterGenerator.tryGetSelfFilterEnabledProperty(K)&&(this.visualAuthoring.toggleSlicerVisualSearch(this.contract,this.filterGenerator,this.visualPlugin),W.preventDefault(),W.stopPropagation())}},U.prototype.shouldHandleKeydown=function(W){if(!this.runningVisual||0===this.viewModeState.getMode())return!1;var j=W.keyCode;if((0,p.Wl)(j)||(0,p.SF)(j)||27===j||9===j||18===j||13===j||V.M.isCtrlOrMeta(W))return!1;var K=this.contract.toolbar&&this.contract.toolbar.element;return!(K&&(0,l.y)(K))},U.prototype.setVisualTitle=function(W){this.visualTitle=W;var j="";W&&(_.isEmpty(this.readOnlyState.popOutBarSubtitle)&&W.titleComponents&&W.titleComponents.subtitle?(this.readOnlyState.popOutBarSubtitle=W.titleComponents.subtitle,W.titleComponents&&W.titleComponents.title?j=W.titleComponents.title:W.text&&(j=W.text)):W.text?j=W.text:W.titleComponents&&W.titleComponents.title&&(j=W.titleComponents.title)),this.readOnlyState.popOutBarTitle=j},U.prototype.setVisualSubTitle=function(W){this.visualSubTitle=W;var j="";W&&W.text&&(j=W.text),this.readOnlyState.popOutBarSubtitle=j},U.prototype.setTooltip=function(){var W,j,K=(0,v.s)(this.contract),ee=this.getVisualLinkTypeLabel(K)||"",ie=null===(j=null===(W=this.visualPlugin)||void 0===W?void 0:W.capabilities(K))||void 0===j?void 0:j.ariaRole,he=this.visualPlugin&&this.visualPlugin.getPlugin(K);if(he){var q=this.ariaMetadata&&this.ariaMetadata.subtitleDisplayNameGetter,Y=q?" ".concat((0,g.Gf)(q,this.localizationService)):"";K=(0,g.s_)(he,void 0,void 0,void 0,this.localizationService).title+Y}var me=this.visualTitle,re=void 0!==(null==me?void 0:me.text)&&"".concat(me.text," ")||"",le=this.visualSubTitle,Ee=void 0!==(null==le?void 0:le.text)&&"".concat(le.text," ")||"",Ne=this.contract.config.singleVisual,Ye=Ne.evaluatedObjects&&Ne.evaluatedObjects.general&&Ne.evaluatedObjects.general.altText?" ".concat(Ne.evaluatedObjects.general.altText):"";this.tooltip="".concat(re).concat(ee).concat(K).concat(Ye),this.ariaLabel="".concat(re).concat(Ee).concat(ee).concat(Ye),this.ariaRole="group",this.ariaRoleDescription=null!=ie?ie:K,this.ariaRoleDescription&&"table"===this.ariaRoleDescription.trim().toLowerCase()&&(this.ariaRoleDescription="")},U.prototype.getVisualLinkTypeLabel=function(W){var j=this.visualPlugin&&this.visualPlugin.capabilities(W);if(j&&j.supportsVisualLink){var K=this.contract.config.singleVisual,ee=K.evaluatedObjects&&K.evaluatedObjects.visualLink;if(ee&&ee.show){var ie=(0,d.oL)(ee),he=_.find(d.Dy.members(),function(q){return q.value===ie}).displayName;return"".concat((0,g.Gf)(he,this.localizationService)," ")}}},U.prototype.setHeaderTooltip=function(){var W=this.contract.config.singleVisual,j=W.evaluatedObjects&&W.evaluatedObjects.visualHeader,K=W.evaluatedObjects&&W.evaluatedObjects.visualHeaderTooltip;this.headerTooltip=j&&j.showTooltipButton&&K?K:void 0},U.prototype.redrawVisual=function(){this.runningVisual&&(0,x.yY)(this.runningVisual,this.runningVisual.getViewport(),y.EP.Resize,this.visualHostServices,this.editMode)},U.prototype.updateVisualViewportForUserResize=function(W){var j,K=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),ee=this.runningVisual;this.enableVisualScaling?(W.width/=this.uiScale.x,this.visualBorder&&(W.width-=2*this.visualBorder.thickness),this.useStylableHeader()||(W.height-=U.VisualContainerHeaderHeight),W.height/=this.uiScale.y,this.visualBorder&&(W.height-=2*this.visualBorder.thickness)):this.useStylableHeader()||(W.height-=U.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(W.height-=U.VisualContainerFooterHeight),this.visualViewport=this.getVisualViewport(W.width,W.height,1,K),ee&&(this.viewportResized=!0,(0,x.yY)(ee,this.visualViewport,y.EP.Resize,this.visualHostServices,this.editMode,1)),this.applyVisualViewportStyle(this.readOnlyState,W),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(this.readOnlyState,W.width);var he=this.overridePosition||this.convertToScaledPosition(this.position);this.applyTitleStyle(this.readOnlyState,he.width,K),this.applyVisualTitleAreaStyle(this.readOnlyState),null!==(j=this.featureSwitchService)&&void 0!==j&&j.featureSwitches.vcPadding&&(this.applySubTitleStyle(this.readOnlyState,he.width,K),this.applyDividerStyle(this.readOnlyState,K))},U.prototype.shouldUseCache=function(){return(0,S.dw)(this.contract,this.options.disableQueryCacheUpdates)},U.prototype.adjustForVisualContainerHeader=function(W,j,K){(!this.formFactor||!this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset())&&(K&&(W.y+=j),W.height-=j)},U.prototype.convertToScaledPosition=function(W,j){void 0===j&&(j=!0);var K=this.viewModeState&&this.viewModeState.getConfig().displayOptions.disablePixelValueRounding,ee=(0,w.vW)(W,this.uiScale,!K);return this.adjustForVisualContainerHeader(ee,this.useStylableHeader()?0:-U.VisualContainerHeaderHeight,j),ee},U.prototype.reset=function(){var W=this.visual;W&&(W.data=void 0,W.dataTransforms=void 0,W.hostServices=u.o,W.visualAdapterHostServices={getNextDataSegment:function(){return new C.J(function(K,ee){return ee(new Error("Visual reset"))})},startProgressBar:_.noop,stopProgressBar:_.noop}),this.runningVisuals&&this.runningVisuals.removeVisual(this.contract),this.runningVisual=void 0,this.showClientWarnings=void 0,this.visualHostServices=void 0,this.visualAdapterHostServices=void 0,this.lastBodyScale=void 0,this.bodyScaleChanged=void 0},U.prototype.updateViewStateCore=function(W){var j,K;if(this.servicesState===A.Initialized){var ee=this.viewModeState&&this.viewModeState.getConfig(),ie=ee&&ee.displayOptions,he=this.themeService&&this.themeService.getVisualStyle(this.themeCollection),q=this.contract,Y=this.position,G=this.overridePosition||this.convertToScaledPosition(Y),me=(0,m.ED)(G),re=!this.useStylableHeader()||this.isPoppedOut;if(this.enableVisualScaling?this.overridePosition?(re&&(me.height-=U.VisualContainerHeaderHeight),me.height/=this.uiScale.y,me.width/=this.uiScale.x):(me=(0,m.ED)(Y),this.formFactor&&this.formFactor.getCurrentLayoutCapabilities().canShowVisualContainerHeaderInset()&&re&&(me.height-=U.VisualContainerHeaderHeight/this.uiScale.y)):re&&(me.height-=U.VisualContainerHeaderHeight),this.isFooterVisible&&this.isFooterVisible()&&(me.height-=U.VisualContainerFooterHeight),this.isPoppedOut&&(!ie||!ie.hideInFocusBar)){var Ee=U.PopOutBarHeight;this.enableVisualScaling&&(Ee/=this.uiScale.y),me.height-=Ee}this.hasDetailVisual=this.showDetailVisual()||this.showVisualCalcEditor();var Ne=null!==(j=this.contract.detailVisualLayout)&&void 0!==j?j:1;this.showDetailHorizontal=this.hasDetailVisual&&1===Ne,this.showDetailVertical=this.hasDetailVisual&&2===Ne,this.visualViewport=this.getVisualViewport(me.width,me.height,this.uiScale.x,he);var Ye=q.config.singleVisual;if(W.isFilterVisual=!1,Ye){this.showWatermark=!1,this.canPin=!0;var Je=Ye.visualType,_e=this.visualPlugin&&this.visualPlugin.capabilities(Je);if(_e&&(W.isFilterVisual=null!=(0,P.MD)(_e.objects)),Ye.query){var pe=Ye.query.defn;if(pe){var fe=pe.orderBy();W.actualSortDirection=fe&&fe.length?fe[0].direction:void 0}}else this.visualPluginOps&&this.visualPluginOps.isQueryVisual(Je)&&"debugVisual"!==Je&&(this.canPin=!1,this.showWatermark=!(this.showVisualCalcEditor()||this.viewModeState&&_e&&_e.supportsLandingPage&&(1===this.viewModeState.getMode()||_e.supportsEmptyDataView)));this.updateVisualDefinition(this.visualViewport),this.visual&&(!this.runningVisuals.getVisual(this.contract)||!this.runningVisual)&&(this.runningVisual=(0,x.vC)(this.visual,this.visualHostServices,this.editMode,this.contract.config.singleVisual,this.hostServices,this.filterGenerator,this.showClientWarnings,this.sortServices,this.selectionServices,this.dataViewServices),this.runningVisuals.setVisual(this.contract,this.runningVisual)),this.setViewport(W,this.visualViewport)}W.position=(0,e.__assign)((0,e.__assign)({},G),{z:null!=this.zIndexOverride?this.zIndexOverride:Y.z||0,angle:Y.angle||0}),this.applyTitleStyle(W,G.width,he),this.applyVisualTitleAreaStyle(W),!(null===(K=this.featureSwitchService)||void 0===K)&&K.featureSwitches.vcPadding&&(this.applySubTitleStyle(W,G.width,he),this.applyDividerStyle(W,he)),this.applyVisualViewportStyle(this.readOnlyState,me),this.applyVisualBodyStyle(this.readOnlyState),this.applyFooterStyle(W,me.width),this.applyHeaderStyle(W),this.setHeaderItemVisibility(W),this.setTooltip(),this.setHeaderTooltip(),q&&q.postProcessing&&this.configureInitializationSpinner(q.postProcessing),this.bodyScaleChanged&&this.uiScale.x!==this.lastBodyScale&&this.bodyScaleChanged(),this.lastBodyScale=this.uiScale.x}},U.prototype.isHeaderItemVisible=function(W){return!this.readOnlyState.itemVisibility||this.readOnlyState.itemVisibility[W]},U.prototype.isDeprecationWarningVisible=function(){return 1===this.viewModeState.getMode()&&void 0!==this.customVisualDeprecatedWarningInfo},U.prototype.isWarningVisible=function(){return this.isHeaderItemVisible("visualWarningButton")&&void 0!==this.warningInfo},U.prototype.isErrorVisible=function(){return this.isHeaderItemVisible("visualErrorButton")&&void 0!==this.transformWarningInfo},U.prototype.isInfoVisible=function(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.visualInfo},U.prototype.isInfoVersionsVisible=function(){return this.isHeaderItemVisible("visualInformationButton")&&void 0!==this.versionsInfo},U.prototype.isHeaderTooltipVisible=function(){return this.isHeaderItemVisible("tooltipButton")},U.prototype.isAnyIconVisible=function(){return this.isDeprecationWarningVisible()||this.isWarningVisible()||this.isErrorVisible()||this.isInfoVersionsVisible()||this.isInfoVisible()||this.isHeaderTooltipVisible()},U.prototype.anyHeaderItemVisible=function(W){if(W)for(var j=0,K=W;j<K.length;j++)if(this.isHeaderItemVisible(K[j]))return!0;return!1},U.prototype.isTextboxVisual=function(){return this.contract.config.singleVisual.visualType===s.L.textbox.name},U.prototype.getTextboxVisual=function(){var W=this;return n.fF.assert(function(){return W.isTextboxVisual()},"Should not try to get textbox visual for non-textbox visual"),this.tryGetUnwrappedVisual()},U.prototype.isContractAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.contract.config.singleVisual.visualType)},U.prototype.isDefinitionAnalysisVisual=function(){return this.visualPluginOps.isAnalysisVisual(this.visual&&this.visual.type)},U.prototype.isContractQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.contract.config.singleVisual.visualType)},U.prototype.getQnaVisual=function(){var W=this;return n.fF.assert(function(){return W.isContractQnaVisual()},"Should not try to get qna visual for non-qna visual"),this.tryGetUnwrappedVisual()},U.prototype.isDefinitionQnaVisual=function(){return this.visualPluginOps.isQnaVisual(this.visual&&this.visual.type)},U.prototype.setInitialLoadTelemetryParent=function(W){n.fF.assertValue(this.visual,"this.visual must be defined to set initialization parent activity"),this.visual.initialLoadActivity=W},U.prototype.tryGetUnwrappedVisual=function(){var W,j=null===(W=this.runningVisual)||void 0===W?void 0:W.getAdapter();return j?j.unwrap?j.unwrap():j:void 0},U.prototype.setHeaderItemVisibility=function(W){var j=W.itemVisibility;j||(j=W.itemVisibility={});var K=this.viewModeState&&this.viewModeState.getMode(),ee=this.contract.config.singleVisual,ie=this.useStylableHeader()?ee.evaluatedObjects&&ee.evaluatedObjects.visualHeader:void 0;for(var he in O){var q=O[he],me=q.forceVisible,re=void 0;if(me&&void 0!==me[K])re=me[K];else{var le=ie&&ie[q.key];re=void 0!==le?le:q.defaultValue}j[he]=re}},U.prototype.applyHeaderStyle=function(W){var j=this.contract.config.singleVisual,K=this.useStylableHeader()?j.evaluatedObjects&&j.evaluatedObjects.visualHeader:void 0;this.applyItemContainerStyle(W,K),this.applyHeaderBackgroundStyle(W,K),this.applyHeaderForegroundStyle(W,K)},U.prototype.applyItemContainerStyle=function(W,j){var K={"background-color":"","border-color":""};if(this.useStylableHeader()&&j&&(j.background||null!=j.transparency||null!=j.border)){var ee=j.background&&j.background.solid?(0,i.WV)(j.background.solid.color):{R:255,G:255,B:255},ie=j.border&&j.border.solid?(0,i.WV)(j.border.solid.color):ee;null!=j.transparency?ie.A=ee.A=1-j.transparency/100:(null==ee.A&&(ee.A=1),null==ie.A&&(ie.A=1)),K["background-color"]=(0,i.U8)(ee),K["border-color"]=(0,i.U8)(ie)}W.headerItemContainerStyle||(W.headerItemContainerStyle=new h.Y),W.headerItemContainerStyle.addAttributes(K),W.headerItemContainerStyle.apply()},U.prototype.applyHeaderBackgroundStyle=function(W,j){var K,ee={"background-color":""};if(this.useStylableHeader()&&j&&(j.background||null!=j.transparency)){var ie=j.background&&j.background.solid?(0,i.WV)(j.background.solid.color):U.VisualHeaderBackgroundColor;null!=j.transparency?ie.A=1-j.transparency/100:null==ie.A&&(ie.A=1-U.VisualHeaderTransparency/100),ee["background-color"]=(0,i.U8)(ie);var he=null===(K=this.themeService)||void 0===K?void 0:K.getVisualStyle(this.themeCollection);he&&(ee[":hover"]=c.v.getThemeColor(he,"backgroundNeutral"))}W.headerBackgroundStyle||(W.headerBackgroundStyle=new h.Y),W.headerBackgroundStyle.addAttributes(ee),W.headerBackgroundStyle.apply()},U.prototype.applyHeaderForegroundStyle=function(W,j){var K={color:""};this.useStylableHeader()&&j&&j.foreground&&j.foreground.solid&&(K.color=j.foreground.solid.color),W.headerForegroundStyle||(W.headerForegroundStyle=new h.Y),W.headerForegroundStyle.addAttributes(K),W.headerForegroundStyle.apply()},U.prototype.applyVisualBodyStyle=function(W){var j,K;W.visualStyle||(W.visualStyle=new h.Y);var ee=null===(j=this.themeService)||void 0===j?void 0:j.getVisualStyle(this.themeCollection);null!=ee&&ee.isHighContrast&&this.visualDropShadow&&(this.visualDropShadow.color=c.v.getThemeColor(ee,"foreground"));var he=this.visualBorder&&this.visualBorder.getPaddingFromBorder();if(null!==(K=this.featureSwitchService)&&void 0!==K&&K.featureSwitches.vcPadding){var q=this.getVisualBodyPadding();he="".concat(q.top,"px ").concat(q.right,"px ").concat(q.bottom,"px ").concat(q.left,"px")}var Y=this.shouldAppyBoxShadow(),G=(0,S.O$)(this.visualBackground&&this.visualBackground.colorRGB,this.visualBorder&&this.visualBorder.getBorderStyle(),this.visualBorder&&this.visualBorder.getBorderRadius(),he,Y&&this.visualDropShadow&&this.visualDropShadow.getBoxShadow());W.visualStyle.addAttributes(G),W.visualStyle.apply()},U.prototype.shouldAppyBoxShadow=function(){var W=this.contract.visibility;if(null==W)return!0;switch(W){case 0:return!0;case 1:case 2:case 8:case 4:case 16:case 32:return!1;default:return n.fF.assertFail("Unhandled visibility: ".concat(W)),!1}},U.prototype.applyVisualViewportStyle=function(W,j){W.visualViewportStyle||(W.visualViewportStyle=new h.Y);var K=(0,S._L)(j,this.enableVisualScaling?this.uiScale.x:void 0);W.visualViewportStyle.addAttributes(K),W.visualViewportStyle.apply()},U.prototype.applyFooterStyle=function(W,j){if(this.isFooterVisible&&this.isFooterVisible()){var K={};W.footerStyle||(W.footerStyle=new h.Y),K.transform="scale("+(this.enableVisualScaling?this.uiScale.x:1)+")",K.width=j,W.footerStyle.addAttributes(K),W.footerStyle.apply()}},U.prototype.applyTitleStyle=function(W,j,K){var ee,ie,he={};if(this.visualTitleVisible()){!(null===(ee=this.featureSwitchService)||void 0===ee)&&ee.featureSwitches.vcPadding&&(he[a.YY]=this.getSpacing(S.hs.Title)),he[a.B1]=a.l6;var q=this.contract.config.singleVisual,Y=q.evaluatedObjects&&q.evaluatedObjects.title||{},G=this.getTitleFontProperties(Y,K);he[a.t0]="".concat(G.size.pt,"pt")||0,he[a.Mq]="".concat(G.family)||"",he[a.dj]="".concat(G.color)||"",he[a.Z7]=Y.alignment?Y.alignment:"",he[a.CB]=Y.background&&Y.background.solid&&Y.background.solid.color||"",he[a.ei]=(this.isTitleWrappingEnabled?this.visualTitleWrapped.length:1)*(0,S.X)(G),this.insetHeaderSize?this.isTitleWrappingEnabled||(he[a.kP]=(j-this.insetHeaderSize.width)/this.uiScale.x):he[a.kP]=null,he[a.ps]=Y.bold?a.en:"",he[a.Ji]=Y.italic?a.BF:"",he[a.QX]=Y.underline?a.f0:"";var le=!(null!==(ie=this.visualTitle)&&void 0!==ie&&ie.isPlaceholderText);he[a.mA]=le?"none":"1px dashed black",he[a.LR]=le?"0":"1px",he[a.Ux]=le?"0":"1px",he[a.wF]=le?"default":"text"}else he[a.B1]=a.fw;W.titleStyle||(W.titleStyle=new h.Y),W.titleStyle.addAttributes(he),W.titleStyle.apply()},U.prototype.applySubTitleStyle=function(W,j,K){var ee,ie,he={};if(this.visualSubTitleVisible()&&null!==(ee=this.featureSwitchService)&&void 0!==ee&&ee.featureSwitches.vcPadding){he[a.YY]=this.getSpacing(S.hs.SubTitle),he[a.B1]=a.l6;var q=this.contract.config.singleVisual,Y=q.evaluatedObjects&&q.evaluatedObjects.subTitle||{},G=this.getSubTitleFontProperties(Y,K);he[a.t0]="".concat(G.size.pt,"pt")||0,he[a.Mq]="".concat(G.family)||"",he[a.dj]="".concat(G.color)||"",he[a.Z7]=Y.alignment?Y.alignment:"",he[a.ei]=(this.isSubTitleWrappingEnabled?this.visualSubTitleWrapped.length:1)*(0,S.X)(G),this.insetHeaderSize?this.isSubTitleWrappingEnabled||(he[a.kP]=(j-this.insetHeaderSize.width)/this.uiScale.x):he[a.kP]=null,he[a.ps]=Y.bold?a.en:"",he[a.Ji]=Y.italic?a.BF:"",he[a.QX]=Y.underline?a.f0:"";var le=!(null!==(ie=this.visualSubTitle)&&void 0!==ie&&ie.isPlaceholderText);he[a.mA]=le?"none":"1px dashed black",he[a.LR]=le?"none":"2px",he[a.Ux]=le?"0":"1px",he[a.wF]=le?"default":"text"}else he[a.B1]=a.fw;W.subTitleStyle||(W.subTitleStyle=new h.Y),W.subTitleStyle.addAttributes(he),W.subTitleStyle.apply()},U.prototype.applyDividerStyle=function(W,j){var K,ee={};if(this.visualDividerVisible()&&null!==(K=this.featureSwitchService)&&void 0!==K&&K.featureSwitches.vcPadding){ee[a.YY]=this.getSpacing(S.hs.Divider),ee[a.B1]=a.l6;var he=this.contract.config.singleVisual,q=he.evaluatedObjects&&he.evaluatedObjects.divider,G=q.style||"Solid",me=q.color&&q.color.solid&&q.color.solid.color||j.colorPalette.foregroundNeutralSecondary.value;if(ee[a.VM]="".concat(q.width||1,"px ").concat(G," ").concat(me),!1!==q.ignorePadding){var le=this.getVisualBodyPadding();ee[a.Sd]="-".concat(le.left||0,"px"),ee[a.Uy]="-".concat(le.right||0,"px")}else ee[a.Sd]="",ee[a.Uy]=""}else ee[a.B1]=a.fw;W.visualsDividerStyle||(W.visualsDividerStyle=new h.Y),W.visualsDividerStyle.addAttributes(ee),W.visualsDividerStyle.apply()},U.prototype.applyVisualTitleAreaStyle=function(W){var j,K={};if(this.visualTitleVisible()&&null!==(j=this.featureSwitchService)&&void 0!==j&&j.featureSwitches.vcPadding){var ee=this.contract.config.singleVisual,ie=ee.evaluatedObjects&&ee.evaluatedObjects.title||{};K[a.CB]=ie.background&&ie.background.solid&&ie.background.solid.color||"";var he=this.getVisualBodyPadding();K[a.LR]="-".concat(he.top||0,"px"),K[a.j4]="".concat(he.top||0,"px"),K[a.Sd]="-".concat(he.left||0,"px"),K[a.Ux]="".concat(he.left||0,"px"),K[a.Uy]="-".concat(he.right||0,"px"),K[a.By]="".concat(he.right||0,"px")}else K[a.CB]="",K[a.LR]="",K[a.j4]="",K[a.Sd]="",K[a.Ux]="",K[a.Uy]="",K[a.By]="";W.visualTitleAreaStyle||(W.visualTitleAreaStyle=new h.Y),W.visualTitleAreaStyle.addAttributes(K),W.visualTitleAreaStyle.apply()},U.prototype.getSpacing=function(W){var j=this.contract.config.singleVisual;return(0,S.h4)(W,j.evaluatedObjects&&j.evaluatedObjects.spacing)},U.prototype.getVisualBodyPadding=function(){var W;return n.fF.assertValue(this.featureSwitchService.featureSwitches.vcPadding,"this helper method should only be called if vcPadding FS is on"),(0,S.NY)(this.visualPadding,null===(W=this.contract.config.singleVisual.evaluatedObjects)||void 0===W?void 0:W.padding,this.visualBorder&&this.visualBorder.getNumericPaddingFromBorder())},U.prototype.updateVisualDefinition=function(W){var K,ee,j=this,ie=this.contract.config.singleVisual,he=ie.visualType;if(n.fF.assertAnyValue(ie,"VisualContainer.updateVisualDefinition singleVisual should be defined."),this.visual){var q=this.visual;q.type!==ie.visualType?(q.data=null,null===(K=this.visualHostServices)||void 0===K||K.onClearLicenseNotification()):this.showWatermark&&(null===(ee=this.visualHostServices)||void 0===ee||ee.onClearLicenseNotification()),n.fF.assert(function(){return q.visualName===j.contract.name},"visualName"),q.type=he,q.stylePresetName=ie.evaluatedObjects&&ie.evaluatedObjects.stylePreset&&ie.evaluatedObjects.stylePreset.name,q.hostServices=this.visualHostServices,q.visualAdapterHostServices=this.visualAdapterHostServices,q.orderIndependentSelectorMatching=ie.queryOptions&&ie.queryOptions.keepProjectionOrder,this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(he)),this.visual.visualHasData=!!ie.query,this.visual.currentZone=this.currentZone}else this.visualHostServices&&(this.visual={viewport:W,type:he,visualName:this.contract.name,dataTransforms:{objects:ie.objects},hostServices:this.visualHostServices,visualAdapterHostServices:this.visualAdapterHostServices,interactivityOptions:{dragDataPoint:!1,selection:!0,isVisualInteractive:!0},allowInvalidDataView:!0,visualPlugin:this.visualPlugin,themeCollection:this.themeCollection,orderIndependentSelectorMatching:ie.queryOptions&&ie.queryOptions.keepProjectionOrder},this.visualPluginOps&&(this.visual.visualRequiresData=this.visualPluginOps.isQueryVisual(he)),this.visual.visualHasData=!!ie.query)},U.prototype.setViewport=function(W,j){this.runningVisual&&this.setVisualViewport(this.runningVisual,j)},U.prototype.setVisualViewport=function(W,j){if(W&&j){var K=this.viewportResized;this.viewportResized=void 0;var ee,ie=this.enableVisualScaling?this.uiScale.x:1;(K||!(ee=W.getViewport())||ee.height!==j.height||ee.width!==j.width||ee.scale!==ie)&&W.setViewport((0,e.__assign)((0,e.__assign)({},j),{scale:ie}),K)}},U.prototype.getVisualViewport=function(W,j,K,ee){var ie,he,q,Y,G,me,re,le=this.contract.config.singleVisual,Ee=0;this.visualBorder&&this.visualBorder.visible&&(Ee=this.visualBorder.getNumericPaddingFromBorder());var Ne=this.isPaddingDisabled?2*Ee:2*(Ee+U.VisualContainerDefaultPadding),Ye=this.isPaddingDisabled?2*Ee:2*(Ee+U.VisualContainerDefaultPadding);if(null!==(ie=this.featureSwitchService)&&void 0!==ie&&ie.featureSwitches.vcPadding){var Je=this.getVisualBodyPadding();Ne=Je.left+Je.right,Ye=Je.top+Je.bottom}var _e=0,pe=0,fe=0,oe=0,ye=W-Ne;if(this.visualTitleVisible()){var Ce=this.getTitleFontProperties(this.visualTitle,ee);this.updateVisualTitleWrapping(ye,Ce),pe=(0,S.X)(Ce),pe*=this.visualTitleWrapped.length||1,!(null===(he=this.featureSwitchService)||void 0===he)&&he.featureSwitches.vcPadding&&(pe+=this.getSpacing(S.hs.Title)),null!==(q=this.visualTitle)&&void 0!==q&&q.isPlaceholderText&&(pe+=3)}if(this.visualSubTitleVisible()&&null!==(Y=this.featureSwitchService)&&void 0!==Y&&Y.featureSwitches.vcPadding){var Be=this.getSubTitleFontProperties(this.visualSubTitle,ee);this.updateSubVisualTitleWrapping(ye,Be),fe=(0,S.X)(Be),fe*=this.visualSubTitleWrapped.length||1,fe+=this.getSpacing(S.hs.SubTitle),null!==(G=this.visualSubTitle)&&void 0!==G&&G.isPlaceholderText&&(pe+=4)}this.visualDividerVisible()&&null!==(me=this.featureSwitchService)&&void 0!==me&&me.featureSwitches.vcPadding&&(_e=null!==(re=(le.evaluatedObjects&&le.evaluatedObjects.divider).width)&&void 0!==re?re:0,_e+=this.getSpacing(S.hs.Divider)),this.visualPausedWarning&&(oe+=U.VisualBannerHeight);var Te=j-Ye-pe-oe-fe-_e,ce=this.viewModeState&&this.viewModeState.getConfig().displayOptions.showDetailVisualOnFullScreen;return this.hasDetailVisual&&!ce&&(1===(this.contract.detailVisualLayout||1)?(Te-=Ye,Te/=2):(ye-=Ne,ye/=2)),{width:Math.max(ye,0),height:Math.max(Te,0),scale:K}},U.prototype.getTitleFontProperties=function(W,j){var K=(0,D.N)(W,"bold"),ee=(0,D.N)(W,"italic"),ie=(0,D.N)(W,"underline"),he={color:"fontColor",family:"fontFamily",size:"fontSize"};K&&(he.bold="bold"),ee&&(he.italic="italic"),ie&&(he.underline="underline");var q=c.v.create(j);return(0,r.Zi)(W,he,q,j,void 0,S.Hf,S.o8)},U.prototype.getSubTitleFontProperties=function(W,j){var K=(0,D.N)(W,"bold"),ee=(0,D.N)(W,"italic"),ie=(0,D.N)(W,"underline"),he={color:"fontColor",family:"fontFamily",size:"fontSize"};K&&(he.bold="bold"),ee&&(he.italic="italic"),ie&&(he.underline="underline");var q=c.v.create(j);return(0,r.Zi)(W,he,q,j,S.uz,S.Zq,S.o8)},U.prototype.updateVisualTitleWrapping=function(W,j){if(this.visualTitle&&this.visualTitle.text){var K=(0,r.qk)(j),ee=new h.Y;if(ee.addAttributes({width:W}),ee.addAttributes({fontSize:"".concat(j.size.px,"px")}),ee.addAttributes({fontWeight:"".concat(j.weight)}),1===this.headerTitleMaxLines)return void(this.visualTitleWrapped=[{text:this.visualTitle.text.trim(),style:ee}]);var ie=(0,b.ql)(this.visualTitle.text,K,f.b.measureSvgTextWidth,W,this.headerTitleMaxLines,null,!0);this.visualTitleWrapped=ie.map(function(he){return{text:he.trim(),style:ee}})}},U.prototype.updateSubVisualTitleWrapping=function(W,j){if(this.visualSubTitle&&this.visualSubTitle.text){var K=(0,r.qk)(j),ee=new h.Y;if(ee.addAttributes({width:W}),ee.addAttributes({fontSize:"".concat(j.size.px,"px")}),ee.addAttributes({fontWeight:"".concat(j.weight)}),1===this.headerSubTitleMaxLines)return void(this.visualSubTitleWrapped=[{text:this.visualSubTitle.text.trim(),style:ee}]);var ie=(0,b.ql)(this.visualSubTitle.text,K,f.b.measureSvgTextWidth,W,this.headerSubTitleMaxLines,null,!0);this.visualSubTitleWrapped=ie.map(function(he){return{text:he.trim(),style:ee}})}},U.prototype.showDetailVisual=function(){return 2===this.contract.visibility||8===this.contract.visibility},U.prototype.showVisualCalcEditor=function(){return 16===this.contract.visibility},U.prototype.useStylableHeader=function(){return U.useStylableHeader(this.explorationCapabilities)},U.useStylableHeader=function(W){return W&&W.getCapabilities().visualContainerOptions.useStylableHeader},U.prototype.configureInitializationSpinner=function(W){var j=this;this.showInitializationSpinner=!0,W.catch(function(K){}).finally(function(){j.showInitializationSpinner=!1,j.contract.postProcessing=void 0})},U.VisualContainerHeaderHeight=20,U.VisualContainerFooterHeight=34,U.VisualContainerDefaultPadding=5,U.PopOutBarHeight=40,U.HeaderInTitleScaleThreshold=.9,U.VisualBannerHeight=38,U.VisualBannerPaddingTopPopOutMode=3,U.VisualHeaderBackgroundColor={R:255,G:255,B:255},U.VisualHeaderTransparency=0,U}(R.j)},416312:function(Xe,H,t){t.d(H,{IT:function(){return h},Iw:function(){return c},Vz:function(){return s},q4:function(){return r}});var e=t(973188),l=t(927903),o=t(916075),d=t(781322),v=t(696079),S=t(320319),h=function(){function u(i,a,n){this.contract=i,this.currentCanvasLayout=a,this.children=n,this.uiScale=v.U2}return u.prototype.setSelected=function(i){this.isSelected=i},Object.defineProperty(u.prototype,"id",{get:function(){return this.contract.id},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"name",{get:function(){return this.contract.name},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isHidden",{get:function(){return this.contract.isHidden},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"position",{get:function(){return this.contract.layouts.withId(this.currentCanvasLayout).position},set:function(a){this.contract.layouts.withId(this.currentCanvasLayout).position=a},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"isPositioned",{get:function(){var a=this.position;return 0!==a.width&&0!==a.height},enumerable:!1,configurable:!0}),u.prototype.startResize=function(){this.originalPosition=this.position;for(var i=0,a=this.children;i<a.length;i++)a[i].startResize()},u.prototype.getScaledPosition=function(){return this.scaledPosition||this.convertToScaledPosition(this.position)},u.prototype.convertToScaledPosition=function(i){return(0,S.vW)(i,this.uiScale,!0)},u.prototype.updateViewportForUserResize=function(i){var a=this.convertToScaledPosition((0,e.__assign)((0,e.__assign)({},i),{x:0,y:0}));this.updateStyle(a)},u.prototype.updateViewState=function(){this.scaledPosition=this.convertToScaledPosition(this.position);var i=(0,d.ED)(this.scaledPosition);this.updateStyle(i),this.setTooltip()},u.prototype.updateStyle=function(i){this.applyStyle||(this.applyStyle=new o.Y);var a=(0,l._L)(i,void 0);this.applyStyle.addAttributes(a);var n=(0,l.O$)(this.background&&this.background.colorRGB,this.border&&this.border.getBorderStyle(),this.border&&this.border.getBorderRadius(),this.border&&this.border.getPaddingFromBorder());this.applyStyle.addAttributes(n),this.applyStyle.apply()},u.prototype.setTooltip=function(){var i,a,n;this.tooltip=null===(n=null===(a=null===(i=this.contract.evaluatedObjects)||void 0===i?void 0:i.general)||void 0===a?void 0:a.altText)||void 0===n?void 0:n.toString()},u.prototype.clone=function(){var i=new u(this.contract,this.currentCanvasLayout,this.children);return _.assign(i,this)},u}();function c(u,i,a){for(var n=a&&a.visibleOnly,m=0,f=u;m<f.length;m++){var V=f[m];n&&V.isHidden||(i(V),r(V)&&c(V.children,i,a))}}function r(u){return!!u.children}function s(u){return!u.children}},793609:function(Xe,H,t){t.d(H,{u:function(){return d}});var e=t(249039),l=t(745826),o=t(691379),d=function(){function v(S){S&&(this.visible=S.show,this.position=S.position,this.color=S.color.solid.color,this.preset=S.preset,this.transparency=S.transparency,this.shadowSpread=S.shadowSpread,this.shadowBlur=S.shadowBlur,this.angle=S.angle,this.shadowDistance=S.shadowDistance)}return v.prototype.getBoxShadow=function(){if(this.visible){if(this.preset!==e.$g){var S=(0,l.X2)(this.preset,this.position);if(S)for(var h in S)this[h]=S[h]}var c=this.position===e.$S?"inset ":"",r=(0,o.TD)(this.transparency),s=Math.PI/180*this.angle;return c+Math.cos(s)*this.shadowDistance+"px "+Math.sin(s)*this.shadowDistance+"px "+this.shadowBlur+"px "+this.shadowSpread+"px "+(0,o.cD)(this.color,r)}return""},v}()},489972:function(Xe,H,t){t.d(H,{G:function(){return e},W:function(){return l}});var e=function(o){return o[o.Fields=0]="Fields",o[o.Format=1]="Format",o[o.Analytics=2]="Analytics",o}({}),l=function(o){return o[o.Fields=0]="Fields",o[o.Format=1]="Format",o}({})},196960:function(Xe,H,t){t.d(H,{$U:function(){return ee},$V:function(){return A},$z:function(){return q},A6:function(){return s},AA:function(){return w},B8:function(){return i},D6:function(){return M},Db:function(){return L},Dd:function(){return V},HI:function(){return S},HX:function(){return I},Hd:function(){return N},JM:function(){return U},JW:function(){return g},KB:function(){return _e},Kc:function(){return W},Kh:function(){return u},LN:function(){return P},LU:function(){return n},N8:function(){return o},NC:function(){return b},Q$:function(){return r},QZ:function(){return me},R6:function(){return Ee},RR:function(){return ie},SC:function(){return T},SY:function(){return c},U:function(){return Je},UL:function(){return Ye},Xj:function(){return x},Z9:function(){return a},ZF:function(){return j},az:function(){return Y},bJ:function(){return v},bN:function(){return l},bm:function(){return B},d1:function(){return K},e3:function(){return oe},eM:function(){return d},h8:function(){return Ne},h9:function(){return O},hH:function(){return f},jb:function(){return D},kw:function(){return E},lr:function(){return re},mC:function(){return y},nW:function(){return he},oK:function(){return pe},rw:function(){return h},tL:function(){return fe},tb:function(){return m},to:function(){return le},vg:function(){return F},yJ:function(){return C},yL:function(){return G},yX:function(){return p},zH:function(){return R}});var e=t(724717),l=-1,o=e.N8,d="extension",v=!0,S="page",h="report",c="group",r=12,s=12,u="x_position",i="y_position",a=960,n=720,m="#FFFFFF",f="#EAEAEA",V=0,p=0,C="#000000",b="#ffffff",y="#117865",D="#ffffff",P="#BDBDBD",F=200,E=32,w=180,x=420,R=!0,g="#C8C8C8",L=12,M=10,T=9,O="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",N=0,A=0,I=!0,B="#C8C8C8",U=9,W="Available",j="Applied",K="#C8C6C4",ee="#FFFFFF",ie="#252423",he=0,q=1280,Y=720,G=296,me=592,re=816,le=1056,Ee=320,Ne=240,Ye=10,Je=60,_e=40,pe="PT30M";function fe(){return{color:m,transparency:he}}function oe(){return{color:f,transparency:V}}},822847:function(Xe,H,t){t.d(H,{Dy:function(){return d},kj:function(){return l},wO:function(){return o}});var e=t(588376),l="CDM",o="APR",d=(0,e.i)([{value:o,displayName:function(S){return S.get("PageRefresh_APR")}},{value:l,displayName:function(S){return S.get("ChangeDetection")}}])},660404:function(Xe,H,t){t.d(H,{J:function(){return e},U:function(){return l}});var e=function(){function o(){}return o.isValidBookmark=function(d){return d&&(o.isBookmarkGroup(d)||o.isStateBookmark(d))},o.isBookmarkGroup=function(d){return void 0!==d.children},o.isStateBookmark=function(d){return!o.isBookmarkGroup(d)},o.isWebBookmark=function(d){return void 0!==d.type},o}(),l=function(o){return o.Add="AddBookmark",o.Apply="ApplyBookmark",o.Remove="RemoveBookmark",o.Move="MoveBookmark",o.Update="UpdateBookmark",o.Rename="RenameBookmark",o.Group="GroupBookmarks",o.Ungroup="UngroupBookmarks",o}({})},180511:function(Xe,H,t){t.d(H,{$$:function(){return u},$g:function(){return s},CD:function(){return c},kB:function(){return i},p1:function(){return r},yd:function(){return h}});var e=t(42298),l=t(384103),o=t(902731),d=t(365358),v=t(498342),S=t(196960);function h(a){return void 0===a&&(a=[]),(0,d.z8)((0,d.Br)(a))}function c(a){var n=S.N8;return{type:l.nKy,id:a.id,name:n,dsr:{schemaName:n,vsName:a.vsName,dbName:a.dbName,modelId:a.id,isQueryCachingEnabled:a.capacityObjectId&&void 0===a.queryCachingState?void 0:2===a.queryCachingState,lastRefreshTime:a.lastRefreshTime,isLimitedParallelQueryModel:a.datasetHost===o.GY.ASOnPrem}}}function r(a){return _.includes(Object.keys(a),"extends")}function s(a,n){if(v.fF.assertAnyValue(a,"dataSources"),v.fF.assertAnyValue(n,"query"),!_.isEmpty(a)){var m=(0,e.fV)(n);return i(_.isEmpty(m)?a:_.filter(a,function(V){return _.includes(m,V.name)}))}}function u(a,n){if(v.fF.assertAnyValue(a,"dataSources"),v.fF.assertAnyValue(n,"query"),!_.isEmpty(a)){var m=(0,e.fV)(n);return _.isEmpty(m)?_.filter(a,function(f){return!r(f)}):_.chain(a).filter(function(f){return _.includes(m,f.name)}).map(function(f){return r(f)?_.find(a,function(V){return V.name===f.extends}):f}).uniq().value()}}function i(a){return _.map(a,function(n){return n[(0,e.wx)(n)]})}},668247:function(Xe,H,t){t.d(H,{W:function(){return d},u:function(){return o}});var e=t(572909),l=t(753454),o=function(v){return v[v.Unspecified=0]="Unspecified",v[v.QnaSuggestQuestions=1]="QnaSuggestQuestions",v[v.VisualColumnRenameTerms=2]="VisualColumnRenameTerms",v}({}),d={outspacePane:{displayName:(0,e.V)("Exploration_FilterPane"),properties:{expanded:{type:{bool:!0}},visible:{type:{bool:!0}}}},section:{displayName:(0,e.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{type:{enumeration:l.Dy}}}}}},430912:function(Xe,H,t){t.d(H,{LP:function(){return e},XW:function(){return l},vA:function(){return o}});var e="filter",l={general:{properties:{requireSingleSelect:{type:{bool:!0}},isInvertedSelectionMode:{type:{bool:!0}}}}},o=function(d){return d[d.Categorical=0]="Categorical",d[d.Range=1]="Range",d[d.Advanced=2]="Advanced",d[d.Passthrough=3]="Passthrough",d[d.Visual=4]="Visual",d[d.TopN=5]="TopN",d[d.Include=6]="Include",d[d.Exclude=7]="Exclude",d[d.RelativeDate=8]="RelativeDate",d[d.Tuple=9]="Tuple",d[d.RelativeTime=10]="RelativeTime",d}({})},556871:function(Xe,H,t){t.d(H,{w:function(){return e}});var e=function(l){return l[l.Self=1]="Self",l[l.Slicer=2]="Slicer",l}({})},454084:function(Xe,H,t){t.d(H,{C7:function(){return v},js:function(){return h},yG:function(){return S}});var e=t(572909),l=t(822847),o=t(753454),d=t(908659),v={pageInformation:{displayName:(0,e.V)("PagePropertyPane_PageInformation"),properties:{pageInformationName:{displayName:(0,e.V)("Name"),type:{text:!0}},pageInformationQnaPodEnabled:{displayName:(0,e.V)("Generic_Qna"),type:{bool:!0}},pageInformationAltName:{displayName:(0,e.V)("PagePropertyPane_PageInformation_AltName_Placeholder"),type:{formatting:{altText:!0}}},pageInformationType:{displayName:(0,e.V)("Allow_As_Tooltip"),type:{bool:!0}}}},pageSize:{displayName:(0,e.V)("Canvas_Settings"),properties:{pageSizeTypes:{displayName:(0,e.V)("Type"),type:{enumeration:d.D}},pageSizeWidth:{displayName:(0,e.V)("PagePropertyPane_PageSizeWidth"),type:{numeric:!0}},pageSizeHeight:{displayName:(0,e.V)("PagePropertyPane_PageSizeHeight"),type:{numeric:!0}}}},background:{displayName:(0,e.V)("PagePropertyPane_PageBackground"),properties:{color:{displayName:(0,e.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0}}}},displayArea:{displayName:(0,e.V)("PagePropertyPane_PageAlignment"),properties:{verticalAlignment:{displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{enumeration:o.Dy}}}},outspace:{displayName:(0,e.V)("PagePropertyPane_Outspace"),properties:{color:{displayName:(0,e.V)("PagePropertyPane_PageBackgroundColor"),type:{fill:{solid:{color:!0}}}},image:{type:{image:{}}},transparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0}}}},outspacePane:{displayName:(0,e.V)("Exploration_FilterPane"),properties:{backgroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundColorTooltip")},transparency:{displayName:(0,e.V)("Transparency"),type:{numeric:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundTransparencyTooltip")},foregroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_ForegroundColorTooltip")},titleSize:{displayName:(0,e.V)("Visual_AxisTitleTextSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_TitleSizeTooltip")},searchTextSize:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_SearchTextSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_SearchTextSizeTooltip")},headerSize:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_HeaderSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_HeaderSizeTooltip")},fontFamily:{displayName:(0,e.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,e.V)("PagePropertyPane_OutspacePane_FontFamilyTooltip")},border:{displayName:(0,e.V)("Visual_Border"),type:{bool:!0},description:(0,e.V)("PagePropertyPane_OutspacePane_LeftBorderTooltip")},borderColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_BorderColorTooltip")},checkboxAndApplyColor:{displayName:(0,e.V)("Checkbox_Apply_Color_Title"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("Checkbox_Apply_Color_Description")},inputBoxColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_OutspacePane_InputBoxColorTooltip")},width:{displayName:(0,e.V)("PagePropertyPane_PageSizeWidth"),type:{integer:!0}}}},filterCard:{displayName:(0,e.V)("PagePropertyPane_FilterCards"),properties:{backgroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_BackgroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_BackgroundColorTooltip")},transparency:{displayName:(0,e.V)("Transparency"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_FilterCards_BackgroundTransparencyTooltip")},border:{displayName:(0,e.V)("Visual_Border"),type:{bool:!0},description:(0,e.V)("PagePropertyPane_FilterCards_BorderTooltip")},borderColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_BorderColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_BorderColorTooltip")},foregroundColor:{displayName:(0,e.V)("PagePropertyPane_OutspacePane_ForegroundColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_ForegroundColorTooltip")},textSize:{displayName:(0,e.V)("Visual_TextSize"),type:{integer:!0},description:(0,e.V)("PagePropertyPane_FilterCards_TextSizeTooltip")},fontFamily:{displayName:(0,e.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}},description:(0,e.V)("PagePropertyPane_FilterCards_FontFamilyTooltip")},inputBoxColor:{displayName:(0,e.V)("PagePropertyPane_FilterCards_InputBoxColor"),type:{fill:{solid:{color:!0}}},description:(0,e.V)("PagePropertyPane_FilterCards_InputBoxColorTooltip")}}},pageRefresh:{displayName:(0,e.V)("PageRefresh"),properties:{show:{displayName:(0,e.V)("Show"),type:{bool:!0}},refreshType:{displayName:(0,e.V)("AutoPageRefreshType"),type:{enumeration:l.Dy}},duration:{displayName:(0,e.V)("AutoPageRefreshInterval"),type:{duration:!0}},dialogLauncher:{displayName:(0,e.V)("AutoPageRefreshInterval"),type:{}},measure:{displayName:(0,e.V)("NewMeasureName"),type:{readOnlyText:!0}},checkEvery:{displayName:(0,e.V)("CheckEvery"),type:{readOnlyText:!0}}}},personalizeVisual:{displayName:(0,e.V)("VisualHeader_ShowPersonalizeVisualButton"),properties:{show:{displayName:(0,e.V)("Show"),type:{bool:!0}},perspectiveRef:{displayName:(0,e.V)("PersonalizeVisual_PerspectivePropertyName"),type:{reference:{perspective:!0}}},applyToAllPages:{displayName:(0,e.V)("PagePropertyPane_ApplyToAllPages"),type:{applyToAllPages:!0}}}}};function S(c){return _.filter(c,function(r){return!r.transient})}var h={pageInformation:{pageInformationName:{objectName:"pageInformation",propertyName:"pageInformationName"},pageInformationQnaPodEnabled:{objectName:"pageInformation",propertyName:"pageInformationQnaPodEnabled"},pageInformationAltName:{objectName:"pageInformation",propertyName:"pageInformationAltName"},pageInformationType:{objectName:"pageInformation",propertyName:"pageInformationType"},pageInformationDrillthroughKeepAllFilters:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughKeepAllFilters"},pageInformationDrillthroughCrossReportEnabled:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughCrossReportEnabled"},pageInformationDrillthroughFields:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughFields"},pageInformationDrillthroughLinkFieldsLinkTypes:{objectName:"pageInformation",propertyName:"pageInformationDrillthroughLinkFieldsLinkTypes"}},pageSize:{pageSizeTypes:{objectName:"pageSize",propertyName:"pageSizeTypes"},pageSizeWidth:{objectName:"pageSize",propertyName:"pageSizeWidth"},pageSizeHeight:{objectName:"pageSize",propertyName:"pageSizeHeight"}},background:{color:{objectName:"background",propertyName:"color"},image:{objectName:"background",propertyName:"image"},transparency:{objectName:"background",propertyName:"transparency"}},displayArea:{verticalAlignment:{objectName:"displayArea",propertyName:"verticalAlignment"}},outspace:{color:{objectName:"outspace",propertyName:"color"},image:{objectName:"outspace",propertyName:"image"},transparency:{objectName:"outspace",propertyName:"transparency"}},outspacePane:{backgroundColor:{objectName:"outspacePane",propertyName:"backgroundColor"},transparency:{objectName:"outspacePane",propertyName:"transparency"},foregroundColor:{objectName:"outspacePane",propertyName:"foregroundColor"},titleSize:{objectName:"outspacePane",propertyName:"titleSize"},searchTextSize:{objectName:"outspacePane",propertyName:"searchTextSize"},headerSize:{objectName:"outspacePane",propertyName:"headerSize"},fontFamily:{objectName:"outspacePane",propertyName:"fontFamily"},border:{objectName:"outspacePane",propertyName:"border"},borderColor:{objectName:"outspacePane",propertyName:"borderColor"},checkboxAndApplyColor:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},inputBoxColor:{objectName:"outspacePane",propertyName:"inputBoxColor"},width:{objectName:"outspacePane",propertyName:"width"}},filterCard:{backgroundColor:{objectName:"filterCard",propertyName:"backgroundColor"},transparency:{objectName:"filterCard",propertyName:"transparency"},border:{objectName:"filterCard",propertyName:"border"},borderColor:{objectName:"filterCard",propertyName:"borderColor"},foregroundColor:{objectName:"filterCard",propertyName:"foregroundColor"},textSize:{objectName:"filterCard",propertyName:"textSize"},fontFamily:{objectName:"filterCard",propertyName:"fontFamily"},inputBoxColor:{objectName:"filterCard",propertyName:"inputBoxColor"}},pageRefresh:{show:{objectName:"pageRefresh",propertyName:"show"},refreshType:{objectName:"pageRefresh",propertyName:"refreshType"},duration:{objectName:"pageRefresh",propertyName:"duration"},dialogLauncher:{objectName:"pageRefresh",propertyName:"dialogLauncher"},measure:{objectName:"pageRefresh",propertyName:"measure"},checkEvery:{objectName:"pageRefresh",propertyName:"checkEvery"}},personalizeVisual:{show:{objectName:"personalizeVisual",propertyName:"show"},perspectiveRef:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},applyToAllPages:{objectName:"personalizeVisual",propertyName:"applyToAllPages"}}}},753454:function(Xe,H,t){t.d(H,{Dy:function(){return v},XN:function(){return d},ab:function(){return l},we:function(){return o}});var e=t(588376),l=function(S){return S[S.Top=0]="Top",S[S.Middle=1]="Middle",S}({}),o="Top",d="Middle",v=(0,e.i)([{value:o,displayName:function(h){return h.get("Top")}},{value:d,displayName:function(h){return h.get("Middle")}}])},908659:function(Xe,H,t){t.d(H,{D:function(){return o},t:function(){return l}});var e=t(588376),l={Dynamic:"Dynamic",Standard:"Standard",Widescreen:"Widescreen",Cortana:"Cortana",Letter:"Letter",Tooltip:"Tooltip",Custom:"Custom"},o=(0,e.i)([{value:l.Widescreen,displayName:function(v){return v.get("PagePropertyPane_PageSizeType_Widescreen")}},{value:l.Standard,displayName:function(v){return v.get("PagePropertyPane_PageSizeType_Standard")}},{value:l.Letter,displayName:function(v){return v.get("PagePropertyPane_PageSizeType_Letter")}},{value:l.Tooltip,displayName:function(v){return v.get("Tooltip")}},{value:l.Custom,displayName:function(v){return v.get("Custom")}}])},222415:function(Xe,H,t){t.d(H,{Dy:function(){return v},Qy:function(){return s},Xg:function(){return r},Xz:function(){return d},d9:function(){return i},gA:function(){return o},pJ:function(){return h},xj:function(){return c},y5:function(){return a}});var e=t(204553),l=t(588376),o="Default",d="Canvas",v=(0,l.i)([{value:o,displayName:function(m){return m.get("Default")}},{value:d,displayName:function(m){return m.get("ReportPage")}}]),h="___AUTO___";function c(n,m){void 0===m&&(m=!1);var f=null==n?void 0:n.show;return!1===f||void 0===f&&m}function r(n){return!(null==n?void 0:n.show)}function s(n){return!!n&&!n.show}function i(n){if(n){var m={visualType:n.visualType};n.syncGroup&&(m.syncGroup=_.cloneDeep(n.syncGroup)),n.columnProperties&&(m.columnProperties=_.cloneDeep(n.columnProperties)),n.query&&(m.query=n.query.clone()),n.queryOptions&&(m.queryOptions=_.cloneDeep(n.queryOptions)),n.objects&&(m.objects=(0,e.d9)(n.objects)),n.vcObjects&&(m.vcObjects=(0,e.d9)(n.vcObjects)),function(n,m){n.mobileObjects&&(m.mobileObjects=(0,e.d9)(n.mobileObjects)),n.mobileVcObjects&&(m.mobileVcObjects=(0,e.d9)(n.mobileVcObjects))}(n,m),n.hasDefaultSort&&(m.hasDefaultSort=n.hasDefaultSort);var f=n.conversionSourceContext;return f&&(m.conversionSourceContext={visualType:f.visualType,query:f.query&&f.query.clone(),syncGroup:f.syncGroup}),n.display&&(m.display=_.cloneDeep(n.display)),n.autoSelectVisualType&&(m.autoSelectVisualType=n.autoSelectVisualType),m.hasUsedSmallMultiples=n.hasUsedSmallMultiples,m}}function a(n,m){if(!n)return m.resolve();var f=n.getAdapter();return f?f.enumerateObjectRepetitionAsync?f.enumerateObjectRepetitionAsync():f.enumerateObjectRepetition?m.resolve(f.enumerateObjectRepetition()):m.resolve():m.resolve()}},249039:function(Xe,H,t){t.d(H,{$S:function(){return T},$g:function(){return y},C2:function(){return g},Dy:function(){return V},F:function(){return ie},Fi:function(){return F},Jn:function(){return L},Ol:function(){return u},PE:function(){return x},Qi:function(){return C},WM:function(){return f},XQ:function(){return M},XW:function(){return q},ZS:function(){return n},Zk:function(){return re},cS:function(){return w},cy:function(){return m},d7:function(){return he},d8:function(){return i},d9:function(){return G},eJ:function(){return r},f:function(){return P},fU:function(){return Y},k8:function(){return U},oL:function(){return p},qf:function(){return R},rp:function(){return s},s_:function(){return le},sv:function(){return a},tF:function(){return D},uf:function(){return E},wv:function(){return ee},xj:function(){return me},z1:function(){return b}});var e=t(613218),l=t(498342),o=t(406057),d=t(641285),v=t(572909),S=t(588376),h=t(222415),c=t(304504),r="Back",s="Bookmark",u="Drillthrough",i="PageNavigation",a="Qna",n="WebUrl",m="ApplyAllSlicers",f="ClearAllSlicers",V=(0,S.i)([{value:r,displayName:function(Ne){return Ne.get("Generic_Back")}},{value:s,displayName:function(Ne){return Ne.get("Generic_Bookmark")}},{value:u,displayName:function(Ne){return Ne.get("Drillthrough")}},{value:i,displayName:function(Ne){return Ne.get("PageNavigation")}},{value:a,displayName:function(Ne){return Ne.get("Generic_Qna")}},{value:n,displayName:function(Ne){return Ne.get("Web_Url")}},{value:m,displayName:function(Ne){return Ne.get("ReportAppBar_ApplyAllSlicers")}},{value:f,displayName:function(Ne){return Ne.get("ReportAppBar_ClearAllSlicers")}}]);function p(Ee){return Ee.type||r}var C="",b="",y="Custom",D="Top",P="TopLeft",F="TopRight",E="Center",w="CenterLeft",x="CenterRight",R="Bottom",g="BottomLeft",L="BottomRight",M="Outer",T="Inner",O=(0,S.i)([{value:L,displayName:function(Ne){return Ne.get("Visual_LabelPosition_BottomRight")}},{value:R,displayName:function(Ne){return Ne.get("Bottom")}},{value:g,displayName:function(Ne){return Ne.get("Visual_LabelPosition_BottomLeft")}},{value:x,displayName:function(Ne){return Ne.get("Visual_TextAlignment_Right")}},{value:E,displayName:function(Ne){return Ne.get("Visual_TextAlignment_Center")}},{value:w,displayName:function(Ne){return Ne.get("Visual_TextAlignment_Left")}},{value:F,displayName:function(Ne){return Ne.get("Visual_LabelPosition_TopRight")}},{value:D,displayName:function(Ne){return Ne.get("Top")}},{value:P,displayName:function(Ne){return Ne.get("Visual_LabelPosition_TopLeft")}},{value:y,displayName:function(Ne){return Ne.get("Custom")}}]),N=(0,S.i)([{value:M,displayName:function(Ne){return Ne.get("Visual_DonutLabelPosition_Outside")}},{value:T,displayName:function(Ne){return Ne.get("Visual_DonutLabelPosition_Inside")}}]),B="Heading3",U="Heading4",K=(0,S.i)([{value:"Normal",displayName:function(Ne){return Ne.get("Normal")}},{value:"Heading2",displayName:function(Ne){return Ne.get("Heading_2")}},{value:B,displayName:function(Ne){return Ne.get("Heading_3")}},{value:U,displayName:function(Ne){return Ne.get("Heading_4")}},{value:"Heading5",displayName:function(Ne){return Ne.get("Heading_5")}},{value:"Heading6",displayName:function(Ne){return Ne.get("Heading_6")}}]),ee=B,ie="none",he={singleVisual:{visualType:"uninitializedVisual"}};(0,d._)(he);var q={title:{displayName:(0,v.V)("Visual_Title"),description:(0,v.V)("Visual_TitleDescription"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,v.V)("Visual_Title_Text"),description:(0,v.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,v.V)("Visual_Title_Heading_Attribute"),description:(0,v.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:K}},titleWrap:{displayName:(0,v.V)("Visual_Word_Wrap"),type:{bool:!0}},fontColor:{displayName:(0,v.V)("Visual_FontColor"),description:(0,v.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Title_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},alignment:{displayName:(0,v.V)("Visual_Title_Alignment"),description:(0,v.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},subTitle:{displayName:(0,v.V)("Visual_SubTitle"),description:(0,v.V)("Visual_SubTitle_Description"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},text:{displayName:(0,v.V)("Visual_Title_Text"),description:(0,v.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},heading:{displayName:(0,v.V)("Visual_Title_Heading_Attribute"),description:(0,v.V)("Visual_Title_Heading_AttributeDescription"),type:{enumeration:K}},titleWrap:{displayName:(0,v.V)("Visual_Word_Wrap"),type:{bool:!0}},fontColor:{displayName:(0,v.V)("Visual_FontColor"),description:(0,v.V)("Visual_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},alignment:{displayName:(0,v.V)("Visual_Title_Alignment"),description:(0,v.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Title_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}}}},divider:{displayName:(0,v.V)("Visual_Divider"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},ignorePadding:{displayName:(0,v.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},color:{displayName:(0,v.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},style:{displayName:(0,v.V)("Style"),type:{enumeration:e.dt}},width:{displayName:(0,v.V)("Visual_General_Properties_Width"),type:{numeric:!0}}}},spacing:{properties:{customizeSpacing:{displayName:(0,v.V)("Visual_Spacing_Customize"),type:{bool:!0}},verticalSpacing:{displayName:(0,v.V)("Visual_Spacing_Vertical"),type:{numeric:!0}},spaceBelowTitle:{displayName:(0,v.V)("Visual_Spacing_Below_Title"),type:{numeric:!0}},spaceBelowSubTitle:{displayName:(0,v.V)("Visual_Spacing_Below_SubTitle"),type:{numeric:!0}},spaceBelowTitleArea:{displayName:(0,v.V)("Visual_Spacing_Below_TitleArea"),type:{numeric:!0}}}},background:{displayName:(0,v.V)("Visual_Background"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,v.V)("Visual_Background_Color"),description:(0,v.V)("Visual_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},padding:{displayName:(0,v.V)("Visual_Padding"),properties:{top:{displayName:(0,v.V)("Visual_PaddingTop"),type:{numeric:!0}},bottom:{displayName:(0,v.V)("Visual_PaddingBottom"),type:{numeric:!0}},left:{displayName:(0,v.V)("Visual_PaddingLeft"),type:{numeric:!0}},right:{displayName:(0,v.V)("Visual_PaddingRight"),type:{numeric:!0}}}},lockAspect:{displayName:(0,v.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,v.V)("Visual_General_Properties"),properties:{x:{displayName:(0,v.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,v.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,v.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,v.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,v.V)("Visual_General_Properties_Description"),placeHolderText:(0,v.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}},allowBinnedLineSample:{displayName:(0,v.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},allowOverlappingPointsSample:{displayName:(0,v.V)("Visual_General_HighDensitySampling"),type:{bool:!0}},keepLayerOrder:{displayName:(0,v.V)("Visual_General_KeepLayerOrder"),description:(0,v.V)("Visual_General_KeepLayerOrderDescription"),type:{bool:!0}}}},border:{displayName:(0,v.V)("Visual_Border"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,v.V)("Visual_Border_Color"),type:{fill:{solid:{color:!0}}}},radius:{displayName:(0,v.V)("Visual_Radius"),type:{numeric:!0}}}},dropShadow:{displayName:(0,v.V)("Visual_DropShadow"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},preset:{displayName:(0,v.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},position:{displayName:(0,v.V)("Visual_DropShadow_Position"),type:{enumeration:N}},color:{displayName:(0,v.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,v.V)("Transparency"),type:{numeric:!0}},shadowSpread:{displayName:(0,v.V)("Visual_BubbleSize"),type:{numeric:!0}},shadowBlur:{displayName:(0,v.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},angle:{displayName:(0,v.V)("Visual_Angle"),type:{numeric:!0}},shadowDistance:{displayName:(0,v.V)("Distance"),type:{numeric:!0}}}},visualLink:{displayName:(0,v.V)("Visual_VisualLink"),suppressFormatPainterCopy:!0,properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,v.V)("Type"),description:(0,v.V)("Visual_VisualLink_Type_Description"),type:{enumeration:V}},bookmark:{displayName:(0,v.V)("Generic_Bookmark"),description:(0,v.V)("Visual_VisualLink_Bookmark_Description"),type:{reference:{bookmark:!0}}},disabledTooltip:{displayName:(0,v.V)("Disabled_Tooltip"),type:{text:!0}},drillthroughSection:{displayName:(0,v.V)("Destination"),description:(0,v.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},enabledTooltip:{displayName:(0,v.V)("Enabled_Tooltip"),type:{text:!0}},qna:{type:{qnaVisualLink:!0}},suppressDefaultTooltip:{displayName:(0,v.V)("Visual_SuppressDefaultTooltips"),type:{bool:!0}},showDefaultTooltip:{displayName:(0,v.V)("Visual_ShowTooltips"),type:{bool:!0}},navigationSection:{displayName:(0,v.V)("Destination"),description:(0,v.V)("Visual_VisualLink_Destination_Description"),type:{reference:{section:!0}}},tooltip:{displayName:(0,v.V)("Tooltip"),description:(0,v.V)("Visual_VisualLink_Tooltip_Description"),type:{text:!0}},tooltipPlaceholderText:{displayName:(0,v.V)("Tooltip_PlaceHolderText"),type:{text:!0}},webUrl:{displayName:(0,v.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},visualTooltip:{displayName:(0,v.V)("Tooltip"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},type:{displayName:(0,v.V)("Type"),description:(0,v.V)("Visual_Tooltip_Type_Description"),type:{enumeration:h.Dy}},section:{displayName:(0,v.V)("Page"),description:(0,v.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},titleFontColor:{displayName:(0,v.V)("Visual_Label_FontColor"),description:(0,v.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},valueFontColor:{displayName:(0,v.V)("Visual_Value_FontColor"),description:(0,v.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),description:(0,v.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},actionFontColor:{displayName:(0,v.V)("Visual_Action_FontColor"),description:(0,v.V)("Visual_Action_FontColor_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedTitleFontColor:{displayName:(0,v.V)("Visual_Label_FontColor"),description:(0,v.V)("Visual_Tooltip_Title_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},themedValueFontColor:{displayName:(0,v.V)("Visual_Value_FontColor"),description:(0,v.V)("Visual_Tooltip_Value_FontColorDescription"),type:{fill:{solid:{color:!0}}}}}},stylePreset:{displayName:(0,v.V)("Visual_Table_StylePreset_SliceTitle"),properties:{name:{displayName:(0,v.V)("Visual_Table_StylePreset_SliceTitle"),type:{formatting:{stylePreset:!0}}}}},visualHeader:{displayName:(0,v.V)("Visual_Header"),description:(0,v.V)("VisualHeader_Toggle_Description"),properties:{show:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("VisualHeader_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},border:{displayName:(0,v.V)("Visual_Border"),description:(0,v.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("VisualHeader_Background_TransparencyDescription"),type:{numeric:!0}},foreground:{displayName:(0,v.V)("VisualHeader_Foreground_Color"),description:(0,v.V)("VisualHeader_Foreground_ColorDescription"),type:{fill:{solid:{color:!0}}}},showVisualInformationButton:{displayName:(0,v.V)("VisualHeader_ShowVisualInformationButton"),description:(0,v.V)("VisualHeader_ShowVisualInformationButton_Description"),type:{bool:!0}},showVisualWarningButton:{displayName:(0,v.V)("VisualHeader_ShowVisualWarningButton"),description:(0,v.V)("VisualHeader_ShowVisualWarningButton_Description"),type:{bool:!0}},showVisualErrorButton:{displayName:(0,v.V)("VisualHeader_ShowVisualErrorButton"),description:(0,v.V)("VisualHeader_ShowVisualErrorButton_Description"),type:{bool:!0}},showDrillRoleSelector:{displayName:(0,v.V)("VisualHeader_ShowDrillRoleSelector"),description:(0,v.V)("VisualHeader_ShowDrillRoleSelector_Description"),type:{bool:!0}},showDrillUpButton:{displayName:(0,v.V)("VisualHeader_ShowDrillUpButton"),description:(0,v.V)("VisualHeader_ShowDrillUpButton_Description"),type:{bool:!0}},showDrillToggleButton:{displayName:(0,v.V)("VisualHeader_ShowDrillToggleButton"),description:(0,v.V)("VisualHeader_ShowDrillToggleButton_Description"),type:{bool:!0}},showDrillDownLevelButton:{displayName:(0,v.V)("VisualHeader_ShowDrillDownLevelButton"),description:(0,v.V)("VisualHeader_ShowDrillDownLevelButton_Description"),type:{bool:!0}},showDrillDownExpandButton:{displayName:(0,v.V)("VisualHeader_ShowDrillDownExpandButton"),description:(0,v.V)("VisualHeader_ShowDrillDownExpandButton_Description"),type:{bool:!0}},showPinButton:{displayName:(0,v.V)("VisualHeader_ShowPinButton"),description:(0,v.V)("VisualHeader_ShowPinButton_Description"),type:{bool:!0}},showFilterRestatementButton:{displayName:(0,v.V)("VisualHeader_ShowFilterRestatementButton"),description:(0,v.V)("VisualHeader_ShowFilterRestatementButton_Description"),type:{bool:!0}},showFocusModeButton:{displayName:(0,v.V)("VisualHeader_ShowFocusModeButton"),description:(0,v.V)("VisualHeader_ShowFocusModeButton_Description"),type:{bool:!0}},showCopyVisualImageButton:{displayName:(0,v.V)("VisualHeader_ShowCopyVisualImageButton"),description:(0,v.V)("VisualHeader_ShowCopyVisualImageButton_Description"),type:{bool:!0}},showSeeDataLayoutToggleButton:{displayName:(0,v.V)("VisualHeader_ShowSeeDataLayoutToggleButton"),description:(0,v.V)("VisualHeader_ShowSeeDataLayoutToggleButton_Description"),type:{bool:!0}},showOptionsMenu:{displayName:(0,v.V)("VisualHeader_ShowOptionsMenu"),description:(0,v.V)("VisualHeader_ShowOptionsMenu_Description"),type:{bool:!0}},showCommentButton:{displayName:(0,v.V)("VisualHeader_ShowCommentButton"),description:(0,v.V)("VisualHeader_ShowCommentButton_Description"),type:{bool:!0}},showTooltipButton:{displayName:(0,v.V)("VisualHeader_ShowVisualHeaderTooltip"),description:(0,v.V)("VisualHeader_ShowVisualHeaderTooltip_Description"),type:{bool:!0}},showPersonalizeVisualButton:{displayName:(0,v.V)("VisualHeader_ShowPersonalizeVisualButton"),description:(0,v.V)("VisualHeader_ShowPersonalizeVisualButton_Description"),type:{bool:!0}},showSmartNarrativeButton:{displayName:(0,v.V)("SmartNarratives_ToolTip"),description:(0,v.V)("VisualHeader_ShowSmartNarrativeButton_Description"),type:{bool:!0}}}},visualHeaderTooltip:{displayName:(0,v.V)("VisualHeaderTooltip"),properties:{type:{displayName:(0,v.V)("Type"),type:{enumeration:c.Dy}},section:{displayName:(0,v.V)("Page"),description:(0,v.V)("Visual_Tooltip_Section_Description"),type:{reference:{section:!0}}},text:{displayName:(0,v.V)("VisualHeaderTooltip_Text"),description:(0,v.V)("VisualHeaderTooltip_Text_Description"),type:{text:!0}},titleFontColor:{displayName:(0,v.V)("Generic_Color"),description:(0,v.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,v.V)("Visual_TextSize"),description:(0,v.V)("Visual_Tooltip_TextSizeDescription"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,v.V)("Visual_FontFamily"),description:(0,v.V)("Visual_Tooltip_FontFamilyDescription"),type:{formatting:{fontFamily:!0}}},bold:{displayName:(0,v.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,v.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,v.V)("Underline"),type:{bool:!0}},background:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}},transparency:{displayName:(0,v.V)("Transparency"),description:(0,v.V)("Visual_Tooltip_BackgroundTransparencyDescription"),type:{numeric:!0}},themedTitleFontColor:{displayName:(0,v.V)("Generic_Color"),description:(0,v.V)("VisualHeaderTooltip_FontColorDescription"),type:{fill:{solid:{color:!0}}}},themedBackground:{displayName:(0,v.V)("Background_Color"),description:(0,v.V)("Visual_Tooltip_BackgroundColorDescription"),type:{fill:{solid:{color:{nullable:!0}}}}}}}},Y=(0,o.wZ)(q);function G(Ee,Ne){if(Ee){var Ye=Ne.serializeVisualContainer(Ee);return Ne.deserializeCanvasItem(Ye,!0)}}function me(Ee){return!!Ee.display&&"hidden"===Ee.display.mode}function re(Ee,Ne){Ee.display=Ne?{mode:"hidden"}:void 0}function le(Ee){if(Ee.visualContainer)return Ee.visualContainer.config.singleVisual.visualType;l.fF.assertFail("PinData has no visualType")}},37974:function(Xe,H,t){t.d(H,{$m:function(){return o},C7:function(){return d},Zk:function(){return h},fU:function(){return v},hC:function(){return c},xj:function(){return S}});var e=t(406057),l=t(572909),o="visualContainerGroup",d={background:{displayName:(0,l.V)("Visual_Background"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}},color:{displayName:(0,l.V)("Visual_Background_Color"),description:(0,l.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},transparency:{displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}}}},lockAspect:{displayName:(0,l.V)("Visual_BasicShape_LockAspect"),properties:{show:{displayName:(0,l.V)("Visual_Show"),type:{bool:!0}}}},general:{displayName:(0,l.V)("Visual_General_Properties"),properties:{x:{displayName:(0,l.V)("Visual_General_Properties_X_Coordinate"),type:{numeric:!0}},y:{displayName:(0,l.V)("Visual_General_Properties_Y_Coordinate"),type:{numeric:!0}},width:{displayName:(0,l.V)("Visual_General_Properties_Width"),type:{numeric:!0}},height:{displayName:(0,l.V)("Visual_General_Properties_Height"),type:{numeric:!0}},altText:{displayName:(0,l.V)("Visual_General_Properties_Description"),placeHolderText:(0,l.V)("Visual_General_Properties_Description_Placeholder"),type:{formatting:{altText:!0}}}}}},v=(0,e.wZ)(d);function S(r){return r.isHidden}function h(r,s){r.isHidden=s}function c(r,s){r.displayName=s}},915382:function(Xe,H,t){t.d(H,{Iw:function(){return o},Vz:function(){return h},q4:function(){return S},rQ:function(){return v}});var e=t(249039),l=t(37974);function o(r,s,u){return d(!1,u&&u.visibleOnly,r,s)}function d(r,s,u,i){for(var a=0,n=u;a<n.length;a++){var m=n[a],f=r||c(m);s&&f||(i(m,f),S(m)&&d(f,s,m.children,i))}}function v(r){for(var s=[],u=[],i=0,a=r;i<a.length;i++){var n=a[i];h(n)?s.push(n):u.push(n)}return[s,u]}function S(r){return!!r.children}function h(r){return!r.children}function c(r){return S(r)?(0,l.xj)(r):(0,e.xj)(r.config.singleVisual)}},304504:function(Xe,H,t){t.d(H,{Dy:function(){return v},Xz:function(){return d},xv:function(){return o}});var e=t(588376),l=t(222415),o=l.gA,d=l.Xz,v=(0,e.i)([{value:l.gA,displayName:function(h){return h.get("Text")}},{value:d,displayName:function(h){return h.get("ReportPage")}}])},180764:function(Xe,H,t){t.d(H,{g:function(){return V}});var e=t(438919),l=t(365358),o=t(498342),d=t(382088),v=t(495130),S=t(147883),h=t(658392),c=t(512322),r=t(466120),s=t(236211),u=t(155167),i=t(89322),a=t(817389),n=t(373973),m=t(669266),f=t(979868),V=function(){function p(C,b,y,D){for(var P in void 0===D&&(D=!1),this.defn=C,this.projections=b,this.expansionStates=y||[],this._isDrillDisabled=D,b)_.isEmpty(b[P].activeProjectionRefs)||this.ensureActiveItems(P)}return Object.defineProperty(p.prototype,"isDrillDisabled",{get:function(){return this._isDrillDisabled},enumerable:!1,configurable:!0}),p.prototype.ensureExpansionState=function(C,b){var y=this;o.fF.assertNonEmpty(C,"roles");var D=(0,v.Vt)(this.expansionStates,C);if(!D){o.fF.assert(function(){return!y._isDrillDisabled},"should not ensure expansion state when drill is disabled"),D=new v.cb(C,b);var P=this.getRolesUniqueProjectionRefs(C),F=this.getRolesUniqueActiveProjectionsRefs(C,b.canCollapseRoot);D.updateLevels(P,F.length),this.expansionStates.push(D)}return o.fF.assert(function(){return!!D.supportsMerge==!!b.supportsMerge}),D},p.prototype.add=function(C,b,y){var D;o.fF.assertValue(C,"expr");var P=(y=y||{}).exprName,F=y.fieldIndex,E=y.parameter,w=y.indexInParameter,x=y.nativeReferenceName,R=y.isHidden,g=this.defn.selectNameOf(C),L=!!g;g||(g=this.addSelect(C,P,x)),this.getRoleProjections(b)||(this.projections[b]=new S.NQ([]));var M={queryRef:g};R&&(M.hidden=R);var T=0,O=this.projections[b];if(E){var N=null!=w?w:null!==(D=E.length)&&void 0!==D?D:0;O.addProjection(M,{parameter:E,indexInParameter:N}),T=O.getParameterProjectionIndex(E,N),this.addNewQueryRefToActiveProjectionRefsIfNeeded(b,g,T)}else{var I=O.all();null==F||F>I.length?(O.addProjection(M),T=I.length-1):(O.addProjection(M,{fieldIndex:F}),T=O.getColumnProjectionIndex(F),this.addNewQueryRefToActiveProjectionRefsIfNeeded(b,g,T))}return this.updateExpansionStates(b,function(U,W){return U.addLevel(g,W+T)}),L&&this.resetHiddenState(g),T},p.prototype.toggleHidden=function(C){for(var b in this.projections)this.projections[b].toggleHidden(C)},p.prototype.addParameter=function(C,b,y){o.fF.assertValue(C,"expr"),this.getRoleProjections(b)||(this.projections[b]=new S.NQ([]));var D=this.projections[b];return null==y&&(y=D.getFieldCount()),D.addFieldParameter({expr:C,index:y,length:void 0}),y},p.prototype.removeParameterBySQExpr=function(C){var b=this.projections;for(var y in b){var D=b[y],P=D.findParameterBySQExpr(C);_.isEmpty(P)||D.removeFieldParameters(P)}},p.prototype.removeParameter=function(C){var b=!1,y=this.projections;for(var D in y)b=this.removeParameterByRoleName(C,D)||b;return b},p.prototype.removeParameterByRoleName=function(C,b){var y=this.projections[b];return null==y?void 0:y.removeFieldParameters([C])},p.prototype.getParameterByFieldIndex=function(C,b){var y=this.projections[b];return null==y?void 0:y.getParameterByFieldIndex(C)},p.prototype.getResolveParameterResultsByRole=function(){var C=this,b={},y=this.projections;if(y)for(var D in y){var P=this.getQueryFieldParametersByRole(D);if(!_.isEmpty(P))for(var F=b[D]=[],E=0,w=P;E<w.length;E++){var x=w[E],g=y[D].getParameterProjections(x).map(function(L){return{expr:C.defn.select().withName(L.queryRef).expr,alias:void 0}});F.push({parameter:x,result:g})}}return b},p.prototype.removeExpr=function(C,b,y,D){if(b){for(var P=this.defn.select(),F=!1,E=P.length-1;E>=0;--E){var w=P[E].expr;if(p.areEqualIgnoringAggregate(w,C,y)){if(!this.removeAllProjectionsForExpr(w,D))return!1;F=!0}}return F}return this.removeAllProjectionsForExpr(C,D)},p.prototype.getQueryRefByProjectionIndex=function(C,b){var y=this.projections[C];if(y){var D=y.getQueryRefs();if(b<D.length)return D[b]}},p.prototype.getQueryRef=function(C,b){o.fF.assert(function(){return b&&(void 0!==b.fieldIndex||void 0!==b.parameter&&void 0!==b.indexInParameter)},"Index or parameter should be defined");var y=b.fieldIndex,D=b.parameter,P=b.indexInParameter,F=(0,S.cY)(this.projections,C);if(F)return D?F.getParameterProjections(D)[P].queryRef:y>=F.getFieldCount()?void 0:F.getColumnProjection(y).queryRef},p.prototype.removeProjection=function(C,b){o.fF.assert(function(){return b&&(void 0!==b.fieldIndex||void 0!==b.parameter&&void 0!==b.indexInParameter)},"Index or parameter should be defined"),o.fF.assertValue(this.projections[C],"expected projections to be defined for given role");var y=b.fieldIndex,D=b.parameter,P=b.indexInParameter,F=this.getQueryRef(C,b);if(!F)return!1;var E=this.defn.select().withName(F);if(!E)return!1;var g,L,w=E.expr,x=this.projections[C],R=x.all();D?(g={parameter:D,indexInParameter:P},L=x.getParameterProjectionIndex(D,P)):(g={fieldIndex:y},L=x.getColumnProjectionIndex(y)),x.removeProjection(g);var M=this.projections[C].activeProjectionRefs;_.pull(M,F);var T=_.isEmpty(R);return T&&_.isEmpty(x.getFieldParameters())?delete this.projections[C]:!T&&M&&0===M.length&&M.push(R[Math.max(0,L-1)].queryRef),this.updateExpansionStates(C,function(O,N){return O.removeLevel(N+L)}),this.isUsed(F)||this.removeExpr(w,!1),!0},p.prototype.moveProjection=function(C,b,y,D){if(b===y||b<0||y<0)return!1;var P,F=this.projections[C];F&&(P=F.all());var E=F.convertFieldIndexToProjectionIndex(y),w=F.convertFieldIndexToProjectionIndex(b),x=F.convertFieldIndexToProjectionIndex(y+D);if(!P||x>P.length)return!1;var R=this.projections[C].activeProjectionRefs,g=F.moveFields(b,y,D),L=E;if(y>b&&(L=x),R)if(L<R.length){var M=_.take(P,F.convertFieldIndexToProjectionIndex(y+1));this.projections[C].activeProjectionRefs=_.map(M,function(A){return A.queryRef})}else if(w<R.length){for(var T=0,O=g;T<O.length;T++)_.pull(R,O[T].queryRef);0===R.length&&R.push(P[0].queryRef)}return this.updateExpansionStates(C,function(A,I){return A.moveLevels(I+w,I+E,D)}),!0},p.prototype.setAggregate=function(C,b,y,D){return this.updateExpression(C,b,function(P){return(0,s.k)(P,y)},D)},p.prototype.removeAggregate=function(C,b,y,D){return this.updateExpression(C,b,function(P){return(0,a.n)(P,y)},D)},p.prototype.setPercentOfGrandTotal=function(C,b,y){return this.updateExpression(C,b,function(P){return(0,r.F)(P)},y)},p.prototype.removePercentOfGrandTotal=function(C,b,y){return this.updateExpression(C,b,function(P){return(0,n.H)(P)},y)},p.prototype.setPercentOfRoleTotal=function(C,b,y){return this.updateExpression(b,y,function(P){return(0,i.z)(P,C)})},p.prototype.removePercentOfRoleTotal=function(C,b){return this.updateExpression(C,b,function(D){return(0,u.E)(D)})},p.prototype.updateVisualCalculation=function(C,b,y,D){var P=this.getQueryRef(b,{fieldIndex:C}),F=this.defn.select().withName(P);return!(!F||!(0,f.jX)(F.expr)||!this.updateExpression(b,C,function(E){return(0,c.eu)(E,D,y)}))},p.prototype.orderBy=function(C){o.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.orderBy(C)},p.prototype.removeOrderBy=function(C){o.fF.assertValue(this.defn,"this.defn"),this.defn=this.defn.removeOrderBy(C)},p.prototype.removeUnusedOrderBy=function(){o.fF.assertValue(this.defn,"this.defn");for(var C=this.defn,y=0,D=C.orderBy();y<D.length;y++){var F=D[y].expr;C.selectNameOf(F)||(this.defn=C.removeOrderBy(F))}},p.prototype.addTransform=function(C,b,y){o.fF.assertValue(C,"transformPlugin"),o.fF.assertAnyValue(b,"parameters"),o.fF.assertValue(this.defn,"this.defn"),o.fF.assertValue(C,"transformPlugin");for(var D={},P=this.defn.transforms(),F=0,E=P;F<E.length;F++)D[E[F].name]=!0;var x=(0,d.zE)(D,C.name);this.defn=this.defn.transforms(P.concat([{algorithm:C.name,name:x,input:{parameters:b},output:void 0}]));for(var g=C.name===e.Gr.KMeansClustering.name&&y.grouping&&y.grouping.cluster,L=0,M=C.outputRoles;L<M.length;L++){var T=M[L],O=T.name;g&&(O=y.grouping.cluster.clusteringRole),this.add((0,c.hu)(T.algorithmRole),O,{exprName:T.columnName?T.columnName:T.algorithmRole})}return x},p.prototype.removeTransform=function(C,b){o.fF.assertValue(C,"transformPlugin"),o.fF.assertValue(b,"transformName"),o.fF.assertValue(this.defn,"this.defn");var y=_.find(this.defn.transforms(),function(E){return E.name===b});if(y){for(var D=0,P=C.outputRoles;D<P.length;D++)this.removeExpr((0,c.hu)(P[D].algorithmRole),!1);this.defn=this.defn.removeTransform(y)}},p.prototype.updateTransform=function(C,b){o.fF.assertValue(C,"transformName"),o.fF.assertAnyValue(b,"parameters"),o.fF.assertValue(this.defn,"this.defn");var y=_.find(this.defn.transforms(),function(D){return D.name===C});y&&(y.input.parameters=b)},p.prototype.clone=function(){return new p(this.defn,(0,S.d9)(this.projections),(0,v.d9)(this.expansionStates),this._isDrillDisabled)},p.prototype.equals=function(C){return!!(0,m.C6)(this.defn,C.defn)&&_.isEqual(this.projections,C.projections)&&_.isEqual(this.expansionStates,C.expansionStates)&&this._isDrillDisabled===C.isDrillDisabled},p.prototype.ensureDrillableRoles=function(C){o.fF.assert(function(){return!!C},"ensureDrillableRoles drillableRoleNames");for(var b=[],y=0,D=C;y<D.length;y++){var P=D[y];this.ensureActiveItems(P)&&b.push(P)}return b},p.prototype.ensureActiveItems=function(C){var b=this.projections[C];if(b){var y=b.all();if(!_.isEmpty(y)&&_.isEmpty(b.activeProjectionRefs)&&!this._isDrillDisabled)return b.activeProjectionRefs=[y[0].queryRef],!0}},p.prototype.changeDrillStateValue=function(C,b,y){for(var D=0,P=C;D<P.length;D++){var F=P[D],E=this.projections[F];if(E)if(b)E.activeProjectionRefs=void 0;else{var w=_.uniqBy(E.all(),function(g){return g.queryRef}),x=_.uniq(E.activeProjectionRefs),R=null==y?void 0:y[F];(R||w.length||x.length)&&(E.activeProjectionRefs=null!=R?R:x[0]?[x[0]]:[w[0].queryRef])}}b&&(this.expansionStates=[]),this._isDrillDisabled=b},p.prototype.toggleShowAll=function(C){var b=this.projections[C];b&&(b.showAll=!b.showAll)},p.prototype.hasShowAll=function(){return!_.isEmpty(this.projections)&&_.some(this.projections,function(C){return C.showAll})},p.prototype.roleContainsExpr=function(C,b){var y=this.projections[C],D=y&&y.all();if(_.isEmpty(D))return!1;for(var F=0,E=this.defn.select();F<E.length;F++)for(var w=E[F],x=0,R=D;x<R.length;x++)if(R[x].queryRef===w.name&&(0,m.fS)(b,w.expr))return!0;return!1},p.prototype.getRoleNameForExpr=function(C){var b=this.projections;for(var y in b){var D=this.tryGetExprs(y);if(D&&D.length>0)for(var P=0,F=D;P<F.length;P++)if((0,m.fS)(C,F[P]))return y;var w=b[y].getFieldParameters();if(!_.isEmpty(w))for(var x=0,R=w;x<R.length;x++)if((0,m.fS)(R[x].expr,C))return y}},p.prototype.tryGetExpr=function(C,b){var y,D=this.getRoleProjections(C);if(D)return null===(y=(0,h.SA)(this.defn,D[b]))||void 0===y?void 0:y.expr},p.prototype.tryGetExprs=function(C){var b=(0,h.XP)(this.defn,this.projections,C);if(void 0!==b)return _.map(b,function(y){return y.expr})},p.prototype.tryGetFieldExprs=function(C){return(0,h.r)(this.defn,this.projections,C)},p.prototype.getUniqueQueryRefs=function(){var C=_.values(this.projections);return _.chain(C).map(function(b){return b.getQueryRefs()}).flatten().uniq().value()},p.prototype.getUniqueQueryFields=function(){var C=this,b=_.keys(this.projections);return _.chain(b).map(function(y){return C.tryGetFieldExprs(y)}).flatten().uniqWith(p.isEqualQueryFields).value()},p.prototype.hasProjections=function(){return _.values(this.projections).some(function(b){return b.all().length>0})},p.prototype.currentDrillMode=function(C){var b=this.getRoleProjections(C);if(!_.isEmpty(b)){var y=this.projections[C];if(y){var D=y.activeProjectionRefs;if(!_.isEmpty(D)){if(D.length>1)return 2;if(D[0]!==b[0].queryRef)return 3}}}},p.prototype.addSelect=function(C,b,y){var D=this.defn;this.defn=D=D.addSelect(C,b,y);var P=D.select(),F=P.length-1;return o.fF.assert(function(){return(0,m.fS)(C,P[F].expr,!1,!0)},"Failed to find new expr in the query."),P[F].name},p.isEqualQueryFields=function(C,b){return C.isFieldParameter||b.isFieldParameter||void 0===C.queryName||void 0===b.queryName?C.isFieldParameter===b.isFieldParameter&&(0,m.fS)(C.expr,b.expr):C.queryName===b.queryName},p.prototype.updateExpansionStates=function(C,b){if(!_.isEmpty(this.expansionStates)){_.remove(this.expansionStates,function(E){return!E.supportsMerge});var y=(0,v.D5)(this.expansionStates,C);if(y)if(_.isEmpty(this.projections[C])||_.isEmpty(this.projections[C].all()))_.remove(this.expansionStates,function(E){return E===y});else{var D=_.takeWhile(y.roles,function(E){return E!==C}),P=this.getRolesUniqueActiveProjectionsRefs(D,y.canCollapseRoot).length;b(y,P);var F=y.getVisibleDescendentsDepth(y.root,-1);this.setActiveProjections(y.roles,F)}}},p.prototype.resetHiddenState=function(C){for(var b in this.projections)this.projections[b].resetHiddenState(C)},p.prototype.removeAllProjectionsForExpr=function(C,b){var y,D=this.defn,P=D.selectNameOf(C);if(!P)return!1;_.remove(this.expansionStates,function(R){return!R.supportsMerge});var F=this.projections,E=function(g){var L=(0,v.D5)(w.expansionStates,g),M=F[g],T=M.all(),O=L&&_.takeWhile(L.roles,function(Y){return Y!==g}),N=O&&w.getRolesUniqueActiveProjectionsRefs(O,L&&L.canCollapseRoot).length;if(b)for(var A=w.getQueryFieldParametersByRole(g),B=0,U=_.filter(A,function(Y){return(0,m.fS)(Y.expr,b)});B<U.length;B++)for(var W=U[B],j=W.length-1;j>=0;j--){var K={indexInParameter:j,parameter:W},ee=M.getParameterProjectionIndex(W,j);(null===(y=T[ee])||void 0===y?void 0:y.queryRef)===P&&(M.removeProjection(K),w.updateActiveProjectionRefAndExpansionState(g,P,N,ee))}else for(ee=T.length-1;ee>=0;ee--){var ie=M.convertProjectionIndexToFieldIndex(ee),he=M.getColumnProjection(ie);(null==he?void 0:he.queryRef)===P&&(M.removeProjection(K={fieldIndex:ie}),w.updateActiveProjectionRefAndExpansionState(g,P,N,ee))}if(0!==T.length&&L){var q=L.getVisibleDescendentsDepth(L.root,-1);w.setActiveProjections(L.roles,q)}},w=this;for(var x in F)E(x);return this.isUsed(P)||(this.defn=D.removeSelect(C).removeOrderBy(C)),!0},p.prototype.updateActiveProjectionRefAndExpansionState=function(C,b,y,D){var F=this.projections[C],E=F.all(),w=(0,v.D5)(this.expansionStates,C),x=F.activeProjectionRefs;_.pull(x,b),x&&_.isEmpty(x)&&!_.isEmpty(E)&&x.push(E[Math.max(0,D-1)].queryRef),w&&w.removeLevel(y+D)},p.prototype.updateExpression=function(C,b,y,D){var P,F=this.projections[C];if(F&&(P=F.all()),!P||b>=P.length)return!1;var E=this.defn,w=P[b].queryRef,x=E.select(),R=(0,l.g2)(x,w),g=x[R].expr,L=y(g),M=E.selectNameOf(L);return M?(F.updateQueryRef(b,M),this.isUsed(w)||(this.defn=E.removeSelect(g)),!0):(this.getUsageCount(w)>1?F.updateQueryRef(b,this.addSelect(L,void 0,D)):this.defn=E.setSelectAt(R,L,D),!0)},p.prototype.isUsed=function(C){return this.getUsageCount(C)>0},p.prototype.getUsageCount=function(C){var b=0,y=this.projections;for(var D in y){var P=y[D].all();b+=_.filter(P,function(F){return F.queryRef===C}).length}return b},p.prototype.getRoleProjections=function(C){o.fF.assertValue(C,"roleName");var b=(0,S.cY)(this.projections,C);if(b)return b.all()},p.prototype.addNewQueryRefToActiveProjectionRefsIfNeeded=function(C,b,y){var D=this.getRoleProjections(C),P=this.projections[C].activeProjectionRefs;P&&(P.length>1&&y<P.length?P.splice(y,0,b):1===P.length&&0===y&&D.length>1&&D[1].queryRef===P[0]&&P.splice(0,1,b))},p.prototype.getRolesProjectionRefs=function(C){for(var b=[],y=0,D=C;y<D.length;y++){var F=this.projections[D[y]];if(F){var E=_.map(F.all(),function(w){return w.queryRef});b.push.apply(b,E||[])}}return b},p.prototype.getRolesUniqueProjectionRefs=function(C){return _.uniq(this.getRolesProjectionRefs(C))},p.prototype.getQueryFieldParametersByRole=function(C){if(!_.isEmpty(this.projections)){var b=this.projections[C];return b?b.getFieldParameters():[]}},p.prototype.getParameterProjectionExprs=function(C){var b=this,y=[],D=this.projections;for(var P in D)for(var F=D[P],w=0,x=F.findParameterBySQExpr(C);w<x.length;w++){var R=x[w],L=F.getParameterProjections(R).map(function(T){return b.defn.select().withName(T.queryRef).expr});y.push({exprs:L,parameter:R})}return y},p.prototype.getQueryFieldParameters=function(){if(_.isEmpty(this.projections))return[];var C=[];for(var b in this.projections){var y=this.projections[b];y&&C.push.apply(C,y.getFieldParameters())}return C},p.prototype.hasQueryFieldParameters=function(){return!_.isEmpty(this.getQueryFieldParameters())},p.prototype.hasVisualCalcExpressions=function(){return this.defn.select().some(function(C){return(0,f.jX)(C.expr)})},p.prototype.hasSparklineExpressions=function(){return this.defn.select().some(function(C){return(0,f.tO)(C.expr)})},p.prototype.hasHiddenProjections=function(){for(var C in this.projections){var b=this.getRoleProjections(C);if(_.some(b,function(y){return y.hidden}))return!0}return!1},p.prototype.resetExpansionStates=function(){this.expansionStates=[]},p.prototype.getRolesActiveProjectionsRefs=function(C,b,y){var D=this;void 0===y&&(y=!1);for(var P=[],F=b||_.some(C,function(M){return D.projections[M]&&!_.isEmpty(D.projections[M].activeProjectionRefs)}),E=function(T){var O=w.projections[T];if(!O)return"continue";var N=F?O.activeProjectionRefs:O.getQueryRefs();if(!N)return"continue";if(y){var A=_.map(O.projected(),function(U){return U.queryRef}),I=_.filter(N,function(U){return A.includes(U)});P.push.apply(P,I)}else P.push.apply(P,N);var B=O.all();return B.length!==N.length&&_.uniqBy(B,function(U){return U.queryRef}).length!==_.uniq(N).length?"break":void 0},w=this,x=0,R=C;x<R.length&&"break"!==E(R[x]);x++);return P},p.prototype.getRolesUniqueActiveProjectionsRefs=function(C,b){return _.uniq(this.getRolesActiveProjectionsRefs(C,b))},p.areEqualIgnoringAggregate=function(C,b,y){return(0,m.fS)((0,a.n)(C,y),(0,a.n)(b,y))},p.prototype.setActiveProjections=function(C,b){if(o.fF.assertNonEmpty(C,"roles"),!this._isDrillDisabled){var y=this.projections;o.fF.assertValue(y,"projections");var D=(0,v.Vt)(this.expansionStates,C);D&&D.pinLevels(b);for(var P=0,F=C;P<F.length;P++){var E=F[P];if(b>0){var w=y[E]&&y[E].all();o.fF.assertValue(w,"roleProjections");var g,x=_.uniqBy(w,function(L){return L.queryRef});g=b>=x.length?x:_.take(x,b),y[E].activeProjectionRefs=_.map(g,function(L){return L.queryRef}),b-=g.length}else y[E]&&(y[E].activeProjectionRefs=[])}}},p.prototype.areAllProjectionsHidden=function(){for(var C in this.projections){var b=this.getRoleProjections(C);if(_.some(b,function(y){return!y.hidden}))return!1}return!0},p}()},575884:function(Xe,H,t){function e(l){switch(l){case 0:return"Default";case 1:return"DataFilter";case 2:return"HighlightFilter";case 3:return"NoFilter"}}t.d(H,{B:function(){return e}})},104965:function(Xe,H,t){t.d(H,{Hg:function(){return h}});var e=t(365358),l=t(756846);function o(c,r){var s=function(c,r){for(var s=[],u=[],i=c.visualContainers.slice(),a=0,n=r.visualContainers;a<n.length;a++){var m=n[a];if(void 0===m.id)s.push(m);else{var f=(0,e.Jq)(i,m.id);if(f){var V=i.indexOf(f);i.splice(V,1),(0,l.fS)(f,m)||u.push(m)}else s.push(m)}}return{added:s,updated:u,removed:i}}(c,r);return{added:s.added,updated:s.updated,removed:s.removed,page:r,originalPage:c}}function h(c,r){var s=function(c,r){for(var s=[],u=[],i=c.slice(),a=0,n=r.length;a<n;a++){var m=r[a];if(void 0===m.id)s.push(m);else{var f=(0,e.Jq)(i,m.id);if(f){var V=i.indexOf(f);i.splice(V,1);var p=o(f,m);u.push(p)}else s.push(m)}}return{added:s,updated:u,removed:i}}(c.sections,r.sections),u=function(c,r){for(var s=[],u=[],i=r||[],a=c?c.slice():[],n=0,m=i;n<m.length;n++){var f=m[n];if(void 0===f.id)s.push(f);else{var V=f.id,p=_.findIndex(a,function(C){return C.id===V});p>=0?(u.push({updatedPod:f,originalPod:a[p]}),a.splice(p,1)):s.push(f)}}return{added:s,removed:a,updated:u}}(c.pods,r.pods);return{pages:s,pods:u}}},870860:function(Xe,H,t){t.d(H,{G:function(){return e}});var e={withData:!0,excludeHighContrastTheme:!0,forSave:!0}},827562:function(Xe,H,t){t.d(H,{NO:function(){return c},R$:function(){return h},RT:function(){return v},Wp:function(){return d},oZ:function(){return S},ox:function(){return l},yM:function(){return o}});var e=t(498342),l=-1,o=0,d=-1e7,v=1e7,S=1e3,h=5;function c(){return new r}var r=function(){function s(){}return s.prototype.getContainerListOrders=function(u,i){for(var a={},n=0,m=u;n<m.length;n++){var f=m[n];a[f.name]=i(f)}return a},s.prototype.getSortedContainerNames=function(u,i){var a=i?"asc":"desc";return _.chain(u).keys().orderBy(function(n){return u[n]},a).value()},s.prototype.settingListOrder=function(u,i,a,n){for(var m=0,f=i;m<f.length;m++)u[f[m]]=a,a+=n;return a},s.prototype.checkIfExtremitiesSurpassed=function(u,i,a){var n,m,f,V;return a?(n=o,m=v,f=i[_.head(u)]<n,V=i[_.last(u)]>m):(n=l,m=d,f=i[_.head(u)]>n,V=i[_.last(u)]<m),!(!f&&!V)},s.prototype.shouldNormalizeListOrder=function(u,i){var a=this.getSortedContainerNames(u,i);if(this.checkIfExtremitiesSurpassed(a,u,i)||_.some(u,function(y){return void 0===y}))return!0;for(var n,m=0,f=a;m<f.length;m++){var p=u[f[m]];if(null!=n){var C=p>=0==n>=0;if(Math.abs(p-n)<h&&C)return!0}n=p}return!1},s.prototype.normalizeListOrder=function(u,i){var a=this.getSortedContainerNames(u,i),n=i?v-o:d-l,m=i?Math.min(n/a.length,S):Math.max(n/a.length,-S);e.fF.assert(function(){return Math.abs(m)>=h},"Too many visuals to normalize list orders");var f=i?o:l,V={};return f=this.settingListOrder(V,a,f,m),V},s}()},42920:function(Xe,H,t){t.d(H,{EN:function(){return y},zN:function(){return R}});var e=t(973188),l=t(498342),o=t(781322),d=t(382088),v=t(447751),S=t(273269),h=t(269865),c=t(204553),r=t(572909),s=t(686311),u=t(726501),i=t(411429),a=t(446731),n=t(772308),m=t(100112),f=t(222415),V=t(855854),p=t(184251),C=function(){function M(T,O,N,A,I,B,U){this.schema=T,this.locOptions=O,this.visualTimeSynchronizationService=N,this.networkAvailabilityService=A,this.displayNameServiceVisitor=I,this.localizationService=B,this.displayOptions=U}return M.prototype.visitIn=function(T){var O=this;l.fF.assertValue(T,"inPattern");var N=T.args,I=_.map(T.values,function(j){return _.map(j,function(K,ee){var ie=(0,a.B)(N[ee]),he=ie&&ie.getMetadata(O.schema);return(0,s.WU)(K.value,he&&he.format)}).join(" ")}),B=(0,V.g)(I,"Generic_Or",this.locOptions);if(this.displayOptions&&this.displayOptions.includeFieldNamesInFilter){var W=_.map(T.args,function(j){return(0,u.Vn)(j,O.displayNameServiceVisitor)}).join(" ");return(0,v.W)(this.locOptions.stringResourceProvider.get("VisualTitle_Is_Template"),W,B)}return B},M.prototype.visitBetween=function(T){return(0,p.qX)(T)},M.prototype.visitRelativeDateRange=function(T){var O=this;return(0,p.x0)(T,function(I,B){return O.locOptions.stringResourceProvider.format(I,B)},this.visualTimeSynchronizationService.getAnchorTime(),this.networkAvailabilityService.isNetworkAvailable())},M.prototype.visitTopN=function(T){},M.prototype.visitCompare=function(T){return(0,p.sl)(T,this.schema,void 0,this.localizationService)},M.prototype.visitAdvanced=function(T){return(0,p.c8)(T,this.schema,this.localizationService)},M.prototype.visitComplex=function(T){},M.prototype.visitComposite=function(T){},M.prototype.visitHierarchical=function(T){},M}(),b=t(979868);function y(M,T,O,N,A,I,B){return new D(M,T,O,N,A,I,B)}var D=function(){function M(T,O,N,A,I,B,U){this.aggrOps=T,this.visualPluginService=O,this.visualTimeSynchronizationService=N,this.localizationService=A,this.networkAvailabilityService=I,this.filterOverlayRestatementVisitorFactoryService=B,this.locOptions=null!=U?U:{aggregateDisplayNames:{Sum:this.localizationService.get("DisplayName_Sum"),Avg:this.localizationService.get("DisplayName_Avg"),Count:this.localizationService.get("DisplayName_Count"),Min:this.localizationService.get("DisplayName_Min"),Max:this.localizationService.get("DisplayName_Max"),CountNonNull:this.localizationService.get("DisplayName_CountNonNull"),Median:this.localizationService.get("DisplayName_Median"),StandardDeviation:this.localizationService.get("DisplayName_StandardDeviation"),Variance:this.localizationService.get("DisplayName_Variance"),DateMin:this.localizationService.get("DisplayName_DateMin"),DateMax:this.localizationService.get("DisplayName_DateMax"),StringMin:this.localizationService.get("DisplayName_StringMin"),StringMax:this.localizationService.get("DisplayName_StringMax")},showValueAsDisplayNames:{PercentOfGrandTotal:this.localizationService.get("DisplayName_QuickCalc_PercentOfGrandTotal"),PercentOfGrandTotalTooltip:this.localizationService.get("DisplayName_QuickCalc_PercentOfGrandTotalTooltip"),PercentileExclusive:this.localizationService.get("DisplayName_QuickCalc_PercentileExclusive"),PercentileInclusive:this.localizationService.get("DisplayName_QuickCalc_PercentileInclusive")},qualifiedDisplayNameTemplate:this.localizationService.get("Field_Tooltip"),stringResourceProvider:this.localizationService}}return M.prototype.getOriginalDisplayName=function(T,O,N,A){if((0,i.Q)(T,O))return(0,u.Vn)((0,i.Q)(T,O),new P(O,this.locOptions,this.aggrOps,N,this.visualTimeSynchronizationService,this.networkAvailabilityService,this.localizationService,A))},M.prototype.getDisplayName=function(T,O,N,A,I,B){if(I&&A){var U=I[A];if(U&&U.displayName)return U.displayName}return this.getOriginalDisplayName(T,O,N,B)},M.prototype.createUniqueNativeReference=function(T,O,N,A,I,B,U){var W=(0,e.__assign)({includeVariationSource:!0,hierarchyNameDelimiter:" ",includeHierarchyName:!0},null!=U?U:{}),j=this.getDisplayName(T,O,A,I,B,W);if(null==N)return j;var K=new Set(N.defn.select().map(function(ee){return ee.nativeReferenceName}).filter(function(ee){return null!=ee}));return(0,d.zE)(K,j)},M.prototype.getQualifiedDisplayName=function(T,O,N,A){if((0,i.Q)(T,O))return F.run(T,O,this.locOptions,this.aggrOps,N,this.visualTimeSynchronizationService,this.networkAvailabilityService,this.localizationService,A)},M.prototype.getFilterRestatement=function(T,O,N,A){l.fF.assertValue(T,"semanticFilter");var I=(0,n.zz)(T,O);if(I&&I[0])return l.fF.assert(function(){return 1===I.length},"More than one filter Pattern in provided semanticFilter"),(0,n.Vn)(I[0],new C(O,this.locOptions,this.visualTimeSynchronizationService,this.networkAvailabilityService,new P(O,this.locOptions,this.aggrOps,N,this.visualTimeSynchronizationService,this.networkAvailabilityService,this.localizationService,A),this.localizationService,A))},M.prototype.getFilterRestatementForOverlay=function(T,O,N,A,I){var B=this;l.fF.assertValue(T,"filterData");var U=(0,n.zz)(T.filter,O);return U&&U[0]?_.without(_.flatten(U.map(function(W){if(W.condition&&W.condition.complex&&T.restatement)return l.fF.assert(function(){return 1===U.length},"Filter data with a restatement is not expected to have more than one filter pattern."),{fieldName:"",restatements:[T.restatement],fieldNameToolTip:""};var j=B.filterOverlayRestatementVisitorFactoryService.create(O,B.locOptions,N,B,T,A,I);return(0,n.Vn)(W,j)})),void 0):[]},M.prototype.getQualifiedFilterRestatement=function(T,O,N,A){l.fF.assertValue(T,"semanticFilter");var I=(0,n.zz)(T,O);if(I&&I[0])return(0,n.Vn)(I[0],new C(O,this.locOptions,this.visualTimeSynchronizationService,this.networkAvailabilityService,new F(O,this.locOptions,this.aggrOps,N,this.visualTimeSynchronizationService,this.networkAvailabilityService,this.localizationService,A),this.localizationService,A))},M.prototype.getVisualSubTitle=function(T,O,N,A,I){l.fF.assertValue(T,"displayNameService.getVisualTitle - visualConfig"),l.fF.assertValue(O,"displayNameService.getVisualTitle - schema"),l.fF.assertAnyValue(N,"displayNameService.getVisualTitle - visualCapabilities"),l.fF.assertAnyValue(A,"displayNameService.getVisualTitle - title can be empty"),l.fF.assertAnyValue(I,"displayNameService.getVisualTitle - options can be empty");var U=(0,o.ED)(null!=A?A:{show:null==A?void 0:A.show});if((0,f.Xg)(U))return A;if(null==U.show)return U.show=!1,U;if(void 0!==U.text)return U;var W=(0,c.NA)(T.vcObjects,{objectName:"subTitle",propertyName:"text"},void 0);return this.autoGenerateText(T,O,N,W,U,I,!1)},M.prototype.getVisualTitle=function(T,O,N,A,I,B){l.fF.assertValue(T,"displayNameService.getVisualTitle - visualConfig"),l.fF.assertValue(O,"displayNameService.getVisualTitle - schema"),l.fF.assertAnyValue(N,"displayNameService.getVisualTitle - visualCapabilities"),l.fF.assertAnyValue(A,"displayNameService.getVisualTitle - title can be empty"),l.fF.assertAnyValue(I,"displayNameService.getVisualTitle - options can be empty");var U=!!B||!(!N||N.suppressDefaultTitle),W=(0,o.ED)(null!=A?A:{show:U});if((0,f.xj)(W))return A;if(null==W.show&&(W.show=U),void 0!==W.text)return W;var j=(0,c.NA)(T.vcObjects,{objectName:"title",propertyName:"text"},void 0);return this.autoGenerateText(T,O,N,j,W,I,B)},M.prototype.autoGenerateText=function(T,O,N,A,I,B,U){if(N){var W=I.titleComponents=this.getRawTitleComponents(T,O,N,A,B),j=this.getTitleText(W);!j&&U&&(j=this.generateNonQueryTitle(T.visualType)),I.text=j,I.text&&(I.isGeneratedText=!0),this.formatTitleComponents(W)}else I.text=this.generateNonQueryTitle(T.visualType),I.isGeneratedText=!0;return I},M.prototype.getTitleText=function(T){return T.subtitle?(0,v.W)(this.locOptions.stringResourceProvider.get("VisualTitle_By_Template"),T.title,T.subtitle):T.title},M.prototype.generateNonQueryTitle=function(T){var O=this.visualPluginService.getPlugin(T);return O&&O.titleKey?(0,r.G)(O.titleKey,this.locOptions.stringResourceProvider):O&&O.custom?O.displayName||O.name.match(/([A-z\s]+)/g)[0]:O&&O.displayName?O.displayName:T},M.prototype.formatTitleComponents=function(T){l.fF.assertValue(T,"displayNameService.formatTitleComponents - titleComponents is required"),T.subtitle&&(T.subtitle=(0,v.W)(this.locOptions.stringResourceProvider.get("VisualTitle_By_Template"),"",T.subtitle).trim())},M.prototype.getRawTitleComponents=function(T,O,N,A,I){if(l.fF.assertValue(T,"displayNameService.getRawTitleComponents - visualConfig is required"),l.fF.assertValue(O,"displayNameService.getRawTitleComponents - schema is required"),l.fF.assertValue(N,"displayNameService.getRawTitleComponents - visualCapabilities is required"),A){if((0,b.AW)(A))return{title:A.value};if(T.evaluatedObjects){var B=T.evaluatedObjects.title;if(B&&B.text)return{title:B.text.toString()}}return{title:null}}var U=[],W=[];if(T&&T.query){var j=T.query;if(j.projections&&N&&!N.suppressDefaultTitle&&N.dataRoles)for(var ee=0,ie=N.dataRoles;ee<ie.length;ee++)this.populateDisplayNamesByDataRole(ie[ee],j,O,N,T.columnProperties,U,W,I)}var q={},Y="AndConjunction";return U.length>0?(q.title=(0,V.g)(U,Y,this.locOptions),W.length>0&&(q.subtitle=(0,V.g)(W,Y,this.locOptions))):W.length>0&&(q.title=(0,V.g)(W,Y,this.locOptions)),q},M.prototype.getDescription=function(T,O){return E.run(T,O)},M.prototype.populateDisplayNamesByDataRole=function(T,O,N,A,I,B,U,W){var j=O.defn.select(),K=O.projections[T.name];if(K)for(var ie=0,he=_.isEmpty(K.activeProjectionRefs)?_.map(K.projected(),function(me){return me.queryRef}):K.activeProjectionRefs;ie<he.length;ie++){var q=he[ie],Y=j.withName(q);if(Y&&Y.expr){var G=this.getDisplayName(Y.expr,N,A,q,I,W);T.kind===S.DW.Grouping?U.push(G):T.kind===S.DW.Measure?B.push(G):M.isRoleUsedAsGroup(T,O,N)?U.push(G):B.push(G)}}},M.isRoleUsedAsGroup=function(T,O,N){l.fF.assert(function(){return T.kind===S.DW.GroupingOrMeasure},"isRoleUsedAsGroup should only be called when the data role's kind is GroupingOrMeasure");var A=O.projections[T.name];if(l.fF.assertValue(A,"isRoleUsedAsGroup was called with a role that did not exist in projections"),A){var I=_.head(A.all()),U=O.defn.select().withName(I.queryRef).expr.getMetadata(N);if(U)return 0===U.kind}return!1},M}(),P=function(){function M(T,O,N,A,I,B,U,W){this.schema=T,this.locOptions=O,this.aggrOps=N,this.visualCapabilities=A,this.visualTimeSynchronizationService=I,this.networkAvailabilityService=B,this.localizationService=U,this.displayOptions=W}return M.prototype.getDisplayNameForSQAggregate=function(T,O){return M.getDisplayNameForSQAggregate(T,O,this.schema,this.locOptions,this.visualCapabilities,this.visualTimeSynchronizationService,this.aggrOps,this.displayOptions,this.networkAvailabilityService,this.localizationService)},M.prototype.visitColumn=function(T){return M.getDisplayNameForProperty(T,this.schema)},M.prototype.visitColumnAggr=function(T){return this.getDisplayNameForSQAggregate(T,(0,u.dR)(T))},M.prototype.visitGroupingColumn=function(T){return M.getDisplayNameForProperty(T,this.schema)},M.prototype.visitGroupingColumnAggr=function(T){return this.getDisplayNameForSQAggregate(T,(0,u.ym)(T))},M.prototype.visitColumnHierarchyVariation=function(T){return M.getVariationHierarchyName(T,this.schema,this.displayOptions,this.locOptions.stringResourceProvider)},M.prototype.visitColumnHierarchyLevelVariation=function(T){return M.getVariationLevelName(T,this.schema,this.displayOptions,this.locOptions.stringResourceProvider)},M.prototype.visitColumnSubquery=function(T){},M.prototype.visitColumnAggrSubquery=function(T){},M.prototype.visitColumnTransformRef=function(T){},M.prototype.visitEntity=function(T){return M.getDisplayNameForEntity(T,this.schema)},M.prototype.visitEntityAggr=function(T){return M.getDisplayNameForSQAggregate(T,(0,u.R$)(T),this.schema,this.locOptions,this.visualCapabilities,this.visualTimeSynchronizationService,this.aggrOps,this.displayOptions,this.networkAvailabilityService,this.localizationService)},M.prototype.visitHierarchy=function(T){return M.getDisplayNameForHierarchy(T,this.schema)},M.prototype.visitHierarchyLevel=function(T){return M.getDisplayNameForHierarchyLevel(T,this.schema,this.displayOptions,this.locOptions.stringResourceProvider)},M.prototype.visitHierarchyLevelAggr=function(T){return this.getDisplayNameForSQAggregate(T,(0,u.vf)(T))},M.prototype.visitMeasure=function(T){return M.getDisplayNameForProperty(T,this.schema)},M.prototype.visitSelectRef=function(T){l.fF.assertFail("selectRef")},M.prototype.visitPercentile=function(T){var O=this.locOptions.showValueAsDisplayNames;return m.dx.format(T.exclusive?O.PercentileExclusive:O.PercentileInclusive,[(0,u.Vn)(T.arg,this),T.k])},M.prototype.visitPercentOfGrandTotal=function(T){return m.dx.format(this.locOptions.showValueAsDisplayNames.PercentOfGrandTotal,[(0,u.Vn)(T.baseExpr,this)])},M.prototype.visitPercentOfRoleTotal=function(T){if(l.fF.assertValue(this.visualCapabilities,"VisualCapabilities should exist"),l.fF.assertValue(this.visualCapabilities.dataRoleTotals,"dataRoleTotals should exist"),this.visualCapabilities&&this.visualCapabilities.dataRoleTotals){var N=_.find(this.visualCapabilities.dataRoleTotals,function(I){return _.isEqual(T.roles,I.roles)});if(l.fF.assertValue(N,"visualDataRoleTotal"),N){var A=(0,r.G)(N.shortDisplayName,this.locOptions.stringResourceProvider);return m.dx.format(A,[(0,u.Vn)(T.baseExpr,this)])}}},M.prototype.visitTransformOutputRoleRef=function(T){return T.expressionName},M.prototype.visitFilteredEval=function(T){for(var O=this.locOptions.stringResourceProvider.get("VisualTitle_For_Template"),N=(0,u.Vn)(T.baseExpr,this),A=new C(this.schema,this.locOptions,this.visualTimeSynchronizationService,this.networkAvailabilityService,new M(this.schema,this.locOptions,this.aggrOps,this.visualCapabilities,this.visualTimeSynchronizationService,this.networkAvailabilityService,this.localizationService,this.displayOptions),this.localizationService,this.displayOptions),I=[],B=0,U=T.filters;B<U.length;B++){var j=(0,n.Vn)(U[B],A);null!=j&&I.push(j)}if(!_.isEmpty(I)){var K=(0,V.g)(I,"FilterRestatement_CompoundAnd",this.locOptions);return m.dx.format(O,[N,K])}},M.prototype.visitArithmetic=function(T){return L((0,u.Vn)(T.left,this),(0,u.Vn)(T.right,this),T,this.locOptions)},M.prototype.visitConstant=function(T){return(0,s.WU)(T.value,void 0)},M.prototype.visitSparklineData=function(T){return l.fF.assert(function(){return 1===_.size(T.grouping)},"only 1 grouping allowed for sparklines"),this.locOptions.stringResourceProvider.format("VisualTitle_By_Template",(0,u.Vn)(T.measure,this),(0,u.Vn)(T.grouping[0],this))},M.prototype.visitNativeVisualCalc=function(T){return T.name},M.getDisplayNameForEntity=function(T,O){var N=O.schema(T.schema).entities.withName(T.entity);if(N)return N.displayName},M.getDisplayNameForProperty=function(T,O){var N;l.fF.assertValue(T,"propertyPattern");var A=T.entity,I=T.name,W=O.schema(T.schema).findProperty(A,I);return null!==(N=null==W?void 0:W.displayName)&&void 0!==N?N:I},M.getDisplayNameForHierarchyLevel=function(T,O,N,A){var B=O.schema(T.schema).findHierarchy(T.entity,T.name);if(B){var U=B.levels.withName(T.level);if(U){var W=U.displayName||U.column.displayName;if(N&&N.includeHierarchyName&&A){var j=B.displayName;W=null!=N.hierarchyNameDelimiter?[j,W].join(N.hierarchyNameDelimiter):(0,v.W)(A.get("IncludeVariationSourceDisplayName"),j,W)}return W}}},M.getDisplayNameForHierarchy=function(T,O){var A=O.schema(T.schema).findHierarchy(T.entity,T.name);if(A)return A.displayName},M.getVariationHierarchyName=function(T,O,N,A){l.fF.assertValue(T,"pattern");var I=O.schema(T.source.schema).findProperty(T.source.entity,T.source.name);if(I)for(var U=0,W=I.column.variations;U<W.length;U++){var j=W[U],K=j.defaultHierarchy;if(j.name===T.variationName&&K&&K.name===T.hierarchy.name){var ee=K.displayName;return N&&N.includeVariationSource&&A?null!=N.hierarchyNameDelimiter?[I.displayName,ee].join(N.hierarchyNameDelimiter):(0,v.W)(A.get("IncludeVariationSourceDisplayName"),I.displayName,ee):ee}}},M.getVariationLevelName=function(T,O,N,A){l.fF.assertValue(T,"pattern");var I=O.schema(T.source.schema).findProperty(T.source.entity,T.source.name);if(I)for(var U=0,W=I.column.variations;U<W.length;U++){var j=W[U];if(j.name===T.variationName)for(var K=0,ee=j.defaultHierarchy.levels;K<ee.length;K++){var ie=ee[K];if(ie.name===T.level.level){var he=ie.column.displayName;return N&&N.includeVariationSource&&A?null!=N.hierarchyNameDelimiter?[I.displayName,he].join(N.hierarchyNameDelimiter):(0,v.W)(A.get("IncludeVariationSourceDisplayName"),I.displayName,he):he}}}},M.getDisplayNameForSQAggregate=function(T,O,N,A,I,B,U,W,j,K){l.fF.assertValue(O,"expr");var ee=N.schema(T.schema).entities.withName(T.entity);if(ee){var ie=(0,u.Vn)((0,i.Q)(O.arg,N),new M(N,A,U,I,B,j,K,W));return ie?w(O,N,W,U)?ie:x(ie,O.func,O.arg.getMetadata(N),A):x(ee.displayName,O.func,O.arg.getMetadata(N),A)}},M}(),F=function(){function M(T,O,N,A,I,B,U,W){this.schema=T,this.locOptions=O,this.aggrOps=N,this.visualCapabilities=A,this.visualTimeSynchronizationService=I,this.networkAvailabilityService=B,this.localizationService=U,this.displayOptions=W}return M.run=function(T,O,N,A,I,B,U,W,j){return new M(O,N,A,I,B,U,W,j).accept(T,O)},M.prototype.accept=function(T,O){var N=T;if((0,b.iV)(N)){var A=(0,u.Vn)((0,i.Q)(N.arg,O),this);return w(N,this.schema,this.displayOptions,this.aggrOps)?A:x(A,N.func,N.arg.getMetadata(this.schema),this.locOptions)}return(0,u.Vn)((0,i.Q)(T,O),this)},M.prototype.visitEntity=function(T){var O=P.getDisplayNameForEntity(T,this.schema);return this.formatWithEntity(O,T)},M.prototype.visitColumn=function(T){var O=P.getDisplayNameForProperty(T,this.schema);return this.formatWithEntity(O,T)},M.prototype.visitColumnAggr=function(T){l.fF.assertFail("FieldExprColumnAggrPattern")},M.prototype.visitGroupingColumn=function(T){var O=P.getDisplayNameForProperty(T,this.schema);return this.formatWithEntity(O,T)},M.prototype.visitGroupingColumnAggr=function(T){l.fF.assertFail("FieldExprGroupingColumnAggrPattern")},M.prototype.visitColumnHierarchyVariation=function(T){var O=P.getVariationHierarchyName(T,this.schema,this.displayOptions,this.locOptions.stringResourceProvider);return this.formatWithEntity(O,T.source)},M.prototype.visitColumnHierarchyLevelVariation=function(T){var O=P.getVariationLevelName(T,this.schema,this.displayOptions,this.locOptions.stringResourceProvider);return this.formatWithEntity(O,T.source)},M.prototype.visitColumnSubquery=function(T){},M.prototype.visitColumnAggrSubquery=function(T){},M.prototype.visitColumnTransformRef=function(T){},M.prototype.visitEntityAggr=function(T){var O=P.getDisplayNameForSQAggregate(T,(0,u.R$)(T),this.schema,this.locOptions,this.visualCapabilities,this.visualTimeSynchronizationService,this.aggrOps,this.displayOptions,this.networkAvailabilityService,this.localizationService);return this.formatWithEntity(O,T)},M.prototype.visitHierarchy=function(T){var O=P.getDisplayNameForHierarchy(T,this.schema);return this.formatWithEntity(O,T)},M.prototype.visitHierarchyLevel=function(T){var O=P.getDisplayNameForHierarchyLevel(T,this.schema,this.displayOptions,this.locOptions.stringResourceProvider);return this.formatWithEntity(O,T)},M.prototype.visitHierarchyLevelAggr=function(T){l.fF.assertFail("FieldExprHierarchyLevelAggrPattern")},M.prototype.visitMeasure=function(T){var O=this.locOptions.qualifiedDisplayNameTemplate,N=P.getDisplayNameForProperty(T,this.schema),A=P.getDisplayNameForEntity(T,this.schema);return A?(0,v.W)(O,A,N):N},M.prototype.visitSelectRef=function(T){l.fF.assertFail("selectRef")},M.prototype.visitPercentile=function(T){var O=this.locOptions.showValueAsDisplayNames;return m.dx.format(T.exclusive?O.PercentileExclusive:O.PercentileInclusive,[this.accept((0,a.B)(T.arg)),T.k])},M.prototype.visitPercentOfGrandTotal=function(T){return m.dx.format(this.locOptions.showValueAsDisplayNames.PercentOfGrandTotalTooltip,[this.accept((0,a.B)(T.baseExpr))])},M.prototype.visitPercentOfRoleTotal=function(T){if(l.fF.assertValue(this.visualCapabilities,"VisualCapabilities should exist"),l.fF.assertValue(this.visualCapabilities.dataRoleTotals,"dataRoleTotals should exist"),this.visualCapabilities&&this.visualCapabilities.dataRoleTotals){var N=_.find(this.visualCapabilities.dataRoleTotals,function(I){return _.isEqual(T.roles,I.roles)});if(l.fF.assertValue(N,"visualDataRoleTotal"),N){var A=(0,r.G)(N.tooltip,this.locOptions.stringResourceProvider);return m.dx.format(A,[this.accept((0,a.B)(T.baseExpr))])}}},M.prototype.visitTransformOutputRoleRef=function(T){return T.expressionName},M.prototype.visitFilteredEval=function(T){for(var O=this.locOptions.stringResourceProvider.get("VisualTitle_For_Template"),N=this.accept((0,a.B)(T.baseExpr)),A=[],I=new C(this.schema,this.locOptions,this.visualTimeSynchronizationService,this.networkAvailabilityService,new M(this.schema,this.locOptions,this.aggrOps,this.visualCapabilities,this.visualTimeSynchronizationService,this.networkAvailabilityService,this.localizationService,this.displayOptions),this.localizationService,this.displayOptions),B=0,U=T.filters;B<U.length;B++){var j=(0,n.Vn)(U[B],I);null!=j&&A.push(j)}if(!_.isEmpty(A)){var K=(0,V.g)(A,"FilterRestatement_CompoundAnd",this.locOptions);return m.dx.format(O,[N,K])}},M.prototype.visitArithmetic=function(T){return L(this.accept((0,a.B)(T.left)),this.accept((0,a.B)(T.right)),T,this.locOptions)},M.prototype.visitConstant=function(T){return(0,s.WU)(T.value,void 0)},M.prototype.visitSparklineData=function(T){return l.fF.assert(function(){return 1===_.size(T.grouping)},"only 1 grouping allowed for sparklines"),this.locOptions.stringResourceProvider.format("VisualTitle_By_Template",this.accept((0,a.B)(T.measure)),this.accept((0,a.B)(T.grouping[0])))},M.prototype.visitNativeVisualCalc=function(T){return T.name},M.prototype.formatWithEntity=function(T,O){var N=this.locOptions.qualifiedDisplayNameTemplate,A=P.getDisplayNameForEntity(O,this.schema);return A?(0,v.W)(N,A,T):T},M}(),E=function(){function M(T){this.schema=T}return M.run=function(T,O){var N=new M(O);return(0,u.Vn)((0,i.Q)(T,O),N)},M.prototype.visitColumn=function(T){return this.getPropertyDescription(T)},M.prototype.visitColumnAggr=function(T){return this.getPropertyDescription(T)},M.prototype.visitGroupingColumn=function(T){return this.getPropertyDescription(T)},M.prototype.visitGroupingColumnAggr=function(T){return this.getPropertyDescription(T)},M.prototype.visitColumnHierarchyVariation=function(T){var N=this.findHierarchy(T.hierarchy);if(N)return N.description},M.prototype.visitColumnHierarchyLevelVariation=function(T){return this.getHierarchyLevelDescription(T.level)},M.prototype.visitColumnSubquery=function(T){},M.prototype.visitColumnAggrSubquery=function(T){},M.prototype.visitColumnTransformRef=function(T){},M.prototype.visitEntity=function(T){return this.getEntityDescription(T)},M.prototype.visitEntityAggr=function(T){return this.getEntityDescription(T)},M.prototype.visitHierarchy=function(T){var O=this.findHierarchy(T);if(O)return O.description},M.prototype.visitHierarchyLevel=function(T){return this.getHierarchyLevelDescription(T)},M.prototype.visitHierarchyLevelAggr=function(T){return this.getHierarchyLevelDescription(T)},M.prototype.visitMeasure=function(T){return this.getPropertyDescription(T)},M.prototype.visitPercentile=function(T){return(0,u.Vn)(T.arg,this)},M.prototype.visitPercentOfGrandTotal=function(T){return(0,u.Vn)(T.baseExpr,this)},M.prototype.visitPercentOfRoleTotal=function(T){return(0,u.Vn)(T.baseExpr,this)},M.prototype.visitSelectRef=function(T){},M.prototype.visitTransformOutputRoleRef=function(T){},M.prototype.visitFilteredEval=function(T){},M.prototype.visitArithmetic=function(T){},M.prototype.visitConstant=function(T){l.fF.assertFail("DisplayNameService - Not expecting to be called")},M.prototype.visitSparklineData=function(T){},M.prototype.visitNativeVisualCalc=function(T){},M.prototype.getPropertyDescription=function(T){var O=this.schema.schema(T.schema);if(O){var N=O.findProperty(T.entity,T.name);return N&&N.description}},M.prototype.getEntityDescription=function(T){var O=this.schema.schema(T.schema);if(O){var N=O.entities.withName(T.entity);return N&&N.description}},M.prototype.getHierarchyLevelDescription=function(T){var O=this.findHierarchy(T);if(O){var N=O.levels.withName(T.level);return N&&N.description}},M.prototype.findHierarchy=function(T){var O=this.schema.schema(T.schema);if(O)return O.findHierarchy(T.entity,T.name)},M}();function w(M,T,O,N){if(!O||!O.includeDefaultAggregate)return N.defaultAggregate(M,T,!1)===M.func}function x(M,T,O,N){l.fF.assertValue(M,"target"),l.fF.assertValue(T,"aggregate"),l.fF.assertAnyValue(O,"argMetadata"),l.fF.assertValue(N,"locOptions");var A=R(T,O),I=N.aggregateDisplayNames[A];return l.fF.assertValue(I,"Expected to find format string for display name"),m.dx.format(I,[M])}function R(M,T){var O=(0,h.b)(M);return(3===M||4===M)&&T&&T.type&&(T.type.dateTime?O="Date"+O:T.type.text&&(O="String"+O)),O}function L(M,T,O,N){var A=O.left.arithmetic?N.stringResourceProvider.format("BracketedValue",M):M,I=O.right.arithmetic?N.stringResourceProvider.format("BracketedValue",T):T,B=function(M){switch(M){case 0:return"+";case 1:return"-";case 2:return"*";case 3:return"/";default:l.fF.assertFail("displayNameService - unknown operator")}}(O.operator);return N.stringResourceProvider.format("DisplayName_Arithmetic_Format",A,B,I)}},869642:function(Xe,H,t){t.d(H,{i:function(){return i}});var e=t(979868),l=t(669266),o=t(498342),d=t(768783),v=t(273269),S=t(10031),h=t(819408),c=t(40152),r=t(927903),s=t(715770),u=t(643293);function i(n,m,f,V){return new a(n,m,f,V)}var a=function(){function n(m,f,V,p){this.eventBridge=m,this.visualPlugin=f,this.visualPluginOps=V,this.runningVisualService=p}return n.prototype.getSupportedDrillDirections=function(m,f){var V,p=this.getProjections(m);if(!p)return 0;var C=m.config.singleVisual,b=this.visualPlugin.capabilities(C.visualType);if(!b||b.drilldown&&b.drilldown.suppresDrillOperations)return 0;for(var y=(0,h.WO)(b,!(null===(V=C.query)||void 0===V||!V.isDrillDisabled)),P=0,F=0,E=f?y.filter(function(M){return M===f}):y;F<E.length;F++){var w=E[F],x=p[w];if(x&&x.activeProjectionRefs){var R=x.all();if(1===R.length)continue;var g=x.activeProjectionRefs,L=this.findActiveProjectionIndexInQueryCollection(R,g);!_.isEmpty(g)&&L+g.length!==R.length&&(this.canDrillDownLevel(m,2,w)&&(P|=2),this.canDrillDownLevel(m,3,w)&&(P|=4)),!_.isEmpty(x.activeProjectionRefs)&&(0!==L||g.length>1)&&(P|=1)}}return P},n.prototype.setDrillMode=function(m,f){m&&m.drillMode!==f&&(m.drillMode=f,this.raiseDrillModeChanged(m,f))},n.prototype.canSeeData=function(m){if(!(m&&m.config&&m.config.singleVisual&&m.config.singleVisual.query))return!1;var f=(0,c.s)(m),V=this.runningVisualService.getVisual(m);return!(V&&V.getErrorInfo())&&S.j.supportsVisualDetails(f,this.visualPlugin,this.visualPluginOps)},n.prototype.canDrillToDetails=function(m,f){if(!m)return!1;var V=(0,r.Xf)(m);if(!V)return!1;var p=(0,c.s)(m);if(p===u.D.lineChart||p===u.D.areaChart||p===u.D.stackedAreaChart)return!1;var C=(0,r.cj)(m,this.visualPlugin);if(!C||!1===C.supportsSelection)return!1;var b=_((0,r.oJ)(m)).filter(function(L){return(0,e.iV)(L.expr)}).map(function(L){return L.name}).value();if(_.isEmpty(b)||!_.isEmpty(f)&&!_.includes(b,_.head(_.head(f).metadata)))return!1;var y=C.dataRoles;if(_.isEmpty(y))return!1;for(var P=0,F=0,E=_(y).filter(function(L){return L.kind===v.DW.Measure&&0!==L.joinPredicate}).map(function(L){return L.name}).value();F<E.length;F++){var x=V.projections[E[F]];if(!_.isEmpty(x)){if(++P>1)return!1;var R=x.all();if(_.some(R,function(L){return!_.includes(b,L.queryRef)}))return!1}}return 0!==P},n.prototype.canDrillByDirection=function(m,f,V){if(!m)return!1;var p=this.runningVisualService.getVisual(m);if(p&&p.getErrorInfo())return!1;var b=this.getSupportedDrillDirections(m,V);return!!b&&(0,d.yE)(b,f)},n.prototype.canDrillthrough=function(m){return!!m},n.prototype.isDrillModeEnabled=function(m,f){return!!m&&m.drillMode===f},n.prototype.drillToLastLevel=function(m){var f;if(null!=m&&null!=m.config.singleVisual.query){var V=m.config.singleVisual,p=this.visualPlugin.capabilities(V.visualType),C=(0,h.WO)(p,!(null===(f=V.query)||void 0===f||!f.isDrillDisabled));if(!_.isEmpty(C))for(var b=function(E){if(E){var w=V.query.projections[E];if(null!=w){var x=w.getLastActiveQueryReference();if(null!=x){var R=w.getQueryRefs(),g=R.indexOf(x);o.fF.assert(function(){return-1!==g},"last active query ref must be valid in projection");for(var L=g+1;L<R.length;L++)w.addActiveQueryReference(R[L])}}}},y=0,D=C;y<D.length;y++)b(D[y])}},n.prototype.canDrillDownLevel=function(m,f,V){var p;o.fF.assert(function(){return 1!==f},"Incompatible drill direction");var C=(0,r.Xf)(m);if(!C)return!1;var b=(0,r.cj)(m,this.visualPlugin);if(!b||b.drilldown&&b.drilldown.suppresDrillOperations||!V)return!1;var y=C.projections[V],D=y.getLastActiveQueryReference();if(!D)return!1;for(var P=_.findIndex(y.all(),function(x){return x.queryRef===D}),F=function(R){var g=y.all()[R],L=null===(p=C.defn.select().withName(g.queryRef))||void 0===p?void 0:p.expr;if(o.fF.assert(function(){return!!L},"Projection is not in the select"),L&&0===_.filter(m.filters,function(M){return o.fF.assertValue(M,"canDrillDownLevel: visualContainer with name ".concat(m.name," contains blank value in .filters")),null!=M&&2===M.howCreated&&(0,l.fS)(L,M.expression)}).length)return{value:C.currentDrillMode(V)===f}},E=0;E<P;E++){var w=F(E);if("object"==typeof w)return w.value}return 3!==f||!_.find(C.expansionStates,function(x){return _.find(x.roles,function(R){return R===V})&&x.isStateModified()})},n.prototype.getProjections=function(m){return m&&m.config&&m.config.singleVisual&&m.config.singleVisual.query&&m.config.singleVisual.query.projections},n.prototype.findActiveProjectionIndexInQueryCollection=function(m,f){if(!_.isEmpty(f))for(var V=0;V<m.length;V++){for(var p=V,C=0;C<f.length&&p<m.length&&f[C]===m[p].queryRef;)C++,p++;if(C===f.length)return V}return-1},n.prototype.raiseDrillModeChanged=function(m,f){o.fF.assertValue(m,"visualContainer"),o.fF.assertValue(f,"drillMode"),this.eventBridge.publishToChannel(s.tbw,{visualContainer:m})},n}()},715770:function(Xe,H,t){t.d(H,{$$f:function(){return ar},$4A:function(){return Zr},$Bd:function(){return D},$cv:function(){return N},AGj:function(){return Be},AJY:function(){return J},AKi:function(){return I},Ah$:function(){return ie},Ak9:function(){return mr},AuF:function(){return Ge},BmV:function(){return er},C98:function(){return ur},CCe:function(){return b},CVC:function(){return xr},Cvt:function(){return we},D1A:function(){return Ee},DRd:function(){return Dr},DSN:function(){return re},Diu:function(){return Pr},EBW:function(){return ue},EHv:function(){return Le},F$x:function(){return Gr},FRm:function(){return a},GQv:function(){return zr},Gru:function(){return ye},Gtn:function(){return ot},H8N:function(){return de},HGU:function(){return rt},HOc:function(){return Oe},ICs:function(){return me},IQ6:function(){return p},IVK:function(){return it},JAC:function(){return pr},JEb:function(){return dr},JOk:function(){return oe},JXP:function(){return ae},K7E:function(){return fr},KCT:function(){return Yr},KD7:function(){return F},KcO:function(){return Pt},LE3:function(){return o},Lx_:function(){return ct},MEZ:function(){return Ce},Mp3:function(){return te},NPq:function(){return k},OKC:function(){return tt},OOb:function(){return nt},OPn:function(){return ve},Of1:function(){return Ne},Oij:function(){return u},Orc:function(){return bt},P6l:function(){return yt},PNq:function(){return R},PbX:function(){return se},Pkb:function(){return Q},QvS:function(){return Te},R4M:function(){return Re},RVE:function(){return Y},RVt:function(){return O},RW6:function(){return Ue},Rif:function(){return L},SVs:function(){return d},TN0:function(){return ht},TTT:function(){return ze},TWs:function(){return X},Td8:function(){return le},TrJ:function(){return $t},Tuj:function(){return s},Tyr:function(){return Ze},U8y:function(){return y},UAI:function(){return c},UBn:function(){return e},UKs:function(){return Ot},UMW:function(){return B},UbK:function(){return Kt},Udu:function(){return be},Un:function(){return at},UoE:function(){return Mt},UpY:function(){return C},UqZ:function(){return Or},V0C:function(){return Ae},Vrk:function(){return Ir},VuV:function(){return n},WJC:function(){return h},WR7:function(){return g},Woo:function(){return Vt},Wqo:function(){return dt},Wu9:function(){return Je},YUD:function(){return ce},YXt:function(){return Ke},_$U:function(){return ft},aco:function(){return V},acr:function(){return Nt},add:function(){return Gt},aoT:function(){return ut},bE6:function(){return i},bSZ:function(){return sr},bnO:function(){return Dt},cY_:function(){return _r},cyb:function(){return Z},d8V:function(){return r},doP:function(){return x},eDj:function(){return lr},eE4:function(){return jt},f8w:function(){return Mr},gG5:function(){return kt},gsN:function(){return Xt},gsv:function(){return Rt},ieg:function(){return Fe},ilH:function(){return fe},j3G:function(){return Ie},jCS:function(){return he},jsX:function(){return We},lio:function(){return j},m3l:function(){return Ye},mB3:function(){return or},mIo:function(){return St},mSO:function(){return q},miB:function(){return br},mke:function(){return m},msw:function(){return Et},nY5:function(){return Ur},oRp:function(){return v},ooc:function(){return S},ow8:function(){return T},pSw:function(){return Bt},qHu:function(){return Se},qTM:function(){return E},qTk:function(){return pe},r8B:function(){return Ut},rlN:function(){return Yt},rvf:function(){return ir},sEi:function(){return vt},sPA:function(){return Jr},t4l:function(){return M},tRg:function(){return P},tYc:function(){return G},tbw:function(){return A},uB4:function(){return _e},uL6:function(){return ai},ubE:function(){return Tt},uff:function(){return $e},up$:function(){return ke},urK:function(){return Ar},v3I:function(){return gr},vBx:function(){return Qr},wAN:function(){return K},wCO:function(){return Wt},wW:function(){return l},weO:function(){return pt},wiL:function(){return et},wrl:function(){return Ft},x1m:function(){return Hr},x4H:function(){return yr},y5h:function(){return xe},yVh:function(){return Pe},yhh:function(){return qe},z99:function(){return w},zYm:function(){return ee},zdm:function(){return mt},zgs:function(){return He}});var e=function(Me){return Me[Me.Unknown=0]="Unknown",Me[Me.Swipe=1]="Swipe",Me}({}),l={type:4,name:"modelChangeApplyingUpdate"},o={type:1,name:"explorationLoaded"},d={type:1,name:"explorationUnloaded"},v={type:3,name:"explorationContainerReady"},S={type:1,name:"explorationSlowDataSourceSettingsLoaded"},h={type:1,name:"explorationSettingsLoaded"},c={type:1,name:"updateNavButtonEvent"},r={type:2,name:"userActionTriggered"},s={type:2,name:"filterContainerChanged"},u={type:1,name:"applyAllBufferedFilterCardChange"},i={type:1,name:"applyAllClicked"},a={type:1,name:"applyAllSlicersClicked"},n={type:1,name:"explorationFiltersContainerChanged"},m={type:1,name:"sectionFiltersContainerChanged"},V={type:1,name:"formFactorChanged"},p={type:1,name:"canvasLayoutChanged"},C={type:0,name:"modelChanging"},b={type:0,name:"modelChanged"},y={type:2,name:"visualRelationshipsModeChanged"},D={type:0,name:"schemaItemActivationChanged"},P={type:2,name:"selectionChanged"},F={type:2,name:"visualTypeChanged"},E={type:2,name:"visualLinkButtonClicked"},w={type:2,name:"dataPointsSelected"},x={type:2,name:"dataHyperlinkClicked"},R={type:2,name:"visualClicked"},g={type:1,name:"undoRedoStackUpdated"},L={type:1,name:"undoRedoStackCleared"},M={type:1,name:"onReportChanged"},T={type:4,name:"onReportChanged"},O={type:1,name:"clipboardDataUpdated"},N={type:2,name:"dataSelectionChanged"},A={type:2,name:"drillModeChanged"},I={type:2,name:"refreshExploration"},B={type:2,name:"clearAnnotations"},j={type:1,name:"sectionLayoutRemoved"},K={type:1,name:"canvasChanged"},ee={type:2,name:"visualContainerParentActivityLinkingDone"},ie={type:2,name:"fieldWellFieldRemoved"},he={type:2,name:"visualContainerChanged"},q={type:2,name:"visualContainerAdded"},Y={type:2,name:"cancelVisualQuery"},G={type:2,name:"triggerDataRefresh"},me={type:2,name:"visualContainerGroupChanged"},re={type:2,name:"visualContainerGroupRendered"},le={type:2,name:"visualContainerDataRenderingStarted"},Ee={type:2,name:"visualContainerDataRendered"},Ne={type:2,name:"canvasItemContainerPositionChanged"},Ye={type:2,name:"visualContainerLoadingStarted"},Je={type:2,name:"visualContainerLoadingStopped"},_e={type:2,name:"visualContainerQueryExecutionEnded"},pe={type:2,name:"updateVisualMatrix"},fe={type:2,name:"visualConversion"},oe={type:3,name:"focusExplorationEvent"},ye={type:4,name:"explorationInitializeEvent"},Ce={type:2,name:"focusVisualContainerEvent"},Be={type:2,name:"canvasSizeChanged"},be={type:2,name:"visualPluginsChanged"},Te={type:2,name:"addCustomVisual"},ce={type:2,name:"deleteCustomVisual"},ve={type:0,name:"modelingContextChanged"},Re={type:2,name:"changeViewMode"},Ke={type:2,name:"requestViewModeChange"},tt={type:2,name:"editModeChanged"},mt={type:2,name:"getClusters"},He={type:2,name:"toggleSortVisualContainer"},ke={type:2,name:"toggleSortDirectionVisualContainer"},ft={type:1,name:"saveEventViaCtrlS"},Le={type:1,name:"highContrastModeChanged"},Q={type:1,name:"canvasDisplayChanged"},Ue={type:1,name:"canvasZoomChanged"},ae={type:1,name:"canvasZoomScaleUpdated"},Se={type:1,name:"canvasDimensionChanged"},nt={type:3,name:"explorationObjectsLoaded"},vt={type:3,name:"explorationObjectsChanged"},We={type:1,name:"sectionObjectsEvaluated"},de={type:1,name:"sectionObjectsChanged"},te={type:3,name:"showDataSourceVariablesDialog"},xe={type:2,name:"visibilityChanged"},Z={type:2,name:"canvasItemHiddenChanged"},J={type:1,name:"align"},Fe={type:1,name:"deleteSectionInitiated"},ze={type:1,name:"sectionNameChanged"},rt={type:1,name:"sectionDeleted"},Oe={type:1,name:"renameSection"},Pe={type:1,name:"sectionChanged"},X={type:1,name:"podParameterChanged"},we={type:2,name:"missingTableRelationship"},Ze={type:1,name:"addVisualContainer"},et={type:3,name:"addCustomVisualToCanvas"},at={type:2,name:"deleteVisualContainer"},St={type:1,name:"addInsightContainer"},Ie={type:1,name:"addQnaContainer"},qe={type:1,name:"showQnaPopoutEventArgs"},bt={name:"canvasPinched",type:1},Rt={type:1,name:"arrangeVisualsOrder"},Kt={type:1,name:"createBasicShape"},Yt={type:1,name:"createShape"},ir={type:1,name:"createActionButton"},lr={type:1,name:"createPageNavigator"},dr={type:1,name:"createTextbox"},br={type:1,name:"importVisual"},pt={type:1,name:"installVisual"},Ut={type:1,name:"downloadVisual"},er={type:2,name:"newQueryCacheResultAvailable"},Pr={type:2,name:"exportVisualData"},mr={type:1,name:"exportVisualDataFromPane"},gr={type:2,name:"addCommentVisual"},xr={type:2,name:"shareToTeamsVisual"},Qr={type:1,name:"createSection"},Gr={type:1,name:"deleteSection"},Jr={type:1,name:"duplicateSection"},Hr={type:1,name:"insertSection"},Yr={type:1,name:"reorderSection"},Zr={type:1,name:"switchSection"},Or={type:3,name:"explorationNextPage"},Ur={type:3,name:"explorationPreviousPage"},zr={type:3,name:"startExplorationContainerLoading"},ai={type:3,name:"stopExplorationContainerLoading"},ct={type:2,name:"showEnableScriptVisualsDialog"},Tt={type:1,name:"canvasResized"},ot={type:4,name:"openReportFinished"},it={type:4,name:"openReportLoadingScreenHidden"},ht={type:4,name:"visualQueryThrottled"},yt={type:4,name:"datasetNotFound"},Ft={type:4,name:"ShowVisuals"},kt={type:1,name:"bookmarkApplied"},Gt={type:1,name:"exploreCanvasVisualRendered"},ar={type:2,name:"ReportVisualError"},sr={type:4,name:"ReportVisualError"},pr={type:3,name:"visualThumbnailDoubleClicked"},fr={type:2,name:"removeVisualContainerFromLayout"},Mr={type:1,name:"pauseQueriesChanged"},Ir={type:2,name:"deleteCustomVisuals"},Pt={type:4,name:"resetPersistentUserState"},dt={type:1,name:"resetUserStateKeyPressedEvent"},ue={type:4,name:"resetUserStateEvent"},k={type:3,name:"reloadPersistenState"},se={type:1,name:"togglePaneVisibility"},Ae={type:2,name:"visualDrillFilterOtherVisualsSettingChanged"},$e={type:0,name:"emulationChanged"},Et={type:3,name:"showOtherBookmarks"},Nt={type:2,name:"parentExpandCollapseAction"},Bt={type:3,name:"bookmarkViewStateChanged"},$t={type:0,name:"exportDataEnded"},ur={type:2,name:"visualContainerControllerLinked"},or={type:4,name:"insightsInFocusPaneClose"},Ar={type:4,name:"insightSelected"},Ge={type:4,name:"getRelatedInsights"},ut={type:4,name:"viewInsightInFocus"},Vt={type:0,name:"autoPageRefreshTriggered"},Dt={type:2,name:"drillthroughActionTriggered"},Mt={type:4,name:"anchorTimeUpdated"},Ot={type:4,name:"visualCancelLoadEvent"},Wt={type:2,name:"shareVisual"},Xt={type:2,name:"shareVisualToPPT"},yr={type:2,name:"findAnomalies"},_r={type:2,name:"forecast"},Dr={type:2,name:"toggleDataTable"};function jt(Me,Ct){return Me.visualContainer===Ct}},525203:function(Xe,H,t){t.d(H,{A:function(){return h}});var e=t(820967),l=t(498342),o=t(495130),d=t(812454),v=t(40152),S=t(927903);function h(r,s){return l.fF.assertValue(r,"visualPlugin"),l.fF.assertValue(s,"featureSwitch"),new c(r)}var c=function(){function r(s){this.visualPlugin=s}return r.prototype.getExpandCollapseRoles=function(s){(0,e.wS)(s,"visual should have a value");var u=this.visualPlugin.capabilities((0,v.s)(s));if(u&&u.expandCollapse&&!_.isEmpty(u.expandCollapse.roles)){var i=(0,S.Xf)(s);if(null==i||!i.isDrillDisabled)return u.expandCollapse.roles}},r.prototype.isSupported=function(s,u,i){if(!u||!s||!s.supportsInstanceFilters)return!1;var a=(0,S.Xf)(u);return!(!a||!_.isEmpty(i)&&_.some(i,function(n){return 3===a.currentDrillMode(n)})||a.isDrillDisabled)},r.prototype.isEnabled=function(s,u){if((0,e.wS)(s,"visual should have a value"),_.isEmpty(u))return!1;var i=this.getExpandCollapseRoles(s);return!(_.isEmpty(i)||_.some(u,function(a){return-1===_.indexOf(i,a)}))},r.prototype.getMaximumExpansionDepth=function(s,u){if(this.isEnabled(s,u)){var i=(0,S.Xf)(s);if(i){var a=i.getRolesProjectionRefs(u);return l.fF.assertValue(a,"getRolesProjectionRefs should have returned an array"),a.length}}},r.prototype.getAllowedActions=function(s,u,i){var a=(0,S.Xf)(s);if(a&&this.isEnabled(s,u)&&!_.isEmpty(i)&&1===i.length){var n=i[0];if(n&&n.dataMap&&!_.isEmpty(n.dataMap)){var m=(0,d.CT)((0,d.tV)(n));if(!_.isEmpty(m)){var f=a.getRolesUniqueProjectionRefs(u),V=a.getRolesUniqueActiveProjectionsRefs(u,this.canCollapseRoot(s)),p=V.length===f.length,C=_.some(u,function(w){return 3===a.currentDrillMode(w)});if(1===f.length||C)return{};var b=this.getSelectorRefs(n);if(!_.some(b,function(w){return!_.includes(V,w)})){var y=m.length,D=y===f.length,P=y===V.length,F=(0,o.Vt)(a.expansionStates,u);if(F){var E=F.getNodeLevelState(m,F.root,0);return l.fF.assertValue(E,"getNodeLevelState returned undefined"),{expandNode:!D&&!!E.isNodeCollapsed,collapseNode:!P&&!E.isNodeCollapsed,expandLevel:!D&&(E.levelHasToggledNodes||!!E.isNodeCollapsed),collapseLevel:!P&&(E.levelHasToggledNodes||!E.isNodeCollapsed),expandHierarchy:!p||!F.isHierarchyExpanded(),collapseHierarchy:!F.isWholeLevelCollapsed(0)}}return{expandNode:!D&&P,collapseNode:!P,expandLevel:!D&&P,collapseLevel:!P,expandHierarchy:!p,collapseHierarchy:V.length>1}}}}}},r.prototype.getSelectorRefs=function(s){if(!s||!s.dataMap||_.isEmpty(s.dataMap))return[];var u=[];for(var i in s.dataMap)u.push(i);return u},r.prototype.expandNode=function(s,u,i){var a=this,n=this.setNodeState(s,u,i,!1);if(n){var m=this.ensureExpansionState(s,u),f=this.getSelectorRefs(i);l.fF.assert(function(){return a.canCollapseRoot(s)||!_.isEmpty(f)},"selectorRefs must not be empty when root node cannot be collapsed");var p=m.getVisibleDescendentsDepth(n,f.length-1),C=(0,S.Xf)(s);C&&p>C.getRolesUniqueActiveProjectionsRefs(u,this.canCollapseRoot(s)).length&&this.setActiveProjections(s,u,p)}},r.prototype.collapseNode=function(s,u,i){this.setNodeState(s,u,i,!0);var a=this.ensureExpansionState(s,u),n=a.getVisibleDescendentsDepth(a.root,-1);this.setActiveProjections(s,u,n)},r.prototype.expandLevel=function(s,u,i,a){void 0===a&&(a=!1);var n=this.ensureExpansionState(s,u);this.setLevelState(s,u,i,!1,a);var m=n.getVisibleDescendentsDepth(n.root,-1);this.setActiveProjections(s,u,m)},r.prototype.collapseLevel=function(s,u,i,a){void 0===a&&(a=!1),this.setLevelState(s,u,i,!0,a),this.setActiveProjections(s,u,i+1)},r.prototype.expandAll=function(s,u){this.setAllLevelsState(s,u,!1);var i=this.ensureExpansionState(s,u);this.setActiveProjections(s,u,i.levels.length)},r.prototype.collapseAll=function(s,u){this.setAllLevelsState(s,u,!0),this.setActiveProjections(s,u,this.canCollapseRoot(s)?0:1)},r.prototype.pinLevels=function(s,u,i){this.ensureExpansionState(s,u).pinLevels(i)},r.prototype.unpinLevels=function(s,u,i){this.ensureExpansionState(s,u).unpinLevels(i)},r.prototype.lockLevels=function(s,u,i){this.ensureExpansionState(s,u).lockLevels(i)},r.prototype.unlockLevels=function(s,u,i){this.ensureExpansionState(s,u).unlockLevels(i)},r.prototype.setAILevelInformation=function(s,u,i,a,n){var m=this.ensureExpansionState(s,u);l.fF.assert(function(){return _.isEqual(m.levels[i].queryRefs,a)},"Level at index ".concat(i," does not match expected query refs")),m.setAILevelInformation(i,n)},r.prototype.getAILevelInformation=function(s,u,i){var a=(0,S.Xf)(s);return(0,o.DX)(a.expansionStates,u,i)},r.prototype.clearAILevelsInformation=function(s,u){for(var i=this.ensureExpansionState(s,u),a=0;a<_.size(i.levels);a++)i.setAILevelInformation(a,void 0)},r.prototype.setNodeState=function(s,u,i,a){var n=this.ensureExpansionState(s,u);l.fF.assertValue(n,"expansionState"),l.fF.assertValue(i,"selector");var m=this.getSelectorRefs(i);if(!_.isEmpty(m)||this.canCollapseRoot(s))return l.fF.assert(function(){return m.length<=n.levels.length},"attempt to expand a node from an inactive level"),n.setNodeState((0,d.tV)(i),a);l.fF.assertFail("Collapse to root capability is not enabled")},r.prototype.setLevelState=function(s,u,i,a,n){var m=this.ensureExpansionState(s,u);if(l.fF.assertValue(m,"expansionState"),l.fF.assertNonEmpty(m.levels,"expansionState.levels"),n)for(var f=0;f<i;f++)l.fF.assertValue(m.levels[f],"expandCollapseService.setLevelState - level for index ".concat(f," doesn't exist")),m.setLevelState(f,!1);m.setLevelState(i,a)},r.prototype.setAllLevelsState=function(s,u,i){var a=this.ensureExpansionState(s,u);l.fF.assertValue(a,"expansionState"),l.fF.assertNonEmpty(a.levels,"expansionState.levels"),this.canCollapseRoot(s)&&a.setLevelState(-1,i);for(var n=a.levels,m=0;m<n.length-1;m++)a.setLevelState(m,i)},r.prototype.ensureExpansionState=function(s,u){var i=this;l.fF.assertValue(s,"VisualContainer"),l.fF.assert(function(){return i.isEnabled(s,u)},"Expand/Collapse is not enabled");var a=(0,S.Xf)(s);l.fF.assertValue(a,"VisualQuery");var n=this.visualPlugin.capabilities((0,v.s)(s)),m=n&&n.expandCollapse&&n.expandCollapse.supportsMerge,f=n&&n.expandCollapse&&n.expandCollapse.collapseParentAfterRemovingChildLevel,V=this.canCollapseRoot(s),p=a.ensureExpansionState(u,{supportsMerge:m,canCollapseRoot:V,collapseParentAfterRemovingChildLevel:f});return l.fF.assertValue(p,"expansionState"),l.fF.assertNonEmpty(p.levels,"expansionState.levels"),p},r.prototype.canCollapseRoot=function(s){var u=this.visualPlugin.capabilities((0,v.s)(s));return!(!u||!u.noDefaultProjections)},r.prototype.setActiveProjections=function(s,u,i){l.fF.assertValue(s,"visualContainer"),l.fF.assertNonEmpty(u,"roles"),this.canCollapseRoot(s)||l.fF.assert(function(){return i>0},"totalUniqueActiveProjectionsCount");var a=(0,S.Xf)(s);l.fF.assertValue(a,"query"),a.setActiveProjections(u,i)},r}()},346314:function(Xe,H,t){t.d(H,{F:function(){return v}});var e=t(498342),l=t(716742),o=t(217933),d=t(715770);function v(c,r,s,u,i,a,n,m){return new S(c,r,s,u,i,a,n,m)}var S=function(){function c(r,s,u,i,a,n,m,f){this.state=r,this.navigation=s,this.eventBridge=u,this.visibility=i,this.filterGenerator=a,this.explorationActivity=n,this.telemetryService=m,this.runningVisualService=f,e.fF.assertValue(r,"state"),e.fF.assertValue(s,"navigation"),e.fF.assertValue(u,"eventBridge"),e.fF.assertValue(i,"visibility")}return c.prototype.exploration=function(){return this.navigation.getCurrentExploration()},c.prototype.capture=function(r,s){var u=this.exploration();if(u)return this.state.capture(u,r,s)},c.prototype.apply=function(r,s,u,i){var a=this.exploration(),n=this.state.apply(r,a,s,u);return this.applyImpact(n,a,u,i),n},c.prototype.captureFilterState=function(r){return this.state.captureFilterState(r)},c.prototype.applyFilterState=function(r,s){var u=this;if(!_.isEmpty(r)){var i=this.state.applyFilterState(r,s);this.explorationActivity.doActivity(function(a){u.eventBridge.publishToChannel(d.jCS,{affectContainer:function(m){return _.includes(i.visualContainers,m)},parentActivity:a})},function(a){return u.telemetryService.startChildActivity(a&&a.event,l.bt)})}},c.prototype.applyImpact=function(r,s,u,i){var a=this;e.fF.assertValue(s,"exploration"),e.fF.assertValue(u,"applyStateOption"),i&&i.setProperty("options",function(c){var r,s,u;return!0===c.suppressDisplay||!1===c.suppressDisplay||null==c.suppressDisplay?r=s=!0===c.suppressDisplay:(r=c.suppressDisplay.outspacePane,s=c.suppressDisplay.visuals),c.defaultPresentationState&&(u=_.mapValues(c.defaultPresentationState,function(i){return _.mapValues(i,function(a){return{visualType:a.visualType,autoSelectVisualType:a.autoSelectVisualType,projections:_.map(_.filter(_.map(a.projections,function(n,m){return{exprs:n,role:m}}),function(n){return!_.isEmpty(n.exprs)}),function(n){return n.role})}})})),{applyPresentationChanges:c.applyPresentationChanges,clearQueryCaches:c.clearQueryCaches,clearUnmatchedData:c.clearUnmatchedData,defaultPresentationState:u,stopDataQueries:c.stopDataQueries,suppressActiveSection:c.suppressActiveSection,suppressDataSourceVariables:c.suppressDataSourceVariables,suppressData:c.suppressData,suppressOutspacePaneDisplayOptions:r,suppressUnmatchedClearHidden:c.suppressUnmatchedClearHidden,suppressVisualsDisplayOptions:s,targetVisualNames:c.targetVisualNames}}(u)),this.explorationActivity.doActivity(function(n){var m=r.dataSourceVariables,f=[];if(m&&e.fF.assert(function(){return!u.suppressDataSourceVariables},"suppressDataSourceVariables"),r.objects&&a.eventBridge.publishToChannel(d.sEi),2===r.filterScope&&(e.fF.assert(function(){return!u.suppressData},"suppressData"),a.eventBridge.publishToChannel(d.VuV,{container:s}),m=!0),r.activeSection)e.fF.assert(function(){return!u.suppressActiveSection},"suppressActiveSection"),a.navigation.updateActiveSection({targetSectionIndex:s.activeSectionIndex,forceUpdate:!0,parentActivity:n,parentContextActivity:i});else if(1===r.filterScope){e.fF.assert(function(){return!u.suppressData},"suppressData");var V=a.navigation.getCurrentSection();a.eventBridge.publishToChannel(d.mke,{container:V}),f=_.union(f,V.visualContainers)}else(0===r.filterScope||!_.isEmpty(r.visualContainers))&&(e.fF.assert(function(){return!u.suppressData||!u.suppressDisplay},"suppressData || suppressDisplay"),f=_.union(f,r.visualContainers));var p=[];m?(a.eventBridge.publishToChannel(d.jCS,{affectContainer:_.stubTrue,parentActivity:n,parentContextActivity:i}),V=a.navigation.getCurrentSection(),p.push.apply(p,V.visualContainers||[])):_.isEmpty(f)||(a.eventBridge.publishToChannel(d.jCS,{affectContainer:function(M){return _.includes(f,M)},parentActivity:n,parentContextActivity:i}),p.push.apply(p,f||[]));var C=r.visualContainerGroups;if(_.isEmpty(C)||(a.eventBridge.publishToChannel(d.ICs,{affectContainer:function(M){return _.includes(C,M)}}),p.push.apply(p,C||[])),!u.suppressDisplay){if(r.visibility)a.visibility.set(r.visibility.visual,r.visibility.mode);else if(u.targetVisualNames){var b=s.sections[s.activeSectionIndex],y=_.filter(b.visualContainers,function(L){return _.includes(u.targetVisualNames,L.name)});a.visibility.clearForVisualContainers(y)}else a.visibility.clear();_.isEmpty(p)||a.eventBridge.publishToChannel(d.cyb,{changedItems:p})}if(!u.suppressData){var D=r.pendingHighlights,P=a.navigation.getCurrentSection();if(D){a.filterGenerator.setMultipleFiltersOnSelectData(s,P,D,n,void 0);for(var F=0,E=D;F<E.length;F++){var w=E[F],x=w.sourceVisualContainer,R=a.runningVisualService.getVisual(x),g=x.config.singleVisual;R?(w.filterExpressionMetadata&&(0,o.XV)(w.selection,w.filterExpressionMetadata),R.setSelectedDatapoints(w.selection,!0)):g.pendingSelection=w.selection}}else u.targetVisualNames?(b=s.sections[s.activeSectionIndex],y=_.filter(b.visualContainers,function(T){return _.includes(u.targetVisualNames,T.name)}),a.filterGenerator.clearCrossHighlightForVisualContainers(b,y,n,void 0)):a.filterGenerator.clearCrossHighlight(P,n,void 0)}},function(n){return a.telemetryService.startChildActivity(n&&n.event,l.bt)})},c}()},77717:function(Xe,H,t){t.d(H,{e:function(){return T},O:function(){return L}});var e=t(973188),l=t(33962),o=t(365358),d=t(498342),v=t(11641),S=t(495130),h=t(147883),c=t(812454);function r(q,Y){return q===Y||null!=q&&null!=Y&&q.objectName===Y.objectName&&q.propertyName===Y.propertyName}var s=t(204553),u=t(509607),i=t(325319),a=t(658392),n=t(114096),m=t(512322),f=t(603662),V=t(669266),p=t(668247),C=t(430912),b=t(249039),y=t(915382),D=t(180764),P=t(716742),F=t(497141),E=t(819408),w=t(947105),x=t(225815),R=t(927903),g=t(10661);function L(q,Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe){return new ie(q,Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe)}function M(q,Y,G){if(d.fF.assertAnyValue(q,"contracts"),d.fF.assertValue(Y,"filterScopeType"),!_.isEmpty(q)){for(var me={},re=0,le=q;re<le.length;re++){var Ee=le[re];G(Ee)||(I(Ee)?(me.transientFilters||(me.transientFilters=[]),me.transientFilters.push(T(Ee))):U(Ee)&&!_.isEmpty(Ee.name)?(me.nameIdentifiedMerges||(me.nameIdentifiedMerges={}),me.nameIdentifiedMerges[Ee.name]=T(Ee)):B(Ee)?(me.exprIdentifiedMerges||(me.exprIdentifiedMerges=[]),me.exprIdentifiedMerges.push(T(Ee))):W(Ee)?(me.typeIdentifiedMerges||(me.typeIdentifiedMerges=[]),me.typeIdentifiedMerges.push(T(Ee))):(_.isEmpty(Ee.name)&&(Ee.name=F.l.getNextFilterName(q)),me.nameIdentifiedMerges||(me.nameIdentifiedMerges={}),me.nameIdentifiedMerges[Ee.name]=T(Ee)))}if(!_.isEmpty(me))return me}}function T(q){return d.fF.assertValue(q,"filterContainer"),{name:q.name,type:q.type,filter:q.filter,expression:q.expression,restatement:q.restatement,howCreated:q.howCreated,isTransient:q.isTransient,cachedValueItems:q.cachedValueItems,filterExpressionMetadata:_.cloneDeep(q.filterExpressionMetadata)}}function O(q){return d.fF.assertValue(q,"filterContainerState"),d.fF.assertAnyValue(name,"name"),{name:q.name,type:q.type,filter:q.filter,expression:q.expression,restatement:q.restatement,howCreated:q.howCreated,isTransient:q.isTransient,cachedValueItems:q.cachedValueItems,filterExpressionMetadata:_.cloneDeep(q.filterExpressionMetadata),displayName:q.displayName}}function N(q,Y){q.filter=Y.filter,q.cachedValueItems=Y.cachedValueItems,q.filterExpressionMetadata=_.cloneDeep(Y.filterExpressionMetadata),q.type=Y.type}function A(q){q.filter=void 0,q.cachedValueItems=void 0,q.filterExpressionMetadata=void 0}function I(q){return!!q.isTransient}function B(q){return!!q.expression}function U(q){return q.isHiddenInViewMode||q.isLockedInViewMode}function W(q){return 3===q.howCreated||4===q.howCreated}function K(q,Y,G){if(Y.filterState)return!0;var me=(0,u.MD)(G);return _.some([me],q)}function ee(q){return _.some([{objectName:"outspacePane",propertyName:"expanded"},{objectName:"outspacePane",propertyName:"visible"}],q)}var ie=function(){function q(Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe){this.expandCollapse=Y,this.filterGenerator=G,this.plugins=me,this.visualPluginOps=re,this.aggrOps=le,this.featureSwitchService=Ee,this.sortService=Ne,this.drillService=Ye,this.telemetryService=pe,this.nonDrillthroughIsLinkedAsAggregationCallback=function(oe){return d.fF.assertValue(oe,"filter"),d.fF.assert(function(){return 5!==oe.howCreated},"Only drillthrough filters can be linked as aggregation. This should not be called for drillthrough filters."),!1},this.visualAuthoringCore=(0,g.Vz)(me,Je,le,Ee,_e,fe)}return q.prototype.capture=function(Y,G,me){d.fF.assertValue(Y,"exploration"),d.fF.assert(function(){return null!=Y.activeSectionIndex},"exploration.activeSectionIndex != null");var re=Y.sections[Y.activeSectionIndex],le={activeSection:re.name,filters:M(Y.filters,2,this.nonDrillthroughIsLinkedAsAggregationCallback),sections:{}};if(this.featureSwitchService.featureSwitches.dataSourceVariablesOverride&&!me.suppressDataSourceVariables&&(le.dataSourceVariables=Y.dataSourceVariables),Y.objects&&(le.objects=this.captureExplorationObjects(Y.objects)),me.captureAllSections)for(var Ee=0,Ne=Y.sections;Ee<Ne.length;Ee++){var Ye=Ne[Ee];le.sections[Ye.name]=this.captureSection(Ye,G,Y,me.capturePresentation)}else le.sections[re.name]=this.captureSection(re,G,Y,me.capturePresentation);return le},q.prototype.captureExplorationObjects=function(Y){return this.captureObjects(p.W,Y,ee)},q.prototype.captureFilterState=function(Y){var G=this.captureFilterStateObjects(Y.visualType,Y.objects);return{visualType:Y.visualType,objects:G,cachedFilterDisplayItems:Y.cachedFilterDisplayItems}},q.prototype.captureSection=function(Y,G,me,re){d.fF.assertValue(Y,"contract");var Ee=this.getCrossHighlights(Y);return{filters:M(Y.filters,1,function(Je){return(0,w.fF)(me,Y,Je)}),visualContainers:this.captureVisualContainers(Y.visualContainers,Ee,G,re),visualContainerGroups:this.captureVisualContainerGroups(Y.visualContainerGroups)}},q.prototype.getCrossHighlights=function(Y){return Y&&Y.crossFilterSource&&Y.crossFilterSource.highlight},q.prototype.captureVisualContainerGroups=function(Y){d.fF.assertValue(Y,"contracts");for(var G,me=0,re=Y;me<re.length;me++){var le=re[me];if((0,y.q4)(le)){var Ee={};if(null!=le.isHidden&&(Ee.isHidden=le.isHidden),!_.isEmpty(le.children)){var Ne=this.captureVisualContainerGroups(le.children);Ee.children=Ne}(null!=Ee.isHidden||null!=Ee.children)&&((G=G||{})[le.name]=Ee)}}return G},q.prototype.captureVisualContainers=function(Y,G,me,re){d.fF.assertValue(Y,"contracts");for(var le={},Ee=function(fe){d.fF.assertValue(fe.name,"contract.name");var oe=fe.config.singleVisual;if(!oe)return"continue";var ye=void 0;if(!_.isEmpty(G)){var Ce=_.find(G,function(Re){return Re.sourceVisualContainer.config.singleVisual===oe&&!_.isEmpty(Re.selection)});Ce&&(ye={selection:Ce.selection,filterExpressionMetadata:Ce.filterExpressionMetadata?Ce.filterExpressionMetadata:void 0})}var be={filters:M(_.union(fe.filters,Ne.getAdditionalVisualFiltersToCapture(fe,me)),0,Ne.nonDrillthroughIsLinkedAsAggregationCallback),singleVisual:{visualType:oe.visualType,objects:Ne.captureVisualObjects(oe.visualType,oe.objects),cachedFilterDisplayItems:oe.cachedFilterDisplayItems,filterExpressionMetadata:oe.filterExpressionMetadata},highlight:ye};null!=oe.autoSelectVisualType&&(be.singleVisual.autoSelectVisualType=oe.autoSelectVisualType);var Te=fe.visibility;null!=Te&&0!==Te&&16!==Te&&(be.visibility=Te),(0,b.xj)(oe)&&(be.singleVisual.hidden=!0);var ce=oe.query,ve=re&&oe.presentationChangesApplied;(ve||ce&&ce.hasQueryFieldParameters())&&(ve&&(be.singleVisual.targetType=oe.visualType),null!=oe.autoSelectVisualType&&(be.singleVisual.targetAutoSelectVisualType=oe.autoSelectVisualType),ce&&ce.projections&&ce.defn&&(be.singleVisual.projections=(0,x.rl)(ce,ve))),ce&&ce.projections&&Ne.featureSwitchService.featureSwitches.fieldParameters&&(be.singleVisual.parameters=(0,x.xF)(ce)),ce&&ce.defn&&(be.singleVisual.orderBy=ce.defn.orderBy()),ce&&ce.projections&&(be.singleVisual.activeProjections=Ne.captureActiveProjections(ce)),ce&&ce.expansionStates&&(be.singleVisual.expansionStates=(0,S.d9)(ce.expansionStates)),ce&&ce.isDrillDisabled&&(be.singleVisual.isDrillDisabled=ce.isDrillDisabled),le[fe.name]=be},Ne=this,Ye=0,Je=Y;Ye<Je.length;Ye++)Ee(Je[Ye]);return le},q.prototype.captureActiveProjections=function(Y){var G,me=Y.defn.select();for(var re in Y.projections){var Ee=Y.projections[re].activeProjectionRefs;if(!_.isEmpty(Ee)){var Ne=_.map(Ee,function(Ye){var Je=me.withName(Ye);return Je?Je.expr:null});G||(G={}),G[re]=Ne}}return G},q.prototype.captureVisualObjects=function(Y,G){return this.captureFilterStateObjects(Y,G)},q.prototype.captureFilterStateObjects=function(Y,G){var me=this.plugins.capabilities(Y);return me&&me.objects?this.captureObjects(me.objects,G,K):{}},q.prototype.captureObjects=function(Y,G,me){var re={};for(var Ee in Y){var Ne=Y[Ee];for(var Ye in Ne.properties){var Je=Ne.properties[Ye],_e={objectName:Ee,propertyName:Ye};if(Je.captureState||me(_e,Je,Y)){var pe=(0,s.NA)(G,_e,null);pe&&(0,s.sO)(re,_e,null,pe)}}}var fe={};return _.isEmpty(re)||(fe.merge=re),fe},q.prototype.apply=function(Y,G,me,re){d.fF.assertValue(Y,"state"),d.fF.assertValue(G,"exploration");var le={visualContainers:[],visualContainerGroups:[],issues:[]};for(var Ee in re.suppressActiveSection||this.applyActiveSection(Y.activeSection,G,le),!re.suppressData&&!re.targetVisualNames&&this.applyFilters(Y.filters,G,2,le,re.clearUnmatchedData,[],void 0,me,this.nonDrillthroughIsLinkedAsAggregationCallback),Y.objects&&this.applyExplorationObjects(Y.objects,G,le,re),Y.sections){var Ne=(0,o.rC)(G.sections,Ee);if(Ne){var Ye=Y.sections[Ee],Je=!re.suppressActiveSection||this.isActiveSection(Ne.name,G);this.applySection(G,Ye,Ne,me,le,re,Je)}}return le.activeSection&&null!=le.filterScope&&(0,R.Dl)(G.sections[G.activeSectionIndex]),re.suppressDataSourceVariables||this.applyDataSourceVariables(Y.dataSourceVariables,G,le),_.isEmpty(le.issues)||this.telemetryService.logEvent(P.b_,{context:"apply",issues:_.reduce(le.issues,function(pe,fe){return pe|fe.type},0)}),le},q.prototype.applyExplorationObjects=function(Y,G,me,re){var le={};Y&&Y.merge&&(le.merge=(0,s.d9)(Y.merge));var Ee=G.objects||{};for(var Ne in le.merge)for(var Ye=0,Je=le.merge[Ne];Ye<Je.length;Ye++){var _e=Je[Ye],pe=(0,s.zx)(Ee,Ne,_e.selector);for(var fe in _e.properties){var oe=_e.properties[fe];this.shouldApplyExplorationProperty(Ne,re)&&!(0,s.ES)(pe.properties[fe],oe)&&(me.objects=!0,pe.properties[fe]=oe)}}return me.objects&&!G.objects&&(G.objects=Ee),me},q.prototype.isDisplayOptions=function(Y){return void 0!==Y&&void 0!==Y.outspacePane&&void 0!==Y.visuals},q.prototype.shouldApplyExplorationProperty=function(Y,G){return"outspacePane"===Y&&this.isDisplayOptions(G.suppressDisplay)?!G.suppressDisplay.outspacePane:!G.suppressDisplay},q.prototype.applyFilterState=function(Y,G){for(var me={visualContainers:[],visualContainerGroups:[],issues:[]},re=0,le=Y;re<le.length;re++){var Ee=le[re],Ne=Ee.visual,Ye=Ee.state,Je=Ne.config.singleVisual,_e=this.plugins.capabilities(Je.visualType),pe=Ee.impacted;(pe=this.applyObjects(Ye,Je,Ye.objects,_e.objects,G,me)||pe)&&!_.includes(me.visualContainers,Ne)&&me.visualContainers.push(Ne)}return _.isEmpty(me.issues)||this.telemetryService.logEvent(P.b_,{context:"applyFilterState",issues:_.reduce(me.issues,function(fe,oe){return fe|oe.type},0)}),me},q.prototype.isActiveSection=function(Y,G){return Y===G.sections[G.activeSectionIndex].name},q.prototype.applyActiveSection=function(Y,G,me){if(d.fF.assertValue(Y,"activeSection"),d.fF.assertValue(G,"target"),d.fF.assertValue(me,"impact"),!this.isActiveSection(Y,G)){var re=(0,o.g2)(G.sections,Y);re>=0?(G.activeSectionIndex=re,me.activeSection=!0):me.issues.push({type:1})}},q.prototype.applyDataSourceVariables=function(Y,G,me){d.fF.assertValue(G,"target"),d.fF.assertValue(me,"impact"),Y?(G.dataSourceVariables=Y,me.dataSourceVariables=!0):G.dataSourceVariables=void 0},q.prototype.applyFilters=function(Y,G,me,re,le,Ee,Ne,Ye,Je){var _e=!1,pe=[],fe={nameIdentifiedMerges:_.clone(Y&&Y.nameIdentifiedMerges||{}),exprIdentifiedMerges:(0,e.__spreadArray)([],Y&&Y.exprIdentifiedMerges||[],!0),typeIdentifiedMerges:(0,e.__spreadArray)([],Y&&Y.typeIdentifiedMerges||[],!0),transientFilters:(0,e.__spreadArray)([],Y&&Y.transientFilters||[],!0)};if(_e=this.applyRemainingFilters(fe,G,0===me,re,pe,Ee,Ne,Ye,Je)||_e,le&&G.filters)for(var oe=G.filters.length-1;oe>=0;oe--){var ye=G.filters[oe];ye?ye.type!==C.vA.Passthrough&&(_.includes(pe,ye)||(2===ye.howCreated?(G.filters.splice(oe,1),this.addImpactCrossDrillSourceUpdate(Ne,G,0===me,re)):A(ye),_e=!0)):G.filters.splice(oe,1)}return _e&&this.setMinimumFilterScope(re,me),_e},q.prototype.applyRemainingFilters=function(Y,G,me,re,le,Ee,Ne,Ye,Je){var _e=this.applyTransientFilters(Y,G,le,re);if(_e=this.applyMatchingFilterByName(Y,G,le,re)||_e,!_.isEmpty(Y.nameIdentifiedMerges)){for(var pe in Y.nameIdentifiedMerges)Y.exprIdentifiedMerges.push(Y.nameIdentifiedMerges[pe]);Y.nameIdentifiedMerges={}}_e=this.applyMatchingFilterByExpr(Y,G,me,le,Ye,Je,re)||_e,_e=this.applyMatchingFilterByType(Y,G,le,re)||_e;var fe=this.applyDrillFilters(Y,G,le,Ee,re);return _e=fe||_e,fe&&this.addImpactCrossDrillSourceUpdate(Ne,G,me,re),_e},q.prototype.addImpactCrossDrillSourceUpdate=function(Y,G,me,re){if(function(q,Y){return!!q&&!!Y}(G,me)){d.fF.assertValue(Y,"section");var Ee=this.filterGenerator.updateCrossDrillFromVisualContainersOperation(Y,[G]);re.visualContainers=_.union(re.visualContainers,Ee)}else d.fF.assertFail("FiltersContainer of a drill filter should be VisualContainer."),re.issues.push({type:64})},q.prototype.applyMatchingFilterByName=function(Y,G,me,re){if(d.fF.assertAnyValue(Y,"remainingFiltersState"),d.fF.assertValue(G,"target"),d.fF.assertValue(me,"appliedTargetFilters"),_.isEmpty(Y)||_.isEmpty(Y.nameIdentifiedMerges)||_.isEmpty(G.filters))return!1;var le=!1,Ee=[],Ne=function(_e){var pe=Y.nameIdentifiedMerges[_e];pe.name!==_e&&(d.fF.assertFail("mismatched filter names"),re.issues.push({type:4}));var fe=_.findIndex(G.filters,function(oe){return oe.howCreated===pe.howCreated&&!_.includes(me,oe)&&oe.name===_e});-1!==fe&&(n.yl.isSameFilter(G.filters[fe].filter,pe.filter)||(N(G.filters[fe],pe),le=!0),Ee.push(_e),me.push(G.filters[fe]))};for(var Ye in Y.nameIdentifiedMerges)Ne(Ye);return Ee.forEach(function(Je){delete Y.nameIdentifiedMerges[Je]}),le},q.prototype.applyMatchingFilterByExpr=function(Y,G,me,re,le,Ee,Ne){if(d.fF.assertAnyValue(Y,"remainingFiltersState"),d.fF.assertValue(G,"target"),d.fF.assertValue(me,"isVisualScope"),d.fF.assertValue(re,"appliedTargetFilters"),_.isEmpty(Y)||_.isEmpty(Y.exprIdentifiedMerges))return!1;for(var _e,fe,Ye=!1,Je=!1,pe=(0,e.__spreadArray)([],Y.exprIdentifiedMerges||[],!0),oe=function(){var Be=fe.howCreated;if(2===Be)return pe.splice(0,1),"continue";var be=_.remove(pe,function(He){return He===fe||He.howCreated===Be&&(0,V.fS)(He.expression,fe.expression)}),Te=[];if((G.filters||[]).forEach(function(He,ke){He&&He.howCreated===Be&&!_.includes(re,He)&&!Ee(He)&&(0,V.fS)(He.expression,fe.expression)&&(!U(He)||He.name===fe.name)&&Te.push(ke)}),_.isEmpty(Te)&&me&&0===Be)if(fe.filter){1!==be.length&&(d.fF.assertFail("expecting <= 1 visual-level auto filter for an expression."),Ne.issues.push({type:8})),Je||(Je=!0,_e=(0,R.i4)(G,ye.visualPluginOps,le,ye.aggrOps));var ce=_.find(_e,function(He){return(0,V.fS)(He.expression,fe.expression)});ce&&((G.filters||(G.filters=[])).push(ce),Te.push(G.filters.length-1))}else _.remove(Y.exprIdentifiedMerges,fe),_.remove(be,fe);if(Te.length>0){for(var ve=Math.min(be.length,Te.length);be.length>ve;){var Re=_.findIndex(be,function(He){return _.isEmpty(He.filter)});if(-1===Re)break;be.splice(Re,1)}for(var Ke=0;Ke<ve;Ke++)n.yl.isSameFilter(G.filters[tt=Te[Ke]].filter,be[Ke].filter)||(N(G.filters[tt],be[Ke]),Ye=!0),re.push(G.filters[tt]);for(Ke=ve;Ke<be.length;Ke++){var mt=O(be[Ke]);(G.filters||(G.filters=[])).push(mt),re.push(mt),Ye=!0}for(Ke=ve;Ke<Te.length;Ke++){var tt;A(G.filters[tt=Te[Ke]]),Ye=!0}Y.exprIdentifiedMerges=_.difference(Y.exprIdentifiedMerges,be)}},ye=this;fe=_.head(pe);)oe();return Ye},q.prototype.applyDrillFilters=function(Y,G,me,re,le){var Ee=!1;if(_.isEmpty(re)||_.isEmpty(Y)||_.isEmpty(Y.exprIdentifiedMerges))return Ee;for(var Ne=[],Ye=function(oe){if(2!==oe.howCreated)return"continue";if(!_.find(re,function(be){return(0,V.fS)(oe.expression,be)}))return le.issues.push({type:32}),"continue";var Ce=_.find(G.filters,function(be){return 2===be.howCreated&&!_.includes(me,be)&&(0,V.fS)(be.expression,oe.expression)});if(Ce)n.yl.isSameFilter(Ce.filter,oe.filter)||(N(Ce,oe),Ee=!0),me.push(Ce);else{var Be=O(oe);(G.filters||(G.filters=[])).push(Be),me.push(Be),Ee=!0}Ne.push(oe)},Je=0,_e=Y.exprIdentifiedMerges;Je<_e.length;Je++)Ye(_e[Je]);return Y.exprIdentifiedMerges=_.difference(Y.exprIdentifiedMerges,Ne),Ee},q.prototype.applyMatchingFilterByType=function(Y,G,me,re){var le=!1;if(_.isEmpty(Y)||_.isEmpty(Y.typeIdentifiedMerges))return le;for(var Ee=[],Ne=function(fe){3===fe.howCreated||4===fe.howCreated||(d.fF.assertFail("Only include/exclude supported"),re.issues.push({type:16}));var oe=_.find(G.filters,function(Ce){return Ce.howCreated===fe.howCreated&&!_.includes(me,Ce)});if(oe)N(oe,fe),me.push(oe);else{var ye=O(fe);(G.filters||(G.filters=[])).push(ye),me.push(ye)}Ee.push(fe),le=!0},Ye=0,Je=Y.typeIdentifiedMerges;Ye<Je.length;Ye++)Ne(Je[Ye]);return Y.typeIdentifiedMerges=_.difference(Y.typeIdentifiedMerges,Ee),le},q.prototype.applyTransientFilters=function(Y,G,me,re){var le=!1;if(!_.isEmpty(Y)&&!_.isEmpty(Y.transientFilters)){for(var Ee=function(fe){5===fe.howCreated&&!0===fe.isTransient||(d.fF.assertFail("only drillthrough transient filters are supposed to be in transientMerges"),re.issues.push({type:2}));var oe=_.find(G.filters,function(Ce){return Ce.isTransient&&!_.includes(me,Ce)&&n.yl.isSameFilter(Ce.filter,fe.filter)});if(oe)N(oe,fe),me.push(oe);else{var ye=O(fe);(G.filters||(G.filters=[])).push(ye),me.push(ye)}le=!0},Ne=0,Ye=Y.transientFilters;Ne<Ye.length;Ne++)Ee(Ye[Ne]);Y.transientFilters=[]}var _e=_.remove(G.filters,function(pe){return pe&&pe.isTransient&&!_.includes(me,pe)});return le=le||!_.isEmpty(_e)},q.prototype.applySection=function(Y,G,me,re,le,Ee,Ne){Ee.suppressData||Ee.targetVisualNames||this.applyFilters(G.filters,me,1,le,Ee.clearUnmatchedData,[],me,re,function(ve){return(0,w.fF)(Y,me,ve)});for(var Je=function(ve){var Re,Ke=ve.name;if(Ee.targetVisualNames&&!_.includes(Ee.targetVisualNames,Ke))return"continue";var tt=G.visualContainers&&G.visualContainers[Ke],mt=void 0;if(null!=tt?(mt=_e.applyVisualState(Y,tt,me,ve,re,le,Ee,Ne,!0),tt.highlight&&!Ee.suppressData&&Ne&&(d.fF.assert(function(){return!_.isEmpty(tt.highlight.selection)},"Selection is empty"),_e.isSelectionValid(tt.highlight.selection,ve.config.singleVisual,re)&&(null==le.pendingHighlights&&(le.pendingHighlights=[]),d.fF.assert(function(){return!Ee.suppressData},"suppressData"),le.pendingHighlights.push({selection:tt.highlight.selection,sourceVisualContainer:ve,filterExpressionMetadata:tt.highlight.filterExpressionMetadata})))):Ee.clearUnmatchedData&&(mt=_e.applyVisualState(Y,{},me,ve,re,le,Ee,Ne,!1)),!_.isEmpty(mt)){var ke=_.without.apply(_,(0,e.__spreadArray)([mt],le.visualContainers||[],!1));(Re=le.visualContainers).push.apply(Re,ke||[])}},_e=this,pe=0,fe=me.visualContainers;pe<fe.length;pe++)Je(fe[pe]);for(var ye=this.getCrossHighlights(me),Ce=0,Be=me.visualContainerGroups;Ce<Be.length;Ce++){var be=Be[Ce];if((0,y.q4)(be)){var Te=G.visualContainerGroups&&G.visualContainerGroups[be.name];null!=Te&&this.applyVisualGroupState(Te,me,be,le,Ee,ye)}}},q.prototype.applyVisualState=function(Y,G,me,re,le,Ee,Ne,Ye,Je){var _e,pe,fe;d.fF.assertValue(le,"schema: applying a full visual state should include schema for group-on key checking for filter updates");var oe=!1,ye=G.singleVisual;if(!Ne.suppressData){var Ce=null===(pe=null===(_e=Ne.defaultPresentationState)||void 0===_e?void 0:_e[me.name])||void 0===pe?void 0:pe[re.name],be=!1,Te=!1;if(this.presentationChangesAllowed(Y,Ne,re,ye,this.visualPluginOps)){var ce=this.applyPresentationChanges(re,ye,Ce,ye&&ye.parameters,le);be=ce.changesApplied,Te=ce.parametersRemoved}var ve=!1;this.featureSwitchService.featureSwitches.fieldParameters&&(ve=this.applyParameterStateByRole(le,re,ye,Te));var Ke=this.applySort(re.config.singleVisual,ye&&ye.orderBy,Ne.clearUnmatchedData),mt=ye?!!ye.isDrillDisabled:!(null===(fe=re.config.singleVisual.query)||void 0===fe||!fe.isDrillDisabled),He=this.applyActiveProjectionsAndDrillState(re.config.singleVisual,ye&&ye.activeProjections,Ne.clearUnmatchedData,mt),ke=this.collectValidDrillExprs(re.config.singleVisual),ft=this.applyFilters(G.filters,re,0,Ee,Ne.clearUnmatchedData,ke,me,le,this.nonDrillthroughIsLinkedAsAggregationCallback),Q=this.applyExpansionStates(re,ye&&ye.expansionStates,Ne.clearUnmatchedData,le,Ee),Ue=this.plugins.capabilities(re.config.singleVisual.visualType),Se=!1;Ue&&Ue.objects&&(Se=this.applyObjects(ye,re.config.singleVisual,ye&&ye.objects,Ue.objects,le,Ee)),oe=Se||be||Ke||He||ft||Q||ve}var nt=[];if(!this.getSuppressDisplayOptions(Ne).visuals){var We=G.visibility;if(null!=We&&Ye&&(Ee.visibility={visual:re,mode:We}),!Je||ye){var te=!1;ye?te=!!ye.hidden:Ne.suppressUnmatchedClearHidden&&(te=(0,b.xj)(re.config.singleVisual)),nt.push.apply(nt,this.applyHidden(te,re,me)||[])}}return oe&&!_.includes(nt,re)&&nt.push(re),nt},q.prototype.applyPresentationChanges=function(Y,G,me,re,le){var Ee=Y.config.singleVisual;if(!G)return{changesApplied:!1,parametersRemoved:!1};var Ne=!G.targetType;if(Ne&&!Ee.presentationChangesApplied)return{changesApplied:!1,parametersRemoved:!1};var Ye=!1,Je=Ne?null==me?void 0:me.visualType:G.targetType,_e=Ne?null==me?void 0:me.autoSelectVisualType:G.targetAutoSelectVisualType,pe=Ne?null==me?void 0:me.projections:G.projections;Je&&(Ye=Je!==Ee.visualType,Ee.visualType=Je),null!=_e&&(Ye=Ye||_e!==Ee.autoSelectVisualType,Ee.autoSelectVisualType=_e),!Ee.query&&pe&&(Ee.query=new D.g(n.vQ.create(),{},[]));var fe=Ee.query;return pe&&fe?(this.applyVisualQueryPresentationChanges(fe,pe,re,Y,le),Ee.presentationChangesApplied=!Ne,{changesApplied:!0,parametersRemoved:!0}):(Ee.presentationChangesApplied=Ye,{changesApplied:Ye,parametersRemoved:!1})},q.prototype.applyParameterStateByRole=function(Y,G,me,re){if(!me||!me.parameters)return!1;var le=G.config.singleVisual;if(!le.query&&re)le.query=new D.g(n.vQ.create(),{},[]);else if(!le.query)return!1;var Ee=me.parameters,Ne=le.query,Ye={},Je=Ne.getResolveParameterResultsByRole();for(var _e in Ee){var pe=Ee[_e];Ye[_e]=[];var fe=Ne.projections[_e];if(!fe&&re&&pe.length>0&&(fe=Ne.projections[_e]=new h.NQ([])),fe)for(var oe=function(Te){var ve,ce=pe[Te];if(re){var Re=Ne.addParameter(ce.expr,_e,ce.index);ve=fe.getParameterByFieldIndex(Re);var Ke=Je[_e];Ke||(Ke=Je[_e]=[]),Ke.push({parameter:ve,result:[]})}else{var tt=_.find(Ye[_e],function(Q){return(0,V.fS)(Q.expr,ce.expr)}),mt=tt?tt.count:0,He=_.sortBy(fe.findParameterBySQExpr(ce.expr),function(Q){return Q.index});if(mt>=He.length)return"continue";ve=He[mt],tt?tt.count++:Ye[_e].push({expr:ce.expr,count:1})}var ft=_.find(Je[_e],function(Q){return Q.parameter.index===ve.index}),Le=ye.getProjectionsForParameter(pe,Te,me.projections,_e);ft.result=_.map(Le,function(Q){return{expr:Q,alias:void 0}})},ye=this,Ce=0;Ce<pe.length;Ce++)oe(Ce)}return this.visualAuthoringCore.resolveParameters(Y,G,Je,this.drillService,this.sortService,void 0).queryChange},q.prototype.getProjectionsForParameter=function(Y,G,me,re){var le=[],Ee=Y[G];if(void 0!==Ee.length&&Ee.length>0)for(var Ne=(0,a.VZ)(Ee.index,Y),Ye=Ne;Ye<Ne+Ee.length;Ye++)le.push(me[re][Ye]);return le},q.prototype.applyVisualQueryPresentationChanges=function(Y,G,me,re,le){for(var Ee in Y.projections)this.visualAuthoringCore.removeAllParametersAndProjectionsFromRole(Ee,re,le,this.drillService,this.sortService);for(var Ee in G){var Ne=this.getNonParameterExpressions(G[Ee],me,Ee),Ye=void 0;for(Ye=0;Ye<Ne.length;Ye++){var Je=Ne[Ye],_e=!1;if(Y.projections[Ee])for(var pe=Y.tryGetExprs(Ee),fe=Ye;fe<pe.length;fe++)if((0,V.fS)(pe[fe],Je,!0,!0,!0)){_e=!0,fe!==Ye&&Y.moveProjection(Ee,fe,Ye,1);break}_e||Y.add(Je,Ee,{fieldIndex:Ye})}if(Y.projections[Ee])for(var ye=Y.tryGetExprs(Ee).length;ye>Ne.length&&ye>0;)Y.removeProjection(Ee,{fieldIndex:--ye})}for(var Ee in Y.projections)if(null==(Ne=this.getNonParameterExpressions(G[Ee],me,Ee))||!Ne.length){ye=Y.tryGetExprs(Ee).length;for(var Ce=0;Ce<ye;Ce++)Y.removeProjection(Ee,{fieldIndex:0})}},q.prototype.getNonParameterExpressions=function(Y,G,me){if(Y){for(var re=[],le=function(Ye){var Je=G&&G[me];if(Je&&Je.length>0&&_.find(Je,function(pe){var fe=(0,a.VZ)(pe.index,Je);return void 0!==pe.length&&pe.length>0&&Ye>=fe&&Ye<=fe+pe.length-1}))return"continue";null!==Y[Ye]&&re.push(Y[Ye])},Ee=0;Ee<Y.length;Ee++)le(Ee);return re}},q.prototype.applyVisualGroupState=function(Y,G,me,re,le,Ee){if(!le.targetVisualNames||_.includes(le.targetVisualNames,me.name)){var Ye=void 0;if(!this.getSuppressDisplayOptions(le).visuals){var _e=Y.isHidden;if(null!=_e&&_e!==me.isHidden&&(me.isHidden=_e,Ye=!0),_e&&!_.isEmpty(Ee)){var fe=this.clearCrossHighlightsForGroup(me,G,Ee);re.visualContainers=_.chain(re.visualContainers).concat(fe).uniq().value()}}Ye&&re.visualContainerGroups.push(me)}if(!_.isEmpty(Y.children)){var oe=function(be){var Te=Y.children[be],ce=_.find(me.children,function(ve){return ve.name===be});if(!Te||!ce||!(0,y.q4)(ce))return"continue";ye.applyVisualGroupState(Te,G,ce,re,le,Ee)},ye=this;for(var Ce in Y.children)oe(Ce)}},q.prototype.getSuppressDisplayOptions=function(Y){var G=Y.suppressDisplay;return this.isDisplayOptions(G)?G:{outspacePane:G,visuals:G}},q.prototype.applyFilterExpressionCache=function(Y,G,me){me?this.clearFilterExpressionCache(G):(G.filterExpressionMetadata=Y.filterExpressionMetadata,G.cachedFilterDisplayItems=Y.cachedFilterDisplayItems)},q.prototype.clearFilterExpressionCache=function(Y){Y.filterExpressionMetadata=void 0,Y.cachedFilterDisplayItems=void 0},q.prototype.applyHidden=function(Y,G,me){var re=G.config.singleVisual;if(Y!==(0,b.xj)(re)){(0,b.Zk)(re,Y);var le=[G];return Y&&(le=_.chain(le).concat(this.clearCrossHighlightsForVisual(G,me)).uniq().value()),le}},q.prototype.clearCrossHighlightsForGroup=function(Y,G,me){var le,re=[];return(0,y.Iw)([Y],function(Ne){(0,y.Vz)(Ne)&&_.some(me,function(Ye){return Ye.sourceVisualContainer===Ne})&&re.push(Ne)}),_.isEmpty(re)||(le=this.clearCrossHighlightsForVisuals(re,G)),le||[]},q.prototype.clearCrossHighlightsForVisual=function(Y,G){return this.clearCrossHighlightsForVisuals([Y],G)},q.prototype.clearCrossHighlightsForVisuals=function(Y,G){var me=(0,e.__spreadArray)([],Y||[],!0);return me.push.apply(me,this.filterGenerator.clearCrossHighlightForVisualContainersOperation(G,Y)||[]),_.uniq(me)},q.prototype.collectValidDrillExprs=function(Y){var G=Y.query;if(!G)return[];var me=G.defn.select();if(_.isEmpty(me))return[];var re=[];for(var le in G.projections)for(var Ee=G.projections[le],Ye=_.last(Ee.activeProjectionRefs||[]),Je=0,_e=Ee.all();Je<_e.length;Je++){var pe=_e[Je];if(Ye&&pe.queryRef===Ye)break;var fe=me.withName(pe.queryRef);re.push(fe.expr)}return re},q.prototype.applyActiveProjectionsAndDrillState=function(Y,G,me,re){var le=Y.query;if(!le)return!1;var Ee=le.defn.select(),Ne=this.plugins.capabilities(Y.visualType),Ye=Ne&&Ne.drilldown||{roles:[],suppresDrillOperations:!1},Je=Ye.roles,_e=Ye.suppresDrillOperations,pe=!1,fe={},oe=function(ve){if(!_.includes(Je,ve))return"continue";var Re=G[ve];d.fF.assertNonEmpty(Re,"activeExprsForRole"),fe[ve]||(fe[ve]=[]);var Ke=le.projections[ve];if(!Ke)return pe=!0,"continue";var tt=Ke.all();if(_.isEmpty(tt)||Re.length>tt.length)return pe=!0,"continue";if(1!==Re.length||_e)for(var ke=function(Q){d.fF.assert(function(){return Q<=tt.length},"existingProjections.length");var Ue=Re[Q],ae=tt[Q],Se=Ee.withName(ae.queryRef);if(d.fF.assertValue(Se,"found queryRef with no corresponding select"),!(0,V.fS)(Se.expr,Ue))return pe=!0,"continue";fe[ve].push(ae.queryRef)},ft=0;ft<Re.length;ft++)ke(ft);else{var mt=Re[0],He=_.find(tt,function(Le){var Q=Ee.withName(Le.queryRef);return d.fF.assertValue(Q,"found queryRef with no corresponding select"),(0,V.fS)(Q.expr,mt)});if(!He)return pe=!0,"continue";fe[ve].push(He.queryRef)}};for(var ye in G)oe(ye);if(pe)for(var ye in le.projections)fe[ye]=[];var Ce=!1;if(le.isDrillDisabled!==re&&(0,E.S1)(Ne))le.changeDrillStateValue(Je,re,fe),Ce=!0;else for(var ye in le.projections)if(_.includes(Je,ye)){var Be=le.projections[ye],be=fe[ye];if(_.isEmpty(be)&&!re){if(!me)continue;var Te=Be.all();_.isEmpty(Te)||(be=[_.head(Te).queryRef])}(0,o.NF)(Be.activeProjectionRefs,be,function(ve,Re){return ve===Re})||(Be.activeProjectionRefs=be,Ce=!0)}return Ce},q.prototype.applySort=function(Y,G,me){var re=Y.query;if(!re)return!1;var le=re.defn.orderBy()||[];return!(!G&&!me||(G=G||[],(0,o.NF)(le,G,V.ll))||(re.orderBy(G),0))},q.prototype.applyObjects=function(Y,G,me,re,le,Ee){d.fF.assertValue(G,"singleVisual"),d.fF.assertAnyValue(me,"contractUpdates"),d.fF.assertAnyValue(le,"schema"),d.fF.assertValue(re,"objectDescs");var Ne={};me&&(me.merge&&(Ne.merge=(0,s.d9)(me.merge)),me.remove&&(Ne.remove=me.remove.slice()));var _e,Ye=G.objects||{},Je=(0,u.MD)(re),pe=this.plugins.getPlugin(G.visualType);this.applyPluginUpdateSemantics(pe,Ne,Ye,re),Ne.remove||(Ne.remove=this.getVisualPropertiesToRemove(G.visualType,Ye,Ne.merge));var fe=this.mergeObjects(Y,G,Ne.merge,Ye,Ee,le,Je);return _e=_e||fe.visualImpacted,Ne.remove=Ne.remove.concat(fe.removeList),this.removeObjects(G,Ye,Ne.remove,Ee,Je)||_e},q.prototype.updateQueryProjectionsFromExpansionState=function(Y,G,me){var re=this;if(_.isEmpty(G))return!1;for(var le=function(pe){var fe=pe.getVisibleDescendentsDepth(pe.root,-1),oe=Math.max(_.findLastIndex(pe.levels,function(ve){return ve.isPinned})+1,fe),ye=function(Re){var Ke=pe.roles[Re];return d.fF.assertValue(Y.projections[Ke],"Invalid role ".concat(Ke)),Y.projections[Ke]&&Y.projections[Ke].all()},Ce=function(Re){var mt,Ke=0,tt=ye(0),He=0,ke=function(){if(He===_.size(tt)&&(He=0,++Ke>=_.size(pe.roles)||!(tt=ye(Ke))))return"break";var Q=pe.levels[mt];d.fF.assert(function(){return 1===_.size(Q.queryRefs)},"Composite groups are not supported, expected only one queryRef.");var Ue=_.findIndex(tt,function(ae){var Se,nt=null===(Se=(0,a.SA)(Y.defn,ae))||void 0===Se?void 0:Se.expr;return ae.queryRef===_.first(Q.queryRefs)&&re.verifyExpansionIdentities(Q,nt,me)},Re?He:0);if(-1===Ue)return"break";Re&&He!==Ue&&Y.moveProjection(pe.roles[Ke],Ue,He,1)};for(mt=0;mt<_.size(pe.levels)&&"break"!==ke();mt++,He++);return mt};if(!(Ce(!1)>=oe))return{value:!1};_.remove(Y.expansionStates,function(ve){return _.isEqual(ve.roles,pe.roles)}),Ce(!0);var be=pe.clone();Y.setActiveProjections(be.roles,fe);var Te=Y.getRolesUniqueProjectionRefs(be.roles),ce=_.findIndex(be.levels,function(ve){return ve.isCollapsed});be.updateLevels(Te,-1===ce?fe:ce),Y.expansionStates||(Y.expansionStates=[]),Y.expansionStates.push(be)},Ee=0,Ne=G;Ee<Ne.length;Ee++){var Je=le(Ne[Ee]);if("object"==typeof Je)return Je.value}return!0},q.prototype.applyExpansionStates=function(Y,G,me,re,le){var Ee=this,Ne=Y.config.singleVisual,Ye=Ne.query;if(!Ye)return!1;if(!G&&!me||(0,S.wy)(Ye.expansionStates||[],G=G||[]))return!1;var _e=this.plugins.capabilities(Ne.visualType);return _e&&_e.expandCollapse&&_e.expandCollapse.restoreProjectionsOrderFromBookmark?this.updateQueryProjectionsFromExpansionState(Ye,G,re):(Ye.expansionStates=(0,S.d9)(_.filter(G,function(fe){1!==fe.roles.length&&(d.fF.assertFail("explorationState.applyExpansionStates -\n                        We currently only support 1 role in the bookmark validation code path,\n                        in the case of this assert triggering update this code to handle multiple roles."),le.issues.push({type:256}));var oe=Ye.projections[fe.roles[0]],ye=oe&&oe.all()||[];return!(!Ee.expandCollapse.isEnabled(Y,fe.roles)||1!==fe.roles.length||ye.length<fe.levels.length)&&_.every(fe.levels,function(Ce,Be){var be;d.fF.assert(function(){return 1===Ce.queryRefs.length},"explorationState.applyExpansionStates -\n                            We currently assume there's only 1 queryRef, in the case of composite groups update this code.");var Te=ye[Be],ce=null===(be=(0,a.SA)(Ye.defn,Te))||void 0===be?void 0:be.expr;return Te.queryRef===Ce.queryRefs[0]&&Ee.verifyExpansionIdentities(Ce,ce,re)})})),!0)},q.prototype.verifyExpansionIdentities=function(Y,G,me){var re=new l.H;return _.isEmpty(Y.identityKeys)||(0,o.NF)(Y.identityKeys,G.accept(re,me),V.fS)},q.prototype.applyPluginUpdateSemantics=function(Y,G,me,re){if(G&&Y&&Y.mergeObjects){var le=(0,v.Ue)(),Ne=(0,i.G3)(me,re,le,this.featureSwitchService.featureSwitches).dataViewObjects,Ye=(0,i.G3)(G.merge||{},re,le,this.featureSwitchService.featureSwitches),_e=Y.mergeObjects({objects:Ne,changes:Ye.dataViewObjects});if(_e){if(d.fF.assert(function(){return null==_e.removeObject&&null==_e.replace},"Unsupported merge actions"),_e.merge){G.merge={};for(var pe=0,fe=_e.merge;pe<fe.length;pe++){var oe=fe[pe];for(var ye in oe.properties){var Be=(0,s.Lo)(oe.properties[ye],Y.capabilities.objects[oe.objectName].properties[ye].type);(0,s.sO)(G.merge,{objectName:oe.objectName,propertyName:ye},oe.selector,Be)}}}if(_e.remove){G.remove=[];for(var be=0,Te=_e.remove;be<Te.length;be++)for(var ye in(oe=Te[be]).properties)G.remove.push({object:oe.objectName,property:ye,selector:oe.selector})}}}},q.prototype.mergeObjects=function(Y,G,me,re,le,Ee,Ne){var Ye={visualImpacted:!1,removeList:[]};if(_.isEmpty(me))return Ye;for(var Je in me)for(var _e=0,pe=me[Je];_e<pe.length;_e++){var fe=pe[_e],oe=(0,s.zx)(re,Je,fe.selector);for(var ye in fe.properties){var Ce=fe.properties[ye];if(!(0,s.ES)(oe.properties[ye],Ce)){if(Ne&&r(Ne,{objectName:Je,propertyName:ye})){var Be=!!this.isFilterValid(Ce,G,Ee);if(this.applyFilterExpressionCache(Y,G,!Be),!Be){le.issues.push({type:128}),Ye.removeList.push({object:Ne.objectName,property:Ne.propertyName,selector:null});continue}this.setMinimumFilterScope(le,1)}oe.properties[ye]=Ce,Ye.visualImpacted=!0,G.objects||(G.objects=re)}}}return Ye},q.prototype.removeObjects=function(Y,G,me,re,le){if(_.isEmpty(me))return!1;for(var Ee=!1,Ne=0,Ye=me;Ne<Ye.length;Ne++){var Je=Ye[Ne],pe=Je.object,fe=Je.property;(0,s.E2)(G,pe,Je.selector,fe)&&(Ee=!0,le&&r(le,{objectName:pe,propertyName:fe})&&(this.clearFilterExpressionCache(Y),this.setMinimumFilterScope(re,1)))}return Ee},q.prototype.getVisualPropertiesToRemove=function(Y,G,me){var re=this.plugins.capabilities(Y);if(!re||!re.objects)return[];var Ee=(0,u.MD)(re.objects),Ne=[];for(var Ye in re.objects){var Je=re.objects[Ye];for(var _e in Je.properties){var pe=Je.properties[_e];if(!pe.persistUnmatchedState&&(pe.filterState||pe.captureState||Ee&&r(Ee,{objectName:Ye,propertyName:_e}))){var fe={objectName:Ye,propertyName:_e},oe=(0,s.NA)(me,fe,null);(0,s.NA)(G,fe,null)&&!oe&&Ne.push({object:Ye,property:_e,selector:null})}}}return Ne},q.prototype.isFilterValid=function(Y,G,me){d.fF.assertAnyValue(me,"if no schema is specified, we will not check for group-on key inclusion in a query");var re=G.query;if(!re)return!1;var le=new he(re.defn,me);return Y.rewrite(le),le.valid},q.prototype.isSelectionValid=function(Y,G,me){var re=(0,c.k_)(Y);if(!re)return d.fF.assertFail("Could not create filter from selection"),!1;var Ee=new n.Je(m.F0.instance).rewriteFrom(re.from()),Ne=_.map(re.where(),function(Ye){return{condition:Ye.condition.accept(m.F0.instance)}});return re=new n.yl(Ee,Ne),this.isFilterValid(re,G,me)},q.prototype.setMinimumFilterScope=function(Y,G){Y.filterScope=Y.filterScope?Math.max(G,Y.filterScope):G},q.prototype.getAdditionalVisualFiltersToCapture=function(Y,G){for(var me=[],le=function(_e){_.find(Y.filters,function(pe){return(0,V.fS)(pe.expression,_e.expression)})||me.push(_e)},Ee=0,Ne=(0,R.i4)(Y,this.visualPluginOps,G,this.aggrOps)||[];Ee<Ne.length;Ee++)le(Ne[Ee]);return me},q.prototype.presentationChangesAllowed=function(Y,G,me,re,le){if(!Y.settings||!Y.settings.allowInlineExploration||!G.applyPresentationChanges)return!1;var Ee=me&&me.config&&me.config.singleVisual;if(!Ee)return!1;var Ye=re&&re.visualType;if(![function(fe){return le.isQnaVisual(fe)},function(fe){return le.isQueryVisual(fe)}].some(function(fe){return fe(Ye)}))return!1;var pe=(0,s.NA)(Ee&&Ee.vcObjects,{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},null);return!(pe&&!1===pe.value)},q}(),he=function(q){function Y(G,me){var re=this;return d.fF.assertValue(G,"query"),d.fF.assertAnyValue(me,"if no schema is provided, we do not check group-on keys"),(re=q.call(this)||this).valid=!0,re.query=G,re.schema=me,re}return(0,e.__extends)(Y,q),Y.prototype.visitColumnRef=function(G){return this.valid=this.valid&&this.exprInSelects(G),G},Y.prototype.exprInSelects=function(G){var me=_.some(this.query.select(),function(Je){return(0,V.fS)(Je.expr,G,!0,!0)});if(me)return!0;if(!this.schema)return me;for(var le=0,Ee=this.query.select();le<Ee.length;le++){var Ye=Ee[le].expr.getKeyColumns(this.schema);if(_.some(Ye,function(Je){return(0,V.fS)(G,Je,!0,!0)}))return!0}return!1},Y}(f.b)},950327:function(Xe,H,t){t.d(H,{TW:function(){return v}});var e=t(947634),l=t(716742),o=t(480819),d=t(927903);function v(r,s){var u={},i=s.getCurrentSection(),a=s.getCurrentExploration(),n=s.getExplorationTelemetryData();switch(i&&(u={activeSectionId:i.id,sectionGuid:i.objectId,sectionIndex:a&&a.activeSectionIndex},(r.name===l.GD||r.name===l.Ef||r.name===l.z6||r.name===l.OX||r.name===l.jn)&&(u.visualTypesAndCounts=JSON.stringify((0,d.a8)(i)))),n&&(u.modelId=n.modelId,u.reportGuid=n.reportGuid,u.dataCacheMode=n.dataCacheMode,u.datasetHost=n.datasetHost,u.dbName=n.dbName,u.enterpriseCapacitySkuTier=n.enterpriseCapacitySkuTier,u.isDirectQuery=n.isDirectQuery,u.isOnPrem=n.isOnPrem,u.exid=n.exid,u.exsid=n.exsid),r.name){case l.GD:(function(r,s){s&&!_.isEmpty(s.sections)&&(r.areAnySectionQuickExplore=(0,o.sk)(s.sections),r.creationSource=s.creationSource)})(u,a),h(u,i,n);break;case l.Ef:h(u,i,n)}if(!_.isEmpty(u)){var m=r.formatted||function(){return{}};r.formatted=function(){return(0,e.lG)(m.apply(r),u)}}}function h(r,s,u){s&&(r.usageReportSection=u&&u.isNewUsageMetrics?s.displayName:void 0),u&&(r.isNewUsageMetrics=u.isNewUsageMetrics,r.isUsageMetrics=u.isUsageMetrics)}},582915:function(Xe,H,t){t.d(H,{n:function(){return S}});var e=t(498342),l=t(382088),o=function(c){return c[c.None=0]="None",c[c.DuplicatedName=1]="DuplicatedName",c}({}),v=function(){function c(r,s){this.federatedConceptualSchema=r,this.localizationService=s}return c.prototype.validateExistingMeasureName=function(r){for(var s=c.normalizeModelItemName(r.name),u=0,i=this.federatedConceptualSchema.schemas;u<i.length;u++)for(var n=0,m=i[u].entities;n<m.length;n++)for(var f=m[n],V=0,p=f.properties;V<p.length;V++){var C=p[V];if(C!==r&&c.normalizeModelItemName(C.name)===s)return{error:o.DuplicatedName,reason:this.localizationService.format(C.measure?"NameValidationFailedCollisionMeasure":"NameValidationFailedCollisionColumn",[C.name,f.name])}}return{error:o.None}},c.normalizeModelItemName=function(r){return(0,l.m5)(r)},c}();function S(c){return new h(c)}var h=function(){function c(r){this.localization=r}return c.prototype.validate=function(r){if(r)for(var s=function(c,r){return new v(c,r)}(r,this.localization),u=0,i=r.schemas;u<i.length;u++){var a=i[u];if(a.isExtensionSchema){var n=r.schema(a.extends);e.fF.assertValue(n,"mainSchema");for(var m=0,f=a.entities;m<f.length;m++){var V=f[m],p=!1;n.entities.withName(V.name)||(p=!0,V.errorMessage=this.localization.get("ReportMeasuresMissingTableErrorMessage"),V.queryable=1,V.isAbandoned=!0);for(var y=0,D=V.properties;y<D.length;y++){var P=D[y];if(1===P.kind){var F=s.validateExistingMeasureName(P);F.error===o.DuplicatedName?(P.errorMessage=F.reason,P.queryable=1):p&&(P.errorMessage=this.localization.get("ReportMeasuresMissingTableMeasureErrorMessage"),P.queryable=1)}}}}}},c}()},636755:function(Xe,H,t){t.d(H,{X:function(){return R}});var e=t(973188),l=t(247740),o=t(188733),d=t(498342),v=t(812454),S=t(204553),h=t(509607),c=t(844722),r=t(114096),s=t(678776),u=t(430912),i=t(556871),a=t(249039),n=t(497141),m=t(644585),f=t(927903),V=t(40152),p=t(155414),C=function(){function L(M){this.visualPlugins=M,this.collectedFilters=[]}return L.prototype.collectFilters=function(M,T,O){if(!_.isEmpty(M))for(var N=0,A=M;N<A.length;N++){var I=A[N];!I||!I.filter||this.collectFilter(I.filter,I,O,T)}},L.prototype.collectFiltersForFilterContainer=function(M,T,O,N){if(M)for(var A=0,I=M;A<I.length;A++){var B=I[A];!B.filter||B===O||this.collectFilter(B.filter,B,N,T)}},L.prototype.collectFilter=function(M,T,O,N,A){var I;d.fF.assertAnyValue(M,"filter"),d.fF.assertAnyValue(T,"filterContainer"),d.fF.assertAnyValue(O,"sourceVisualContainer"),M&&(O&&(I=(0,f.cj)(O,this.visualPlugins)),this.collectedFilters.push({filter:M,filterContainer:T,sourceVisualContainer:O,sourceVisualContainerCapabilities:I,scopeType:N,collectedFilterSource:A}))},L.prototype.getCollectedFilters=function(){return this.collectedFilters},L}(),b=t(979868),y=t(273269),D=t(512322),P=t(603662),F=function(){function L(M){d.fF.assertValue(M,"options"),this.options=M}return L.prototype.resolveSemanticQuery=function(M){return M?M.where(this.resolveFilters(M.where()),M.from()):null},L.prototype.resolveFilters=function(M){var T=this;return M?_.map(M,function(O){return T.resolveFilter(O)}):null},L.prototype.resolveFilter=function(M){if(!M)return null;if(M.target)return M;if(M.condition)switch((0,c._)(M.condition)){case 0:return this.resolveColumnFilter(M);case 2:return this.resolveExistsFilter(M);case 1:return this.resolveMeasureFilter(M);case 3:return this.resolveSubqueryFilter(M);default:return void d.fF.assertFail("Unsupported filter kind!")}},L.prototype.resolveColumnFilter=function(M){return{condition:M.condition,annotations:M.annotations}},L.prototype.resolveMeasureFilter=function(M){var T=this,O=null;this.options.mappings&&this.options.mappings.measureFilter&&(O=this.options.mappings.measureFilter.targetRoles),(!O||!_.some(O,function(Y){return T.options.queryProjections[Y]}))&&(O=this.getDefaultMeasureFilterTargetRoles());var N,A,I=M.condition;if(O){for(var B=0,U=O;B<U.length;B++){var j=this.options.queryProjections[U[B]];if(j)for(var K=function(){var G=ee.options.select.filter(function(Ne){return Ne.name===q.queryRef});d.fF.assert(function(){return!_.isEmpty(G)&&1===G.length},"Expected exactly one projection with the specified name.");var me=G[0].expr,re=G[0].name;d.fF.assert(function(){return null!==re},"Expected select name to be populated");var le=me.getMetadata(ee.options.schema);le&&1!==le.kind&&(!N||!N[re])&&(A||(A=[],N={}),A.push(me),N[re]=!0)},ee=this,ie=0,he=j.all();ie<he.length;ie++){var q=he[ie];K()}}d.fF.assertNonEmpty(A,"resolveMeasureFilter we are not supposed to have a filter with empty targets"),I=E.rewrite(I,O)}return{target:A,condition:I,annotations:M.annotations}},L.prototype.resolveExistsFilter=function(M){return d.fF.assertNonEmpty(M.target,"Exists filters must specify targets."),M},L.prototype.resolveSubqueryFilter=function(M){return{condition:M.condition,annotations:M.annotations}},L.prototype.getDefaultMeasureFilterTargetRoles=function(){return(this.options.dataRoles?this.options.dataRoles.filter(function(T){return T.kind===y.DW.Grouping||T.kind===y.DW.GroupingOrMeasure}):[]).map(function(T){return T.name})},L}(),E=function(L){function M(T){var O=L.call(this)||this;return O.filterTargetRoles=T,O}return(0,e.__extends)(M,L),M.rewrite=function(T,O){d.fF.assertValue(T,"filterCondition"),d.fF.assertValue(O,"filterTargetRoles");var N=new M(O);return T.accept(N)},M.prototype.visitScopedEval=function(T){var O=this,N=_.filter(T.scope,function(A){return!(0,b.yL)(A)||_.includes(O.filterTargetRoles,A.role)});return N.length===T.scope.length?T:new D.kC(T.expression,N)},M}(P.b),w=t(173818),x=t(643293);function R(L,M,T,O,N,A,I,B,U){return new g(L,M,T,O,N,A,I,B)}var g=function(){function L(M,T,O,N,A,I,B,U){this.eventBridge=M,this.visualPlugins=T,this.aggrOps=O,this.relationshipService=N,this.hostFilters=A,this.telemetryService=I,this.scriptVisuals=B,this.featureSwitchService=U,d.fF.assertValue(this.eventBridge,"eventBridge"),d.fF.assertValue(this.visualPlugins,"visualPlugin"),d.fF.assertValue(this.aggrOps,"aggrOps"),d.fF.assertValue(this.relationshipService,"visualRelationship"),d.fF.assertValue(this.hostFilters,"hostFiltersService"),d.fF.assertValue(this.telemetryService,"telemetryService"),d.fF.assertValue(this.scriptVisuals,"scriptVisuals")}return L.prototype.collectVisualContainerFilters=function(M,T,O){var N=new C(this.visualPlugins);N.collectFilters(O.filters,0,O),T&&(N.collectFilters(T.filters,1),this.collectCrossFilter(N,T,O)),this.collectSelfFilter(N,O,null),M&&N.collectFilters(M.filters,2);var A=this.hostFilters.getSelectedHostFilters();return A&&N.collectFilters(A.filters,1),N.getCollectedFilters()},L.prototype.collectVisualContainerDrillFilters=function(M){var T=new C(this.visualPlugins),O=_.filter(M.filters,function(N){return d.fF.assertValue(N,"collectVisualContainerDrillFilters: visualContainer with name ".concat(M.name," contains blank value in .filters")),null!=N&&2===N.howCreated});return T.collectFilters(O,0,M),T.getCollectedFilters()},L.prototype.addVisualContainerFilters=function(M,T,O,N,A,I){void 0===I&&(I=!1),M.addCollectedFilters(this.collectVisualContainerFilters(T,O,N),!0,this.getShouldApplyFilter(N,A,O,I)),O&&(this.addHighlightFilter(M,O,N,A),this.addCrossDrillFilters(M,O,N,A))},L.prototype.calculateVisualContainerFilter=function(M,T,O,N,A,I){void 0===A&&(A=!1),void 0===I&&(I=!1);var B=new p.ME(O);this.addVisualContainerFilters(B,M,T,O,N,A);var U=B.getFilters(I);return U.queryRefsForSingleItemDrillFilters=n.l.getQueryRefsForSingleItemDrillFilters(O,N,this.aggrOps),U},L.prototype.calculateDetailVisualFilter=function(M,T,O,N,A){var I=new p.ME(O);this.addVisualContainerFilters(I,M,T,O,N),0===A&&(A=1);var B=I.getHighlightFilters();B&&(I.clearHighlightFilters(),I.mergeHighlightFiltersBasedOnRelationship(B,A));var U=I.getFilters();return U.queryRefsForSingleItemDrillFilters=n.l.getQueryRefsForSingleItemDrillFilters(O,N,this.aggrOps),U},L.prototype.clearCrossHighlight=function(M,T,O){var N=this.clearCrossHighlightOperation(M);(0,f.M2)(this.eventBridge,N,"UserAction_CrossHighlight",T,O)},L.prototype.clearCrossHighlightForVisualContainers=function(M,T,O,N){var A=this.clearCrossHighlightForVisualContainersOperation(M,T);(0,f.M2)(this.eventBridge,A,"UserAction_CrossHighlight",O,N)},L.prototype.clearCrossHighlightForVisualContainersOperation=function(M,T){var O=M.crossFilterSource&&M.crossFilterSource.highlight;if(!_.isEmpty(O)){for(var A=[],I=0,B=_.chain(O).map(function(j){return j.sourceVisualContainer}).filter(function(j){return _.includes(T,j)}).valueOf();I<B.length;I++){var W=this.setCrossHighlightOperation(null,null,M,3,B[I]);A.push.apply(A,W||[])}return _.uniq(A)}},L.prototype.clearFiltersFromVisualContainers=function(M,T,O){var N=this,A=M&&M.crossFilterSource,I=A&&A.drill,B=A&&A.highlight,U=[];if(!_.isEmpty(B)&&_.some(T,function(K){return _.some(B,function(ee){return K===ee.sourceVisualContainer})})&&(U=this.clearCrossHighlightOperation(M)),!_.isEmpty(I)){var W=this.clearCrossDrillFromVisualContainersOperation(M,T);U=_.union(U,W)}if(this.featureSwitchService.featureSwitches.applyAllSlicersButton){var j=[];_.forEach(T,function(K){var ee=(0,f.Qg)(K),ie=(0,S.NA)(ee,{objectName:"visualLink",propertyName:"type"},void 0);(null==ie?void 0:ie.value)===a.cy&&j.push(K)}),U=_.union(U,j)}_.some(T,function(K){return N.supportsFilterOutput(K)})?(0,f.M2)(this.eventBridge,M.visualContainers,O):_.isEmpty(U)||(0,f.M2)(this.eventBridge,U,O)},L.prototype.updateCrossHighlightCollectedFilters=function(M,T,O){var N=M&&M.crossFilterSource&&M.crossFilterSource.highlight;if(N){var A=_.find(N,function(I){return I.sourceVisualContainer===O});A&&!_.isEmpty(A.selection)&&(A.collectedFilters=this.collectVisualContainerFilters(T,M,O),(0,f.Rr)(this.eventBridge,O))}},L.prototype.calculateFilterContainerInputFilter=function(M,T,O,N,A){if(O&&T&&A){var I;0===A.scopeType&&(I=A.container);var B=new C(this.visualPlugins);if(M&&B.collectFiltersForFilterContainer(M.filters,2,O),1===A.scopeType){var U=5===O.howCreated?_.filter(T.filters,function(j){return null!=j&&5===j.howCreated}):T.filters;B.collectFiltersForFilterContainer(U,1,O)}else 2!==A.scopeType&&B.collectFiltersForFilterContainer(T.filters,1,O);this.collectSelfFilter(B,null,O),I&&(B.collectFiltersForFilterContainer(I.filters,0,O,I),this.collectCrossFilter(B,T,I));var W=new p.ME(I,O);return W.addCollectedFilters(B.getCollectedFilters(),!1,this.getShouldApplyFilterContainerInputFilter(O,I,N,T)),W.getFilters()}},L.prototype.getVisualContainerCrossFilters=function(M,T,O){var N=new C(this.visualPlugins);this.collectCrossFilter(N,M,T);var A=new p.ME(T);return A.addCollectedFilters(N.getCollectedFilters(),!1,this.getShouldApplyFilter(T,O,M)),this.addHighlightFilter(A,M,T,O),this.addCrossDrillFilters(A,M,T,O),{dataFilters:A.getCrossFilters()||[],highlightFilters:A.getHighlightFilters()}},L.prototype.checkSelectionLimit=function(M,T,O,N){var A=this.countSelectedDataPoints(M,T,N),I=O.length;return{existingSelectionLength:A,newSelectionLength:I,allowed:!(A+I>o.tv)}},L.prototype.logRFilterTelemetry=function(M,T,O,N){var A=(0,m.aG)(T,this.scriptVisuals);_.isEmpty(A)||this.telemetryService.logChildEvent(N&&N.event,M,{filterType:O,visualIds:JSON.stringify(A)})},L.prototype.setCrossHighlightOperation=function(M,T,O,N,A,I,B){var U=O.crossFilterSource&&O.crossFilterSource.highlight,W=!1;if(A){W=!0,O.crossFilterSource||(O.crossFilterSource={highlight:[]}),O.crossFilterSource.highlight||(O.crossFilterSource.highlight=[]);var j=O.crossFilterSource.highlight,K=void 0;3!==N&&1!==N||!this.newAndPreviousSelectionsSupportMultiVisualSelection(A,j)?(O.crossFilterSource.highlight=j=[],K=0):-1===(K=_.findIndex(j,function(Ne){return Ne.sourceVisualContainer===A}))&&(K=j.length),null==T?(_.isEmpty(j)||((j=(0,e.__spreadArray)([],j||[],!0)).splice(K,1),O.crossFilterSource.highlight=j),A=null):j[K]={sourceVisualContainer:A,selection:T,selectorFilter:(0,v.k_)(T),collectedFilters:_.isEmpty(T)?[]:this.collectVisualContainerFilters(M,O,A),filterExpressionMetadata:I},this.logRFilterTelemetry(l.qi,O,"Highlight",B)}else U&&(W=!0,O.crossFilterSource.highlight=void 0);if(W){var ee=O.crossFilterSource&&O.crossFilterSource.highlight;if(!_.isEmpty(U)){for(var ie=function(Ye){-1===_.findIndex(ee,function(Je){return Je.sourceVisualContainer===Ye.sourceVisualContainer})&&(0,f.kK)(he.eventBridge,Ye.sourceVisualContainer)},he=this,q=0,Y=U;q<Y.length;q++)ie(Y[q]);for(var me=function(Ye){if(Ye.sourceVisualContainer!==A&&-1===_.findIndex(ee,function(_e){return _e.sourceVisualContainer===Ye.sourceVisualContainer}))return A=null,"break"},re=0,le=U;re<le.length&&"break"!==me(le[re]);re++);}return _.filter(O.visualContainers,function(Ne){return Ne!==A})}},L.prototype.newAndPreviousSelectionsSupportMultiVisualSelection=function(M,T){return d.fF.assertValue(T,"highlights"),!(!this.supportsMultiVisualSelection(M)||1===T.length&&!this.supportsMultiVisualSelection(T[0].sourceVisualContainer))},L.prototype.supportsMultiVisualSelection=function(M){var T=(0,f.cj)(M,this.visualPlugins);return T&&T.supportsMultiVisualSelection},L.prototype.clearCrossHighlightOperation=function(M){if(M.crossFilterSource&&M.crossFilterSource.highlight)return this.setCrossHighlightOperation(null,null,M)},L.prototype.clearCrossDrillFromVisualContainersOperation=function(M,T){if(!_.isEmpty(T)){for(var O=[],N=0,A=T;N<A.length;N++){var B=this.updateCrossDrillFromVisualContainerOperation(M,A[N],!0);O=_.union(O,B)}return O}},L.prototype.updateCrossDrillFromVisualContainerOperation=function(M,T,O){d.fF.assert(function(){return O||_.includes(M.visualContainers,T)},"sourceVisualContainer should be a VisualContainer of the given section.");var I,N=M.crossFilterSource&&M.crossFilterSource.drill,A=!1;if(!O){var B=this.collectVisualContainerDrillFilters(T);_.isEmpty(B)||(I={sourceVisualContainer:T,collectedFilters:B})}var U=_.findIndex(N,function(W){return W.sourceVisualContainer===T});if(U>=0?(A=!0,I?N[U]=I:N.splice(U,1)):I&&(A=!0,M.crossFilterSource||(M.crossFilterSource={}),(M.crossFilterSource.drill||(M.crossFilterSource.drill=[])).push(I)),A)return _.filter(M.visualContainers,function(W){return W!==T})},L.prototype.collectSelfFilter=function(M,T,O){var A,N=this;if(d.fF.assertValue(M,"collector"),T)(A=this.getFilterFromFilterPropertyInVisualContainer(T,function(U){return N.tryGetSelfFilterProperty(U)}))&&((B=r.yl.clone(A)).setIgnoreMParameter(),M.collectFilter(B,null,T,0,i.w.Self));else if(A=this.getFilterFromFilterPropertyInFilterContainer(O,function(U){return N.tryGetSelfFilterProperty(U)})){var B;(B=r.yl.clone(A)).setIgnoreMParameter(),M.collectFilter(B,O,null,0,i.w.Self)}},L.prototype.collectCrossFilter=function(M,T,O){var N=this;d.fF.assertValue(M,"collector"),d.fF.assertValue(T,"section"),d.fF.assertValue(O,"targetVisualContainer");for(var A=0,I=T.visualContainers;A<I.length;A++){var B=I[A];if(B!==O){var U=this.getFilterFromFilterPropertyInVisualContainer(B,function(W,j){return N.tryGetFilterPropertyIdentifier(W,j)});U&&M.collectFilter(U,null,B,0,i.w.Slicer)}}},L.prototype.getFilterFromFilterPropertyUtil=function(M,T,O){var N=O(M,T&&T.visualType);if(N){var A=T.objects;if(A)return(0,S.NA)(A,N,null)}},L.prototype.getFilterFromFilterPropertyInVisualContainer=function(M,T){d.fF.assertValue(M,"visualContainer must be defined"),d.fF.assertValue(T,"getFilterPropertyIdentifierFunc must be defined");var O=(0,f.cj)(M,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(O,M.config&&M.config.singleVisual,T)},L.prototype.getFilterFromFilterPropertyInFilterContainer=function(M,T){d.fF.assertValue(M,"visualContainer must be defined"),d.fF.assertValue(T,"getFilterPropertyIdentifierFunc must be defined");var O=(0,f.oE)(M,this.visualPlugins);return this.getFilterFromFilterPropertyUtil(O,M.config&&M.config.singleVisual,T)},L.prototype.addHighlightFilter=function(M,T,O,N){var A=T.crossFilterSource&&T.crossFilterSource.highlight;if(!_.isEmpty(A)&&(0,V.s)(O)!==x.D.slicer)for(var I=0,B=A;I<B.length;I++){var U=B[I];if(U.sourceVisualContainer!==O){var W=this.buildHighlightFiltersForRelatedTargets(U,N,T);if(W){var j=this.relationshipService.relationshipFilterAction(T,U.sourceVisualContainer,O,N,!1),K=(0,f.cj)(O,this.visualPlugins);0===j&&(j=this.relationshipService.defaultFilterAction(U.sourceVisualContainer,O)),M.mergeHighlightFiltersBasedOnRelationship(W,j,!K.supportsHighlight)}}}},L.prototype.addCrossDrillFilters=function(M,T,O,N){var A=T.crossFilterSource&&T.crossFilterSource.drill;if(!_.isEmpty(A)){for(var I=[],B=0,U=A;B<U.length;B++){var W=U[B],j=W.sourceVisualContainer;if(this.relationshipService.shouldApplyCrossDrill(T,j,O,N)){var ee=new p.ME(j);ee.addCollectedFilters(W.collectedFilters,!1,this.getShouldApplyDrillCrossFilter(j,N,T));var ie=ee.getUnmergedDrillCrossFilter();if(ie)for(var he=function(re){M.addCrossFilter(re);var le=_.find(W.collectedFilters,function(Ee){return Ee.filter===re.filter});d.fF.assertValue(le,"There should be a matching CollectedFilter from the source for the applied cross filter on the target."),le&&I.push(le.filterContainer)},q=0,Y=ie;q<Y.length;q++)he(Y[q])}}return I}},L.prototype.buildHighlightFiltersForRelatedTargets=function(M,T,O){var N=new p.ME(M.sourceVisualContainer);return M.selectorFilter&&N.setSelectorFilter({filter:M.selectorFilter,filterExpressionMetadata:M.filterExpressionMetadata,type:u.vA.Include}),N.addCollectedFilters(M.collectedFilters,!1,this.getShouldApplyHighlightFilter(M.sourceVisualContainer,T,O)),N.getCrossHighlightFilters()},L.prototype.getShouldApplyFilterContainerInputFilter=function(M,T,O,N){var A=this;return function(I,B,U){return A.shouldApplyFilterContainerInputFilter(I,B,U,M,T,O,N)}},L.prototype.shouldApplyFilterContainerInputFilter=function(M,T,O,N,A,I,B){if(d.fF.assertValue(M,"filter"),T===N)return!0;if(!this.shouldApplyFilter(M,T,O,A,I,B))return!1;var U=T&&T.expression;return!(U&&(0,w.k)(U)||_.some(M.conditions(),function(W){return 3===(0,c._)(W)}))},L.prototype.getShouldApplyHighlightFilter=function(M,T,O){var N=this;return function(A,I,B){return N.shouldApplyHighlightFilter(A,I,B,M,T,O)}},L.prototype.getShouldApplyDrillCrossFilter=function(M,T,O){var N=this;return function(A,I,B){return N.shouldApplyDrillCrossFilter(A,I,B,M,T,O)}},L.prototype.shouldApplyHighlightFilter=function(M,T,O,N,A,I){return!(!this.shouldApplyFilter(M,T,O,N,A,I)||_.some(M.conditions(),function(B){return 1===(0,c._)(B)}))},L.prototype.shouldApplyDrillCrossFilter=function(M,T,O,N,A,I){return!(!this.shouldApplyFilterForCrossDrill(M,T,O,N,A,I)||_.some(M.conditions(),function(B){return 1===(0,c._)(B)}))},L.prototype.getShouldApplyFilter=function(M,T,O,N){var A=this;return void 0===N&&(N=!1),function(I,B,U){return A.shouldApplyFilter(I,B,U,M,T,O,N)}},L.prototype.shouldApplyFilter=function(M,T,O,N,A,I,B){var U=this;return void 0===B&&(B=!1),this.shouldApplyFilterInternal(M,T,O,N,A,I,B?function(){return 1}:function(j,K,ee,ie,he){return U.relationshipService.relationshipFilterAction(j,K,ee,ie,he)})},L.prototype.shouldApplyFilterForCrossDrill=function(M,T,O,N,A,I){var B=this;return this.shouldApplyFilterInternal(M,T,O,N,A,I,function(j,K,ee,ie,he){return B.relationshipService.drillRelationshipFilterAction(j,K,ee,ie)})},L.prototype.shouldApplyFilterInternal=function(M,T,O,N,A,I,B){var U,W,j;if(d.fF.assertValue(M,"filter"),T&&n.l.shouldDisableFilter(T,A,O,this.aggrOps,this.visualPlugins)||!_.isEmpty(M.validate(A,this.aggrOps))&&(!O||O!==N))return!1;if(O&&N&&O!==N){var K=null===(j=null===(W=null===(U=N.config)||void 0===U?void 0:U.singleVisual)||void 0===W?void 0:W.query)||void 0===j?void 0:j.projections;if(3===B(I,O,N,A,s.m.isFilterForFieldParameter(K,M,A)))return!1;var he=O.config.singleVisual.syncGroup,q=N.config.singleVisual.syncGroup;if(he&&q&&he.groupName===q.groupName)return!1}return!0},L.prototype.countSelectedDataPoints=function(M,T,O){var N;d.fF.assertAnyValue(M,"sourceVisualContainer"),d.fF.assertValue(T,"section");var A=null===(N=T.crossFilterSource)||void 0===N?void 0:N.highlight;return O?_.chain(A).reduce(function(I,B){return I+(B.sourceVisualContainer!==M?B.selection.length:0)},0).value():0},L.prototype.setMultipleFiltersOnSelectData=function(M,T,O,N,A){for(var I=this.clearCrossHighlightOperation(T),B=0,U=O;B<U.length;B++){var W=U[B];I=_.union(I,this.setCrossHighlightOperation(M,W.selection,T,3,W.sourceVisualContainer,W.filterExpressionMetadata))}(0,f.M2)(this.eventBridge,I,"UserAction_CrossHighlight",N,A)},L.prototype.setFilterOnSelectData=function(M,T,O,N,A,I,B,U){if(this.supportsFilterOutput(N))this.logRFilterTelemetry(l.qi,O,"Data",A);else{var W=this.setCrossHighlightOperation(M,T,O,B,N,U,A);(0,f.M2)(this.eventBridge,W,"UserAction_CrossHighlight",A,I)}},L.prototype.updateCrossFilterOnDrill=function(M,T){var O=this.updateCrossDrillFromVisualContainerOperation(M,T,!1);(0,f.M2)(this.eventBridge,O)},L.prototype.updateCrossDrillFromVisualContainers=function(M,T){var O=this.updateCrossDrillFromVisualContainersOperation(M,T);(0,f.M2)(this.eventBridge,O)},L.prototype.updateCrossDrillFromVisualContainersOperation=function(M,T){if(!_.isEmpty(T)){for(var O=[],N=0,A=T;N<A.length;N++){var B=this.updateCrossDrillFromVisualContainerOperation(M,A[N],!1);O=_.union(O,B)}return O}},L.prototype.updateCrossDrillOfSection=function(M){var T=this.updateCrossDrillOfSectionOperation(M);(0,f.M2)(this.eventBridge,T)},L.prototype.updateCrossDrillOfSectionOperation=function(M){return this.updateCrossDrillFromVisualContainersOperation(M,M.visualContainers)},L.prototype.getDrillCrossFiltersToApply=function(M,T,O){var N=new p.ME(T);return this.addCrossDrillFilters(N,M,T,O)},L.prototype.supportsFilterOutput=function(M){return n.l.supportsFilterOutput((0,f.cj)(M,this.visualPlugins))},L.prototype.tryGetFilterPropertyIdentifier=function(M,T){return n.l.tryGetFilterPropertyIdentifier(M,T,this.visualPlugins)},L.prototype.tryGetSelfFilterEnabledProperty=function(M){if(M)return(0,h.H_)(M.objects)},L.prototype.tryGetSelfFilterProperty=function(M){if(M)return(0,h.Cr)(M.objects)},L.prototype.resolveFilterTargets=function(M,T,O,N,A){if(!r.vQ.willFiltersAffectQuery(T.defn))return T.defn;var I={dataRoles:O,mappings:N,queryProjections:T.projections,select:T.defn.select(),schema:M},B=new F(I),U=T.defn;return A&&(U=U.addSemanticFilter(A)),B.resolveSemanticQuery(U)},L.prototype.applyFilterOutput=function(M){this.supportsFilterOutput(M)&&(0,f.Rr)(this.eventBridge,M)},L}()},184251:function(Xe,H,t){t.d(H,{Yh:function(){return a},c8:function(){return n},cM:function(){return m},qX:function(){return s},sl:function(){return i},x0:function(){return u}});var e=t(973188),l=t(498342),o=t(262852),d=t(446731),v=t(772308),S=t(224498),h=t(678776),c=t(322671),r=t(497141);function s(p){return l.fF.assertValue(p,"betweenPattern"),l.fF.assertValue(p.lower,"lower"),l.fF.assertValue(p.upper,"upper"),o.t0.getDateRangeRestatement({min:p.lower.value,max:p.upper.value})}function u(p,C,b,y){return o.t0.getRestatement(p.options,y,C,b)}function i(p,C,b,y){var D=(0,d.B)(p.arg);if(p.condition.defaultValue)return a(D,C,y);if(!p.condition.anyValue){var P=r.l.getFormatter(D,C),F=b||V(p.condition);return new c.wd(y).fromCondition([new c.gP(p.filterOperator,F,P)],2)}}function a(p,C,b){var y=h.m.getDefaultValue(p,C);if(y){var D=r.l.getFormatter(p,C);return new c.wd(b).fromDefault(D.format(y.value))}}function n(p,C,b){var y=f(p,C);return new c.wd(b).fromCondition(y,p.logicalOperator,void 0)}function m(p,C,b,y,D,P){C.get(p).then(function(){var E=(0,S.pi)(y.contract.filter,o.wj.Time),w=E&&E.options;if(w){var R=P&&y.isFilterExpanded(),g=o.t0.getRestatement(w,R,function(M,T){return b.format(M,T)},D);y.setRestatement(g)}})}function f(p,C){if((0,v.kL)(p)){var b=(0,d.B)(p.arg),y=r.l.getFormatter(b,C);return[new c.gP(p.filterOperator,V(p.condition),y)]}return(0,e.__spreadArray)((0,e.__spreadArray)([],f(p.left,C)||[],!0),f(p.right,C)||[],!0)}function V(p){return p.constant?p.constant.value:p.dateSpan?p.dateSpan.value:void l.fF.assertFail("Unsupported restatement: non-constant value")}},155414:function(Xe,H,t){t.d(H,{ME:function(){return y},i3:function(){return C},tA:function(){return V}});var e=t(758205),l=t(365358),o=t(498342),d=t(114096),v=t(973188),S=t(669266),h=t(960514),c=t(410695),s=function(D){function P(){var F=D.call(this)||this;return F.fieldsBeingFiltered=[],F}return(0,v.__extends)(P,D),P.prototype.visitCondition=function(F){return F.accept(this,0)},P.prototype.visitIn=function(F,E){if(0!==E||!F.args)return!1;for(var w=0,x=F.args;w<x.length;w++)if(!x[w].accept(this,1))return!1;return!(!F.values||F.table)},P.prototype.visitColumnRef=function(F,E){return 1===E&&(this.fieldsBeingFiltered.push(F),!0)},P}(h.Ml),u=t(556871),i=t(497141),a=t(927903),n=t(844722);function f(D){if(_.isEmpty(D))return!1;for(var P=0,F=D;P<F.length;P++)if(_.some(F[P].filter.where(),function(w){return 3===(0,n._)(w.condition)}))return!0;return!1}function V(D,P,F,E,w,x,R){o.fF.assert(function(){return!!D},"Filter required");var g={filter:D,scope:P,filterExpressionMetadata:R};if(F)g.restatement=F.restatement,g.type=F.type,g.isHidden=!!F.isHiddenInViewMode,g.filterExpressionMetadata=F.expression?{expressions:[F.expression]}:void 0,g.displayName=F.displayName,F.cachedValueItems&&g.filterExpressionMetadata?g.filterExpressionMetadata.cachedValueItems=b(F.cachedValueItems,0):F.filterExpressionMetadata&&(g.filterExpressionMetadata=F.filterExpressionMetadata);else if(E&&i.l.supportsFilterOutput(w)&&E.config.singleVisual.query){var L=E.config.singleVisual.query.defn.select(),M=E.config.singleVisual.cachedFilterDisplayItems,T=E.config.singleVisual.filterExpressionMetadata;if(o.fF.assert(function(){return null==M||null==T},"We should not have both caches defined at the same time"),L.length>=1&&M&&x===u.w.Slicer)g.filterExpressionMetadata={expressions:[L[0].expr],cachedValueItems:b(M,0)};else if(T)g.filterExpressionMetadata=T;else{g.filterExpressionMetadata={expressions:[]};for(var O=0,N=L;O<N.length;O++)g.filterExpressionMetadata.expressions.push(N[O].expr)}}return g}function p(D){if(null!=D){var P={Restatement:D.restatement,type:D.type};return D.expression&&(P.expression=e.ib.serializeExpr(D.expression)),P}}function C(D){if(!_.isEmpty(D)){for(var P=[],F=0,E=D;F<E.length;F++)P.push(p(E[F]));return P}}function b(D,P){for(var F=[],E=0,w=D;E<w.length;E++){var x=w[E],R={identities:[x.identity],valueMap:{}};R.valueMap[P]=x.displayName,F.push(R)}return F}var y=function(){function D(P,F){if(this.visualContainer=P,this.filterContainer=F,P){var E=(0,a.Xf)(P);E&&(this.visualSemanticQuery=E.defn)}this.needToEnsurePrecedence=!1,this.shouldPruneUnnecessaryFilters=!1}return D.prototype.setSelectorFilter=function(P){var F=this;o.fF.assertValue(P,"filter"),o.fF.assert(function(){return!F.selectorFilter},"should not call setSelectorFilter twice"),this.selectorFilter=P,this.shouldPruneUnnecessaryFilters=!0},D.prototype.addDrillFilter=function(P){o.fF.assertValue(P,"filter"),this.drillFilters=this.drillFilters||[],this.drillFilters.push(P)},D.prototype.addVisualFilter=function(P){o.fF.assertValue(P,"filter"),this.visualSemanticQuery&&(P.filter=(0,d.d3)(P.filter,this.visualSemanticQuery)),this.visualFilters=this.visualFilters||[],this.visualFilters.push(P),this.needToEnsurePrecedence=!0,this.shouldPruneUnnecessaryFilters=!0},D.prototype.addDrillthroughFilter=function(P){o.fF.assertValue(P,"filter"),this.drillthroughFilters=this.drillthroughFilters||[],this.drillthroughFilters.push(P),this.needToEnsurePrecedence=!0},D.prototype.addSectionFilter=function(P){o.fF.assertValue(P,"filter"),this.sectionFilters=this.sectionFilters||[],this.sectionFilters.push(P),this.needToEnsurePrecedence=!0},D.prototype.addReportFilter=function(P){o.fF.assertValue(P,"filter"),this.reportFilters=this.reportFilters||[],this.reportFilters.push(P),this.needToEnsurePrecedence=!0},D.prototype.addCrossFilter=function(P){o.fF.assertValue(P,"filter"),this.crossFilters=this.crossFilters||[],this.crossFilters.push(P),this.needToEnsurePrecedence=!0},D.prototype.addHighlight=function(P){o.fF.assertValue(P,"highlightFilter"),this.highlightFilters=this.highlightFilters||[],this.highlightFilters.push(P)},D.prototype.addCollectedFilters=function(P,F,E){o.fF.assertValue(P,"collectedFilters");for(var w=0,x=P;w<x.length;w++){var R=x[w],g=R.filter,L=R.filterContainer,M=R.sourceVisualContainer;if(!E||E(g,L,M)){var T=L;R.filterContainer&&R.filterContainer===this.filterContainer&&(T=null);var O=V(g,R.scopeType,T,M,R.sourceVisualContainerCapabilities,R.collectedFilterSource);!L||2!==L.howCreated&&0!==L.precedence?R.sourceVisualContainer?R.sourceVisualContainer===this.visualContainer?this.addVisualFilter(O):this.addCrossFilter(O):5===L.howCreated?this.addDrillthroughFilter(O):1===R.scopeType?this.addSectionFilter(O):2===R.scopeType?this.addReportFilter(O):R.filterContainer&&R.filterContainer===this.filterContainer&&this.addVisualFilter(O):this.addDrillFilter(O),F&&L&&(this.metadata=this.metadata||[],this.metadata.push(p(L)))}}},D.prototype.mergeHighlightFiltersBasedOnRelationship=function(P,F,E){var w=this;switch(F){case 0:o.fF.assertFail("VisualRelationshipFilterAction.Default should not be passed here. Default should be evaluated already.");case 2:if(!E){_.each(P,function(x){return w.addHighlight(x)});break}case 1:P&&_.each(P,function(x){return w.addCrossFilter(x)});break;case 3:break;default:o.fF.assertFail("Unknown visual relationship filter action")}},D.prototype.getFilters=function(P){var F=this.getFilterData(P),E=this.highlightFilters&&d.yl.merge(this.highlightFilters.map(function(w){return w.filter}));return{dataFilter:F?d.yl.merge(_.map(F,function(w){return w.filter})):void 0,dataFiltersUnmerged:F,highlightFilter:E,highlightFiltersUnmerged:this.highlightFilters,filterMetadata:this.metadata}},D.prototype.getFilterData=function(P){var F=this;if(o.fF.assert(function(){return!F.selectorFilter},"selectorFilter should only be set when building a cross-highlight filter"),this.pruneUnnecessaryFilters(),P||this.ensurePrecedence(),this.drillFilters||this.sectionFilters||this.reportFilters||this.visualFilters||this.crossFilters||this.drillthroughFilters){var x=this.sectionFilters||[],R=this.drillthroughFilters||[],g=this.reportFilters||[],L=this.crossFilters||[];return(this.drillFilters||[]).concat(this.visualFilters||[]).concat(L).concat(x).concat(R).concat(g)}},D.prototype.getCrossHighlightFilters=function(){if(this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.selectorFilter||this.visualFilters)return(this.selectorFilter?[this.selectorFilter]:[]).concat(this.visualFilters||[])},D.prototype.getHighlightFilters=function(){return this.highlightFilters},D.prototype.clearHighlightFilters=function(){this.highlightFilters=void 0},D.prototype.getUnmergedDrillCrossFilter=function(){return this.pruneUnnecessaryFilters(),this.ensurePrecedence(),this.drillFilters},D.prototype.getCrossFilters=function(){return this.crossFilters},D.prototype.ensurePrecedence=function(){this.needToEnsurePrecedence&&(this.visualFilters&&(this.visualFilters=function(D){if(o.fF.assertValue(D,"filterScope"),o.fF.assert(function(){return!f(D.sectionFilters)},"Page filters are not expected to have the subqueries."),o.fF.assert(function(){return!f(D.reportFilters)},"Report filters are not expected to have the subqueries."),_.isEmpty(D.visualFilters))return D.visualFilters;for(var P=!1,F=[],E=0,w=D.visualFilters;E<w.length;E++){var g=(x=w[E]).filter.where().filter(function(A){return 0===(0,n._)(A.condition)});P=P||f([x]),F.push.apply(F,g.map(function(A){return d.yl.fromSQExpr(A.condition)}))}if(!P)return D.visualFilters;for(var L=[],M=0,T=D.visualFilters;M<T.length;M++){var x,O=x=T[M];if(f([x])){var N=x.filter;_.isEmpty(F)||(N=(0,d.RD)(N,F)),_.isEmpty(D.crossFilters)||(N=(0,d.RD)(N,D.crossFilters.map(function(I){return I.filter}))),_.isEmpty(D.sectionFilters)||(N=(0,d.RD)(N,D.sectionFilters.map(function(I){return I.filter}))),_.isEmpty(D.drillThroughFilters)||(N=(0,d.RD)(N,D.drillThroughFilters.map(function(I){return I.filter}))),_.isEmpty(D.reportFilters)||(N=(0,d.RD)(N,D.reportFilters.map(function(I){return I.filter}))),O={filter:N}}L.push(O)}return L}({visualFilters:this.visualFilters,crossFilters:this.crossFilters,reportFilters:this.reportFilters,drillThroughFilters:this.drillthroughFilters,sectionFilters:this.sectionFilters})),this.needToEnsurePrecedence=!1)},D.prototype.pruneUnnecessaryFilters=function(){var P=this;this.shouldPruneUnnecessaryFilters&&(this.visualFilters&&this.selectorFilter&&this.visualFilters&&this.selectorFilter&&(this.visualFilters=(0,l.Rl)(this.visualFilters,function(F,E){return F.filter=function(D,P){if(!P||!D)return D;var F=P.conditions();if(!F||1!==F.length)return D;var E=new s;if(!E.visitCondition(F[0]))return D;for(var g,w=E.fieldsBeingFiltered,x=D.from(),R=D.where(),L=function(N,A){var I=R[N],B=(0,c.J_)(I,x);B&&_.find(w,function(U){return(0,S.fS)(B.fieldBeingFiltered,U)})?g||(g=_.take(R,N)):g&&g.push(I)},M=0,T=R.length;M<T;M++)L(M);return g?d.yl.fromSQFromAndSQFilters(x,g):D}(F.filter,P.selectorFilter.filter),F.filter.where().length>0})),this.shouldPruneUnnecessaryFilters=!1)},D}()},774570:function(Xe,H,t){t.d(H,{Q:function(){return i}});var e=t(973188),l=t(198960),o=t(981519),d=t(384103),v=t(275179),S=t(196960),h=t(822847),c=t(716742),r=t(345947),s=t(715770),u="apr_error_notification_bar";function i(m,f,V,p,C,b,y,D,P,F,E,w){return new n(m,f,V,p,C,b,y,D,P,F,E,w)}var a={autoRefreshEnabled:!0,refreshIntervalSeconds:1},n=function(){function m(f,V,p,C,b,y,D,P,F,E,w,x){this.telemetryService=f,this.eventBridge=V,this.explorationNavigation=p,this.dataSourcesService=C,this.conceptualSchemaProxy=b,this.globalEventBridge=y,this.visualTimeSynchronizationService=D,this.notificationBarService=P,this.localizationService=F,this.errorService=E,this.reportRefreshCacheService=w,this.reportRefreshConfigProxy=x,this.visualsLoaded=!1,this.timerExpired=!1,this.isRunning=!1,this.refreshDelayedCount=0,this.refreshPaused=!1,this.subscriptionManager=V.createChannelSubscriptionManager()}return m.prototype.subscribeEvents=function(){var f=this;null==this.subscriptionManager&&(this.subscriptionManager=this.eventBridge.createChannelSubscriptionManager()),this.subscriptionManager.subscribe(s.yVh,function(){return f.onSectionChanged()}).subscribe(o.dm,function(){return f.onVisualsLoaded()}).subscribe(s.jsX,function(){return f.onSectionsObjectsEvaluated()}).subscribe(s.CCe,function(){return f.onModelChanged()})},m.prototype.init=function(f){return void 0===f&&(f=!0),(0,e.__awaiter)(this,void 0,v.J,function(){return(0,e.__generator)(this,function(V){switch(V.label){case 0:return this.triggerNotifications=f,[4,this.loadPageSettings()];case 1:return V.sent(),[4,this.updateRefreshState()];case 2:return V.sent(),this.subscribeEvents(),[2]}})})},m.prototype.destroy=function(){var f;this.stopRefresh(),null===(f=this.subscriptionManager)||void 0===f||f.unsubscribeAll(),this.subscriptionManager=void 0},m.prototype.refreshData=function(){this.reportRefreshCacheService.tryClearDSRCache()&&this.eventBridge.publishToChannel(s.jCS,{affectContainer:function(){return!0}})},m.prototype.setRefreshPaused=function(f){this.refreshPaused=f},m.prototype.getRefreshStats=function(){return{adminConfig:this.adminConfig,effectiveRefreshInterval:this.effectiveRefreshInterval,lastRefreshTimestamp:this.lastUpdateDate?this.lastUpdateDate.toLocaleTimeString():void 0}},m.prototype.loadAdminSettings=function(){var f,V;return(0,e.__awaiter)(this,void 0,v.J,function(){var p,C,b;return(0,e.__generator)(this,function(y){switch(y.label){case 0:return[4,this.isPageRefreshSupported()];case 1:if(!y.sent())return[2];if(!this.reportRefreshConfigProxy)return this.adminConfig=a,[2];p=null===(V=null===(f=this.explorationNavigation.getCurrentExploration())||void 0===f?void 0:f.report)||void 0===V?void 0:V.modelId,y.label=2;case 2:return y.trys.push([2,4,,5]),C=this,[4,this.reportRefreshConfigProxy.getAPRConfig(p)];case 3:return C.adminConfig=y.sent(),[3,5];case 4:return b=y.sent(),this.telemetryService.logEvent(c.Hl,{modelId:p}),this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0,b,"FailedToGetAPRAdminConfig"),this.adminConfig=void 0,[2];case 5:return this.adminConfig?this.adminConfig.autoRefreshEnabled||this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_AdminDisabled")):this.sendNotification(this.localizationService.get("AutoPageRefresh_Error_GetAdminConfigErrorTryAgain"),!0),[2]}})})},m.prototype.loadPageSettings=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f,V,p;return(0,e.__generator)(this,function(C){switch(C.label){case 0:return V=this.explorationNavigation.getCurrentSection(),[4,this.isAPREnabledInSection(V)];case 1:return C.sent()?(f=this.refreshIntervalInMilliseconds,p=(0,r.bW)(V.evaluatedObjects.pageRefresh.duration||S.oK),this.refreshIntervalInMilliseconds=(0,r.A9)(p)):this.refreshIntervalInMilliseconds=void 0,[2,this.refreshIntervalInMilliseconds!==f]}})})},m.prototype.onSectionsObjectsEvaluated=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.loadPageSettings()];case 1:return f=V.sent(),this.refreshIntervalInMilliseconds&&f?this.updateRefreshState():!this.refreshIntervalInMilliseconds&&this.isRunning&&this.stopRefresh(),[2]}})})},m.prototype.onModelChanged=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.getRefreshInterval()];case 1:return(f=V.sent())&&!this.isRunning?this.updateRefreshState():!f&&this.isRunning&&this.stopRefresh(),[2]}})})},m.prototype.getRefreshInterval=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.isPageRefreshSupported()];case 1:return V.sent()?this.refreshIntervalInMilliseconds&&this.adminConfig&&this.adminConfig.autoRefreshEnabled?(f=_.max([this.refreshIntervalInMilliseconds,1e3*this.adminConfig.refreshIntervalSeconds]),[2,_.min([d.c41,f])]):[2]:[2,null]}})})},m.prototype.isPageRefreshSupported=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f;return(0,e.__generator)(this,function(p){switch(p.label){case 0:return p.trys.push([0,2,,3]),[4,this.conceptualSchemaProxy.get(this.dataSourcesService.get())];case 1:return f=p.sent(),[3,3];case 2:return p.sent(),[2,!1];case 3:return[2,_.some(f.schemas,function(C){return C.capabilities&&C.capabilities.supportsFastRefresh})]}})})},m.prototype.updateRefreshState=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return this.stopRefresh(),this.isRunning=!0,this.adminConfig||null==this.refreshIntervalInMilliseconds?[3,2]:[4,this.loadAdminSettings()];case 1:V.sent(),V.label=2;case 2:return[4,this.getRefreshInterval()];case 3:return null!=(f=V.sent())?this.runTimer(f):this.isRunning=!1,[2]}})})},m.prototype.triggerRefreshUponSectionChange=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return f=this.explorationNavigation.getCurrentSection(),[4,this.isAPREnabledInSection(f)];case 1:return V.sent()&&this.triggerRefresh(),[2]}})})},m.prototype.onSectionChanged=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){return(0,e.__generator)(this,function(f){switch(f.label){case 0:return[4,this.triggerRefreshUponSectionChange()];case 1:return f.sent(),this.lastUpdateDate=void 0,[4,this.loadPageSettings()];case 2:return f.sent(),[4,this.updateRefreshState()];case 3:return f.sent(),[2]}})})},m.prototype.onVisualsLoaded=function(){this.visualsLoaded=!0,this.timerExpired&&this.isRunning&&this.onTimerExpired()},m.prototype.stopRefresh=function(){this.nextUpdateDate=void 0,this.isRunning=!1,this.timerExpired=!1,this.clearTimeoutAndAnimationFrame(),this.notifyReportRefreshStateChanged(),this.notificationBarService.hide(u)},m.prototype.clearTimeoutAndAnimationFrame=function(){clearTimeout(this.timeoutId),this.timeoutId=void 0,cancelAnimationFrame(this.animationFrameId),this.animationFrameId=void 0},m.prototype.runTimer=function(f){var V=this;this.clearTimeoutAndAnimationFrame(),this.nextUpdateDate=new Date(Date.now()+f),this.notifyReportRefreshStateChanged(),this.timeoutId=setTimeout(function(){V.timeoutId=void 0,V.animationFrameId=requestAnimationFrame(function(){V.animationFrameId=void 0,V.onTimerTriggered()})},f)},m.prototype.onTimerTriggered=function(){return(0,e.__awaiter)(this,void 0,v.J,function(){var f;return(0,e.__generator)(this,function(V){switch(V.label){case 0:return this.timerExpired=!0,this.visualsLoaded?this.onTimerExpired():this.refreshDelayedCount+=1,[4,this.loadAdminSettings()];case 1:return V.sent(),[4,this.getRefreshInterval()];case 2:return null!=(f=V.sent())?this.runTimer(f):this.stopRefresh(),[2]}})})},m.prototype.triggerRefresh=function(){var f=this.explorationNavigation.getCurrentSection();this.reportRefreshCacheService.clearClientCache(f),this.visualTimeSynchronizationService.setAnchorTimeToNow(),this.eventBridge.publishToChannel(s.tYc)},m.prototype.calculateEffectiveInterval=function(){this.effectiveRefreshInterval=this.lastUpdateDate?(new Date).getTime()-this.lastUpdateDate.getTime():void 0},m.prototype.onTimerExpired=function(){this.refreshPaused||(this.logTriggerRefresh(this.refreshDelayedCount),this.calculateEffectiveInterval(),this.lastUpdateDate=new Date,this.triggerRefresh(),this.timerExpired=!1,this.visualsLoaded=!1,this.refreshDelayedCount=0,this.notifyReportRefreshStateChanged())},m.prototype.logTriggerRefresh=function(f){return(0,e.__awaiter)(this,void 0,v.J,function(){var V,p,C,b,y,D,P,F,E,w,x;return(0,e.__generator)(this,function(R){switch(R.label){case 0:return V=this.explorationNavigation.getCurrentSection(),p=this.explorationNavigation.getCurrentExploration().report,C=this.explorationNavigation.getExplorationTelemetryData(),b="",y=-1,D="",P="-1",F="-1",p&&p.model&&(b=(E=p.model).dbName,D=p.objectId,y=E.id),w=V.objectId,[4,this.getRefreshInterval()];case 1:return x=R.sent(),C&&(P=C.exid,F=C.exsid),this.telemetryService.logEvent(l._3,{reportId:D,pageId:w,dbName:b,modelId:y,interval:x,delayCount:f,exid:P,exsid:F}),[2]}})})},m.prototype.notifyReportRefreshStateChanged=function(){if(this.triggerNotifications){var f=void 0,V=this.explorationNavigation.getCurrentExploration().report;V&&(f=V.objectId),this.globalEventBridge.publishToChannel(o.VF,{reportId:f,nextUpdateDate:this.nextUpdateDate,lastUpdateDate:this.lastUpdateDate})}},m.prototype.sendNotification=function(f,V,p,C){var b=this;void 0===V&&(V=!1);var y={id:u,message:f,notificationType:1,actions:[]};p&&(y.secondaryLink={action:function(){b.errorService.error(f,C,{requestId:p.requestId,statusCode:p.status&&p.status.toString()})},displayText:this.localizationService.get("Generic_ShowDetails")}),V&&y.actions.push({action:function(){b.notificationBarService.hide(u),b.updateRefreshState()},displayText:this.localizationService.get("TryAgain")}),this.notificationBarService.notify(y)},m.prototype.isAPREnabledInSection=function(f){return(0,e.__awaiter)(this,void 0,v.J,function(){return(0,e.__generator)(this,function(V){switch(V.label){case 0:return[4,this.isPageRefreshSupported()];case 1:return V.sent()?[2,f&&f.evaluatedObjects&&f.evaluatedObjects.pageRefresh&&f.evaluatedObjects.pageRefresh.show&&(null==f.evaluatedObjects.pageRefresh.refreshType||f.evaluatedObjects.pageRefresh.refreshType===h.wO)]:[2,!1]}})})},m}()},375013:function(Xe,H,t){t.d(H,{e:function(){return l}});var e=t(498342);function l(){return new o}var o=function(){function d(){this.runningVisuals={}}return d.prototype.getVisual=function(v){e.fF.assertValue(v&&v.name,"contract");var S=this.runningVisuals[v.name];if(null!=S&&S.contract===v)return S.visual},d.prototype.setVisual=function(v,S){e.fF.assertValue(v&&v.name,"contract"),e.fF.assertValue(S,"visual"),this.runningVisuals[v.name]={contract:v,visual:S}},d.prototype.removeVisual=function(v){e.fF.assertValue(v&&v.name,"contract"),delete this.runningVisuals[v.name]},d}()},369785:function(Xe,H,t){t.d(H,{s:function(){return d}});var e=t(498342),l=t(644585),o=t(40152);function d(S,h,c,r,s,u){return new v(S,h,c,r,s,u)}var v=function(){function S(h,c,r,s,u,i){e.fF.assertValue(h,"visualPluginService"),e.fF.assertValue(c,"featureSwitchService"),e.fF.assertValue(r,"localizationService"),e.fF.assertAnyValue(s,"userInfo"),e.fF.assertValue(i,"licenseEnforcementServiceExtend"),this.services={visualPlugin:h,featureSwitchService:c,localizationService:r,userInfo:s,embedModeService:u,licenseServiceExtend:i}}return S.prototype.addScriptVisualInfo=function(h,c){var r=(0,o.s)(h);if(this.services.visualPlugin.isScriptVisual(r)&&h.id){var s={id:h.id,scriptType:(0,l.lX)(r)};c.push(s)}},S.prototype.showEnableScriptVisualDialogIfRequiredAsync=function(h,c,r){return e.fF.assertFail("Function not implemented for Service - users don't need to approve script visuals on the service"),null},S.prototype.getScriptVisualErrorDetails=function(h,c){var r,s=this.services.localizationService,u=this.services.featureSwitchService.featureSwitches;if(0!==h||u.scriptVisualEnabled){if(this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed())return u.scriptVisualAnonymousEmbeddingEnabled||(r=this.buildErrorDetails(s.get(this.getLocalizationKey("Error_VisualsNotSupportedInEmbedReports",h)))),r;var n=this.getUserInfoForErrorDetails();if(n&&n.isViralTenant)r=this.buildErrorDetails(s.get(this.getLocalizationKey("Error_VisualsNotSupportedForViralTenant",h)));else if(!1===u.rScriptVisualEnabled)r=this.buildErrorDetails(s.get(this.getLocalizationKey("Error_VisualsDisabledByAdmin",h)));else{var m=!1,f=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!f&&(m=c&&this.services.licenseServiceExtend.isReportInPremiumCapacity(c)),n&&!1===n.isPremiumUser&&!m?r=this.buildErrorDetails(s.get(this.getLocalizationKey("Error_VisualsIsProFeature",h))):n&&void 0===n.isPremiumUser&&void 0===n.isViralTenant&&void 0===c&&(r=this.buildErrorDetails(s.get(this.getLocalizationKey("Error_VisualsNotSupportedWithThisOperation",h))))}}else r=this.buildErrorDetails(s.get(this.getLocalizationKey("Error_VisualsNotSupported",h)));return r},S.prototype.overrideEmbeddedErrorDetails=function(h,c){var r=this.services.embedModeService&&(this.services.embedModeService.isAppTokenEmbed()||this.services.embedModeService.isSaasOrPaasEmbed()||this.services.embedModeService.isSecurePublishToWeb()),s=this.services&&this.services.localizationService;if(r&&c){var u=c;return u.helpLink="",u.message=s.get(this.getLocalizationKey("Error_VisualsEmbeddedText",h)),u.displayableErrorInfo=[{errorInfoKey:s.get(this.getLocalizationKey("Error_VisualsEmbeddedText",h)),errorInfoValue:s.get(this.getLocalizationKey("Error_VisualsErrorInEmbedReports",h))}],u}},S.prototype.getLocalizationKey=function(h,c){var r;switch(c){case 0:r="R";break;case 1:r="Py";break;default:r=""}return r+h},S.prototype.shouldBlockScriptVisual=function(h,c){var r=this.services.featureSwitchService.featureSwitches,s=this.getUserInfoForErrorDetails(),u=this.services.embedModeService&&this.services.embedModeService.isAnonymousLiveEmbed(),i=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();switch(h){case 0:if(u)return!r.scriptVisualAnonymousEmbeddingEnabled||!r.scriptVisualEnabled;var a=!1;return this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!i&&(a=c&&this.services.licenseServiceExtend.isReportInPremiumCapacity(c)),!a&&(!r.scriptVisualEnabled||s&&s.isViralTenant||!r.rScriptVisualEnabled||s&&!s.isPremiumUser);case 1:return u?!r.scriptVisualAnonymousEmbeddingEnabled:(this.services.licenseServiceExtend&&!Array.isArray(this.services.licenseServiceExtend)&&!i&&(a=c&&this.services.licenseServiceExtend.isReportInPremiumCapacity(c)),!a&&(s&&s.isViralTenant||s&&!s.isPremiumUser))}},S.prototype.canLaunchExternalIDE=function(){return!1},S.prototype.launchExternalIDE=function(h){return null},S.prototype.openOptionsDialogAsync=function(){return null},S.prototype.refreshScriptCustomVisuals=function(h){e.fF.assertFail("Function not implemented for Service")},S.prototype.triggerDataRefresh=function(){var h="Visual_Error_RefreshFailed",c=this.services.localizationService.get(h),r=this.services.localizationService.get("Visual_Warning_AutoRefreshNotSupported");return{message:r,displayableErrorInfo:[{errorInfoKey:c,errorInfoValue:r}],helpLink:"https://go.microsoft.com/fwlink/?linkid=2188979",helpLinkType:1,hideDebugInfo:!0,resourceKey:h}},S.prototype.buildErrorDetails=function(h){return{message:h,displayableErrorInfo:[],helpLink:"https://go.microsoft.com/fwlink/?linkid=829101",errorType:1}},S.prototype.getUserInfoForErrorDetails=function(){var h=this.services.userInfo,c=this.services.embedModeService&&this.services.embedModeService.isReportEmbedScenario();if(h&&!Array.isArray(h)&&!c)return{isViralTenant:h.userMetadata&&h.userMetadata.tenantMetadata&&0===h.userMetadata.tenantMetadata.tenantType,isPremiumUser:h.isPremiumUser}},S}()},306018:function(Xe,H,t){t.d(H,{Oz:function(){return h},UP:function(){return d},_g:function(){return S}});var e=t(498342),l=t(915382),o=t(40152),d=function(){function c(){}return c.selectCanvasItem=function(r,s,u,i){void 0===u&&(u=0);var a=v.createSelectableCanvasItem(r);s.selectElement(a,u,i)},c.unselectCanvasItem=function(r,s){var u=c.getSelectedCanvasItems(s);_.includes(u,r)&&c.selectCanvasItems(_.without(u,r),s)},c.selectSubSelection=function(r,s,u,i){var a=v.createSubSelectableCanvasItem(s,u);r.selectElement(a,i)},c.selectCanvasItems=function(r,s,u){var i=_.map(r,function(a){return v.createSelectableCanvasItem(a)});s.selectElements(i,0,u)},c.isCanvasItemSelected=function(r,s){var u=c.getSelectedCanvasItems(s);return _.includes(u,r)},c.getSelectedCanvasItem=function(r){return _.first(c.getSelectedCanvasItems(r))},c.getSelectedCanvasItems=function(r){return _.chain(r.getSelectedElements()).map(function(s){return s.canvasItem}).compact().value()},c.getSelectedVisualContainers=function(r){return _.chain(c.getSelectedCanvasItems(r)).filter(function(s){return(0,l.Vz)(s)}).compact().value()},c.getSelectedVisualContainerGroups=function(r){return _.chain(c.getSelectedCanvasItems(r)).filter(function(s){return(0,l.q4)(s)}).compact().value()},c.hasMultipleVisualContainerSelection=function(r){return c.getSelectedCanvasItems(r).length>1},c.getSelectedVisual=function(r){var s=c.getSelectedCanvasItems(r);if(1===s.length){var u=s[0];return(0,l.Vz)(u)?u:void 0}},c.getDefaultSelectedVisualInSingleOrMultiCase=function(r){var s=_.isArray(r)?r:c.getSelectedCanvasItems(r),u=s[0];if(u){var i=(0,o.s)(u);return _.every(s,function(a){return(0,o.s)(a)===i})?u:void 0}},c.clearSubSelections=function(r){var s=r.getSelectedElements();if(s){for(var u=c.getSelectedVisualContainers(r),i=[],a=!1,n=0,m=s;n<m.length;n++){var f=m[n];_.isEmpty(f.subSelections)?i.push(f):(a=!0,i.push(v.createSubSelectableCanvasItem(f.canvasItem,[])))}a&&r.selectElements(i,u.length>1?1:0)}return s},c}(),v=function(){function c(){}return c.createSelectableCanvasItem=function(r){return h.createFromCanvasItem(r)},c.createSubSelectableCanvasItem=function(r,s){return h.createFromSubSelections(r,s)},c}(),S=function(){function c(){}return c.equals=function(r,s){if(r.length!==s.length)return!1;for(var u=0,i=r.length;u<i;u++)if(!h.equals(r[u],s[u]))return!1;return!0},c}(),h=function(){function c(){}return Object.defineProperty(c.prototype,"id",{get:function(){if(this._canvasItem)return this._canvasItem.id},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"canvasItem",{get:function(){return this._canvasItem},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"subSelections",{get:function(){return this._subSelections},enumerable:!1,configurable:!0}),c.createFromCanvasItem=function(r){var s=new c;return s._canvasItem=r,s},c.createFromSubSelections=function(r,s){var u=c.createFromCanvasItem(r);return u._subSelections=s,u},c.equals=function(r,s){return(r=r||null)===(s=s||null)||!(!r!=!s||(e.fF.assertValue(r,"left"),e.fF.assertValue(s,"right"),r.id!==s.id||r.canvasItem!==s.canvasItem||!_.isEqual(r.subSelections,s.subSelections)))},c}()},715279:function(Xe,H,t){t.d(H,{F:function(){return o}});var e=t(389731),l=t(449317);function o(v){return new d(v)}var d=function(){function v(S){this.downgraders=S,this.objectsDowngrader=(0,l.x)(this.downgraders)}return v.prototype.getFinalExplorationVersion=function(S,h){h=(0,e.Fp)(h,this.getFinalExplorationForObjectsVersion(S,h));for(var c=0,r=this.downgraders;c<r.length;c++)h=(0,e.Fp)(h,r[c].getMinDowngradeVersionForContract(S));return h},v.prototype.downgrade=function(S,h){this.downgradeVisualObjects(S,h);for(var c=0,r=this.downgraders;c<r.length;c++)r[c].downgrade(S,h)},v.prototype.downgradeVisualObjects=function(S,h){var c=S&&S.sections;if(c)for(var r=0,s=c;r<s.length;r++){var u=s[r],i=u&&u.visualContainers;if(!i)return;for(var a=0,n=i;a<n.length;a++){var m=n[a],f=m&&m.config&&m.config.singleVisual;if(f){var V=f.visualType,p=f.vcObjects;p&&this.objectsDowngrader.downgrade(2,p,V,h);var C=f.objects;C&&this.objectsDowngrader.downgrade(1,C,V,h)}}}},v.prototype.getFinalExplorationForObjectsVersion=function(S,h){var c=S&&S.sections;if(c){for(var r=0,s=c;r<s.length;r++){var u=s[r],i=u&&u.visualContainers;if(!i)return;for(var a=0,n=i;a<n.length;a++){var m=n[a],f=m&&m.config&&m.config.singleVisual;if(f){var V=f.visualType,p=f.vcObjects;p&&(h=(0,e.Fp)(h,this.objectsDowngrader.getFinalVisualObjectsVersion(2,p,h,V)));var C=f.objects;C&&(h=(0,e.Fp)(h,this.objectsDowngrader.getFinalVisualObjectsVersion(1,C,h,V)))}}}return h}},v}()},460146:function(Xe,H,t){t.d(H,{bZ:function(){return be}});var e=t(973188),l=t(593773),o=t(123012),d=t(561224),v=t(633796),S=t(901389),h=t(758205),c=t(28291),r=t(767650),s=t(153889),u=t(389731),i=t(346162),a=t(902731),n=t(790012),m=t(709787),f=t(999738),V=t(365358),p=t(498342),C=t(781322),b=t(504898),y=t(382088),D=t(447751),P=t(495130),F=t(147883),E=t(204553),w=t(512322),x=t(25138),R=t(905216),g=t(196960),L=t(660404),M=t(180511),T=t(668247),O=t(430912),N=t(454084),A=t(249039),I=t(37974),B=t(915382),U=t(180764),W=t(716742),j=t(819408),K=t(497141),ee=t(603224),ie=t(927903),he=t(389838),q=t(715279),Y=t(599287),G=t(47507),me=t(378099),re=t(119220),le=t(929224),Ee=t(852941),Ne=t(979868),Ye=t(173818),Je=t(643293),_e=t(234681),pe=t(839378),fe=t(546368),oe="Gradient",ye="Size";function Ce(Le,Q){var Ue=void 0,ae=!0;if(!_.isEmpty(Le)){for(var Se=new Map,nt=0,vt=Le;nt<vt.length;nt++){var de=Q(vt[nt]),te=Se.get(de);null!=te?(ae=!1,Se.set(de,te+1)):Se.set(de,1)}ae||(Ue=Object.fromEntries(Se.entries()))}return{allUnique:ae,itemCounts:Ue}}function Be(Le,Q,Ue,ae){for(var nt=0,vt=0,We=0,de=0,te=0,Ve=Object.keys(ae);te<Ve.length;te++){var Z=ae[Ve[te]];nt+=Z,Z>1?(vt++,de=Math.max(de,Z)):We++}Le.logEvent(W.mY,{type:Q,deserializationId:Ue,totalCount:nt,duplicateCount:vt,uniqueCount:We,maxDuplicateCount:de})}function be(Le,Q,Ue,ae,Se,nt,vt){return new Te(Le,Q,Ue,ae,Se,nt,vt)}var Te=function(){function Le(Q,Ue,ae,Se,nt,vt,We){this.visualPlugins=Q,this.telemetryService=Ue,this.featureSwitchService=ae,this.canvasListOrderNormalizeService=Se,this.contextActivityService=nt,this.userState=vt,this.explorationUpgrader=(0,re.$)(ae),this.explorationDowngrader=(0,q.F)(We)}return Le.prototype.deepCopyExploration=function(Q,Ue){return this.deserializeExploration(this.serializeExploration(Q,Ue),[],!0)},Le.prototype.ensureInitialized=function(){return this.visualPlugins.ensureBuiltInPlugins()},Le.prototype.deserializeExploration=function(Q,Ue,ae,Se){var vt,We,nt=this;if(Q){var de=null!=Se?Se:{},te=de.model,Ve=de.counters,xe=de.getExplorationActivity,Z=de.logDuplicateTelemetry,J=Z?i.q.generateId():void 0,Fe=void 0;xe&&(Fe=xe.createChildActivity({name:"Upgrade Exploration"}));var ze=this.explorationUpgrader.upgrade(Q,Ue,ae,Ve);if(Fe&&(Fe.setProperty("upgraderCount",null==Ve?void 0:Ve.upgraderCount),Fe.resolve()),!ze)return;p.fF.assertValue(ze.config,"ExplorationSerializer.deserializeExploration - explorationConfig should exist");var rt=ze.config;if(p.fF.assertValue(rt,"ExplorationSerializer.deserializeExploration - explorationConfig couldn't be parsed"),We={id:ze.id,sections:void 0,dataSources:void 0,reportId:ze.reportId,themeCollection:R.P.cloneThemeCollection(rt.themeCollection),bookmarks:[],mwcToken:ze.mwcToken,capacityUri:ze.capacityUri,publicCustomVisuals:ze.publicCustomVisuals,isStoredInBlob:ze.isStoredInBlob},rt.tags&&(We.tags=_.cloneDeep(rt.tags)),rt.slowDataSourceSettings&&(We.slowDataSourceSettings=_.cloneDeep(rt.slowDataSourceSettings)),rt.settings&&(We.settings=_.cloneDeep(rt.settings)),rt.objects&&(We.objects=(0,l.wN)(rt.objects,T.W)),rt.bookmarks){var Oe=(0,y.zb)(function(){var Yt=nt.deserializeBookmarks(rt.bookmarks);if(Z){var ir=Ce(Yt,function(br){return br.name}),dr=ir.itemCounts;ir.allUnique||(p.fF.assertFail("bookmark names must be unique"),Be(nt.telemetryService,"BookmarkNames",J,dr))}We.bookmarks=Yt});xe&&xe.setProperty("bookmarkDeserializationDuration",Oe)}this.contextActivityService.upsertExplorationProperties({bookmarkCount:We.bookmarks?We.bookmarks.length:0}),ze.userState&&(We.userState=(0,Ee.U6)(ze.userState,this.userState,this.visualPlugins,this.featureSwitchService,this.telemetryService)),ze.activeWebBookmark&&(We.activeWebBookmark=(0,Ee.a5)(ze.activeWebBookmark,ae,this.visualPlugins,this.featureSwitchService,this.telemetryService));var Pe=ze.activeBookmark;if(Pe)for(var we=0,Ze=null!==(vt=We.bookmarks)&&void 0!==vt?vt:[];we<Ze.length;we++){var et=Ze[we];if(!L.J.isBookmarkGroup(et)&&et.name===Pe.name){We.activeBookmark=et;break}}if(ze.sections){var at=_.sortBy(ze.sections,function(Yt){return void 0!==Yt.ordinal?Yt.ordinal:0}),St=We.settings&&We.settings.useStylableVisualContainerHeader;if(We.sections=_.map(at,function(Yt){return nt.deserializePage(Yt,(0,e.__assign)((0,e.__assign)({},Se),{enableVisualContainerGrouping:St}))}),Z){var Ie=Ce(We.sections,function(Yt){return Yt.name}),bt=Ie.itemCounts;Ie.allUnique||(p.fF.assertFail("page names must be unique"),Be(this.telemetryService,"PageNames",J,bt))}if(We.filters=this.deserializeFilterContainers(ze.filters),We.dataSources=(0,M.yd)(),ze.resourcePackages&&(We.resourcePackages=this.deserializeResourcePackages(ze.resourcePackages)),ze.pods&&(We.pods=_.map(ze.pods,function(Yt){return nt.deserializePod(Yt)}),Z)){var It=Ce(We.pods,function(Yt){return Yt.name}),zt=It.itemCounts;It.allUnique||(p.fF.assertFail("pod names must be unique"),Be(this.telemetryService,"PodNames",J,zt))}if(_.isNumber(rt.activeSectionIndex)&&rt.activeSectionIndex<ze.sections.length&&(We.activeSectionIndex=rt.activeSectionIndex),rt.modelExtensions&&(We.modelExtensions=this.deserializeModelExtensions(rt.modelExtensions)),te)if(te.lastTimeAModelChangeWasDetectedInTheCluster&&!_.isEmpty(te.onPremModelConnectionString)){var Kt=(0,c.cN)(te.lastTimeAModelChangeWasDetectedInTheCluster);this.updateVisualContainerCachingOptions(We,Kt,function(Yt){Yt.useInitialCachedQuery=!0},function(Yt){Yt.useInitialCachedQuery=!1})}else _.isEmpty(te.onPremModelConnectionString)&&te.dataCacheMode===a.Vv.Import&&te.lastRefreshTime&&(Kt=(0,c.cN)(te.lastRefreshTime),this.updateVisualContainerCachingOptions(We,Kt,function(ir){ir.disableCacheOnServerForInitialLoad=!0},function(ir){ir.disableCacheOnServerForInitialLoad=!1}))}ze.report&&(We.report=(0,C.ED)(ze.report),ze.report.linguisticSchemaId&&(We.reportHasLinguisticSchema=!0)),null!=rt.defaultDrillFilterOtherVisuals&&(We.defaultDrillFilterOtherVisuals=rt.defaultDrillFilterOtherVisuals),rt.filterSortOrder&&(We.filterSortOrder=rt.filterSortOrder),rt.dataSourceVariables&&(We.dataSourceVariables=rt.dataSourceVariables),rt.creationSource&&(We.creationSource=rt.creationSource),We.linguisticSchemaSyncVersion=this.deserializeLinguisticSchemaSyncVersion(rt.linguisticSchemaSyncVersion)}return We},Le.prototype.deserializeLinguisticSchemaSyncVersion=function(Q){return null==Q?T.u.Unspecified:(p.fF.assert(function(){return Q in T.u},"unexpected linguisticSchemaSyncVersion"),Q)},Le.prototype.updateVisualContainerCachingOptions=function(Q,Ue,ae,Se){for(var nt=0,vt=Q.sections;nt<vt.length;nt++)for(var de=0,te=vt[nt].visualContainers;de<te.length;de++){var Ve=te[de];Ve.cachedData&&Ve.cachedData.dataUpdatedTime&&Ve.cachedData.data&&+Ve.cachedData.dataUpdatedTime-+Ue>=0?ae(Ve):Se(Ve)}},Le.prototype.deserializeResourcePackages=function(Q){return p.fF.assertValue(Q,"contract"),(0,Ee.sQ)(Q.map(function(Ue){return Ue.resourcePackage}))},Le.prototype.deserializeLinkField=function(Q){p.fF.assertValue(Q,"linkField");var Ue=h.ib.deserializeExpr(Q.fieldExpr);return p.fF.assert(function(){return(0,Ne.kb)(Ue)&&!1===Q.asAggregation||(0,Ne.t3)(Ue)||(0,Ne.ez)(Ue)},"invalid linkField"),{asAggregation:Q.asAggregation,fieldExpr:Ue}},Le.prototype.deserializePage=function(Q,Ue){var ae=this;if(Q){var Se={id:Q.id,objectId:Q.objectId,name:Q.name,displayName:Q.displayName,visualContainers:void 0,visualContainerGroups:void 0,size:{displayOption:void 0!==Q.displayOption?Q.displayOption:0,height:Q.height||g.LU,width:Q.width||g.Z9},filters:this.deserializeFilterContainers(Q.filters)};(Q.originalHeight||Q.originalWidth||Q.originalDisplayOption)&&(Se.originalSize={displayOption:Q.originalDisplayOption,height:Q.originalHeight,width:Q.originalWidth}),Q.transient&&(Se.transient=Q.transient);var nt=Q.config;if(Se.acceptsAllFiltersWhenLinked=nt.acceptsAllFiltersWhenLinked,nt.objects&&(Se.objects=(0,l.wN)(nt.objects,N.C7)),null!=nt.visibility&&(Se.visibility=nt.visibility),null!=nt.type&&(Se.type=nt.type),null!=nt.filterSortOrder&&(Se.filterSortOrder=nt.filterSortOrder),_.isEmpty(nt.linkFields)||(Se.linkFields=_.map(nt.linkFields,function(ze){return ae.deserializeLinkField(ze)})),nt.dynamicConfig&&(Se.dynamicConfig=this.deserializeDynamicConfig(nt.dynamicConfig)),Q.visualContainers){var vt=null!=Ue?Ue:{},We=vt.enableVisualContainerGrouping,de=vt.deserializationId,te=vt.logDuplicateTelemetry,Ve=void 0===te?i.q.generateId():te,xe=this.deserializeCanvasItems(Q.visualContainers,null,We);if(xe){if(Se.visualContainers=xe.visualContainers,Se.visualContainerGroups=xe.visualContainerGroups,Ve){var Z=Ce(xe.visualContainers,function(ze){return ze.name}),Fe=Z.itemCounts;Z.allUnique||(p.fF.assertFail("VisualContainer names must be unique within a section."),Be(this.telemetryService,"VisualsNamePerPage",de,Fe))}}else Se.visualContainers=[],Se.visualContainerGroups=[];nt.relationships&&(Se.relationships=this.deserializeRelationships(nt.relationships,Se.visualContainers))}return nt.howCreated&&(Se.howCreated=nt.howCreated),Se}},Le.prototype.deserializePod=function(Q){if(Q)return{id:Q.id,name:Q.name,boundSection:Q.boundSection,parameters:this.deserializePodParameters(Q.parameters),cortanaEnabled:Q.cortanaEnabled,type:void 0===Q.type?0:Q.type,referenceScope:void 0===Q.referenceScope?0:Q.referenceScope,config:this.deserializePodConfig(Q.config)}},Le.prototype.deserializeRelationships=function(Q,Ue){if(!_.isEmpty(Q)){for(var ae,Se=0,nt=Q;Se<nt.length;Se++){var We=this.deserializeRelationship(nt[Se],Ue);We&&(ae||(ae=[])).push(We)}return ae}},Le.prototype.deserializeBookmarks=function(Q){var Ue=this;if(Q)return _.map(Q,function(ae){if(Ue.isBookmarkGroup(ae)){var Se={displayName:ae.displayName,name:ae.name,children:Ue.deserializeBookmarks(ae.children)};return _.each(Se.children,function(We){return We.parentGroup=Se}),Se}var vt={displayName:ae.displayName,name:ae.name,explorationState:(0,Y.vB)(ae.explorationState,Ue.visualPlugins,Ue.featureSwitchService)};return ae.options&&(vt.options=Ue.deserializeBookmarkOptions(ae.options)),vt})},Le.prototype.deserializeBookmarkOptions=function(Q){return Q},Le.prototype.deserializeModelExtensions=function(Q){var Ue=this;return p.fF.assertAnyValue(Q,"model extension wireContracts"),(0,V.z8)(_.map(Q,function(ae){var Se={name:ae.name,extends:ae.extends};return ae.entities&&(Se.entities=Ue.deserializeModelExtensionEntities(ae.entities)),Se}))},Le.prototype.deserializeModelExtensionEntities=function(Q){var Ue=this;return p.fF.assertAnyValue(Q,"model extension entities wireContracts"),(0,V.z8)(_.map(Q,function(ae){var Se;return Se=ae.extends?{name:ae.name,extends:ae.extends}:{name:ae.name},ae.measures&&(Se.measures=Ue.deserializeModelExtensionMeasures(ae.measures)),Se}))},Le.prototype.deserializeModelExtensionMeasures=function(Q){var Ue=this;return p.fF.assertAnyValue(Q,"model extension measures wireContracts"),(0,V.z8)(_.map(Q,function(ae){var Se={name:ae.name,dataCategory:ae.dataCategory,dataType:ae.dataType,expression:ae.expression,errorMessage:ae.errorMessage,hidden:ae.hidden,references:Ue.deserializeExpressionReferences(ae.references),formulaOverride:ae.formulaOverride,formatInformation:ae.formatInformation,displayFolder:ae.displayFolder};return ae.annotations&&(Se.annotations=Ue.deserializeModelExtensionAnnotations(ae.annotations)),ae.measureTemplate&&(Se.measureTemplate={daxTemplateName:ae.measureTemplate.daxTemplateName,version:ae.measureTemplate.version}),ae.description&&(Se.description=ae.description),Se}))},Le.prototype.deserializeExpressionReferences=function(Q){return Q?{unrecognizedReferences:!!Q.unrecognizedReferences,measures:Q.measures||[]}:{unrecognizedReferences:!1,measures:[]}},Le.prototype.deserializeModelExtensionAnnotations=function(Q){return p.fF.assertAnyValue(Q,"model extension annotations wireContracts"),(0,V.z8)(_.map(Q,function(Ue){return{name:Ue.name,value:Ue.value}}))},Le.prototype.deserializeDynamicConfig=function(Q){var Ue;if(Q.quickExplore){var Se=Q.quickExplore.visualContainerConfigurations,nt=Q.quickExplore.layout;Ue||(Ue={}),Ue.quickExplore={selectedFields:_.map(Q.quickExplore.selectedFields,function(vt){return h.ib.deserializeExpr(vt)}),visualContainerConfigurations:_.map(Se,function(vt){return{name:vt.name,fields:_.map(vt.fields,function(We){return h.ib.deserializeExpr(We)})}})},nt&&(Ue.quickExplore.layout=this.deserializeQuickExploreLayout(nt))}return Ue},Le.prototype.deserializeQuickExploreLayout=function(Q){if(Q.combination){var Ue={version:Q.combination.version};return Q.combination.dataTableName&&(Ue.dataTableName=Q.combination.dataTableName),{combination:Ue}}if(Q.related){var ae={version:Q.related.version};return Q.related.dataTableName&&(ae.dataTableName=Q.related.dataTableName),{related:ae}}},Le.prototype.deserializeFilterCollection=function(Q,Ue,ae){if(Q){var Se=this.explorationUpgrader.upgradeFilterCollection(Q,Ue,ae);if(Se)return this.deserializeFilterContainers(Se.filters)}},Le.prototype.deserializeFilterContainer=function(Q){return{name:Q.name,type:O.vA[Q.type],expression:Q.expression?h.ib.deserializeExpr(Q.expression):void 0,filter:Q.filter&&Q.filter.Where?h.ib.deserializeFilter(Q.filter):void 0,restatement:Q.restatement,cachedValueItems:(0,d.kE)(Q.cachedDisplayNames),howCreated:Q.howCreated,isLinkedAsAggregation:Q.isLinkedAsAggregation,isTransient:Q.isTransient,isHiddenInViewMode:Q.isHiddenInViewMode,objects:Q.objects?(0,l.wN)(Q.objects,O.XW):void 0,isLockedInViewMode:Q.isLockedInViewMode,filterExpressionMetadata:Q.filterExpressionMetadata?(0,S.hE)(Q.filterExpressionMetadata):void 0,displayName:Q.displayName,ordinal:Q.ordinal}},Le.prototype.deserializeCanvasItems=function(Q,Ue,ae,Se){if(!_.isEmpty(Q)){for(var nt=[],vt=[],We={},de={},te=0,Ve=Q;te<Ve.length;te++){var xe=Ve[te];p.fF.assertValue(xe&&xe.config,"explorationSerializer.deserializePage - vc config should exist");var Z=xe.config,J=Z.name,Fe=Se&&Se(xe),ze=this.deserializeCanvasItem(xe,Ue,Fe);de[J]=ze.name,(0,B.Vz)(ze)&&nt.push(ze),void 0===Z.parentGroupName?vt.push(ze):(We[Z.parentGroupName]||(We[Z.parentGroupName]=[]),We[Z.parentGroupName].push(ze))}var Oe={};for(var Pe in We){var X=de[Pe];X?Oe[X]=We[Pe]:vt.push.apply(vt,We[Pe]||[])}return this.ensureVisualContainerGrouping(vt,Oe,ae),this.ensureNames(nt),ae?(this.ensureGroupZIndexNormalized(vt),this.featureSwitchService.featureSwitches.accessibilityTopLevelNav?this.ensureGroupTabOrderNormalized(vt,nt):this.ensureListOrderNormalized(nt,!1)):(vt=(0,e.__spreadArray)([],nt||[],!0),this.ensureListOrderNormalized(nt)),{visualContainerGroups:vt,visualContainers:nt}}},Le.prototype.deserializeCanvasItem=function(Q,Ue,ae){p.fF.assertValue(Q&&Q.config,"explorationSerializer.deserializeCanvasItem - vc config should exist");var Se=Q.config;return Se.singleVisual?this.deserializeVisualContainer(Q,Ue,ae):Se.singleVisualGroup?this.deserializeVisualContainerGroup(Q,Ue,ae):(p.fF.assertFail("explorationSerializer.deserializePage - singleVisual or singleVisualGroup should exist"),void this.telemetryService.logEvent(W.M))},Le.prototype.deserializeVisualContainer=function(Q,Ue,ae){var Se;p.fF.assertValue(Q,"input");var nt=Q.config,vt={name:ae||nt.name,id:Ue?void 0:Q.id,layouts:(0,V.UR)(),config:{singleVisual:this.deserializeSingleVisual(nt.singleVisual,Q.prototypeQuery)}};null!=Q.visibility&&(vt.visibility=Q.visibility),null!=Q.detailVisualLayout&&(vt.detailVisualLayout=Q.detailVisualLayout),nt.name&&(vt.prevName=nt.name),nt.howCreated&&(vt.howCreated=nt.howCreated),(void 0!==Q.dataBinaryBase64Encoded||void 0!==Q.query||void 0!==Q.dataTransforms)&&(vt.cachedData={data:Q.dataBinaryBase64Encoded,query:Q.query,transforms:Q.dataTransforms,dataUpdatedTime:Q.dataUpdatedTime?(0,c.jC)(Q.dataUpdatedTime):void 0}),vt.filters=this.deserializeFilterContainers(Q.filters);var We=nt.singleVisual.drillFilterOtherVisuals;null!=We&&(vt.drillFilterOtherVisuals=We);var de=nt.singleVisual.filterSortOrder;return null!=de&&(vt.filterSortOrder=de),(Se=vt.layouts).push.apply(Se,_.cloneDeep(nt.layouts)||[]),_.forEach(vt.layouts,function(te){te.position&&He(te.position)}),vt},Le.prototype.deserializeVisualContainerGroup=function(Q,Ue,ae){var Se;p.fF.assertValue(Q,"input");var nt=Q.config,vt=nt.singleVisualGroup,We={name:ae||nt.name,id:Ue?void 0:Q.id,children:[],displayName:vt.displayName,groupMode:vt.groupMode,layouts:(0,V.UR)(),isHidden:vt.isHidden};return nt.name&&(We.prevName=nt.name),(Se=We.layouts).push.apply(Se,_.cloneDeep(nt.layouts)||[]),vt.objects&&(We.objects=(0,l.wN)(vt.objects,I.C7)),We},Le.prototype.deserializeRelationship=function(Q,Ue){p.fF.assertValue(Q,"input"),p.fF.assertValue(Ue,"visualContainers");var ae=(0,V.rC)(Ue,Q.source),Se=(0,V.rC)(Ue,Q.target);if(p.fF.assertValue(ae,"source"),p.fF.assertValue(Se,"target"),0!==Q.type&&ae&&Se)return{source:ae,target:Se,type:Q.type}},Le.prototype.deserializeFilterContainers=function(Q){var Ue=this;if(!(0,D.g)(Q)){var ae=[],Se=(0,r.K)(Q);return Se&&(ae=Se.map(function(nt){return Ue.deserializeFilterContainer(nt)})),ae}},Le.prototype.deserializePodParameters=function(Q){var Ue=this,ae=[];if(!(0,D.g)(Q)){var Se=(0,r.K)(Q);Se&&(ae=Se.map(function(nt){return Ue.deserializePodParameter(nt)}))}return ae},Le.prototype.deserializePodParameter=function(Q){return{name:Q.name,boundFilter:Q.boundFilter,fieldExpr:Q.fieldExpr?h.ib.deserializeExpr(Q.fieldExpr):void 0,asAggregation:Q.asAggregation,isLegacySingleSelection:Q.isLegacySingleSelection}},Le.prototype.deserializePodConfig=function(Q){if((0,D.g)(Q))return{acceptsFilterContext:0};var Ue=(0,r.K)(Q);return p.fF.assert(function(){return void 0!==Ue},"Incorrect PodConfig contents"),void 0===Ue.acceptsFilterContext&&(Ue.acceptsFilterContext=0),Ue},Le.prototype.deserializeVisualQuery=function(Q,Ue,ae,Se,nt,vt,We){var de=this.visualPlugins.capabilities(Q.visualType),te=de&&de.expandCollapse&&de.expandCollapse.supportsMerge,Ve=de&&de.expandCollapse&&de.expandCollapse.collapseParentAfterRemovingChildLevel,xe=de&&de.noDefaultProjections,Z=new U.g(Ue,this.convertProjections(ae,Ue.select(),nt,vt),(0,v.bX)(Se,{supportsMerge:te,canCollapseRoot:xe,collapseParentAfterRemovingChildLevel:Ve}),We);this.upgradeVisualQuery(Z,Q.visualType),Q.query=Z},Le.prototype.deserializeSingleVisual=function(Q,Ue){var ae=this,Se={visualType:Q.visualType||Q.visualConfig.visualType};p.fF.assertValue(Se.visualType,"explorationSerializer.deserializeSingleVisual - visualType should exist"),null!=Q.autoSelectVisualType&&(Se.autoSelectVisualType=Q.autoSelectVisualType);var nt=Q.visualConfig?Q.visualConfig.projections:void 0,vt=Q.projections||{};if(nt)for(var We=0,de=nt;We<de.length;We++)(Ve=vt[(te=de[We]).role])||(vt[te.role]=Ve=[]),Ve.push(te);else if(vt&&vt.length>0){nt=vt,vt={};for(var xe=0,Z=nt;xe<Z.length;xe++){var te,Ve;(Ve=vt[(te=Z[xe]).role])||(vt[te.role]=Ve=[]),Ve.push(te)}}var J=Q.prototypeQuery?Q.prototypeQuery:Ue?(0,r.K)(Ue):null;if(J){var Fe=h.ib.deserializeQuery(J);this.deserializeVisualQuery(Se,Fe,vt,Q.expansionStates,Q.showAllRoles,Q.queryFieldParametersByRole,Q.isDrillDisabled)}null!=Q.display&&(Se.display=Q.display),Q.columnProperties&&(Se.columnProperties=_.cloneDeep(Q.columnProperties));var rt=Q.queryOptions;rt&&(Se.queryOptions=_.cloneDeep(rt));var Oe=Q.syncGroup;null!=Oe&&(Se.syncGroup=_.cloneDeep(Oe));var Pe=Q.hasDefaultSort;return null!=Pe&&(Se.hasDefaultSort=Pe),Q.objects&&this.addItemLocationObjects(Se.visualType,Q.objects),(0,l.kO)(Q.objects,function(){var X;return null===(X=ae.visualPlugins.capabilities(Se.visualType))||void 0===X?void 0:X.objects},Se),Q.vcObjects&&(Se.vcObjects=(0,l.wN)(Q.vcObjects,A.XW)),this.deserializeMobileState(Se,Q),Q.cachedFilterDisplayItems&&(Se.cachedFilterDisplayItems=(0,d.kE)(Q.cachedFilterDisplayItems)),Q.filterExpressionMetadata&&(Se.filterExpressionMetadata=(0,S.hE)(Q.filterExpressionMetadata)),Se},Le.prototype.addItemLocationObjects=function(Q,Ue){var ae,Pe,Se=function(Oe,Pe){var X=Oe[Pe.objectName];if(null!=X&&1===X.length)return X[0].properties[Pe.propertyName]};if(Q===Je.D.scorecard){var vt=_e.A.scorecard.scorecardReference,We=_e.A.scorecard.scorecardId,de=Se(Ue,We);if(null==de)return;var Ve=h.ib.deserializeExpr(de.expr).value,xe=null!==(Pe=_.toLower(_.trim(Ve)),ae=(0,fe.HH)(Pe,!1)?Pe.split("/scorecards/")[1]:Pe)&&void 0!==ae?ae:Ve;Ue[vt.objectName][0].properties[vt.propertyName]={kind:"ItemLocation",byReference:{itemId:{expr:h.ib.serializeExpr((0,w.fL)(xe))}}},delete Ue[We.objectName][0].properties[We.propertyName]}if(Q===Je.D.rdlVisual){vt=pe.eH.reportInfo.reference;var Z=pe.eH.reportInfo.reportId,J=pe.eH.reportInfo.workspaceId,Fe=Se(Ue,Z),ze=Se(Ue,J);if(null==Fe||null==ze)return;Ue[vt.objectName][0].properties[vt.propertyName]={kind:"ItemLocation",byReference:{itemId:Fe,workspaceId:ze}},delete Ue[Z.objectName][0].properties[Z.propertyName],delete Ue[J.objectName][0].properties[J.propertyName]}},Le.prototype.deserializeMobileState=function(Q,Ue){var ae=this;Ue.mobileVcObjects&&(Q.mobileVcObjects=(0,l.wN)(Ue.mobileVcObjects,A.XW)),Ue.mobileObjects&&(0,l.kO)(Ue.mobileObjects,function(){var Se;return null===(Se=ae.visualPlugins.capabilities(Q.visualType))||void 0===Se?void 0:Se.objects},Q,"mobileObjects")},Le.prototype.isBookmarkGroup=function(Q){return void 0!==Q.children},Le.prototype.ensureVisualContainerGrouping=function(Q,Ue,ae,Se){for(var nt=0,vt=Q;nt<vt.length;nt++){var We=vt[nt];if(Se&&(We.parentGroup=Se),!ae&&(0,B.Vz)(We)&&We.parentGroup){var de=We.layouts.withId(0),te=(0,ie.hP)(de.position,0,We.parentGroup);de.position=te,We.parentGroup=void 0}(0,B.q4)(We)&&(p.fF.assertValue(Ue[We.name],"deserializePage - visual container group must have children"),We.children=Ue[We.name]||[],this.ensureVisualContainerGrouping(We.children,Ue,ae,We))}},Le.prototype.ensureGroupZIndexNormalized=function(Q){if(p.fF.assertValue(Q,"visualContainerGroups"),!_.isEmpty(Q)){this.ensureListOrderNormalizedInternal(Q,!0,"z");for(var Ue=0,ae=Q;Ue<ae.length;Ue++){var Se=ae[Ue];(0,B.q4)(Se)&&this.ensureGroupZIndexNormalized(Se.children)}}},Le.prototype.ensureGroupTabOrderNormalized=function(Q,Ue){if(p.fF.assertValue(Q,"visualContainerGroups"),!_.isEmpty(Q)){if(_.every(Ue,function(ae){var Se=ae.layouts.withId(0);return Se&&Se.position&&null==Se.position.tabOrder}))return;this.ensureGroupsHaveTabOrders(Q)||this.upgradeTabOrderToHierarchy(Q),this.ensureGroupTabOrderNormalizedHelper(Q)}},Le.prototype.upgradeTabOrderToHierarchy=function(Q){var Ue=this;_.map(Q,function(ae){var Se,nt;if((0,B.q4)(ae)&&void 0===(null===(nt=null===(Se=ae.layouts)||void 0===Se?void 0:Se.withId(0).position)||void 0===nt?void 0:nt.tabOrder)){Ue.upgradeTabOrderToHierarchy(ae.children);var vt=Number.NEGATIVE_INFINITY;(0,B.Iw)([ae],function(We){var de,te,Ve=null===(te=null===(de=We.layouts)||void 0===de?void 0:de.withId(0).position)||void 0===te?void 0:te.tabOrder;Ve&&(vt=_.max([vt,Ve])),vt!==Number.NEGATIVE_INFINITY&&(ae.layouts.withId(0).position.tabOrder=vt)})}})},Le.prototype.ensureGroupsHaveTabOrders=function(Q){for(var Ue,ae=0,Se=Q;ae<Se.length;ae++){var nt=Se[ae];if((0,B.q4)(nt)){var vt=nt.layouts.withId(0);if(void 0===(null===(Ue=null==vt?void 0:vt.position)||void 0===Ue?void 0:Ue.tabOrder)||!this.ensureGroupsHaveTabOrders(nt.children))return!1}}return!0},Le.prototype.ensureGroupTabOrderNormalizedHelper=function(Q){this.ensureTabOrderNormalized(Q,!0),this.ensureTabOrderNormalized(Q,!1);for(var Ue=0,ae=Q;Ue<ae.length;Ue++){var Se=ae[Ue];(0,B.q4)(Se)&&this.ensureGroupTabOrderNormalizedHelper(Se.children)}},Le.prototype.ensureListOrderNormalized=function(Q,Ue){void 0===Ue&&(Ue=!0),p.fF.assertValue(Q,"visualContainers"),!_.isEmpty(Q)&&(Ue&&this.ensureListOrderNormalizedInternal(Q,!0,"z"),!_.every(Q,function(ae){var Se=ae.layouts.withId(0);return Se&&Se.position&&null==Se.position.tabOrder})&&(this.ensureTabOrderNormalized(Q,!0),this.ensureTabOrderNormalized(Q,!1)))},Le.prototype.ensureTabOrderNormalized=function(Q,Ue){var ae=this,Se=_.filter(Q,function(nt){var vt=ae.getListOrderPropertyFunction(nt,"tabOrder");return Ue?vt>=0||void 0===vt:vt&&vt<0});this.ensureListOrderNormalizedInternal(Se,Ue,"tabOrder")},Le.prototype.getListOrderPropertyFunction=function(Q,Ue){var ae=Q.layouts.withId(0);return ae&&ae.position&&ae.position[Ue]},Le.prototype.setListOrderPropertyFunction=function(Q,Ue,ae){var Se=Q.layouts.withId(0);Se&&Se.position&&(Se.position[Ue]=ae)},Le.prototype.ensureListOrderNormalizedInternal=function(Q,Ue,ae){var Se=this,nt=this.canvasListOrderNormalizeService.getContainerListOrders(Q,function(vt){return Se.getListOrderPropertyFunction(vt,ae)});this.canvasListOrderNormalizeService.shouldNormalizeListOrder(nt,Ue)&&(nt=this.canvasListOrderNormalizeService.normalizeListOrder(nt,Ue,function(vt){return Se.getListOrderPropertyFunction(vt,ae)}),this.updateListOrders(Q,nt,ae))},Le.prototype.updateListOrders=function(Q,Ue,ae){for(var Se=0,nt=Q;Se<nt.length;Se++){var vt=nt[Se],We=Ue[vt.name];null!=We&&We!==this.getListOrderPropertyFunction(vt,ae)&&this.setListOrderPropertyFunction(vt,ae,We)}},Le.prototype.ensureNames=function(Q){p.fF.assertValue(Q,"items");for(var Se,Ue=Q.length,ae={},nt=0;nt<Ue;nt++){var vt=Q[nt].name;_.isEmpty(vt)?Se=!0:ae[vt]=!0}if(Se)for(nt=0;nt<Ue;nt++){var We=Q[nt];_.isEmpty(We.name)&&(We.name=(0,ie.vr)(ae),ae[We.name]=!0)}},Le.prototype.convertProjections=function(Q,Ue,ae,Se){p.fF.assertValue(Q,"contract"),p.fF.assertValue(Ue,"select");for(var nt={},vt=_.keys(Se),We=_.keys(Q),te=0,Ve=_.union(vt,We);te<Ve.length;te++){var xe=Ve[te],Z=_.includes(ae,xe);nt[xe]=this.convertProjectionArray(Q[xe],Ue,Z,Se?Se[xe]:void 0)}return nt},Le.prototype.convertProjectionArray=function(Q,Ue,ae,Se){var vt,nt=[];if(!_.isEmpty(Q))for(var We=0,de=Q;We<de.length;We++){var te=de[We],Ve=this.convertProjection(te,Ue);te.active&&(vt=vt||[]).push(Ve.queryRef),nt.push(Ve)}var xe=[];if(!_.isEmpty(Se))for(var Z=0,J=Se;Z<J.length;Z++){var Fe=J[Z],ze={index:Fe.index,length:Fe.length,expr:h.ib.deserializeExpr(Fe.expr)};xe.push(ze)}return new F.NQ(nt,vt,ae,xe)},Le.prototype.convertProjection=function(Q,Ue){p.fF.assertValue(Q,"contract");var ae=Q.queryRef;_.isNumber(Q.queryRef)&&(ae=Ue[Q.queryRef].name);var Se={queryRef:ae};return Q.format&&(Se.format=Q.format),Q.hidden&&(Se.hidden=!0),Se},Le.prototype.serializeExploration=function(Q,Ue){return this.createSerializer().serializeExploration(Q,Ue)},Le.prototype.serializeModelExtensions=function(Q){return this.createSerializer().serializeModelExtensions(Q)},Le.prototype.serializePage=function(Q,Ue,ae){return this.createSerializer().serializePage(Q,Ue,ae)},Le.prototype.serializePageShallow=function(Q,Ue,ae){return this.createSerializer().serializePageShallow(Q,Ue,ae)},Le.prototype.serializeVisualContainer=function(Q,Ue){return this.createSerializer().serializeVisualContainer(Q,Ue)},Le.prototype.serializeVisualContainerGroup=function(Q){return this.createSerializer().serializeVisualContainerGroup(Q)},Le.prototype.serializePod=function(Q){return this.createSerializer().serializePod(Q)},Le.prototype.serializeFilterCollection=function(Q){return this.createSerializer().serializeFilterCollection(Q)},Le.prototype.serializeResourcePackages=function(Q){return this.createSerializer().serializeResourcePackages(Q)},Le.prototype.createSerializer=function(){return new Ke(this.visualPlugins,this.explorationDowngrader,this.telemetryService,this.featureSwitchService)},Le.prototype.upgradeVisualQuery=function(Q,Ue){if(Ue===Je.D.filledMap&&Q.projections[oe]){var ae=Q.projections[oe],Se=Q.projections[ye];if(Se&&Se.all.length>0)for(var vt=Se.all().length-1;vt>=0;vt--)Q.removeProjection(ye,{fieldIndex:vt});Q.projections[ye]=ae,delete Q.projections[oe]}var We=this.visualPlugins.capabilities(Ue);if(We){var de=(0,j.WO)(We,Q.isDrillDisabled),te=Q.ensureDrillableRoles(de);if(!_.isEmpty(te)){for(var Ve={},xe=0,Z=te;xe<Z.length;xe++){var J=Z[xe],Fe=Q.projections[J],ze=0;Fe&&(ze=_.size(Fe.all())),Ve[J]=ze}this.telemetryService.logEvent(W.Zk,{visualType:Ue,fixedRoleByProjectionCount:JSON.stringify(Ve)})}}},Le.prototype.upgradeResourcePackage=function(Q){void 0===Q.type&&(Q.type=0)},Le.prototype.getReferencedStaticResources=function(Q){var Ue={},ae=Q.themeCollection.customTheme,Se=Q.themeCollection.baseTheme;if(this.addItemReference(Ue,Q.resourcePackages,ae&&ae.type,ae&&ae.name),this.addItemReference(Ue,Q.resourcePackages,Se&&Se.type,Se&&Se.name),!_.isEmpty(Q.sections))for(var nt=0,vt=Q.sections;nt<vt.length;nt++){var We=vt[nt];if((0,he.WP)(We.objects,N.C7,Q.resourcePackages,Ue),!_.isEmpty(We.visualContainers))for(var de=0,te=We.visualContainers;de<te.length;de++){var xe=te[de].config.singleVisual,Z=xe.objects,J=this.visualPlugins.capabilities(xe.visualType);(0,he.WP)(Z,J&&J.objects,Q.resourcePackages,Ue)}}return Ue},Le.prototype.addItemReference=function(Q,Ue,ae,Se){if(Se&&ae){var nt=(0,x.Yu)(Ue,ae,Se);if(nt){var vt=(0,x.RJ)(ae);(0,he.be)(Q,vt,ae,Se,nt.type)}}},Le.prototype.parseExplorationConfigs=function(Q){var Ue=this;if(Q){var ae=this.parseConfig(Q);return ae.sections=_.map(Q.sections,function(Se){return Ue.parsePageConfigs(Se)}),ae}},Le.prototype.parseConfig=function(Q){var Ue=_.clone(Q);return Ue.config=(0,r.K)(Q.config)||{},Ue},Le.prototype.parsePageConfigs=function(Q){var Ue=this,ae=this.parseConfig(Q);return ae.visualContainers=_.map(Q.visualContainers,function(Se){return Ue.parseConfig(Se)}),ae},Le.prototype.stringifyExplorationConfigs=function(Q){var Ue=this,ae=this.stringifyConfig(Q);return ae.sections=_.map(Q.sections,function(Se){return Ue.stringifyPageConfigs(Se)}),ae},Le.prototype.stringifyConfig=function(Q){var Ue=_.clone(Q);return Ue.config=JSON.stringify(Q.config),Ue},Le.prototype.stringifyPageConfigs=function(Q){var Ue=this,ae=this.stringifyConfig(Q);return ae.visualContainers=_.map(Q.visualContainers,function(Se){return Ue.stringifyConfig(Se)}),ae},Le.prototype.parseFilterCollectionConfig=function(Q){if(Q)return this.parseConfig(Q)},Le.prototype.stringifyFilterCollectionConfig=function(Q){if(Q)return this.stringifyConfig(Q)},Le}(),ce=le.H3n.v5_37,Ke=function(){function Le(Q,Ue,ae,Se){this.visualPlugins=Q,this.explorationDowngrader=Ue,this.telemetryService=ae,this.featureSwitchService=Se,this.version=ce}return Le.prototype.serializeExploration=function(Q,Ue){var Se,ae=this,nt=Q.sections;(!Ue||!Ue.withTransientPages)&&(nt=(0,N.yG)(nt));var We,vt=_.map(nt,function(Fe,ze){return ae.serializePage(Fe,ze,Ue)});_.isEmpty(Q.pods)||(this.removeInvalidPods(Q.sections,Q.pods,this.telemetryService),We=_.map(Q.pods,function(Fe){return ae.serializePod(Fe)}),p.fF.assert(function(){return Ce(Q.pods,function(Fe){return Fe.name}).allUnique},"pod names must be unique"));var de=this.serializeExplorationShallowWithResourcePackages(Q,Ue);if(de.sections=vt,de.pods=We,!Ue||!Ue.forSave){var te=Q.activeBookmark;if(te)for(var xe=0,Z=null!==(Se=de.config.bookmarks)&&void 0!==Se?Se:[];xe<Z.length;xe++){var J=Z[xe];if(!ke(J)&&J.name===te.name){de.activeBookmark=J;break}}}return Ue&&Ue.forSave&&this.explorationDowngrader.downgrade(de,this.version),p.fF.assert(function(){return ae.version===de.config.version},"explorationSerializer.serializeExploration - Version in serializer state should be exactly the same that returned wireContract version."),de},Le.prototype.serializeBookmarks=function(Q,Ue){var ae=this;if(Q){var Se=me.Zh,nt=_.map(Q,function(vt){if(L.J.isBookmarkGroup(vt)){var We={displayName:vt.displayName,name:vt.name,children:ae.serializeBookmarks(vt.children,Ue)};return ae.version=(0,u.Fp)(ae.version,le.VSH),We}(0,Y.oJ)(vt.explorationState,Ue);var de={displayName:vt.displayName,name:vt.name,explorationState:(0,Y.qC)(vt.explorationState,ae.featureSwitchService)};return Se=(0,u.Fp)(de.explorationState.version,Se),vt.options&&(de.options=ae.serializeBookmarkOptions(vt.options),ae.version=(0,u.Fp)(ae.version,le.q4D)),de});switch(Se){case me.Zh:this.version=(0,u.Fp)(this.version,le.hGr);break;case me.U1:this.version=(0,u.Fp)(this.version,le.rAF);break;case me.aN:this.version=(0,u.Fp)(this.version,le.htK);break;case me.Aq:this.version=(0,u.Fp)(this.version,le.$tC);break;case me.Zl:this.version=(0,u.Fp)(this.version,le.fke);break;case me.XX:this.version=(0,u.Fp)(this.version,le.vqL);break;case me.uZ:this.version=(0,u.Fp)(this.version,le.UCJ);break;case me.rb:this.version=(0,u.Fp)(this.version,le.dKN);break;case me.C7:this.version=(0,u.Fp)(this.version,le.C7j);break;default:p.fF.assertFail("Unknown exploration state version.")}return nt}},Le.prototype.serializeBookmarkOptions=function(Q){return Q},Le.prototype.serializeExplorationShallowWithResourcePackages=function(Q,Ue){var ae=this,Se=Q.activeSectionIndex,nt=this.createVersionedElementConfig(ce);if(this.version=(0,u.Fp)(this.version,nt.version),nt.themeCollection=R.P.cloneThemeCollection(Q.themeCollection),_.isNumber(Se)&&(nt.activeSectionIndex=Se),_.isEmpty(Q.modelExtensions)||(this.version=(0,u.Fp)(this.version,le.H3n.v3_0),nt.modelExtensions=this.serializeModelExtensions(Q.modelExtensions)),!_.isEmpty(Q.bookmarks)){var vt=this.serializeBookmarks(Q.bookmarks,Q);nt.bookmarks=vt}Ue&&Ue.excludeHighContrastTheme&&delete nt.themeCollection.highContrastTheme,Ue&&Ue.forSave&&delete nt.themeCollection.transientUserSetTheme;var We=Q.themeCollection.baseTheme;if(We&&(this.version=(0,u.Fp)(this.version,(0,ee.TO)(We.name))),(0,D.g)(Q.dataSourceVariables)||(this.version=(0,u.Fp)(this.version,le.H3n.v4_2),nt.dataSourceVariables=Q.dataSourceVariables),Q.tags&&(nt.tags=Q.tags),null!=Q.defaultDrillFilterOtherVisuals&&(nt.defaultDrillFilterOtherVisuals=Q.defaultDrillFilterOtherVisuals,Q.defaultDrillFilterOtherVisuals&&(this.version=(0,u.Fp)(this.version,le.U$u))),null!=Q.filterSortOrder&&(nt.filterSortOrder=Q.filterSortOrder,Q.filterSortOrder&&(this.version=(0,u.Fp)(this.version,le.faH))),Q.slowDataSourceSettings){var de=_.cloneDeep(Q.slowDataSourceSettings);(de.isCrossHighlightingDisabled||de.isFieldWellButtonEnabled||de.isFilterSelectionsButtonEnabled||de.isSlicerSelectionsButtonEnabled||de.isApplyAllButtonEnabled)&&(this.version=(0,u.Fp)(this.version,de.isApplyAllButtonEnabled?le.m5F:le.qq3)),nt.slowDataSourceSettings=de}if(null!=Q.linguisticSchemaSyncVersion&&(nt.linguisticSchemaSyncVersion=Q.linguisticSchemaSyncVersion,Q.linguisticSchemaSyncVersion!==T.u.Unspecified&&(this.version=(0,u.Fp)(this.version,le.ugh))),Q.settings){var te=_.cloneDeep(Q.settings);(te.isPersistentUserStateDisabled||te.hideVisualContainerHeader)&&(this.version=(0,u.Fp)(this.version,le.Awj)),te.useStylableVisualContainerHeader&&(this.version=(0,u.Fp)(this.version,le.qdh)),void 0!==te.exportDataMode&&0!==te.exportDataMode&&(this.version=(0,u.Fp)(this.version,le.m7e)),te.useNewFilterPaneExperience&&(this.version=(0,u.Fp)(this.version,le.z1y)),te.isReportAnnotationsDisabled&&(this.version=(0,u.Fp)(this.version,le.sE2)),!0===te.defaultFilterActionIsDataFilter&&(this.version=(0,u.Fp)(this.version,le.iXZ)),te.useCrossReportDrillthrough&&(this.version=(0,u.Fp)(this.version,le.xSu)),te.allowChangeFilterTypes&&(this.version=(0,u.Fp)(this.version,le.kdg)),te.allowInlineExploration&&(this.version=(0,u.Fp)(this.version,le.UCJ)),te.optOutNewFilterPaneExperience&&(this.version=(0,u.Fp)(this.version,le.YA8)),te.filterPaneHiddenInEditMode&&(this.version=(0,u.Fp)(this.version,le.UAC)),te.disableFilterPaneSearch&&(this.version=(0,u.Fp)(this.version,le.np7)),te.pagesPosition&&(this.version=(0,u.Fp)(this.version,le.IwG)),te.useEnhancedTooltips&&(this.version=(0,u.Fp)(this.version,le.TQL)),te.useScaledTooltips&&(this.version=(0,u.Fp)(this.version,le.elY)),te.allowAutomatedInsightsNotification&&(this.version=(0,u.Fp)(this.version,le.VTu)),te.useDefaultAggregateDisplayName&&(this.version=(0,u.Fp)(this.version,le.GwY)),te.pauseQueries&&(this.version=(0,u.Fp)(this.version,le.tCF)),(te.queryLimitOption||te.customMemoryLimit||te.customTimeoutLimit)&&(this.version=(0,u.Fp)(this.version,le.ckf)),nt.settings=te}Q.objects&&(nt.objects=this.serializeObjects(Q.objects,T.W,"report",Ue)),Ue&&Ue.forSave?(this.version=this.explorationDowngrader.getFinalExplorationVersion(Q,this.version),p.fF.assert(function(){return!(0,u.lt)(ae.version,nt.version)},"explorationSerializer.serializeExplorationShallowWithResourcePackages - Version should be at least as high as version config")):this.version=G.t;var Ve=this.serializeFilterContainers(Q.filters,Ue);return Q.creationSource&&(nt.creationSource=Q.creationSource,this.version=(0,u.Fp)(this.version,le.Eo9)),nt.version=this.version,{id:Q.id,report:Q.report,reportId:Q.reportId,theme:Q.themeCollection.customTheme&&Q.themeCollection.customTheme.name,filters:Ve,resourcePackages:this.serializeResourcePackages(Q.resourcePackages,Ue),sections:void 0,config:nt,layoutOptimization:this.getLayoutOptimizations(Q),publicCustomVisuals:Q.publicCustomVisuals,isStoredInBlob:Q.isStoredInBlob}},Le.prototype.serializeLinkField=function(Q){p.fF.assertValue(Q,"linkfield");var Ue=Q.fieldExpr;return p.fF.assert(function(){return(0,Ne.kb)(Ue)&&!1===Q.asAggregation||(0,Ne.t3)(Ue)||(0,Ne.ez)(Ue)},"invalid linkField"),{asAggregation:Q.asAggregation,fieldExpr:h.ib.serializeExpr(Ue)}},Le.prototype.serializeFilterCollection=function(Q){if(!_.isEmpty(Q)){var Ue=this.createVersionedElementConfig(ce);return{filters:this.serializeFilterContainers(Q),config:Ue}}},Le.prototype.serializePage=function(Q,Ue,ae){var Se=this.serializePageShallow(Q,Ue,ae);if(Se.visualContainers=[],Q.visualContainerGroups)this.serializeVisualContainerTreeToList(Q.visualContainerGroups,Se.visualContainers,ae);else for(var nt=0,vt=Q.visualContainers;nt<vt.length;nt++)Se.visualContainers.push(this.serializeVisualContainer(vt[nt],ae));return Se},Le.prototype.serializeVisualContainerTreeToList=function(Q,Ue,ae){for(var Se=!1,nt=0,vt=Q;nt<vt.length;nt++){var We=vt[nt];(0,B.q4)(We)?(Se||(this.version=(0,u.Fp)(le.F1S.getVersionForVisualContainerGroup(We),this.version),Se=!0),Ue.push(this.serializeVisualContainerGroup(We)),this.serializeVisualContainerTreeToList(We.children,Ue,ae)):Ue.push(this.serializeVisualContainer(We,ae))}},Le.prototype.isRegularPageUsingMeasureDrillthrough=function(Q){var Ue=!1,ae=!1;return(null==Q.type||0===Q.type)&&(Ue=!0===Q.acceptsAllFiltersWhenLinked,ae=_.some(Q.filters,function(Se){return Se&&5===Se.howCreated&&!Se.isTransient&&(Se.isLinkedAsAggregation||Se.expression&&(0,Ne.kb)(Se.expression))})),Ue||ae},Le.prototype.isMeasureDrillthroughPod=function(Q){var Ue=!1,ae=!1;return 1===Q.type&&(Ue=Q.config&&0===Q.config.acceptsFilterContext,ae=_.some(Q.parameters,function(Se){return Se.asAggregation||Se.fieldExpr&&(0,Ne.kb)(Se.fieldExpr)})),Ue||ae},Le.prototype.serializePageShallow=function(Q,Ue,ae){var nt,Se=this;p.fF.assert(function(){return Ce(Q.visualContainers,function(de){return de.name}).allUnique},"VisualContainer names must be unique within a section.");var vt={id:Q.id,name:Q.name,displayName:Q.displayName,filters:this.serializeFilterContainers(Q.filters,ae),ordinal:Ue,visualContainers:void 0,transient:Q.transient,objectId:Q.objectId,config:{}};Q.size&&(vt.displayOption=Q.size.displayOption,vt.width=Q.size.width,vt.height=Q.size.height),ae&&ae.forSave&&(Q.isNew=void 0),(null==ae||!ae.forSave)&&Q.originalSize&&(vt.originalDisplayOption=Q.originalSize.displayOption,vt.originalWidth=Q.originalSize.width,vt.originalHeight=Q.originalSize.height);var We=vt.config;return _.isEmpty(Q.relationships)||(We.relationships=this.serializeRelationships(Q.relationships),ae&&ae.featureUsage&&(ae.featureUsage.hasVisualRelationships=!0)),Q.objects&&(We.objects=this.serializeObjects(Q.objects,N.C7,"page",ae)),null!=Q.visibility&&(We.visibility=Q.visibility,this.version=(0,u.Fp)(this.version,le.ftA)),null!=Q.type&&(We.type=Q.type,this.version=(0,u.Fp)(this.version,le.x7c)),null!=Q.filterSortOrder&&(We.filterSortOrder=Q.filterSortOrder,this.version=(0,u.Fp)(this.version,le.faH)),We.acceptsAllFiltersWhenLinked=Q.acceptsAllFiltersWhenLinked,this.isRegularPageUsingMeasureDrillthrough(Q)&&(this.version=(0,u.Fp)(this.version,le.oq_)),_.isEmpty(Q.linkFields)||(We.linkFields=_.map(Q.linkFields,function(de){return Se.serializeLinkField(de)}),this.version=(0,u.Fp)(this.version,le.x7c)),Q.dynamicConfig&&(We.dynamicConfig=this.serializePageDynamicConfig(Q.dynamicConfig),this.version=(0,u.Fp)(this.version,le.Eo9),!(null===(nt=We.dynamicConfig.quickExplore)||void 0===nt)&&nt.layout&&(this.version=(0,u.Fp)(this.version,le.KQG))),Q.howCreated&&"Default"!==Q.howCreated&&(We.howCreated=Q.howCreated,this.version=(0,u.Fp)(this.version,le.q0O)),vt},Le.prototype.serializePod=function(Q){var Ue=this.serializePodParameters(Q.parameters);return this.isMeasureDrillthroughPod(Q)&&(this.version=(0,u.Fp)(this.version,le.oq_)),1===Q.referenceScope&&(this.version=(0,u.Fp)(this.version,le.xSu)),{id:Q.id,name:Q.name,boundSection:Q.boundSection,parameters:_.isEmpty(Ue)?void 0:JSON.stringify(Ue),cortanaEnabled:Q.cortanaEnabled?Q.cortanaEnabled:void 0,type:0!==Q.type?Q.type:void 0,referenceScope:0!==Q.referenceScope?Q.referenceScope:void 0,config:this.serializePodConfig(Q.config)}},Le.prototype.serializeVisualContainer=function(Q,Ue){_.forEach(Q.layouts,function(We){We.position&&He(We.position)});var ae,Se=this.serializeVisualContainerConfig(Q,Ue),nt=Q.layouts&&Q.layouts.withId(0);if(nt?(p.fF.assertValue(nt.position,"Master layout should contain a position"),ae={id:Q.id,x:nt.position.x,y:nt.position.y,z:nt.position.z,width:nt.position.width,height:nt.position.height,config:Se,filters:this.serializeFilterContainers(Q.filters)},nt.position.tabOrder&&(ae.tabOrder=nt.position.tabOrder)):ae={id:Q.id,config:Se,filters:this.serializeFilterContainers(Q.filters)},!_.isEmpty(Q.filters)){var vt=this.visualPlugins.capabilities(Q.config.singleVisual.visualType);K.l.supportsFilterOutput(vt)&&(this.version=(0,u.Fp)(this.version,le.NsA))}return Ue&&Ue.forSave&&(Q.isNew=void 0),Ue&&Ue.withVisibility&&(null!=Q.visibility&&(ae.visibility=Q.visibility),null!=Q.detailVisualLayout&&(ae.detailVisualLayout=Q.detailVisualLayout)),Ue&&Q.cachedData&&((Ue.withQuery||Ue.withData)&&(ae.query=Q.cachedData.queryObject?JSON.stringify(Q.cachedData.queryObject):Q.cachedData.query,ae.dataTransforms=Q.cachedData.transformsObject?o.F.serializeTransformActions(Q.cachedData.transformsObject):Q.cachedData.transforms,ae.dataUpdatedTime=Q.cachedData.dataUpdatedTime?Q.cachedData.dataUpdatedTime.toISOString():void 0),Ue.withData&&(ae.dataBinaryBase64Encoded=Q.cachedData.dataObject?(0,s.nN)(JSON.stringify(Q.cachedData.dataObject)):Q.cachedData.data)),ae},Le.prototype.serializeVisualContainerGroup=function(Q,Ue){this.version=(0,u.Fp)(this.version,le.bFC);var ae={name:Q.name,layouts:_.cloneDeep(Q.layouts),singleVisualGroup:{displayName:Q.displayName,groupMode:Q.groupMode,isHidden:Q.isHidden}};Q.parentGroup&&(ae.parentGroupName=Q.parentGroup.name),Q.objects&&(ae.singleVisualGroup.objects=this.serializeObjects(Q.objects,I.C7,I.$m,Ue));var Se,nt=Q.layouts&&Q.layouts.withId(0);return nt?(p.fF.assertValue(nt.position,"Master layout should contain a position"),Se={id:Q.id,x:nt.position.x,y:nt.position.y,z:nt.position.z,width:nt.position.width,height:nt.position.height,config:ae},this.featureSwitchService.featureSwitches.accessibilityTopLevelNav&&nt.position.tabOrder&&(Se.tabOrder=nt.position.tabOrder)):Se={id:Q.id,config:ae},Se},Le.prototype.serializeModelExtensions=function(Q){var Ue=this;if(Q)return _.map(Q,function(ae){return{name:ae.name,extends:ae.extends,entities:Ue.serializeModelExtensionEntities(ae.entities)}})},Le.prototype.serializeRelationship=function(Q){return p.fF.assertValue(Q,"relationship"),p.fF.assertValue(Q.source.name,"relationship.source.name"),p.fF.assertValue(Q.target.name,"relationship.target.name"),{source:Q.source.name,target:Q.target.name,type:Q.type}},Le.prototype.serializeVisualContainerConfig=function(Q,Ue){var ae=Q.config&&Q.config.singleVisual;p.fF.assertValue(Q.name,"VisualContainer name is missing."),p.fF.assertValue(ae,"explorationSerializer.serializeVisualContainerConfig - singleVisual should exist"),p.fF.assertValue(ae.visualType,"explorationSerializer.serializeVisualContainerConfig - visualType should exist");var Se=ae.query,nt=Se?Se.projections:void 0,vt={name:Q.name,layouts:_.cloneDeep(Q.layouts),singleVisual:{visualType:ae.visualType,projections:this.serializeQueryProjections(nt),prototypeQuery:Se?h.ib.serializeQuery(Se.defn):void 0}};Se&&Se.isDrillDisabled&&(this.version=(0,u.Fp)(this.version,le.hCh),vt.singleVisual.isDrillDisabled=Se.isDrillDisabled),this.featureSwitchService.featureSwitches.visualCalculations&&function(Le){return!!Le&&Le.defn.select().some(function(Q){return(0,Ne.jX)(Q.expr)})}(Se)&&(this.version=(0,u.Fp)(this.version,le.H_y)),null!=ae.autoSelectVisualType&&(this.version=(0,u.Fp)(this.version,le.C7j),vt.singleVisual.autoSelectVisualType=ae.autoSelectVisualType);var We=this.serializeQueryFieldParameters(nt);if(_.isEmpty(We)||(this.version=(0,u.Fp)(this.version,le.dKN),vt.singleVisual.queryFieldParametersByRole=We),_.some(Q.layouts,function(et){return et.position&&void 0!==et.position.tabOrder})&&(this.version=(0,u.Fp)(this.version,le.$gq)),Se&&(0,P.if)(Se.expansionStates)){var de=(0,v.hI)(Se.expansionStates);_.isEmpty(de)||(vt.singleVisual.expansionStates=de,this.version=(0,u.Fp)(this.version,le.RrR))}var te=ae.columnProperties;if(te&&!_.isEmpty(te)&&(this.version=(0,u.Fp)(this.version,le.H3n.v3_4),vt.singleVisual.columnProperties=_.cloneDeep(te)),ae.queryOptions&&(null!=ae.queryOptions.allowBinnedLineSample&&(this.version=(0,u.Fp)(this.version,le.H3n.v3_3)),null!=ae.queryOptions.allowOverlappingPointsSample&&(this.version=(0,u.Fp)(this.version,le.H3n.v3_5)),null!=ae.queryOptions.keepProjectionOrder&&(this.version=(0,u.Fp)(this.version,le.H3n.v4_1)),vt.singleVisual.queryOptions=_.cloneDeep(ae.queryOptions)),ae.display&&(this.version=(0,u.Fp)(this.version,le.g3O),vt.singleVisual.display=_.cloneDeep(ae.display)),Se&&Se.defn){if(ae.visualType===Je.D.slicer){var Ve=Se.projections;Ve&&Ve[f.CT.value]&&Ve[f.CT.value].all().length>1&&(this.version=(0,u.Fp)(this.version,le.XVx))}(0,ie.J6)(ae)&&(this.version=_.some(le.WWC,function(et){return et===ae.visualType})?(0,u.Fp)(this.version,le.Xfb):(0,u.Fp)(this.version,le.XRk));for(var Z=0,J=Se.defn.select();Z<J.length;Z++)this.version=(0,u.Fp)(this.version,le.F1S.getVersionForSQExpr(J[Z].expr));this.version=(0,u.Fp)(this.version,le.F1S.getVersionForSortDefinitions(Se.defn.orderBy()))}var ze=this.serializeShowAllRoles(Se?Se.projections:void 0);_.isEmpty(ze)||(vt.singleVisual.showAllRoles=ze,Ue&&Ue.featureUsage&&(Ue.featureUsage.hasShowAllEnabled=!0)),ae.visualType===Je.D.ribbonChart&&(this.version=(0,u.Fp)(this.version,le.H3n.v3_5)),ae.visualType===Je.D.actionButton&&(this.version=(0,u.Fp)(this.version,le.Kkx)),ae.visualType===Je.D.pythonVisual&&(this.version=(0,u.Fp)(this.version,le.H3n.v3_17)),ae.visualType===Je.D.keyDriversVisual&&(this.version=(0,u.Fp)(this.version,le.H3n.v4_1),ae.query&&!_.isEmpty(ae.query.tryGetExprs(n.qG.details))&&(this.version=(0,u.Fp)(this.version,le.ukM))),ae.visualType===Je.D.qnaVisual&&(this.version=(0,u.Fp)(this.version,le.H3n.v5_4)),ae.visualType===Je.D.decompositionTreeVisual&&(this.version=(0,u.Fp)(this.version,le.H3n.v5_5)),ae.visualType===Je.D.azureMap&&(this.version=(0,u.Fp)(this.version,le.H3n.v5_13)),ae.visualType===Je.D.cardVisual&&(this.version=(0,u.Fp)(this.version,le.VRY)),ae.visualType===Je.D.shape&&(this.version=(0,u.Fp)(this.version,le.$qz)),ae.visualType===Je.D.pageNavigator&&(this.version=(0,u.Fp)(this.version,le.aWu)),ae.visualType===Je.D.bookmarkNavigator&&(this.version=(0,u.Fp)(this.version,le.aWu)),ae.visualType===Je.D.rdlVisual&&(this.version=(0,u.Fp)(this.version,le.iuU)),ae.visualType===Je.D.scorecard&&(this.version=(0,u.Fp)(this.version,le.pj3)),ae.visualType===Je.D.aiNarratives&&(this.version=(0,u.Fp)(this.version,le.LlV)),ae.visualType===Je.D.advancedSlicerVisual&&(this.version=(0,u.Fp)(this.version,le.tji)),ae.syncGroup&&(vt.singleVisual.syncGroup=_.cloneDeep(ae.syncGroup),this.version=(0,u.Fp)(this.version,le.$IK)),null!=Q.drillFilterOtherVisuals&&(vt.singleVisual.drillFilterOtherVisuals=Q.drillFilterOtherVisuals,this.version=(0,u.Fp)(this.version,le.U$u)),null!=Q.filterSortOrder&&(vt.singleVisual.filterSortOrder=Q.filterSortOrder,this.version=(0,u.Fp)(this.version,le.faH)),Q.parentGroup&&(vt.parentGroupName=Q.parentGroup.name,this.version=(0,u.Fp)(this.version,le.bFC)),Q.howCreated&&"Default"!==Q.howCreated&&(vt.howCreated=Q.howCreated,this.version=(0,u.Fp)(this.version,le.q0O)),ae.hasDefaultSort&&(vt.singleVisual.hasDefaultSort=ae.hasDefaultSort);var rt=Se?ae.query.defn.select():(0,V.bv)();if(ae.objects){var Oe=this.visualPlugins.capabilities(ae.visualType),Pe=Oe&&Oe.objects;if(vt.singleVisual.objects=this.serializeObjects(ae.objects,Pe,ae.visualType,Ue,rt),function(Le){return Le.visualType===Je.D.scatterChart&&Le.query&&Le.query.projections.Play&&!_.isEmpty(Le.query.projections.Play.all())}(ae)){var X=!1;(0,E.rQ)(ae.objects,Pe,function(at,St,Ie,qe,bt){"fill"===St&&"dataPoint"===qe&&null!=Ie&&(X=!0)}),X&&(this.version=(0,u.Fp)(this.version,le.H3n.v5_1))}this.supportsScalarMarkers(ae)&&(0,u.lt)(this.version,le.Cc1)&&this.upgradeIfScalarMarkersAreSet(ae.objects)}var Ze=ae.vcObjects;return Ze&&(vt.singleVisual.vcObjects=this.serializeObjects(Ze,A.XW,ae.visualType,Ue,rt)),this.serializeMobileState(ae,vt.singleVisual,null==Ue?void 0:Ue.forSave),ae.cachedFilterDisplayItems&&(vt.singleVisual.cachedFilterDisplayItems=(0,d.vX)(ae.cachedFilterDisplayItems)),ae.filterExpressionMetadata&&(vt.singleVisual.filterExpressionMetadata=(0,S.Qe)(ae.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,u.Fp)(this.version,le.vqL)),this.version<le.jJX&&function(Le){if(Le.visualType!==Je.D.scatterChart)return!1;var Q=m.TL.x,Ue=Le.query,ae=Ue?Ue.getRolesProjectionRefs([Q]):void 0,Se=_.size(ae);if(Se>1)return!0;if(1===Se){var nt=Ue.tryGetExpr(Q,0);if(nt&&!(0,Ye.k)(nt))return!0}return!1}(ae)&&(this.version=le.jJX),vt},Le.prototype.serializeMobileState=function(Q,Ue,ae){var Se;ae||(Q.mobileVcObjects&&(Ue.mobileVcObjects=(0,l.xF)(Q.mobileVcObjects,A.XW,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,ae)),Q.mobileObjects&&(Ue.mobileObjects=(0,l.xF)(Q.mobileObjects,null===(Se=this.visualPlugins.capabilities(Q.visualType))||void 0===Se?void 0:Se.objects,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,ae)))},Le.prototype.serializeObjects=function(Q,Ue,ae,Se,nt){p.fF.assertValue(Q,"explorationSerializer.serializeObjects - objects should exist"),p.fF.assertValue(ae,"explorationSerializer.serializeObjects - visual type, 'page', or 'report' should exist");var vt=(0,l.xF)(Q,Ue,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,null==Se?void 0:Se.forSave);return vt&&this.removeItemLocationObjects(ae,vt),this.isAtLatestVersion()||(this.version=(0,u.Fp)(this.version,(0,le.P_5)(Q,Ue,ae,this.version,nt))),vt},Le.prototype.removeItemLocationObjects=function(Q,Ue){var ae=function(xe,Z){var J=xe[Z.objectName];if(null!=J&&1===J.length)return J[0].properties[Z.propertyName]};if(Q===Je.D.scorecard){var Se=_e.A.scorecard.scorecardReference,nt=_e.A.scorecard.scorecardId,vt=ae(Ue,_e.A.scorecard.scorecardReference);null!=vt&&(delete Ue[Se.objectName][0].properties[Se.propertyName],Ue[nt.objectName][0].properties[nt.propertyName]=vt.byReference.itemId)}if(Q===Je.D.rdlVisual){var We=pe.eH.reportInfo.reportId,de=pe.eH.reportInfo.workspaceId,te=ae(Ue,Se=pe.eH.reportInfo.reference);null!=te&&(delete Ue[Se.objectName][0].properties[Se.propertyName],Ue[We.objectName][0].properties[We.propertyName]=te.byReference.itemId,Ue[de.objectName][0].properties[de.propertyName]=te.byReference.workspaceId)}},Le.prototype.isAtLatestVersion=function(){return this.version===G.t},Le.prototype.serializeShowAllRoles=function(Q){if(p.fF.assertAnyValue(Q,"projections"),Q){var Ue=_.pickBy(Q,function(ae){return!0===ae.showAll});return _.keys(Ue)}},Le.prototype.serializeQueryProjections=function(Q){if(p.fF.assertAnyValue(Q,"projections"),Q){var Ue={};for(var ae in Q){var Se=Q[ae].all(),nt=Q[ae].activeProjectionRefs;if(Se.length>0){Ue[ae]=[];for(var vt=0,We=Se;vt<We.length;vt++){var de=We[vt],te=de.queryRef,Ve={queryRef:te};de.format&&(Ve.format=de.format),_.includes(nt,te)&&(Ve.active=!0),de.hidden&&(Ve.hidden=de.hidden,this.version=(0,u.Fp)(this.version,le.H_y)),Ue[ae].push(Ve)}}}return Ue}},Le.prototype.serializeQueryFieldParameters=function(Q){if(p.fF.assertAnyValue(Q,"projections"),Q){var Ue={};for(var ae in Q){var Se=Q[ae].getFieldParameters();if(Se.length>0){Ue[ae]=[];for(var nt=0,vt=Se;nt<vt.length;nt++){var We=vt[nt],de={index:We.index,length:We.length,expr:h.ib.serializeExpr(We.expr)};Ue[ae].push(de)}}}return Ue}},Le.prototype.serializeModelExtensionEntities=function(Q){var Ue=this;if(Q)return _.map(Q,function(ae){var Se={name:ae.name};return ae.extends&&(Se.extends=ae.extends),ae.measures&&(Se.measures=Ue.serializeModelExtensionMeasures(ae.measures)),Se})},Le.prototype.serializeExpressionReferences=function(Q){if(Q&&(Q.unrecognizedReferences||!_.isEmpty(Q.measures))){var Ue={unrecognizedReferences:Q.unrecognizedReferences};return _.isEmpty(Q.measures)||(Ue.measures=Q.measures),Ue}},Le.prototype.serializeModelExtensionAnnotations=function(Q){if(Q)return _.map(Q,function(Ue){return{name:Ue.name,value:Ue.value}})},Le.prototype.serializeModelExtensionMeasures=function(Q){var Ue=this;if(Q)return _.map(Q,function(ae){var Se={name:ae.name,dataType:ae.dataType,dataCategory:ae.dataCategory,expression:ae.expression,errorMessage:ae.errorMessage,hidden:ae.hidden,references:Ue.serializeExpressionReferences(ae.references),formulaOverride:ae.formulaOverride,formatInformation:ae.formatInformation,displayFolder:ae.displayFolder};return ae.annotations&&(Se.annotations=Ue.serializeModelExtensionAnnotations(ae.annotations)),ae.measureTemplate&&(Se.measureTemplate={daxTemplateName:ae.measureTemplate.daxTemplateName,version:ae.measureTemplate.version}),ae.description&&(Se.description=ae.description,Ue.version=(0,u.Fp)(Ue.version,le.WL3)),Se})},Le.prototype.serializeFilterContainers=function(Q,Ue){var ae;if(Q){for(var Se=[],nt=0,vt=Q;nt<vt.length;nt++){var We=vt[nt];if(We&&(0!==We.howCreated||K.l.isFilterModified(We))&&(!We.isTransient||Ue&&Ue.withTransientFilters)){7===We.howCreated&&Ue&&Ue.forSave&&(We.howCreated=1),5===We.howCreated&&(this.version=(0,u.Fp)(this.version,le.H3n.v3_5)),We.isHiddenInViewMode&&(this.version=(0,u.Fp)(this.version,le.yfQ)),We.isLockedInViewMode&&(this.version=(0,u.Fp)(this.version,le.yfQ)),We.displayName&&(this.version=(0,u.Fp)(this.version,le.$Tv)),We.ordinal&&(this.version=(0,u.Fp)(this.version,le.faH)),We.type===O.vA.RelativeTime&&(this.version=(0,u.Fp)(this.version,le.nue)),We.type===O.vA.Advanced&&!(null===(ae=We.filter)||void 0===ae)&&ae.conditions().some(function(te){var Ve=(0,Ne.Ym)(te)?te.arg:te;return(0,Ne.$Q)(Ve)&&(0,Ne.AW)(Ve.right)&&""===Ve.right.value})&&(this.version=(0,u.Fp)(this.version,le.VFg)),We.filterExpressionMetadata&&!_.isEmpty(We.filterExpressionMetadata.expressions)&&!_.isEmpty(We.filterExpressionMetadata.cachedValueItems)&&(this.version=_.isEmpty(We.filterExpressionMetadata.jsonFilter)?(0,u.Fp)(this.version,le.Upn):(0,u.Fp)(this.version,le.kJo));var de=We.filterExpressionMetadata?(0,S.Qe)(We.filterExpressionMetadata,this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;Se.push({name:We.name,expression:We.expression?h.ib.serializeExpr(We.expression):void 0,filter:We.filter?h.ib.serializeFilter(We.filter):void 0,type:O.vA[We.type],restatement:We.restatement,cachedDisplayNames:(0,d.vX)(We.cachedValueItems),howCreated:We.howCreated,isLinkedAsAggregation:We.isLinkedAsAggregation,isTransient:We.isTransient,objects:We.objects?this.serializeObjects(We.objects,O.XW,O.LP,Ue):void 0,isHiddenInViewMode:We.isHiddenInViewMode,isLockedInViewMode:We.isLockedInViewMode,filterExpressionMetadata:de,displayName:We.displayName,ordinal:We.ordinal})}}return JSON.stringify(Se)}},Le.prototype.createVersionedElementConfig=function(Q){return{version:Q}},Le.prototype.serializeResourcePackages=function(Q,Ue){if(!_.isEmpty(Q))return(0,Ee.pz)(Q,Ue).map(function(ae){return{resourcePackage:ae}})},Le.prototype.getLayoutOptimizations=function(Q){var Ue=this.getDistinctLayouts(Q);return this.getLayoutOptimizationFromLayouts(Ue)},Le.prototype.getLayoutOptimizationFromLayouts=function(Q){for(var Ue=0,ae=0,Se=Q;ae<Se.length;ae++)1===Se[ae].id&&(Ue|=1);return Ue},Le.prototype.getDistinctLayouts=function(Q){for(var Ue=Q.sections,ae=(0,V.UR)(),Se=0,nt=Ue;Se<nt.length;Se++)for(var We=0,de=nt[Se].visualContainers;We<de.length;We++)for(var Ve=0,xe=de[We].layouts;Ve<xe.length;Ve++){var Z=xe[Ve];ae.withId(Z.id)||ae.push(Z)}return ae},Le.prototype.serializePodParameters=function(Q){if(!_.isEmpty(Q)){for(var Ue=[],ae=0,Se=Q;ae<Se.length;ae++){var nt=Se[ae];Ue.push({name:nt.name,boundFilter:nt.boundFilter,fieldExpr:nt.fieldExpr?h.ib.serializeExpr(nt.fieldExpr):void 0,asAggregation:nt.asAggregation?nt.asAggregation:void 0,isLegacySingleSelection:nt.isLegacySingleSelection?nt.isLegacySingleSelection:void 0})}return Ue}},Le.prototype.serializePodConfig=function(Q){return _.isEmpty(Q)||0===Q.acceptsFilterContext?"{}":JSON.stringify(Q)},Le.prototype.serializeRelationships=function(Q){if(!_.isEmpty(Q)){for(var Ue,ae=0,Se=Q;ae<Se.length;ae++){var vt=this.serializeRelationship(Se[ae]);vt&&(Ue||(Ue=[])).push(vt)}return Ue}},Le.prototype.removeInvalidPods=function(Q,Ue,ae){var Se=_.map(Q,function(Ve){return Ve.name}),nt=_.remove(Ue,function(Ve){return!_.includes(Se,Ve.boundSection)}),vt=_.size(nt);if(vt>0&&ae.logEvent(W.Jw,{errorType:"NonExistingBoundSection",count:vt}),!(_.size(Ue)<=_.size(Q))){var We=_.groupBy(Ue,function(Ve){return Ve.boundSection}),de=0;_.forEach(We,function(Ve){var xe=Ve.length;if(xe>1){de++;for(var Z=Ve[0].boundSection,J=_.findLastIndex(Ue,function(ze){return ze.boundSection===Z}),Fe=xe-1;Fe>0&&J>=0;)Ue.splice(J,1),Fe--,J=_.findLastIndex(Ue,function(ze){return ze.boundSection===Z},J-1)}}),de>0&&ae.logEvent(W.Jw,{errorType:"DuplicateBoundSection",count:de});var te=_.size(Ue)-_.size(Q);te>0&&(p.fF.assertFail("Expect the number of pods <= the number of sections after removing pods with NonExistingBoundSection and DuplicateBoundSection"),Ue=Ue.slice(0,_.size(Q)),ae.logEvent(W.Jw,{errorType:"ExceedingPodsNumberAfterInitialFix",count:te}))}},Le.prototype.supportsScalarMarkers=function(Q){return _.some([Je.D.lineChart,Je.D.areaChart,Je.D.stackedAreaChart],function(ae){return ae===Q.visualType})},Le.prototype.upgradeIfScalarMarkersAreSet=function(Q){var Ue=(0,E.NA)(Q,{objectName:"categoryAxis",propertyName:"axisType"},null);if(Ue&&"Scalar"===w.jz.getTextValue(Ue)){var ae=(0,E.NA)(Q,{objectName:"lineStyles",propertyName:"showMarker"},null);ae&&w.jz.getBooleanValue(ae)&&(this.version=(0,u.Fp)(this.version,le.Cc1))}},Le.prototype.serializePageDynamicConfig=function(Q){var Ue;if(Q.quickExplore){var Se=Q.quickExplore.visualContainerConfigurations,nt=Q.quickExplore.layout;Ue||(Ue={}),Ue.quickExplore={selectedFields:_.map(Q.quickExplore.selectedFields,function(vt){return h.ib.serializeExpr(vt)}),visualContainerConfigurations:_.map(Se,function(vt){return{name:vt.name,fields:_.map(vt.fields,function(We){return h.ib.serializeExpr(We)})}})},nt&&(Ue.quickExplore.layout=this.serializeQuickExploreLayout(nt),this.version=(0,u.Fp)(this.version,le.KQG))}return Ue},Le.prototype.serializeQuickExploreLayout=function(Q){if(Q.combination){var Ue={version:Q.combination.version};return Q.combination.dataTableName&&(Ue.dataTableName=Q.combination.dataTableName),{combination:Ue}}if(Q.related){var ae={version:Q.related.version};return Q.related.dataTableName&&(ae.dataTableName=Q.related.dataTableName),{related:ae}}},Le}();function He(Le){null!=Le.x&&null!=Le.y&&null!=Le.width&&null!=Le.height||(b.f.error("deserializeVisualContainer found null in layout position: "+JSON.stringify({x:Le.x,y:Le.y,width:Le.width,height:Le.height})),null==Le.x&&(Le.x=0),null==Le.y&&(Le.y=0),null==Le.width&&(Le.width=0),null==Le.height&&(Le.height=0))}function ke(Le){return void 0!==Le.children}},852941:function(Xe,H,t){t.d(H,{U6:function(){return c},a5:function(){return h},pz:function(){return u},sQ:function(){return r}});var e=t(716742),l=t(893612),o=t(498342),d=t(88013),v=t(447751),S=t(767650);function h(i,a,n,m,f){o.fF.assertValue(i,"webBookmark");var V=(0,d.v)(i,n,m);if(V.errors&&!a)for(var p=0,C=V.errors;p<C.length;p++){var b=C[p];f.logEvent(e.TH,{type:"WebBookmark",errorCode:b.code,stack:b.stack,message:b.message})}return V.contract}function c(i,a,n,m,f){if(!(0,v.g)(i)){var V=(0,S.K)(i);if(V)try{return a.deserialize(V,n,m)}catch(p){return p&&f.logEvent(e.rj,{stack:p.stack,message:p.message}),{explorationState:null}}}}function r(i){o.fF.assertValue(i,"resourcePackageWireContracts");for(var a=[],n=0,m=i;n<m.length;n++){var f=m[n];s(f),a.push(f)}for(var V=0;V<a.length;++V)if(a[V])for(var p=a.length;--p>V;)a[p]&&a[V].name===a[p].name&&(a[p].id>a[V].id&&(a[V]=a[p]),a.splice(p,1));return a}function s(i){void 0===i.type&&(i.type=0)}function u(i,a){if(!_.isEmpty(i)){for(var n=[],m=function(b){var y=_.find(b.items,function(E){return E.type===l.Ut.CustomVisualMetadata});if(y&&void 0!==y.content){var D=_.isString(y.content)?(0,S.K)(y.content):y.content;D&&(D.content=void 0,y.content=JSON.stringify(D))}var P=b.items;if(P){var F=["contentBlob","contentBlobUrl","promise"];a&&a.excludeResourceItemContent&&F.push("content"),P=_.map(P,function(E){return _.omit(E,F)})}n.push({id:b.id,name:b.name,type:b.type,items:P,disabled:!!b.disabled})},f=0,V=i;f<V.length;f++)m(V[f]);return n}}},599287:function(Xe,H,t){t.d(H,{oJ:function(){return F},Ay:function(){return E},vB:function(){return w},qC:function(){return W},jp:function(){return ee}});var e=t(593773),l=t(561224),o=t(633796),d=t(901389),v=t(758205),S=t(389731),h=t(365358),c=t(498342),r=t(668247),s=t(430912),u=t(249039),i=t(449317),a=t(715279),m=function(){function q(Y){var G=(0,a.F)(Y).downgraders;this.objectsDowngrader=(0,i.x)(G)}return q.prototype.getFinalExplorationVersion=function(Y,G){var me,re,le=Y&&Y.sections;if(le){for(var Ee=0,Ne=Object.keys(le);Ee<Ne.length;Ee++)for(var Je=le[Ne[Ee]],_e=0,pe=Object.keys(Je.visualContainers);_e<pe.length;_e++){var oe=Je.visualContainers[pe[_e]],ye=oe.singleVisual;if(ye){var Ce=ye.visualType,Be=null===(me=oe.singleVisual)||void 0===me?void 0:me.mobileVcObjects;Be&&(G=(0,S.Fp)(G,this.objectsDowngrader.getFinalVisualObjectsVersion(2,Be,G,Ce)));var be=null===(re=oe.singleVisual)||void 0===re?void 0:re.mobileObjects;be&&(G=(0,S.Fp)(G,this.objectsDowngrader.getFinalVisualObjectsVersion(1,be,G,Ce)))}}return G}},q.prototype.downgrade=function(Y,G){var me=Y&&Y.sections;if(me)for(var re=0,le=Object.keys(me);re<le.length;re++)for(var Ne=me[le[re]],Ye=0,Je=Object.keys(Ne.visualContainers);Ye<Je.length;Ye++){var fe=Ne.visualContainers[Je[Ye]].singleVisual;if(fe){var oe=fe.visualType,ye=fe.mobileVcObjects;ye&&this.objectsDowngrader.downgrade(2,ye,oe,G);var Ce=fe.mobileObjects;Ce&&this.objectsDowngrader.downgrade(1,Ce,oe,G)}}},q}(),f="1.26",p=t(367109),C=t(119220),y=function(){function q(Y){this.objectsUpgrader=(0,p.U)((0,C.$)(Y).getVersionUpgraders())}return q.prototype.upgrade=function(Y,G){var me=Y&&Y.sections;if(me){for(var re=0,le=Object.keys(me);re<le.length;re++)for(var Ne=me[le[re]],Ye=0,Je=Object.keys(Ne.visualContainers);Ye<Je.length;Ye++){var fe=Ne.visualContainers[Je[Ye]].singleVisual;if(fe){var oe=fe.visualType,ye=fe.mobileVcObjects;ye&&this.objectsUpgrader.upgrade(2,ye,oe,G);var Ce=fe.mobileObjects;Ce&&this.objectsUpgrader.upgrade(1,Ce,oe,G)}}return Y}},q}(),D=t(378099),P=t(929224);function F(q,Y){for(var G={},me=0,re=Y.sections;me<re.length;me++)for(var Ee=0,Ne=(le=re[me]).visualContainers;Ee<Ne.length;Ee++)G[Ne[Ee].name]=!0;for(var Je in q.sections){var le=q.sections[Je];for(var _e in le.visualContainers)G[_e]||delete le.visualContainers[_e]}}function E(q,Y,G){return T(ee(q,null,G,Y),Y)}function w(q,Y,G,me){if(c.fF.assertValue(q,"input"),null!=me&&me.runUpgraders){var re=P.s4x[q.version],le=function(q){return new y(q)}(G);q=le.upgrade(q,re)}var Ee={activeSection:q.activeSection,filters:x(q.filters),sections:_.mapValues(q.sections,function(Ne){return function(q,Y){return c.fF.assertValue(q,"input"),{filters:x(q.filters),visualContainers:_.mapValues(q.visualContainers,function(G){return function(q,Y){c.fF.assertValue(q,"input");var G=T(q.singleVisual,Y);return{filters:x(q.filters),singleVisual:G,visibility:q.singleVisual?U(q.singleVisual.display):void 0,highlight:q.highlight?B(q.highlight):void 0}}(G,Y)}),visualContainerGroups:q.visualContainerGroups&&_.mapValues(q.visualContainerGroups,M)}}(Ne,Y)})};return q.objects&&(Ee.objects=A(q.objects,function(){return r.W})),q.dataSourceVariables&&(Ee.dataSourceVariables=q.dataSourceVariables),Ee}function x(q){if(c.fF.assertAnyValue(q,"input"),q){var Y={};return q.byName&&(Y.nameIdentifiedMerges=_.mapValues(q.byName,R)),q.byExpr&&(Y.exprIdentifiedMerges=_.map(q.byExpr,R)),q.byType&&(Y.typeIdentifiedMerges=_.map(q.byType,R)),q.byTransientState&&(Y.transientFilters=_.map(q.byTransientState,R)),Y}}function R(q){return c.fF.assertValue(q,"input"),{name:q.name,type:s.vA[q.type],filter:q.filter?v.ib.deserializeFilter(q.filter):void 0,expression:q.expression?v.ib.deserializeExpr(q.expression):void 0,restatement:q.restatement,howCreated:q.howCreated,precedence:q.precedence,isTransient:q.isTransient,cachedValueItems:(0,l.kE)(q.cachedDisplayNames),filterExpressionMetadata:q.filterExpressionMetadata?(0,d.hE)(q.filterExpressionMetadata):void 0}}function M(q){return c.fF.assertValue(q,"input"),{isHidden:q.isHidden,children:q.children&&_.mapValues(q.children,function(Y){return M(Y)})}}function T(q,Y){if(c.fF.assertAnyValue(q,"input"),q){var G={visualType:q.visualType};if(null!=q.isDrillDisabled&&(G.isDrillDisabled=q.isDrillDisabled),null!=q.autoSelectVisualType&&(G.autoSelectVisualType=q.autoSelectVisualType),q.objects&&(G.objects=A(q.objects,function(){var Ye;return q.visualType&&(null===(Ye=Y.capabilities(q.visualType))||void 0===Ye?void 0:Ye.objects)})),q.orderBy&&(G.orderBy=v.ib.deserializeSortDefinitions(q.orderBy,null)),q.targetType&&(G.targetType=q.targetType),null!=q.targetAutoSelectVisualType&&(G.targetAutoSelectVisualType=q.targetAutoSelectVisualType),q.activeProjections&&(G.activeProjections=O(q.activeProjections)),_.isEmpty(q.parameters)||(G.parameters=function(q){var Y;for(var G in q){var me=q[G];_.isEmpty(me)||(Y||(Y={}),Y[G]=_.map(me,function(re){return{expr:v.ib.deserializeExpr(re.expr),index:re.index,length:re.length}}))}return Y}(q.parameters)),q.projections&&(G.projections=O(q.projections)),q.display&&"hidden"===q.display.mode&&(G.hidden=!0),q.cachedFilterDisplayItems&&(G.cachedFilterDisplayItems=(0,l.kE)(q.cachedFilterDisplayItems)),q.filterExpressionMetadata&&(G.filterExpressionMetadata=(0,d.hE)(q.filterExpressionMetadata)),q.expansionStates){var me=Y.capabilities(q.visualType);G.expansionStates=(0,o.bX)(q.expansionStates,{supportsMerge:me&&me.expandCollapse&&me.expandCollapse.supportsMerge,canCollapseRoot:me&&me.noDefaultProjections,collapseParentAfterRemovingChildLevel:me&&me.expandCollapse&&me.expandCollapse.collapseParentAfterRemovingChildLevel})}return q.mobileVcObjects&&(G.mobileVcObjects=(0,e.wN)(q.mobileVcObjects,u.XW)),q.mobileObjects&&(me=Y.capabilities(q.visualType),G.mobileObjects=(0,e.wN)(q.mobileObjects,me&&me.objects)),G}}function O(q){var Y;for(var G in q){var me=q[G];_.isEmpty(me)||(Y||(Y={}),Y[G]=_.map(me,function(re){return null===re?null:v.ib.deserializeExpr(re)}))}return Y}function A(q,Y){c.fF.assertValue(q,"input");var G={};return q.merge&&(0,e.kO)(q.merge,Y,G,"merge"),q.remove&&(G.remove=_.map(q.remove,I)),G}function I(q){return c.fF.assertValue(q,"input"),{object:q.object,property:q.property,selector:(0,e.L1)(q.selector)}}function B(q){return c.fF.assertValue(q,"input"),{selection:(0,e.OT)(q.selection),filterExpressionMetadata:q.filterExpressionMetadata?(0,d.hE)(q.filterExpressionMetadata):void 0}}function U(q){if(c.fF.assertAnyValue(q,"display"),q&&q.mode)switch(q.mode){case"maximize":switch(q.maximizedOptions&&q.maximizedOptions.dataTable){case"accessible":return 8;case"normal":return 2;default:return 1}case"spotlight":return 4}}function W(q,Y,G,me,re){c.fF.assertValue(q,"input");var le=new ie(Y),Ee={version:void 0,activeSection:q.activeSection,filters:le.serializeFilters(q.filters),sections:_.mapValues(q.sections,function(Je){return le.serializeSection(Je,G)})};if(q.objects&&(Ee.objects=le.serializeObjects(q.objects,r.W),le.version=(0,S.Fp)(le.version,D.Aq)),q.dataSourceVariables&&(Ee.dataSourceVariables=q.dataSourceVariables,le.version=(0,S.Fp)(le.version,D.Zl)),null!=me&&me.runDowngraders&&le.version!==f){var Ne=function(q){return new m(q)}(re),Ye=P.s4x[le.version];Ye=Ne.getFinalExplorationVersion(q,Ye),Ne.downgrade(Ee,Ye),Ee.version=_.findKey(P.s4x,function(Je){return Je===Ye}),c.fF.assertValue(Ee.version,"exploration state version should exist")}return Ee.version=Ee.version||le.version,Ee}function ee(q,Y,G,me){return new ie(G).serializeSingleVisual(q,Y,me)}var ie=function(){function q(Y){this.featureSwitchService=Y,this.version=D.Zh}return q.prototype.serializeFilters=function(Y){var G=this;if(c.fF.assertAnyValue(Y,"input"),Y){var me={};return Y.nameIdentifiedMerges&&(me.byName=_.mapValues(Y.nameIdentifiedMerges,function(re){return G.serializeFilterContainer(re)})),Y.exprIdentifiedMerges&&(me.byExpr=_.map(Y.exprIdentifiedMerges,function(re){return G.serializeFilterContainer(re)})),Y.typeIdentifiedMerges&&(me.byType=_.map(Y.typeIdentifiedMerges,function(re){return G.serializeFilterContainer(re)})),Y.transientFilters&&(me.byTransientState=_.map(Y.transientFilters,function(re){return G.serializeFilterContainer(re)})),me}},q.prototype.serializeFilterContainer=function(Y){c.fF.assertValue(Y,"input");var G=Y.filterExpressionMetadata?(0,d.Qe)(Y.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0;return{name:Y.name,type:null!=Y.type?s.vA[Y.type]:void 0,filter:Y.filter?v.ib.serializeFilter(Y.filter):void 0,expression:Y.expression?v.ib.serializeExpr(Y.expression):void 0,restatement:Y.restatement,howCreated:Y.howCreated,isTransient:Y.isTransient,cachedDisplayNames:(0,l.vX)(Y.cachedValueItems),filterExpressionMetadata:G}},q.prototype.serializeSection=function(Y,G){var me=this;return c.fF.assertValue(Y,"input"),_.chain(Y.visualContainers).values().sumBy(function(re){return null==re.highlight?0:1}).value()>1&&(this.version=(0,S.Fp)(this.version,D.aN)),{filters:this.serializeFilters(Y.filters),visualContainers:_.mapValues(Y.visualContainers,function(re){return me.serializeVisualContainer(re,G)}),visualContainerGroups:Y.visualContainerGroups&&_.mapValues(Y.visualContainerGroups,function(re){return me.serializeVisualContainerGroup(re)})}},q.prototype.serializeVisualContainer=function(Y,G){return c.fF.assertValue(Y,"input"),Y.highlight&&(this.version=(0,S.Fp)(this.version,D.U1)),{filters:this.serializeFilters(Y.filters),singleVisual:this.serializeSingleVisual(Y.singleVisual,Y.visibility,G),highlight:Y.highlight?this.serializeHighlightState(Y.highlight):void 0}},q.prototype.serializeVisualContainerGroup=function(Y){var G=this;return c.fF.assertValue(Y,"input"),{isHidden:Y.isHidden,children:Y.children&&_.mapValues(Y.children,function(me){return G.serializeVisualContainerGroup(me)})}},q.prototype.serializeSingleVisual=function(Y,G,me){var re;if(c.fF.assertAnyValue(Y,"input"),Y){var le={visualType:Y.visualType};if(Y.isDrillDisabled&&(le.isDrillDisabled=Y.isDrillDisabled,this.version=(0,S.Fp)(this.version,D.hC)),null!=Y.autoSelectVisualType&&(le.autoSelectVisualType=Y.autoSelectVisualType,this.version=(0,S.Fp)(this.version,D.C7)),Y.objects&&(le.objects=this.serializeObjects(Y.objects,null===(re=null==me?void 0:me.capabilities(Y.visualType))||void 0===re?void 0:re.objects)),Y.orderBy&&(le.orderBy=v.ib.serializeSortDefinitions(Y.orderBy,!0)),Y.activeProjections&&(le.activeProjections=this.serializeActiveProjections(Y.activeProjections)),Y.targetType&&(le.targetType=Y.targetType,this.version=(0,S.Fp)(this.version,D.uZ)),null!=Y.targetAutoSelectVisualType&&(le.targetAutoSelectVisualType=Y.targetAutoSelectVisualType,this.version=(0,S.Fp)(this.version,D.C7)),Y.projections&&(le.projections=this.serializeActiveProjections(Y.projections),this.version=(0,S.Fp)(this.version,D.uZ)),_.isEmpty(Y.parameters)||(le.parameters=this.serializeParameters(Y.parameters),this.version=(0,S.Fp)(this.version,D.rb)),Y.cachedFilterDisplayItems&&(le.cachedFilterDisplayItems=(0,l.vX)(Y.cachedFilterDisplayItems)),Y.filterExpressionMetadata&&(le.filterExpressionMetadata=(0,d.Qe)(Y.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),this.version=(0,S.Fp)(this.version,D.XX)),Y.mobileVcObjects&&(le.mobileVcObjects=this.serializeMobileObjects(Y.mobileVcObjects,u.XW,Y.visualType)),Y.mobileObjects&&me){var Ee=me.capabilities(Y.visualType);le.mobileObjects=this.serializeMobileObjects(Y.mobileObjects,Ee&&Ee.objects,Y.visualType)}return _.isEmpty(Y.expansionStates)||(le.expansionStates=(0,o.hI)(Y.expansionStates)),c.fF.assert(function(){return!(Y.hidden&&G)},"cannot mix hidden & visibility states"),Y.hidden?le.display={mode:"hidden"}:G&&(le.display=function(q){switch(c.fF.assertAnyValue(q,"mode"),q){case 1:return{mode:"maximize"};case 2:return{mode:"maximize",maximizedOptions:{dataTable:"normal"}};case 8:return{mode:"maximize",maximizedOptions:{dataTable:"accessible"}};case 4:return{mode:"spotlight"}}}(G)),le}},q.prototype.serializeMobileObjects=function(Y,G,me){this.version=(0,S.Fp)(this.version,D.DA);var re=(0,e.xF)(Y,G,this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0);if(this.version===f)return re;var le=P.s4x[this.version];return le=(0,P.P_5)(Y,G,me,le,(0,h.bv)()),this.version=(0,S.Fp)(this.version,_.findKey(P.s4x,function(Ee){return Ee===le})),c.fF.assertValue(this.version,"exploration state version should exist"),re},q.prototype.serializeActiveProjections=function(Y){var G;for(var me in Y){var re=Y[me];_.isEmpty(re)||(G||(G={}),G[me]=_.map(re,function(le){return null===le?null:v.ib.serializeExpr(le)}))}return G},q.prototype.serializeParameters=function(Y){var G;for(var me in Y){var re=Y[me];_.isEmpty(re)||(G||(G={}),G[me]=_.map(re,function(le){return{expr:v.ib.serializeExpr(le.expr),index:le.index,length:le.length}}))}return G},q.prototype.serializeObjects=function(Y,G){var me=this;c.fF.assertValue(Y,"input");var re={};return Y.merge&&(re.merge=(0,e.xF)(Y.merge,G,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization,!0)),Y.remove&&(re.remove=_.map(Y.remove,function(le){return me.serializeObjectPropSelector(le)})),re},q.prototype.serializeObjectPropSelector=function(Y){return c.fF.assertValue(Y,"input"),{object:Y.object,property:Y.property,selector:(0,e.UZ)(Y.selector)||null}},q.prototype.serializeHighlightState=function(Y){return c.fF.assertValue(Y,"input"),Y.filterExpressionMetadata&&(this.version=(0,S.Fp)(this.version,D.Aq)),{selection:(0,e.Vg)(Y.selection,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization),filterExpressionMetadata:Y.filterExpressionMetadata?(0,d.Qe)(Y.filterExpressionMetadata,this.featureSwitchService&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization):void 0}},q}()},47507:function(Xe,H,t){t.d(H,{t:function(){return e}});var e="5.50"},378099:function(Xe,H,t){t.d(H,{$K:function(){return F},$j:function(){return D},Aq:function(){return d},C7:function(){return L},DA:function(){return R},I8:function(){return V},LL:function(){return u},M5:function(){return a},Ny:function(){return i},RT:function(){return m},U1:function(){return l},Vb:function(){return P},X2:function(){return y},XS:function(){return b},XX:function(){return S},Zh:function(){return e},Zl:function(){return v},_b:function(){return E},aN:function(){return o},eA:function(){return C},hC:function(){return M},nx:function(){return p},rb:function(){return g},sZ:function(){return x},uZ:function(){return h},ud:function(){return w},ur:function(){return f},wh:function(){return s},xm:function(){return r},zW:function(){return n}});var e="1.0",l="1.1",o="1.2",d="1.3",v="1.4",S="1.5",h="1.6",r="1.8",s="1.9",u="1.10",i="1.11",a="1.12",n="1.13",m="1.14",f="1.15",V="1.16",p="1.17",C="1.18",b="1.19",y="1.20",D="1.21",P="1.22",F="1.23",E="1.24",w="1.25",x="1.26",R=r,g=i,L=f,M=x},119220:function(Xe,H,t){t.d(H,{$:function(){return dt}});var e=t(767650),l=t(389731),o=t(498342),d=t(367109),v=t(47507),S=t(593773),h=t(758205),c=t(933346),r=t(505078),s=t(944913),u=t(425854),i=t(512322),a=t(929224),n=t(643293),f=function(){function k(){}return k.prototype.upgrade=function(se,Ae){if(o.fF.assertValue(se,"exploration"),se&&(se.filters=this.upgradeFilterContainers(se.filters),se.sections))for(var $e=0,Et=se.sections;$e<Et.length;$e++){var Nt=Et[$e];if(Nt.filters=this.upgradeFilterContainers(Nt.filters),Nt.visualContainers)for(var Bt=0,Qt=Nt.visualContainers;Bt<Qt.length;Bt++){var $t=Qt[Bt];$t.filters=this.upgradeFilterContainers($t.filters);var ur=$t.config.singleVisual;ur&&(ur.objects=this.upgradeObjects(ur.objects,ur.visualType||ur.visualConfig.visualType,Ae))}}},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.upgradeFilterCollection=function(se){o.fF.assertValue(se,"filterCollection"),se&&se.filters&&(se.filters=this.upgradeFilterContainers(se.filters))},k.prototype.getVersion=function(){return a.H3n.v1_0},k.prototype.upgradeFilterContainers=function(se){if(!_.isEmpty(se)){var Ae=(0,e.K)(se);if(Ae)for(var $e=0,Et=Ae;$e<Et.length;$e++)this.upgradeFilterContainer(Et[$e]);return JSON.stringify(Ae)}},k.prototype.upgradeFilterContainer=function(se){if(!se.expression&&se.field){var Ae=function(k){return function(k){var se=k.aggregate;if(void 0!==se){var Ae=C(k)||y(k);if(Ae)return(0,i.m_)(Ae,se)}}(k)||C(k)||function(k){var se=k.measure;if(se){var Ae=y(k);if(Ae)return(0,i.mv)(Ae,se)}}(k)||y(k)}(se.field);Ae&&(se.expression=h.ib.serializeExpr(Ae))}void 0===se.howCreated&&(se.howCreated=se.autoGenerated?0:1)},k.prototype.upgradeObjects=function(se,Ae,$e){switch(o.fF.assertAnyValue(se,"allObjectDefns"),this.dropMalformedSelectors(se),Ae){case n.D.filledMap:return this.upgradeObjectsFilledMap(se);case n.D.card:return this.upgradeObjectsCard(se);case n.D.donutChart:case n.D.pieChart:return $e&&(0,l.gt)($e,"1.0")?se:this.upgradeObjectsDonutChart(se)}return se},k.prototype.dropMalformedSelectors=function(se){if(o.fF.assertAnyValue(se,"allObjectDefns"),se)for(var Ae in se){var $e=se[Ae];if($e)for(var Et=$e.length-1;Et>=0;Et--){var Bt=$e[Et].selector;Bt&&(Bt.metadata||delete Bt.metadata,_.isEmpty(Object.keys(Bt))&&$e.splice(Et,1))}}},k.prototype.upgradeObjectsFilledMap=function(se){o.fF.assertAnyValue(se,"allObjectDefns");var Ae="dataPoint",$e="fillRule";se||(se={});var Et=se[Ae];Et||(se[Ae]=Et=[]);for(var Nt,Bt=0,Qt=Et;Bt<Qt.length;Bt++){var $t=Qt[Bt];if(!$t.selector){Nt=$t;break}}return Nt||Et.push(Nt={selector:null,properties:{}}),o.fF.assertValue(Nt,"targetObjectDefn"),null==Nt.properties[$e]&&(Nt.properties[$e]=(0,S.W7)((0,s.yw)(),(0,r.XN)().objects[Ae].properties[$e])),se},k.prototype.upgradeObjectsCard=function(se){o.fF.assertAnyValue(se,"allObjectDefns");var Ae="cardTitle";if(se){var Et=se[Ae];Et&&(se.categoryLabels=Et,delete se[Ae])}return se},k.prototype.upgradeObjectsDonutChart=function(se){o.fF.assertAnyValue(se,"allObjectDefns");var Ae="categoryLabels",$e="labels",Et="labelStyle",Nt="show";if(se){var ur,Bt=this.getMetadataOnceObjectDefn(se,$e),Qt=this.getPropertyExpr(Bt,Nt),$t=!!Qt&&h.ib.deserializeExpr(Qt).value,or=this.getMetadataOnceObjectDefn(se,Ae);if(or){var Ar=this.getPropertyExpr(or,Nt),Ge=!!Ar&&h.ib.deserializeExpr(Ar).value;$t&&Ge?ur=u.f3:$t&&!Ge?ur=u.aT:!$t&&Ge&&(ur=u.W3),delete se[Ae]}else Bt&&Bt.properties[Et]||(ur=$t?u.f3:u.W3);if(null!=ur){var Vt=(0,c.cw)().objects[$e].properties;if(!Bt){var Dt=se[$e];Dt||(se[$e]=Dt=[]),(Bt=_.find(Dt,function(Mt){return!Mt.selector}))||Dt.push(Bt={properties:{}})}Bt.properties[Nt]=(0,S.W7)((0,i.O7)(!0),Vt[Nt]),Bt.properties[Et]=(0,S.W7)((0,i.fL)(ur),Vt[Et])}return se}},k.prototype.getMetadataOnceObjectDefn=function(se,Ae){if(se){var $e=se[Ae];if(!_.isEmpty($e))return _.find($e,function(Et){return!Et.selector})}},k.prototype.getPropertyExpr=function(se,Ae){if(se){var $e=se.properties[Ae];if($e)return $e.expr}},k}();function C(k){var se=k.column;if(se){var Ae=y(k);if(Ae)return(0,i.Oh)(Ae,se)}}function y(k){return(0,i.nw)(k.schema,k.entity,k.entityVar)}var P=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&se.sections)for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae];if(Et.visualContainers)for(var Nt=0,Bt=Et.visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt],$t=Qt.config;$t.layouts||($t.layouts=[{id:0,position:{x:Qt.x,y:Qt.y,z:Qt.z,width:Qt.width,height:Qt.height}}])}}},k.prototype.upgradeFilterCollection=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v2_0},k}(),E=function(){function k(){}return k.prototype.upgrade=function(se){},k.prototype.upgradeFilterCollection=function(se){o.fF.assertValue(se,"filterCollection"),se&&se.filters&&(se.filters=this.upgradeFilterContainers(se.filters))},k.prototype.upgradeFilterContainers=function(se){if(!_.isEmpty(se)){var Ae=(0,e.K)(se);if(Ae)for(var $e=0,Et=Ae;$e<Et.length;$e++)this.upgradeFilterContainer(Et[$e]);return JSON.stringify(Ae)}},k.prototype.upgradeFilterContainer=function(se){2===se.howCreated&&!se.precedence&&(se.precedence=0)},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v2_2},k}(),w=t(999738),x=t(327901),R=t(204553),L=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&se.sections)for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae];if(Et.visualContainers)for(var Nt=0,Bt=Et.visualContainers;Nt<Bt.length;Nt++){var $t=Bt[Nt].config.singleVisual;$t&&($t.objects=this.upgradeObjects($t.objects,$t.visualType||$t.visualConfig.visualType))}}},k.prototype.upgradeFilterCollection=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v2_3},k.prototype.upgradeObjects=function(se,Ae){return o.fF.assertAnyValue(se,"allObjectDefns"),Ae===n.D.slicer?this.upgradeSlicerObjects(se):se},k.prototype.upgradeSlicerObjects=function(se){o.fF.assertAnyValue(se,"allObjectDefns");var $e="mode";se||(se={});var Et=(0,R.zx)(se,"data",null),Nt=(0,w.st)().objects.data.properties;return null==Et.properties[$e]&&(Et.properties[$e]=(0,S.W7)((0,i.fL)(x.RB),Nt[$e])),se},k}(),T=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&se.sections)for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae];if(Et.visualContainers)for(var Nt=0,Bt=Et.visualContainers;Nt<Bt.length;Nt++){var $t=Bt[Nt].config.singleVisual;$t&&($t.objects=this.upgradeObjects($t.objects,$t.visualType||$t.visualConfig.visualType))}}},k.prototype.upgradeFilterCollection=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v2_5},k.prototype.upgradeObjects=function(se,Ae){return o.fF.assertAnyValue(se,"allObjectDefns"),Ae===n.D.gauge?this.upgradeGaugeTarget(se):se},k.prototype.upgradeGaugeTarget=function(se){o.fF.assertAnyValue(se,"allObjectDefns"),se||(se={});var Nt=(0,R.my)(se,"labels",null);if(!Nt)return se;for(var Bt=(0,R.zx)(se,"target",null),Qt=0,$t=["show","labelDisplayUnits","labelPrecision","color"];Qt<$t.length;Qt++){var ur=$t[Qt];null!=Nt.properties[ur]&&(Bt.properties[ur]=Nt.properties[ur])}return se},k}(),N=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&se.sections)for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae];if(Et.visualContainers)for(var Nt=0,Bt=Et.visualContainers;Nt<Bt.length;Nt++){var $t=Bt[Nt].config.singleVisual;$t&&($t.objects=this.upgradeObjects($t.objects,$t.visualType||$t.visualConfig.visualType))}}},k.prototype.upgradeFilterCollection=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v3_12_1},k.prototype.upgradeObjects=function(se,Ae){return o.fF.assertAnyValue(se,"allObjectDefns"),Ae===n.D.slicer?this.upgradeSlicerObjects(se):se},k.prototype.upgradeSlicerObjects=function(se){o.fF.assertAnyValue(se,"allObjectDefns"),se||(se={});var Et=(0,R.my)(se,"general",null),Nt=Et&&Et.properties.filter,Bt=Nt&&Nt.filter;if(Bt&&this.isAndFilter(Bt)){var $t=(0,R.my)(se,"data",null);if($t){var ur=$t.properties.startDate,or=$t.properties.endDate,Ar=$t.properties.numericStart,Ge=$t.properties.numericEnd;(ur&&!or||Ar&&!Ge)&&this.BetweenToBeforeOrAfterFilter(Bt,1),(or&&!ur||Ge&&!Ar)&&this.BetweenToBeforeOrAfterFilter(Bt,0)}}return se},k.prototype.isAndFilter=function(se){if(1===se.Where.length){var Ae=se.Where[0].Condition;if(Ae&&Ae.And)return!0}return!1},k.prototype.BetweenToBeforeOrAfterFilter=function(se,Ae){var $e=se.Where[0].Condition;return o.fF.assertValue($e,"Filter condition cannot be null or undefined."),se.Where[0].Condition=0===Ae?$e.And.Right:$e.And.Left,se},k}(),I=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&se.sections)for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae];if(Et.visualContainers)for(var Nt=0,Bt=Et.visualContainers;Nt<Bt.length;Nt++){var $t=Bt[Nt].config.singleVisual;$t&&this.upgradeSQExprToInt($t.objects)}}},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v3_14_1},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.upgradeSQExprToInt=function(se){for(var Ae in o.fF.assertAnyValue(se,""),se)if("labels"===Ae||"bubbles"===Ae||"categoryLabels"===Ae)for(var $e=0,Et=se[Ae];$e<Et.length;$e++){var Nt=Et[$e];for(var Bt in Nt.properties)if("bubbleSize"===Bt||"labelDensity"===Bt||"backgroundTransparency"===Bt){var Qt=Nt.properties[Bt],$t=Qt&&Qt.expr&&Qt.expr.Literal;$t&&(o.fF.assertValue($t.Value,"Literal value should exist"),/^'\d+(\.\d+)?'$/.test($t.Value)&&($t.Value=this.convertLiteralSQTextIntoNumber($t.Value)+"L"))}}},k.prototype.convertLiteralSQTextIntoNumber=function(se){return Math.floor(_.parseInt(se.substr(1,se.length-2)))},k}();function B(k){return new U(k)}var U=function(){function k(se){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&se.sections)for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae],Nt=Et.config,Bt=(0,e.K)(Et.filters)||[];1===Nt.type?this.upgradeTooltipPage(Bt,Nt):(0===Nt.type||null==Nt.type)&&this.upgradeRegularPage(Bt,Nt),Et.filters=JSON.stringify(Bt)}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v3_14},k.prototype.upgradeTooltipPageLinkFields=function(se,Ae){var $e=_.map(Ae.linkFields,function(Et){return{howCreated:5,isTransient:!1,isLinkedAsAggregation:Et.asAggregation,expression:Et.fieldExpr}});se.push.apply(se,$e||[]),Ae.linkFields=[]},k.prototype.upgradeTooltipPage=function(se,Ae){Ae.acceptsAllFiltersWhenLinked=!0,this.upgradeTooltipPageLinkFields(se,Ae)},k.prototype.upgradeRegularPage=function(se,Ae){if(Ae.acceptsAllFiltersWhenLinked=!1,se)for(var $e=0,Et=se;$e<Et.length;$e++)Et[$e].isLinkedAsAggregation=!1},k}(),j=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&se.sections)for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae];if(Et.visualContainers)for(var Nt=function(Ar){var Ge=Ar.config.singleVisual;if(Ge){o.fF.assert(function(){return void 0===Ge.vcObjects},"VC Object can't exist if you are in this version");var ut={};if(Ge.altText&&(ut.general=[{properties:{altText:Bt.toExpr((0,i.fL)(Ge.altText))}}],delete Ge.altText),Ge.aspectRatio){var Vt=Ge.aspectRatio;ut.lockAspect=[{properties:{show:null!=Vt.show?Bt.toExpr((0,i.O7)(Vt.show)):void 0}}],delete Ge.aspectRatio}if(Ge.background){var Dt=Ge.background;ut.background=[{properties:{color:null!=Dt.color?{solid:{color:Bt.toExpr((0,i.fL)(Dt.color))}}:void 0,show:null!=Dt.show?Bt.toExpr((0,i.O7)(Dt.show)):void 0,transparency:null!=Dt.transparency?Bt.toExpr((0,i.cA)(Dt.transparency)):void 0}}],delete Ge.background}if(Ge.border){var Mt=Ge.border;ut.border=[{properties:{color:null!=Mt.color?{solid:{color:Bt.toExpr((0,i.fL)(Mt.color))}}:void 0,show:null!=Mt.show?Bt.toExpr((0,i.O7)(Mt.show)):void 0}}],delete Ge.border}if(Ge.stylePresetName&&(ut.stylePreset=[{properties:{name:Bt.toExpr((0,i.fL)(Ge.stylePresetName))}}],delete Ge.stylePresetName),Ge.title){var Ot=Ge.title;Ot.show=null!=Ot.hidden?!Ot.hidden:Ot.show,ut.title=[{properties:{alignment:null!=Ot.alignment?Bt.toExpr((0,i.fL)(Ot.alignment)):void 0,background:null!=Ot.background?{solid:{color:Bt.toExpr((0,i.fL)(Ot.background))}}:void 0,fontColor:null!=Ot.fontColor?{solid:{color:Bt.toExpr((0,i.fL)(Ot.fontColor))}}:void 0,fontFamily:null!=Ot.fontFamily?Bt.toExpr((0,i.fL)(Ot.fontFamily)):void 0,fontSize:null!=Ot.fontSize?Bt.toExpr((0,i.cA)(Ot.fontSize)):void 0,show:null!=Ot.show?Bt.toExpr((0,i.O7)(Ot.show)):void 0,text:null!=Ot.text?Bt.toExpr((0,i.fL)(Ot.text)):void 0}}],delete Ge.title}if(Ge.visualLink){var Wt=Ge.visualLink;ut.visualLink=[{properties:{bookmark:null!=Wt.bookmark?Bt.toExpr((0,i.fL)(Wt.bookmark)):void 0,qna:Wt.qna,show:null!=Wt.show?Bt.toExpr((0,i.O7)(Wt.show)):void 0,type:null!=Wt.type?Bt.toExpr((0,i.fL)(Wt.type)):void 0}}],delete Ge.visualLink}if(Ge.visualTooltip){var Xt=Ge.visualTooltip;ut.visualTooltip=[{properties:{section:null!=Xt.section?Bt.toExpr((0,i.fL)(Xt.section)):void 0,type:null!=Xt.type?Bt.toExpr((0,i.fL)(Xt.type)):void 0}}],delete Ge.visualTooltip}Bt.clearUndefinedPropertiesVCObjects(ut),_.isEmpty(ut)||(Ge.vcObjects=ut)}},Bt=this,Qt=0,$t=Et.visualContainers;Qt<$t.length;Qt++)Nt($t[Qt])}},k.prototype.toExpr=function(se){return{expr:h.ib.serializeExpr(se)}},k.prototype.clearUndefinedPropertiesVCObjects=function(se){for(var Ae in se){var $e=se[Ae][0].properties;for(var Et in $e)$e[Et]||delete $e[Et];_.isEmpty($e)&&delete se[Ae]}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v3_15},k}(),K=t(603224),ie=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se){var Ae={},$e=se.config;$e.themeCollection=Ae,se.theme&&(Ae.customTheme=(0,K.Mi)(se.theme,1,this.getVersion()),delete se.theme),$e.baseTheme&&(Ae.baseTheme=(0,K.Mi)($e.baseTheme,2,this.getVersion()),delete $e.baseTheme)}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v3_18},k}(),he=t(827783),q=t(531227),Y=t(365358),G=t(447751),me=t(382088),le=function(){function k(){this.podNamePrefix="Pod"}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections)){for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)this.upgradeSectionAcceptsAllFiltersWhenLinked($e[Ae]);for(var Nt=se.pods||[],Bt={},Qt=0,$t=Nt;Qt<$t.length;Qt++)Bt[$t[Qt].name]=!0;for(var or=0,Ar=se.sections;or<Ar.length;or++)this.upgradeSection(Ar[or],Nt,Bt);_.isEmpty(Nt)||(se.pods=Nt)}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v3_24},k.prototype.upgradeSectionAcceptsAllFiltersWhenLinked=function(se){se.config||(se.config={}),null==se.config.acceptsAllFiltersWhenLinked&&(1===se.config.type?se.config.acceptsAllFiltersWhenLinked=!0:0===se.config.type||null==se.config.type?se.config.acceptsAllFiltersWhenLinked=!1:o.fF.assertFail("v3_24 VersionUpgrader: Unrecognized section type "+se.config.type))},k.prototype.upgradeSection=function(se,Ae,$e){if(se&&se.name){var Et=(0,e.K)(se.filters)||[],Nt=_.some(Et,function(Qt){return 5===Qt.howCreated}),Bt=this.findPodForSectionName(Ae,se.name);Bt?this.upgradeExistingPod(Bt,se.config,Nt):Nt&&(Bt=this.createPod(Ae,se.name,se.config,$e)),se.config&&(se.config.acceptsAllFiltersWhenLinked=void 0),Bt&&(this.upgradeFilters(Bt,Et),se.filters=JSON.stringify(Et))}},k.prototype.upgradeFilters=function(se,Ae){var $e=[];(0,G.g)(se.parameters)||($e=(0,e.K)(se.parameters));for(var Et=0,Nt=Ae;Et<Nt.length;Et++){var Bt=Nt[Et];if(Bt.name&&!Bt.isTransient){var Qt=5===Bt.howCreated,$t=this.findParamForFilterName($e,Bt.name);$t?($t.fieldExpr=Bt.expression,$t.asAggregation=Bt.isLinkedAsAggregation,Qt||($t.isLegacySingleSelection=!0)):Qt&&$e.push({name:"Param_"+Bt.name,boundFilter:Bt.name,fieldExpr:Bt.expression,asAggregation:Bt.isLinkedAsAggregation}),Bt.isLinkedAsAggregation=void 0}}se.parameters=JSON.stringify($e)},k.prototype.upgradeExistingPod=function(se,Ae,$e){se.config=this.createPodConfig(Ae),se.referenceScope=0,se.type=$e?this.determineType(Ae):0},k.prototype.findParamForFilterName=function(se,Ae){if(o.fF.assertValue(Ae,"filterName"),!_.isEmpty(se))return _.find(se,function($e){return $e.boundFilter===Ae})},k.prototype.findPodForSectionName=function(se,Ae){if(o.fF.assertValue(Ae,"sectionName"),!_.isEmpty(se))return _.find(se,function($e){return $e.boundSection===Ae})},k.prototype.createPod=function(se,Ae,$e,Et){o.fF.assertValue(se,"pods"),o.fF.assertValue(Ae,"sectionName");var Nt={name:(0,me.zE)(Et,this.podNamePrefix),boundSection:Ae,type:this.determineType($e),referenceScope:0,config:this.createPodConfig($e)};return se.push(Nt),Et[Nt.name]=!0,o.fF.assert(function(){return(0,Y.iv)(se)},"pod names must be unique"),Nt},k.prototype.createPodConfig=function(se){return JSON.stringify({acceptsFilterContext:!se||se.acceptsAllFiltersWhenLinked?0:1})},k.prototype.determineType=function(se){return se&&0!==se.type&&void 0!==se.type?se&&1===se.type?2:void 0:1},k}(),Ee=t(73673),Ne=t(893612),Ye=t(25138),_e=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se){var Ae=se.resourcePackages||[],$e=_.find(Ae,function(Vt){return 2===Vt.resourcePackage.type}),Et=!$e,Nt=($e=$e||{resourcePackage:{id:void 0,items:[],name:(0,Ye.RJ)(2),type:2}}).resourcePackage.items;if(se.sections)for(var Bt=0,Qt=se.sections;Bt<Qt.length;Bt++){var $t=Qt[Bt];if($t.visualContainers)for(var ur=0,or=$t.visualContainers;ur<or.length;ur++){var Ge=or[ur].config.singleVisual;Ge&&this.upgradeSharedResourcePackages(Ge.objects,Nt)}}var ut=se.config&&se.config.baseTheme;ut&&(_.find(Nt,function(Vt){return Vt.name===ut})||Nt.push({name:ut,type:Ne.Ut.BaseTheme,path:"BaseThemes/".concat(ut,".json")})),Et&&$e.resourcePackage.items.length>0&&(Ae.push($e),se.resourcePackages||(se.resourcePackages=Ae))}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v3_6_1},k.prototype.upgradeSharedResourcePackages=function(se,Ae){for(var $e in o.fF.assertAnyValue(se,""),o.fF.assertValue(Ae,"items should exist while upgrading shared resources"),se)for(var Et=0,Nt=se[$e];Et<Nt.length;Et++){var Bt=Nt[Et],Qt=function(Ar){var Ge=Bt.properties[Ar],ut=Ge&&Ge.geoJson;if(ut){var Vt=ut.type.expr,Dt=Vt.Literal&&Vt.Literal.Value;if(Dt&&$t.removeQuotes(Dt)===Ee.c1){var Mt=$t.removeQuotes(ut.name.expr.Literal.Value);_.find(Ae,function(Ot){return Ot.name===Mt})||Ae.push({name:Mt,type:Ne.Ut.ShapeMap,path:"Shapemaps/".concat(Mt,".json")})}}},$t=this;for(var ur in Bt.properties)Qt(ur)}},k.prototype.removeQuotes=function(se){return se.substr(1,se.length-2)},k}(),pe=t(852320),oe=function(){function k(){this.keyDriverObjectName="keyDrivers",this.selectedNumericAnalysisPropertyName="selectedNumericAnalysis"}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections))for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)for(var Nt=0,Bt=$e[Ae].visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt],$t=Qt.config&&Qt.config.singleVisual;$t&&$t.visualType===n.D.keyDriversVisual&&($t.objects=this.upgradeKeyDriversVisualObjects($t.objects))}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v4_1},k.prototype.upgradeKeyDriversVisualObjects=function(se){se||(se={});var Ae=se[this.keyDriverObjectName];if(Ae||(Ae=se[this.keyDriverObjectName]=[{properties:{}}]),o.fF.assert(function(){return 1===Ae.length},"only one keyDrivers object should exist"),!Ae[0].properties[this.selectedNumericAnalysisPropertyName]){var Et={enumeration:pe.dt},Nt=(0,i.kQ)(pe.Pf,Et);Ae[0].properties[this.selectedNumericAnalysisPropertyName]=(0,S.W7)(Nt,{type:Et})}return se},k}(),ye=t(354623),Be=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections))for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)for(var Nt=0,Bt=$e[Ae].visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt];(0,ye.jF)(Qt.config&&Qt.config.singleVisual)}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v4_2},k}(),Te=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections))for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++){var Et=$e[Ae];ve(Et),Re(Et)}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v5_1},k}(),ce=[{objectName:"outspacePane",propertyName:"titleSize"},{objectName:"outspacePane",propertyName:"headerSize"}];function ve(k){if(k&&k.config&&k.config.objects)for(var se=0,Ae=ce;se<Ae.length;se++)(0,ye.pr)(k.config.objects,Ae[se])}function Re(k){if(k&&k.config&&k.config.objects&&k.config.objects.filterCard)for(var Ae=0,$e=k.config.objects.filterCard;Ae<$e.length;Ae++){var Et=$e[Ae],Nt=Et&&Et.properties;if(Nt){var Bt=Nt.textSize;if(Bt){var Qt=h.ib.deserializeExpr(Bt.expr);Nt.textSize=(0,ye.Mi)((0,ye.nc)(Qt))}}}}var tt=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections))for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)for(var Nt=0,Bt=$e[Ae].visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt];(0,ye.Rd)(Qt.config&&Qt.config.singleVisual)}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v5_3},k}();function mt(k){return new He(k)}var He=function(){function k(se){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections))for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)for(var Nt=0,Bt=$e[Ae].visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt],$t=Qt.config&&Qt.config.singleVisual;if($t&&$t.objects){var ur=$t&&$t.visualType;"pivotTable"!==ur&&"tableEx"!==ur||this.upgradeTablixProperties($t.objects,ur)}}},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.upgradeTablixProperties=function(se,Ae){o.fF.assertValue(se,"objects");var $e=se.values;if($e)for(var Et=0,Nt=$e;Et<Nt.length;Et++){var Bt=Nt[Et];this.isValidRoleWildcard(Bt.selector,Ae)&&(!Bt.properties||!Bt.properties.backColor&&!Bt.properties.fontColor||(Bt.selector.data=[{dataViewWildcard:{matchingOption:1}}]))}},k.prototype.isValidRoleWildcard=function(se,Ae){return!(!se||_.isEmpty(se.data)||1!==se.data.length||_.isEmpty(se.data[0].roles))&&("tableEx"===Ae&&_.isEqual(se.data[0].roles,["Values"])||"pivotTable"===Ae&&_.isEqual(se.data[0].roles,["Rows","Columns"]))},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_9},k}(),ft=function(){function k(){}return k.prototype.upgrade=function(se){this.forAllSectionsAllContainers(se,[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart],this.upgradeLineChartDotProperties)},k.prototype.forAllSectionsAllContainers=function(se,Ae,$e){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections))for(var Et=0,Nt=se.sections;Et<Nt.length;Et++)for(var Qt=function(Ge){var ut=Ge.config&&Ge.config.singleVisual;if(!ut||!ut.objects)return"continue";var Vt=ut&&ut.visualType;if(_.findIndex(Ae,function(Dt){return Dt===Vt})<0)return"continue";$e(ut.objects,ut.projections)},$t=0,ur=Nt[Et].visualContainers;$t<ur.length;$t++)Qt(ur[$t])},k.prototype.upgradeLineChartDotProperties=function(se,Ae){o.fF.assertValue(se,"objects");var $e=se.categoryAxis,Et=se.dataPoint,Nt=se.lineStyles;if($e&&0!==$e.length){var Bt,$t=$e[0].properties;if($t&&$t.axisType){if(Bt=$t.axisType.expr.Literal.Value.replace(/['"]+/g,""),Et&&"Categorical"===Bt&&Ae&&Ae.Category&&1===Ae.Category.length&&Ae.Category[0]){var or=Ae.Category[0].queryRef;if(or)for(var Ge,Ar=function(tr){var Lt=Et[tr].properties;if(o.fF.assert(function(){return _.keys(Lt).length<=1},"expected data point object to only have one or no properties"),!Lt||!Lt.fill||_.keys(Lt).length>1)return Ge=tr,"continue";var nr=Et[tr].selector;if(nr&&nr.data&&1===nr.data.length&&nr.data[0]){var yr=nr.data[0];if(yr.scopeId&&yr.scopeId.Comparison&&yr.scopeId.Comparison.Left&&yr.scopeId.Comparison.Left.Column){var _r=yr.scopeId.Comparison.Left.Column,Dr=_r.Property;if(Dr&&_r.Expression&&_r.Expression.SourceRef){var jt=_r.Expression.SourceRef.Entity;jt&&"".concat(jt,".").concat(Dr)===or&&(Et.splice(tr,1),tr--)}}}Ge=tr},ut=0;ut<Et.length;ut++)Ar(ut),ut=Ge}if(Nt&&Nt.length>0&&"Scalar"===Bt)for(var Vt=0,Dt=Nt;Vt<Dt.length;Vt++){var Mt=Dt[Vt];if(!Mt.selector){var Ot=Mt.properties;if(Ot&&Ot.showMarker){var Wt=Ot.showMarker;"true"===Wt.expr.Literal.Value&&(Wt.expr.Literal.Value="false")}}}}}},k.prototype.upgradeFilterCollection=function(){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.getVersion=function(){return a.H3n.v5_11},k}(),Le=t(901389),Q=t(316236),Ue=t(393308);function ae(k){return new Se(k)}var Se=function(){function k(se){this.featureSwitchService=se}return k.prototype.upgrade=function(se){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.serializeSpaceOptimization&&(o.fF.assertValue(se,"exploration"),se&&!(_.isEmpty(se.config.bookmarks)&&_.isEmpty(se.filters)&&_.isEmpty(se.sections)))){_.isEmpty(se.config.bookmarks)||this.upgradeBookmarks(se.config.bookmarks),se.filters&&(se.filters=this.upgradeFilterContainers(se.filters));for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)for(var Nt=0,Bt=$e[Ae].visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt],$t=Qt.config&&Qt.config.singleVisual;$t&&$t.filterExpressionMetadata&&(0,Le.R6)($t.filterExpressionMetadata)&&($t.filterExpressionMetadata=this.upgradeFilterExpressionMetadata($t.filterExpressionMetadata)),Qt.filters&&(Qt.filters=this.upgradeFilterContainers(Qt.filters)),!$t||!$t.objects||($t&&$t.visualType)!==n.D.textbox||this.upgradeFilterContextProperties($t.objects)}}},k.prototype.upgradeFilterContextProperties=function(se){var Ae=this;for(var $e in o.fF.assertValue(se,"objects"),se)for(var Nt=0,Bt=se[$e];Nt<Bt.length;Nt++){var Qt=Bt[Nt];for(var $t in Qt.properties){var ur=Qt.properties[$t];if((0,S.CA)(ur)){var or=ur.context,Ar=or&&or.filterContext;_.isEmpty(Ar)||_.forEach(Ar,function(Ge){Ge.metadata&&(0,Le.R6)(Ge.metadata)&&(Ge.metadata=Ae.upgradeFilterExpressionMetadata(Ge.metadata))})}}}},k.prototype.upgradeBookmarks=function(se){for(var Ae=0,$e=se;Ae<$e.length;Ae++){var Et=$e[Ae];if(nt(Et))this.upgradeBookmarks(Et.children);else{this.upgradeSectionState(Et.explorationState.sections);var Bt=Et.explorationState.filters;Bt&&this.upgradeFilters(Bt)}}},k.prototype.upgradeSectionState=function(se){var Ae=this;_.forEach(se,function($e){_.forEach($e.visualContainers,function(Et){var Nt=Et.highlight;Nt&&Nt.selection&&(0,S.kS)(Nt.selection)&&(Nt.selection=Ae.upgradeSelectorsByColumn(Nt.selection)),Nt&&Nt.filterExpressionMetadata&&(0,Le.R6)(Nt.filterExpressionMetadata)&&(Nt.filterExpressionMetadata=Ae.upgradeFilterExpressionMetadata(Nt.filterExpressionMetadata));var Bt=Et.singleVisual;Bt.filterExpressionMetadata&&(0,Le.R6)(Bt.filterExpressionMetadata)&&(Bt.filterExpressionMetadata=Ae.upgradeFilterExpressionMetadata(Bt.filterExpressionMetadata))}),$e.filters&&Ae.upgradeFilters($e.filters)})},k.prototype.upgradeFilters=function(se){var Ae=this;se.byName&&_.forEach(se.byName,function($e){$e.filterExpressionMetadata&&(0,Le.R6)($e.filterExpressionMetadata)&&($e.filterExpressionMetadata=Ae.upgradeFilterExpressionMetadata($e.filterExpressionMetadata))}),se.byExpr&&this.upgradeFilterContainerState(se.byExpr),se.byTransientState&&this.upgradeFilterContainerState(se.byTransientState),se.byType&&this.upgradeFilterContainerState(se.byType)},k.prototype.upgradeFilterContainerState=function(se){var Ae=this;_.forEach(se,function($e){$e.filterExpressionMetadata&&(0,Le.R6)($e.filterExpressionMetadata)&&($e.filterExpressionMetadata=Ae.upgradeFilterExpressionMetadata($e.filterExpressionMetadata))})},k.prototype.upgradeSelectorsByColumn=function(se){var Ae=_.map(se,function(Et){return(0,S.JF)(Et)}),$e=(0,Ue.od)(Ae);return(0,S.B6)($e)},k.prototype.upgradeFilterExpressionMetadata=function(se){var Ae=(0,Le._q)(se),$e=(0,Ue.s0)(Ae);return(0,Q.LF)($e)},k.prototype.upgradeFilterCollection=function(se){o.fF.assertValue(se,"filterCollection"),se&&se.filters&&(se.filters=this.upgradeFilterContainers(se.filters))},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.upgradeFilterContainers=function(se){if(!_.isEmpty(se)){var Ae=(0,e.K)(se);if(Ae)for(var $e=0,Et=Ae;$e<Et.length;$e++)this.upgradeFilterContainer(Et[$e]);return JSON.stringify(Ae)}},k.prototype.upgradeFilterContainer=function(se){se.filterExpressionMetadata&&(0,Le.R6)(se.filterExpressionMetadata)&&(se.filterExpressionMetadata=this.upgradeFilterExpressionMetadata(se.filterExpressionMetadata))},k.prototype.getVersion=function(){return a.H3n.v5_16},k}();function nt(k){return void 0!==k.children}function We(k){return new de(k)}var de=function(){function k(se){this.featureSwitchService=se}return k.prototype.upgrade=function(se){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.buttonTileFormatting&&(o.fF.assertValue(se,"exploration"),se&&se.sections))for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)for(var Nt=0,Bt=$e[Ae].visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt],$t=Qt.config&&Qt.config.singleVisual;if($t&&"actionButton"===$t.visualType&&$t.objects){var ur=$t.objects;if(ur.text)for(var or=0,Ar=ur.text;or<Ar.length;or++)if((ut=null==(Ge=Ar[or])?void 0:Ge.properties)&&(Vt=ut.padding)){var Dt,Mt;Dt=ut.horizontalAlignment?te(ut.horizontalAlignment):"right",Mt=ut.verticalAlignment?te(ut.verticalAlignment):"middle","left"===Dt?Ge.properties.leftMargin=Vt:"right"===Dt&&(Ge.properties.rightMargin=Vt),"top"===Mt?Ge.properties.topMargin=Vt:"bottom"===Mt&&(Ge.properties.bottomMargin=Vt),delete Ge.properties.padding}if(ur.icon)for(var Ot=0,Wt=ur.icon;Ot<Wt.length;Ot++){var ut,Vt;(ut=null==(Ge=Wt[Ot])?void 0:Ge.properties)&&(Vt=ut.padding)&&(Ge.properties.leftMargin=Vt,Ge.properties.rightMargin=Vt,Ge.properties.topMargin=Vt,Ge.properties.bottomMargin=Vt,delete Ge.properties.padding)}if(ur.outline)for(var Xt=0,tr=ur.outline;Xt<tr.length;Xt++){var Ge,Lt=null==(Ge=tr[Xt])?void 0:Ge.properties.roundEdge;Lt&&(ur.shape=ur.shape||[],ur.shape.push({properties:{roundEdge:Lt},selector:Ge.selector}),delete Ge.properties.roundEdge)}}}},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_25},k}();function te(k){return h.ib.deserializeExpr(k.expr).value}var xe=function(){function k(){}return k.prototype.upgrade=function(se){if(o.fF.assertValue(se,"exploration"),se&&!_.isEmpty(se.sections))for(var Ae=0,$e=se.sections;Ae<$e.length;Ae++)for(var Nt=0,Bt=$e[Ae].visualContainers;Nt<Bt.length;Nt++){var Qt=Bt[Nt],$t=Qt.config&&Qt.config.singleVisual;$t&&$t.objects&&($t&&$t.visualType)===n.D.azureMap&&this.upgradeAzureMapProperties($t.objects)}},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.upgradeAzureMapProperties=function(se){o.fF.assertValue(se,"objects");var Ae=se.heatMapLayer;if(Ae&&0!==Ae.length)for(var $e=0,Et=Ae;$e<Et.length;$e++){var Nt=Et[$e];if(!Nt.selector){var Bt=Nt.properties;if(Bt&&Bt.heatMapOpacity){var $t=Number(Z(Bt.heatMapOpacity)),ur=isNaN($t)?0:100-100*$t;delete Bt.heatMapOpacity,Bt.mapTransparency=(0,ye.Mi)((0,i.cA)(ur))}}}},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_28},k}();function Z(k){return h.ib.deserializeExpr(k.expr).value}var J=t(973188),Fe=t(637916),ze=t(380073),rt=t(409200);function Oe(k){return new at(k)}var Pe=[n.D.tableEx,n.D.pivotTable,n.D.slicer,n.D.filterSlicer,n.D.multiRowCard],X=[n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.ribbonChart],we=[n.D.areaChart,n.D.barChart,n.D.clusteredBarChart,n.D.clusteredColumnChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.ribbonChart,n.D.scatterChart,n.D.stackedAreaChart,n.D.waterfallChart],Ze=[n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart],et=[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart],at=function(){function k(se){this.featureSwitchService=se}return k.prototype.upgrade=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){1===se&&(_.some(X,function(Nt){return Nt===$e})&&(this.upgradeCartesianAxisScale(Ae,Fe.p.categoryAxis.logAxisScale.objectName),this.upgradeCartesianAxisPosition(Ae,Fe.p.categoryAxis.switchAxisPosition.objectName)),_.some(we,function(Nt){return Nt===$e})&&(this.upgradeCartesianAxisScale(Ae,Fe.p.valueAxis.logAxisScale.objectName),this.upgradeCartesianAxisPosition(Ae,Fe.p.valueAxis.switchAxisPosition.objectName)),_.some(Ze,function(Nt){return Nt===$e})&&this.upgradeCartesianSecAxisScale(Ae,Fe.p.valueAxis.secLogAxisScale.objectName),_.some(et,function(Nt){return Nt===$e})&&(this.upgradeCartesianSecAxisScale(Ae,Fe.p.y2Axis.secLogAxisScale.objectName),this.upgradeDefaultToCircle(Ae,ze.zK.legend.legendMarkerRendering.objectName)),this.featureSwitchService.featureSwitches.outlineDropdownToCheckboxes&&_.some(Pe,function(Nt){return Nt===$e})&&this.upgradeOutlineProperties(Ae,$e),this.featureSwitchService.featureSwitches.splitSubTotals&&$e===n.D.pivotTable&&this.upgradeSubTotalsProperties(Ae),this.featureSwitchService.featureSwitches.splitGrandTotals&&$e===n.D.pivotTable&&this.upgradeTotalProperties(Ae),$e===n.D.scatterChart&&this.upgradeScatterChartFillPoint(Ae)),2===se&&(this.featureSwitchService.featureSwitches.splitHelpTooltip&&this.upgradeVisualHeaderTooltip(Ae),this.featureSwitchService.featureSwitches.showDefaultTooltip&&this.upgradeVisualLink(Ae))},k.prototype.upgradeCartesianAxisScale=function(se,Ae){var $e=Fe.p.categoryAxis;this.upgradeAxisScale(se,Ae,$e.axisScale.propertyName,$e.logAxisScale.propertyName)},k.prototype.upgradeCartesianSecAxisScale=function(se,Ae){var $e=Fe.p.valueAxis;this.upgradeAxisScale(se,Ae,$e.secAxisScale.propertyName,$e.secLogAxisScale.propertyName)},k.prototype.upgradeVisualHeaderTooltip=function(se){o.fF.assertValue(se,"objects");var Ae=se[It];if(Ae&&Ae.length>0)for(var $e=0,Et=Ae;$e<Et.length;$e++){var Bt=Et[$e].properties;if(Bt&&Bt[zt]&&!Bt[Rt]){var Qt=Bt[zt],$t=Qt&&St(Qt);$t&&$t!==bt&&(Bt[Rt]=(0,ye.Mi)((0,i.fL)(qe)))}}},k.prototype.upgradeSubTotalsProperties=function(se){o.fF.assertValue(se,"objects");var Ae=se.subTotals;if(Ae&&Ae.length>0)for(var $e=Ae.length,Et=0;Et<$e;Et++){var Nt=Ae[Et],Bt=Nt.properties,Qt={properties:{}};if(Bt&&!Nt.selector){for(var $t=0,ur=Ie;$t<ur.length;$t++){var or=ur[$t],Ar=Bt[or.propertyName];Ar&&(Qt.properties[or.propertyName]=Ar,delete Bt[or.propertyName])}_.isEmpty(Qt.properties)||(Ae.push((0,J.__assign)((0,J.__assign)({},Qt),{selector:{id:"Column"}})),Ae.push((0,J.__assign)((0,J.__assign)({},Qt),{selector:{id:"Row"}})))}}},k.prototype.upgradeVisualLink=function(se){if(this.featureSwitchService.featureSwitches.useModernFormatPane){o.fF.assertValue(se,"objects");var Ae=se[Kt];if(Ae&&Ae.length>0)for(var $e=0,Et=Ae;$e<Et.length;$e++){var Bt=Et[$e].properties;if(Bt&&Bt[Yt]){var Qt=Bt[Yt],$t=Qt&&St(Qt),ur=(0,ye.Xv)($t);Bt[ir]=(0,ye.Mi)((0,i.O7)(ur)),delete Bt[Yt]}}}},k.prototype.upgradeOutlineProperties=function(se,Ae){o.fF.assertValue(se,"objects");for(var Et=0,Nt=this.getPropertiesToUpgrade(Ae);Et<Nt.length;Et++){var Bt=Nt[Et],$t=Bt.propertyName,ur=se[Bt.objectName];if(ur&&0!==ur.length)for(var or=0,Ar=ur;or<Ar.length;or++){var ut=Ar[or].properties;if(ut&&ut[$t]){var Dt=St(ut[$t]),Mt=(0,ye.s8)(Dt);ut[lr]=(0,ye.Mi)((0,i.cA)(Mt)),delete ut[$t]}}}},k.prototype.upgradeTotalProperties=function(se){o.fF.assertValue(se,"objects");var Ae=se.total;Ae&&Ae.length>0&&(se.rowTotal=_.cloneDeep(Ae),se.columnTotal=_.cloneDeep(Ae),delete se.total)},k.prototype.getPropertiesToUpgrade=function(se){switch(se){case n.D.tableEx:return dr;case n.D.pivotTable:return br;case n.D.slicer:return Cr;case n.D.filterSlicer:return pt;case n.D.multiRowCard:return Ut;default:return o.fF.assertFail("unexpected visual type"),[]}},k.prototype.upgradeDefaultToCircle=function(se,Ae){if(this.featureSwitchService&&this.featureSwitchService.featureSwitches&&this.featureSwitchService.featureSwitches.removeDefaultToCircleToggle){var $e=se[Ae],Et=ze.zK.legend.defaultToCircle.propertyName,Nt=ze.zK.legend.legendMarkerRendering.propertyName;if($e&&$e.length>0){var Bt=$e[0].properties;if(Bt&&Bt[Et]){var Qt=void 0;Bt[Nt]&&(Qt=St(Bt[Nt]));var $t=St(Bt[Et]);Qt!==rt.f2&&Qt||$t?Qt===rt.f2&&$t&&(Bt[Nt]=(0,ye.Mi)((0,i.fL)(rt.G_))):Bt[Nt]=(0,ye.Mi)((0,i.fL)(rt.f2)),delete Bt[Et]}}}},k.prototype.upgradeAxisScale=function(se,Ae,$e,Et){var Nt=se[Ae];if(Nt&&Nt.length>0){var Bt=Nt[0].properties;if(Bt&&Bt[$e]){var Qt=St(Bt[$e]),$t=(0,ye.Dq)(Qt);Bt[Et]=(0,ye.Mi)((0,i.O7)($t)),delete Bt[$e]}}},k.prototype.upgradeCartesianAxisPosition=function(se,Ae){o.fF.assertValue(se,"objects");var $e=se[Ae],Et=Fe.p.categoryAxis.position.propertyName,Nt=Fe.p.categoryAxis.switchAxisPosition.propertyName;if($e&&$e.length>0){var Bt=$e[0].properties;if(Bt&&Bt[Et]){var Qt=St(Bt[Et]),$t=(0,ye.QK)(Qt);Bt[Nt]=(0,ye.Mi)((0,i.O7)($t)),delete Bt[Et]}}},k.prototype.upgradeScatterChartFillPoint=function(se){o.fF.assertValue(se,"objects");var Ae=se.fillPoint;if(Ae&&Ae.length>0)for(var $e=0,Et=Ae;$e<Et.length;$e++){var Nt=Et[$e];if(!Nt.selector){var Bt=Nt.properties;if(Bt&&Bt.show){var Qt=St(Bt.show),$t=(0,ye.fw)(Qt);Bt.style=(0,ye.Mi)((0,i.fL)($t)),delete Bt.show}}}},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_31},k}();function St(k){return h.ib.deserializeExpr(k.expr).value}var Ie=[{objectName:"subTotals",propertyName:"fontColor"},{objectName:"subTotals",propertyName:"fontFamily"},{objectName:"subTotals",propertyName:"fontSize"},{objectName:"subTotals",propertyName:"bold"},{objectName:"subTotals",propertyName:"italic"},{objectName:"subTotals",propertyName:"underline"},{objectName:"subTotals",propertyName:"backColor"},{objectName:"subTotals",propertyName:"applyToHeaders"}],qe="Canvas",bt="none",It="visualHeaderTooltip",Rt="type",zt="section",Kt="visualLink",Yt="suppressDefaultTooltip",ir="showDefaultTooltip",lr="outlineStyle",dr=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"total",propertyName:"outline"}],br=[{objectName:"grid",propertyName:"outline"},{objectName:"columnHeaders",propertyName:"outline"},{objectName:"values",propertyName:"outline"},{objectName:"rowHeaders",propertyName:"outline"}],Cr=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],pt=[{objectName:"searchBox",propertyName:"outline"},{objectName:"items",propertyName:"outline"},{objectName:"header",propertyName:"outline"}],Ut=[{objectName:"card",propertyName:"outline"}];function er(k){return new mr(k)}var Pr=[n.D.areaChart,n.D.lineChart,n.D.lineClusteredColumnComboChart,n.D.lineStackedColumnComboChart,n.D.scatterChart,n.D.stackedAreaChart],mr=function(){function k(se){this.featureSwitchService=se}return k.prototype.upgrade=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){!this.featureSwitchService||!this.featureSwitchService.featureSwitches||!this.featureSwitchService.featureSwitches.remainingCartesianCategoryLogAxisScale||1===se&&_.some(Pr,function(Nt){return Nt===$e})&&this.upgradeCartesianAxisScale(Ae,Fe.p.categoryAxis.logAxisScale.objectName)},k.prototype.upgradeCartesianAxisScale=function(se,Ae){var $e=Fe.p.categoryAxis;this.upgradeAxisScale(se,Ae,$e.axisScale.propertyName,$e.logAxisScale.propertyName)},k.prototype.upgradeAxisScale=function(se,Ae,$e,Et){var Nt=se[Ae];if(Nt&&Nt.length>0){var Bt=Nt[0].properties;if(Bt)if(Bt[Et]&&Bt[$e])delete Bt[$e];else if(Bt[$e]){var Qt=function(k){return h.ib.deserializeExpr(k.expr).value}(Bt[$e]),$t=(0,ye.Dq)(Qt);Bt[Et]=(0,ye.Mi)((0,i.O7)($t)),delete Bt[$e]}}},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_33},k}();function xr(k){return new Vr(k)}var Vr=function(){function k(se){this.featureSwitchService=se}return k.prototype.upgrade=function(se){this.featureSwitchService.featureSwitches.onObject&&this.upgradeDrillthroughTargetRegularSections(se)},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_38},k.prototype.upgradeDrillthroughTargetRegularSections=function(se){var Ae;if(!_.isEmpty(null==se?void 0:se.sections)&&!_.isEmpty(se.pods)){for(var $e={},Et=0,Nt=se.pods;Et<Nt.length;Et++){var Bt=Nt[Et],Qt=Bt.boundSection;if(!_.isEmpty(Qt)&&!$e[Qt]&&1===Bt.type&&!(0,G.g)(Bt.parameters)){var $t=(0,e.K)(Bt.parameters);_.some($t,function(Vt){return!!Vt.fieldExpr})&&($e[Bt.boundSection]=!0)}}for(var ur=0,or=se.sections;ur<or.length;ur++){var Ar=or[ur],Ge=null===(Ae=Ar.config)||void 0===Ae?void 0:Ae.type;(null==Ge||0===Ge)&&$e[Ar.name]&&(Ar.config||(Ar.config={}),Ar.config.type=2)}}},k}(),Qr=[n.D.barChart,n.D.clusteredBarChart,n.D.hundredPercentStackedBarChart],Jr=function(){function k(){}return k.prototype.upgrade=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){var Nt=Fe.p.categoryAxis;if(1===se&&_.some(Qr,function(ur){return ur===$e})){var Bt=Ae[Nt.concatenateLabels.objectName];_.isEmpty(Bt)&&(Ae[Nt.concatenateLabels.objectName]=[{properties:{}}],Bt=Ae[Nt.concatenateLabels.objectName]);var Qt=Bt[0].properties,$t=Qt[Nt.concatenateLabels.propertyName];$t&&$t.expr?$t.expr.Literal.Value="true":Qt[Nt.concatenateLabels.propertyName]=(0,ye.Mi)((0,i.O7)(!0))}},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_42},k}(),Hr=[n.D.lineChart,n.D.areaChart,n.D.stackedAreaChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart],Zr=function(){function k(){}return k.prototype.upgrade=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){var Nt=ze.zK.lineStyles;if(1===se&&_.some(Hr,function(Ar){return Ar===$e})){var Bt=Ae[Nt.stepped.objectName];if(Bt&&!_.isEmpty(Bt))for(var Qt=0,$t=Bt;Qt<$t.length;Qt++){var ur=$t[Qt];if(ur){var or=ur.properties[Nt.stepped.propertyName];or&&or.expr&&"true"===or.expr.Literal.Value&&(ur.properties[Nt.lineChartType.propertyName]=(0,ye.Mi)((0,i.fL)("step")),delete ur.properties[Nt.stepped.propertyName])}}}},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_46},k}(),Or=t(977691),Ur=t(833126);function zr(k){return new ai(k)}var ai=function(){function k(se){this.featureSwitchService=se}return k.prototype.upgrade=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){this.featureSwitchService.featureSwitches.azureMapsBubbleSizeRevamp&&Ae&&1===se&&$e===n.D.azureMap&&this.upgradeAzureMapsVisual(Ae)},k.prototype.upgradeAzureMapsVisual=function(se){var Ae=Or.MC.bubbleLayer.markerRangeType,$e=Ae.objectName,Et=Ae.propertyName,Nt=se[$e];_.isEmpty(Nt)&&(se[$e]=[{properties:{}}],Nt=se[$e]);for(var Bt=0,Qt=Nt;Bt<Qt.length;Bt++){var $t=Qt[Bt];null!=$t&&$t.properties&&($t.properties[Et]=(0,ye.Mi)((0,i.fL)(Ur.x9)))}},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_48},k}(),it=function(){function k(){}return k.prototype.upgrade=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){Ae&&1===se&&([n.D.barChart,n.D.columnChart,n.D.hundredPercentStackedBarChart,n.D.hundredPercentStackedColumnChart,n.D.ribbonChart,n.D.stackedAreaChart,n.D.lineStackedColumnComboChart,n.D.lineClusteredColumnComboChart].includes($e)&&k.updatePropertyName({objectName:"categoryAxis",propertyName:"reverseStackOrder"},{objectName:"layout",propertyName:"seriesOrderReversed"},Ae),[n.D.ribbonChart].includes($e)&&(k.updatePropertyName({objectName:"ribbonChart",propertyName:"seriesGapRatio"},{objectName:"layout",propertyName:"stackedGapSize"},Ae),k.updatePropertyName({objectName:"ribbonChart",propertyName:"colorBands"},{objectName:"ribbonBands",propertyName:"fillMatchColor"},Ae),k.updatePropertyName({objectName:"ribbonChart",propertyName:"bandsTransparency"},{objectName:"ribbonBands",propertyName:"fillTransparency"},Ae),k.updatePropertyName({objectName:"ribbonChart",propertyName:"showBorder"},{objectName:"ribbonBands",propertyName:"borderShow"},Ae)))},k.updatePropertyName=function(se,Ae,$e){var Et=$e[se.objectName];if(Et&&0!==Et.length)for(var Nt=0,Bt=Et;Nt<Bt.length;Nt++){var $t=Bt[Nt].properties[se.propertyName];if($t)return void(k.getObject($e,Ae.objectName)[0].properties[Ae.propertyName]=$t)}},k.getObject=function(se,Ae){var $e=se[Ae];return _.isEmpty($e)&&(se[Ae]=[{properties:{}}],$e=se[Ae]),$e},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_49},k}(),yt=t(979868),Ft=t(227871),kt_propertyName="showDynamicLabels",sr_propertyName="dynamicLabelValue",pr_propertyName="enableValueDataLabel";function fr(k){return new Mr(k)}var Mr=function(){function k(se){this.featureSwitchService=se}return k.prototype.upgrade=function(se){},k.prototype.upgradeVisualObjects=function(se,Ae,$e,Et){Ae&&1===se&&(this.featureSwitchService.featureSwitches.labelEnhancementsM0&&a.M58.includes($e)&&this.updateDynamicLabelProperties(Ae),this.featureSwitchService.featureSwitches.labelEnhancementsM0&&[Ft.L.hundredPercentStackedBarChart.name,Ft.L.hundredPercentStackedColumnChart.name].includes($e)&&this.update100StackedProperties(Ae))},k.prototype.updateDynamicLabelProperties=function(se){var Ae=se.labels;_.isEmpty(Ae)||(Ae.some(function(Et){return Et.selector&&Et.selector.metadata})?this.updateDynamicLabelPropertiesForMultiStaticSeries(Ae):this.updateDynamicLabelPropertiesForDynamicSeries(Ae))},k.prototype.updateDynamicLabelPropertiesForDynamicSeries=function(se){for(var Ae=0,$e=se;Ae<$e.length;Ae++){var Et=$e[Ae];if(!Et.selector){var Nt=Et.properties[kt_propertyName];if(!Nt)return;var Bt=hr(Nt),Qt=se.find(function(or){return null==or?void 0:or.properties[sr_propertyName]});if(Bt&&!Qt){Et.properties[pr_propertyName]=(0,ye.Mi)((0,i.O7)(!1)),delete Et.properties[kt_propertyName];continue}var $t=null==Qt?void 0:Qt.properties[sr_propertyName],ur=!!$t&&Ir($t);Bt&&!ur&&(Et.properties[pr_propertyName]=(0,ye.Mi)((0,i.O7)(!1))),!Bt&&ur&&delete Qt.properties[sr_propertyName]}Et.properties[kt_propertyName]&&delete Et.properties[kt_propertyName]}},k.prototype.updateDynamicLabelPropertiesForMultiStaticSeries=function(se){for(var Ae,$e,Et,Nt,Bt,Qt,$t=function(k){for(var se,Ae,$e,Et,Nt,Bt,Qt={},$t=0,ur=k;$t<ur.length;$t++){var or=ur[$t],Ar=null==or?void 0:or.selector,Ge=null==Ar?void 0:Ar.metadata;Ar?Ar&&!Ge?(Qt.All||(Qt.All={hasSeriesBeenUpgraded:!1}),Qt.All.hasDynamicLabelValue=Ir(null==or?void 0:or.properties[sr_propertyName]),Qt.All.hasDynamicLabelValue&&(Qt.All.dynamicLabelValueObjectDefinition=or)):(Qt[Ge]||(Qt[Ge]={hasSeriesBeenUpgraded:!1}),null!=or&&or.properties.showSeries&&(Qt[Ge].showLabels=hr(or.properties.showSeries)),null!=or&&or.properties[kt_propertyName]&&(Qt[Ge].showDynamicLabels=hr(or.properties[kt_propertyName]),Qt[Ge].showDynamicLabelsObjectDefinition=or),null!=or&&or.properties[sr_propertyName]&&(Qt[Ge].hasDynamicLabelValue=Ir(null==or?void 0:or.properties[sr_propertyName]),Qt[Ge].dynamicLabelValueObjectDefinition=or)):(Qt.All={hasSeriesBeenUpgraded:!1},null!=or&&or.properties[kt_propertyName]&&(Qt.All.showDynamicLabels=hr(or.properties[kt_propertyName]),Qt.All.showDynamicLabelsObjectDefinition=or),null!=or&&or.properties.show&&(Qt.All.showLabels=hr(or.properties.show)))}for(var ut in Qt)if("All"!==ut&&(void 0===Qt[ut].showDynamicLabels&&(Qt[ut].showDynamicLabels=null===(se=Qt.All)||void 0===se?void 0:se.showDynamicLabels,Qt[ut].showDynamicLabelsObjectDefinition=null===(Ae=Qt.All)||void 0===Ae?void 0:Ae.showDynamicLabelsObjectDefinition),void 0===(null===($e=Qt[ut])||void 0===$e?void 0:$e.hasDynamicLabelValue)&&null!==(Et=Qt.All)&&void 0!==Et&&Et.hasDynamicLabelValue)){var Vt=null===(Nt=Qt.All)||void 0===Nt?void 0:Nt.dynamicLabelValueObjectDefinition,Dt=null===(Bt=Qt[ut])||void 0===Bt?void 0:Bt.showDynamicLabelsObjectDefinition;null!=Dt&&Dt.properties&&null!=Vt&&Vt.properties[sr_propertyName]&&(Dt.properties[sr_propertyName]=Vt.properties[sr_propertyName],Qt[ut].dynamicLabelValueObjectDefinition=Dt,Qt[ut].hasDynamicLabelValue=!0)}return Qt}(se),ur=!1,or=0,Ar=se;or<Ar.length;or++){var Ge=Ar[or],ut=Ge.selector;if(ut||null!==(Ae=$t.All)&&void 0!==Ae&&Ae.hasSeriesBeenUpgraded){if(null!=ut&&ut.metadata&&(null===($e=$t[ut.metadata])||void 0===$e||!$e.hasSeriesBeenUpgraded)){var Mt=$t[ut.metadata];if(!Mt)continue;var Ot=Mt.showDynamicLabelsObjectDefinition;Mt.showDynamicLabels&&!Mt.hasDynamicLabelValue?void 0!==Mt.hasDynamicLabelValue?Mt.dynamicLabelValueObjectDefinition.properties[pr_propertyName]=(0,ye.Mi)((0,i.O7)(!1)):Ot.properties[pr_propertyName]=(0,ye.Mi)((0,i.O7)(!1)):ur&&$t.All.showLabels&&!1!==Mt.showLabels&&(Ot.properties[pr_propertyName]=(0,ye.Mi)((0,i.O7)(!0))),!Mt.showDynamicLabels&&Mt.hasDynamicLabelValue&&delete Mt.dynamicLabelValueObjectDefinition.properties[sr_propertyName],Mt.hasSeriesBeenUpgraded=!0}}else $t.All.showDynamicLabels&&!$t.All.hasDynamicLabelValue&&(Ge.properties[pr_propertyName]=(0,ye.Mi)((0,i.O7)(!1)),ur=!0),!$t.All.showDynamicLabels&&$t.All.hasDynamicLabelValue&&delete $t.All.dynamicLabelValueObjectDefinition.properties[sr_propertyName],$t.All.hasSeriesBeenUpgraded=!0}var Wt=function(Lt){null===(Nt=null===(Et=$t[Lt])||void 0===Et?void 0:Et.showDynamicLabelsObjectDefinition)||void 0===Nt||delete Nt.properties[kt_propertyName],null===(Qt=null===(Bt=$t[Lt])||void 0===Bt?void 0:Bt.dynamicLabelValueObjectDefinition)||void 0===Qt||delete Qt.properties[kt_propertyName],o.fF.assert(function(){return $t[Lt].hasSeriesBeenUpgraded},"Not all label object containers were upgraded")};for(var Xt in $t)Wt(Xt)},k.prototype.upgradeFilterCollection=function(){},k.prototype.getVersion=function(){return a.H3n.v5_50},k.prototype.update100StackedProperties=function(se){var Ae=se.labels;if(Ae)for(var $e=0,Et=Ae;$e<Et.length;$e++){var Nt=Et[$e];Nt.properties.enableValueDataLabel=(0,ye.Mi)((0,i.O7)(!1)),Nt.properties.enableDetailDataLabel=(0,ye.Mi)((0,i.O7)(!0)),Nt.properties.detailContentType=(0,ye.Mi)((0,i.fL)("Percent of total"));var Bt={bold:"detailBold",color:"detailColor",fontFamily:"detailFontFamily",fontSize:"detailFontSize",italic:"detailItalic",labelDisplayUnits:"detailLabelDisplayUnits",labelPrecision:"detailLabelPrecision",transparency:"detailTransparency",underline:"detailUnderline"};for(var Qt in Bt)Nt.properties[Qt]&&(Nt.properties[Bt[Qt]]=Nt.properties[Qt],delete Nt.properties[Qt])}},k}();function hr(k){if(null!=k&&k.expr)return h.ib.deserializeExpr(k.expr).value}function Ir(k){if(null==k||!k.expr)return!1;var se=h.ib.deserializeExpr(k.expr);return(0,yt.kb)(se)||(0,yt.iV)(se)}function dt(k){return new ue(k)}var ue=function(){function k(se){this.versionUpgraders=[new f,new P,new E,new L,new T,new _e,new N,B(se),new I,new j,new ie,(0,he.ps)(),(0,q.ps)(se),new le,new oe,new Be,new Te,new tt,mt(se),new ft,ae(se),We(se),new xe,Oe(se),er(se),xr(se),new Jr,new Zr,zr(se),new it,fr(se)],this.objectsUpgrader=(0,d.U)(this.versionUpgraders)}return k.prototype.upgrade=function(se,Ae,$e,Et){if(this.upgradeElement(se,Ae,$e,function(Bt,Qt,$t){return Bt.upgrade(Qt,$t)},Et)){var Nt=se;return this.upgradeVisualObjects(Nt,se.config.version),se.config.version=v.t,Nt}},k.prototype.upgradeFilterCollection=function(se,Ae,$e){if(this.upgradeElement(se,Ae,$e,function(Et,Nt){return Et.upgradeFilterCollection(Nt)}))return se.config.version=v.t,se},k.prototype.getVersionUpgraders=function(){return this.versionUpgraders},k.prototype.upgradeElement=function(se,Ae,$e,Et,Nt){o.fF.assertValue(se,"element"),o.fF.assert(function(){return Ae&&_.isEmpty(Ae)},"errors should be defined and empty"),o.fF.assertValue(Et,"runUpgrade");var Bt=this.getVersionedElementConfig(se),Qt=Bt.version&&_.isString(Bt.version)?Bt.version:l.aD;if((0,l.gt)(Qt,v.t)){if(Ae.push({errorType:0}),!$e)return}else for(var $t=0,ur=this.versionUpgraders;$t<ur.length;$t++){var or=ur[$t],Ar=or.getVersion();((0,l.lt)(Ar,"2.2")||(0,l.gt)(Ar,Qt))&&(Et(or,se,Qt),Nt&&Nt.upgraderCount++)}return se},k.prototype.upgradeVisualObjects=function(se,Ae){Ae=Ae||l.aD;var $e=se&&se.sections;if($e)for(var Et=0,Nt=$e;Et<Nt.length;Et++){var Bt=Nt[Et],Qt=Bt&&Bt.visualContainers;if(!Qt)return;for(var $t=0,ur=Qt;$t<ur.length;$t++){var or=ur[$t],Ar=or&&or.config&&or.config.singleVisual;if(Ar){var Ge=Ar.visualType,ut=Ar.vcObjects;ut&&this.objectsUpgrader.upgrade(2,ut,Ge,Ae);var Vt=Ar.objects;Vt&&this.objectsUpgrader.upgrade(1,Vt,Ge,Ae)}}}},k.prototype.getVersionedElementConfig=function(se){return _.isString(se.config)&&(se.config=(0,e.K)(se.config),o.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config shouldn't be a string, it should always be an object,\n                    If this code ever reaches it means that the exploration we are upgrading\n                    hasn't been parsed yet. Please find out where the exploration comes from\n                    and make sure it's parsed before getting sent here.")),se.config||(se.config={version:l.aD},o.fF.assertFail("explorationUpgrader.getVersionedElementConfig -\n                    The config should exist by this point, we somehow persisted/serialized an invalid config.")),se.config},k}()},929224:function(Xe,H,t){t.d(H,{$IK:function(){return he},$Tv:function(){return vt},$gq:function(){return Ar},$qz:function(){return Ir},$tC:function(){return be},Awj:function(){return q},C7j:function(){return Zi},Cc1:function(){return Ut},Eo9:function(){return yt},F1S:function(){return N},FL3:function(){return ye},GwY:function(){return sa},H3n:function(){return M},H_y:function(){return Aa},IwG:function(){return Or},KQG:function(){return Bt},Kkx:function(){return G},LlV:function(){return na},M58:function(){return ri},NsA:function(){return te},P_5:function(){return Qa},RrR:function(){return oe},TQL:function(){return dt},U$u:function(){return K},UAC:function(){return Yt},UCJ:function(){return ir},Upn:function(){return Ue},VFg:function(){return Ft},VRY:function(){return xa},VSH:function(){return Ye},VTu:function(){return Ot},WL3:function(){return W},WWC:function(){return mi},XRk:function(){return Tt},XVx:function(){return Rt},Xfb:function(){return hr},YA8:function(){return Oe},aWu:function(){return Wt},bFC:function(){return Pe},ckf:function(){return Ma},dKN:function(){return Hi},elY:function(){return Ea},faH:function(){return ae},fke:function(){return Z},ftA:function(){return ee},g3O:function(){return I},gMq:function(){return da},hCh:function(){return Fa},hGr:function(){return A},htK:function(){return ie},iXZ:function(){return Ke},iuU:function(){return k},jJX:function(){return pe},kJo:function(){return Ge},kdg:function(){return nt},m5F:function(){return Cr},m7e:function(){return fe},np7:function(){return bt},nue:function(){return lr},oq_:function(){return le},pj3:function(){return yr},q0O:function(){return wa},q4D:function(){return j},qdh:function(){return Ne},qq3:function(){return B},rAF:function(){return U},s4x:function(){return oa},sE2:function(){return J},tCF:function(){return za},tji:function(){return Na},ugh:function(){return dr},ukM:function(){return rt},v0X:function(){return Ha},vqL:function(){return qe},x7c:function(){return Y},xSu:function(){return Se},yfQ:function(){return Ce},z1y:function(){return Te}});var L,e=t(973188),l=t(986458),o=t(389731),d=t(38488),v=t(234681),S=t(682701),h=t(817611),c=t(963177),r=t(175680),s=t(833126),u=t(214123),i=t(871879),a=t(327901),n=t(983207),m=t(498342),f=t(812454),V=t(204553),p=t(414745),C=t(512322),b=t(960514),y=t(864185),D=t(520469),P=t(222415),F=t(249039),E=t(47507),w=t(378099),x=t(354623),R=t(979868),g=t(643293),M={v1_0:"1.0",v2_0:"2.0",v2_2:"2.2",v2_3:"2.3",v2_5:"2.5",v3_0:"3.0",v3_1:"3.1",v3_2:"3.2",v3_3:"3.3",v3_4:"3.4",v3_5:"3.5",v3_6:"3.6",v3_6_1:"3.6.1",v3_7:"3.7",v3_8:"3.8",v3_9:"3.9",v3_10:"3.10",v3_11:"3.11",v3_12:"3.12",v3_12_1:"3.12.1",v3_13:"3.13",v3_14:"3.14",v3_14_1:"3.14.1",v3_15:"3.15",v3_16:"3.16",v3_17:"3.17",v3_18:"3.18",v3_19:"3.19",v3_20:"3.20",v3_21:"3.21",v3_22:"3.22",v3_23:"3.23",v3_24:"3.24",v4_0:"4.0",v4_1:"4.1",v4_2:"4.2",v5_0:"5.0",v5_1:"5.1",v5_2:"5.2",v5_3:"5.3",v5_4:"5.4",v5_5:"5.5",v5_6:"5.6",v5_7:"5.7",v5_8:"5.8",v5_9:"5.9",v5_10:"5.10",v5_11:"5.11",v5_12:"5.12",v5_13:"5.13",v5_14:"5.14",v5_15:"5.15",v5_16:"5.16",v5_17:"5.17",v5_18:"5.18",v5_19:"5.19",v5_20:"5.20",v5_21:"5.21",v5_22:"5.22",v5_23:"5.23",v5_24:"5.24",v5_25:"5.25",v5_26:"5.26",v5_27:"5.27",v5_28:"5.28",v5_29:"5.29",v5_30:"5.30",v5_31:"5.31",v5_32:"5.32",v5_33:"5.33",v5_34:"5.34",v5_35:"5.35",v5_36:"5.36",v5_37:"5.37",v5_38:"5.38",v5_39:"5.39",v5_40:"5.40",v5_41:"5.41",v5_42:"5.42",v5_43:"5.43",v5_44:"5.44",v5_45:"5.45",v5_46:"5.46",v5_47:"5.47",v5_48:"5.48",v5_49:"5.49",v5_50:"5.50"},T={};T[41]=M.v3_5,T[42]=M.v3_7,T[33]=M.v3_8;var O=function(Lr){function Fr(Nr){var wr=Lr.call(this)||this;return wr.highestVersion=Nr,wr}return(0,e.__extends)(Fr,Lr),Fr.prototype.visitAllRolesRef=function(Nr){this.highestVersion=(0,o.Fp)(this.highestVersion,M.v5_1),Lr.prototype.visitAllRolesRef.call(this,Nr)},Fr.prototype.visitRangePercent=function(Nr){this.highestVersion=(0,o.Fp)(this.highestVersion,M.v5_1),Lr.prototype.visitRangePercent.call(this,Nr)},Fr.prototype.visitArithmetic=function(Nr){(0,R.g5)(Nr.right)||(this.highestVersion=(0,o.Fp)(this.highestVersion,M.v5_15)),Lr.prototype.visitArithmetic.call(this,Nr)},Fr.prototype.visitSparklineData=function(Nr){this.highestVersion=(0,o.Fp)(this.highestVersion,Me),Lr.prototype.visitSparklineData.call(this,Nr)},Fr}(b.PA),N=function(){function Lr(){}return Lr.getVersionForSQExpr=function(Fr){m.fF.assertValue(Fr,"expr should exist to get its version");var Nr=T[Fr.kind]||o.aD,wr=new O(Nr);return Fr.accept(wr),wr.highestVersion},Lr.getVersionForSQExprWithDescriptor=function(Fr,Nr){m.fF.assertValue(Fr,"expr should exist to get its version"),m.fF.assertAnyValue(Nr,"typeDescriptor can be undefined in an unloaded custom visual");var wr=this.getVersionForSQExpr(Fr);return Nr&&Nr.fill&&Nr.fill.solid&&Nr.fill.solid.color&&(wr=(0,o.Fp)(wr,this.getVersionForFillDefinition(Fr))),wr},Lr.getVersionForFillDefinition=function(Fr){if(m.fF.assertValue(Fr,"expr should exist to get its version"),(0,R.Tu)(Fr)&&Fr.input&&!(0,R.NH)(Fr.input))return re;if((0,R.Gs)(Fr)){var Nr=function(qr){return(0,R.$Q)(qr)&&!(0,R.NH)(qr.left)};if(_.some(Fr.cases,function(jr){return jr.condition.isOrdinalEvaluation()}))return Ti;if(_.some(Fr.cases,function(jr){return!!(Nr(qr=jr.condition)||(0,R.un)(qr)&&(Nr(qr.left)||Nr(qr.right)));var qr}))return re}return(0,R.kb)(Fr)||(0,R.iV)(Fr)?Je:o.aD},Lr.getVersionForSortDefinitions=function(Fr){if(!_.isEmpty(Fr))for(var Nr=0,wr=Fr;Nr<wr.length;Nr++)if((0,R.g5)(wr[Nr].expr))return M.v5_23;return o.aD},Lr.getVersionForVisualContainerGroup=function(Fr){return Fr.objects&&void 0!==Fr.objects.lockAspect?pr:Pe},Lr}(),A=M.v3_6,I=M.v3_6,B=M.v3_7,U=M.v3_8,W=M.v3_8,j=M.v3_8,K=M.v3_8,ee=M.v3_9,ie=M.v3_10,he=M.v3_11,q=M.v3_11,Y=M.v3_12,G=M.v3_13,me=M.v3_13,re=M.v3_14,le=M.v3_14,Ee=M.v3_15,Ne=M.v3_15,Ye=M.v3_17,Je=M.v3_17,pe=M.v3_18,fe=M.v3_19,oe=M.v3_20,ye=M.v3_20,Ce=M.v3_20,Be=M.v3_20,be=M.v3_20,Te=M.v3_20,ve=M.v3_21,Re=M.v3_21,Ke=M.v3_22,mt=M.v3_22,He=M.v3_22,ke=M.v3_23,ft=M.v3_23,Le=M.v3_23,Q=M.v3_23,Ue=M.v3_23,ae=M.v3_23,Se=M.v3_24,nt=M.v3_24,vt=M.v3_24,We=M.v4_0,de=M.v4_2,te=M.v4_2,Ve=M.v4_2,xe=M.v4_2,Z=M.v4_2,J=M.v4_2,Fe=M.v5_0,ze=M.v5_1,rt=M.v5_2,Oe=M.v5_2,Pe=M.v5_2,X=M.v5_3,we=M.v5_3,Ze=M.v5_3,et=M.v5_4,at=M.v5_5,St=M.v5_6,Ie=M.v5_7,qe=M.v5_8,bt=M.v5_8,It=M.v5_8,Rt=M.v5_8,zt=M.v5_8,Kt=M.v5_9,Yt=M.v5_9,ir=M.v5_9,lr=M.v5_9,dr=M.v5_9,br=M.v5_9,Cr=M.v5_10,pt=M.v5_10,Ut=M.v5_11,er=M.v5_11,Pr=M.v5_12,mr=M.v5_12,gr=M.v5_13,xr=M.v5_13,Vr=M.v5_13,Qr=M.v5_14,Gr=M.v5_14,Jr=M.v5_14,Yr=M.v5_15,Zr=M.v5_15,Or=M.v5_15,Ur=M.v5_15,zr=M.v5_15,lt=M.v5_16,ct=M.v5_16,Tt=M.v5_16,ot=M.v5_16,it=M.v5_16,ht=M.v5_16,yt=M.v5_17,Ft=M.v5_18,kt=M.v5_18,Gt=M.v5_18,ar=M.v5_19,sr=M.v5_19,pr=M.v5_19,fr=M.v5_19,Mr=M.v5_20,hr=M.v5_20,Ir=M.v5_20,Pt=M.v5_20,dt=M.v5_21,ue=M.v5_21,k=M.v5_22,se=M.v5_22,Ae=M.v5_22,$e=M.v5_22,Et=M.v5_22,Nt=M.v5_22,Bt=M.v5_23,Qt=M.v5_23,$t=M.v5_23,ur=M.v5_24,or=M.v5_24,Ar=M.v5_24,Ge=M.v5_24,ut=M.v5_25,Vt=M.v5_25,Dt=M.v5_25,Mt=M.v5_26,Ot=M.v5_26,Wt=M.v5_27,Xt=M.v5_27,tr=M.v5_27,Lt=M.v5_27,nr=M.v5_27,yr=M.v5_27,_r=M.v5_28,Dr=M.v5_28,jt=M.v5_28,Me=M.v5_28,At=M.v5_30,st=M.v5_30,xt=M.v5_31,_t=M.v5_31,Zt=M.v5_31,qt=M.v5_31,Er=M.v5_31,Br=M.v5_31,ii=M.v5_31,pi=M.v5_31,si=M.v5_31,di=M.v5_31,Hi=M.v5_32,Pi=M.v5_33,Gi=M.v5_33,Mi=M.v5_33,Qi=M.v5_33,xi=M.v5_34,Ni=M.v5_34,li=M.v5_34,Ri=M.v5_34,Xi=M.v5_34,ha=M.v5_34,_i=M.v5_35,Zi=M.v5_36,sa=M.v5_36,ji=M.v5_37,ya=M.v5_39,la=M.v5_39,qi=M.v5_40,ea=M.v5_40,ta=M.v5_40,Ii=M.v5_41,zi=M.v5_41,fi=M.v5_41,Ti=M.v5_41,ra=M.v5_41,vi=M.v5_42,ia=M.v5_42,Ea=M.v5_43,Pa=M.v5_44,Ma=M.v5_44,aa=M.v5_44,Wa=M.v5_44,ga=M.v5_46,Ji=M.v5_46,ua=M.v5_47,Ta=M.v5_48,Oi=M.v5_49,ja=M.v5_49,ti=M.v5_50,Fa=M.v5_50,wa=M.v5_50,Sa=E.t,Aa=E.t,ba=E.t,za=E.t,Fi=E.t,na=E.t,xa=E.t,Na=E.t,ca=E.t,Li=E.t,oa=((L={})[w.xm]=M.v5_29,L[w.wh]=M.v5_30,L[w.LL]=M.v5_31,L[w.Ny]=M.v5_32,L[w.M5]=M.v5_33,L[w.zW]=M.v5_34,L[w.RT]=M.v5_35,L[w.ur]=M.v5_37,L[w.I8]=M.v5_39,L[w.nx]=M.v5_40,L[w.eA]=M.v5_41,L[w.XS]=M.v5_42,L[w.X2]=M.v5_43,L[w.$j]=M.v5_45,L[w.Vb]=M.v5_46,L[w.$K]=M.v5_47,L[w._b]=M.v5_48,L[w.ud]=M.v5_49,L[w.sZ]=M.v5_50,L),da=["barChart","clusteredBarChart","clusteredColumnChart","columnChart","funnel","hundredPercentStackedBarChart","hundredPercentStackedColumnChart","lineStackedColumnComboChart","lineClusteredColumnComboChart","map","filledMap","shapeMap","scatterChart"],wi=[g.D.barChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.ribbonChart],Vi=[g.D.clusteredBarChart,g.D.clusteredColumnChart],fa=[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart],Bi=[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart],Ra=[g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart],mi=(0,e.__spreadArray)([],Bi,!0),yi=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),wi,!0),fa,!0),bi=(0,e.__spreadArray)((0,e.__spreadArray)([],yi,!0),mi,!0),$r=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),wi,!0),fa,!0),Bi,!0),[g.D.realTimeLineChart,g.D.scatterChart,g.D.waterfallChart],!1),Ia=_.without($r,g.D.realTimeLineChart,g.D.scatterChart),Ui=_.without($r,g.D.realTimeLineChart),Ya=[g.D.stackedAreaChart,g.D.columnChart,g.D.clusteredColumnChart,g.D.barChart,g.D.clusteredBarChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart],Ka=[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart],Za=((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),wi,!0),Bi,!0),[g.D.lineChart],!1),[g.D.azureMap,g.D.filledMap,g.D.heatMap,g.D.map]),ri=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],wi,!0),Vi,!0),fa,!0),Bi,!0),qa=(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([{property:{objectName:"general",propertyName:"altText"},version:M.v3_1},{property:{objectName:"visualLink",propertyName:"type"},version:M.v3_5},{property:{objectName:"visualLink",propertyName:"type",matchByContents:function(Fr){return Fr.value===F.rp}},version:A},{property:{objectName:"labels",propertyName:"enableBackground"},version:M.v3_9},{property:{objectName:"labels",propertyName:"backgroundColor"},version:M.v3_9},{property:{objectName:"labels",propertyName:"backgroundTransparency"},version:M.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelEnableBackground"},version:M.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundColor"},version:M.v3_9},{property:{objectName:"categoryLabels",propertyName:"labelBackgroundTransparency"},version:M.v3_9},{property:{objectName:"dateRange",propertyName:"anchorDate"},version:M.v3_9},{property:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},version:M.v3_9},{property:{objectName:"categoryAxis",propertyName:"innerPadding"},version:M.v3_9},{property:{objectName:"columnFormatting",propertyName:"labelDisplayUnits"},version:M.v3_12},{property:{objectName:"columnFormatting",propertyName:"labelPrecision"},version:M.v3_12},{property:{objectName:"visualTooltip",propertyName:"type",matchByContents:function(Fr){return Fr.value===P.Xz}},version:Y},{property:{objectName:"lineStyles",propertyName:"lineStyle"},version:M.v3_13,types:[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:M.v3_13,types:[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"defaultToCircle"},version:M.v3_13,types:[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart]},{property:{objectName:"legend",propertyName:"matchLineColor"},version:M.v3_13,types:[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart]},{property:{objectName:"visualLink",propertyName:"type",matchByContents:function(Fr){return Fr.value===F.sv}},version:me},{property:{objectName:"labels",propertyName:"funnelLabelStyle"},version:M.v3_14,types:[g.D.funnel]},{property:{objectName:"dataPoint",propertyName:"fillRule",matchByContents:_a},version:M.v3_15},{property:{objectName:"values",propertyName:"backColor",matchByContents:_a},version:M.v3_15},{property:{objectName:"values",propertyName:"fontColor",matchByContents:_a},version:M.v3_15},{property:{objectName:"outspace",propertyName:l.p5},version:Ee,types:["page"]},{property:{objectName:"visualHeader",propertyName:l.p5},version:Ne},{property:{objectName:"visualTooltip",propertyName:"show"},version:M.v3_16},{property:{objectName:"categoryAxis",propertyName:"axisType",matchByContents:function(Fr){return Fr.value===r.Pf}},version:pe,types:[g.D.scatterChart]},{property:{objectName:"searchBox",propertyName:l.p5},version:M.v3_19,types:[g.D.slicer]},{property:{objectName:"rowHeaders",propertyName:"showExpandCollapseButtons"},version:oe,types:[g.D.pivotTable]},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(Fr,Nr){return Nr&&Nr.data&&1===Nr.data.length&&(0,f.qm)(Nr.data[0])}},version:ye,types:da},{property:{objectName:"filterCard",propertyName:l.p5},version:Be,types:["page"]},{property:{objectName:"outspacePane",propertyName:l.p5},version:Be,types:["page"]},{property:{objectName:"outspacePane",propertyName:"expanded"},version:Be,types:["report"]},{property:{objectName:"outspacePane",propertyName:"visible"},version:Be,types:["report"]},{property:{objectName:"visualLink",propertyName:"tooltip"},version:ve},{property:{objectName:"general",propertyName:"requireSingleSelect"},version:Re,types:["filter"]},{property:{objectName:"title",propertyName:"titleWrap"},version:mt},{property:{objectName:"border",propertyName:"radius"},version:He},{property:{objectName:"visualLink",propertyName:"webUrl"},version:ke},{property:{objectName:"selection",propertyName:"strictSingleSelect"},version:ft,types:[g.D.slicer]},{property:{objectName:"visualTooltip",propertyName:"fontColor"},version:Le},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:Le},{property:{objectName:"visualTooltip",propertyName:"fontFamily"},version:Le},{property:{objectName:"visualTooltip",propertyName:"background"},version:Le},{property:{objectName:"visualTooltip",propertyName:"transparency"},version:Le},{property:{objectName:"displayArea",propertyName:"verticalAlignment"},version:Q,types:["page"]},{property:{objectName:"section",propertyName:"verticalAlignment"},version:Q,types:["report"]},{property:{objectName:"title",propertyName:"text",isExprBound:!0},version:We},{property:{objectName:"indicator",propertyName:"fontSize"},version:M.v4_1,types:[g.D.kpi]},{property:{objectName:"labels",propertyName:"labelPosition"},version:M.v4_1,types:[g.D.lineChart]},{property:{objectName:"title",propertyName:"fontColor",matchByContents:function(Fr,Nr){var jr=Fr&&Fr.solid&&Fr.solid.color;return!((0,R.VC)(jr)||(0,R.wt)(jr))}},version:de},{property:{objectName:"title",propertyName:"background",matchByContents:function(Fr,Nr){var jr=Fr&&Fr.solid&&Fr.solid.color;return!((0,R.VC)(jr)||(0,R.wt)(jr))}},version:de},{property:{objectName:"labels",propertyName:"color",matchByContents:function(Fr,Nr){var jr=Fr&&Fr.solid&&Fr.solid.color;return!((0,R.VC)(jr)||(0,R.wt)(jr))}},version:de,types:[g.D.card]},{property:{objectName:"categoryLabels",propertyName:"color",matchByContents:function(Fr,Nr){var jr=Fr&&Fr.solid&&Fr.solid.color;return!((0,R.VC)(jr)||(0,R.wt)(jr))}},version:de,types:[g.D.card]},{property:{objectName:"subTotals",propertyName:"rowSubtotalsLabel"},types:[g.D.pivotTable],version:M.v4_2},{property:{objectName:"subTotals",propertyName:"columnSubtotalsLabel"},types:[g.D.pivotTable],version:M.v4_2},{property:{objectName:"subTotals",propertyName:"levelSubtotalLabel"},types:[g.D.pivotTable],version:M.v4_2},{property:{objectName:"total",propertyName:"label"},types:[g.D.tableEx],version:M.v4_2},{property:{objectName:"visualHeader",propertyName:"showTooltipButton"},version:xe},{property:{objectName:"visualHeaderTooltip",propertyName:"section"},version:xe},{property:{objectName:"visualHeaderTooltip",propertyName:"text"},version:xe},{property:{objectName:"visualHeaderTooltip",propertyName:"titleFontColor"},version:xe},{property:{objectName:"visualHeaderTooltip",propertyName:"fontSize"},version:xe},{property:{objectName:"visualHeaderTooltip",propertyName:"fontFamily"},version:xe},{property:{objectName:"visualHeaderTooltip",propertyName:"background"},version:xe},{property:{objectName:"visualHeaderTooltip",propertyName:"transparency"},version:xe},{property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(Fr,Nr){return!(0,R.VC)(Fr&&Fr.solid&&Fr.solid.color)}},version:Ve,types:[g.D.gauge]},{property:{objectName:"background",propertyName:"color",matchByContents:function(Fr,Nr){var jr=Fr&&Fr.solid&&Fr.solid.color;return!((0,R.VC)(jr)||(0,R.wt)(jr))}},version:Fe},{property:{objectName:"keyDrivers",propertyName:"allowKeyDriversCounting",matchByContents:function(Fr){return!0===Fr.value}},version:ze},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"values",propertyName:"icon"},version:M.v5_1},{property:{objectName:"text",propertyName:"fontFamily"},types:[g.D.textbox],version:M.v5_3},{property:{objectName:"text",propertyName:"fontSize"},types:[g.D.textbox],version:M.v5_3},{property:{objectName:"text",propertyName:"color"},types:[g.D.textbox],version:M.v5_3},{property:{objectName:"general",propertyName:"altText",isExprBound:!0},version:we},{property:{objectName:"border",propertyName:"color",isExprBound:!0},version:X},{property:{objectName:"dataPoint",propertyName:"target",isExprBound:!0},version:Ze,types:[g.D.gauge]},{property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:Ze,types:[g.D.gauge]},{property:{objectName:"target",propertyName:"color",isExprBound:!0},version:Ze,types:[g.D.gauge]},{property:{objectName:"calloutValue",propertyName:"color",isExprBound:!0},version:Ze,types:[g.D.gauge]},{property:{objectName:"pageRefresh",propertyName:"show"},version:et,types:["page"]},{property:{objectName:"pageRefresh",propertyName:"duration"},version:et,types:["page"]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:at,types:[g.D.actionButton]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:at,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"lineColor",isExprBound:!0},version:at,types:[g.D.actionButton]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:at,types:[g.D.actionButton]},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:at,types:[g.D.actionButton]},{property:{objectName:"visualLink",propertyName:"tooltip",isExprBound:!0},version:at},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"fontFamily"},version:St},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"fontColor"},version:St},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"verticalAlignment"},version:St},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"horizontalAlignment"},version:St},{types:[g.D.kpi],property:{objectName:"trendline",propertyName:"transparency"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"goalText"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"fontSize"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"goalFontFamily"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"goalFontColor"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"distanceLabel"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"percentageLabelPrecision"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"titleFontSize"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"distanceFontFamily"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"distanceFontColor"},version:St},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"direction"},version:St},{types:[g.D.kpi],property:{objectName:"period",propertyName:"show"},version:St},{types:[g.D.kpi],property:{objectName:"period",propertyName:"fontSize"},version:St},{types:[g.D.kpi],property:{objectName:"period",propertyName:"periodFontFamily"},version:St},{types:[g.D.kpi],property:{objectName:"period",propertyName:"periodFontColor"},version:St},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"values",propertyName:"webURL"},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.categoryLabels,propertyName:d.hq.categoryLabelFontColor},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.categoryLabels,propertyName:d.hq.categoryLabelFontFamily},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.categoryLabels,propertyName:d.hq.categoryLabelFontSize},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataLabels,propertyName:d.hq.dataLabelFontColor},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataLabels,propertyName:d.hq.dataLabelFontFamily},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataLabels,propertyName:d.hq.dataLabelFontSize},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataLabels,propertyName:d.hq.dataLabelDisplayUnits},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataLabels,propertyName:d.hq.dataLabelPrecision},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataBars,propertyName:d.hq.dataBarBackgroundColor},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataBars,propertyName:d.hq.dataBarWidthPercent},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.levelHeaderBackgroundColor},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.levelTitleFontColor},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.levelTitleFontFamily},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.levelTitleFontSize},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.levelSubtitleFontColor},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.levelSubtitleFontFamily},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.levelSubtitleFontSize},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.levelHeader,propertyName:d.hq.showSubtitles},version:M.v5_6},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.tree,propertyName:d.hq.connectorDefaultColor},version:M.v5_6},{types:["page"],property:{objectName:"outspacePane",propertyName:"inputBoxColor"},version:Ie},{types:["page"],property:{objectName:"outspacePane",propertyName:"searchTextSize"},version:Ie},{types:[g.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection"},version:M.v5_8},{types:[g.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection"},version:M.v5_8},{property:{objectName:"y2Axis",propertyName:"show"},version:zt},{property:{objectName:"y2Axis",propertyName:"secAxisLabel"},version:zt},{property:{objectName:"y2Axis",propertyName:"secLogAxisScale"},version:zt},{property:{objectName:"y2Axis",propertyName:"secStart"},version:zt},{property:{objectName:"y2Axis",propertyName:"secEnd"},version:zt},{property:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},version:zt},{property:{objectName:"y2Axis",propertyName:"secAxisStyle"},version:zt},{property:{objectName:"y2Axis",propertyName:"secLabelColor"},version:zt},{property:{objectName:"y2Axis",propertyName:"secFontFamily"},version:zt},{property:{objectName:"y2Axis",propertyName:"secFontSize"},version:zt},{property:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},version:zt},{property:{objectName:"y2Axis",propertyName:"secLabelPrecision"},version:zt},{property:{objectName:"y2Axis",propertyName:"secTitleColor"},version:zt},{property:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},version:zt},{property:{objectName:"y2Axis",propertyName:"secTitleFontSize"},version:zt},{property:{objectName:"y2Axis",propertyName:"secTitleText"},version:zt},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.tree,propertyName:d.hq.barsPerLevel},version:It},{types:["page"],property:{objectName:"pageRefresh",propertyName:"refreshType"},version:Kt},{property:{objectName:"visualHeader",propertyName:"showPersonalizeVisualButton"},version:ir},{property:{objectName:"general",propertyName:"isInvertedSelectionMode"},version:br,types:["filter"]},{types:[g.D.slicer],property:{objectName:"data",propertyName:"mode",matchByContents:function(Fr){return Fr.value===a.GV}},version:lr},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"backColor",matchByContents:function(Fr,Nr){return void 0!==Ca(Nr)}},version:M.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"fontColor",matchByContents:function(Fr,Nr){return void 0!==Ca(Nr)}},version:M.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"icon",matchByContents:function(Fr,Nr){var wr=Ca(Nr);return void 0!==wr&&1!==wr}},version:M.v5_9},{types:["tableEx","pivotTable"],property:{objectName:"values",propertyName:"webURL",matchByContents:function(Fr,Nr){var wr=Ca(Nr);return void 0!==wr&&1!==wr}},version:M.v5_9},{types:[g.D.actionButton],property:{objectName:"fill",propertyName:"image"},version:M.v5_10},{types:[g.D.actionButton],property:{objectName:"visualLink",propertyName:"enabledTooltip",isExprBound:!0},version:M.v5_10},{types:[g.D.actionButton],property:{objectName:"visualLink",propertyName:"disabledTooltip",isExprBound:!0},version:M.v5_10},{types:[g.D.actionButton],property:{objectName:"visualLink",propertyName:"drillthroughSection",isExprBound:!0},version:M.v5_10},{types:[g.D.actionButton],property:{objectName:"visualLink",propertyName:"navigationSection",isExprBound:!0},version:M.v5_10},{types:[g.D.image,g.D.basicShape],property:{objectName:"visualLink",propertyName:"navigationSection"},version:M.v5_10},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"items",propertyName:"steppedLayoutIndentation"},version:M.v5_10},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"items",propertyName:"expandCollapseToggleType"},version:M.v5_10},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"iconSize"},version:pt},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"showIcon"},version:pt},{types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"showAllDataPoints"},version:Ut},{types:[g.D.map,g.D.filledMap,g.D.heatMap],property:{objectName:"dataPoint",propertyName:"transparency"},version:er},{types:[g.D.map,g.D.filledMap,g.D.heatMap],property:{objectName:"mapControls",propertyName:"minZoom"},version:er},{types:[g.D.map,g.D.filledMap,g.D.heatMap],property:{objectName:"mapControls",propertyName:"maxZoom"},version:er},{types:[g.D.map,g.D.filledMap,g.D.heatMap],property:{objectName:"mapStyles",propertyName:"showLabels"},version:er},{types:[g.D.filledMap],property:{objectName:"stroke",propertyName:"show"},version:er},{types:[g.D.filledMap],property:{objectName:"stroke",propertyName:"strokeColor"},version:er},{types:[g.D.filledMap],property:{objectName:"stroke",propertyName:"strokeWidth"},version:er},{types:[g.D.textbox],property:(0,e.__assign)((0,e.__assign)({},S.RL.general.paragraphs),{matchByContents:function(Fr,Nr){if((0,D.Fq)(Fr))for(var wr=0,jr=Fr;wr<jr.length;wr++){var qr=jr[wr];if(qr&&!_.isEmpty(qr.textRuns))for(var ni=0,ui=qr.textRuns;ni<ui.length;ni++)if((0,y.Kt)(ui[ni]))return!0}return!1}}),version:Pr},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.tree,propertyName:d.hq.defaultClickAction},version:mr},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.tree,propertyName:d.hq.responsiveLayout},version:mr},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.tree,propertyName:d.hq.effectiveBarsPerLevel},version:mr},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataBars,propertyName:d.hq.dataBarColor},version:mr},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataBars,propertyName:d.hq.axisStart},version:mr},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.dataBars,propertyName:d.hq.axisEnd},version:mr},{types:[g.D.decompositionTreeVisual],property:{objectName:"general",propertyName:"formatString"},version:mr},{types:[g.D.qnaVisual],property:{objectName:"inputBox",propertyName:"warningColor"},version:xr},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"header",propertyName:"text"},version:Vr},{types:[g.D.barChart,g.D.columnChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.scatterChart],property:{objectName:"legend",propertyName:"showGradientLegend"},version:gr},{types:[g.D.qnaVisual],property:{objectName:"inputBox",propertyName:"commitButtonBackgroundColor"},version:Qr},{property:{objectName:"dropShadow",propertyName:"*"},version:Gr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"perspectiveRef"},version:Jr},{types:["page"],property:{objectName:"personalizeVisual",propertyName:"show"},version:Yr},{property:{objectName:"general",propertyName:"keepLayerOrder"},version:Zr},{property:S.RL.values.expr,types:[g.D.textbox],version:Ur},{property:S.RL.values.formatString,types:[g.D.textbox],version:Ur},{types:[g.D.areaChart,g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"show"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"color"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelDisplayUnits"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"labelPrecision"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"enableBackground"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundColor"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"backgroundTransparency"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontSize"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"fontFamily"},version:zr},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart],property:{objectName:"totals",propertyName:"showPositiveAndNegative"},version:zr},{property:{objectName:"outspacePane",propertyName:"checkboxAndApplyColor"},types:["page"],version:lt},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.show},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.transform},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.oR},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.displayName},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.markerShape},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.markerShapeSize},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.markerColor},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.confidenceBandStyle},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.transparency},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.MA.confidenceBandColor},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.CategoryValue},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.Value},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.ExpectedValue},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.ExpectedLow},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.ExpectedHigh},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.BatchStart},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.K1.BatchEnd},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.Bx},version:ct},{types:[g.D.lineChart],property:{objectName:h.xn,propertyName:h.It},version:ct},{types:[g.D.decompositionTreeVisual],property:{objectName:d.I8.insights,propertyName:d.hq.isAINode},version:it},{types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.scatterChart,g.D.stackedAreaChart],property:{objectName:"zoom",propertyName:"*"},version:ot},{types:yi,property:{objectName:"subheader",propertyName:"fontFamily"},version:Tt},{types:yi,property:{objectName:"subheader",propertyName:"fontSize"},version:Tt},{types:yi,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:Tt},{types:yi,property:{objectName:"subheader",propertyName:"alignment"},version:Tt},{types:yi,property:{objectName:"subheader",propertyName:"position"},version:Tt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:Tt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:Tt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:Tt},{property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:ht,types:[g.D.azureMap]},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:kt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:kt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:kt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:kt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:kt},{types:yi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:kt},{types:[g.D.map,g.D.filledMap,g.D.heatMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:Gt},{types:[g.D.azureMap],property:{objectName:"mapControls",propertyName:"showSelectionControl"},version:sr},{types:yi,property:{objectName:"subheader",propertyName:"titleWrap"},version:ar},{types:["group"],property:{objectName:"lockAspect",propertyName:"show"},version:pr},{types:[g.D.lineChart],property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:fr},{types:bi,property:{objectName:"smallMultiplesLayout",propertyName:"gridPadding"},version:Mr},{types:bi,property:{objectName:"smallMultiplesLayout",propertyName:"advancedPaddingOptions"},version:Mr},{types:bi,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingInner"},version:Mr},{types:bi,property:{objectName:"smallMultiplesLayout",propertyName:"columnPaddingOuter"},version:Mr},{types:bi,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingInner"},version:Mr},{types:bi,property:{objectName:"smallMultiplesLayout",propertyName:"rowPaddingOuter"},version:Mr},{types:mi,property:{objectName:"subheader",propertyName:"fontFamily"},version:hr},{types:mi,property:{objectName:"subheader",propertyName:"fontSize"},version:hr},{types:mi,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!1},version:hr},{types:mi,property:{objectName:"subheader",propertyName:"alignment"},version:hr},{types:mi,property:{objectName:"subheader",propertyName:"position"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"layoutType"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"rowCount"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"columnCount"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!1},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundTransparency"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineType"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineWidth"},version:hr},{types:mi,property:{objectName:"smallMultiplesLayout",propertyName:"gridLineStyle"},version:hr},{types:mi,property:{objectName:"subheader",propertyName:"titleWrap"},version:hr},{types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.scatterChart,g.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"invertAxis"},version:Pt},{types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.scatterChart,g.D.stackedAreaChart,g.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"invertAxis"},version:Pt},{types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.scatterChart,g.D.stackedAreaChart],property:{objectName:"y2Axis",propertyName:"secInvertAxis"},version:Pt},{types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.scatterChart,g.D.stackedAreaChart],property:{objectName:"valueAxis",propertyName:"secInvertAxis"},version:Pt},{property:{objectName:"visualTooltip",propertyName:"actionFontColor"},version:dt},{property:{objectName:"visualTooltip",propertyName:"themedTitleFontColor"},version:dt},{property:{objectName:"visualTooltip",propertyName:"themedValueFontColor"},version:dt},{property:{objectName:"visualTooltip",propertyName:"themedBackground"},version:dt},{property:{objectName:"fill",propertyName:"fillColor",isExprBound:!0},version:M.v5_21,types:[g.D.shape]},{property:{objectName:"outline",propertyName:"lineColor",isExprBound:!0},version:M.v5_21,types:[g.D.shape]},{property:{objectName:"text",propertyName:"text",isExprBound:!0},version:M.v5_21,types:[g.D.shape]},{property:{objectName:"text",propertyName:"fontColor",isExprBound:!0},version:M.v5_21,types:[g.D.shape]},{property:{objectName:"shadow",propertyName:"color",isExprBound:!0},version:M.v5_21,types:[g.D.shape]},{property:{objectName:"glow",propertyName:"color",isExprBound:!0},version:M.v5_21,types:[g.D.shape]},{types:[g.D.map,g.D.filledMap,g.D.heatMap],property:{objectName:"mapControls",propertyName:"showLassoButton"},version:ue},{types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"fill",matchByContents:function(Fr,Nr){return!Nr||Nr&&Nr.data&&1===Nr.data.length&&(0,f.qm)(Nr.data[0])}},version:Ae},{types:[g.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:function(Fr){if(Fr){var wr=Fr.name;if(wr)return wr.value===n.G}return!1}},version:se},{property:{objectName:"visualHeaderTooltip",propertyName:"themedTitleFontColor"},version:Et},{property:{objectName:"visualHeaderTooltip",propertyName:"themedBackground"},version:Et},{types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"dataPoint",propertyName:"transparency"},version:Nt},{types:bi,property:{objectName:"subheader",propertyName:"show"},version:$e},{types:bi,property:{objectName:"subheader",propertyName:"fontColor",isExprBound:!0},version:M.v5_22},{types:bi,property:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor",isExprBound:!0},version:M.v5_22},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.donutChart,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap],$r,!0),property:{objectName:"legend",propertyName:"labelColor",isExprBound:!0},version:Qt},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.donutChart,g.D.pieChart,g.D.funnel,g.D.map,g.D.filledMap,g.D.shapeMap],Ui,!0),property:{objectName:"dataPoint",propertyName:"fill",isExprBound:!0},version:Qt},{types:(0,e.__spreadArray)([g.D.donutChart,g.D.pieChart,g.D.funnel,g.D.map,g.D.filledMap,g.D.treemap],Ia,!0),property:{objectName:"labels",propertyName:"color",isExprBound:!0},version:Qt},{types:Ya,property:{objectName:"totals",propertyName:"color",isExprBound:!0},version:Qt},{types:[g.D.funnel],property:{objectName:"percentBarLabel",propertyName:"color",isExprBound:!0},version:Qt},{types:[g.D.funnel],property:{objectName:"categoryAxis",propertyName:"color",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"categoryAxis",propertyName:"start",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"categoryAxis",propertyName:"end",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"categoryAxis",propertyName:"titleColor",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"categoryAxis",propertyName:"gridlineColor",isExprBound:!0},version:Qt},{types:$r,property:{objectName:"categoryAxis",propertyName:"labelColor",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"valueAxis",propertyName:"start",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"valueAxis",propertyName:"end",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"valueAxis",propertyName:"titleColor",isExprBound:!0},version:Qt},{types:Ui,property:{objectName:"valueAxis",propertyName:"gridlineColor",isExprBound:!0},version:Qt},{types:$r,property:{objectName:"valueAxis",propertyName:"labelColor",isExprBound:!0},version:Qt},{types:Ka,property:{objectName:"valueAxis",propertyName:"secStart",isExprBound:!0},version:Qt},{types:Ka,property:{objectName:"valueAxis",propertyName:"secEnd",isExprBound:!0},version:Qt},{types:[g.D.areaChart,g.D.lineChart],property:{objectName:"y2Axis",propertyName:"secStart",isExprBound:!0},version:Qt},{types:[g.D.areaChart,g.D.lineChart],property:{objectName:"y2Axis",propertyName:"secEnd",isExprBound:!0},version:Qt},{types:[g.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"color",isExprBound:!0},version:Qt},{types:[g.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"color",isExprBound:!0},version:Qt},{types:[g.D.multiRowCard,g.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",isExprBound:!0},version:Qt},{types:[g.D.gauge],property:{objectName:"axis",propertyName:"min",isExprBound:!0},version:Qt},{types:[g.D.gauge],property:{objectName:"axis",propertyName:"max",isExprBound:!0},version:Qt},{types:[g.D.gauge],property:{objectName:"axis",propertyName:"target",isExprBound:!0},version:Qt},{types:[g.D.slicer],property:{objectName:"slider",propertyName:"color",isExprBound:!0},version:Qt},{types:[g.D.slicer],property:{objectName:"header",propertyName:"fontColor",isExprBound:!0},version:Qt},{types:[g.D.slicer],property:{objectName:"header",propertyName:"background",isExprBound:!0},version:Qt},{property:{objectName:"visualLink",propertyName:"showDefaultTooltip"},version:$t},{property:{objectName:"shape",propertyName:"arrowheadSize"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"arrowStemWidth"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"chevronAngle"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"parallelogramSlant"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"trapezoidSlant"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"hexagonSlant"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"octagonSnipSize"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleHeight"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailPosition"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"speechBubbleTailAngle"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"rectangleRoundedCurve"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerTop"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"shape",propertyName:"tabRoundCornerBottom"},version:ur,types:[g.D.shape,g.D.actionButton]},{property:{objectName:"xAxisReferenceLine",propertyName:"*"},version:or,types:[g.D.areaChart,g.D.columnChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineStackedColumnComboChart,g.D.lineClusteredColumnComboChart,g.D.ribbonChart,g.D.stackedAreaChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"value",isExprBound:!0},version:or,types:[g.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeRegion"},version:or,types:[g.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeColor"},version:or,types:[g.D.lineChart]},{property:{objectName:"xAxisReferenceLine",propertyName:"shadeTransparency"},version:or,types:[g.D.lineChart]},{property:{objectName:"title",propertyName:"heading"},version:Ar},{property:{objectName:"text",propertyName:"leftMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"text",propertyName:"rightMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"text",propertyName:"topMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"text",propertyName:"bottomMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"image"},version:ut,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"leftMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"rightMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"topMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"bottomMargin"},version:ut,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"placement"},version:ut,types:[g.D.actionButton]},{property:{objectName:"icon",propertyName:"iconSize"},version:ut,types:[g.D.actionButton]},{property:{objectName:"shape",propertyName:"*"},version:ut,types:[g.D.actionButton]},{property:{objectName:"shadow",propertyName:"*"},version:ut,types:[g.D.actionButton]},{property:{objectName:"glow",propertyName:"*"},version:ut,types:[g.D.actionButton]},{property:{objectName:"rotation",propertyName:"*"},version:ut,types:[g.D.actionButton]},{property:{objectName:"seriesLabels",propertyName:"*"},version:Vt,types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart]},{types:[g.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"totalsEnabled"},version:Dt},{types:[g.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"*"},version:Mt},{types:[g.D.pageNavigator,g.D.bookmarkNavigator],property:{objectName:"background",propertyName:"show"},version:Wt},{types:[g.D.pageNavigator,g.D.bookmarkNavigator],property:{objectName:"visualHeader",propertyName:"show"},version:Wt},{property:{objectName:"slices",propertyName:"startAngle"},version:nr,types:[g.D.donutChart,g.D.pieChart]},{types:[g.D.donutChart,g.D.pieChart],property:{objectName:"slices",propertyName:"borderWidth"},version:Xt},{types:[g.D.donutChart,g.D.pieChart],property:{objectName:"slices",propertyName:"borderColor"},version:Xt},{types:[g.D.donutChart,g.D.pieChart],property:{objectName:"slices",propertyName:"explode"},version:Xt},{types:[g.D.pieChart],property:{objectName:"slices",propertyName:"innerRadiusRatio"},version:Xt},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.donutChart,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap,g.D.heatMap],$r,!0),property:{objectName:"legend",propertyName:"bold"},version:Lt},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.donutChart,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap,g.D.heatMap],$r,!0),property:{objectName:"legend",propertyName:"italic"},version:Lt},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.donutChart,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap,g.D.heatMap],$r,!0),property:{objectName:"legend",propertyName:"underline"},version:Lt},{types:(0,e.__spreadArray)([g.D.funnel,g.D.scatterChart],$r,!0),property:{objectName:"categoryAxis",propertyName:"bold"},version:Lt},{types:(0,e.__spreadArray)([g.D.funnel,g.D.scatterChart],$r,!0),property:{objectName:"categoryAxis",propertyName:"italic"},version:Lt},{types:(0,e.__spreadArray)([g.D.funnel,g.D.scatterChart],$r,!0),property:{objectName:"categoryAxis",propertyName:"underline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"categoryAxis",propertyName:"titleBold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:Lt},{types:(0,e.__spreadArray)([g.D.scatterChart],$r,!0),property:{objectName:"valueAxis",propertyName:"bold"},version:Lt},{types:(0,e.__spreadArray)([g.D.scatterChart],$r,!0),property:{objectName:"valueAxis",propertyName:"italic"},version:Lt},{types:(0,e.__spreadArray)([g.D.scatterChart],$r,!0),property:{objectName:"valueAxis",propertyName:"underline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"titleBold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"titleItalic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"secBold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"secItalic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"secUnderline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"secTitleBold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"secTitleItalic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"valueAxis",propertyName:"secTitleUnderline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"y2Axis",propertyName:"secBold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"y2Axis",propertyName:"secItalic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"y2Axis",propertyName:"secUnderline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"y2Axis",propertyName:"secTitleBold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"y2Axis",propertyName:"secTitleItalic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"y2Axis",propertyName:"secTitleUnderline"},version:Lt},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.card,g.D.donutChart,g.D.funnel,g.D.gauge,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap],$r,!0),property:{objectName:"labels",propertyName:"bold"},version:Lt},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.card,g.D.donutChart,g.D.funnel,g.D.gauge,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap],$r,!0),property:{objectName:"labels",propertyName:"italic"},version:Lt},{types:(0,e.__spreadArray)([g.D.azureMap,g.D.card,g.D.donutChart,g.D.funnel,g.D.gauge,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap],$r,!0),property:{objectName:"labels",propertyName:"underline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"seriesLabels",propertyName:"bold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"seriesLabels",propertyName:"italic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"seriesLabels",propertyName:"underline"},version:Lt},{types:[g.D.azureMap,g.D.card,g.D.multiRowCard,g.D.donutChart,g.D.scatterChart,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap,g.D.heatMap],property:{objectName:"categoryLabels",propertyName:"bold"},version:Lt},{types:[g.D.azureMap,g.D.card,g.D.multiRowCard,g.D.donutChart,g.D.scatterChart,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap,g.D.heatMap],property:{objectName:"categoryLabels",propertyName:"italic"},version:Lt},{types:[g.D.azureMap,g.D.card,g.D.multiRowCard,g.D.donutChart,g.D.scatterChart,g.D.pieChart,g.D.map,g.D.filledMap,g.D.shapeMap,g.D.treemap,g.D.heatMap],property:{objectName:"categoryLabels",propertyName:"underline"},version:Lt},{types:[g.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"bold"},version:Lt},{types:[g.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"italic"},version:Lt},{types:[g.D.multiRowCard],property:{objectName:"dataLabels",propertyName:"underline"},version:Lt},{types:[g.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"bold"},version:Lt},{types:[g.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"italic"},version:Lt},{types:[g.D.multiRowCard],property:{objectName:"cardTitle",propertyName:"underline"},version:Lt},{types:[g.D.funnel],property:{objectName:"percentBarLabel",propertyName:"bold"},version:Lt},{types:[g.D.funnel],property:{objectName:"percentBarLabel",propertyName:"italic"},version:Lt},{types:[g.D.funnel],property:{objectName:"percentBarLabel",propertyName:"underline"},version:Lt},{types:[g.D.gauge],property:{objectName:"target",propertyName:"bold"},version:Lt},{types:[g.D.gauge],property:{objectName:"target",propertyName:"italic"},version:Lt},{types:[g.D.gauge],property:{objectName:"target",propertyName:"underline"},version:Lt},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Lt},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Lt},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Lt},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"bold"},version:Lt},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"italic"},version:Lt},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"underline"},version:Lt},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"titleBold"},version:Lt},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"titleItalic"},version:Lt},{types:[g.D.kpi],property:{objectName:"goals",propertyName:"titleUnderline"},version:Lt},{types:[g.D.kpi],property:{objectName:"lastDate",propertyName:"bold"},version:Lt},{types:[g.D.kpi],property:{objectName:"lastDate",propertyName:"italic"},version:Lt},{types:[g.D.kpi],property:{objectName:"lastDate",propertyName:"underline"},version:Lt},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"bold"},version:Lt},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"italic"},version:Lt},{types:[g.D.kpi],property:{objectName:"indicator",propertyName:"underline"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelBold"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelItalic"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"categoryLabels",propertyName:"categoryLabelUnderline"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelBold"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelItalic"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"dataLabels",propertyName:"dataLabelUnderline"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleBold"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleItalic"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelTitleUnderline"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleBold"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleItalic"},version:Lt},{types:[g.D.decompositionTreeVisual],property:{objectName:"levelHeader",propertyName:"levelSubtitleUnderline"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"subheader",propertyName:"bold"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"subheader",propertyName:"italic"},version:Lt},{types:(0,e.__spreadArray)([],$r,!0),property:{objectName:"subheader",propertyName:"underline"},version:Lt},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"columnHeaders",propertyName:"bold"},version:Lt},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"columnHeaders",propertyName:"italic"},version:Lt},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"columnHeaders",propertyName:"underline"},version:Lt},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"values",propertyName:"bold"},version:Lt},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"values",propertyName:"italic"},version:Lt},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"values",propertyName:"underline"},version:Lt},{types:[g.D.tableEx],property:{objectName:"total",propertyName:"bold"},version:Lt},{types:[g.D.tableEx],property:{objectName:"total",propertyName:"italic"},version:Lt},{types:[g.D.tableEx],property:{objectName:"total",propertyName:"underline"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"rowTotal",propertyName:"bold"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"rowTotal",propertyName:"italic"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"rowTotal",propertyName:"underline"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"columnTotal",propertyName:"bold"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"columnTotal",propertyName:"italic"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"columnTotal",propertyName:"underline"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"bold"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"italic"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"underline"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"subTotals",propertyName:"bold"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"subTotals",propertyName:"italic"},version:Lt},{types:[g.D.pivotTable],property:{objectName:"subTotals",propertyName:"underline"},version:Lt},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"bold"},version:Lt},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"italic"},version:Lt},{types:[g.D.barChart,g.D.columnChart,g.D.lineStackedColumnComboChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.stackedAreaChart],property:{objectName:"totals",propertyName:"underline"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionBold"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionItalic"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"inputBox",propertyName:"questionUnderline"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerBold"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerItalic"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"suggestions",propertyName:"headerUnderline"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardBold"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardItalic"},version:Lt},{types:[g.D.qnaVisual],property:{objectName:"suggestions",propertyName:"cardUnderline"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"header",propertyName:"bold"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"header",propertyName:"italic"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"header",propertyName:"underline"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"items",propertyName:"bold"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"items",propertyName:"italic"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"items",propertyName:"underline"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"date",propertyName:"bold"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"date",propertyName:"italic"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"date",propertyName:"underline"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"bold"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"italic"},version:Lt},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"numericInputStyle",propertyName:"underline"},version:Lt},{property:{objectName:"title",propertyName:"bold"},version:Lt},{property:{objectName:"title",propertyName:"italic"},version:Lt},{property:{objectName:"title",propertyName:"underline"},version:Lt},{property:{objectName:"visualTooltip",propertyName:"bold"},version:Lt},{property:{objectName:"visualTooltip",propertyName:"italic"},version:Lt},{property:{objectName:"visualTooltip",propertyName:"underline"},version:Lt},{types:[g.D.textbox],property:(0,e.__assign)((0,e.__assign)({},S.RL.general.paragraphs),{matchByContents:function(Fr,Nr){if((0,D.Fq)(Fr))for(var wr=0,jr=Fr;wr<jr.length;wr++){var qr=jr[wr];if(qr&&!_.isEmpty(qr.listType))return!0}return!1}}),version:tr},{types:[g.D.rdlVisual],property:{objectName:"toolbar",propertyName:"pageNavigation"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"toolbar",propertyName:"useFloatingToolbar"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"toolbar",propertyName:"openReportButton"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"toolbar",propertyName:"position"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"show"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportExcel"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportPDF"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportAccessiblePDF"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportCSV"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportPPTX"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportWord"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportMHTML"},version:Dr},{types:[g.D.rdlVisual],property:{objectName:"export",propertyName:"exportXML"},version:Dr},{property:v.A.scorecard.showCommandBar,types:[g.D.scorecard],version:jt},{types:[g.D.azureMap],property:{objectName:"heatMapLayer",propertyName:"mapTransparency"},version:_r},{types:[g.D.tableEx,g.D.pivotTable],property:{objectName:"sparklines",propertyName:"*"},version:Me},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"date",propertyName:"hideDatePickerButton"},version:st},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"items",propertyName:"padding"},version:st},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"items",propertyName:"accessibilityContrastProperties"},version:st},{types:[g.D.azureMap],property:{objectName:"mapControls",propertyName:"geocodingCulture"},version:At},{types:[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart],property:{objectName:"legend",propertyName:"legendMarkerRendering"},version:Br},{types:[g.D.tableEx,g.D.pivotTable],property:{objectName:"grid",propertyName:"outlineStyle"},version:di},{types:[g.D.tableEx,g.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineWeight"},version:di},{types:[g.D.tableEx,g.D.pivotTable],property:{objectName:"columnHeaders",propertyName:"outlineColor"},version:di},{types:[g.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineWeight"},version:di},{types:[g.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"outlineColor"},version:di},{types:[g.D.tableEx],property:{objectName:"total",propertyName:"outlineWeight"},version:di},{types:[g.D.tableEx],property:{objectName:"total",propertyName:"outlineColor"},version:di},{types:[g.D.tableEx,g.D.pivotTable],property:{objectName:"values",propertyName:"outlineWeight"},version:di},{types:[g.D.tableEx,g.D.pivotTable],property:{objectName:"values",propertyName:"outlineColor"},version:di},{property:{objectName:"visualHeaderTooltip",propertyName:"type"},version:pi},{property:{objectName:"legend",propertyName:"position",matchByContents:function(Fr,Nr){var jr=Fr&&Fr.value;return jr===i.f6||jr===i.hT}},version:Zt,types:[g.D.areaChart,g.D.azureMap,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.donutChart,g.D.filledMap,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.map,g.D.pieChart,g.D.ribbonChart,g.D.scatterChart,g.D.shapeMap,g.D.stackedAreaChart,g.D.treemap,g.D.waterfallChart]},{types:[g.D.pivotTable,g.D.tableEx],property:{objectName:"stylePreset",propertyName:"name",matchByContents:function(Fr){return Fr.value===c.pJ}},version:Gi},{types:[g.D.tableEx],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:Mi},{types:[g.D.tableEx],property:{objectName:"accessibility",propertyName:"rowWithReferenceText"},version:Qi},{types:[g.D.lineChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.lineStackedColumnComboChart,g.D.lineClusteredColumnComboChart,g.D.barChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.ribbonChart],property:{objectName:"error",propertyName:"*"},version:xi},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"fontFamily"},version:Ni},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"bold"},version:Ni},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"italic"},version:Ni},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"underline"},version:Ni},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"slider",propertyName:"handleBorderColor",isExprBound:!0},version:li},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"slider",propertyName:"handleFillColor",isExprBound:!0},version:li},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"slider",propertyName:"secondaryLineColor",isExprBound:!0},version:li},{types:[g.D.actionButton,g.D.shape,g.D.pageNavigator,g.D.bookmarkNavigator],property:{objectName:"text",propertyName:"italic"},version:Ri},{types:[g.D.actionButton,g.D.shape,g.D.pageNavigator,g.D.bookmarkNavigator],property:{objectName:"text",propertyName:"bold"},version:Ri},{types:[g.D.actionButton,g.D.shape,g.D.pageNavigator,g.D.bookmarkNavigator],property:{objectName:"text",propertyName:"underline"},version:Ri},{property:{objectName:"visualHeaderTooltip",propertyName:"bold"},version:Xi},{property:{objectName:"visualHeaderTooltip",propertyName:"italic"},version:Xi},{property:{objectName:"visualHeaderTooltip",propertyName:"underline"},version:Xi},{types:[g.D.azureMap],property:{objectName:"filledMap",propertyName:"*"},version:ha},{types:[g.D.scatterChart,g.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleItalic"},version:_i},{types:[g.D.scatterChart,g.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleBold"},version:_i},{types:[g.D.scatterChart,g.D.waterfallChart],property:{objectName:"categoryAxis",propertyName:"titleUnderline"},version:_i},{types:[g.D.scatterChart,g.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleItalic"},version:_i},{types:[g.D.scatterChart,g.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleBold"},version:_i},{types:[g.D.scatterChart,g.D.waterfallChart],property:{objectName:"valueAxis",propertyName:"titleUnderline"},version:_i},{types:[g.D.waterfallChart,g.D.treemap,g.D.lineChart,g.D.areaChart,g.D.columnChart,g.D.barChart,g.D.pieChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.donutChart,g.D.funnel,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineStackedColumnComboChart,g.D.lineClusteredColumnComboChart,g.D.ribbonChart,g.D.stackedAreaChart],property:{objectName:"labels",propertyName:"color",matchByContents:function(Fr,Nr){return!_.isEmpty(null==Nr?void 0:Nr.data)}},version:ji},{types:[g.D.treemap],property:{objectName:"categoryLabels",propertyName:"color",matchByContents:function(Fr,Nr){return!_.isEmpty(null==Nr?void 0:Nr.data)}},version:ji},{types:[g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineStackedColumnComboChart,g.D.stackedAreaChart,g.D.barChart,g.D.columnChart],property:{objectName:"totals",propertyName:"color",matchByContents:function(Fr,Nr){return!_.isEmpty(null==Nr?void 0:Nr.data)}},version:ji},{types:[g.D.barChart,g.D.columnChart,g.D.ribbonChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineStackedColumnComboChart,g.D.lineClusteredColumnComboChart,g.D.stackedAreaChart],property:{objectName:"categoryAxis",propertyName:"reverseStackOrder"},version:ya},{types:[g.D.shapeMap],property:{objectName:"shape",propertyName:"map",matchByContents:function(Fr){if(Fr){var wr=Fr.name;if(wr)return wr.value===n.sp}return!1}},version:la},{types:[g.D.azureMap],property:{objectName:"categoryLabels",propertyName:"*"},version:qi},{types:[g.D.azureMap],property:{objectName:"mapControls",propertyName:"showLabels"},version:ea},{types:bi,property:{objectName:"valueAxis",propertyName:"sharedAxis"},version:ta},{types:bi,property:{objectName:"valueAxis",propertyName:"scaleToFit"},version:ta},{property:{objectName:"visualHeader",propertyName:"showSmartNarrativeButton"},version:zi},{types:[g.D.tableEx,g.D.pivotTable],property:{objectName:"grid",propertyName:"imageWidth"},version:Ii},{types:[g.D.pageNavigator],property:{objectName:"pages",propertyName:"showByDefault"},version:Ii},{types:[g.D.pageNavigator],property:{objectName:"pages",propertyName:"showPage"},version:Ii},{types:[g.D.textbox],property:(0,e.__assign)((0,e.__assign)({},S.RL.general.paragraphs),{matchByContents:function(Fr,Nr){if((0,D.Fq)(Fr))for(var wr=0,jr=Fr;wr<jr.length;wr++){var qr=jr[wr];if(qr&&!_.isEmpty(qr.indent))return!0}return!1}}),version:fi},{types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showByDefault"},version:ra},{types:[g.D.areaChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.stackedAreaChart],property:{objectName:"seriesLabels",propertyName:"showByDefault"},version:ra},{types:[g.D.areaChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.stackedAreaChart],property:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},version:ra},{types:[g.D.lineChart,g.D.lineStackedColumnComboChart,g.D.lineClusteredColumnComboChart],property:{objectName:"error",propertyName:"showMarkerByDefault"},version:ra},{types:[g.D.barChart,g.D.hundredPercentStackedBarChart,g.D.clusteredBarChart],property:{objectName:"categoryAxis",propertyName:"concatenateLabels"},version:vi},{property:{objectName:"padding",propertyName:"*"},version:ia},{property:{objectName:"subTitle",propertyName:"*"},version:ia},{property:{objectName:"divider",propertyName:"*"},version:ia},{property:{objectName:"spacing",propertyName:"*"},version:ia},{types:Za,property:{objectName:"mapControls",propertyName:"geocodingCulture",matchByContents:function(Fr){return(0,u.xF)(Fr.value,u.ST.v2_0)}},version:Pa},{types:[g.D.barChart,g.D.columnChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.ribbonChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"labels",propertyName:"showDynamicLabels"},version:aa},{types:[g.D.barChart,g.D.columnChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.ribbonChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"labels",propertyName:"dynamicLabelValue"},version:aa},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"showDynamicLabels"},version:aa},{types:[g.D.gauge],property:{objectName:"calloutValue",propertyName:"dynamicLabelValue"},version:aa},{property:{objectName:"visualLink",propertyName:"tooltipPlaceholderText"},version:Wa},{types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart,g.D.lineStackedColumnComboChart,g.D.lineClusteredColumnComboChart],property:{objectName:"lineStyles",propertyName:"lineChartType"},version:ga},{types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"labels",propertyName:"leaderLines"},version:Ji},{types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"labels",propertyName:"minimumOffset"},version:Ji},{types:[g.D.lineChart,g.D.areaChart,g.D.stackedAreaChart],property:{objectName:"labels",propertyName:"maximumOffset"},version:Ji},{types:[g.D.scatterChart,g.D.map,g.D.heatMap],property:{objectName:"bubbles",propertyName:"markerRangeType"},version:ua},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"markerRangeType",matchByContents:function(Fr){return!(Fr.value===s.x9)}},version:Ta}],["fillTransparency","borderShow","borderSize","borderColor","borderColorMatchFill","borderPreset","borderTransparency","borderIntensity"].map(function(Lr){return{types:(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),wi,!0),Bi,!0),property:{objectName:"dataPoint",propertyName:Lr},version:Oi}}),!0),[{types:(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),wi,!0),Bi,!0),[g.D.stackedAreaChart],!1),property:{objectName:"layout",propertyName:"seriesOrderReversed"},version:Oi},{types:(0,e.__spreadArray)((0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),wi,!0),Bi,!0),property:{objectName:"layout",propertyName:"seriesOrderSorted"},version:Oi},{types:(0,e.__spreadArray)((0,e.__spreadArray)([],wi,!0),[g.D.lineStackedColumnComboChart],!1),property:{objectName:"layout",propertyName:"stackedGapSize"},version:Oi},{types:(0,e.__spreadArray)([g.D.barChart,g.D.columnChart,g.D.ribbonChart],Ra,!0),property:{objectName:"layout",propertyName:"stackedGapExplodes"},version:Oi},{types:[g.D.ribbonChart],property:{objectName:"layout",propertyName:"ribbonGapSize"},version:Oi},{types:[g.D.ribbonChart],property:{objectName:"ribbonBands",propertyName:"*"},version:Oi},{types:[g.D.ribbonChart],property:{objectName:"valueAxis",propertyName:"showAxisTitle"},version:Oi},{types:[g.D.pivotTable],property:{objectName:"accessibility",propertyName:"altTextColumns"},version:ja},{types:ri,property:{objectName:"labels",propertyName:"titleBold"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleColor"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleShowBlankAs"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleContentType"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"enableTitleDataLabel"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleFontFamily"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleFontSize"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleItalic"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"dynamicLabelTitle"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleTransparency"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleCustomFormatString"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"valueCustomFormatString"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleLabelPrecision"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"titleUnderline"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailBold"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailColor"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"dynamicLabelDetail"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"enableDetailDataLabel"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailFontFamily"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailFontSize"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailItalic"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailTransparency"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailUnderline"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailShowBlankAs"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailCustomFormatString"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailLabelPrecision"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"detailContentType"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"enableValueDataLabel"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"showBlankAs"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"transparency"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"wordWrap"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"labelContentLayout"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"optimizeLabelDisplay"},version:ti},{types:ri,property:{objectName:"labels",propertyName:"labelContainerMaxWidth"},version:ti},{types:[g.D.textbox],property:(0,e.__assign)((0,e.__assign)({},S.RL.general.paragraphs),{matchByContents:function(Fr,Nr){if((0,D.Fq)(Fr))for(var wr=0,jr=Fr;wr<jr.length;wr++){var qr=jr[wr];if(qr&&!_.isEmpty(qr.textRuns))for(var ni=0,ui=qr.textRuns;ni<ui.length;ni++){var ci=ui[ni];if((0,y.IM)(ci)&&ci.mentionEmail)return!0}}return!1}}),version:Sa},{types:[g.D.scorecard],property:{objectName:"scorecard",propertyName:"displayMode"},version:ba},{types:[g.D.scorecard],property:{objectName:"scorecard",propertyName:"goalIds"},version:ba},{types:[g.D.scorecard],property:{objectName:"visualization",propertyName:l.p5},version:ba},{types:[g.D.pivotTable],property:{objectName:"rowHeaders",propertyName:"expandCompositeHierarchy"},version:Aa},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"show"},version:Fi},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"color"},version:Fi},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"transparency"},version:Fi},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"position"},version:Fi},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"size"},version:Fi},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"showTooltip"},version:Fi},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipText"},version:Fi},{types:[g.D.slicer,g.D.filterSlicer],property:{objectName:"pendingChangesIcon",propertyName:"tooltipLabel"},version:Fi}],!1),["clusteredGapSize","clusteredGapOverlaps","clusteredGapOverlapReverse"].map(function(Lr){return{types:(0,e.__spreadArray)((0,e.__spreadArray)([],Vi,!0),[g.D.lineClusteredColumnComboChart],!1),property:{objectName:"layout",propertyName:Lr},version:ca}}),!0),[{types:(0,e.__spreadArray)((0,e.__spreadArray)([],wi,!0),[g.D.lineStackedColumnComboChart],!1),property:{objectName:"dataPoint",propertyName:"borderOutlineOnly"},version:ca},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},version:Li},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},version:Li},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},version:Li},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},version:Li},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},version:Li},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"},version:Li},{types:[g.D.azureMap],property:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},version:Li}],!1);function Ca(Lr){if(Lr&&!_.isEmpty(Lr.data)&&1===Lr.data.length&&(0,f.qm)(Lr.data[0]))return Lr.data[0].matchingOption}var en=["minColor","midColor","maxColor","nullColor"];function _a(Lr){if(Lr instanceof C.jz)return!!_.find(en,function(qr){return qr===Lr.value});if(Lr instanceof Object&&!(Lr instanceof Function))for(var Nr=0,wr=Object.keys(Lr);Nr<wr.length;Nr++)if(_a(Lr[wr[Nr]]))return!0;return!1}var Lr,Fr,Nr,Ha=(Lr=qa,Fr=[{currentId:{objectName:"dataPoint",propertyName:"fill"},previousId:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},version:M.v3_19,types:da},{currentId:{objectName:"columnTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontColor"},previousId:{objectName:"total",propertyName:"fontColor"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontFamily"},previousId:{objectName:"total",propertyName:"fontFamily"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"fontSize"},previousId:{objectName:"total",propertyName:"fontSize"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"bold"},previousId:{objectName:"total",propertyName:"bold"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"italic"},previousId:{objectName:"total",propertyName:"italic"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"underline"},previousId:{objectName:"total",propertyName:"underline"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"backColor"},previousId:{objectName:"total",propertyName:"backColor"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"columnTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"rowTotal",propertyName:"applyToHeaders"},previousId:{objectName:"total",propertyName:"applyToHeaders"},types:[g.D.pivotTable],version:si,featureSwitch:"splitGrandTotals"},{currentId:{objectName:"visualLink",propertyName:"showDefaultTooltip"},previousId:{objectName:"visualLink",propertyName:"suppressDefaultTooltip"},types:[g.D.pivotTable],version:Er,upgrader:x.Xv,featureSwitch:"showDefaultTooltip"},{currentId:{objectName:"fillPoint",propertyName:"style"},previousId:{objectName:"fillPoint",propertyName:"show"},types:[g.D.scatterChart],version:qt,upgrader:x.fw,featureSwitch:"fillPointStyle"},{currentId:{objectName:"categoryAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"categoryAxis",propertyName:"position"},types:[g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.ribbonChart],version:_t,upgrader:x.QK},{currentId:{objectName:"valueAxis",propertyName:"switchAxisPosition"},previousId:{objectName:"valueAxis",propertyName:"position"},version:_t,types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.scatterChart,g.D.stackedAreaChart,g.D.waterfallChart],upgrader:x.QK},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:xt,types:[g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.ribbonChart,g.D.waterfallChart],upgrader:x.Dq},{currentId:{objectName:"valueAxis",propertyName:"logAxisScale"},previousId:{objectName:"valueAxis",propertyName:"axisScale"},version:xt,types:[g.D.areaChart,g.D.barChart,g.D.clusteredBarChart,g.D.clusteredColumnChart,g.D.columnChart,g.D.hundredPercentStackedBarChart,g.D.hundredPercentStackedColumnChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.ribbonChart,g.D.scatterChart,g.D.stackedAreaChart,g.D.waterfallChart],upgrader:x.Dq},{currentId:{objectName:"y2Axis",propertyName:"secLogAxisScale"},previousId:{objectName:"y2Axis",propertyName:"secAxisScale"},version:xt,types:[g.D.areaChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.stackedAreaChart],upgrader:x.Dq},{currentId:{objectName:"valueAxis",propertyName:"secLogAxisScale"},previousId:{objectName:"valueAxis",propertyName:"secAxisScale"},version:xt,types:[g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart],upgrader:x.Dq},{currentId:{objectName:"columnHeaders",propertyName:"outlineStyle"},previousId:{objectName:"columnHeaders",propertyName:"outline"},version:ii,types:[g.D.pivotTable,g.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"rowHeaders",propertyName:"outlineStyle"},previousId:{objectName:"rowHeaders",propertyName:"outline"},version:ii,types:[g.D.pivotTable,g.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"values",propertyName:"outlineStyle"},previousId:{objectName:"values",propertyName:"outline"},version:ii,types:[g.D.pivotTable,g.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"total",propertyName:"outlineStyle"},previousId:{objectName:"total",propertyName:"outline"},version:ii,types:[g.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"grid",propertyName:"outlineStyle"},previousId:{objectName:"grid",propertyName:"outline"},version:ii,types:[g.D.pivotTable,g.D.tableEx],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"header",propertyName:"outlineStyle"},previousId:{objectName:"header",propertyName:"outline"},version:ii,types:[g.D.slicer,g.D.filterSlicer],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"searchBox",propertyName:"outlineStyle"},previousId:{objectName:"searchBox",propertyName:"outline"},version:ii,types:[g.D.slicer,g.D.filterSlicer],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"items",propertyName:"outlineStyle"},previousId:{objectName:"items",propertyName:"outline"},version:ii,types:[g.D.slicer,g.D.filterSlicer],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"card",propertyName:"outlineStyle"},previousId:{objectName:"card",propertyName:"outline"},version:ii,types:[g.D.multiRowCard],upgrader:x.s8,featureSwitch:"outlineDropdownToCheckboxes"},{currentId:{objectName:"categoryAxis",propertyName:"logAxisScale"},previousId:{objectName:"categoryAxis",propertyName:"axisScale"},version:Pi,types:[g.D.areaChart,g.D.lineChart,g.D.lineClusteredColumnComboChart,g.D.lineStackedColumnComboChart,g.D.scatterChart,g.D.stackedAreaChart],upgrader:x.Dq,featureSwitch:"remainingCartesianCategoryLogAxisScale"}],Nr=[{property:{objectName:"categoryAxis",propertyName:"fontSize"},version:M.v4_2,upgrader:x.KI},{property:{objectName:"categoryAxis",propertyName:"titleFontSize"},version:M.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"fontSize"},version:M.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"titleFontSize"},version:M.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"secFontSize"},version:M.v4_2,upgrader:x.KI},{property:{objectName:"valueAxis",propertyName:"secTitleFontSize"},version:M.v4_2,upgrader:x.KI},{property:{objectName:"visualTooltip",propertyName:"fontSize"},version:M.v4_2,upgrader:x.KI},{property:{objectName:"outspacePane",propertyName:"titleSize"},version:M.v5_1,upgrader:x.KI},{property:{objectName:"outspacePane",propertyName:"headerSize"},version:M.v5_1,upgrader:x.KI},{property:{objectName:"filterCard",propertyName:"textSize"},version:M.v5_1,upgrader:x.KI}],m.fF.assert(function(){return!_.find(Fr,function(wr){return _.find(Lr,function(jr){return(!wr.types||!jr.types||_.find(wr.types,function(ni){return _.find(jr.types,function(ui){return ui===ni})}))&&jr.property.objectName===wr.previousId.objectName&&jr.property.propertyName===wr.previousId.propertyName&&(0,o.lt)(jr.version,wr.version)})})},"explorationVersions.generateObjectVersioning - There is a property being renamed which name didn't get updated in addedObjectPropertyVersions\n            This will cause an issue when versioning the added property, so make sure to update the name in addedArray to contain the new name instead of the old one."),{added:function(Lr){for(var Fr={},Nr=function(qr){var ni=Lr[qr];if(m.fF.assert(function(){return!qr||!(0,o.lt)(ni.version,Lr[qr-1].version)},"explorationVersions.generateAddedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the visual object property versions in increasing order of version,\n                we do that to optimize when checking for match in the ObjectPropertyVersionDictionaries"),null!=ni.types)for(var ui=0,ci=ni.types;ui<ci.length;ui++)Oa(ci[ui],ni,Fr);else Oa(l.p5,ni,Fr)},wr=0;wr<Lr.length;wr++)Nr(wr);return Fr}(Lr),renamed:function(Lr){for(var Fr={},Nr=function(ni,ui){var ci=Lr[ni];if(m.fF.assert(function(){return ci.currentId.objectName!==ci.previousId.objectName||ci.currentId.propertyName!==ci.previousId.propertyName},"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                You can't rename a property to itself!!"),m.fF.assert(function(){return!ni||!(0,o.lt)(ci.version,Lr[ni-1].version)},"explorationVersions.generateRenamedDictionaryFromObjectPropertyVersionArray -\n                We iterate through the renamed visual object property versions in increasing order of version,\n                we do that to create a linked list in case of multiple renames."),null!=ci.types)for(var Wi=0,ki=ci.types;Wi<ki.length;Wi++)Va(Di=ki[Wi],ci,Fr);else for(var Di in Va(l.p5,ci,Fr),Fr)Va(Di,ci,Fr)},wr=0,jr=Lr.length;wr<jr;wr++)Nr(wr);return Fr}(Fr),updated:Nr});function Va(Lr,Fr,Nr){var wr=Nr[Lr];Nr[Lr]||(wr=Nr[Lr]={});var jr=Fr.currentId.objectName,qr=wr[jr];qr||(qr=wr[jr]={});var ni=Fr.previousId,ui=function(ki,Di){var je=ki&&ki[Di.objectName];return je&&je[Di.propertyName]},ci=ui(wr,ni)||ui(Nr[l.p5],ni);qr[Fr.currentId.propertyName]=(0,e.__assign)((0,e.__assign)({},Fr),{previous:ci})}function Oa(Lr,Fr,Nr){var wr=Nr[Lr];Nr[Lr]||(wr=Nr[Lr]={});var jr=Fr.property.objectName,qr=wr[jr];qr||(qr=wr[jr]={});var ni=Fr.property.propertyName,ui=qr[ni];ui||(ui=qr[ni]=[]),ui.push(Fr),m.fF.assert(function(){return 1===ui.length||!(0,o.lt)(ui[ui.length-1].version,ui[ui.length-2].version)},"explorationVersions.setVersionInObjectPropertyVersionDictionary - objectVersionArray should be in increasing order")}function Qa(Lr,Fr,Nr,wr,jr){return(0,V.Vj)({definitions:Lr,descriptors:Fr,visitor:function(ni,ui,ci,Wi){wr=(0,o.Fp)(N.getVersionForSQExprWithDescriptor(ni,Wi),wr)}}),(0,V.rQ)(Lr,Fr,function(qr,ni,ui,ci,Wi){var Di=qr[ni];wr=(0,o.Fp)(wr,(0,l.KB)(Ha.added,Di,ui,Nr,ci,ni,wr,function(){var z=(0,V.NA)(Lr,{objectName:ci,propertyName:ni},ui);if(z){var ne=(0,p.oA)(z,ui,jr);if(!_.isEmpty(ne))return!0}return!1})),(0,V.er)(Di)&&(wr=(0,o.Fp)(wr,Ur))}),wr}},354623:function(Xe,H,t){t.d(H,{Dq:function(){return u},KI:function(){return f},Mi:function(){return x},QK:function(){return i},Rd:function(){return p},Xv:function(){return n},fw:function(){return a},jF:function(){return V},nc:function(){return R},pr:function(){return D},s8:function(){return m}});var e=t(979868),l=t(758205),o=t(199220),d=t(25788),v=t(498342),S=t(756846),h=t(512322),c=t(864185),r=t(643293);function s(M){return Math.round(100*S.FP.toPoint(M))/100}function u(M){return void 0!==M&&"log"===M}function i(M){return void 0!==M&&"Right"===M}function a(M){return M?o.$o:o.Mb}function n(M){return!M}function m(M){switch(M){case d.YP:return 0;case d.j0:return 1;case d.wI:return 4;case d.LI:return 8;case d.RH:return 2;case d.b_:return 5;case d.v3:return 10;case d.Wi:return 15;default:return v.fF.assertFail("unexpected outline type"),0}}function f(M){switch(typeof M){case"string":M=+M;case"number":return v.fF.assert(function(){return!isNaN(M)},"pxToPt upgrader encountered NaN"),s(M);default:return v.fF.assertFail("pxToPt upgrader encountered non-numerical parameter"),M}}function V(M){M&&(M.objects&&function(M){if(M)for(var T=0,O=C;T<O.length;T++)D(M,O[T])}(M.objects),M.vcObjects&&function(M){if(M){var T=M.visualTooltip&&M.visualTooltip[0]&&M.visualTooltip[0].properties;if(T){var O=T.fontSize;if(O)if(F(O))T.fontSize=R(O);else{var N=l.ib.deserializeExpr(O.expr);T.fontSize=x(R(N))}}}}(M.vcObjects))}function p(M){M&&M.objects&&M.visualType===r.D.textbox&&function(M){if(M){var T=P(M,"general");if(T)for(var N=0,A=T.paragraphs;N<A.length;N++)for(var B=0,U=A[N].textRuns;B<U.length;B++){var W=U[B];if((0,c.IM)(W)&&W.textStyle&&W.textStyle.fontSize){var j=W.textStyle.fontSize,K=j.indexOf("px");if(-1!==K){var ee=+j.substr(0,K);W.textStyle.fontSize=s(ee)+"pt"}}}}}(M.objects)}var C=[{objectName:"valueAxis",propertyName:"fontSize"},{objectName:"valueAxis",propertyName:"titleFontSize"},{objectName:"valueAxis",propertyName:"secFontSize"},{objectName:"valueAxis",propertyName:"secTitleFontSize"},{objectName:"categoryAxis",propertyName:"fontSize"},{objectName:"categoryAxis",propertyName:"titleFontSize"}];function D(M,T){var O=P(M,T.objectName);if(O){var N=O[T.propertyName];if(N)if(F(N))O[T.propertyName]=R(N);else{var A=l.ib.deserializeExpr(N.expr);O[T.propertyName]=x(R(A))}}}function P(M,T){if(M){var O=M[T];if(O)for(var N=0,A=O;N<A.length;N++){var I=A[N];if(null==I.selector)return I.properties}}}function F(M){return M instanceof h.Il&&(0,e.VC)(M)}function x(M){return{expr:l.ib.serializeExpr(M)}}function R(M){var O=s(M.value);return(0,h.gH)(O)}},827783:function(Xe,H,t){t.d(H,{fm:function(){return S},ps:function(){return d},zW:function(){return h}});var e=t(767650),l=t(498342),o=t(929224);function d(){return new v}var v=function(){function c(){}return c.prototype.upgrade=function(r){if(l.fF.assertValue(r,"exploration"),r)for(var s=0,u=r.sections;s<u.length;s++)for(var a=0,n=u[s].visualContainers;a<n.length;a++){var m=n[a],f=m.config.singleVisual;if(f){var V=f.objects;if(!h(f.visualType))continue;S(V);var C=(0,e.K)(m.dataTransforms);C&&(S(C.objects),m.dataTransforms=JSON.stringify(C))}}},c.prototype.upgradeFilterCollection=function(){},c.prototype.upgradeVisualObjects=function(r,s,u,i){},c.prototype.getVersion=function(){return o.H3n.v3_19},c}();function S(c){var r="dataPoint",s="defaultCategoryColor";if(c&&c[r])for(var i=0,a=c[r];i<a.length;i++){var n=a[i];null==n.selector&&n.properties[s]&&(n.properties.fill=n.properties[s],delete n.properties[s])}}function h(c){return _.includes(o.gMq,c)}},531227:function(Xe,H,t){t.d(H,{Am:function(){return n},ps:function(){return c}});var e=t(593773),l=t(758205),o=t(767650),d=t(498342),v=t(854883),S=t(512322),h=t(929224);function c(b){return new r(b)}var r=function(){function b(y){this.featureSwitchService=y}return b.prototype.upgrade=function(y){if(d.fF.assertValue(y,"exploration"),y)for(var D=0,P=y.sections;D<P.length;D++)for(var E=0,w=P[D].visualContainers;E<w.length;E++){var x=w[E],R=x.config.singleVisual;if(R){var g=R.visualType,L=R.projections;this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(R.objects=s(R.objects,L,g),m(R.objects,L,g,R.prototypeQuery));var M=(0,o.K)(x.dataTransforms);M&&(this.featureSwitchService.featureSwitches.cartesianConditionalFormatting&&(M.objects=s(M.objects,L,g),m(M.objects,L,g,R.prototypeQuery)),x.dataTransforms=JSON.stringify(M))}}},b.prototype.upgradeFilterCollection=function(){},b.prototype.upgradeVisualObjects=function(y,D,P,F){},b.prototype.getVersion=function(){return h.FL3},b}();function s(b,y,D){var P=u(D),F=y&&!_.isEmpty(y[P]);return"scatterChart"===D&&F&&null==(0,e.un)(b,"fillPoint")&&(b||(b={}),b.fillPoint=[{properties:{show:{expr:l.ib.serializeExpr((0,S.O7)(!0))}}}]),b}function u(b){switch(b){case"filledMap":return"Size";case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Gradient"}}function i(b){switch(b){case"filledMap":case"barChart":case"clusteredBarChart":case"clusteredColumnChart":case"columnChart":case"funnel":case"hundredPercentStackedBarChart":case"hundredPercentStackedColumnChart":case"map":case"treemap":case"scatterChart":return"Tooltips"}}function a(b,y){return"filledMap"===b&&y&&!_.isEmpty(y.Series)&&!_.isEmpty(y.Size)}function n(b,y,D){var E=u(D);if(E){var w=null==y?void 0:y.getQueryRef(E,{fieldIndex:0});if(w){d.fF.assertValue(y.defn,"upgradeGradientOnObjectDef - semantic query should exist");var x=y.defn.select().withName(w);d.fF.assertValue(x,"upgradeGradientOnObjectDef - query named expr should exist");var R=b&&b.dataPoint;if(!_.isEmpty(R))for(var g=0,L=R;g<L.length;g++){var M=L[g],T=M.properties.fillRule;if(null==M.selector&&T){if(a(D,y.projections)||R.push({selector:{data:[(0,v.Ue)(1)]},properties:{fill:{solid:{color:(0,S.x5)(x.expr,T)}}}}),R.splice(R.indexOf(M),1),1===y.getUsageCount(w)){var O=y.tryGetExpr(E,0),N=i(D);d.fF.assertValue(N,"tooltips role should exist for visuals with gradient upgrade."),y.add(O,N)}y.removeProjection(E,{fieldIndex:0});break}}}}}function m(b,y,D,P){var F,E,x="fillRule",g=u(D);if(g){var L=y&&y[g];if(!_.isEmpty(L)){var M=L[0].queryRef;if(M){var T=_.cloneDeep(_.find(P&&P.Select,function(ee){return ee.Name===M}));if(T){delete T.Name;var O=T.Aggregation||T.Measure;if(O){var N=O.Expression.Column&&O.Expression.Column.Expression.SourceRef||O.Expression.SourceRef;if(N){var A=_.find(P.From,function(ee){return ee.Name===N.Source});if(A){N.Entity=A.Entity,delete N.Source;var I=b&&b.dataPoint;if(!_.isEmpty(I))for(var B=0,U=I;B<U.length;B++){var W=U[B];if(null==W.selector&&W.properties[x]){if(!a(D,y)){var j=_.cloneDeep(W.properties[x]);I.push({selector:{data:[{dataViewWildcard:{matchingOption:1}}]},properties:(F={},F.fill={solid:{color:{expr:{FillRule:{FillRule:C(j),Input:T}}}}},F)})}if(I.splice(I.indexOf(W),1),delete y[g],!f(M,y)){var K=i(D);d.fF.assertValue(K,"tooltips role should exist for visuals with gradient upgrade."),y[K]||(y[K]=[]),(E=y[K]).push.apply(E,L||[])}break}}}}}}}}}}function f(b,y){for(var D in y)if(_.some(y[D],function(F){return F.queryRef===b}))return!0;return!1}function V(b){b.color&&(b.color=b.color.expr),b.value&&(b.value=b.value.expr),b.strategy&&(b.strategy=b.strategy.expr)}function p(b){V(b.min),V(b.max),b.mid&&V(b.mid),b.nullColoringStrategy&&V(b.nullColoringStrategy)}function C(b){return b.linearGradient2&&p(b.linearGradient2),b.linearGradient3&&p(b.linearGradient3),b}},449317:function(Xe,H,t){t.d(H,{x:function(){return l}});var e=t(389731);function l(d){return new o(d)}var o=function(){function d(v){this.downgraders=v}return d.prototype.getFinalVisualObjectsVersion=function(v,S,h,c){for(var r=0,s=this.downgraders;r<s.length;r++)h=(0,e.Fp)(h,s[r].getMinDowngradeVersionForVisualObjects(v,S,c));return h},d.prototype.downgrade=function(v,S,h,c){for(var r=0,s=this.downgraders;r<s.length;r++)s[r].downgradeVisualObjects(v,S,h,c)},d}()},367109:function(Xe,H,t){t.d(H,{U:function(){return l}});var e=t(389731);function l(d){return new o(d)}var o=function(){function d(v){this.upgraders=v}return d.prototype.upgrade=function(v,S,h,c){for(var r=0,s=this.upgraders;r<s.length;r++){var u=s[r],i=u.getVersion();(0,e.gt)(i,c)&&u.upgradeVisualObjects(v,S,h,c)}},d}()},88013:function(Xe,H,t){t.d(H,{q:function(){return v},v:function(){return d}});var e=t(767650),l=t(498342),o=t(599287);function d(S,h,c,r){l.fF.assertValue(S,"input");var s=[],u={objectId:S.objectId,name:S.objectId,type:S.type};S.creationTime&&(u.creationTime=new Date(Date.parse(S.creationTime))),S.expirationTime&&(u.expirationTime=new Date(Date.parse(S.expirationTime))),S.displayName&&(u.displayName=S.displayName),S.isDefault&&(u.isDefault=S.isDefault),null!=S.id&&(u.id=S.id);try{var i=void 0;S.explorationState&&((i=(0,e.K)(S.explorationState))||s.push({code:0})),i&&(u.explorationState=(0,o.vB)(i,h,c,r))}catch(n){s.push({code:1,message:n.message,stack:n.stack})}var a={contract:u};return _.isEmpty(s)||(a.errors=s),a}function v(S,h,c,r,s){l.fF.assertValue(S,"input");var u={objectId:S.objectId,type:S.type};if(S.creationTime&&(u.creationTime=S.creationTime.toISOString()),S.expirationTime&&(u.expirationTime=S.expirationTime.toISOString()),S.displayName&&(u.displayName=S.displayName),S.isDefault&&(u.isDefault=S.isDefault),null!=S.id&&(u.id=S.id),S.explorationState){var i=(0,o.qC)(S.explorationState,h,r,s,c);u.explorationState=JSON.stringify(i)}return u}},582662:function(Xe,H,t){t.d(H,{y:function(){return l}});var e=t(498342);function l(){return new o}var o=function(){function d(){this.isPaused=!1}return d.prototype.register=function(v){var S=jQuery.extend(!0,{},v);return this.updateService(S),S},d.prototype.pause=function(){this.isPaused=!0},d.prototype.resume=function(){this.isPaused=!1},d.prototype.updateService=function(v){e.fF.assertAnyValue(v,"service");var S=function(s){if(_.isFunction(v[s])){var u=v[s],i=h;v[s]=function(){if(!i.isPaused)return u.apply(v,arguments)}}},h=this;for(var c in v)S(c)},d}()},559336:function(Xe,H,t){t.d(H,{I:function(){return n}});var a,e=t(262351),l=t(498342),o=t(273269),d=t(147883),v=t(553474),S=t(869053),h=t(512322),c=t(678776),r=t(196960),s=t(180764),u=t(927903),i=t(669266);function n(V,p,C){return new m(V,p,C)}var m=function(){function V(p,C,b){l.fF.assertValue(p,"displayNameService"),l.fF.assertValue(b,"visualPluginService"),this.displayNameService=p,this.featureSwitches=C,this.visualPluginService=b}return V.prototype.getSortableFields=function(p){l.fF.assertValue(p,"options");var C=p.visualType,b=this.visualPluginService.capabilities(C);if(!b||!this.isVisualSortable(b))return{sortableFields:[],sortGroups:[]};var y=this.createIsRoleSortableDelegate(C,p.compiledMappings);return this.getGroupedSortableFieldsFromProjections(p.query,p.schema,b,p.columnProperties,y)},V.prototype.createIsRoleSortableDelegate=function(p,C){var b=this.visualPluginService.getPlugin(p),y=this.visualPluginService.capabilities(p);if(!b.getSortableRoles||!y.sorting)return function(P){return!0};var D=b.getSortableRoles({dataViewMappings:C});return _.isEmpty(D)?function(P){return!1}:function(P){return D.indexOf(P)>=0}},V.prototype.addSort=function(p,C){p&&p.defn&&C&&(p.defn=p.defn.orderBy(C))},V.prototype.removeSort=function(p,C){if(p&&p.defn&&C)for(var b=0,y=C;b<y.length;b++)p.defn=p.defn.removeOrderBy(y[b].expr)},V.prototype.resetSort=function(p){if(p&&p.defn){var C=p.defn.orderBy();this.removeSort(p,C)}},V.prototype.applyImplicitSort=function(p,C){if(l.fF.assertValue(p,"query"),l.fF.assertAnyValue(C,"implicitSort"),!C)return p;var b=p.defn;if(!b)return p;for(var y=C.clauses,D=b.select(),P=[],F=0,E=y;F<E.length;F++){var w=E[F],x=(0,d.cY)(p.projections,w.role);if(x){var R=w.direction;P.push.apply(P,_.map(x.all(),function(g){return{expr:D.withName(g.queryRef).expr,direction:R}}))}}return _.isEmpty(P)?p:new s.g(b.orderBy(P),p.projections,p.expansionStates,p.isDrillDisabled)},V.prototype.shouldApplyDefaultSort=function(p,C){var b,y,D;if(null!==(b=C.sorting)&&void 0!==b&&b.custom||null!==(y=C.sorting)&&void 0!==y&&y.implicit)return!1;var P=p.query;if(!P)return!1;var F=(0,u.i1)(P),E=(0,v.Lo)(P.projections,C.dataViewMappings,F,this.featureSwitches.featureSwitches),w=null===(D=null==E?void 0:E.supportedMappings)||void 0===D?void 0:D[0];return!((null==w?void 0:w.matrix)&&(0,e.D4)(w))&&(p.hasDefaultSort||_.isEmpty(p.query.defn.orderBy()))},V.prototype.ensureValidSorting=function(p){l.fF.assertValue(p,"options");var C=p.query,b=C.defn;if(!b)return C;var y=b.orderBy();if(_.isEmpty(y))return C;var D=this.getSortableFields(p).sortableFields,P=[];if(!_.isEmpty(D))for(var F=0,E=D;F<E.length;F++)P.push.apply(P,this.createSortDefinitions(E[F]));for(var x=!1,R=function(M){if(_.find(P,function(T){return(0,i.fS)(T.expr,y[M].expr)}))return"continue";y.splice(M,1),x=!0},g=y.length-1;g>=0;g--)R(g);return x?new s.g(b.orderBy(y),C.projections,C.expansionStates,C.isDrillDisabled):C},V.prototype.isVisualSortable=function(p){return _.some(p.dataRoles,function(C){return C.kind!==o.DW.Measure})},V.prototype.getGroupedSortableFieldsFromProjections=function(p,C,b,y,D){var P=this,F=p.defn.select(),E=p.defn.orderBy(),w=(0,u.i1)(p),x=(0,v.Lo)(p.projections,b.dataViewMappings,w,this.featureSwitches.featureSwitches),g=new f(D,function(N,A,I,B){var U=p.getRolesActiveProjectionsRefs([N],!1,!0);return _.isEmpty(U)?[]:P.createSortableFieldsForQueryRefs(C,F,U,E,b,y,0!==I,A,B)});if(x.supportedMappings)for(var L=0,M=x.supportedMappings;L<M.length;L++){var T=M[L];T.matrix&&(0,e.D4)(T)?(0,S.Jj)(T.matrix,g):T.categorical&&(0,S.aU)(T.categorical,g)}return _.isEmpty(g.groups)?this.getDefaultGroupSortableFieldsFromProjections(p,x,C,b,y,D):{sortableFields:g.allSortableFields,sortGroups:g.groups}},V.prototype.getDefaultGroupSortableFieldsFromProjections=function(p,C,b,y,D,P){l.fF.assertNonEmpty(y.dataRoles,"Unexpected empty dataRoles");for(var F=[],E=p.defn.select(),w=p.defn.orderBy(),x=_.some(C.supportedMappings,function(I){return I.categorical}),R=0,g=y.dataRoles;R<g.length;R++){var M=g[R].name;if(P(M)){var T=p.getRolesActiveProjectionsRefs([M],!1,!0);if(!_.isEmpty(T)){var O=!_.isEmpty(p.projections[M].activeProjectionRefs),A=this.createSortableFieldsForQueryRefs(b,E,T,w,y,D,x&&O,V.DefaultSortGroupKey);F.push.apply(F,A)}}}return this.createResultWithSortGroup(F)},V.prototype.createSortableFieldsForQueryRefs=function(p,C,b,y,D,P,F,E,w){for(var R,x=!1,g=Number.MAX_VALUE,L=[],M=[],T=[],O=function(j){var K=C.withName(j),ee=null==K?void 0:K.expr;if(!ee||!c.m.isExprValidForSorting(ee))return"continue";var ie=N.getDisplayNameFromQueryRef(p,C,j,D,P),he=N.applySortingScope(ee,w),q=_.findIndex(y,function(Y){return(0,i.fS)(Y.expr,he)});q!==r.bN&&(g=Math.min(g,q)),F?((x=x||q!==r.bN)&&!R&&(l.fF.assert(function(){return q!==r.bN},"invalidSortExprIndex"),R=y[q].direction),M.push({name:j,expr:ee}),T.push(ie)):L.push({displayName:ie,exprs:[K],active:x=q!==r.bN,orderByIndex:x?q:void 0,sortDirection:R=x?y[q].direction:void 0,groupKey:E,scope:w})},N=this,A=0,I=b;A<I.length;A++)O(I[A]);return F?_.isEmpty(M)?[]:[{displayName:T.join(" "),exprs:M,active:x,orderByIndex:x?g:void 0,sortDirection:x?R:void 0,groupKey:E,scope:w}]:L},V.prototype.getDisplayNameFromQueryRef=function(p,C,b,y,D){var P,F=null===(P=C.withName(b))||void 0===P?void 0:P.expr;return F?this.displayNameService.getDisplayName(F,p,y,b,D):""},V.prototype.createResultWithSortGroup=function(p){var C=[];return _.isEmpty(p)||C.push({key:V.DefaultSortGroupKey,displayName:null,fields:p,isDefaultGroup:!0}),{sortableFields:p,sortGroups:C}},V.prototype.createSortDefinitions=function(p){for(var C,b=[],y=0,D=p.exprs;y<D.length;y++)b.push({expr:this.applySortingScope(D[y].expr,p.scope),direction:null!==(C=p.sortDirection)&&void 0!==C?C:2});return b},V.prototype.applySortingScope=function(p,C){return _.isEmpty(C)?p:(0,h.ed)(p,C)},V.DefaultSortGroupKey="Default",V}(),f=function(){function V(p,C){this.isRoleSortable=p,this.getSortableFieldsForRole=C,this.groups=[],this.allSortableFields=[],this.uniqueGroupKeys=[],this.uniqueRoles=[]}return V.prototype.visitRole=function(p,C){if(this.isRoleSortable(p))switch(C){case"MatrixColumnsGroup":case"CategoricalSeries":this.addRole(p,"Legend",1);break;case"MatrixRowsGroup":return void this.addRole(p,p,1);case"CategoricalCategory":return void this.addRole(p,"Category",1);case"MatrixIntersection":case"MatrixRowsScopedValue":return void this.addRole(p,"Rows",0,!0,[(0,h.Wu)("Rows")]);case"CategoricalValue":case"CategoricalValueGroup":return void this.addRole(p,"Category",0,!0);default:return void l.fF.assertFail("Unexpected context: "+C)}},V.prototype.addRole=function(p,C,b,y,D){var P,F,E;if(void 0===y&&(y=!1),y){if(!(E=_.find(this.groups,function(x){return x.key===C})))return}else E={key:C,displayName:V.RoleToSortGroupDisplayName[C],fields:[]};var w=this.getSortableFieldsForRole(p,C,b,D);_.isEmpty(w)||(_.includes(this.uniqueRoles,p)||((P=this.allSortableFields).push.apply(P,w),this.uniqueRoles.push(p)),(F=E.fields).push.apply(F,w),!y&&!_.includes(this.uniqueGroupKeys,E.key)&&(this.groups.push(E),this.uniqueGroupKeys.push(E.key)))},V.prototype.visitReduction=function(){},V.prototype.enterComposite=function(){},V.prototype.exitComposite=function(){},V.RoleToSortGroupDisplayName=((a={}).Rows="Sort_Group_Small_multiples",a.Category="Sort_Group_Axis",a.Legend="Sort_Group_Legend",a),V}()},389838:function(Xe,H,t){t.d(H,{WP:function(){return c},be:function(){return s},nT:function(){return h}});var e=t(498342),l=t(546368),o=t(204553),d=t(179664),v=t(25138),S=t(979868);function h(m,f,V,p,C){return new n(m,f,V,p,C)}function c(m,f,V,p){e.fF.assertValue(p,"references"),e.fF.assertAnyValue(f,"descriptors"),m&&(0,o.Vj)({definitions:m,descriptors:f,visitor:function(b){if((0,S.MI)(b)){var y=(0,v.pd)(V,b.packageType,b.packageName),D=(0,v.NW)(y,b.itemName);D&&s(p,y.name,y.type,D.name,D.type)}}})}function r(m,f,V){return e.fF.assertValue(m,"references should exist."),m[f]||(m[f]={items:{},name:f,type:V}),m[f]}function s(m,f,V,p,C){e.fF.assertValue(m,"references should exist.");var b=r(m,f,V).items;return b[p]=b[p]||{name:p,type:C}}function u(m,f,V){var p=m[f];return p&&p.items&&p.items[V]}function a(m,f){for(var V in m){var p=m[V];for(var C in p.items)f(p,p.items[C])}}var n=function(){function m(f,V,p,C,b){this.promiseFactory=f,this.resourceLoader=V,this.explorationNavigation=p,this.explorationSerializer=C,this.resourceRegistration=b,this.restorableReferenceSources=[],this.preservedReferences={}}return m.prototype.addReferenceSource=function(f){this.restorableReferenceSources.push(f)},m.prototype.removeReferenceSource=function(f){_.pull(this.restorableReferenceSources,f)},m.prototype.garbageCollectUnreferencedStaticResources=function(){var f=this.explorationNavigation.getCurrentExploration(),V=f&&f.resourcePackages;if(V){for(var p=this.explorationSerializer.getReferencedStaticResources(f),C=this.getRestorableReferences(),b=[],y=V.length-1;y>=0;y--){var D=V[y];(0,v.In)(D)&&(this.garbageCollectItems(D,p,this.preservedReferences,C,b),_.isEmpty(D.items)&&_.pull(V,D))}return _.isEmpty(V)&&delete f.resourcePackages,this.cleanPreservedReferences(p,C),b}},m.prototype.cleanPreservedReferences=function(f,V){var p=this;a(this.preservedReferences,function(C,b){(u(f,C.name,b.name)||!u(V,C.name,b.name))&&function(m,f,V){var p=m[f];if(p){var C=p.items;delete C[V],0===_.size(C)&&delete m[f]}}(p.preservedReferences,C.name,b.name)})},m.prototype.getRestorableReferences=function(){for(var f={},V=0,p=this.restorableReferenceSources;V<p.length;V++)a(p[V].getReferences(),function(b,y){s(f,b.name,b.type,y.name,y.type)});return f},m.prototype.garbageCollectItems=function(f,V,p,C,b){e.fF.assertValue(f,"Resource package should exist in order to be garbage collected"),e.fF.assertValue(V,"referencedResources should exist in order to garbage collect items"),e.fF.assertValue(p,"perservedReferences should exist in order to garbage collect items"),e.fF.assertValue(C,"restorableReferences should exist in order to garbage collect items"),e.fF.assertValue(b,"unreferencedResources should exist in order to garbage collect items");for(var y=f.items,D=f.name,P=_.size(y)-1;P>=0;P--){var F=y[P],E=F.name;u(V,D,E)||(u(C,D,E)&&this.preserveItem(f,E,F.type),b.push(D+"/"+F.path),_.pull(y,F))}},m.prototype.preserveItem=function(f,V,p){var C=s(this.preservedReferences,f.name,f.type,V,p);C.uri||(C.uri=(0,d.dR)(f,V,this.resourceLoader,this.promiseFactory).then(function(b){return(0,l.pU)(b)||(b=(0,l.wo)(b)),b}))},m.prototype.loadItemsContent=function(f){var V=[],p=this.explorationNavigation.getCurrentExploration(),C=p&&p.resourcePackages;for(var b in f){var y=f[b];if(1===y.type){var D=y.items,P=function(x){var R=D[x];V.push((0,d.k4)(F.promiseFactory,F.resourceLoader,C,R.name).then(function(g){R.content=g}))},F=this;for(var E in D)P(E)}}return this.promiseFactory.all(V).then(function(){})},m.prototype.addItemsContent=function(f){var V=this.explorationNavigation.getCurrentExploration();for(var p in f){var C=f[p],b=C.items;for(var y in b){var D=b[y];this.addResource(V.resourcePackages,p,C.type,D.name,D.type,D.content)}}},m.prototype.needingRestore=function(f){var V=this;if(!_.isEmpty(f)){var p=this.explorationNavigation.getCurrentExploration();if(p){var C=p&&p.resourcePackages;if(!_.isEmpty(C)){var b={};return a(f,function(y,D){var P=y.name,F=D.name,E=u(V.preservedReferences,P,F);E&&!(0,v.Yu)(C,y.type,D.name,P)&&(r(b,P,y.type).items[F]=E)}),b}}}},m.prototype.addResource=function(f,V,p,C,b,y){(0,v.Yu)(f,p,C,V)||this.resourceRegistration.add(C,p,b,{content:y,skipUniqueName:!0})},m.prototype.restoreReferences=function(f){var V=this,p=this.needingRestore(f),C=[];return a(p,function(b,y){C.push(y.uri.then(function(D){V.resourceRegistration.restore(y.name,b.type,y.type,D)}))}),this.promiseFactory.all(C).then(function(){})},m}()},5689:function(Xe,H,t){t.d(H,{Z:function(){return l}});var e=t(498342),l=function(){function o(){}return o.prototype.register=function(d,v,S){var h=v();return{actionResult:h,succeeded:!(_.isBoolean(h)&&!h)}},o.prototype.getTopUndoFrame=function(){e.fF.assertFail("Can not get top undo frame")},o.prototype.canRedo=function(){return!1},o.prototype.canUndo=function(){return!1},o.prototype.canClear=function(){return!1},o.prototype.undo=function(){return e.fF.assertFail("Undo is not supported"),!1},o.prototype.redo=function(){return e.fF.assertFail("Redo is not supported"),!1},o.prototype.clear=function(){return e.fF.assertFail("Clear is not supported"),!1},o.prototype.getReferences=function(){return{}},o}()},596814:function(Xe,H,t){t.d(H,{T:function(){return d},x:function(){return v}});var e=t(498342),l=t(715770),o=t(5689),d=function(){function h(c,r){this.visualContainerName=c,this.action=r}return h.prototype.equals=function(c){return!!c&&this.action===c.action&&this.visualContainerName===c.visualContainerName},h}();function v(h,c,r,s){return void 0===r&&(r="UndoRedo"),void 0===s&&(s=new o.Z),new S(h,c,r,s)}var S=function(){function h(c,r,s,u){this.eventBridge=c,this.loggerService=r,this.undoRedoLogEntryType=s,this.strategy=u}return h.prototype.setStrategy=function(c){this.clear(),this.strategy=c},h.prototype.undo=function(){var c=this;!this.verifyStrategy()||!this.canUndo()||setTimeout(function(){c.strategy&&c.strategy.undo()&&(c.runSideEffects(),c.fireEvents())})},h.prototype.redo=function(){var c=this;!this.verifyStrategy()||!this.canRedo()||setTimeout(function(){c.strategy&&c.strategy.redo()&&(c.runSideEffects(),c.fireEvents())})},h.prototype.registerSideEffect=function(c){this.sideEffects||(this.sideEffects=[]),this.sideEffects.push(c)},h.prototype.clear=function(){this.verifyStrategy()&&(this.strategy.canClear()&&this.strategy.clear(),this.eventBridge.publishToChannel(l.WR7))},h.prototype.canRedo=function(){return this.verifyStrategy()&&this.strategy.canRedo()},h.prototype.canUndo=function(){return this.verifyStrategy()&&this.strategy.canUndo()},h.prototype.getTopUndoFrame=function(){return this.verifyStrategy()&&this.strategy.getTopUndoFrame()},h.prototype.undoRedoPostProcessing=function(c){this.loggerService.addUserAction({message:c,type:this.undoRedoLogEntryType}),setTimeout(_.noop)},h.prototype.register=function(c,r,s){var u,i=!1;if(this.verifyStrategy()){var a=this.strategy.register(c,r,s);u=a.actionResult,i=a.succeeded}else u=r(),i=!(_.isBoolean(u)&&!u);return i&&(this.runSideEffects(c),this.fireEvents()),this.undoRedoPostProcessing(c),u},h.prototype.fireEvents=function(){this.eventBridge.publishToChannel(l.t4l,{explorationContentChanged:!0}),this.eventBridge.publishToChannel(l.WR7)},h.prototype.runSideEffects=function(c){if(!_.isEmpty(this.sideEffects))for(var r=0,s=this.sideEffects;r<s.length;r++)s[r].run(c)},h.prototype.verifyStrategy=function(){var c=this;return e.fF.assert(function(){return!!c.strategy},"undoRedoService functions should not be called without a strategy"),!!this.strategy},h}()},664086:function(Xe,H,t){t.d(H,{gp:function(){return v}});var e=t(498342),l=function(){function c(r){this.count=0,this.top=-1,e.fF.assert(function(){return r>=1},"Size cant be less than 1"),this.size=r,this.data=new Array(r)}return c.prototype.item=function(r){var s=this;e.fF.assert(function(){return r>=0&&r<s.count},"index out of range");var u=this.top-(this.count-1);return u<0&&(u+=this.size),this.data[(r+u)%this.size]},c.prototype.push=function(r){this.count<this.size&&this.count++,this.top=++this.top%this.size,this.data[this.top]=r},c.prototype.pop=function(){if(0!==this.count){this.count--;var r=this.data[this.top];return delete this.data[this.top],-1==--this.top&&this.count>0&&(this.top=this.size-1),r}},c.prototype.peek=function(){return this.data[this.top]},c.prototype.clear=function(){this.count=0,this.top=-1,this.data=new Array(this.size)},Object.defineProperty(c.prototype,"length",{get:function(){return this.count},enumerable:!1,configurable:!0}),c}(),o=t(716742),v=function(){function c(r,s,u){this.handler=r,this.staticResourceReferences=s,this.telemetry=u,this.undoStack=new l(10),this.redoStack=new l(10),this.staticResourceReferences.addReferenceSource(this)}return c.prototype.register=function(r,s,u){var i=this,a=this.withTelemetry(function(){return i.captureUndoFrame(i.handler)},"Capture",r);a.recurringActionInfo=u;var n=this.canMergeWithTopFrame(u),m=this.startTransaction(a),f=s();e.fF.assert(function(){return!i.isIPromise(f)},"UndoRedoService.register does not support promise types");var V=!(_.isBoolean(f)&&!f);return V?this.endTransaction(m,n):this.cancelTransaction(m),{succeeded:V,actionResult:f}},c.prototype.getReferences=function(){return this.addStackReferences(this.undoStack,this.addStackReferences(this.redoStack))},c.prototype.addStackReferences=function(r,s){s=s||{};for(var u=r.length;u-- >0;)_.merge(s,r.item(u).getReferences());return s},c.prototype.undo=function(){var r=this,s=!1;return this.canUndo()&&(s=this.withTelemetry(function(){return r.rollbackTop(r.undoStack,r.redoStack)},"Undo",""),this.telemetry.logEvent(o.s$,{times:this.redoStack.length})),s},c.prototype.redo=function(){var r=this,s=!1;return this.canRedo()&&(s=this.withTelemetry(function(){return r.rollbackTop(r.redoStack,r.undoStack)},"Redo","")),s},c.prototype.clear=function(){return this.undoStack.clear(),this.redoStack.clear(),!0},c.prototype.canRedo=function(){return this.redoStack.length>0},c.prototype.canUndo=function(){return this.undoStack.length>0},c.prototype.canClear=function(){return!0},c.prototype.getTopUndoFrame=function(){var r=this.undoStack.peek();return r?r.getFrame():void 0},c.prototype.withTelemetry=function(r,s,u){var i=this.telemetry.startEvent(o.hs,{description:u,event:s}),a=r();return i.resolve(),a},c.prototype.canMergeWithTopFrame=function(r){if(!r)return!1;if(this.canUndo()){var s=this.getTopUndoFrame();if(s&&void 0!==s.recurringActionInfo&&s.recurringActionInfo.equals(r))return!0}return!1},c.prototype.rollbackTop=function(r,s){var u=r.pop();if(u){var i=u.rollbackFrame(),a=this.validTransactionCheck(i);return a&&s.push(i),a}e.fF.assertFail("UndoRedoService.rollbackTop received an empty source")},c.prototype.isIPromise=function(r){return r&&r.finally},c.prototype.startTransaction=function(r){e.fF.assertValue(r,"undoFrame");var s=new h;return this.currentTransaction||(this.currentTransaction=s,this.currentTransaction.addUndoFrame(r)),this.currentTransaction},c.prototype.endTransaction=function(r,s){var u=this;e.fF.assertValue(r,"transaction"),e.fF.assert(function(){return r===u.currentTransaction},"nested transactions are not allowed"),s||(this.redoStack.clear(),this.validTransactionCheck(this.currentTransaction)&&this.undoStack.push(this.currentTransaction)),this.currentTransaction=void 0},c.prototype.cancelTransaction=function(r){var s=this;e.fF.assertValue(r,"transaction"),e.fF.assert(function(){return r===s.currentTransaction},"nested transactions are not allowed"),this.currentTransaction=void 0},c.prototype.captureUndoFrame=function(r){return e.fF.assertValue(r,"container"),new S(r)},c.prototype.validTransactionCheck=function(r){return e.fF.assertValue(r,"null or undefined transaction values cannot be put on undo or redo stack."),!!r},c}(),S=function(){function c(r,s){e.fF.assertValue(r,"handler"),this.handler=r,this.snapshot=this.handler.takeSnapshot(s)}return c.prototype.rollbackFrame=function(){var r=new c(this.handler,this.snapshot);return this.handler.rollback(this.snapshot),r},c.prototype.getReferences=function(){return this.snapshot.getReferences&&this.snapshot.getReferences()},c}(),h=function(){function c(r){this.frames=r||[]}return c.prototype.addUndoFrame=function(r){this.frames.push(r)},c.prototype.rollbackFrame=function(){return new c(_.map(this.frames,function(s){if(e.fF.assertValue(s,"frame"),s)return s.rollbackFrame()}))},c.prototype.getFrame=function(){var r=this;return e.fF.assert(function(){return 1===r.frames.length},"frame length"),this.frames[0]},c.prototype.getReferences=function(){for(var r={},s=0,u=this.frames;s<u.length;s++)_.merge(r,u[s].getReferences());return r},c}()},218613:function(Xe,H,t){t.d(H,{J:function(){return h}});var e=t(498342),l=t(915382),o=t(716742),d=t(40152),v=t(715770),S=t(306018);function h(u,i,a,n){return new c(u,i,a,n)}var c=function(){function u(i,a,n,m){var f=this;this.telemetryService=i,this.eventBridge=a,this.selectionService=n,this.explorationNavigation=m,e.fF.assertValue(i,"telemetryService"),e.fF.assertValue(a,"eventBridge"),e.fF.assertValue(n,"selection"),this.selectionService=n,a.createChannelSubscriptionManager().subscribe(v.tRg,function(){return f.updatePopOutMode()})}return u.prototype.get=function(i){e.fF.assert(function(){return 0!==i},"mode !== VisualVisibility.None");var a=this.explorationNavigation.getCurrentSection(),n=a&&a.poppedOutElement;if(n&&(i||(i=27),i&n.visibility))return n.visualContainer},u.prototype.set=function(i,a,n){if(void 0===n&&(n=!0),e.fF.assertValue(i,"visualContainer"),e.fF.assertValue(a,"visibility"),0!==a){!S.UP.isCanvasItemSelected(i,this.selectionService)&&32!==a&&S.UP.selectCanvasItem(i,this.selectionService);var m={visualContainer:i,visibility:a},f=this.explorationNavigation.getAllSections(),V=_.find(f,function(C){return C.visualContainers.indexOf(i)>=0});V&&(function(u,i){return(u=u||null)===(i=i||null)||!(!u!=!i||(e.fF.assertValue(u,"left"),e.fF.assertValue(i,"right"),u.visualContainer!==i.visualContainer||u.visibility!==i.visibility))}(m,V&&V.poppedOutElement)||(this.clearInternal(!1,!1),this.setMode(m,a,n),V.poppedOutElement=m,this.poppableItem=m,this.raiseEvent(this.generateVisibilityChangedEventArgs(a))))}else this.clearInternal(!0,n)},u.prototype.clear=function(){this.clearInternal()},u.prototype.clearForVisualContainers=function(i){var a=this.explorationNavigation.getCurrentSection(),n=a&&a.poppedOutElement;if(n)for(var m=0,f=i;m<f.length;m++)if(n.visualContainer===f[m]){this.clearInternal();break}},u.prototype.clearInternal=function(i,a){void 0===i&&(i=!0),void 0===a&&(a=!0);var n=this.explorationNavigation.getCurrentSection(),m=n&&n.poppedOutElement;if(m){var f=this.poppableItem.visibility;this.setMode(m,0,a),n.poppedOutElement=void 0,i&&this.raiseEvent(this.poppableItem&&this.poppableItem.visualContainer===m.visualContainer?this.generateVisibilityChangedEventArgs(f):void 0),this.poppableItem=void 0}},u.prototype.isSeeDataMode=function(i){return i&&(2===i||8===i||16===i)},u.prototype.updatePopOutMode=function(){var i=S.UP.getDefaultSelectedVisualInSingleOrMultiCase(this.selectionService);i&&(0,l.Vz)(i)&&null!=i.visibility&&0!==i.visibility?this.set(i,i.visibility,!1):this.clearInternal(!0,!1)},u.prototype.raiseEvent=function(i){this.eventBridge.publishToChannel(v.y5h,i)},u.prototype.setMode=function(i,a,n){var m=i.visualContainer;if(n){var f=function(u){switch(u){case 1:return"Maximized";case 2:return"MaximizedWithData";case 8:return"MaximizedWithAccessibleData";case 4:return"Spotlight";case 32:return"Elevation";case 16:return"VisualCalcEditing";default:return"Normal"}}(a);this.telemetryService.logEvent(o.F,{visualType:(0,d.s)(m),displayType:f,visualName:i.visualContainer.name})}m.visibility=a},u.prototype.generateVisibilityChangedEventArgs=function(i){return{preserveScroll:4===i||32===i}},u}()},10661:function(Xe,H,t){t.d(H,{_6:function(){return le},Vz:function(){return G},hQ:function(){return Ee}});var e=t(33962),l=t(637916),o=t(790012),d=t(262351),v=t(944913),S=t(365358),h=t(498342),c=t(756846),r=t(447751),s=t(273269),u=t(147883),i=t(812454),a=t(553474),n=t(204553),m=t(935167),f=t(509607),V=t(865001),p=t(915925),C=t(423610),b=t(726501),y=t(411429),D=t(930550),P=t(114096),F=t(512322),E=t(817389),w=t(678776),x=t(470756),R=t(430912),g=t(222415),L=t(180764),M=t(819408),T=t(497141),O=t(182637),N=t(816897),A=t(927903),B=t(390079),U=t(557478),W=t(101300),j=t(973188),ee=function(Je){function _e(pe,fe,oe){var ye=Je.call(this)||this;return ye.visualCalcDaxParserServiceContext=oe,ye.oldNativeRefereName=pe,ye.newNativeReferenceName=fe,ye}return(0,j.__extends)(_e,Je),_e.prototype.visitNativeVisualCalc=function(pe){if(pe.name===this.newNativeReferenceName)return pe;null==this.daxContext&&(this.daxContext=this.visualCalcDaxParserServiceContext.service.getContext(this.visualCalcDaxParserServiceContext.nativeReferences,this.visualCalcDaxParserServiceContext.reservedWords,this.visualCalcDaxParserServiceContext.daxCapabilities));var fe=this.visualCalcDaxParserServiceContext.service.renameReference(this.daxContext,pe.expression,this.oldNativeRefereName,this.newNativeReferenceName);return(0,F.YU)(pe.name,fe,pe.getAnnotations())},_e}(t(603662).b),ie=t(979868),he=t(173818),q=t(669266),Y=t(643293);function G(Je,_e,pe,fe,oe,ye){return new Ye(Je,_e,pe,fe,oe,ye)}function le(Je,_e,pe,fe){if(!Je)return!1;var oe=!1;function ye(Se,nt,vt,We){fe&&fe(Se.objectName,Se.selector,nt,vt,We,We&&Se.properties&&Se.properties[nt])}if(Je.replace)for(var Ce=0,Be=Je.replace;Ce<Be.length;Ce++){var Te=(0,n.zx)(pe,(be=Be[Ce]).objectName,be.selector),ce={};for(var ve in be.properties)(0,m.e4)(ve)?ce[ve]=Ne(be,ve,_e):h.fF.assertFail("Invalid property name");var Re=Te.properties;if(!(0,n.Pg)(Re,ce)){oe=!0;for(var tt=0,mt=(0,n.hu)(Re,ce);tt<mt.length;tt++)ye(be,ve=mt[tt],Re[ve],ce[ve]);Te.properties=ce}}if(Je.merge)for(var He=0,ke=Je.merge;He<ke.length;He++)for(var ve in Te=(0,n.zx)(pe,(be=ke[He]).objectName,be.selector),be.properties)if((0,m.e4)(ve)){var ft=Ne(be,ve,_e);(0,n.ES)(Te.properties[ve],ft)||(oe=!0,ye(be,ve,Te.properties[ve],ft),Te.properties[ve]=ft)}else h.fF.assertFail("Invalid property name");if(Je.remove)for(var Le=0,Q=Je.remove;Le<Q.length;Le++)if(Te=(0,n.my)(pe,(be=Q[Le]).objectName,be.selector))for(var ve in be.properties)(0,m.e4)(ve)?Te.properties.hasOwnProperty(ve)&&(oe=!0,ye(be,ve,Te.properties[ve],void 0),delete Te.properties[ve]):h.fF.assertFail("Invalid property name");if(Je.removeObject)for(var Ue=0,ae=Je.removeObject;Ue<ae.length;Ue++){var be;if(Te=(0,n.my)(pe,(be=ae[Ue]).objectName,be.selector)){if(fe)for(var ve in Te.properties)ye(be,ve,Te.properties[ve],void 0);oe=(0,n.AV)(pe,be.objectName,be.selector)||oe}}return oe}function Ee(Je,_e,pe){if(Je.name!==l.x.rows||!(0,d.qU)(null==pe?void 0:pe.dataViewMappings))return!0;var fe=_e.query;if(!fe||!fe.defn)return!1;var oe=(0,u.cY)(fe.projections,Je.name);return!!oe&&_.size(oe.all())>0||_e.hasUsedSmallMultiples}function Ne(Je,_e,pe){var oe;return h.fF.assertValue(Je,"instance"),pe&&pe[Je.objectName]&&pe[Je.objectName].properties[_e]&&(oe=pe[Je.objectName].properties[_e].type),(0,n.Lo)(Je.properties[_e],oe||{})}var Ye=function(){function Je(_e,pe,fe,oe,ye,Ce){this.visualPluginService=_e,this.geoTaggingService=pe,this.aggrOps=fe,this.featureSwitchService=oe,this.visualAuthoringCustomizeOperations=ye,this.displayNameService=Ce,h.fF.assertValue(_e,"visualPluginService"),h.fF.assertValue(pe,"geoTaggingService"),h.fF.assertValue(fe,"aggrOps"),this.visualPluginOps=(0,U.f)(_e,oe)}return Je.prototype.create=function(_e){h.fF.assertValue(_e,"options");var pe=this.visualPluginService.capabilities(_e.visualType),fe=_e.query||new L.g(P.vQ.create(),{},[]),oe=(0,B.F)().create(pe,this.geoTaggingService,fe.isDrillDisabled);if(oe){var ye={visualType:_e.visualType,query:fe};for(var Ce in _e.autoSelectVisualType&&(ye.autoSelectVisualType=!0),this.visualAuthoringCustomizeOperations.customizeOptions(ye,_e.schema),ye.query.projections)this.ensureDependentObjectDefn(oe.objectDescs,Ce,ye);var Be=_e.expr,be=!_e.inFilterVisualContainer&&Be&&!_.isArray(Be)&&w.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,_e.schema,_e.expr,!T.l.supportsFilterOutput(pe),this.visualPluginOps.isAnalysisVisual(_e.visualType));if(_.isEmpty(Be)||this.tryAdd(oe,ye,be,_e))return{singleVisual:ye}}},Je.prototype.add=function(_e,pe,fe){var oe;h.fF.assertValue(_e,"options"),h.fF.assertValue(pe,"target");var ye=pe.singleVisual;if(!ye)return!1;var Ce=this.visualPluginService.capabilities(ye.visualType),Be=!(null===(oe=ye.query)||void 0===oe||!oe.isDrillDisabled);ye.query||(Be=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,M.dR)(Ce));var be=(0,B.F)().create(Ce,this.geoTaggingService,Be);return!!be&&!!(ye.query?this.tryAdd(be,ye,fe,_e):this.tryAddWithUndefinedQuery(be,ye,fe,_e))&&(this.visualAuthoringCustomizeOperations.customizeOptions(ye,_e.schema),Je.clearConversionSourceContext(ye),!0)},Je.prototype.toggleHidden=function(_e,pe,fe){var oe=_e.getQueryRef(pe,{fieldIndex:fe});_e.toggleHidden(oe)},Je.prototype.remove=function(_e,pe,fe){h.fF.assertValue(_e,"options"),h.fF.assertValue(pe,"target");var oe=pe.singleVisual;return!(!oe||!this.tryRemove(oe.query,oe.columnProperties,_e,fe)||(Je.clearConversionSourceContext(oe),0))},Je.prototype.removeAllParametersAndProjectionsFromRole=function(_e,pe,fe,oe,ye){var Ce=pe&&pe.config;if(Ce){var Be=Ce&&Ce.singleVisual&&Ce.singleVisual.query;if(Be){var be=Be.getQueryFieldParametersByRole(_e);if(be&&be.length>0){for(var Te={},ce=Te[_e]=[],ve=0,Re=be;ve<Re.length;ve++)ce.push({parameter:Re[ve],result:[]});this.resolveParameters(fe,pe,Te,oe,ye,void 0);for(var tt=be.length-1;tt>=0;tt--)this.remove({count:void 0,projOptions:{parameter:be[tt]},role:_e,shouldRemoveParameter:!0},Ce,fe)}}}},Je.prototype.move=function(_e,pe){var fe;h.fF.assertValue(_e,"options"),h.fF.assertValue(pe,"target"),h.fF.assert(function(){return _.isNumber(_e.sourceIndex)&&_.isNumber(_e.targetIndex)&&_e.targetIndex>=0&&_e.sourceIndex>=0},"Invalid replace index"),h.fF.assert(function(){return _.isNumber(_e.sourceCount)&&_e.sourceCount>0},"Invalid number of items to replace");var oe=pe.singleVisual;if(!oe)return!1;if(_e.sourceRole===_e.targetRole&&!_e.replacementExpressions)return!!oe.query.moveProjection(_e.targetRole,_e.sourceIndex,_e.targetIndex,_e.sourceCount)&&(Je.clearConversionSourceContext(oe),!0);var Ce=[];if(!(null===(fe=oe.query)||void 0===fe?void 0:fe.getParameterByFieldIndex(_e.sourceIndex,_e.sourceRole))){var Be=oe.query.tryGetFieldExprs(_e.sourceRole);if(_.isEmpty(Be)||Be.length<_e.sourceCount)return!1;for(var be=0;be<_e.sourceCount;be++)if(Ce[be]=Be[_e.sourceIndex+be],!Ce[be])return!1}return this.moveProjectionCore(pe,Ce,_e)},Je.prototype.convert=function(_e){var pe;h.fF.assertValue(_e,"options");var fe=_e.source;if(!fe)return!1;var oe=fe.conversionSourceContext;oe||(oe=fe.conversionSourceContext=this.createConversionSourceContext(fe.query,fe.visualType,fe.syncGroup));var ye=this.visualPluginService.capabilities(oe.visualType),Ce=this.visualPluginService.capabilities(_e.target);if(!ye||!Ce||_.isEmpty(Ce.dataRoles))return!1;if((0,c.fS)(ye,Ce)){var Be=this.visualPluginService.capabilities(fe.visualType);return this.convertRoleWildCardProperties(Be,Ce,fe.objects),fe.query=oe.query,fe.visualType=_e.target,fe.visualType===_e.target&&Ce.supportsSynchronizingFilterState&&(fe.syncGroup=oe.syncGroup),!0}if(_e.skipRoleMapping)return fe.query=oe.query,fe.visualType=_e.target,!0;var Te=_e.schema,ce=this.convertDrillableRoles(oe.query,ye,Ce,_e.target,Te),ve=ce.query,Re=(0,M.WO)(Ce,ve.isDrillDisabled),Ke=this.getUniqueQueryFields(oe.query,_e.target);Ke=_.differenceWith(Ke,ce.convertedFields,L.g.isEqualQueryFields);var tt=(0,B.F)().create(Ce,this.geoTaggingService,ve.isDrillDisabled),mt=(0,B.F)().create(ye,this.geoTaggingService,oe.query.isDrillDisabled);tt.orderByRolePreferences(Te,Ke);var He=(0,u.d9)(ve.projections),ke=this.getExpressionRoleMappings(fe.query,Ke),ft=this.getConversionExprRoleList(ke,mt,tt,Te,_e.target,fe,He,Re);if(_.isEmpty(ft)&&_.isEmpty(ve.projections))return!1;for(var Le=0,Q=ft;Le<Q.length;Le++){var Ue=Q[Le];Ue.isFieldParameter?ve.addParameter(Ue.expr,Ue.roleName):ve.add(Ue.expr,Ue.roleName,{nativeReferenceName:Ue.nativeReferenceName,isHidden:Ue.isHidden}),this.ensureDependentObjectDefn(tt.objectDescs,Ue.roleName,fe)}var Se,nt,ae=(0,M.WO)(this.visualPluginService.capabilities(fe.visualType),!(null===(pe=fe.query)||void 0===pe||!pe.isDrillDisabled));_.isEmpty(ae)?(Se=(0,M.WO)(ye,oe.query.isDrillDisabled),nt=oe.query):(Se=ae,nt=fe.query);for(var vt=0,We=Re;vt<We.length;vt++){var de=We[vt];if(ve.projections[de]){ve.ensureActiveItems(de);for(var te=0,Ve=Se;te<Ve.length;te++){var xe=Ve[te];nt.projections[xe]&&(ve.projections[de].activeProjectionRefs=nt.projections[xe].activeProjectionRefs)}}}return this.updateTargetShowAllInfo(oe,ve,tt),ve.removeUnusedOrderBy(),ve.resetExpansionStates(),this.convertRoleWildCardProperties(ye,Ce,fe.objects),this.upgradePivotTableProperties(fe.objects,fe.visualType,_e.target),fe.query=ve,fe.visualType=_e.target,this.visualAuthoringCustomizeOperations.customizeOptions(fe,Te),!0},Je.prototype.convertRoleWildCardProperties=function(_e,pe,fe){if(h.fF.assertValue(_e,"VisualAuthoringCore.convertRoleWildCardProperties: sourceVisualCapabilities"),h.fF.assertValue(pe,"VisualAuthoringCore.convertRoleWildCardProperties: targetVisualCapabilities"),!_.isEmpty(fe)){var oe=_.chain(_e.dataRoles).filter(function(mt){return mt.kind!==s.DW.Measure}).map(function(mt){return mt.name}).value(),ye=_.chain(pe.dataRoles).filter(function(mt){return mt.kind!==s.DW.Measure}).map(function(mt){return mt.name}).value();if(!_.isEmpty(oe)&&!_.isEmpty(ye))for(var Ce in fe){var Be=fe[Ce];if(!_.isEmpty(Be))for(var be=0,Te=Be;be<Te.length;be++){var ve=Te[be].selector;if(ve&&!_.isEmpty(ve.data))for(var Re=0,Ke=ve.data.length;Re<Ke;Re++){var tt=ve.data[Re];(0,i.j9)(tt)&&_.isEqual(_.sortBy(tt.roles),_.sortBy(oe))&&(ve.data[Re]=(0,V.Yp)(ye))}}}}},Je.prototype.upgradePivotTableProperties=function(_e,pe,fe){("matrix"===pe||"table"===pe)&&("pivotTable"===fe||"tableEx"===fe)&&((0,n.TX)(_e,"general",void 0,"textSize","grid"),(0,n.TX)(_e,"general",void 0,"autoSizeColumnWidth","columnHeaders")),"matrix"===pe&&"pivotTable"===fe&&((0,n.TX)(_e,"general",void 0,"columnSubtotals","subTotals"),(0,n.TX)(_e,"general",void 0,"rowSubtotals","subTotals")),"table"===pe&&"tableEx"===fe&&(0,n.TX)(_e,"general",void 0,"totals","total")},Je.prototype.setAggregate=function(_e,pe){if(!pe.singleVisual.query.setAggregate(_e.role,_e.index,_e.newAggregate))return!1;var fe=this.generateNativeReferenceNameForOperation(_e,pe);return this.setNativeReferenceNameByRoleAndProjectionIndex(pe.singleVisual.query,_e.index,_e.role,fe,_e),Je.clearConversionSourceContext(pe.singleVisual),!0},Je.prototype.removeAggregate=function(_e,pe){if(!pe.singleVisual.query.removeAggregate(_e.role,_e.index))return!1;var fe=this.generateNativeReferenceNameForOperation(_e,pe);return this.setNativeReferenceNameByRoleAndProjectionIndex(pe.singleVisual.query,_e.index,_e.role,fe,_e),Je.clearConversionSourceContext(pe.singleVisual),!0},Je.prototype.setPercentOfGrandTotal=function(_e,pe){if(!pe.singleVisual.query.setPercentOfGrandTotal(_e.role,_e.index))return!1;var fe=this.generateNativeReferenceNameForOperation(_e,pe);return this.setNativeReferenceNameByRoleAndProjectionIndex(pe.singleVisual.query,_e.index,_e.role,fe,_e),Je.clearConversionSourceContext(pe.singleVisual),!0},Je.prototype.removePercentOfGrandTotal=function(_e,pe){if(!pe.singleVisual.query.removePercentOfGrandTotal(_e.role,_e.index))return!1;var fe=this.generateNativeReferenceNameForOperation(_e,pe);return this.setNativeReferenceNameByRoleAndProjectionIndex(pe.singleVisual.query,_e.index,_e.role,fe,_e),Je.clearConversionSourceContext(pe.singleVisual),!0},Je.prototype.setPercentOfRoleTotal=function(_e,pe){if(!pe.singleVisual.query.setPercentOfRoleTotal(_e.roleRefs,_e.role,_e.index))return!1;var fe=this.generateNativeReferenceNameForOperation(_e,pe);return this.setNativeReferenceNameByRoleAndProjectionIndex(pe.singleVisual.query,_e.index,_e.role,fe,_e),Je.clearConversionSourceContext(pe.singleVisual),!0},Je.prototype.removePercentOfRoleTotal=function(_e,pe){if(!pe.singleVisual.query.removePercentOfRoleTotal(_e.role,_e.index))return!1;var fe=this.generateNativeReferenceNameForOperation(_e,pe);return this.setNativeReferenceNameByRoleAndProjectionIndex(pe.singleVisual.query,_e.index,_e.role,fe,_e),Je.clearConversionSourceContext(pe.singleVisual),!0},Je.prototype.updateVisualCalculation=function(_e,pe,fe,oe,ye,Ce){var Be=_e.singleVisual.query;return!(!Be||!Be.updateVisualCalculation(pe,fe,oe,ye)||(this.setNativeReferenceNameByRoleAndProjectionIndex(Be,pe,fe,oe,Ce),Je.clearConversionSourceContext(_e.singleVisual),0))},Je.prototype.setNativeReferenceNameByRoleAndProjectionIndex=function(_e,pe,fe,oe,ye){var Ce=_e.getQueryRefByProjectionIndex(fe,pe);if(null!=Ce){var Be=_e.defn.select(),be=(0,S.g2)(Be,Ce);this.setNativeReferenceNameAt(_e,be,oe,ye)}},Je.prototype.setNativeReferenceNameAt=function(_e,pe,fe,oe){var ye,Ce=_e.defn.getNativeReferenceNameAt(pe);if(Ce!==fe&&(_e.defn.setNativeReferenceNameAt(pe,fe),!(0,r.g)(Ce)&&null!=(null===(ye=null==oe?void 0:oe.visualCalcDaxParserServiceContext)||void 0===ye?void 0:ye.service))){var Be=new ee(Ce,fe,oe.visualCalcDaxParserServiceContext);new W.$(Be).rewriteQuery(_e)}},Je.prototype.toggleShowAll=function(_e,pe){pe.singleVisual.query.toggleShowAll(_e),Je.clearConversionSourceContext(pe.singleVisual)},Je.prototype.changeDrillState=function(_e,pe,fe){pe.query.changeDrillStateValue(_e,!fe),Je.clearConversionSourceContext(pe)},Je.prototype.changeActiveProjection=function(_e,pe,fe){var oe=pe.query.projections[_e];if(oe){var Be,ye=_.uniqBy(oe.all(),function(Te){return Te.queryRef}),Ce=_.uniq(oe.activeProjectionRefs);_.isEmpty(Ce)||(Be=Ce.length);var be=Be&&_.findIndex(ye,function(Te){return Te.queryRef===Ce[Be-1]});if(!(null==be||be<0)){if(1===fe){if(!(be>=1))return;Ce.pop(),(1===Be||Ce[Be-2]!==ye[be-1].queryRef)&&Ce.push(ye[be-1].queryRef)}else{if(3===fe&&(Ce.length=0),h.fF.assert(function(){return ye.length>=be+1},"visualAuthoringCore.changeActiveProjection -\n                    If we are drilling down there must be at least one more projection other than the lastActiveProjection"),!(ye.length>be+1))return;Ce.push(ye[be+1].queryRef)}return Je.clearConversionSourceContext(pe),oe.activeProjectionRefs=Ce,Ce}}},Je.prototype.addDrillFilter=function(_e,pe,fe,oe,ye){this.addDrill(_e,pe,fe,oe,ye,2,!0)},Je.prototype.addDrillToDetailsFilter=function(_e,pe,fe,oe,ye){_.remove(pe,function(Ce){return!!Ce.expression&&(0,he.k)(Ce.expression)}),this.addDrill(_e,pe,fe,oe,ye,0,!1)},Je.prototype.addDrill=function(_e,pe,fe,oe,ye,Ce,Be){if(pe&&fe&&!_.isEmpty(oe)&&ye)for(var be=function(Ke){var tt=fe.defn.select().withName(Ke).expr,mt=ye.expr,He=(0,ie.Ym)(mt);He&&(mt=mt.arg);var ke=(0,D.FD)(mt),ft=[],Le=void 0,Q=tt.getKeyColumns(_e);if(!_.isEmpty(ke.values))for(var Ue=function(Ve){var xe=ke.args[Ve];if(xe&&-1!==w.m.indexOfExpr(Q,xe)){ft.push(xe);var Z=_.map(ke.values,function(J){return[J[Ve]]});Le=_.isEmpty(Le)?Z:_.chain(Le).zip(Z).map(function(J){return _.flatten(J)}).value()}},ae=0;ae<ke.args.length;ae++)Ue(ae);if(!_.isEmpty(ft)&&!_.isEmpty(Le)){var Se=(0,F.Sh)(ft,Le||[]);He&&(Se=(0,F.ff)(Se));var We,nt=(0,p.SN)([{kind:1,expr:Se,key:ye.key}]),vt=_.filter(pe,function(te){return(0,q.fS)(tt,te.expression)});Be&&(We=_.find(vt,function(te){return te.howCreated===Ce})),We?(h.fF.assert(function(){return!We.filter||We.howCreated===Ce&&Be},"The filter to overwrite should be empty or the specified kind we want to overwrite"),We.filter=nt,We.howCreated=Ce,We.precedence=0):pe.push({name:null,expression:tt,filter:nt,type:R.vA.Categorical,howCreated:Ce,precedence:0})}},Te=0,ce=oe;Te<ce.length;Te++)be(ce[Te])},Je.prototype.removeDrillFilter=function(_e,pe){return this.removeDrillFilterCore(_e,pe)},Je.prototype.removeAllDrillFilters=function(_e){return this.removeDrillFilterCore(_e)},Je.prototype.removeDrillFilterCore=function(_e,pe){if(!_e)return!1;this.ensureFiltersArrayIsValid(_e);for(var fe=[],oe=0,ye=_e.length;oe<ye;oe++){var Ce=_e[oe];if(Ce&&2===Ce.howCreated)if(void 0===pe)fe.push(oe);else if((0,q.fS)(pe,Ce.expression)){fe.push(oe);break}}return _.forEachRight(fe,function(Be){return _e.splice(Be,1)}),!!fe.length},Je.prototype.setMatchingFilterToAuto=function(_e,pe){if(pe.filters){var fe=_.find(pe.filters,function(oe){return null!=oe&&(0,q.fS)(oe.expression,_e)});fe&&(fe.howCreated=0)}},Je.prototype.removeAutoFilterFromContract=function(_e,pe,fe){if(_e){var oe=_e.filters;if(oe){var ye=_e.config.singleVisual.query,Ce=null!=fe?fe:this.getRemoveOptionsQueryRefs(pe,ye);_.forEach(Ce,function(Be){var be=ye.defn.select().withName(Be),Te=be?be.expr:void 0,ce=(0,S.Rl)(oe,function(Re){return h.fF.assertValue(Re,"removeAutoFilterFromContract: visualContainer with name ".concat(_e.name," contains blank value in .filters")),null!=Re&&0===Re.howCreated&&(0,q.fS)(Re.expression,Te)});if(ce.length>0){h.fF.assertValue(1===ce.length,"More than one auto filter found");var ve=T.l.isFilterModified(ce[0]);ve?ve&&(ce[0].howCreated=1):_.remove(_e.filters,ce[0])}}),this.ensureFiltersArrayIsValid(oe)}}},Je.prototype.ensureFiltersArrayIsValid=function(_e){if(null!=_e)for(var pe=_e.length-1;pe>=0;pe--)null==_e[pe]&&(h.fF.assertFail("filters array contains null element"),_e.splice(pe,1))},Je.prototype.getRemoveOptionsQueryRefs=function(_e,pe){var fe,oe,ye=[],Ce=_e,Be=Ce.projOptions;if(Ce.role&&null!==Be.fieldIndex){var be=Be.fieldIndex,Te=Be.parameter;if(Te)for(var ce=null!==(fe=Te.length)&&void 0!==fe?fe:0,ve=0;ve<ce;ve++){var Re=pe.getQueryRef(Ce.role,{parameter:Te,indexInParameter:ve});ye.push(Re)}else{var Ke=null!==(oe=Ce.count)&&void 0!==oe?oe:1;for(ve=0;ve<Ke;ve++)(Re=pe.getQueryRef(Ce.role,{fieldIndex:be+ve}))&&ye.push(Re)}}else if(_e.expr){var mt=(0,S.rY)(_e.expr),He=pe.defn.select();_.forEach(mt,function(ke){var ft=_.filter(He,function(Le){var Q=Le.expr;return(0,ie.iV)(Q)&&(Q=Q.arg),(0,q.fS)(Q,ke)});_.forEach(ft,function(Le){Le&&Le.name&&ye.push(Le.name)})})}return ye},Je.prototype.isEmptyQueryVisual=function(_e){var pe=_e.config.singleVisual;if(pe&&this.visualPluginOps.isQueryVisual(pe.visualType)&&pe.query&&0===pe.query.defn.select().length&&_.isEmpty(pe.query.getQueryFieldParameters())){var fe=this.visualPluginService.capabilities(pe.visualType);if(fe){var oe=(0,C.$T)(fe.dataViewMappings,pe.objects);return!(oe&&!(0,r.g)(oe.source))}return!1}return!1},Je.prototype.setDefaultSort=function(_e,pe,fe,oe){if(_e.config&&_e.config.singleVisual){var ye=_e.config.singleVisual,Ce=oe.capabilities(ye.visualType);if(fe.shouldApplyDefaultSort(ye,Ce)){var Be=ye.query;if(Be){var be=Be.defn,Te=Be.projections,ce=be.select(),ve=[],Re=_.filter(Ce.dataRoles,function(Z){return!(_.has(Z,"joinPredicate")||0===Z.joinPredicate)});if(_.some(Re,function(Z){var J=(0,u.cY)(Te,Z.name);if(J){var Fe=_.map(J.all(),function(ze){return ce.withName(ze.queryRef)});return _.some(Fe,function(ze){return ze&&ze.expr&&!_.isEmpty(ze.expr.getOrderByColumns(pe))})}}))return void(ye.hasDefaultSort&&(ye.query=new L.g(be.orderBy([]),Be.projections,Be.expansionStates,Be.isDrillDisabled),ye.hasDefaultSort=!1));for(var tt=!1,mt=0,He=Re;mt<He.length;mt++){var ke=He[mt],ft=(0,u.cY)(Te,ke.name);if(ft){var Le=_.map(ft.all(),function(Z){return Z.queryRef});if(Le){for(var Q=!1,Ue=[],ae=this.shouldDefaultExpandSort(ke.name,Ce.expandAndSort,Le.length),Se={direction:1,expr:null},nt=0,vt=Le;nt<vt.length;nt++){var We=vt[nt],de=ce.withName(We),te=de&&de.expr;if(te&&w.m.isExprValidForSorting(te)){var Ve=te.getMetadata(pe);if(Ve){var xe=1===Ve.kind&&Ve.type.numeric;if(ae&&(Ve.type.text||Ve.type.temporal||Ve.type.numeric&&_.first(Le)!==We?Ue.push({direction:1,expr:te}):ae=!1),null==Se.expr&&(te&&xe&&(Se.direction=2),Se.expr=te),Ve.type.temporal&&(Q=tt=!0,!ae)||xe&&(Q=!0,!ae))break}}}if(ae&&_.isEmpty(ve)){h.fF.assertValue(_.isEmpty(Ue),"hierarchical sort has no expr (setDefaultSort)"),ve=Ue;break}if(Q&&(_.isEmpty(ve)||tt)&&(h.fF.assertValue(Se.expr,"first projection sort has no expr (setDefaultSort)"),ve=[Se]),tt||ae)break}}}_.isEmpty(ve)||(ye.hasDefaultSort=!0,ye.query=new L.g(be.orderBy(ve),Be.projections,Be.expansionStates,Be.isDrillDisabled))}}}},Je.prototype.setDefaultExpandLevel=function(_e,pe,fe,oe,ye,Ce){var Be=this,be=pe.capabilities(_e.config.singleVisual.visualType);if(fe&&be.expandAndSort&&_.includes(be.expandAndSort,fe)&&_e.config&&_e.config.singleVisual){var Te=_e.config.singleVisual.query;Te&&be.expandAndSort.forEach(function(ce){var ve=(0,u.cY)(Te.projections,ce);if(ve){var Re=ve.getQueryRefs();if(Be.shouldDefaultExpandSort(ce,be.expandAndSort,Re.length)){var Ke=!1;if(ye)if(1===Ce){var tt=Re.indexOf(ye[ce].projectionName);if(tt<0)return;tt===Re.length-2&&Re.length-1===ye[ce].totalNumberOfProjections?Ke=!0:tt<Re.length-1&&Re.splice(tt+1),Ke=!0}else 2===Ce&&(Ke=!!_.isEmpty(ye)||ye[ce].currentPosition===ye[ce].totalNumberOfProjections);Ke&&(ve.activeProjectionRefs=_.map(Re,function(mt){return mt}),Be.setDrillMode(_e,2,oe))}}})}},Je.prototype.ensureValidDrillState=function(_e,pe,fe){for(var oe=0,ye=pe;oe<ye.length;oe++){var Ce=ye[oe];this.removeDrillFilter(_e.filters,Ce.expr);var Be=_e.config.singleVisual.query,be=Be.projections[Ce.roleName];if(be){var Te=_.last(be.activeProjectionRefs);if(null!=Te){var ce=Be.defn.select().withName(Te).expr;this.removeDrillFilter(_e.filters,ce)}}}this.ensureValidDrillMode(_e,fe)},Je.prototype.ensureValidDrillMode=function(_e,pe){var fe=_e.drillMode;(1===fe&&0===pe.getSupportedDrillDirections(_e)||2===fe&&!pe.canDrillToDetails(_e))&&this.setDrillMode(_e,0,pe)},Je.prototype.resolveParameters=function(_e,pe,fe,oe,ye,Ce){var Be={queryChange:!1,aliasChange:!1,outputFilterChange:!1,totalAddAttemptCount:0,totalAddSuccessCount:0,totalRemoveAttemptCount:0,totalRemoveSuccessCount:0,totalSuccessColumnCount:0,totalSuccessDateHierarchyCount:0,totalSuccessMeasureCount:0},be=pe&&pe.config&&pe.config.singleVisual&&pe.config.singleVisual.query;if(!be)return Be;var Te=[];for(var ce in fe)for(var ve=be.projections[ce],Re=ve.getFieldParameters(),Ke=function(Q){var Ue=Q.parameter,ae=Q.result,Se=_.find(Re,function(qe){return qe.index===Ue.index});if(!Se||!(0,q.fS)(Ue.expr,Se.expr))return"continue";for(var nt=ve.getParameterProjections(Se),vt=_.map(nt,function(qe){return be.defn.select().withName(qe.queryRef).expr}),We=_.map(ae,function(qe){return qe.expr}),de=(0,S.f1)(We,vt,q.fS),te=de.length-1,Ve=[],xe=[],Z=[],J=vt.length-1;J>=0;J--)te>=0&&(0,q.fS)(vt[J],de[te])?te--:(xe.push(Fe={role:ce,projOptions:{parameter:Se,indexInParameter:J}}),Ve.push(nt[J].queryRef),Z.push({expr:vt[J],roleName:ce}));if(xe.length>0){var rt=tt.removeWithValidation(be,Ve,xe,pe,_e,Z,oe,ye,void 0,!0),Pe=rt.removeAttemptCount,X=rt.outputFilterChange;Be.totalRemoveSuccessCount+=rt.removeSuccessCount,Be.totalRemoveAttemptCount+=Pe,Be.outputFilterChange||(Be.outputFilterChange=X)}te=0;var we=0,Ze=0;for(J=0;J<We.length;J++){var et=ae[J].alias,Fe={parameter:Se,indexInParameter:J-(we-Ze)};if(de.length>0&&(0,q.fS)(We[J],de[te]))te++,Ce&&(Be.aliasChange=Ce(_e,pe,Fe,ce,et)||Be.aliasChange);else{var at=We[J];we++,tt.add({expr:at,schema:_e,targetRole:ce,projOptions:Fe},pe.config,!1)&&(Ze++,(0,ie.t3)(at)?Be.totalSuccessColumnCount++:(0,ie.kb)(at)?Be.totalSuccessMeasureCount++:(0,ie.ez)(at)&&Be.totalSuccessDateHierarchyCount++,Te.push(at),Ce&&(Be.aliasChange=Ce(_e,pe,Fe,ce,et)||Be.aliasChange))}}Be.totalAddAttemptCount+=we},tt=this,mt=0,He=fe[ce];mt<He.length;mt++)Ke(He[mt]);if(Be.totalAddSuccessCount=Te.length,Be.totalAddSuccessCount>0){var ft=this.runAddFieldValidation(pe,_e,Te,oe,ye,void 0,!0);Be.outputFilterChange||(Be.outputFilterChange=ft)}return(Be.totalAddSuccessCount>0||Be.totalRemoveSuccessCount>0)&&(this.setDefaultSort(pe,_e,ye,this.visualPluginService),(0,A.Hr)(pe),Be.queryChange=!0),Be},Je.prototype.runAddFieldValidation=function(_e,pe,fe,oe,ye,Ce,Be,be,Te,ce){this.ensureValidDrillMode(_e,oe);var ve=!1;if(!Be||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var Ke=(Ce||this.updateFilterState.bind(this))(pe,_e,!1,!0,!0,void 0,ce);ve=(null==Ke?void 0:Ke.clearOrDefault)||(null==Ke?void 0:Ke.updateAll)}if(Be||(this.setDefaultExpandLevel(_e,this.visualPluginService,be,oe,Te,2),this.setDefaultSort(_e,pe,ye,this.visualPluginService),(0,A.Hr)(_e)),_.isArray(fe))for(var mt=0,He=fe;mt<He.length;mt++)this.setMatchingFilterToAuto(He[mt],_e);else this.setMatchingFilterToAuto(fe,_e);return ve},Je.prototype.removeWithValidation=function(_e,pe,fe,oe,ye,Ce,Be,be,Te,ce){var ve,Re=0,Ke=[],tt=!1;this.removeAutoFilterFromContract(oe,void 0,pe);for(var mt=0;mt<fe.length;mt++){var He=this.remove(fe[mt],oe.config,ye);Re+=He?1:0,He||Ke.push(mt)}if(Re>0){if(Ke.length>0){pe=_.clone(pe);for(var ke=Ke.length-1;ke>=0;ke--)pe.splice(Ke[ke],1)}if(!ce){var ft=this.captureCurrentActiveProjectionsByRole(oe);this.setDefaultExpandLevel(oe,this.visualPluginService,null===(ve=_.first(fe))||void 0===ve?void 0:ve.role,Be,ft,0)}if(this.ensureValidDrillState(oe,Ce,Be),this.isEmptyQueryVisual(oe)?_e=oe.config.singleVisual.query=void 0:ce||(this.setDefaultSort(oe,ye,be,this.visualPluginService),(0,A.Hr)(oe)),!ce||this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer){var Q=(Te||this.updateFilterState.bind(this))(ye,oe,!0,!0,!0,null);tt=(null==Q?void 0:Q.clearOrDefault)||(null==Q?void 0:Q.updateAll)}ce||this.clearUnusedObjectDefinitions(oe,_e,pe)}return{removeAttemptCount:fe.length,removeSuccessCount:Re,outputFilterChange:tt}},Je.prototype.clearUnusedObjectDefinitions=function(_e,pe,fe){_.forEach(fe,function(oe){if(!pe||!pe.isUsed(oe)){var ye=_e.config.singleVisual.objects;_.forEach(ye,function(Ce,Be){var be=[];_.forEach(Ce,function(Te){Te.selector&&Te.selector.metadata===oe&&be.push(Te.selector)}),_.forEach(be,function(Te){(0,n.AV)(ye,Be,Te)})})}})},Je.prototype.updateFilterState=function(_e,pe,fe,oe,ye,Ce){var Be=pe.config.singleVisual,be=this.visualPluginService.capabilities(Be.visualType),Te=be?be.objects:null;if(oe&&this.ensureDefaultFilterApplied(_e,Be,fe))return{clearOrDefault:!0,updateAll:!1};var ce=!1;if(ye){var ve=this.updateFilterOutput(Be,Te,_e);if(2===ve)return{clearOrDefault:!0,updateAll:!1};ce=1===ve}var Re=pe.config.singleVisual;return!ce&&Ce&&Re&&Re.objects&&(0,n.NA)(Re.objects,Ce,null)&&(ce=!0),{clearOrDefault:!1,updateAll:ce}},Je.prototype.ensureDefaultFilterApplied=function(_e,pe,fe){var oe=this.visualPluginService.capabilities(pe.visualType),ye=oe?oe.objects:null,Ce=(0,f.Ln)(ye),Be=pe.query&&pe.query.getUniqueQueryRefs();if(!Ce||_.isEmpty(Be))return this.clearDefaultFilterOutput(pe,ye);for(var be=pe.query.defn.select(),ce=[],ve=[],Re=!0,Ke=0,tt=_.map(Be,function(Le){return be.withName(Le).expr});Ke<tt.length;Ke++){var mt=tt[Ke];w.m.getDefaultValue(mt,_e)?Re?ce.push.apply(ce,this.getExprKeyColumns(mt,_e)):ve.push.apply(ve,this.getExprKeyColumns(mt,_e)):Re=!1}if(_.isEmpty(ce)&&_.isEmpty(ve)||fe)return this.clearDefaultFilterOutput(pe,ye);pe.objects||(pe.objects={});var ke=(0,f.MD)(ye),ft=P.yl.getDefaultAnyValueFilter(ce,ve);return(0,n.sO)(pe.objects,ke,null,ft),!0},Je.prototype.getExprKeyColumns=function(_e,pe){var fe=(0,y.Q)(_e);return fe.column||fe.groupingColumn||fe.hierarchyLevel?_e.getKeyColumns(pe):[_e]},Je.prototype.clearDefaultFilterOutput=function(_e,pe){if(!_e.objects)return!1;var fe=(0,f.MD)(pe);if(!fe)return!1;var oe=(0,n.NA)(_e.objects,fe,null);return!(!oe||!P.yl.isDefaultFilter(oe)||((0,n.E2)(_e.objects,fe.objectName,null,fe.propertyName),0))},Je.prototype.updateFilterOutput=function(_e,pe,fe){if(!_e.objects)return 0;var oe=(0,f.MD)(pe);if(!oe)return 0;var ye=(0,n.NA)(_e.objects,oe,null);if(ye){if(!this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!_e.query)return(0,n.E2)(_e.objects,oe.objectName,null,oe.propertyName),2;var Ce=this.updateFilterOutputForVisual(_e.query,ye,fe);return P.yl.isSameFilter(Ce,ye)?0:Ce?((0,n.sO)(_e.objects,oe,null,Ce),1):((0,n.E2)(_e.objects,oe.objectName,null,oe.propertyName),2)}return 0},Je.prototype.updateFilterOutputForVisual=function(_e,pe,fe){var oe=_e.getUniqueQueryRefs();if(!_.isEmpty(oe)){var ye=new e.H,Ce=_e.defn.select(),Be=_.map(oe,function(He){return Ce.withName(He).expr.accept(ye,fe)}).reduce(function(He,ke){return He.concat(ke)},[]);if(!_.isEmpty(Be)){for(var be,ce=[],ve=0,Re=pe.where();ve<Re.length;ve++){var Ke=Re[ve],tt=w.m.syncSQExprWithFilterIdenities(Be,Ke.condition);tt&&ce.push({target:Ke.target,condition:tt,annotations:Ke.annotations})}return ce.length>0&&(be=new P.yl(pe.from(),ce)),be}}},Je.prototype.moveProjectionCore=function(_e,pe,fe){var oe,ye=_e.singleVisual;if(!ye||!ye.query)return!1;var Ce=fe.sourceRole,Be=fe.targetRole,be=fe.sourceIndex,Te=fe.targetIndex,ce=fe.replacementExpressions,ve=fe.schema,Re=fe.allowPartialReplace,Ke=(0,g.d9)(ye),tt=Ke.query.getParameterByFieldIndex(be,Ce);h.fF.assert(function(){return!!tt||pe.length>0},"No items specified to replace");var mt=Ke.query.defn.orderBy(),He=pe;_.isEmpty(ce)||(He=_.map(ce,function(J,Fe){var ze=He[Fe];return ze?{expr:J,isFieldParameter:ze.isFieldParameter,isHidden:ze.isHidden}:{expr:J}}));var ke_getColumnPropertiesForExprs=function(pe,fe){var oe=[];if(fe.columnProperties)for(var ye=0,Ce=pe;ye<Ce.length;ye++){var Be=Ce[ye],be=fe.query.defn.selectNameOf(Be),Te=fe.columnProperties[be];Te&&oe.push({originalExpr:Be,columnProperty:Te})}return oe},ke_applyColumnPropertiesByExpr=function(pe,fe,oe,ye){var Ce=_.find(ye,function(be){return be.originalExpr===pe});if(Ce){var Be=oe.query.defn.selectNameOf(fe);oe.columnProperties[Be]||(oe.columnProperties[Be]=Ce.columnProperty)}},ft=ke_getColumnPropertiesForExprs(_.map(He,function(J){return J.expr}),Ke);if(!this.tryRemoveProjections(Ke.query,Ke.columnProperties,{role:Ce,projOptions:{fieldIndex:be,parameter:tt},count:pe.length,shouldRemoveParameter:!0}))return!1;mt.length>0&&Ke.query.orderBy(mt);var Q=this.visualPluginService.capabilities(ye.visualType),Ue=(0,B.F)().create(Q,this.geoTaggingService,!(null===(oe=ye.query)||void 0===oe||!oe.isDrillDisabled));if(!Ue)return!1;var ae=Ue.roles.withName(Be);if(!ae)return!1;var Se=Ce===Be&&Te===be,nt=!1;if(Se){if(1===He.length&&w.m.shouldUseAsFieldParameter(this.featureSwitchService.featureSwitches.fieldParametersAuthoring,ve,He[0].expr,this.featureSwitchService.featureSwitches.fieldParameterDynamicSlicer||!T.l.supportsFilterOutput(Q),this.visualPluginOps.isAnalysisVisual(Ke.visualType))&&!(nt=this.tryAdd(Ue,Ke,!0,{expr:He[0].expr,schema:ve,targetRole:Be,projOptions:{fieldIndex:Te}})))return!1}else if(tt&&!(nt=this.tryAdd(Ue,Ke,!0,{expr:tt.expr,schema:ve,targetRole:Be,projOptions:{fieldIndex:Te},hideOnOverflow:fe.hideOnOverflow})))return!1;if(!nt)for(var de=0;de<He.length;de++){var te=He[de].expr,Ve=He[de];if(Ve.expr=this.aggregateIfNecessary(Ve.expr,ae,ve),Ve.isHidden=Ve.isHidden&&(0,he.k)(Ve.expr),!this.tryAdd(Ue,Ke,!1,{expr:Ve.expr,schema:ve,targetRole:Be,projOptions:{fieldIndex:Te+de,nativeReferenceName:Se?void 0:He[de].nativeReferenceName,isHidden:Ve.isHidden},hideOnOverflow:fe.hideOnOverflow})){if(de>0&&Re)break;return!1}if(ye.query.projections[Ce].showAll){var Z=He[de].expr.getMetadata(ve);this.isShowAllRole(ae.kind)&&Z&&1!==Z.kind&&(Ke.query.projections[Be].showAll=!0)}ke_applyColumnPropertiesByExpr(te,Ve.expr,Ke,ft)}return _e.singleVisual=Ke,this.visualAuthoringCustomizeOperations.customizeOptions(_e.singleVisual,ve),Je.clearConversionSourceContext(_e.singleVisual),!0},Je.prototype.aggregateIfNecessary=function(_e,pe,fe){return null!=(0,b._L)((0,y.Q)(_e,fe))||pe.kind!==s.DW.Measure||w.m.discourageAggregation(_e,fe)?pe.kind===s.DW.Grouping?(0,E.n)(_e,fe):_e:this.aggrOps.createExprWithAggregate(_e,fe,!0,pe.requiredTypes)},Je.clearConversionSourceContext=function(_e){_e.conversionSourceContext=null},Je.prototype.getConversionExprRoleList=function(_e,pe,fe,oe,ye,Ce,Be,be){var Te=this,ce=function(Ke){for(var tt=[],mt=0,He=_e;mt<He.length;mt++){var ke=He[mt];if(ke.isFieldParameter)tt.push({expr:ke.expr,isFieldParameter:ke.isFieldParameter,roleName:ke.roleName});else{var Le=Ke(ke.expr);Le&&tt.push({expr:Le,nativeReferenceName:ke.nativeReferenceName})}}if(!_.isEmpty(tt))return Te.getCompatRolesForExprs(tt,pe,fe,oe,ye,Ce,!0,Be,be)},ve=this.getCompatRolesForExprs(_e,pe,fe,oe,ye,Ce,!1,Be,be);return _.isEmpty(ve)&&(ve=ce(function(Re){return(0,he.k)(Re)?Re:Te.aggrOps.createExprWithAggregate(Re,oe,!0,null)})),_.isEmpty(ve)&&(ve=ce(function(Re){return(0,he.k)(Re)?(0,E.n)(Re,oe):Re})),ve||[]},Je.prototype.getCompatRolesForExprs=function(_e,pe,fe,oe,ye,Ce,Be,be,Te){for(var ce=[],ve=be||{},Re=new N.W(O.Sd),Ke=_.some(_e,function(ze){return(0,ie.jX)(ze.expr)}),tt=0,mt=_e;tt<mt.length;tt++){var He=mt[tt],ke=void 0,ft=He.expr,Le=He.isFieldParameter,Q=He.roleName,Ue=He.nativeReferenceName,ae=He.isHidden;Q&&(ke=pe.roles.withName(Q));var Se=this.getTargetRoleForConversion(He,pe,fe),nt=Ke&&(0,he.k)(ft),vt=fe.findCompatibleRole({queryProjections:ve,schema:oe,expr:ft,targetRole:Se,preferDrillableRoles:!1,roleToExprMap:Re,useStrict:!0,isFieldParameter:Le,sourceRole:Le&&ke,isHidden:ae,overflowIsWarning:nt}),We=vt&&vt.role,de=vt&&vt.error===a.zS.conditionRangeTooLarge;if(We&&(!de||nt)){var Ve=!!de||ae;We=this.ensureCorrectKeyInfluencersRole(ye,We,void 0);var xe=this.ensureCorrectSmallMultiplesRole(Ce,fe.capabilities,We,pe.capabilities,Q).name;if(!Le){this.updateProjections(ve,xe,Te,Ve);var Z=fe.getNumberRangesForRoles(ve);if(this.shouldUseVariation(ft,oe,xe,Te,Z[xe],_.size(_e))){var Fe=(0,x.ZB)(ft);return ce.push({expr:Fe,roleName:xe,nativeReferenceName:Ue}),ce}}if(ce.push({expr:ft,isFieldParameter:Le,roleName:xe,nativeReferenceName:Ue,isHidden:Ve}),Be)return ce}}return ce},Je.prototype.shouldUseVariation=function(_e,pe,fe,oe,ye,Ce){if(!_.includes(oe,fe)&&ye&&ye.max<Ce){var Be=(0,y.Q)(_e,pe);if(Be&&Be.columnHierarchyLevelVariation)return!0}return!1},Je.prototype.getExpressionRoleMappings=function(_e,pe){return _.map(pe,function(fe){return{expr:fe.expr,roleName:_e.getRoleNameForExpr(fe.expr),isFieldParameter:fe.isFieldParameter,nativeReferenceName:fe.nativeReferenceName,isHidden:fe.isHidden}})},Je.prototype.getTargetRoleForConversion=function(_e,pe,fe){if(!fe.hasPreferredTypes()){var oe=_e.roleName,Ce=pe.capabilities,Be=fe.roles,be=fe.capabilities,Te=pe.roles.withName(oe),ce=Be.withName(oe);if(Te&&ce&&_.isEqual(Te.kind,ce.kind)){var ve=this.getDataViewMappingConditions(Ce),Re=this.getDataViewMappingConditions(be);if(!ve&&!Re||this.getDoesTargetRoleMatchSourceRole(oe,ve,Re))return oe}}},Je.prototype.getDoesTargetRoleMatchSourceRole=function(_e,pe,fe){return pe&&fe&&!pe.some(function(oe,ye){var Ce=_.get(oe,_e,null),Be=_.get(fe[ye],_e,null);return Ce&&Be&&!_.isEqual(Ce,Be)})},Je.prototype.getDataViewMappingConditions=function(_e){var pe=_e.dataViewMappings&&_e.dataViewMappings[0];return pe&&pe.conditions},Je.prototype.updateProjections=function(_e,pe,fe,oe){var ye={queryRef:pe,hidden:oe},Ce=(0,u.cY)(_e,pe);Ce||(_e[pe]=Ce=new u.NQ([])),Ce.addProjection(ye),_.includes(fe,pe)&&Ce.addActiveQueryReference(Ce.all()[0].queryRef)},Je.prototype.createConversionSourceContext=function(_e,pe,fe){return{query:_e,visualType:pe,syncGroup:fe}},Je.prototype.convertDrillableRoles=function(_e,pe,fe,oe,ye){var Ce;this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,M.S1)(fe)&&(Ce=(0,M.S1)(pe)?_e.isDrillDisabled:(0,M.dR)(fe));var Be=new L.g(_e.defn.select([]),{},[],Ce),be=(0,M.WO)(pe,_e.isDrillDisabled);return _.isEmpty(be)?{query:Be,convertedFields:[]}:{query:Be,convertedFields:this.convertDrillableProjections(fe,oe,_e,ye,be,Be)}},Je.prototype.convertDrillableProjections=function(_e,pe,fe,oe,ye,Ce){for(var Be=(0,M.WO)(_e,Ce.isDrillDisabled),be=[],Te=0,ce=ye;Te<ce.length;Te++){var Re=this.getQueryFieldsForRole(fe,ce[Te],pe);if(Re=this.convertDrillableFields(Re,oe,_e,Ce),be=_.unionWith(be,Re,L.g.isEqualQueryFields),_.isEmpty(Be))break}return Ce.ensureDrillableRoles(Be),be},Je.prototype.getQueryFieldsForRole=function(_e,pe,fe){return _e.projections[pe]?this.getQueryFields(fe,function(){return _e.tryGetFieldExprs(pe)}):[]},Je.prototype.getUniqueQueryFields=function(_e,pe){return this.getQueryFields(pe,function(){return _e.getUniqueQueryFields()})},Je.prototype.getQueryFields=function(_e,pe){var fe=pe();if(this.visualPluginOps.isAnalysisVisual(_e))for(var oe=0,ye=fe;oe<ye.length;oe++)ye[oe].isFieldParameter=!1;return fe},Je.prototype.convertDrillableFields=function(_e,pe,fe,oe){for(var tt,ye=(0,B.F)().create(fe,this.geoTaggingService,oe.isDrillDisabled),Ce=ye.getNumberRangesForRoles(oe),Be=(0,M.WO)(fe,oe.isDrillDisabled),be=_.isEmpty(Be),Te=new N.W(O.Sd),ce=[],ve=[],Re=function(Le){var Q=Le.expr,Ue=Le.queryName,ae=Le.nativeReferenceName,Se=Le.isHidden;if((0,ie.ez)(Q)){var nt=(0,x.ZB)(Le.expr);if(nt&&_.find(ve,function(J){return(0,q.fS)(J,nt)}))return ce.push(Le),"continue"}var vt=ye.findCompatibleRole({queryProjections:oe.projections,schema:pe,expr:Q,preferDrillableRoles:!0,roleToExprMap:Te,useStrict:!0,isFieldParameter:Le.isFieldParameter}),We=vt&&vt.role;if(We){var de=We.name,te=Ce[de],Ve=-1;if(Le.isFieldParameter)Ve=oe.addParameter(Q,We.name),ce.push(Le);else{var xe=oe.projections[de];if(be&&xe&&(tt=xe.all().length,te&&te.max&&te.max<=tt))return"continue";if(Ke.shouldUseVariation(Le.expr,pe,We.name,Be,te,_.size(_e))){var Z=(0,x.ZB)(Le.expr);return ve.push(Z),Ve=oe.add(Z,de,{exprName:Ue,nativeReferenceName:ae}),"continue"}Ve=oe.add(Q,de,{exprName:Ue,nativeReferenceName:ae,isHidden:Se})}Ve>-1&&ce.push(Le)}},Ke=this,mt=0,He=_e;mt<He.length;mt++)Re(He[mt]);return ce},Je.prototype.tryRemove=function(_e,pe,fe,oe){return function(Je){return void 0!==Je.role}(fe)?this.tryRemoveProjections(_e,pe,fe):!!function(Je){return void 0!==Je.expr}(fe)&&this.tryRemoveExpressions(_e,fe,oe)},Je.prototype.tryRemoveExpressions=function(_e,pe,fe){var oe,ye=!1,Ce=pe.fieldParameter;if(_.isArray(pe.expr))for(var Be=0,be=pe.expr;Be<be.length;Be++)ye=_e.removeExpr(be[Be],!!pe.ignoreAggregates,fe,null==Ce?void 0:Ce.expr)||ye;else ye=_e.removeExpr(pe.expr,!!pe.ignoreAggregates,fe,null==Ce?void 0:Ce.expr);return pe.shouldRemoveParameter&&Ce&&0===(null!==(oe=Ce.length)&&void 0!==oe?oe:0)&&(ye=_e.removeParameter(Ce)||ye),ye},Je.prototype.tryRemoveProjections=function(_e,pe,fe){var oe,ye=fe.role,Ce=fe.projOptions.parameter,Be=!1;if(Ce)Be=this.removeParameterProjections(_e,pe,Ce,ye,fe.shouldRemoveParameter,fe.projOptions.indexInParameter);else for(var ce=fe.projOptions.fieldIndex,Re=(null!==(oe=fe.count)&&void 0!==oe?oe:1)-1;Re>=0;Re--)if(!(Be=this.removeProjection(_e,pe,ye,{fieldIndex:ce})))return!1;return Be},Je.prototype.removeParameterProjections=function(_e,pe,fe,oe,ye,Ce){var Be,be,Te=!1;if(null!=Ce)Te=this.removeProjection(_e,pe,oe,{parameter:fe,indexInParameter:Ce});else for(var Re=(null!==(Be=fe.length)&&void 0!==Be?Be:0)-1;Re>=0;Re--)if(!(Te=this.removeProjection(_e,pe,oe,{parameter:fe,indexInParameter:Re})))return!1;return ye&&0===(null!==(be=fe.length)&&void 0!==be?be:0)&&(Te=_e.removeParameterByRoleName(fe,oe)||Te),Te},Je.prototype.removeProjection=function(_e,pe,fe,oe){var ye=_e.getQueryRef(fe,oe),Ce=_e.removeProjection(fe,oe);return ye&&!_e.isUsed(ye)&&pe&&pe[ye]&&delete pe[ye],Ce},Je.prototype.tryAddWithUndefinedQuery=function(_e,pe,fe,oe){var ye=!!this.featureSwitchService.featureSwitches.drillStateToggleable&&(0,M.dR)(_e.capabilities);pe.query=new L.g(P.vQ.create(),{},[],ye);var Ce=this.tryAdd(_e,pe,fe,oe);return Ce||(pe.query=void 0),Ce},Je.prototype.tryAdd=function(_e,pe,fe,oe){var ye;h.fF.assertValue(_e,"capabilitiesHelper"),h.fF.assertValue(pe,"config"),h.fF.assertValue(oe,"options");var Ce=oe.expr;h.fF.assertValue(Ce,"expr");var Be=new N.W(O.Sd),be=!1,Te=oe.projOptions;if(_.isArray(Ce))for(var ce=Te&&Te.fieldIndex,ve=0,Re=Ce;ve<Re.length;ve++)be=null!=this.tryAddQuery(_e,pe,oe,Re[ve],Te,Be,fe,oe.hideOnOverflow)||be,null!=ce&&Te.fieldIndex++;else if(null==this.tryAddQuery(_e,pe,oe,Ce,Te,Be,fe,oe.hideOnOverflow))return!1;if(!fe){var tt=(0,M.WO)(_e.capabilities,!(null===(ye=pe.query)||void 0===ye||!ye.isDrillDisabled));if(pe.query.ensureDrillableRoles(tt),_.isArray(Ce))return be}return!0},Je.prototype.tryAddQuery=function(_e,pe,fe,oe,ye,Ce,Be,be){h.fF.assertValue(_e,"capabilities"),h.fF.assertValue(pe,"config"),h.fF.assertValue(oe,"expr"),h.fF.assertValue(pe,"query");var Te=_e.findCompatibleRole({queryProjections:pe.query.projections,schema:fe.schema,expr:oe,preferDrillableRoles:!1,roleToExprMap:Ce,targetRole:fe.targetRole,isFieldParameter:Be,overflowIsWarning:be,isHidden:ye&&ye.isHidden});if(Te&&Te.role){if(!this.tryHideOnOverflow(Te,pe.query,ye))return;var ce=this.ensureCorrectKeyInfluencersRole(pe.visualType,Te.role,fe.targetRole);if(!this.featureSwitchService.featureSwitches.cartesianMultiplesAuthoring&&!Ee(ce,pe,_e.capabilities)&&(ce=this.ensureCorrectSmallMultiplesRole(pe,_e.capabilities,ce,void 0,void 0)),!_e.validateDuplicateColumnsInRole(ce,oe,pe.query,Be))return;var ve=ce.name,Re=void 0;if(Be)Re=pe.query.addParameter(oe,ve,ye&&ye.fieldIndex);else{var Ke=null==ye?{}:Object.assign({},ye);null==Ke.nativeReferenceName&&(Ke.nativeReferenceName=this.displayNameService.createUniqueNativeReference(oe,fe.schema,pe.query,_e.capabilities,void 0)),Re=pe.query.add(oe,ve,Ke)}return this.ensureDependentObjectDefn(_e.objectDescs,ve,pe),Ce.add(oe,ce),Re}},Je.prototype.tryHideOnOverflow=function(_e,pe,fe){if(!_e.error)return!0;if(_e.error===a.zS.conditionRangeTooLarge){if(fe&&fe.isHidden)return!0;var oe=pe.tryGetFieldExprs(_e.role.name);if(_.isEmpty(oe))return!1;for(var ye=0;ye<oe.length;ye++){var Ce=oe[ye];if(!Ce.isFieldParameter&&(0,he.k)(Ce.expr)&&!Ce.isHidden)return this.toggleHidden(pe,_e.role.name,ye),!0}}return!1},Je.prototype.generateNativeReferenceNameForOperation=function(_e,pe){var fe=pe.singleVisual.query.getQueryRefByProjectionIndex(_e.role,_e.index);if(null==fe)return h.fF.assertFail("queryRef does not exist while role ".concat(_e.role,", projection index ").concat(_e.index)),"";var oe=pe.singleVisual.query.defn.select().withName(fe),ye=this.visualPluginService.capabilities(pe.singleVisual.visualType);return this.displayNameService.createUniqueNativeReference(oe.expr,_e.schema,pe.singleVisual.query,ye,fe)},Je.prototype.captureCurrentActiveProjectionsByRole=function(_e){if(_e){var pe=this.visualPluginService.capabilities(_e.config.singleVisual.visualType),fe=_e.config.singleVisual.query;if(fe){var oe={};if(pe&&pe.expandAndSort)return pe.expandAndSort.forEach(function(ye){var Ce=(0,u.cY)(fe.projections,ye);!Ce||!Ce.activeProjectionRefs||(oe[ye]={projectionName:_.last(Ce.activeProjectionRefs),currentPosition:Ce.activeProjectionRefs.length,totalNumberOfProjections:Ce.getQueryRefs().length})}),oe}}},Je.prototype.ensureCorrectKeyInfluencersRole=function(_e,pe,fe){return _e!==Y.D.keyDriversVisual||pe.name!==o.qG.details||fe?pe:_.find((0,o.yM)().dataRoles,function(oe){return oe.name===o.qG.explainBy})},Je.prototype.ensureCorrectSmallMultiplesRole=function(_e,pe,fe,oe,ye){var Ce;return null!==(Ce=this.featureSwitchService.featureSwitches)&&void 0!==Ce&&Ce.cartesianMultiplesAuthoring||!(0,d.qU)(null==pe?void 0:pe.dataViewMappings)||fe.name!==l.x.rows||oe&&ye===l.x.rows&&(0,d.qU)(null==oe?void 0:oe.dataViewMappings)||_e.hasUsedSmallMultiples?fe:_.find(pe.dataRoles,function(Be){return Be.name===l.x.category})},Je.prototype.ensureDependentObjectDefn=function(_e,pe,fe){if(_e)for(var oe in _e){var ye=_e[oe];for(var Ce in ye.properties){var Be=ye.properties[Ce];if(Be.rule&&Be.rule.inputRole===pe){var be=fe.objects;be||(be=fe.objects={});var Te=(0,n.zx)(be,oe,null);Te.properties[Ce]||(Te.properties[Ce]=this.createDefaultDefinition(Be.type))}}}},Je.prototype.createDefaultDefinition=function(_e){if(_e.fillRule)return(0,v.yw)()},Je.prototype.getSourceShowAllInfo=function(_e){for(var pe={},fe=0,oe=_.values(_e);fe<oe.length;fe++)for(var ye=oe[fe],Ce=ye.showAll,Be=0,be=ye.all();Be<be.length;Be++)pe[be[Be].queryRef]=Ce;return pe},Je.prototype.updateTargetShowAllInfo=function(_e,pe,fe){for(var oe=this.getSourceShowAllInfo(_e.query.projections),ye=0,Ce=_.keys(pe.projections);ye<Ce.length;ye++){var Be=Ce[ye],be=fe.roles.withName(Be).kind;if(this.isShowAllRole(be))for(var Te=0,ce=pe.projections[Be].all();Te<ce.length;Te++){var Re=oe[ce[Te].queryRef];Re&&(pe.projections[Be].showAll=Re)}}},Je.prototype.isShowAllRole=function(_e){return _e===s.DW.Grouping||_e===s.DW.GroupingOrMeasure},Je.prototype.shouldDefaultExpandSort=function(_e,pe,fe){return _.includes(pe,_e)&&fe>1},Je.prototype.setDrillMode=function(_e,pe,fe){fe.setDrillMode(_e,pe)},Je}()},390079:function(Xe,H,t){t.d(H,{F:function(){return f}});var e=t(973188),l=t(979868),o=t(669266);function d(V,p){return null==V||isNaN(V)?p:null==p||isNaN(p)?V:Math.min(V,p)}function v(V,p){return null==V||isNaN(V)?p:null==p||isNaN(p)?V:Math.max(V,p)}var S=t(365358),h=t(498342),c=t(273269),r=t(553474),s=t(869053),u=t(411429),a=(t(512322),t(358246)),n=t(180764),m=t(819408);function f(){var p=n.g,C=a.Ge;function b(w){return w&&w.geography&&(w.geography.latitude||w.geography.longitude)}function y(w){return _.some(w.preferredTypes,function(x){return b(x)||x.numeric})}function D(w){return 0===w.cartesianKind||1===w.cartesianKind}var P=function(){function w(x,R,g,L){h.fF.assertValue(x,"capabilities"),h.fF.assertValue(R,"roles"),h.fF.assertAnyValue(g,"objectDescs"),h.fF.assertValue(L,"roleMappings"),this.capabilities=x,this.roles=R,this.objectDescs=g,this.roleMappings=L}return w.prototype.findCompatibleRole=function(x){h.fF.assertValue(x.queryProjections,"config"),h.fF.assertValue(x.schema,"schema"),h.fF.assertValue(x.expr,"expr"),h.fF.assertAnyValue(x.targetRole,"targetRole"),h.fF.assertAnyValue(x.roleToExprMap,"roleToExprMap");var R=x.expr,g=x.roleToExprMap,L=x.targetRole,M=x.preferDrillableRoles;if((0,l.ez)(R)){M=!0;var T=this.getExistingTargetRoleForHierarchyLevelIfAny(R,g);if(T){if(L&&L!==T.name)return;L=T.name}}var N,O=(0,u.Q)(R,x.schema);O&&(N=O.column||O.columnAggr||O.groupingColumn||O.groupingColumnAggr||O.measure);var A={projections:x.queryProjections,metadata:R.getMetadata(x.schema),columnName:N?N.name:void 0,preferDrillableRoles:M,targetRole:L,isFieldParameter:x.isFieldParameter,useStrict:x.useStrict,sourceRole:x.sourceRole,overflowIsWarning:x.overflowIsWarning,isHidden:x.isHidden},I=this.findRole(A);if(!I||!_.isEmpty(null==I?void 0:I.error)){A.preferDrillableRoles=!x.preferDrillableRoles;var B=this.findRole(A);_.isEmpty(null==B?void 0:B.error)&&(I=B)}return I&&g&&g.add(R,I.role),I},w.prototype.findRole=function(x){var g,R=this.roleMappings;if(!_.isEmpty(R)){for(var L=R[0].getValueType(x.metadata?x.metadata.type:void 0,x.columnName),M=this.roles.allRolesWithPreference(L?L.extendedType:void 0,x.projections,x.preferDrillableRoles,x.useStrict,x.sourceRole),O=0,N=x.targetRole?[x.targetRole]:M;O<N.length;O++)for(var A=N[O],I=0,B=R;I<B.length;I++){var W=B[I].checkRoleCompatibility(x,A,M);if(W&&!W.error)return W;W&&(g=W)}return g}},w.prototype.getExistingTargetRoleForHierarchyLevelIfAny=function(x,R){return h.fF.assertValue(R,"roleToExprMap"),R.get(x)},w.prototype.orderByRolePreferences=function(x,R){h.fF.assertValue(x,"schema"),h.fF.assertValue(R,".orderRoleByPreferences - fields is undefined");for(var g=this.roles.defns,L=0,M=R.length,T=0,O=g.length;T<O;T++){var N=g[T].preferredTypes;if(!_.isEmpty(N))for(var A=L;A<M;A++){var I=R[A],U=I.expr.getMetadata(x);if(U){var W=U.type;if(W)for(var j=0,K=N.length;j<K;j++)if(W.extendedType===C.fromDescriptor(N[j]).extendedType){R.splice(A,1),R.splice(L,0,I),L++;break}}}}},w.prototype.getNumberRangesForRoles=function(x){var g,R=_.map(this.roles.defns,function(Y){return Y.name});h.fF.assertValue(g=x instanceof p?x.projections:x,"projectionsByRole");for(var L={},M=0,T=R;M<T.length;M++)L[O=T[M]]={min:1/0,max:0};for(var A=0,I=_.filter(this.roleMappings,function(Y){return void 0===Y.verifyMappingConditions({projections:g,roleNames:R,preferDrillableRoles:!0,ignoreMin:!0})});A<I.length;A++)for(var U=I[A].getCondition(),W=0,j=R;W<j.length;W++){var ee,O=j[W],K=U&&U[O];ee=K?{min:v(K.min,0),max:d(K.max,1/0)}:{min:0,max:1/0},(ie=L[O]).min=Math.min(ee.min,ie.min),ie.max=Math.max(ee.max,ie.max)}for(var he=0,q=_.values(L);he<q.length;he++){var ie;(ie=q[he]).min=Math.min(ie.min,ie.max)}return L},w.prototype.getNonLatLongRoles=function(){var x=this.getLatLongRoleNames();return this.getFilteredRoleNames(x)},w.prototype.getFilteredRoleNames=function(x){for(var L=[],M=0,T=this.capabilities.dataViewMappings;M<T.length;M++){var O=T[M];O.categorical&&(0,s.Sr)(O.categorical.categories,{visitRole:function(I){L.push(I)}}),O.matrix&&(0,s.Ay)(O.matrix.rows,{visitRole:function(I){L.push(I)}})}return _.without.apply(_,(0,e.__spreadArray)([_.uniq(L)],x||[],!1))},w.prototype.getLatLongRoleNames=function(){return this.getRoleNames(function(x){return y(x)})},w.prototype.getCartesianGroupingOrMeasureRoleNames=function(){return this.getRoleNames(function(x){return D(x)})},w.prototype.getRoleNames=function(x){return _.chain(this.capabilities.dataRoles).filter(x).map(function(R){return R.name}).value()},w.prototype.hasPreferredTypes=function(){return _.some(this.capabilities.dataRoles,function(x){return!_.isEmpty(x.preferredTypes)})},w.prototype.validateDuplicateColumnsInRole=function(x,R,g,L){if(h.fF.assertValue(x,"targetRole"),h.fF.assertValue(R,"expr"),h.fF.assertValue(g,"VisualQuery"),!x.noDuplicates)return!0;var M=x.name,T=g.projections;if(T&&T[M]){var O=void 0;if(L){var U=T[M].getFieldParameters(),W=_.map(U,function(j){return j.expr});O=_.some(W,function(j){return(0,o.fS)(R,j)})}else{var N=T[M].all(),A=_.map(N,function(j){return j.queryRef}),I=g&&g.defn&&g.defn.select(),B=_.map(A,function(j){return I.withName(j).expr});O=_.some(B,function(j){return(0,o.fS)(R,j)})}return!O}return!0},w}(),F=function(){function w(x,R,g,L){h.fF.assertValue(x,"roles"),this.roles=x,this.geoTaggingService=R,this.condition=L,this.drillableRoles=g}return w.prototype.getCondition=function(){return this.condition},w.prototype.checkRoleCompatibility=function(x,R,g){if(h.fF.assertValue(x.projections,"projections"),h.fF.assertAnyValue(x.metadata,"metadata"),x.metadata){var L=this.roles.withName(R);if(L){if(x.isFieldParameter)return{role:L};var M=(0,r.sw)(R,x.projections);x.isHidden||M++;var T=this.validateRoleCompatibility(L,x.metadata,M,x.preferDrillableRoles),O=T?{code:T,roleName:R}:void 0;if(!O&&!this.verifyMappingConditions({projections:x.projections,roleNames:_.without(g,R),preferDrillableRoles:x.preferDrillableRoles,ignoreMin:!1}))return{role:L};if(O&&O.roleName===R&&O.code===r.zS.conditionRangeTooLarge&&x.overflowIsWarning)return{role:L,error:O.code}}}},w.prototype.getValueType=function(x,R){if(x&&null==x.categoryString){var g=R&&this.geoTaggingService.getFieldType(R);null!=g&&(x=C.fromPrimitiveTypeAndCategory(x.primitiveType,g))}return x},w.prototype.verifyMappingConditions=function(x){h.fF.assertValue(x.projections,"projections"),h.fF.assertValue(x.roleNames,"roleNames");for(var R=0,g=x.roleNames;R<g.length;R++){var L=g[R],M=this.roles.withName(L);if(!M)return{code:"roleDoesNotExist",roleName:L};var T=(0,r.sw)(L,x.projections),O=this.validateRange({count:T,roleName:M.name,preferDrillableRoles:x.preferDrillableRoles,ignoreMin:x.ignoreMin});if(O)return{code:O,roleName:L}}},w.prototype.validateRoleCompatibility=function(x,R,g,L){var M,T;h.fF.assertValue(x,"roleInfo"),h.fF.assertValue(R,"exprMetadata");var O=x.kind;if(1===R.kind){if(O===c.DW.Grouping)return r.zS.conditionKindExpectedGrouping}else if(O===c.DW.Measure)return r.zS.conditionKindExpectedMeasure;var N=x.requiredTypes;return N&&!C.isCompatibleTo(R.type,N)?"exprTypeMismatch":null!==(T=null===(M=R.type)||void 0===M?void 0:M.misc)&&void 0!==T&&T.sparkline&&!x.supportsSparklines?"sparklineSupportMismatch":this.validateRange({count:g,roleName:x.name,preferDrillableRoles:L,ignoreMin:!1})||void 0},w.prototype.isRoleDrillable=function(x){return _.includes(this.drillableRoles,x)&&(!this.condition[x]||void 0===this.condition[x].max||1===this.condition[x].max)},w.prototype.validateRange=function(x){if(this.condition&&(!x.preferDrillableRoles||!this.isRoleDrillable(x.roleName))){var R=this.condition[x.roleName];return R?(0,r.JU)(x.count,R,x.ignoreMin):void 0}},w}(),E=function(){function w(x){h.fF.assertValue(x,"roles"),this.defns=x}return w.prototype.withName=function(x){return(0,S.rC)(this.defns,x)},w.prototype.allRolesWithPreference=function(x,R,g,L,M){var T=this,O=_.map(this.defns,function(N){return N.name});return M?this.promoteAndPenalize(O,function(N){return T.getRoleWeight(M,N)}):this.promoteAndPenalize(O,function(N){return T.getTypeWeightForRole(x,N.preferredTypes)},L),this.promoteAndPenalize(O,function(N){return T.getProjectionWeightForRole(N,R,g)}),O},w.prototype.promoteAndPenalize=function(x,R,g){for(var L=0,M=0,T=this.defns;M<T.length;M++){var O=T[M],N=R(O);if(null!=N){var A=x.splice(x.indexOf(O.name),1)[0];N!==w.penalize||g?N===w.promote&&x.splice(L++,0,A):x.push(A)}}},w.prototype.getRoleWeight=function(x,R){return x.kind===R.kind||this.hasCommonTypes(x.requiredTypes,R.requiredTypes)||this.hasCommonTypes(x.requiredTypes,R.preferredTypes)||this.hasCommonTypes(x.preferredTypes,R.requiredTypes)||this.hasCommonTypes(x.preferredTypes,R.preferredTypes)?w.promote:w.penalize},w.prototype.hasCommonTypes=function(x,R){return!_.isEmpty(x)&&!_.isEmpty(R)&&!_.isEmpty(_.intersectionWith(x,R,_.isEqual))},w.prototype.getTypeWeightForRole=function(x,R){if(R){for(var g=w.penalize,L=0,M=R;L<M.length;L++)if(x===C.fromDescriptor(M[L]).extendedType){g=w.promote;break}return g}},w.prototype.getProjectionWeightForRole=function(x,R,g){var L=R[x.name],M=L&&L.projected();if(!g&&!_.isEmpty(M)&&x.kind!==c.DW.Measure||g&&x.kind===c.DW.Measure)return w.penalize},w.penalize=-1,w.promote=1,w}();return{create:function(x,R,g){if(h.fF.assertAnyValue(x,"capabilities"),x&&!_.isEmpty(x.dataRoles)){for(var L=x.dataViewMappings,M=new E(x.dataRoles),T=[],O=0,N=L;O<N.length;O++){var I=N[O].conditions;if(_.isEmpty(I))T.push(new F(M,R,(0,m.WO)(x,g)));else for(var B=0,U=I;B<U.length;B++){var W=U[B];T.push(new F(M,R,(0,m.WO)(x,g),W))}}return new P(x,M,x.objects,T)}},dataRoleWrapper:function(x){return new E(x)},isValueTypeDescriptorLatLong:b,isRoleCompatibleWithLatLong:y,isRoleCompatibleWithScatterXY:D}}},168422:function(Xe,H,t){t.d(H,{I:function(){return o}});var e=t(498342),l=t(509607);function o(v){return new d(v)}var d=function(){function v(S){this.visualPlugins=S,e.fF.assertValue(this.visualPlugins,"visualPlugin")}return v.prototype.hasFilterCapabilities=function(S){var h=this.visualPlugins.getPlugin(S);return!!(h&&h.capabilities&&h.capabilities.objects&&(0,l.MD)(h.capabilities.objects))},v}()},895269:function(Xe,H,t){t.d(H,{w:function(){return D}});var e=t(973188),l=t(59118),o=t(123012),d=t(28291),v=t(653864),S=t(562386),h=t(498342),c=t(146234),r=t(288006),s=t(275179),u=t(476527),i=t(484959),a=t(179664),n=t(25138),m=t(716742),f=t(506969),V=t(927903),p=t(786248),C=t(715770),b=t(950327),y=t(155414);function D(F,E,w,x,R,g,L,M,T,O,N,A,I,B,U,W,j,K,ee,ie,he,q,Y){return new P(F,E,w,x,R,g,L,M,T,O,N,A,I,B,U,W,j,Y,q,K,ee,ie,he)}var P=function(){function F(E,w,x,R,g,L,M,T,O,N,A,I,B,U,W,j,K,ee,ie,he,q,Y,G){this.queryExecutionServices=E,this.hostServices=w,this.promiseFactory=x,this.conceptualSchemaProxy=R,this.featureSwitchService=g,this.telemetryService=L,this.visualQueryGenerator=M,this.visualPlugin=T,this.visualPluginOps=O,this.filterGenerator=N,this.displayNameService=A,this.explorationNavigation=I,this.visualValidationService=B,this.resourceLoader=U,this.eventBridge=W,this.dataProxyService=j,this.dataSources=K,this.visualLifecycleService=ee,this.resourceRegistration=ie,this.cachePolicyProviderService=he,this.visualInsightsAnalysisHandler=q,this.visualParameterService=Y,this.visualDataProxyExecutionService=G}return F.prototype.attach=function(E){this.queryExecutionServices=E},F.prototype.cancelQuery=function(E){this.visualDataProxyExecutionService.cancelQuery(E),this.visualParameterService.cancelResolve(E)},F.prototype.generateApplicationContext=function(E,w){var x,R,g=this.explorationNavigation&&this.explorationNavigation.getCurrentExploration()&&this.explorationNavigation.getCurrentExploration().report,L=g&&g.objectId;return{DatasetId:null===(R=null===(x=this.dataSources.get().filter(function(T){return!!T.dsr})[0])||void 0===x?void 0:x.dsr)||void 0===R?void 0:R.dbName,Sources:[{ReportId:L,Operation:E,VisualId:w&&w.name}]}},F.prototype.runQuery=function(E){var g,w=this,x=(0,p.O)(E.performanceActivity,m.V6,this.telemetryService),R=E.performanceActivity;this.featureSwitchService.featureSwitches.resolveParametersEvent&&(g=this.startResolveParametersPerformanceActivity(R));var L=this.startQueryPerformanceActivity(R),M=this.dataSources.get(),T=E.contract,O=T.config.singleVisual,N=O.query&&O.query.hasQueryFieldParameters();if(this.visualValidationService.shouldBlockVisualQuery&&this.visualValidationService.shouldBlockVisualQuery(T)||!(E.skipShouldRunQueryVerification||this.visualQueryGenerator.shouldExecute(O,M)||this.visualParameterService.shouldExecute(O,M)))return this.featureSwitchService.featureSwitches.resolveParametersEvent&&this.transitionResolveParametersToQuery(!1,g,L),L&&L.queryActivity.resolve(),x&&x.resolve(),!1;this.queryExecutionServices.notifyStart(L&&L.telemetryActivity),g&&g.setProperty("start",(0,c.z)());var B=this.resolveQueryParameters(E,g);return(this.visualInsightsAnalysisHandler.supportsInsights(T)?B.then(function(U){if((U.queryChange||U.aliasChange)&&w.queryExecutionServices.applyResolveParametersUpdate(),w.featureSwitchService.featureSwitches.resolveParametersEvent&&w.transitionResolveParametersToQuery(!0,g,L),!N||w.visualQueryGenerator.shouldExecute(O,M))return w.visualInsightsAnalysisHandler.runInsights(T).then(function(W){if(W){if(W.error)throw W.error;W.queryExecutionOptions&&_.merge(E,W.queryExecutionOptions)}return w.runQueryImpl(E,M,T,L,W&&W.warnings)})}):B.then(function(U){if((U.queryChange||U.aliasChange)&&w.queryExecutionServices.applyResolveParametersUpdate(),w.featureSwitchService.featureSwitches.resolveParametersEvent&&w.transitionResolveParametersToQuery(!0,g,L),!N||w.visualQueryGenerator.shouldExecute(O,M))return w.runQueryImpl(E,M,T,L,void 0)})).catch(function(U){w.queryExecutionServices.handleErrors(U,L)}).finally(function(){w.queryExecutionServices.notifyEnd(),x&&x.resolve()}),!0},F.prototype.transitionResolveParametersToQuery=function(E,w,x){w&&w.isRunning()&&(x&&x.queryActivity.isRunning()&&x.queryActivity.setProperty("start",(0,c.z)()),E&&w.getProperty("metadataParameterCount")>0?w.resolve():w.cancel(!0))},F.prototype.resolveQueryParameters=function(E,w){var x=this,R=this.dataSources.get();return this.conceptualSchemaProxy.get(R).then(function(g){var L=x.generateApplicationContext(E.queryOperation,E.contract),M=x.getDatasetCacheOptions(E,R,!1),T={dataSources:R,schema:g,additionalFilters:x.hostServices.getFilters(x.filterGenerator,g),config:E.contract.config.singleVisual,cacheOptions:M,allowResultFromClientCache:E.allowResultFromClientCache,applicationContext:L,cacheResponseOnServer:E.cacheResponseOnServer,visual:E.contract,performanceActivity:w,metricsKind:E.executionMetricsKind};return x.visualParameterService.resolve(T)})},F.prototype.runQueryImpl=function(E,w,x,R,g){var L=this;!E.initialLoad&&this.hostServices&&this.updateCachedData(E);var O,N,M=this.getDatasetCacheOptions(E,w,!0),T=E.initialLoad&&this.featureSwitchService.featureSwitches.verboseTelemetry;T&&(O=this.startVisualFirstLoadTelemetryEvent(M,w,x.name,R&&R.telemetryActivity)),N=this.generateApplicationContext(E.queryOperation,x);var A=this.visualDataProxyExecutionService.runQuery({dataSources:w,contract:x,viewport:E.viewport,hostServices:this.hostServices,initialLoad:E.initialLoad,useVisualContainerCache:E.useVisualContainerCache,preferCurrentData:E.preferCurrentData,allowResultFromClientCache:E.allowResultFromClientCache,cacheResponseOnServer:E.cacheResponseOnServer,cacheResponseOnContract:E.cacheResponseOnContract,cacheOptions:M,clientCacheOnly:E.clientCacheOnly,visualFirstLoadEvent:O,performanceActivity:R&&R.queryActivity,executionMetricsKind:E.executionMetricsKind,canDefer:E.canDefer,requestPriority:E.requestPriority,applicationContext:N,windowExpansionTransform:E.windowExpansionTransform,skipShouldRunQueryVerification:E.skipShouldRunQueryVerification,previewGate:E.previewGate}),I=x.config.singleVisual.visualType,U=this.loadResourcePackageReferences(I,x.config.singleVisual.objects);E.geocodingTracker&&E.geocodingTracker.newQuery(R&&R.rootActivity);var W=!1;return A.previewPromise.then(function(j){j&&!W&&L.resolveResourcePackageReferences(I,j.dataProxyQuery.transforms.objects,R&&R.rootActivity).then(function(K){L.handleQueryResult(x,j.result,j.dataProxyQuery,K,null,null,!0,R,g)})},function(j){h.fF.assert(function(){return j.ignorable},"Preview promise should be rejected with ignorable errors only")}),A.finalPromise.then(function(j){var K=j&&j.result&&j.result.dataReaderResult,ee=!!(M&u.U.AllowCache);K&&ee&&O&&(O.event.info.cacheResultFromServer=j.result.dataReaderResult.fromCache);var ie=L.getLastRefreshTime(w);if(ee&&K&&L.isResultStale(ie,j.result.dataReaderResult.timestamp)){var q=u.U.AllowQuery|u.U.CacheResult;return q=M&u.U.PreventRefresh?q|u.U.PreventRefresh:q,O&&(O.event.info.staleCacheResultFromServer=!0),L.visualDataProxyExecutionService.runQuery({dataSources:w,contract:x,viewport:E.viewport,hostServices:L.hostServices,initialLoad:E.initialLoad,useVisualContainerCache:!1,preferCurrentData:E.preferCurrentData,allowResultFromClientCache:!1,cacheResponseOnServer:!1,cacheOptions:q,visualFirstLoadEvent:O,performanceActivity:R&&R.queryActivity,executionMetricsKind:E.executionMetricsKind,requestPriority:E.requestPriority,canDefer:E.canDefer}).finalPromise}return j}).then(function(j){return U.then(function(){L.processQueryResult(E,j,R,g)})}).finally(function(){W=!0,T&&O&&O.resolve()})},F.prototype.startQueryPerformanceActivity=function(E){if(E&&E.isRunning())return{rootActivity:E,queryActivity:E.createChildActivity({name:"Query"}),telemetryActivity:this.telemetryService.getOpenActivityById(E&&E.getProperty("telemetryActivityId"))}},F.prototype.startResolveParametersPerformanceActivity=function(E){if(E)return E.createChildActivity({name:"Resolve Parameters"})},F.prototype.startVisualFirstLoadTelemetryEvent=function(E,w,x,R){var M,g=!!(E&u.U.AllowCache),L=(0,V.L2)(w);return M=R?this.telemetryService.startChildEvent(R.event,m.II,{onPrem:L,isServerCacheEligible:g,visualName:x}):this.telemetryService.startEvent(m.II,{onPrem:L,isServerCacheEligible:g,visualName:x}),(0,b.TW)(M.event,this.explorationNavigation),M},F.prototype.getCachedQueryOrGenerate=function(E){return(0,e.__awaiter)(this,void 0,s.J,function(){var w,x,R;return(0,e.__generator)(this,function(g){switch(g.label){case 0:if(w=(0,p.O)(E.performanceActivity,m.v$,this.telemetryService),x=this.dataProxyService.lastExecutedQuery())return this.cachedQueryResult=void 0,[2,x];g.label=1;case 1:return g.trys.push([1,,4,5]),(R=this.cachedQueryResult)?[3,3]:[4,this.generateQuery(E)];case 2:R=g.sent(),g.label=3;case 3:return[2,R];case 4:return w&&w.resolve(),[7];case 5:return[2]}})})},F.prototype.generateQuery=function(E){return(0,e.__awaiter)(this,void 0,r.I,function(){var w,x,g;return(0,e.__generator)(this,function(L){switch(L.label){case 0:return w=this.dataSources.get(),[4,this.conceptualSchemaProxy.get(w)];case 1:return x=L.sent(),g=this.visualDataProxyExecutionService.generateQuery({dataSources:w,schema:x,config:E.contract.config.singleVisual,hostServices:this.hostServices,visualQueryGenerator:this.visualQueryGenerator,executionType:0,preferCurrentData:null==E.preferCurrentData||E.preferCurrentData,viewport:E.viewport,allowResultFromClientCache:null==E.allowResultFromClientCache||E.allowResultFromClientCache,cacheOptions:void 0,performanceActivity:E.performanceActivity,executionMetricsKind:E.executionMetricsKind}),this.cachedQueryResult=this.dataProxyService.lastExecutedQuery()?void 0:g,[2,g]}})})},F.prototype.updateCachedData=function(E){return(0,e.__awaiter)(this,void 0,s.J,function(){var w,x,R;return(0,e.__generator)(this,function(g){switch(g.label){case 0:return!1===E.cacheResponseOnContract?[2]:[4,this.generateQuery((0,e.__assign)((0,e.__assign)({},E),{performanceActivity:void 0}))];case 1:return w=g.sent(),x=E.contract,w&&!w.error&&x.cachedData?(x.cachedData.dataUpdatedTime=void 0,R=this.visualPlugin.capabilities(x.config.singleVisual.visualType),x.cachedData.transformsObject=o.F.serializeDataViewTransformActions(w.transforms,R.objects),x.cachedData.queryObject=w.options.query.command,x.cachedData.dataObject=void 0,[2]):[2]}})})},F.prototype.loadMoreData=function(E){var w=this,x=this.startQueryPerformanceActivity(E.performanceActivity);this.queryExecutionServices.notifyStart(),this.getNextDataSegment(E,x).then(function(R){R&&w.mergeMoreData(R.result,R.dataProxyQuery,E.currentData,R.performanceActivityContext)}).catch(function(){x&&x.queryActivity.reject()}).finally(function(){w.queryExecutionServices.notifyEnd()})},F.prototype.canLoadMoreData=function(){return this.visualDataProxyExecutionService.canLoadMoreData()},F.prototype.loadWindow=function(E){var w=this,x=this.startQueryPerformanceActivity(E.performanceActivity);this.queryExecutionServices.notifyStart(),this.visualDataProxyExecutionService.loadWindow({dataSources:this.dataSources.get(),contract:E.contract,hostServices:this.hostServices,viewport:E.viewport,useVisualContainerCache:E.useVisualContainerCache,performanceActivity:null==x?void 0:x.queryActivity,executionMetricsKind:E.executionMetricsKind,windowExpansionState:E.windowExpansionState}).then(function(R){w.handleLoadMoreDataWarnings(R&&R.result,R&&R.dataProxyQuery),w.processQueryResult(E,R,x,void 0)}).catch(function(R){w.queryExecutionServices.handleErrors(R),x&&x.queryActivity.reject()}).finally(function(){w.queryExecutionServices.notifyEnd()})},F.prototype.getNextDataSegment=function(E,w){var x=this,R=w||this.startQueryPerformanceActivity(E.performanceActivity),g=this.promiseFactory.defer();return this.visualDataProxyExecutionService.canLoadMoreData()?this.visualDataProxyExecutionService.loadMoreData({dataSources:this.dataSources.get(),contract:E.contract,hostServices:this.hostServices,viewport:E.viewport,useVisualContainerCache:E.useVisualContainerCache,performanceActivity:null==R?void 0:R.queryActivity,executionMetricsKind:E.executionMetricsKind}).then(function(L){x.handleLoadMoreDataWarnings(L&&L.result,L&&L.dataProxyQuery);var M=L;R&&(M=(0,e.__assign)((0,e.__assign)({},M),{performanceActivityContext:R})),g.resolve(M)},function(L){x.queryExecutionServices.handleErrors(L),R&&R.queryActivity.reject(),g.reject(L)}):(R&&R.queryActivity.reject(),g.reject("Cannot load more data")),g.promise},F.prototype.reloadDataSegment=function(E,w){var x=E.currentData&&E.currentData.dataView&&E.currentData.dataView.matrix&&E.currentData.dataView.matrix.rows&&E.currentData.dataView.matrix.rows.root;if(x){var R=this.dataProxyService.getNodeSegment(w);if(R&&0!==R.index){this.dataProxyService.discardSegmentsFrom(R.index);var g=this.dataProxyService.getLastNodeIndex();(0,i.dp)(x,g)?this.loadMoreData(E):this.runQuery(E)}else this.runQuery(E)}else this.runQuery(E)},F.prototype.mergeMoreData=function(E,w,x,R){var g=F.getDataProxyQueryExecutionResultWarnings(E,w),L=E&&E.dataReaderResult?E.dataReaderResult.dataView:null;if(L){h.fF.assert(function(){return null!=x&&null!=x.dataView},"Expected to have previous segment already");var M=x.dataView;(0,i.$n)(M,L);var T={dataView:M,dataViewSource:E&&E.dataViewSource,performanceActivities:E&&E.dataReaderResult&&E.dataReaderResult.performanceActivities,isFirstSegment:!1};_.isEmpty(g)||(T.warnings=g),this.queryExecutionServices.loadMergedData(T,R)}else R&&R.queryActivity.resolve()},F.prototype.visualizeDataViewSource=function(E,w,x,R){var g=this;h.fF.assertValue(w,"dataViewSource");var L=this.startQueryPerformanceActivity(R),M=E.config.singleVisual,T=this.visualPluginOps.targetedDataViewKinds(M.visualType,M.query),O=(0,l.ij)(T,w.data,(0,v.u)(this.featureSwitchService.featureSwitches)),N=O.error;if(N)this.queryExecutionServices.handleErrors(N);else{var A=this.dataSources.get();h.fF.assertValue(A,"dataSources");var I=E&&E.config&&E.config.singleVisual;!A||!I||this.conceptualSchemaProxy.get(A).then(function(B){var U=g.visualQueryGenerator.execute({config:I,dataSources:A,schema:B,additionalFilters:g.hostServices.getFilters(g.filterGenerator,B),restartToken:O.restartToken,dataWindow:x,dataSourceVariables:g.hostServices.getDataSourceVariables(),disableAnchorTime:!!g.hostServices.disableAnchorTime||g.visualPluginOps.isQnaVisual(I.visualType)});if(U){var W=g.promiseFactory.defer();W.resolve(U.options),g.handleQueryResult(E,{dataViewSource:w,dataReaderResult:O},{transforms:U.transforms,error:U.error,warnings:U.warnings,options:W.promise},null,{updateContractCache:!0},null,!1,L)}})}},F.prototype.updateNonQueryVisual=function(E,w,x){var R=this,g=this.startQueryPerformanceActivity(x),L={dataView:null,dataViewSource:null};if(w){var M=E.config.singleVisual.visualType,T=E.config.singleVisual.objects;this.queryExecutionServices.notifyStart(),this.resolveResourcePackageReferences(M,T,x).then(function(O){R.queryExecutionServices.applyUpdate(L,w,O,g)}).finally(function(){R.queryExecutionServices.notifyEnd()})}else this.queryExecutionServices.applyUpdate(L,w,null,g)},F.prototype.updateContractCache=function(E,w,x){var R=this;if(h.fF.assertAnyValue(w,"result"),!E)return this.promiseFactory.reject(null);var g=this.dataSources.get();if(!g)return this.promiseFactory.reject(null);h.fF.assertValue(x,"dataProxyQuery is expected to be defined when there is a dataSource");var L=E.cachedData&&E.cachedData.dataUpdatedTime?E.cachedData.dataUpdatedTime:null,M=w&&w.dataViewSource?w.dataViewSource.data:void 0,T=x&&x.error;return w&&w.dataReaderResult&&w.dataReaderResult.disallowPersisting&&(L=null,M=null,T=new S.qw("VisualContainerQueryHandler.updateContractCache() cachingError")),this.conceptualSchemaProxy.get(g).then(function(O){return x.options.then(function(N){E.cachedData=(0,V.s9)(R.visualPlugin,R.displayNameService,M,{transforms:x.transforms,error:T,warnings:x.warnings,options:N,compiledMappings:x.compiledMappings},O,E.config.singleVisual,R.featureSwitchService.featureSwitches,(0,y.i3)(E.filters),L)})})},F.prototype.getLastRefreshTime=function(E){for(var w=0,x=E;w<x.length;w++){var R=x[w];if(R&&R.dsr&&R.dsr.lastRefreshTime)return R.dsr.lastRefreshTime}},F.prototype.processQueryResult=function(E,w,x,R){var L,M,g=this;w&&(M={updateContractCache:null===(L=E.cacheResponseOnContract)||void 0===L||L,updateServerCache:w.updateServerVisualContainerCache},this.resolveResourcePackageReferences(E.contract.config.singleVisual.visualType,w.dataProxyQuery.transforms.objects,x&&x.rootActivity).then(function(T){g.handleQueryResult(E.contract,w&&w.result,w.dataProxyQuery,T,M,E.currentData,!1,x,R)}))},F.prototype.isResultStale=function(E,w){var x=(0,d.TX)(E),R=(0,d.Kk)(w);return h.fF.assert(function(){return!!R},"A result date should be returned -- this is needed to check for freshness."),!(!x||!R)&&x>R},F.prototype.getDatasetCacheOptions=function(E,w,x){var g=E.initialLoad,L=this.visualLifecycleService&&this.visualLifecycleService.has(E.contract.id,x);if(this.featureSwitchService.featureSwitches.expandQueryCaching){if(this.isQueryCachingEnabledForAnyDataset(w))return this.cachePolicyProviderService.getInteractiveQueryPolicy(g&&L,E.interactiveQueryCachingSetting)}else if(g&&L&&this.isQueryCachingEnabledForAnyDataset(w))return u.U.AllowCache|u.U.AllowQuery|u.U.CacheResult},F.prototype.isQueryCachingEnabledForAnyDataset=function(E){return!!_.some(E,function(w){return w.dsr&&w.dsr.isQueryCachingEnabled})},F.prototype.handleQueryResult=function(E,w,x,R,g,L,M,T,O){var A,I,B,U,W,j,K,N=this;if(void 0===g&&(g={}),void 0===M&&(M=!1),this.queryExecutionServices.clearErrors(),w){j={dataView:w.dataReaderResult?w.dataReaderResult.dataView:null,dataViewSource:w.dataViewSource?w.dataViewSource:null,performanceActivities:w.dataReaderResult?w.dataReaderResult.performanceActivities:null},K=F.getDataProxyQueryExecutionResultWarnings(w,x)||[],O&&(K=_.concat(K,O)),_.isEmpty(K)||(j.warnings=K);var ee=(0,V.A8)(j.dataView);ee&&(j.isFirstSegment=ee),null!==(I=null===(A=this.featureSwitchService)||void 0===A?void 0:A.featureSwitches)&&void 0!==I&&I.queryContext&&(ie=null===(B=w.dataReaderResult)||void 0===B?void 0:B.queryContext)&&(j.queryContext=ie)}else if(j={dataView:L&&L.dataView,dataViewSource:L&&L.dataViewSource,isFirstSegment:L&&L.isFirstSegment},K=L&&L.warnings||[],O&&(K=_.concat(K,O)),_.isEmpty(K)||(j.warnings=K),null!==(W=null===(U=this.featureSwitchService)||void 0===U?void 0:U.featureSwitches)&&void 0!==W&&W.queryContext){var ie;(ie=null==L?void 0:L.queryContext)&&(j.queryContext=ie)}if(this.queryExecutionServices.handleWarnings(K,x&&x.transforms),this.queryExecutionServices.applyUpdate(j,x.transforms,R,T,M),g&&g.updateContractCache){var q=this.updateContractCache(E,w&&w.dataViewSource?w.dataViewSource.data:void 0,x);g.updateServerCache&&q.then(function(){x.options.then(function(Y){if(!_.isEmpty(Y.query.command)){var me={visualContainerId:E.id,query:JSON.stringify(Y.query.command),dataTransforms:N.getCachedTransformsString(E)};N.eventBridge.publishToChannel(C.BmV,me)}})})}},F.prototype.handleLoadMoreDataWarnings=function(E,w){this.queryExecutionServices.clearErrors();var x=F.getDataProxyQueryExecutionResultWarnings(E,w)||[];this.queryExecutionServices.handleWarnings(x,w&&w.transforms)},F.prototype.getCachedTransformsString=function(E){var w=E.cachedData;if(w){var x=w.transformsObject;if(x)return o.F.serializeTransformActions(x)}},F.prototype.loadResourcePackageReferences=function(E,w){var x=this,R=this.visualPlugin.capabilities(E),g=R&&R.objects,L=this.explorationNavigation.getCurrentExploration();return h.fF.assert(function(){return!!L||!(0,a.z_)(w,g)},"currentExploration"),(0,a.CJ)(w,g,function(){return L?L.resourcePackages:null},this.resourceLoader,this.promiseFactory,function(M,T){return x.ensureSharedResource(L,M,T)})},F.prototype.ensureSharedResource=function(E,w,x){if(this.resourceRegistration){var R=(0,f.Hg)(E,2);(0,n.NW)(R,w)||this.resourceRegistration.add(w,2,x)}},F.prototype.resolveResourcePackageReferences=function(E,w,x){var R=this.visualPlugin.capabilities(E),g=R&&R.objects,L=this.explorationNavigation.getCurrentExploration();return h.fF.assert(function(){return!!L||!(0,a.z_)(w,g)},"currentExploration"),(0,a.sQ)(w,g,L?L.resourcePackages:null,this.resourceLoader,this.promiseFactory,void 0,x)},F.getDataProxyQueryExecutionResultWarnings=function(E,w){var x;return w&&!_.isEmpty(w.warnings)&&(x=x||[]).push.apply(x,w.warnings||[]),E&&E.dataReaderResult&&!_.isEmpty(E.dataReaderResult.warnings)&&(x=x||[]).push.apply(x,E.dataReaderResult.warnings||[]),x},F}()},19082:function(Xe,H,t){t.d(H,{nW:function(){return i}});var e=t(973188),l=t(916248),o=t(400198),d=t(425335),v=t(498342),S=t(382088),h=t(345951),c=t(34119),r=t(484959),s=t(643293),u=function(){function m(f,V,p){this.index=f,this.restartToken=V,p&&(this.hierarchyLastNodeIndex=p)}return m.prototype.endsBeforeNode=function(f){v.fF.assertValue(this.hierarchyLastNodeIndex,"this.hierarchyLastNodeIndex");for(var V=this.hierarchyLastNodeIndex,p=Math.min(V.length,f.length),C=0;C<p;C++){var b=V[C],y=f[C];if(b<y)return!0;if(b>y)return!1}return f.length>V.length},m}();function i(m,f,V,p,C){return void 0===C&&(C=!1),new a(m,f,V,p,C)}var a=function(){function m(f,V,p,C,b){this.hasExecutedQuery=!0,this.dataProxy=f,this.promiseFactory=p,this.filterGenerator=V,this.dataSegments=[],this.telemetryV2Enabled=b,this.visualPluginService=C}return m.prototype.generateQuery=function(f){var V=(0,S.BL)("visualQueryGenerator(".concat(f.config.visualType,")")),p=f.visualQueryGenerator.execute({config:f.config,dataSources:f.dataSources,schema:f.schema,additionalFilters:f.hostServices.getFilters(this.filterGenerator,f.schema),restartToken:this.getRestartToken(f),cacheResponseOnServer:!(!f.isInitialLoad&&!f.cacheResponseOnServer),allowResultFromClientCache:f.allowResultFromClientCache,dataWindow:f.viewport,cacheOptions:f.cacheOptions,clientCacheOnly:f.clientCacheOnly,dataSourceVariables:f.hostServices.getDataSourceVariables(),performanceActivity:f.performanceActivity,executionMetricsKind:f.executionMetricsKind,telemetryV2Enabled:this.telemetryV2Enabled,requestPriority:f.requestPriority,applicationContext:f.applicationContext,windowExpansion:this.getWindowExpansion(f),disableAnchorTime:!!f.hostServices.disableAnchorTime||f.config.visualType===s.D.qnaVisual,drillableRoles:f.drillableRoles,useNativeReferenceNameAsDisplayNames:f.useNativeReferenceNameAsDisplayNames,disableHidden:f.disableHidden,enableAllSubtotal:f.enableAllSubtotal,enableHierarchicalGrouping:f.enableHierarchicalGrouping,customizeQueryOverride:f.customizeQueryOverride,isPivoted:f.isPivoted,disableMeasureSorts:f.disableMeasureSorts});return V(),p},m.prototype.getSegmentRestartToken=function(f){var V=this;if(!(f<=0))return v.fF.assert(function(){return f<=V.dataSegments.length},"SegmentIndex out of bounds"),this.dataSegments[f-1].restartToken},m.prototype.runQuery=function(f){var V=this;v.fF.assertValue(f.config,"config"),v.fF.assert(function(){return 1!==f.executionType||!0!==f.preferCurrentData},"PreferCurrentData true cannot be combined with QueryExecutionType.LoadMore.");var p=this.promiseFactory.defer(this.telemetryV2Enabled),C=_.last(this.dataSegments);if(1!==f.executionType||C&&C.restartToken){var y=f.generatedQuery||this.generateQuery(f);if(y)if(f.additionalDataViewKinds&&y.options&&(y.options.kinds|=f.additionalDataViewKinds),y.error)p.reject(y.error),this.generatedQuery=void 0;else{if(!(this.generatedQuery&&this.hasExecutedQuery&&f.preferCurrentData&&(0,l.Fu)(y.options,this.generatedQuery.options))){if(y=this.ensureRestartToken(f,y),this.shouldDelayExecution(f,y))return this.resolveEmptyResult(y,p),(0,o.U)(p);if(f.performanceActivity){y.options.isColdLoad=function(m){var f=(0,d.sV)(function(V){return"Open Report"===V.name},m);return f&&f.includesBootstrap}(f.performanceActivity);var D=f.performanceActivity.getProperty("parent");D&&"Visual Container Lifecycle"===D.name&&(D.lifecycleFlags|=4096)}var P=this.dataProxy.execute(y.options);return P.then(function(F){return V.handleQueryResult(F,y,P,f.config.query)},function(F){throw V.generatedQuery=void 0,F})}this.generatedQuery=y,p.resolve(null)}else this.generatedQuery=void 0,p.reject()}else p.reject();return(0,o.U)(p)},m.prototype.cancelQuery=function(f){this.dataProxy.cancelQuery(f)},m.prototype.ensureRestartToken=function(f,V){return 1!==f.executionType&&(this.dataSegments=[],f.preferCurrentData&&(V=this.generateQuery(f),f.additionalDataViewKinds&&(V.options.kinds|=f.additionalDataViewKinds))),V},m.prototype.getRestartToken=function(f){var V=this.dataSegments.length-1;return f.preferCurrentData?this.getSegmentRestartToken(V):1===f.executionType?this.getSegmentRestartToken(V+1):void 0},m.prototype.getWindowExpansion=function(f){if(f.config&&f.config.query&&f.config.query.expansionStates){var V=f.config.visualType;v.fF.assertValue(V,"Visual type must be defined");var p=this.visualPluginService.capabilities(V);if(!_.some(p.dataViewMappings,function(b){return b&&b.matrix&&b.matrix.rows&&b.matrix.rows.dataReductionAlgorithm&&b.matrix.rows.dataReductionAlgorithm.topNPerLevel}))return void v.fF.assert(function(){return 3!==f.executionType},"LoadWindow is only supported when data reduction is topNPerLevel");var C=this.windowExpansionState;return 3===f.executionType&&(v.fF.assertValue(f.windowExpansionState,"Missing window information"),C=f.windowExpansionState),f.windowExpansionTransform?f.windowExpansionTransform(C):(v.fF.assert(function(){return _.size(f.config.query.expansionStates)<=1},"Expected at most one expansion state"),(0,h.W7)(_.first(f.config.query.expansionStates),C,f.config.query.defn.select(),f.schema))}},m.prototype.shouldDelayExecution=function(f,V){return!V.options.query.command||V.deferred&&1!==f.executionType&&2!==f.executionType},m.prototype.resolveEmptyResult=function(f,V){this.generatedQuery=f,this.hasExecutedQuery=!1,V.resolve({dataReaderResult:{dataView:{metadata:{columns:[]}}}})},m.prototype.handleQueryResult=function(f,V,p,C){return this.hasExecutedQuery=!0,this.generatedQuery=V,p.matchesLastExecuteQuery&&(f=this.rewriteQueryResultWithoutPerformanceActivities(f)),this.addNewDataSegment(f&&f.dataReaderResult),this.addWindowExpansionState(V,C,f&&f.dataReaderResult),f.isPivoted=V.isPivoted,f},m.prototype.addWindowExpansionState=function(f,V,p){1===_.size(f.compiledMappings)&&f.compiledMappings[0].matrix&&f.compiledMappings[0].matrix.rows&&f.compiledMappings[0].matrix.rows.dataReductionAlgorithm&&f.compiledMappings[0].matrix.rows.dataReductionAlgorithm.topNPerLevel?(v.fF.assert(function(){return _.size(V.expansionStates)<=1},"Expected at most one expansion state"),this.windowExpansionState=(0,c.x9)(p.dataView)):this.windowExpansionState=null},m.prototype.addNewDataSegment=function(f){var y,V=f&&f.restartToken,p=f&&f.dataView,C=p&&p.matrix&&p.matrix.rows&&p.matrix.rows.root,b=this.dataSegments.length;if(_.isEmpty(C&&C.children))y=new u(b,V);else{var P,D=_.last(this.dataSegments);D?(v.fF.assertValue(D.hierarchyLastNodeIndex,"LoadMore is not allowed between segments of different DataViewKinds"),P=_.clone(D.hierarchyLastNodeIndex)):P=[],(0,r.Iu)(C,P),v.fF.assert(function(){return!D||D.endsBeforeNode(P)},"Segment lastNodeIndex must be incremental"),y=new u(b,V,P)}this.dataSegments.push(y)},m.prototype.rewriteQueryResultWithoutPerformanceActivities=function(f){if(f&&f.dataReaderResult&&f.dataReaderResult.performanceActivities){var V=(0,e.__assign)({},f.dataReaderResult);return delete V.performanceActivities,(0,e.__assign)((0,e.__assign)({},f),{dataReaderResult:V})}return f},m.prototype.canLoadMore=function(){var f=_.last(this.dataSegments);return null!=f&&null!=f.restartToken},m.prototype.lastExecutedQuery=function(){return this.generatedQuery},m.prototype.getNodeSegment=function(f){var V=this;return v.fF.assert(function(){return!_.some(V.dataSegments,function(p){return _.isEmpty(p.hierarchyLastNodeIndex)})},"discardSegmentsFrom is only allowed with Segments of Matrix DataView"),_.find(this.dataSegments,function(p){return!p.endsBeforeNode(f)})},m.prototype.discardSegmentsFrom=function(f){var V=this;v.fF.assert(function(){return f<V.dataSegments.length},"segmentIndex out of bounds"),this.dataSegments.length=f},m.prototype.getLastNodeIndex=function(){if(!_.isEmpty(this.dataSegments))return _.last(this.dataSegments).hierarchyLastNodeIndex},m.prototype.getSecondToLastNodeIndex=function(){if(this.dataSegments&&!(this.dataSegments.length<2))return(0,e.__spreadArray)([],this.dataSegments[this.dataSegments.length-2].hierarchyLastNodeIndex,!0)},m}()},447079:function(Xe,H,t){function e(){return new l}t.d(H,{B:function(){return e}});var l=function(){function o(){this.visualIds={}}return o.prototype.add=function(d){this.visualIds[d]=1},o.prototype.delete=function(d){delete this.visualIds[d]},o.prototype.has=function(d,v){void 0===v&&(v=!0);var S=1===this.visualIds[d];return S&&v&&this.delete(d),S},o}()},557478:function(Xe,H,t){t.d(H,{f:function(){return s}});var e=t(384275),l=t(498342),o=t(553474),d=t(225069),v=t(509607),S=t(423610),h=t(927903),c=t(40152),r=t(643293);function s(i,a){return new u(i,a)}var u=function(){function i(a,n){this.plugins=a,this.featureSwitchService=n,l.fF.assertValue(a,"VisualUtil - plugins"),l.fF.assertValue(n,"VisualUtil - featureSwitchService")}return i.prototype.canEdit=function(a,n){var m=this.plugins.capabilities(a);switch(m&&m.advancedEditModeSupport){case 1:return!0;case 2:return n;default:return!1}},i.prototype.dataViewKinds=function(a,n){if(a){var m=this.plugins.capabilities(a);if(m){var f=m.dataViewMappings,V=(0,d._1)(f);if(n){var p=(0,h.i1)(n),C=(0,o.Lo)(n.projections,f,p,this.featureSwitchService.featureSwitches);V=(0,d._1)(C.supportedMappings),"map"===a&&1&V&&(0,e.eT)(n.projections,C.supportedMappings)&&(V|=2)}if(V)return V}}},i.prototype.targetedDataViewKinds=function(a,n){var m=31;return this.plugins.isCustomVisual(a)||(m=this.dataViewKinds(a,n)||31),m},i.prototype.supportsFocusMode=function(a){var n=this.plugins.capabilities(a);return n&&n.dataViewMappings&&!n.disableFocusMode},i.prototype.isSupportedVisual=function(a){var n=(0,c.s)(a);return!!n&&!!this.plugins.getPlugin(n)},i.prototype.canConvertVisual=function(a){if(!a)return!1;var n=(0,c.s)(a);if(!n)return!1;var m=this.plugins.capabilities(n);return(this.isQueryVisual(n)||!(!m||!m.isConvertible))&&!(0,h.EL)(a)},i.prototype.canFormatVisual=function(a){return!!a&&!(0,h.EL)(a)},i.prototype.canSummarizeVisual=function(a){var n=this.plugins.getPlugin(a);return!!n&&(this.isAnalysisVisualPlugin(n)?!!n.getAnalysisVisualNarrativeSummaryConfiguration:!!n.getNarrativeSummaryBindings)},i.prototype.isAnalysisVisualPlugin=function(a){return this.isAnalysisVisual(a.name)},i.prototype.isQueryVisual=function(a){var n=this.plugins.capabilities(a);return!n||!this.isQueryDisabled(a,n)&&null!=n.dataViewMappings},i.prototype.isQueryDisabled=function(a,n){if(l.fF.assertValue(a,"visualType"),l.fF.assertAnyValue(n,"capabilities"),n&&(0,S.oy)(n.dataViewMappings))return!this.plugins.isScriptVisualQueryable(a)},i.prototype.supportVisualSearch=function(a){var n=this.plugins.capabilities(a);return!(!n||!this.isQueryVisual(a)||!(0,v.Cr)(n.objects))},i.prototype.isAnalysisVisual=function(a){return a===r.D.keyDriversVisual},i.prototype.isQnaVisual=function(a){return a===r.D.qnaVisual},i.prototype.isTableVisual=function(a){return a===r.D.tableEx},i.prototype.isMatrixVisual=function(a){return a===r.D.pivotTable},i}()},816826:function(Xe,H,t){t.d(H,{V:function(){return T}});var e=t(973188),l=t(42298),o=t(445765),d=t(365358),v=t(498342),S=t(812454),h=t(345951),c=t(476527),r=t(148782),s=t(204553),u=t(509607),i=t(915925),a=t(493369),n=t(224498),m=t(491697),f=t(114096),V=t(512322),p=t(603662),C=t(678776),b=t(358246),y=t(180511),D=t(249039),P=t(405088),F=t(819408),E=t(979868),w=t(669266),x=t(173818),R=t(781090),g=t(579670),L=t(927903),M=t(589195);function T(Y){return v.fF.assertValue(Y,"services"),v.fF.assertValue(Y.dataReaders,"services.dataReaders"),v.fF.assertValue(Y.displayNameService,"services.displayNameService"),v.fF.assertValue(Y.plugin,"services.plugin"),v.fF.assertValue(Y.pluginOps,"services.pluginOps"),v.fF.assertValue(Y.sortService,"services.sortService"),v.fF.assertValue(Y.aggrOps,"services.aggrOps"),v.fF.assertValue(Y.filterGenerator,"services.filterGenerator"),v.fF.assertValue(Y.featureSwitchService,"services.featureSwitchService"),v.fF.assertValue(Y.transformPluginService,"services.transformPluginService"),v.fF.assertValue(Y.telemetryService,"services.telemetryService"),v.fF.assertValue(Y.visualTimeSynchronizationService,"services.visualTimeSynchronizationService"),new O(Y.dataReaders,Y.displayNameService,Y.plugin,Y.pluginOps,Y.sortService,Y.filterGenerator,Y.aggrOps,Y.featureSwitchService,Y.transformPluginService,Y.telemetryService,Y.visualTimeSynchronizationService,Y.visualQueryCapabilitiesService,Y.cachePolicyProviderService,Y.localizationService)}var O=function(){function Y(G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe,ye,Ce){this.dataReaders=G,this.displayNames=me,this.visualPluginService=re,this.pluginOps=le,this.sortService=Ee,this.filterGenerator=Ne,this.aggrOps=Ye,this.featureSwitchService=Je,this.transformPluginService=_e,this.telemetryService=pe,this.visualTimeSynchronizationService=fe,this.visualQueryCapabilitiesService=oe,this.cachePolicyProviderService=ye,this.localizationService=Ce}return Y.prototype.shouldExecute=function(G,me){if(v.fF.assertAnyValue(G,"config"),v.fF.assertAnyValue(me,"dataSources"),!G||_.isEmpty(me)||(0,D.xj)(G))return!1;var re=G.visualType,le=this.visualPluginService.capabilities(re);if(!le||this.pluginOps.isQueryDisabled(re,le))return!1;if(!this.getQueryGenerator(me,G))return!1;if(null==G.query||G.query.areAllProjectionsHidden()){var Ne=(0,L.kT)(G,le),Ye=[Ne.visual];return Ye.push(Ne.visualContainer),!_.isEmpty(Ye)&&(0,o.Sk)(f.vQ.create(),Ye)}return this.pluginOps.isQueryVisual(re)&&!this.pluginOps.isAnalysisVisual(re)},Y.prototype.execute=function(G){var me,re;v.fF.assertValue(G,"options"),G.performanceActivity&&G.performanceActivity.isRunning()&&(re=G.performanceActivity.createChildActivity({name:"Query Generation"}));var le=G.config,Ee=G.dataSources;if(!_.isEmpty(Ee)){var Ne=(0,l.W5)(Ee,le.query&&le.query.defn);if(!_.isEmpty(Ne)){var Ye=this.getAnchorTimeQueryOptions(G.cacheOptions,!G.disableAnchorTime,G.additionalFilters,G.config),Je=Ye.anchorTime,_e=Ye.cacheOptions,pe=Ye.relativeTimeError;if(pe)return{options:null,error:pe};var fe=this.dataReaders.queryGenerator(Ne),oe=(0,R.p0)(le,le&&le.visualType,G.schema,fe,this.getCompileMappingsResultServices(),G.additionalFilters,G.dataViewMappingsOverride,G.performanceActivity,G.customizeQueryOverride),ye=this.dataReaders.queryExtensionLookup(Ee);if(oe){if(oe.error)return{options:null,error:oe.error};var Ce=oe.compiled;if(Ce){var Be;if(Ce.query&&Ce.query.defn){if(!_.isEmpty(Ce.query.defn.select())&&!_.isEmpty(Ce.query.defn.transforms())){Be={};for(var be=0,Te=Ce.query.defn.select();be<Te.length;be++){var ce=Te[be];(0,E.Im)(ce.expr)||(Be[ce.name]=ce)}}if(G.disableMeasureSorts){var ve=Ce.query.defn.orderBy().map(function(te){return te.expr}).filter(function(te){return(0,x.k)(te)});if(!_.isEmpty(ve))for(var Re=0,Ke=ve;Re<Ke.length;Re++)Ce.query.defn=Ce.query.defn.removeOrderBy(Ke[Re])}}var mt=this.getVisualCapabilities(G.config.visualType),He=Y.compileFilters(G.additionalFilters,mt),ke=!(null===(me=le.query)||void 0===me||!me.isDrillDisabled),ft=this.getHierarchicalGroupingRoles(mt,ke),Le=this.generateQuery(fe,G.schema,Ce,mt.dataRoles,le.queryOptions&&le.queryOptions.keepProjectionOrder,mt.filterMappings,He.dataFilter,He.highlightFilter,G.restartToken,G.dataWindow,G.dataSourceVariables,null,ye,G.executionMetricsKind,mt.noDefaultProjections,this.getWindowExpansionState(le,G.windowExpansion,G.schema),Je,G.disableHidden,G.enableAllSubtotal,G.enableHierarchicalGrouping,ft),Q=Le.result,Ue=Le.query,ae=Le.resolvedQuery,Se=G.additionalFilters?G.additionalFilters.queryRefsForSingleItemDrillFilters:void 0,nt=this.dataReaders.readerType(Ne);if(nt){var vt=(0,y.$$)(G.dataSources,ae);v.fF.assert(function(){return(0,l.S8)(vt).length<=1},"all data sources needed for query execution should have the same type");var We={type:nt,query:{dataSources:(0,y.kB)(vt),command:Q.command,cacheOptions:_e,clientCacheOnly:G.clientCacheOnly,cacheResponseOnServer:G.cacheResponseOnServer,allowResultFromClientCache:G.allowResultFromClientCache,allowClientSideFilters:this.getAllowClientSideFiltersOrDefault(G,mt),ignoreViewportForCache:G.ignoreViewportForCache,performanceActivity:G.performanceActivity,applicationContext:G.applicationContext},perfId:G.config.visualType};We.kinds=this.pluginOps.targetedDataViewKinds(G.config.visualType,Ue);var de=function(Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe,ye,Ce,Be,be,Te,ce,ve,Re,Ke,tt){var mt=Te?Te.dataFilter:null,He={},ke=C.m.buildExprEvaluationContext(le.defn.from());if(pe&&(He.objects=pe,oe&&_.some(oe,function(zt){return zt.selectExprReplaced}))){var ft=new W(le.defn,oe,pe,ke);ft.rewrite(),He.objects=ft.rewrittenObjects}mt&&(He.isDataFilterApplied=!0),fe&&(He.splits=fe),_.isEmpty(le.expansionStates)||(He.expansionStates=le.expansionStates);var Le={options:Y,transforms:He,warnings:ye,compiledMappings:Ce,deferred:ce},Q=function(Y,G){if(v.fF.assertValue(Y,"query"),v.fF.assertAnyValue(G,"queryRewrites"),_.isEmpty(G))return{queryForTransformActions:Y,internalToPublicSelectNameMappingsByRole:{}};for(var me=Y.clone(),re=function(_e){if(_e.selectExprAdded){var pe=me.defn.select(),fe=_e.selectExprAdded;v.fF.assert(function(){return pe.length===fe.selectIndex},"selectExprAdded records are expected to appear in the correct order"),pe[fe.selectIndex]=fe.namedSQExpr,me.defn=me.defn.select(pe)}else if(_e.projectionQueryRefChanged){var oe=_e.projectionQueryRefChanged;me.projections[oe.role].replaceQueryRef(oe.oldQueryRef,oe.newInternalQueryRef)}else _e.aggregatesAdded||_e.selectExprReplaced||v.fF.assertFail("Unexpected queryRewriteRecord: "+JSON.stringify(_e))},le=0,Ee=G;le<Ee.length;le++)re(Ee[le]);var Ye=_.reduce(G,function(Je,_e){var pe=_e.projectionQueryRefChanged;if(pe){var fe=Je[pe.role];fe||(Je[pe.role]=fe={}),fe[pe.newInternalQueryRef]=pe.oldQueryRef}return Je},{});return{queryForTransformActions:me,internalToPublicSelectNameMappingsByRole:Ye}}(le,oe),Ue=Q.queryForTransformActions,ae=Q.internalToPublicSelectNameMappingsByRole,Se=Ue.defn.select(),nt=Ue.defn.orderBy(),vt=Ue.projections;if(mt){var We=mt.where(),de=C.m.buildExprEvaluationContext(mt.from());if(_.some(We,function(zt){return zt.condition&&!_.isEmpty(zt.condition.validate(G,Ye,void 0,de))}))return Le.error=new M.k("Broken_Filters",_e),Le}if(Le.filterContext={dataFilters:Te.dataFiltersUnmerged,highlightFilters:Te.highlightFilter,highlightFiltersUnmerged:Te.highlightFiltersUnmerged,query:Ee},vt){var te=[],Ve={},xe=void 0;for(var Z in vt){var J=Ve[Z]=[],Fe=vt[Z];_.isEmpty(Fe.activeProjectionRefs)||(xe||(xe={}),xe[Z]=_.map(Fe.activeProjectionRefs,function(zt){return{queryRef:zt}}));for(var rt=0,Oe=tt?Fe.all():Fe.projected();rt<Oe.length;rt++){var Pe=Oe[rt],X=(0,d.g2)(Se,Pe.queryRef);te.push({queryRef:Pe.queryRef,format:Pe.format,queryIndex:X,roleName:Z,displayName:Pe.displayName}),J.push(X)}}He.selects=[];for(var St,we=[],Ze=Ue.defn.transforms(),et=!_.isEmpty(Ze),at=function(Kt,Yt){var dr,ir=function(Y,G){return v.fF.assertValue(Y,"projections"),_.chain(Y).compact().filter(function(me){return me.queryIndex===G}).value()}(te,Kt),lr=Se[Kt],br=be&&be[lr.name];if(!et||br){br&&(lr=br);var Cr=C.m.buildExprEvaluationContext(Ue.defn.from());if(!_.isEmpty(lr.expr.validate(G,Ye,void 0,Cr)))return we.push(lr.expr),"continue";var pt=lr.expr.getMetadata(G,ke);v.fF.assertValue(pt,"exprMetadata"),dr={type:pt.type,expr:lr.expr},!(0,x.k)(lr.expr)&&(_.isEmpty(Y.query.command)||ce||Je.keepAllMetadataColumns)&&(dr.identityExprs=me.produceIdentities(lr.expr,G));var Ut=C.m.getKpiMetadata(lr.expr,G);if(Ut&&(dr.kpi=Ut),Ke&&!_.isEmpty(lr.nativeReferenceName))dr.displayName=lr.nativeReferenceName;else{var er=function(Y,G){if(G)for(var me=0,re=G;me<re.length;me++){var Ee=re[me].projectionQueryRefChanged;if(Ee&&Ee.newInternalQueryRef===Y)return Ee.oldQueryRef}return Y}(lr.name,oe),Pr=_.find(ir,function(zr){return zr.queryRef===lr.name&&zr.displayName});dr.displayName=Pr?Pr.displayName:Ne.getDisplayName(lr.expr,G,Je,er,re)}var mr=ir[0];if(mr){var gr=mr.format||pt.format;gr&&(dr.format=gr)}}else dr={expr:lr.expr,displayName:lr.name};dr.roles||(dr.roles={});for(var xr=0,Vr=ir;xr<Vr.length;xr++){var Qr=Vr[xr];Qr&&Qr.roleName&&(dr.roles[Qr.roleName]=!0)}St=lr.name,dr.queryName=_.chain(Object.keys(dr.roles)).map(function(zr){return ae[zr]&&ae[zr][St]}).filter(_.isString).value()[0]||St;var Gr=_.find(ve,function(zr){return zr.queryName===dr.queryName});_.isEmpty(null==Gr?void 0:Gr.relatedProjectionsQueryName)||(dr.relatedSelects=_.map(Gr.relatedProjectionsQueryName,function(zr){return{queryName:zr}})),_.isEmpty(null==Gr?void 0:Gr.relatedObjects)||(dr.relatedObjects=Gr.relatedObjects);var Jr=function(Y,G){return v.fF.assertValue(Y,"orderBy"),v.fF.assertValue(G,"expr"),_.findIndex(Y,function(me){return(0,w.fS)(me.expr,G)})}(nt,lr.expr);-1!==Jr&&(dr.sort=nt[Jr].direction,dr.sortOrder=Jr);var Yr=C.m.getDefaultValue(lr.expr,G);if(Yr){dr.defaultValue={value:Yr};var Zr=lr.expr.getKeyColumns(G);dr.defaultValue.identityFieldsValues=C.m.getDefaultValues(Zr,G)}1===C.m.getAggregateBehavior(lr.expr,G)&&(dr.discourageAggregationAcrossGroups=!0);var Ur=C.m.getParameterMetadata(lr.expr,G);Ur&&(dr.parameter=Ur),He.selects.push(dr)},Ie=0,qe=Se.length;Ie<qe;Ie++)at(Ie);if(oe)for(var bt=0,It=oe;bt<It.length;bt++){var Rt=It[bt];Rt.aggregatesAdded&&ie(He.selects,Rt.aggregatesAdded)}He.roles={ordering:Ve,drillableRoles:Re},(0,F.S1)(Je)&&(He.roles.isDrillDisabled=le.isDrillDisabled),xe&&(He.roles.activeItems=xe,function(Y,G){var me=Y&&Y.roles,re=me&&me.activeItems;if(re)for(var le in re)for(var Ne=0,Ye=re[le];Ne<Ye.length;Ne++){var Je=Ye[Ne];Je.suppressConcat=_.includes(G,Je.queryRef)}}(He,Be)),Le.error=M.k.create(we,G,_e)}return Le}(We,G.schema,fe,le.columnProperties,Ue,ae,this.displayNames,this.aggrOps,mt,this.localizationService,Ce.objectDefinitions,Q.splits,Q.queryRewrites,oe.warnings,Ce.mappings,Se,Be,He,Le.deferred,Ce.additionalProjections,G.drillableRoles,G.useNativeReferenceNameAsDisplayNames,G.disableHidden);return re&&re.resolve(),de.options.query&&(de.options.query.telemetryV2Enabled=G.telemetryV2Enabled,null!=G.requestPriority&&(de.options.query.requestPriority=G.requestPriority)),de.isPivoted=Le.result.isPivoted,de}}}}}},Y.prototype.getCompileMappingsResultServices=function(){return{displayNameService:this.displayNames,featureSwitchService:this.featureSwitchService,localizationService:this.localizationService,sortService:this.sortService,telemetryService:this.telemetryService,transformPluginService:this.transformPluginService,visualPluginService:this.visualPluginService}},Y.prototype.getCompiledDataViewMapping=function(G){v.fF.assertValue(G,"options");var me=G.config,re=this.getQueryGenerator(G.dataSources,me);if(re){var le=(0,R.p0)(me,me&&me.visualType,G.schema,re,this.getCompileMappingsResultServices());if(le&&!le.error)return le.compiled.mappings}},Y.prototype.getAnchorTimeQueryOptions=function(G,me,re,le){var Ee,pe,Ne=!(null===(Ee=this.visualQueryCapabilitiesService)||void 0===Ee||!Ee.getCapabilities().disableAnchorTime),Ye=me&&this.hasRelativeTimeFilters(re,le),Je=G;if(Ne&&Ye)return{anchorTime:null,cacheOptions:Je,relativeTimeError:new M.k("NoSupportRTS_PublishToWeb",this.localizationService)};if(Ye){Je=this.cachePolicyProviderService?this.cachePolicyProviderService.getRelativeTimeFilterQueryPolicy():c.U.AllowQuery;var fe=this.visualTimeSynchronizationService.getAnchorTime();pe=(0,m.CI)(fe,b.Ge.fromExtendedType(519))}return{anchorTime:pe,cacheOptions:Je,relativeTimeError:null}},Y.prototype.hasRelativeTimeFilters=function(G,me){return!(!G||!(0,n.hN)(G.dataFilter))||!!me&&!!me.query&&!!me.query.defn&&(0,n.hN)(me.query.defn)},Y.prototype.executeForFlattenedQuery=function(G,me){v.fF.assertValue(G,"options");var re=G.config,le=this.getQueryGenerator(G.dataSources,re);if(le){var Ee=(0,R.p0)(re,re&&re.visualType,G.schema,le,this.getCompileMappingsResultServices(),G.additionalFilters,G.dataViewMappingsOverride,G.performanceActivity,G.customizeQueryOverride);if(Ee&&!Ee.error){var Ne=Ee.compiled;if(Ne){var Ye=this.getVisualCapabilities(G.config.visualType),Je=Y.compileFilters(G.additionalFilters,Ye);return this.generateFlattenedQuery(le,G.schema,Ne,Ye.dataRoles,re.queryOptions&&re.queryOptions.keepProjectionOrder,Ye.filterMappings,Je.dataFilter,Je.highlightFilter,G.restartToken,G.dataWindow,G.dataSourceVariables,me,Ye.noDefaultProjections,G.windowExpansion)}}}},Y.prototype.getQueryGenerator=function(G,me){if(v.fF.assertAnyValue(G,"dataSources"),v.fF.assertValue(me,"visualConfig"),!_.isEmpty(G)){var re=me.query,le=(0,l.W5)(G,re&&re.defn);if(le)return this.dataReaders.queryGenerator(le)}},Y.prototype.getVisualCapabilities=function(G){if(G){var me=this.visualPluginService.getPlugin(G);return me&&me.capabilities}},Y.prototype.getHierarchicalGroupingRoles=function(G,me){var re,le,Ee=[];return me||(!(null===(re=G.expandCollapse)||void 0===re)&&re.roles&&Ee.push.apply(Ee,G.expandCollapse.roles),!(null===(le=G.drilldown)||void 0===le)&&le.roles&&!G.drilldown.suppresDrillOperations&&Ee.push.apply(Ee,(0,F.WO)(G,me))),Ee},Y.compileFilters=function(G,me){var re,le,Ee,Ne;return v.fF.assertValue(me,"visualCapabilities"),G&&(le=G.dataFilter,Ee=G.dataFiltersUnmerged,re=G.highlightFilter,Ne=G.highlightFiltersUnmerged),v.fF.assert(function(){return!re||me.supportsHighlight},"should not have generated a highlight filter for a visual that doesn't support it"),{dataFilter:le,dataFiltersUnmerged:Ee,highlightFilter:re,highlightFiltersUnmerged:Ne}},Y.prototype.getAllowClientSideFiltersOrDefault=function(G,me){return v.fF.assertValue(G,"options"),v.fF.assertValue(me,"visualCapabilities"),_.isBoolean(G.allowClientSideFilters)?G.allowClientSideFilters:!!(0,u.Cr)(me.objects)},Y.prototype.generateQuery=function(G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe,ye,Ce,Be,be,Te,ce,ve,Re,Ke){v.fF.assertValue(G,"queryGenerator");var tt=this.getQueryGeneratorOptions(me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe,ye,Ce,Be,be,Te,ce,ve,Re,Ke),mt=G.execute(tt);return{result:mt,query:re.query,resolvedQuery:tt.query,deferred:mt.deferred}},Y.prototype.generateFlattenedQuery=function(G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe,ye,Ce){v.fF.assertValue(G,"queryGenerator");var Be=this.getQueryGeneratorOptions(me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe,void 0,void 0,ye,Ce);return G.executeForQueryOnly?G.executeForQueryOnly(Be):Be.query},Y.prototype.getQueryGeneratorOptions=function(G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe,oe,ye,Ce,Be,be,Te,ce,ve,Re){v.fF.assertValue(G,"schema"),v.fF.assertValue(me,"compiled"),v.fF.assertAnyValue(re,"dataRoles"),v.fF.assertAnyValue(_e,"dataWindow");var Ke=me.query,tt=this.filterGenerator.resolveFilterTargets(G,Ke,re,Ee,Ne),mt=(0,P.L7)(this.transformPluginService,tt,Ke.projections,re,(0,g.S)(me.query,re),me.additionalProjections,me.mappings);mt=function(Y){var G=Y.orderBy();if(_.isEmpty(G))return Y;for(var me=!1,re=0,le=G;re<le.length;re++){var Ee=le[re];(0,E.tO)(Ee.expr)&&(Ee.expr=Ee.expr.measure,me=!0)}return me?Y.orderBy(G):Y}(mt);var He=new N(G,me.mappings,mt);return mt=mt.rewrite(He),{query:fe?fe(mt):mt,queryExtensionLookup:oe,mappings:me.mappings,additionalProjections:me.additionalProjections,highlightFilter:Ye,restartToken:Je,dataWindow:_e,highVolumeOverride:this.featureSwitchService&&this.featureSwitchService.featureSwitches.highVolume,expansionStates:me.query.expansionStates,dataSourceVariables:pe,executionMetricsKinds:ye,keepProjectionOrder:le,noDefaultProjections:Ce,windowExpansion:Be,anchorTime:be,disableHidden:Te,enableAllSubtotal:ce,enableHierarchicalGrouping:ve,rolesWithHierarchicalGroupingSupport:Re}},Y.prototype.getWindowExpansionState=function(G,me,re){var le=this.visualPluginService.capabilities(G.visualType);if(_.some(le.dataViewMappings,function(Ne){return Ne&&Ne.matrix&&Ne.matrix.rows&&Ne.matrix.rows.dataReductionAlgorithm&&Ne.matrix.rows.dataReductionAlgorithm.topNPerLevel}))return me||(v.fF.assert(function(){return _.size(G.query.expansionStates)<=1},"Expected at most one expansion state"),(0,h.W7)(_.first(G.query.expansionStates),void 0,G.query.defn.select(),re));v.fF.assert(function(){return!me},"Window expansion state is only expected when data reduction is set to topNPerLevel")},Y}(),N=function(Y){function G(me,re,le){var Ee=Y.call(this)||this;return Ee.schema=me,Ee.compiledMappings=re,Ee.query=le,Ee.pointsPerSparkline=52,Ee}return(0,e.__extends)(G,Y),G.prototype.visitSparklineData=function(me){v.fF.assert(function(){return 1===_.size(me.grouping)},"only support 1 expr in grouping");var le,re=this.pointsPerSparkline+1,Ee=me.grouping[0];if((0,E.ez)(Ee)){var Ne=Ee.getMetadata(this.schema),Ye=null==Ne?void 0:Ne.type;if(null!=Ye&&Ye.temporal){var Je=(0,a.YN)(Ee,this.schema);Je&&(le=(0,V.m_)(Je,3))}}var _e=_.find(this.query.select(),function(Be){return(0,w.fS)(Be.expr,me)});v.fF.assertValue(_e,"matchingExpr");for(var pe=_e.name,fe=!1,oe=0,ye=this.compiledMappings;oe<ye.length;oe++)(0,r.oF)(ye[oe],{visitRole:function(be){var Te,ce=_.find(be.items,function(ve){return ve.queryName===pe});null!==(Te=null==ce?void 0:ce.sparklineInfo)&&void 0!==Te&&Te.includeMinGroupingInterval&&(fe=!0)}});return(0,V.Zy)(me.measure,me.grouping,le,re,fe)},G}(p.b),W=function(Y){function G(me,re,le,Ee){var Ne=Y.call(this)||this;return Ne.query=me,Ne.queryRewrites=re,Ne.objects=le,Ne.context=Ee,Ne}return(0,e.__extends)(G,Y),G.prototype.rewrite=function(){for(var me in this.objects)for(var re=0;re<this.objects[me].length;re++){var le=this.objects[me][re];if(le.selector){var Ne=(0,S.CT)(le.selector);if(!_.isEmpty(Ne)){this.rewrittenObjects||(this.rewrittenObjects=(0,s.d9)(this.objects));for(var Ye=0,Je=Ne;Ye<Je.length;Ye++)this.rewrittenObjects[me][re].selector={data:[(0,i.TZ)(Je[Ye].expr.accept(this))]}}}}},G.prototype.visitSelectRef=function(me){var re=me.expressionName,le=this.query.select().withName(re),Ee=le.expr;le&&(0,E.t3)(le.expr)&&(0,E.jv)(le.expr.source)&&(Ee=C.m.getSubqueryExpression(le.expr,this.context));var Ne=_.find(this.queryRewrites,function(Ye){return Ye.selectExprReplaced&&(0,w.fS)(Ye.selectExprReplaced.originalExpr,Ee)});return Ne?Ne.selectExprReplaced.replacedExpr:me},G}(p.b);function ie(Y,G){v.fF.assertValue(Y,"selects"),v.fF.assertValue(G,"rewrite");for(var me=0,re=Y;me<re.length;me++){var le=re[me];if(le.queryName===G.originalQueryRef){var Ee={},Ne=G.aggregates;Ne.min&&(Ee.min=he(Ne.min)),Ne.max&&(Ee.max=he(Ne.max)),le.aggregateSources=Ee;break}}var Ye=G.aggregates;q(Y,Ye.min),q(Y,Ye.max)}function he(Y){return v.fF.assertValue(Y,"source"),{index:Y.index}}function q(Y,G){if(v.fF.assertValue(Y,"selects"),v.fF.assertAnyValue(G,"aggregateSource"),G){var me=G.index;Y[me]||(Y[me]={displayName:"",queryName:G.queryName,expr:G.expr})}}},668902:function(Xe,H,t){t.d(H,{E:function(){return c}});var e=t(590123),l=t(738428),o=t(498342),d=t(497141),v=t(40152),S=t(927903),h=t(643293);function c(s,u,i,a,n){return new r(s,u,i,a,n)}var r=function(){function s(u,i,a,n,m){this.visualPluginService=u,this.pluginOps=i,this.explorationNavigationService=a,this.featureSwitchService=n,this.visualCapabilitiesService=m}return s.prototype.relationship=function(u,i,a){return o.fF.assertValue(u,"section"),this.getRelationship(u.relationships,i,a)},s.prototype.drillRelationship=function(u,i,a){o.fF.assertValue(u,"section");var n=this.getRelationship(u.relationships,i,a);if(n){var m=n;return 2===n.type&&(m={source:n.source,target:n.target,type:1}),m}},s.prototype.getRelationship=function(u,i,a){return o.fF.assertValue(i,"sourceVisual"),o.fF.assertValue(a,"targetVisual"),o.fF.assertAnyValue(u,"relationships"),_.find(u,function(n){return n.source.name===i.name&&n.target.name===a.name})},s.prototype.getIsCrossHighlightingDisabled=function(){var u=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),i=u&&u.slowDataSourceSettings;return i&&i.isCrossHighlightingDisabled},s.prototype.relationshipFilterAction=function(u,i,a,n,m){var f=this.relationship(u,i,a);return this.getRelationshipFilterAction(f,i,a,n,m)},s.prototype.drillRelationshipFilterAction=function(u,i,a,n){if(!i.drillFilterOtherVisuals)return 3;var m=this.drillRelationship(u,i,a);o.fF.assert(function(){return!m||2!==m.type},"Expect drill relationship NOT to be HighlightFilter.");var f=this.getRelationshipFilterAction(m,i,a,n,!1);return o.fF.assert(function(){return 2!==f},"Expect drill relationship filter action NOT to be HighlightFilter."),f},s.prototype.shouldApplyCrossDrill=function(u,i,a,n){if(i===a||(0,v.s)(a)===h.D.slicer)return!1;var m=this.drillRelationshipFilterAction(u,i,a,n);return 1===m||0===m&&1===this.defaultDrillFilterAction(i,a)},s.prototype.getRelationshipFilterAction=function(u,i,a,n,m){if(u&&this.supportsFilterActionTarget(i,a,u.type))return u.type;var f=a&&a.config&&a.config.singleVisual,V=f&&a.config.singleVisual.visualType,p=this.visualPluginService.capabilities(V),C=0;if(u&&2===u.type&&(0,S.iv)(a)&&(C=1),this.getIsCrossHighlightingDisabled()&&!this.isSlicer(p,V)){var y=i&&i.config&&i.config.singleVisual,D=y&&i.config.singleVisual.visualType,P=this.visualPluginService.capabilities(D);if(!this.isFilter(P,D,y&&y.objects))return 3}if(p){var F=f.query;if(F){var E=this.visualPluginService.getPlugin(V);if(E&&E.shouldIgnoreCrossFilter){var x={mappings:p.dataViewMappings,queryDefn:F.defn,queryProjections:F.projections,schema:n,objectDescriptors:p.objects,objectDefinitions:f.objects,roles:p.dataRoles,featureSwitches:this.featureSwitchService.featureSwitches,transformPluginService:(0,l.S)()},R=(0,e.y)(x);if(E.shouldIgnoreCrossFilter({dataViewMappings:R,filterForFieldParameter:m}))return 3}}}return C},s.prototype.isSlicer=function(u,i){return!!d.l.tryGetFilterPropertyIdentifier(u,i,this.visualPluginService)},s.prototype.isFilter=function(u,i,a){return u?this.isSlicer(u,i):null!=d.l.tryGetFilterProperty(u,i,this.visualPluginService,a)},s.prototype.supportsFilterActionTarget=function(u,i,a){o.fF.assertValue(u,"sourceVisual"),o.fF.assertValue(i,"targetVisual"),o.fF.assertValue(a,"visualRelationshipFilterAction");var n=(0,v.s)(i),m=(0,v.s)(u);if(!_.isEmpty(m)&&!_.isEmpty(n))switch(a){case 1:case 3:return!0;case 2:if((0,S.iv)(i))return!1;var f=this.visualPluginService.capabilities(n);return(!f||f.supportsHighlight)&&!this.visualCapabilitiesService.hasFilterCapabilities(m)}return!1},s.prototype.supportsAnyFilterAction=function(u){o.fF.assertValue(u,"visualContainer");var i=(0,v.s)(u);if(_.isEmpty(i)||!this.pluginOps.isQueryVisual(i)&&!this.pluginOps.isQnaVisual(i))return!1;var a=this.visualPluginService.capabilities(i);return!a||!1!==a.supportsSelection},s.prototype.defaultFilterAction=function(u,i){o.fF.assertValue(u,"sourceVisualContainer"),o.fF.assertValue(i,"targetVisualContainer");var a=this.explorationNavigationService&&this.explorationNavigationService.getCurrentExploration(),n=a&&a.settings;return n&&n.defaultFilterActionIsDataFilter||!this.supportsFilterActionTarget(u,i,2)?this.supportsFilterActionTarget(u,i,1)?1:void 0:2},s.prototype.defaultDrillFilterAction=function(u,i){o.fF.assertValue(u,"sourceVisualContainer"),o.fF.assertValue(i,"targetVisualContainer");var a=this.defaultFilterAction(u,i);return 2===a&&(a=1),o.fF.assert(function(){return!a||1===a||3===a},"The returned value of has to be one of these values undefined/DataFilter/NoFilter"),a},s}()},716742:function(Xe,H,t){t.d(H,{Bq:function(){return le},Ed:function(){return c},Ef:function(){return E},F:function(){return n},Fp:function(){return w},GD:function(){return C},Gh:function(){return T},Hl:function(){return ze},II:function(){return i},JL:function(){return Oe},Jr:function(){return oe},Jw:function(){return Re},Kh:function(){return d},L9:function(){return l},M:function(){return He},MF:function(){return Je},Mr:function(){return he},Mz:function(){return vt},OX:function(){return g},Ql:function(){return J},SO:function(){return pe},Sm:function(){return f},TH:function(){return tt},Ul:function(){return Ce},Um:function(){return I},V6:function(){return S},Zk:function(){return be},Zv:function(){return V},b_:function(){return F},bt:function(){return D},dy:function(){return X},fp:function(){return p},hg:function(){return b},hs:function(){return Ze},jn:function(){return M},mY:function(){return Ie},p4:function(){return m},pV:function(){return L},qc:function(){return te},rj:function(){return ce},s$:function(){return at},s5:function(){return N},sw:function(){return Q},u1:function(){return ft},u3:function(){return me},uX:function(){return xe},v$:function(){return s},wQ:function(){return Ne},z6:function(){return x},zs:function(){return R}});var e=t(947634),l=function(qe){return qe.Normal="Normal",qe.EmailSubscription="EmailSubscription",qe.ReportInvitation="ReportInvitation",qe.SubscribeOthers="SubscribeOthers",qe.Commenting="Commenting",qe.Invalid="Invalid",qe}({}),o="PBI.EX.RetrieveFromVisualContainerCache",d=e.cx[o]=(0,e.b1)(o),v="PBI.EX.RunQuery",S=e.cx[v]=(0,e.b1)(v,{logRatio:0}),h="PBI.EX.RunQueryImpl",c=e.cx[h]=(0,e.b1)(h,{logRatio:0}),r="PBI.EX.GetCachedQueryOrGenerate",s=e.cx[r]=(0,e.b1)(r,{logRatio:0}),u="PBI.EX.VisualFirstLoad",i=e.cx[u]=(0,e.b1)(u),a="PBI.EX.ToggleVisualDisplay",n=e.cx[a]=(0,e.b1)(a,{logExpAssignment:!0}),m="PBI.EX.GetExploration",f=e.cx[m]=(0,e.b1)(m),V="PBI.EX.DeserializeExploration",p=e.cx[V]=(0,e.b1)(V),C="PBI.EX.OpenExploration",b=e.cx[C]=(0,e.b1)(C,{shouldLogStartEnd:!0,logExpAssignment:!0}),y="PBI.EX.ExplorationStateApplyImpact",D=e.cx[y]=(0,e.b1)(y),P="PBI.EX.ExplorationStateApplyImpactIssues",F=e.cx[P]=(0,e.b1)(P),E="PBI.EX.SwitchSection",w=e.cx[E]=(0,e.b1)(E),x="PBI.EX.SwitchToAdjacentSection",R=e.cx[x]=(0,e.b1)(x),g="PBI.EX.NavigateBack",L=e.cx[g]=(0,e.b1)(g,{logExpAssignment:!0}),M="PBI.EX.NavigationButtonClicked",T=e.cx[M]=(0,e.b1)(M,{logExpAssignment:!0}),O="PBI.EX.VisualQueryGeneratorWarning",N=e.cx[O]=(0,e.b1)(O),A="PBI.EX.VisualQueryGeneratorError",I=e.cx[A]=(0,e.b1)(A),B="PBI.EX.Groups.GroupsAction",W=(e.cx[B]=(0,e.b1)(B),"PBI.EX.Groups.BinBySizeAction"),K=(e.cx[W]=(0,e.b1)(W),"PBI.EX.Groups.BinByCountAction"),ie=(e.cx[K]=(0,e.b1)(K),"PBI.EX.Groups.Usage"),he=e.cx[ie]=(0,e.b1)(ie),q="PBI.EX.Groups.Error",G=(e.cx[q]=(0,e.b1)(q),"PBI.EX.ModelChange"),me=e.cx[G]=(0,e.b1)(G),re="PBI.EX.Measures",le=e.cx[re]=(0,e.b1)(re),Ee="PBI.EX.ReportMeasureDataTypeChange",Ne=e.cx[Ee]=(0,e.b1)(Ee),Ye="PBI.EX.ReportMeasureDataCategoryChange",Je=e.cx[Ye]=(0,e.b1)(Ye),_e="PBI.EX.ReportMeasureMoveRoleKind",pe=e.cx[_e]=(0,e.b1)(_e),fe="PBI.EX.QuickCalcMeasureEdited",oe=e.cx[fe]=(0,e.b1)(fe),ye="PBI.EX.QuickCalcMeasureDeleted",Ce=e.cx[ye]=(0,e.b1)(ye),Be="PBI.EX.VisualDrillableRoleActiveItemsFixed",be=e.cx[Be]=(0,e.b1)(Be),Te="PBI.PersistentState.SerializationError",ce=e.cx[Te]=(0,e.b1)(Te),ve="PBI.Pod.SerializationErrorFixed",Re=e.cx[ve]=(0,e.b1)(ve),Ke="PBI.SerializationError",tt=e.cx[Ke]=(0,e.b1)(Ke),mt="PBI.EX.EmptyVisualContainerConfig",He=e.cx[mt]=(0,e.b1)(mt),ke="PBI.ClipboardService.Paste",ft=e.cx[ke]=(0,e.b1)(ke),Le="PBI.ClipboardService.UnsupportedVersion",Q=e.cx[Le]=(0,e.b1)(Le),Ue="PBI.DataPointLassoSelect.PreviewSerialized",Se=(e.cx[Ue]=(0,e.b1)(Ue),"PBI.EX.LoopingSQExpr"),vt=(e.cx[Se]=(0,e.b1)(Se),"PBI.EX.GetLinguisticSchema"),de=(e.cx[vt]=(0,e.b1)(vt),"PBI.EX.GetAutoRefreshAdminConfig"),te=e.cx[de]=(0,e.b1)(de),Ve="PBI.EX.GetChangeDetectionAdminConfig",xe=e.cx[Ve]=(0,e.b1)(Ve),Z="PBI.EX.AnchorTimeUndefined",J=e.cx[Z]=(0,e.b1)(Z),Fe="PBI.EX.GetAPRConfigFailure",ze=e.cx[Fe]=(0,e.b1)(Fe),rt="PBI.EX.DefnsDuplicateSelector",Oe=e.cx[rt]=(0,e.b1)(rt),Pe="PBI.EX.CertifiedTelemetryChildrenCountMismatch",X=e.cx[Pe]=(0,e.b1)(Pe),we="PBI.EX.UndoEventTime",Ze=e.cx[we]=(0,e.b1)(we),et="PBI.EX.ConsecutiveUndoCount",at=e.cx[et]=(0,e.b1)(et),St="PBI.EX.DeserializeNonUniqueIdentifier",Ie=e.cx[St]=(0,e.b1)(St)},322671:function(Xe,H,t){t.d(H,{AJ:function(){return a},Vl:function(){return s},gP:function(){return c},pQ:function(){return r},wd:function(){return u}});var e=t(595158),l=t(498342),o=t(871746),d=t(447751),v=t(686311),S=t(377039),h=t(100112),c=function(){function f(V,p,C){this.op=V,this.onOperatorChanged(),this.isCalendarShown=!1,this.value=new r(p,C)}return Object.defineProperty(f.prototype,"operator",{get:function(){return this.op},set:function(p){this.op!==p&&(this.op=p,this.onOperatorChanged())},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"operatorLabel",{get:function(){return this.opLabel},set:function(p){this.opLabel=p},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"valueRequired",{get:function(){return this.valRequired},enumerable:!1,configurable:!0}),f.prototype.accept=function(V){return V.visit(this)},f.empty=function(){return new f(0)},f.equals=function(V,p){return(V=V||null)===(p=p||null)||!V==!p&&(l.fF.assertValue(V,"x"),l.fF.assertValue(p,"y"),V.operator===p.operator&&r.equals(V.value,p.value))},f.prototype.onOperatorChanged=function(){this.valRequired=a(this.operator),this.valRequired?this.cachedValue&&(this.value=this.cachedValue,this.cachedValue=void 0):this.value&&(this.cachedValue=this.value,this.value=void 0)},f}(),r=function(){function f(V,p){null!=V&&(V instanceof Date&&(this.dateValue=V),this.value=V,this.formatter=p,this.stringValue=this.formatter?this.formatter.format(this.value):this.value.toString()),this.dateValue?this.timeValue=new Date(this.dateValue.getTime()):(this.timeValue=new Date,this.timeValue.setHours(0,0,0,0))}return Object.defineProperty(f.prototype,"isDate",{get:function(){return null!=this.dateValue},enumerable:!1,configurable:!0}),Object.defineProperty(f.prototype,"hasValue",{get:function(){return null!=this.dateValue||!(0,d.g)(this.stringValue)},enumerable:!1,configurable:!0}),f.prototype.isValidDate=function(){return this.isDate&&(!_.isString(this.value)||null!==h.dx.parseDate(this.value))},f.equals=function(V,p){return(V=V||null)===(p=p||null)||!V==!p&&(l.fF.assertValue(V,"left"),l.fF.assertValue(p,"right"),f.compareDateTimeValue(V,p)&&V.stringValue===p.stringValue)},f.compareDateTimeValue=function(V,p){return(V.dateValue?V.dateValue.valueOf():0)===(p.dateValue?p.dateValue.valueOf():0)},f}(),s=function(){function f(V){var p=this;this.localizationService=V,this.isOperator=new o.o(function(){return{value:9,label:p.getLocalize().get("FilterOperator_Is"),tooltip:p.getLocalize().get("FilterOperator_IsTooltip")}}),this.isNotOperator=new o.o(function(){return{value:10,label:p.getLocalize().get("FilterOperator_IsNot"),tooltip:p.getLocalize().get("FilterOperator_IsNotTooltip")}}),this.isBlankOperator=new o.o(function(){return{value:11,label:p.getLocalize().get("FilterOperator_IsBlank"),tooltip:p.getLocalize().get("FilterOperator_IsBlankTooltip")}}),this.isNotBlankOperator=new o.o(function(){return{value:12,label:p.getLocalize().get("FilterOperator_IsNotBlank"),tooltip:p.getLocalize().get("FilterOperator_IsNotBlankTooltip")}}),this.containsOperator=new o.o(function(){return{value:5,label:p.getLocalize().get("FilterOperator_Contains"),tooltip:p.getLocalize().get("FilterOperator_ContainsTooltip")}}),this.doesNotContainOperator=new o.o(function(){return{value:6,label:p.getLocalize().get("FilterOperator_DoesNotContain"),tooltip:p.getLocalize().get("FilterOperator_DoesNotContainTooltip")}}),this.startsWithOperator=new o.o(function(){return{value:7,label:p.getLocalize().get("FilterOperator_StartsWith"),tooltip:p.getLocalize().get("FilterOperator_StartsWithTooltip")}}),this.doesNotStartWithOperator=new o.o(function(){return{value:8,label:p.getLocalize().get("FilterOperator_DoesNotStartWith"),tooltip:p.getLocalize().get("FilterOperator_DoesNotStartWithTooltip")}}),this.isEmptyString=new o.o(function(){return{value:13,label:p.getLocalize().get("FilterOperator_IsEmptyString"),tooltip:p.getLocalize().get("FilterOperator_IsEmptyStringTooltip")}}),this.isNotEmptyString=new o.o(function(){return{value:14,label:p.getLocalize().get("FilterOperator_IsNotEmptyString"),tooltip:p.getLocalize().get("FilterOperator_IsNotEmptyStringTooltip")}}),this.greaterThanOperator_ForDateTime=new o.o(function(){return{value:3,label:p.getLocalize().get("FilterOperator_GreaterThan_DT"),tooltip:p.getLocalize().get("FilterOperator_GreaterThan_DT")}}),this.greaterThanOrEqualToOperator_ForDateTime=new o.o(function(){return{value:4,label:p.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT"),tooltip:p.getLocalize().get("FilterOperator_GreaterThanOrEqual_DT")}}),this.isLessThanOperator_ForDateTime=new o.o(function(){return{value:1,label:p.getLocalize().get("FilterOperator_LessThan_DT"),tooltip:p.getLocalize().get("FilterOperator_LessThan_DT")}}),this.isLessThanOrEqualToOperator_ForDateTime=new o.o(function(){return{value:2,label:p.getLocalize().get("FilterOperator_LessThanOrEqual_DT"),tooltip:p.getLocalize().get("FilterOperator_LessThanOrEqual_DT")}}),this.greaterThanOperator=new o.o(function(){return{value:3,label:p.getLocalize().get("FilterOperator_GreaterThan"),tooltip:p.getLocalize().get("FilterOperator_GreaterThan")}}),this.greaterThanOrEqualToOperator=new o.o(function(){return{value:4,label:p.getLocalize().get("FilterOperator_GreaterThanOrEqual"),tooltip:p.getLocalize().get("FilterOperator_GreaterThanOrEqual")}}),this.isLessThanOperator=new o.o(function(){return{value:1,label:p.getLocalize().get("FilterOperator_LessThan"),tooltip:p.getLocalize().get("FilterOperator_LessThan")}}),this.isLessThanOrEqualToOperator=new o.o(function(){return{value:2,label:p.getLocalize().get("FilterOperator_LessThanOrEqual"),tooltip:p.getLocalize().get("FilterOperator_LessThanOrEqual")}})}return f.prototype.getLocalize=function(){return(0,e.h1)(this.localizationService)},f.prototype.operatorsForColumnMappedToMParameter=function(){var V=[];return V.push(this.isOperator.getValue()),V},f.prototype.dateTimeOperator=function(){var V=[];return V.push(this.isOperator.getValue()),V.push(this.isNotOperator.getValue()),V.push(this.greaterThanOperator_ForDateTime.getValue()),V.push(this.greaterThanOrEqualToOperator_ForDateTime.getValue()),V.push(this.isLessThanOperator_ForDateTime.getValue()),V.push(this.isLessThanOrEqualToOperator_ForDateTime.getValue()),V.push(this.isBlankOperator.getValue()),V.push(this.isNotBlankOperator.getValue()),V},f.prototype.stringTypeOperator=function(){var V=[];return V.push(this.containsOperator.getValue()),V.push(this.doesNotContainOperator.getValue()),V.push(this.startsWithOperator.getValue()),V.push(this.doesNotStartWithOperator.getValue()),V.push(this.isOperator.getValue()),V.push(this.isNotOperator.getValue()),V.push(this.isBlankOperator.getValue()),V.push(this.isNotBlankOperator.getValue()),V.push(this.isEmptyString.getValue()),V.push(this.isNotEmptyString.getValue()),V},f.prototype.numericOperator=function(){var V=[];return V.push(this.isLessThanOperator.getValue()),V.push(this.isLessThanOrEqualToOperator.getValue()),V.push(this.greaterThanOperator.getValue()),V.push(this.greaterThanOrEqualToOperator.getValue()),V.push(this.isOperator.getValue()),V.push(this.isNotOperator.getValue()),V.push(this.isBlankOperator.getValue()),V.push(this.isNotBlankOperator.getValue()),V},f.prototype.tryGetExprFilterOperators=function(V,p,C,b){if(!_.isEmpty(V.validate(p,C)))return{hasError:!0,operators:void 0};var y=V.getMetadata(p);return l.fF.assertValue(y,"metadata"),{hasError:!1,operators:this.getFilterOperators(y.type,b)}},f.prototype.getFilterOperators=function(V,p){return p?this.operatorsForColumnMappedToMParameter():V.text?this.stringTypeOperator():V.integer||V.numeric?this.numericOperator():V.dateTime?this.dateTimeOperator():void 0},f.prototype.isOperatorForColumnMappedToMParameter=function(V){return this.operatorsForColumnMappedToMParameter().some(function(p){return p.value===V})},f}(),u=function(){function f(V){this.localizationService=V}return f.prototype.fromCondition=function(V,p,C){for(var y,b=new m(p,C,this.localizationService),D=0,P=V;D<P.length;D++){var F=P[D];null==F.operator||0===F.operator||(y=F.accept(b))}return y},f.prototype.fromLabels=function(V,p){var C;if(V.length>0){for(var y=[],D=0,P=V;D<P.length;D++)y.push(n(P[D]));C=(0,v.KF)(y),C=(0,d.W)(p?(0,e.h1)(this.localizationService).get("FilterRestatement_NotEqual"):(0,e.h1)(this.localizationService).get("FilterRestatement_Equal"),C)}return C},f.prototype.fromDataViewScopeIdentities=function(V,p,C){for(var b=[],y=0,D=V;y<D.length;y++)b.push(i(D[y],C));return this.fromLabels(b,p)},f.prototype.fromDefault=function(V){if(null!=V)return(0,d.W)((0,e.h1)(this.localizationService).get("FilterRestatement_IsDefault"),n(V))},f}();function i(f,V){var p=(0,S.Xz)(f);return V?V.format(p):p}function a(f){return 11!==f&&12!==f&&0!==f&&13!==f&&14!==f}function n(f){return null===f?null:_.isString(f)?f:f.displayName?f.displayName:"function"!=typeof f||"object"!=typeof f?f:void 0}var m=function(){function f(V,p,C){this.localizationService=C,this.localizationService=(0,e.h1)(this.localizationService),0===V?this.logicalOperatorResourceId=this.localizationService.get("FilterRestatement_CompoundAnd"):1===V&&(this.logicalOperatorResourceId=this.localizationService.get("Generic_Or")),this.formatter=p}return f.prototype.visit=function(V){var p=this,C=this.conditionToString(V);if(C)return _.isEmpty(this.result)?this.result=C:(l.fF.assert(function(){return!_.isEmpty(p.logicalOperatorResourceId)},"Logical operator is not set"),this.result=(0,d.W)(this.logicalOperatorResourceId,this.result,C)),this.result},f.prototype.conditionToString=function(V){var C,p=V.value;if(!a(V.operator)||p&&p.hasValue)switch(p&&(C=this.formatter?this.formatter.format(p.value||p.stringValue):p.stringValue),V.operator){case 9:return(0,d.W)(this.localizationService.get("FilterRestatement_Equal"),C);case 10:return(0,d.W)(this.localizationService.get("FilterRestatement_NotEqual"),C);case 3:return(0,d.W)(this.localizationService.get(p.isDate?"FilterRestatement_GreaterThan_DT":"FilterRestatement_GreaterThan"),C);case 4:return(0,d.W)(this.localizationService.get(p.isDate?"FilterRestatement_GreaterThanOrEqual_DT":"FilterRestatement_GreaterThanOrEqual"),C);case 1:return(0,d.W)(this.localizationService.get(p.isDate?"FilterRestatement_LessThan_DT":"FilterRestatement_LessThan"),C);case 2:return(0,d.W)(this.localizationService.get(p.isDate?"FilterRestatement_LessThanOrEqual_DT":"FilterRestatement_LessThanOrEqual"),C);case 5:return(0,d.W)(this.localizationService.get("FilterRestatement_Contains"),C);case 6:return(0,d.W)(this.localizationService.get("FilterRestatement_DoesNotContain"),C);case 7:return(0,d.W)(this.localizationService.get("FilterRestatement_StartWith"),C);case 8:return(0,d.W)(this.localizationService.get("FilterRestatement_DoesNotStartWith"),C);case 11:return this.localizationService.get("FilterOperator_IsBlank");case 12:return this.localizationService.get("FilterOperator_IsNotBlank");case 13:return this.localizationService.get("FilterOperator_IsEmptyString");case 14:return this.localizationService.get("FilterOperator_IsNotEmptyString");default:return l.fF.assertFail("Not supported filter operator"),""}},f}()},781090:function(Xe,H,t){t.d(H,{Go:function(){return N},p0:function(){return O}});var e=t(445765),l=t(590123),o=t(593773),d=t(947634),v=t(709787),S=t(820967),h=t(498342),c=t(447751),r=t(147883),s=t(812454),u=t(148782),i=t(553474),a=t(204553),n=t(493369),m=t(572909),f=t(686311),V=t(726501),p=t(844722),C=t(114096),b=t(512322),y=t(678776),D=t(180764),P=t(716742),F=t(497141),E=t(405088),w=t(927903),x=t(979868),R=t(669266),g=t(589195),L=t(411429),M=t(579670),T=t(643293);function O(Te,ce,ve,Re,Ke,tt,mt,He,ke){if(h.fF.assertValue(Te,"visualConfig"),h.fF.assertValue(ce,"visualType"),h.fF.assertValue(ve,"schema"),Te&&ce&&ve){var ft=Ke.visualPluginService.getPlugin(ce);if(ft){var nt,Le=ft.capabilities,Q=mt||Le.dataViewMappings,Ue=Te.query,ae=Le.sorting?Le.sorting.implicit:null,Se=Ue?(0,w.i1)(Ue):{};if(Q&&Ue){var We=(0,i.Lo)(Ue.projections,Q,Se,Ke.featureSwitchService.featureSwitches,Le.objects,Te.objects,Ue.defn.select(),ve);if(!We.supportedMappings){var de=function(Te,ce,ve,Re,Ke){var tt,mt=[];switch(Te.name){case T.D.map:case T.D.azureMap:tt=function(Te){var ce=_.some(Te,function(Ke){return"Category"===Ke.roleName&&Ke.code===i.zS.conditionRangeTooLarge}),ve=_.some(Te,function(Ke){return"X"===Ke.roleName&&Ke.code===i.zS.conditionKindExpectedGrouping}),Re=_.some(Te,function(Ke){return"Y"===Ke.roleName&&Ke.code===i.zS.conditionKindExpectedGrouping});return ce?"DataViewMappingError_LocationAndLatLongGroup":ve||Re?"DataViewMappingError_LatLongAggregateWithNoLocation":void 0}(ce);break;case T.D.scatterChart:tt=function(Te,ce){var ve=_.some(Te,function(tt){return tt.roleName===v.TL.category&&tt.code===i.zS.conditionRangeTooLarge}),Re=_.some(Te,function(tt){return tt.roleName===v.TL.play&&tt.code===i.zS.conditionRangeTooLarge}),Ke=_.some(Te,function(tt){return tt.roleName===v.TL.x&&(tt.code===i.zS.conditionKindExpectedGrouping||tt.code===i.zS.conditionKindExpectedMeasure)});return ve?ce.featureSwitches.useModernFormatPane?"DataViewMappingError_ScatterGroupingValues":"DataViewMappingError_ScatterGroupingDetails":Re?"DataViewMappingError_ScatterGroupingPlayAxis":Ke?"DataViewMappingError_ScatterXMismatchType":void 0}(ce,Re);break;case T.D.slicer:_.find(ce,function(ft){return ft.code===i.zS.conditionNotHierarchicallyRelated})&&(tt="DataViewMappingError_ConditionNotHierarchicallyRelated")}if(!tt&&!_.isEmpty(ce)){var He=function(Te){if(_.isEmpty(Te))return null;for(var ce=[],ve=0,Re=Te;ve<Re.length;ve++){var Ke=Re[ve];if(void 0!==Ke.conditionIndex&&void 0!==Ke.mappingIndex){var tt=Ke.conditionIndex,mt=Ke.mappingIndex;ce[tt]||(ce[tt]=[]),ce[tt][mt]?ce[tt][mt]++:ce[tt][mt]=1}}for(var ke,ft,He=Te.length+1,Le=0;Le<ce.length;Le++)for(var Q=0;Q<ce[Le].length;Q++)void 0!==ce[Le][Q]&&He>ce[Le][Q]&&(ke=Le,He=ce[Le][Q],ft=Q);var Ue=Te[0];return void 0!==ke&&(Ue=_.find(Te,function(ae){return ae.conditionIndex===ke&&ae.mappingIndex===ft})),Ue}(ce);switch(He.code){case i.zS.conditionRangeTooLarge:tt="DataViewMappingError_ConditionRangeTooLarge";break;case i.zS.conditionRangeTooSmall:tt="DataViewMappingError_ConditionRangeTooSmall";break;case i.zS.conditionKindExpectedMeasure:tt="DataViewMappingError_ConditionKindExpectedMeasure";break;case i.zS.conditionKindExpectedGrouping:tt="DataViewMappingError_ConditionKindExpectedGrouping";break;case i.zS.conditionNotHierarchicallyRelated:return new g.k(tt="DataViewMappingError_ConditionNotHierarchicallyRelated",ve);case i.zS.conditionSchemaCapabilities_TupleFilters_InstanceFilters:tt="DataViewMappingError_ConditionSchemaCapabilities_TupleFilters";break;case i.zS.conditionKindExpectedGroupingOrMeasure:break;default:h.fF.assertNever(He.code)}mt=[pe(He,Ke,ve)]}if(tt)return _e(ve.format(tt,mt),tt)}(ft,We.mappingErrors,Ke.localizationService,Ke.featureSwitchService,Le.dataRoles);if(de)return{error:de,compiled:null};var te=(0,r.d9)(Ue.projections);for(var Ve in te){var xe=te[Ve];xe.activeProjectionRefs=_.map(xe.activeProjectionRefs,function(we){return"select"+(0,d.H6)(we)});for(var Z=0,J=xe.all();Z<J.length;Z++)xe.assignProjection(J[Z]?{queryRef:"select"+(0,d.H6)(J[Z].queryRef)}:null,Z)}var Fe=new g.k("ClientError_NoSupportedDataViewMappingFound",Ke.localizationService);return Fe.addDebugInfo("VisualType",ce),Fe.addDebugInfo("QueryProjectionsByRole",JSON.stringify(te)),Ke.telemetryService.logEvent(P.Um,{code:ce,debugInfo:JSON.stringify(Fe.getDetails(Ke.localizationService).debugErrorInfo)}),{error:Fe,compiled:null}}nt=function(Te,ce,ve,Re,Ke,tt,mt,He,ke,ft,Le,Q,Ue,ae,Se,nt,vt,We){h.fF.assertValue(Te,"visualType"),h.fF.assertValue(ce,"schema"),h.fF.assertAnyValue(ve,"query"),h.fF.assertNonEmpty(Re,"supportedMappings"),h.fF.assertAnyValue(tt,"dataRoles"),h.fF.assertAnyValue(Le,"additionalFilters"),h.fF.assertAnyValue(We,"queryGeneratorCapabilities"),ve=(0,E.OB)(ft.visual.objects,Re,ve,Q,mt);var de=(0,l.y)({mappings:Re,queryDefn:ve.defn,queryProjections:ve.projections,schema:ce,objectDescriptors:ft.visual.descriptors,objectDefinitions:ft.visual.objects,roles:tt,featureSwitches:Ue.featureSwitches,transformPluginService:Q});if(function(Te,ce){var ve;if(Te!==T.D.slicer)return!1;for(var Re=0,Ke=ce;Re<Ke.length;Re++){var tt=Ke[Re],mt=null===(ve=null==tt?void 0:tt.metadata)||void 0===ve?void 0:ve.columns;if(1!==(null==mt?void 0:mt.length)&&_.some(mt,function(He){var ke;return 1===(null===(ke=null==He?void 0:He.parameter)||void 0===ke?void 0:ke.kind)}))return!0}return!1}(Te,de))return{error:new g.k("DQP_No_MappedColumns_In_HierarchySlicers",ae),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0};if(nt){var te=ie(de),xe=nt({dataViewMappings:de,scopedAggregates:Ue.featureSwitches.scopedAggregates});if(xe&&xe.error){var Z=xe.error.code;return{error:_e(ae.get(Z),Z),query:void 0,mappings:void 0,additionalProjections:void 0,objectDefinitions:void 0}}if(!_.isEmpty(ve.expansionStates)){var J=[];h.fF.assert(function(){return 1===de.length},"visualQueryGenerator.compileMappingsWithProperties - compiledMappings should only have 1 mapping");var Fe=!_.isEmpty(de)&&de[0].matrix;if(Fe){var ze=Fe.rows;ze.for?J=_.map(ze.for.in.items,function(Ut){return Ut}):h.fF.assertFail("visualQueryGenerator.compileMappingsWithProperties - invalid row mapping type")}for(var rt=0,Oe=ve.expansionStates;rt<Oe.length;rt++){var Pe=Oe[rt];if(!_.isEmpty(Pe.root.children)&&!_.isEmpty(Pe.levels))for(var X=0,we=Pe.levels;X<we.length;X++)for(var Ze=we[X],et=0,at=J;et<at.length;et++){var St=at[et];_.isEmpty(Ze.queryRefs)||St.queryName!==Ze.queryRefs[0]||2!==St.subtotalType&&(St.subtotalType=1)}}}ve=function(Te,ce,ve){if(_.isEqual(ce,ve))return Te;for(var Re=[],Ke=Te.defn.select(),tt=0,mt=ve;tt<mt.length;tt++)for(var ke=_.sortBy(mt[tt],function(ae){return ae.sortOrder}),ft=0,Le=ke;ft<Le.length;ft++){var Q=Le[ft],Ue=Ke.withName(Q.queryName);Re.push({direction:Q.sort,expr:Ue.expr})}return new D.g(Te.defn.orderBy(Re),Te.projections,Te.expansionStates,Te.isDrillDisabled)}(ve,te,ie(de))}(function(Te,ce,ve){for(var Re=0,Ke=Te;Re<Ke.length;Re++){var tt=Ke[Re];ce&&!1===ce.allowBinnedLineSample&&G(tt),ce&&!1===ce.allowOverlappingPointsSample&&me(tt),Y(ve)||re(tt)}})(de,He,ce),ve=(0,E.hQ)(Q,ve,de),ve=Se.applyImplicitSort(ve,vt),ve=Se.ensureValidSorting({query:ve,schema:ce,visualType:Te,columnProperties:ke,compiledMappings:de});var qe=function(Te,ce,ve,Re,Ke){for(var tt,mt=[],He=0,ke=ce;He<ke.length;He++)(0,u.oF)(ke[He],{visitRole:function(Q){if(Q.items)for(var Ue=0,ae=Q.items;Ue<ae.length;Ue++){var Se=ae[Ue];if(Se.scalarKeyInfo&&Se.scalarKeyInfo.scalarKeyMinProperty){if(!tt)if(Re){var nt=(0,o.xF)(Re,Ke,void 0,!1);tt=(0,o.wN)(nt,Ke)}else tt={};mt.push(Ee(Te,ve,Se,tt))}}}});return{modifiedObjectDefinitions:tt||Re,addedScalarKeys:mt}}(ce,de,ve,ft.visual.objects,ft.visual.descriptors),bt=qe.modifiedObjectDefinitions,It=qe.addedScalarKeys;bt=function(Te,ce,ve,Re,Ke,tt){if(!Te||!Te.dataFilter)return tt;for(var ft,mt=Ke.defn.select(),He=Te.dataFilter.where(),ke=Te.queryRefsForSingleItemDrillFilters,Le=0,Q=Re;Le<Q.length;Le++){var Ue=Q[Le];!Ue||!Ue.categorical||!Ue.categorical.categories||(0,u.Sr)(Ue.categorical.categories,{visitRole:function(Se){if(!_.isEmpty(Se.items))for(var nt=0,vt=Se.items;nt<vt.length;nt++){var We=vt[nt],de=We.queryName;if(We.filteredToUniqueValueProperty&&_.includes(ke,de)){var Ve=Ye(mt.withName(de).expr,He,ve,ce);Ve&&(ft||(ft=tt?(0,a.d9)(tt):{}),Je(Ve,We,ft))}}}})}return ft||tt}(Le,We,ce,de,ve,bt),ft.visual.objects=bt;var Rt=(0,M.S)(ve,tt),zt=[ft.visual];ft.visualContainer&&zt.push(ft.visualContainer);var Yt,ir,lr,Kt=(0,e.l7)(ve.defn,ce,zt,Rt,ve.projections,Ke,Le&&Le.dataFilter,!0);if(Kt){Yt=new D.g(Kt.queryDefn,ve.projections,ve.expansionStates,ve.isDrillDisabled),ir=Kt.additionalProjections,lr=Kt.warnings;for(var dr=0,br=It;dr<br.length;dr++){var Cr=br[dr],pt=Yt.defn.selectNameOf(Cr.expr);h.fF.assertValue(pt,"scalar key select name"),Cr.roleItem.scalarKeyInfo||(Cr.roleItem.scalarKeyInfo={}),Cr.roleItem.scalarKeyInfo.scalarKeyQueryName=pt}ft.visual=U(ft.visual,ce,y.m.buildExprEvaluationContext(ve.defn.from())),ft.visual=W(Kt.objectDefinitionRewrites,ft.visual)}return{query:Yt||ve,mappings:de,additionalProjections:ir,warnings:lr,objectDefinitions:ft.visual.objects}}(ce,ve,Ue,We.supportedMappings,Se,Le.dataRoles,Le,Te.queryOptions,Te.columnProperties,(0,w.kT)(Te,Le),tt,Ke.transformPluginService,Ke.featureSwitchService,Ke.localizationService,Ke.sortService,null!=ke?ke:ft.customizeQuery,ae,Re)}else{var vt=(0,w.kT)(Te,Le);nt=function(Te,ce,ve,Re,Ke,tt,mt,He,ke){if(h.fF.assertAnyValue(Te,"schema"),h.fF.assertAnyValue(ce,"query"),h.fF.assertAnyValue(Re,"roleMapping"),h.fF.assertAnyValue(Ke,"dataRoles"),h.fF.assertAnyValue(mt,"additionalFilters"),!ce&&_.isEmpty(Re)){ce=new D.g(C.vQ.create(),{},[]);var ft=(0,M.S)(ce,Ke),Le=[tt.visual];Le.push(tt.visualContainer);var Q=(0,e.l7)(ce.defn,Te,Le,ft,ce.projections,ve,mt&&mt.dataFilter,!0);if(Q){var Ue=new D.g(Q.queryDefn,ce.projections,ce.expansionStates,ce.isDrillDisabled),ae=Q.additionalProjections,Se=(0,l.y)({mappings:[{table:{rows:{for:{in:"*"}}}}],queryDefn:ce.defn,queryProjections:ce.projections,schema:Te,objectDescriptors:tt.visual.descriptors,objectDefinitions:tt.visual.objects,roles:Ke,featureSwitches:He.featureSwitches,transformPluginService:ke});return tt.visual=U(tt.visual,Te,y.m.buildExprEvaluationContext(ce.defn.from())),tt.visual=W(Q.objectDefinitionRewrites,tt.visual),{query:Ue||ce,mappings:Se,additionalProjections:ae,warnings:Q.warnings,objectDefinitions:tt.visual.objects}}}}(ve,Ue,Se,Q,Le.dataRoles,vt,tt,Ke.featureSwitchService,Ke.transformPluginService)}var ze=[];if(nt){if(nt.error)return{error:nt.error,compiled:null};ze.push.apply(ze,function(Te,ce,ve,Re,Ke){for(var tt=new be(ce.defn,ve,Re,Ke),mt=0,He=Te;mt<He.length;mt++)(0,u.oF)(He[mt],tt);return tt.warnings}(nt.mappings,nt.query,ve,Ke.displayNameService,Le)||[]),ze.push.apply(ze,function(Te){if(Te&&Te.highlightFilter){var ce=Te.highlightFilter.where(),ve=_.find(ce,function(Ke){return 3===(0,p._)(Ke.condition)}),Re=_.find(ce,function(Ke){return(0,x.hV)(Ke.condition)});if(ve||Re)return Te.dataFilter=Te.dataFilter?C.yl.merge([Te.dataFilter,Te.highlightFilter]):Te.highlightFilter,Te.highlightFilter=void 0,[new Be(ve?0:1)]}}(tt)||[]),nt.warnings&&ze.push.apply(ze,nt.warnings||[]);for(var rt=Ke.telemetryService.getOpenActivityById(He&&He.getProperty("telemetryActivityId")),Oe=0,Pe=ze;Oe<Pe.length;Oe++)Ke.telemetryService.logChildEvent(rt&&rt.event,P.s5,{code:Pe[Oe].code})}return{compiled:nt,warnings:ze}}}}function N(Te){return h.fF.assertValue(Te,"compiledMappings"),_.filter(Te,function(ve){return!ve.usage||!ve.usage.regression})}function U(Te,ce,ve){var Re,Ke={};for(var tt in Te.objects){var mt=Te.descriptors[tt];if(mt)for(var He=0,ke=Te.objects[tt];He<ke.length;He++){var ft=ke[He];for(var Le in ft.properties){var Q=mt.properties[Le];if(Q&&Q.formatStringProperty){var Ue=ft.properties[Le],ae=void 0;if((0,a.Rc)(Ue))ae=Ue;else{if(!(0,a.er)(Ue))continue;ae=Ue.value}if(!(0,a.NA)(Te.objects,Q.formatStringProperty,ft.selector)){var nt=ae.getMetadata(ce,ve);if(nt&&(nt.type||nt.format)){var vt=null!==(Re=nt.format)&&void 0!==Re?Re:(0,f.v1)(nt.type);vt&&(0,a.sO)(Ke,Q.formatStringProperty,ft.selector,(0,b.fL)(vt))}}}}}}if(!_.isEmpty(Ke))for(var tt in Te.objects=(0,a.d9)(Te.objects),Ke)for(var We=0,de=Ke[tt];We<de.length;We++)for(var Le in(ft=de[We]).properties)(0,a.sO)(Te.objects,{objectName:tt,propertyName:Le},ft.selector,ft.properties[Le]);return Te}function W(Te,ce){if(!_.isEmpty(Te)){ce.objects=(0,a.d9)(ce.objects);for(var ve=0,Re=Te;ve<Re.length;ve++){var Ke=Re[ve];for(var tt in ce.objects)for(var mt=0,He=ce.objects[tt];mt<He.length;mt++){var ke=He[mt];if((0,s.fS)(ke.selector,Ke.selector))for(var ft in ke.properties){var Le=ke.properties[ft],Q=void 0;if((0,a.Rc)(Le))Q=Le;else{if(!(0,a.er)(Le))continue;Q=Le.value}(0,R.fS)(Q,Ke.from)&&(ke.properties[ft]=Ke.to)}}}}return ce}function ie(Te){for(var ce=[],ve=0,Re=Te;ve<Re.length;ve++){for(var tt=[],mt=0,He=Re[ve].metadata.columns;mt<He.length;mt++){var ke=He[mt];ke.sort&&tt.push({queryName:ke.queryName,sort:ke.sort,sortOrder:ke.sortOrder})}ce.push(tt)}return ce}function Y(Te){return _.every(Te.schemas,function(ce){return ce.capabilities&&ce.capabilities.supportsTopNPerLevel})}function G(Te){var ce=Te.categorical;if(ce&&ce.dataReductionAlgorithm&&ce.dataReductionAlgorithm.binnedLineSample&&(ce.dataReductionAlgorithm=void 0,ce.categories&&(ce.categories.dataReductionAlgorithm={sample:{}}),ce.values)){var ve=ce.values;ve.group&&(ve.group.dataReductionAlgorithm={top:{}})}}function me(Te){var ce=Te.categorical,ve=Te.matrix;if(ce&&ce.dataReductionAlgorithm&&ce.dataReductionAlgorithm.overlappingPointsSample){var Re=ce.dataReductionAlgorithm.overlappingPointsSample.count;ce.dataReductionAlgorithm={sample:{}},Re&&(ce.dataReductionAlgorithm.sample.count=Re)}else ve&&ve.rows&&ve.rows.dataReductionAlgorithm&&ve.rows.dataReductionAlgorithm.overlappingPointsSample&&(Re=ve.rows.dataReductionAlgorithm.overlappingPointsSample.count,ve.rows.dataReductionAlgorithm={sample:{}},Re&&(ve.rows.dataReductionAlgorithm.sample.count=Re))}function re(Te){var ce=Te.matrix;if(ce&&ce.rows&&ce.rows.dataReductionAlgorithm&&ce.rows.dataReductionAlgorithm.topNPerLevel){var ve=ce.rows.dataReductionAlgorithm.topNPerLevel.fallbackTopCount;ce.rows.dataReductionAlgorithm={top:{}},ve&&(ce.rows.dataReductionAlgorithm.top.count=ve)}}function Ee(Te,ce,ve,Re){var Ke=ve.scalarKeyInfo.scalarKeyMinProperty;h.fF.assertValue(Ke,"scalarKeyMinProperty"),(0,S.BF)(ve.scalarKeyInfo.hasScalarKey,"Scalar key requested when not available");var tt=ce.defn.select().withName(ve.queryName).expr,mt=(0,b.m_)((0,n.YN)(tt,Te),3);return(0,a.sO)(Re,Ke,ve.scalarKeyInfo.selector,mt),{roleItem:ve,expr:mt}}function Ye(Te,ce,ve,Re){if(!Re||!Re.hasAmbiguousEqualitySemantics)return!0;var Ke=Te.getKeyColumns(ve);return _.every(Ke,function(tt){return _.some(ce,function(mt){var He=F.l.getFilterValuesForColumn(tt,mt);if(1===_.size(He)){var ft=He[0];if((0,x.VC)(ft)&&!Re.hasAmbiguousEqualitySemantics(ft))return!0}return!1})})}function Je(Te,ce,ve){var Re=ce.filteredToUniqueValueProperty;h.fF.assertValue(Re,"filteredToUniqueValueProperty");var Ke=(0,b.O7)(Te);(0,a.sO)(ve,Re,{metadata:ce.queryName},Ke)}function _e(Te,ce){return{code:ce,getDetails:function(){return{displayableErrorInfo:[],message:Te}}}}function pe(Te,ce,ve){var Re=Te.roleName;if(!_.isEmpty(ce)){var Ke=_.find(ce,function(tt){return tt.name===Te.roleName});Ke&&Ke.displayName&&(Re=(0,m.G)(Ke.displayName,ve))}return Re}var Ce=function(){function Te(ce){this.errorInfos=ce}return Object.defineProperty(Te.prototype,"code",{get:function(){return"ShowAllDiabledWarning"},enumerable:!1,configurable:!0}),Te.prototype.getDetails=function(ce){var ve=ce.get("ShowAllDisabledWarning_Value"),Re=_.map(this.errorInfos,function(tt){return tt.fieldDisplayName}).join(", ");return{message:ce.get("ShowAllDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:ce.get("ShowAllDiabledWarning_ErrorInfoKey"),errorInfoValue:(0,c.W)(ve,Re)}]}},Te}(),Be=function(){function Te(ce){this.highlightDisableType=ce}return Object.defineProperty(Te.prototype,"code",{get:function(){switch(this.highlightDisableType){case 0:return"HighlightWithTOPNDisabledWarning";case 1:return"HighlightWithExistsFiltersDisabledWarning"}},enumerable:!1,configurable:!0}),Te.prototype.getDetails=function(ce){var ve=0===this.highlightDisableType,Ke=ve?"HighlightWithTOPNDisabledWarning_ErrorInfoKey":"HighlightWithExistFiltersDisabledWarning_ErrorInfoKey",tt=ve?"HighlightWithTOPNDisabledWarning_Value":"HighlightWithExistFiltersDisabledWarning_Value";return{message:ce.get(ve?"HighlightWithTOPNDisabledWarning_Message":"HighlightWithExistFiltersDisabledWarning_Message"),displayableErrorInfo:[{errorInfoKey:ce.get(Ke),errorInfoValue:ce.get(tt)}]}},Te}(),be=function(){function Te(ce,ve,Re,Ke){h.fF.assertValue(ce,"query"),h.fF.assertValue(ve,"schema"),h.fF.assertValue(Re,"displayNameService"),this.displayNameService=Re,this.incompatibleExprInfo=[];for(var tt=0,mt=ce.select();tt<mt.length;tt++){var He=mt[tt],ke=(0,L.Q)(He.expr);ke&&ke.percentOfGrandTotal&&this.incompatibleExprInfo.push({basePropertyName:(0,V.Hp)(ke),fieldDisplayName:this.displayNameService.getQualifiedDisplayName(He.expr,ve,Ke)})}this.warnings=[]}return Te.prototype.visitRole=function(ce){ce.showAll&&this.incompatibleExprInfo.length>0&&(ce.showAll=!1,this.warnings.push(new Ce(this.incompatibleExprInfo)))},Te}()},10031:function(Xe,H,t){t.d(H,{j:function(){return l}});var e=t(497141),l=function(){function o(){}var d;return d=o,o.DetailVisualBorder=10,o.supportsVisualDetails=function(v,S,h){var c=S.capabilities(v);return!(!c||!h.isQueryVisual(v)||h.isAnalysisVisual(v)||c.disableVisualDetails)&&_.some(c.dataViewMappings,function(r){return r.categorical||r.matrix||r.table||r.tree})},o.supportsMatrixView=function(v,S,h){return d.supportsVisualDetails(v,S,h)&&!h.isTableVisual(v)&&!h.isMatrixVisual(v)&&!e.l.supportsFilterOutput(S.capabilities(v))},o.getDetailVisualViewport=function(v,S){var c,r;return 1===(S||1)?(c=v.width-2*o.DetailVisualBorder,r=v.height-o.DetailVisualBorder):(c=v.width-o.DetailVisualBorder,r=v.height-2*o.DetailVisualBorder),{width:Math.max(c,0),height:Math.max(r,0),scale:v.scale}},o.adjustViewport=function(v,S,h){var r=v||1,s=o.getDetailVisualViewport(S,r);return h&&1===r&&(s={width:s.width,height:Math.max(s.height-33,0),scale:s.scale}),s},o}()},855854:function(Xe,H,t){t.d(H,{g:function(){return l}});var e=t(447751);function l(o,d,v){if(!_.isEmpty(o)){if(1===o.length)return o[0];var S=o.pop();return(0,e.W)(v.stringResourceProvider.get(d),o.length>1?o.join(v.stringResourceProvider.get("ListJoin_Separator")):o[0],S)}return null}},819408:function(Xe,H,t){t.d(H,{LG:function(){return h},S1:function(){return d},WO:function(){return o},dR:function(){return v}});var e=t(365358),l=t(498342);function o(i,a){if(l.fF.assertAnyValue(i,"capabilities"),a)return[];var n=i.drilldown;return null!=n&&n.roles?n.roles:[]}function d(i){var a;return l.fF.assertValue(i,"capabilities"),!(null===(a=i.drilldown)||void 0===a||!a.canDisableDrill)}function v(i){return l.fF.assertValue(i,"capabilities"),d(i)&&!!i.drilldown.canDisableDrill.disabledByDefault}function S(i,a,n){l.fF.assert(function(){return null!=a},"queryRef should exist while removing drill filters");var m=i.defn.select().withName(a);return l.fF.assertValue(m,"did not find queryRef in query.select while removing drill filter"),m?{expr:m.expr,roleName:n}:void 0}function h(i,a,n){if(a){var m;switch(n){case 1:m=function(i,a){var n=[],m=i.projections,f=a.sourceCount,V=a.sourceIndex,p=a.sourceRole,C=a.targetRole;if(m[C]){var y=(b=m[C]).all(),D=a.targetIndex;D>=V&&p===C&&(D+=f);for(var F=b.convertFieldIndexToProjectionIndex(D),E=y.length;F<E;F++){for(var w=b.getProjectionsByProjectionIndex(F),x=0,R=w;x<R.length;x++)n.push(S(i,R[x].queryRef,C));F+=w.length-1}}if(m[p])for(var b=m[p],L=f-1;L>=0;L--)for(var T=0,O=b.getProjectionsByFieldIndex(V+L);T<O.length;T++)n.push(S(i,O[T].queryRef,p));return n}(i,a);break;case 0:if(a.expr){m=[];for(var p=0,C=(0,e.rY)(a.expr);p<C.length;p++)m.push(r(i,C[p]))}else m=function(i,a){var n,m=[],f=null!==(n=a.count)&&void 0!==n?n:1,V=a.role,p=i.projections[V];if(p)for(var C=a.projOptions.fieldIndex+f-1,b=f-1;b>=0;b--,C--)for(var D=0,P=p.getProjectionsByFieldIndex(C);D<P.length;D++)m.push(S(i,P[D].queryRef,V));return m}(i,a);break;case 2:break;default:return void l.fF.assertNever(n)}return _.compact(m)}}function r(i,a){var n=i.defn.selectNameOf(a),m=function(i,a){for(var n in i){var m=i[n].all();if(_.findIndex(m,function(V){return V.queryRef===a})>=0)return n}}(i.projections,n);return{expr:a,roleName:m}}},928168:function(Xe,H,t){t.d(H,{i:function(){return l}});var e=t(979868);function l(o,d){return(1===o||2===o)&&_.some(d,function(v){return v.asAggregation||v.fieldExpr&&(0,e.kb)(v.fieldExpr)})}},756101:function(Xe,H,t){t.d(H,{it:function(){return d},mb:function(){return h},qL:function(){return o},qt:function(){return s},tn:function(){return S},u6:function(){return u}});var e=t(498342),l=t(345947);function o(i,a,n){var m=c(i,a);return(n&&""!==n?(0,l.A9)((0,l.bW)(n)):-Number.MAX_VALUE)>m}function d(i,a,n){var m=c(i,a);return(n&&""!==n?(0,l.A9)((0,l.bW)(n)):Number.MAX_VALUE)<m}function S(i,a){var n=(0,l.bW)(i),m=(0,l.ei)(n);if(m.length<=0)return e.fF.assertFail("Unable to parse the value and units"),"";var f=m[0].value,V=function(i,a){var n=i.value,m=i.unit,f=i.isTimeUnit;switch(m){case"S":return a.get(1===n?"TimeUnit_Second":"TimeUnit_Seconds");case"M":return a.get(f?1===n?"TimeUnit_Minute":"TimeUnit_Minutes":1===n?"TimeUnit_Month":"TimeUnit_Months");case"H":return a.get(1===n?"TimeUnit_Hour":"TimeUnit_Hours");case"D":return a.get(1===n?"TimeUnit_Day":"TimeUnit_Days");case"W":return a.get(1===n?"TimeUnit_Week":"TimeUnit_Weeks");case"Y":return a.get(1===n?"TimeUnit_Year":"TimeUnit_Years");default:return e.fF.assertNever(m),""}}(m[0],a);return"".concat(f," ").concat(V)}function h(i){switch(i){case"S":case"M":case"H":return!0;default:return!1}}function c(i,a){var n=[{value:i,unit:a,isTimeUnit:h(a)}],m=(0,l.Gk)(n);return(0,l.A9)(m)}function r(i,a){var n=Math.pow(10,a||0);return Math.round(i*n)/n}function s(i,a){return isNaN(i)?a.get("TwoDashes"):i<60?1===i?a.get("TimeUnit_One_second"):a.format("TimeUnit_seconds_with_value",[r(i,1)]):(i/=60)<60?1===i?a.get("TimeUnit_One_minute"):a.format("TimeUnit_minutes_with_value",[r(i,1)]):1==(i/=60)?a.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):a.format("TimeUnit_hours_with_value",[r(i,1)])}function u(i,a){var n=i.value,m=i.unit,f=i.isTimeUnit;switch(m){case"S":return 1===n?a.get("TimeUnit_One_second"):a.format("TimeUnit_seconds_with_value",n);case"M":return f?1===n?a.get("TimeUnit_One_minute"):a.format("CdsaAuthoring_Iframe_TheNumberOfHowManyMinutes",n):1===n?a.get("TimeUnit_One_month"):a.format("TimeUnit_months_with_value",n);case"H":return 1===n?a.get("SettingsDataset_ScheduleRefresh_RefreshFrequency_OneHour"):a.format("TimeUnit_hours_with_value",n);case"D":return 1===n?a.get("TimeUnit_One_day"):a.format("TimeUnit_days_with_value",n);case"W":return 1===n?a.get("TimeUnit_One_week"):a.format("TimeUnit_weeks_with_value",n);case"Y":return 1===n?a.get("TimeUnit_One_year"):a.format("TimeUnit_years_with_value",n);default:return e.fF.assertNever(m),""}}},172576:function(Xe,H,t){t.d(H,{v:function(){return v}});var e=t(973188),l=t(498342),o=t(678195),v=function(S){function h(c,r){var s=S.call(this,r)||this;return s.rewriters=c,l.fF.assertValue(c,"rewriters"),s}return(0,e.__extends)(h,S),h.prototype.visitFilterContainer=function(c){(0,o.Oe)(c,this.rewriters)},h}(function(){function S(h){this.visualContainerStateVisitor=h}return S.prototype.visitFilterContainer=function(h){},S.prototype.visitSectionState=function(h){},S}())},573217:function(Xe,H,t){t.d(H,{Jh:function(){return s},wD:function(){return v}});var e=t(498342),l=t(660404),o=t(249039),d=t(927903);function v(C,b,y){e.fF.assertValue(b,"visitor"),e.fF.assertValue(C,"exploration"),b.visitExploration(C),n(C.filters,b);var D=C.bookmarks;if(!_.isEmpty(D))for(var P=0,F=D;P<F.length;P++)S(F[P],C.sections,y,b);var w=C.sections;if(!_.isEmpty(w))for(var x=0,R=w;x<R.length;x++)c(R[x],b,y);!function(C,b){if(!_.isEmpty(C))for(var y=0,D=C;y<D.length;y++)b.visitPod(D[y])}(C.pods,b)}function S(C,b,y,D){if(D.visitBookmark(C),l.J.isBookmarkGroup(C))for(var P=0,F=C.children;P<F.length;P++)S(F[P],b,y,D);else!function(C,b,y,D){C&&(m(C.filters,D),_.forOwn(C.sections,function(P,F){!function(C,b,y,D){if(C&&b){D.visitSectionState(C),m(C.filters,D);var P=D.visualContainerStateVisitor;if(P){var F=b.visualContainers;_.forOwn(C.visualContainers,function(E,w){!function(C,b,y,D){!C||!b||(D.visitVisualContainerState(C),m(C.filters,D),function(C,b){if(C){if(!_.isEmpty(C.selection))for(var y=0,D=C.selection;y<D.length;y++)b.visitSelectorsByColumn(D[y]);C.filterExpressionMetadata&&b.visitFilterExpressionMetadata(C.filterExpressionMetadata)}}(C.highlight,D),function(C,b,y,D){if(C){D.visitSingleVisualState(C);var P=C.orderBy;P&&D.visitOrderByStates(P);var F=C.objects;if(F){var E=(0,d.cj)(b,y);if(E){var w=E.objects;w&&D.visitDataViewObjectDefinitionUpdates(F,w)}var x=F.merge;x&&f(x,D);var R=F.remove;if(!_.isEmpty(R))for(var g=0,L=R;g<L.length;g++){var T=L[g].selector;T&&D.visitSelector(T)}}var O=C.activeProjections;O&&D.visitActiveProjectionStates(O)}}(C&&C.singleVisual,b,y,D))}(E,_.find(F,function(R){return R.name===w}),y,P)})}}}(P,_.find(b,function(w){return w.name===F}),y,D)}))}(C.explorationState,b,y,D.explorationStateVisitor)}function c(C,b,y){e.fF.assertValue(C,"section"),b.visitSection(C),n(C.filters,b),function(C,b){if(!_.isEmpty(C))for(var y=0,D=C;y<D.length;y++)b.visitLinkField(D[y])}(C.linkFields,b);var D=C.visualContainers;if(!_.isEmpty(D))for(var P=0,F=D.length;P<F;P++)s(D[P],b.visualContainerVisitor,y)}function s(C,b,y){var D;if(b.visitVisualContainer(C),C.config&&(D=C.config.singleVisual)){b.visitSingleVisualConfig(D);var P=D.query;P&&b.visitQuery(P);var F=function(M,T){T&&b.visitDataViewObjects(M,T),f(M,b)},E=D.objects;if(E){var w=void 0,x=(0,d.cj)(C,y);x&&(w=x.objects),F(E,w)}var R=D.vcObjects;if(R){F(R,w=o.XW);var g=D.vcObjects.visualLink;g&&b.visitVisualLinks(g)}}n(C.filters,b)}function n(C,b){if(!_.isEmpty(C))for(var y=0,D=C;y<D.length;y++){var P=D[y];e.fF.assertValue(P,"traverseFilters: collection contains null filterContainer"),null!=P&&b.visitFilterContainer(P)}}function m(C,b){if(C){_.forOwn(C.nameIdentifiedMerges,function(w){b.visitFilterContainer(w)});var D=C.exprIdentifiedMerges;if(!_.isEmpty(D))for(var P=0,F=D;P<F.length;P++)b.visitFilterContainer(F[P])}}function f(C,b){_.forOwn(C,function(y){if(!_.isEmpty(y))for(var D=0,P=y;D<P.length;D++){var E=P[D].selector;E&&b.visitSelector(E)}})}},100814:function(Xe,H,t){t.d(H,{b:function(){return e}});var e=function(){function l(o,d){this.explorationStateVisitor=o,this.visualContainerVisitor=d}return l.prototype.visitBookmark=function(o){},l.prototype.visitFilterContainer=function(o){},l.prototype.visitExploration=function(o){},l.prototype.visitSection=function(o){},l.prototype.visitLinkField=function(o){},l.prototype.visitPod=function(o){},l}()},217933:function(Xe,H,t){t.d(H,{HD:function(){return u},Kz:function(){return a},Pb:function(){return D},XV:function(){return n},ac:function(){return C},cr:function(){return V},k:function(){return s},kr:function(){return i}});var e=t(136847),l=t(365358),o=t(498342),d=t(812454),v=t(915925),S=t(930550),h=t(512322),c=t(979868),r=t(669266);function s(P,F,E,w){if(void 0===w&&(w=!1),!_.isEmpty(P)&&function(P,F){if(!_.isEmpty(P)){var E=_.map(P,function(w){return(0,d.tV)(w)});return C(E,F)}}(P,F))return _.some(P,function(g){return g.valueDetails})&&w?function(P,F){if(!_.isEmpty(P)){for(var E={expressions:[],cachedValueItems:[]},w=0,x=P;w<x.length;w++){var R=x[w],g={identities:[],valueMap:{}};if(!R.valueDetails){var L=e.Om.getDataViewKind(F);R.valueDetails=e.Om.query([F],R,L,[],!0)}for(var M=0,T=R.valueDetails;M<T.length;M++){var O=T[M];if(O.expr&&((0,c.t3)(O.expr)||(0,c.ez)(O.expr))){var N=_.indexOf(E.expressions,O.expr);N<0&&(E.expressions.push(O.expr),N=E.expressions.length-1),g.valueMap[N]=O.formattedValue}}if(!_.isEmpty(g.valueMap)){for(var A in R.dataMap)for(var B=0,U=(0,l.rY)(R.dataMap[A]);B<U.length;B++){var W=U[B];1===W.kind?g.identities.push(W):o.fF.assertFail("Unexpected item.kind")}E.cachedValueItems.push(g)}}return E}}(P,E):function(P){if(!_.isEmpty(P)){for(var F={expressions:[],cachedValueItems:[]},E=0,w=P;E<w.length;E++){for(var x=w[E],R={identities:[],valueMap:{}},g=0,L=x.selector.data;g<L.length;g++){var M=L[g];1===M.kind?R.identities.push(M):o.fF.assertFail("Unexpected item.kind")}for(var T=0,O=x.values;T<O.length;T++){var N=O[T];if(N.expr instanceof h.Wh||(0,c.ez)(N.expr)){var A=_.indexOf(F.expressions,N.expr);A<0&&(F.expressions.push(N.expr),A=F.expressions.length-1),R.valueMap[A]=N.formattedValue}}_.isEmpty(R.valueMap)||F.cachedValueItems.push(R)}return F}}(e.Om.getDataPointsDescription(E,P))}function u(P,F){if(!P||!F)return P||F;for(var E={expressions:F.expressions.slice(),cachedValueItems:_.isEmpty(F.cachedValueItems)?[]:F.cachedValueItems.slice()},w={},x=function(A){var I=P.expressions[A],B=_.findIndex(E.expressions,function(U){return U===I||(0,r.fS)(U,I)});-1===B&&(B=F.expressions.length,E.expressions.push(I)),w[A]=B},R=0;R<P.expressions.length;R++)x(R);if(!_.isEmpty(P.cachedValueItems))for(var g=0,L=P.cachedValueItems;g<L.length;g++){var M=L[g],T={};for(var O in M.valueMap)T[w[O]]=M.valueMap[O];E.cachedValueItems.push({identities:M.identities,valueMap:T})}return E}function i(P){for(var F=null,E=0,w=P;E<w.length;E++)F=u(w[E],F);return F}function a(P,F){if(!_.isEmpty(F)&&P){for(var E=[],w=0,x=F;w<x.length;w++){var R=x[w],g={identities:[R.identity],valueMap:{}};g.valueMap[0]=R.displayName,E.push(g)}return{expressions:[P],cachedValueItems:E}}}function n(P,F){if(P.length&&F.cachedValueItems&&F.cachedValueItems.length)for(var E=function(R){var g=P[R],L=g.dataMap,M=R,T=F.cachedValueItems[M].identities,O=!0,N=0;for(var A in L)for(var B=0,U=(0,l.rY)(L[A]);B<U.length;B++){if(!T[N]||!(0,v.fS)(U[B],T[N])){O=!1;break}N++}if(O||(M=_.findIndex(F.cachedValueItems,function(ee){var ie=0;for(var he in L)for(var Y=0,G=(0,l.rY)(L[he]);Y<G.length;Y++){if(!ee.identities[ie]||!(0,v.fS)(G[Y],ee.identities[ie]))return!1;ie++}return!0})),M<0)return o.fF.assertFail("cannot find matching cacheMap with same set of identities in selectorsByColumn in filterExpressionMetadata"),"continue";var j=[],K=F.cachedValueItems[M].valueMap;for(var A in K)j.push({identity:F.cachedValueItems[M].identities[0],expr:F.expressions[A],formattedValue:K[A],value:K[A]});g.valueDetails=j},w=0;w<P.length;w++)E(w)}function V(P){if(P&&!(_.isEmpty(P.expressions)||P.expressions.length>1)){for(var F=[],E=0,w=P.cachedValueItems;E<w.length;E++){var x=w[E];if(_.isEmpty(x.identities)||x.identities.length>1)return;o.fF.assertAnyValue(x.valueMap[0],".tryGetDisplayNameIdentityPairs cache should always have value set"),F.push({identity:x.identities[0],displayName:x.valueMap[0]})}return F}}function C(P,F){if(!_.isEmpty(P)&&F&&F.query)for(var E=F.query.defn.select(),w=0,x=P;w<x.length;w++){var g=(0,d.CT)(x[w]);if(_.isEmpty(g))return;for(var L=0,M=g;L<M.length;L++){var N=(0,S.RR)(M[L].expr);o.fF.assertNonEmpty(N,"identityFields are expected");for(var A=0,I=N;A<I.length;A++)for(var B=I[A],U=0,W=E;U<W.length;U++)if(!(0,r.fS)(B,W[U].expr))return!0}}}function D(P,F){if(!P)return null;for(var E,w=0;w<P.length;w++){var x=(0,h.Dg)(P[w],F[w]);E=E?(0,h.xD)(E,x):x}return(0,v.TZ)(E)}},497141:function(Xe,H,t){t.d(H,{l:function(){return L}});var e=t(973188),l=t(758205),o=t(691379),d=t(346162),v=t(498342),S=t(85179),h=t(204553),c=t(509607),r=t(915925),s=t(686311),u=t(726501),i=t(411429),a=t(844722),n=t(930550),m=t(114096),f=t(678776),V=t(960514),p=t(259879),C=t(196960),b=t(430912),y=t(715770),D=t(306018),P=t(927903),F=t(519753),E=t(979868),w=t(173818),x=t(292170),R=t(669266),L=function(){function O(){}return O.getFormatter=function(N,A){var I=N.getMetadata(A);if(I)return(0,s.Ue)({format:I.format,allowFormatBeautification:!0})},O.getFilterType=function(N,A){return(0,w.k)(N)||!A?b.vA.Advanced:b.vA.Categorical},O.canAdd=function(N,A,I,B,U,W){if(!A||!I)return!1;if(v.fF.assertValue(B,"scope"),!(0,F.Xz)(N,W)&&(0,w.k)(A))return!1;var K=(0,i.Q)(A,I),ee=(0,u.Um)(K),ie=I.schema(ee.schema);if(!ie)return!1;var q,Y,he=ie.findProperty(ee.entity,(0,u.Hp)(K));if(he||(K.hierarchyLevel?(q=ie.findHierarchy(ee.entity,K.hierarchyLevel.name))&&(Y=q.levels.withName(K.hierarchyLevel.level)):K.columnHierarchyLevelVariation&&(q=ie.findHierarchy(K.columnHierarchyLevelVariation.level.entity,K.columnHierarchyLevelVariation.level.name))&&(Y=q.levels.withName(K.columnHierarchyLevelVariation.level.level))),!he&&!Y||!B||!B.container||he&&1===he.kind&&(0!==B.scopeType||ie.capabilities.limitMultiColumnFiltersToQueryGroupColumns)&&!U)return!1;if(U){var G=he&&he.kind;if(!Y&&0!==G&&1!==G)return!1;var re=!1;if(1===B.scopeType){var le=B.container;le&&!le.transient&&(re=!0)}if(!re)return!1}if(0===B.scopeType){var Ee=B.container;if(!Ee||!(0,F.zr)(Ee,W))return!1}return!0},O.supportsFilterOutput=function(N){return null!=this.tryGetFilterPropertyIdentifier(N,null,null)},O.tryGetFilterPropertyIdentifier=function(N,A,I){return A&&I&&I.isCustomVisual(A)?p.Ro:N?(0,c.MD)(N.objects):void 0},O.tryGetFilterProperty=function(N,A,I,B){var U=this.tryGetFilterPropertyIdentifier(N,A,I);if(U)return(0,h.NA)(B,U,void 0)},O.add=function(N,A){N.filters||(N.filters=[]),N.filters.push(A)},O.getFiltersContainer=function(N,A,I){switch(N){case 0:return D.UP.getSelectedVisual(A);case 1:return I.getCurrentSection();case 2:return I.getCurrentExploration();default:v.fF.assertNever(N)}},O.convertFilterData=function(N,A,I){if(N){var B={filter:N.filter,name:this.getNextFilterName(A),type:N.type,restatement:N.restatement,howCreated:I};if(N.type===b.vA.Categorical||N.filterExpressionMetadata&&1===N.filterExpressionMetadata.expressions.length){B.expression=N.filterExpressionMetadata.expressions[0];var U=[];if(!_.isEmpty(N.filterExpressionMetadata.cachedValueItems)){for(var W=0,j=N.filterExpressionMetadata.cachedValueItems;W<j.length;W++){var K=j[W];1===K.identities.length&&U.push({identity:K.identities[0],displayName:K.valueMap[0]})}B.cachedValueItems=U}}else N.filterExpressionMetadata&&(B.filterExpressionMetadata=N.filterExpressionMetadata);return B}},O.shouldDisableFilter=function(N,A,I,B,U){if(!I)return!1;var W=N.expression;if(!W)return!1;var j=(0,w.k)(W),K=!_.isEmpty(this.validate(N,A,B)),ee=(0,P.e4)(I,A);if(j){if(!ee&&!K)return!0;var ie=W.getTargetEntity();if(!ie)return!0;if(A.schema(ie.schema).capabilities.limitMultiColumnFiltersToQueryGroupColumns||(0,P.jW)(I,A,U)||(0,P.EL)(I))return!0}return!1},O.getValueType=function(N,A){var I=N.getMetadata(A);if(I)return I.type},O.getDefaultRetainedValue=function(N,A){var I=f.m.getDefaultValues(N,A);if(!_.isEmpty(I))return{isNot:!1,scopeIds:[[(0,r.TZ)((0,x.R)(N,I))]]}},O.validate=function(N,A,I){v.fF.assertValue(N,"filterContainer");var U=N.filter,W=f.m.validate(N.expression,A,I);if(U&&(W=U.validate(A,I,W)),!_.isEmpty(W))return W},O.getNextFilterName=function(N){null==N&&(N=[]);for(var A={},I=0,B=N;I<B.length;I++){var U=B[I];v.fF.assertValue(U,"getNextFilterName: collection contains null filter"),null!=U&&(A[U.name]=!0)}return d.q.generateUniqueId(A,"Filter")},O.isCategoricalFilter=function(N){return N===b.vA.Categorical||N===b.vA.Visual},O.getQueryRefsForSingleItemDrillFilters=function(N,A,I){var B=N.filters,U=[];if(B)for(var W=0,j=B;W<j.length;W++){var K=j[W],ee=K&&K.filter;if(ee&&_.isEmpty(ee.validate(A,I))&&2===K.howCreated&&this.areDrillFiltersSingleValue(ee.where())){var ie=this.getQueryRefFromFilter(N,K.expression);ie&&U.push(ie)}}return U},O.areDrillFiltersSingleValue=function(N){return!_.isEmpty(N)&&_.every(N,function(A){if(null==A)return!1;var I=A.condition;return(0,E.Hi)(I)?I.values&&1===I.values.length:!!(0,E.Pe)(I)&&0===I.comparison})},O.getQueryRefFromFilter=function(N,A){var I=(0,P.Xf)(N);if(I)return I.defn.selectNameOf(A)},O.getFilterValuesForColumn=function(N,A){if(v.fF.assertAnyValue(A,"filters"),v.fF.assertValue(N,"column"),A){var I=A.condition,B=new T(N);return I.accept(B),B.values}},O.deriveFromSQFilters=function(N,A,I){var B=[],U=I&&I.Filters&&0!==I.Filters.length?I.Filters:null;U&&U.length!==A.length&&(U=null);for(var W=0,j=A.length;W<j;W++){var K=A[W],ee=U&&U[W],ie=ee&&ee.expression&&l.ib.deserializeExpr(ee.expression);B.push({name:this.getNextFilterName(B),filter:new m.yl(N,[K]),restatement:ee&&ee.Restatement,expression:ie,howCreated:0,type:ee&&ee.type})}return B},O.extractParameterFilters=function(N,A){v.fF.assertValue(N,"queryDefn"),v.fF.assertAnyValue(A,"queryMetadata");var I=_.filter(N.From,function(j){return 1!==j.Type}),U={RemovedIndexes:[]},W=l.ib.deserializeFilter({Version:N.Version,From:I,Where:N.Where},U);if(A&&!_.isEmpty(U.RemovedIndexes)&&(A.Filters=_.filter(A.Filters,function(j,K){return!_.includes(U.RemovedIndexes,K)})),W)return this.deriveFromSQFilters(W.from(),W.where(),A)},O.mergeExplorationSectionFilters=function(N,A){v.fF.assertValue(N,"exploration"),v.fF.assertValue(A,"section"),_.isEmpty(N.filters)||(A.filters=this.mergeFilters(A.filters,N.filters,"explore"),N.filters=[])},O.isFilterModified=function(N){var W=!0===N.isHiddenInViewMode||!0===N.isLockedInViewMode||!!N.displayName||void 0!==N.ordinal;return!!N.filter||!(0,h.xb)(N.objects)||W},O.ensureFilterHasName=function(N,A){null==N.name&&this.isFilterModified(N)&&(N.name=this.getNextFilterName(A.container&&A.container.filters))},O.applySectionParameterFilters=function(N,A,I,B,U){v.fF.assertValue(N,"section"),v.fF.assertAnyValue(A,"pod"),v.fF.assertAnyValue(B,"parameterFilters"),v.fF.assertAnyValue(I,"additionalSourceFilters");var W=U;if(N.filters=this.getSectionParameterFiltersToApply(A,N.filters,I,B),(!_.isEmpty(B)||!_.isEmpty(I))&&(W=!0),W)for(var j=0,K=N.visualContainers;j<K.length;j++)K[j].cachedData=null},O.getFiltersToApplyFromVisualQueryFilterContext=function(N){if(N){var A=N.dataFilters?N.dataFilters.slice():[];N.highlightFiltersUnmerged&&(A=A.concat(N.highlightFiltersUnmerged));for(var I=[],B=[],U=0,W=A;U<W.length;U++){var j=W[U],K=j.filter.where();if(!_.isEmpty(K)){var ee=_.filter(K,function(q){return 1===(0,a._)(q.condition)});if(B.push.apply(B,ee||[]),!_.isEmpty(ee)){var ie=_.filter(K,function(q){return 1!==(0,a._)(q.condition)});if(_.isEmpty(ie))continue;j={filter:m.yl.fromSQFromAndSQFilters(j.filter.from(),ie)}}I.push(j)}}if(!_.isEmpty(B)){var he=m.yl.fromMeasureFilters(N.query,B);he&&I.push({filter:he})}return I}},O.findValuesInFilterCache=function(N,A,I){if(v.fF.assert(function(){return N.length===A.length},".extractValuesFromMetadata the columns length should be equal to values length"),I&&!_.isEmpty(I.cachedValueItems)){var B=this.findIdentityMapInFilterCache(N,A,I);if(B){var U=[],W=[];for(var j in B.valueMap)U.push(B.valueMap[j]),W.push(I.expressions[j]);return{values:U,columns:W}}}},O.removeEntryFromFilterCache=function(N,A,I){if(v.fF.assert(function(){return N.length===A.length},".removeEntryFromFilterCache the columns length should be equal to values length"),I&&!_.isEmpty(I.cachedValueItems)){var B=this.findIdentityMapInFilterCache(N,A,I);B&&_.remove(I.cachedValueItems,function(U){return U===B})}},O.findIdentityMapInFilterCache=function(N,A,I){if(v.fF.assert(function(){return N.length===A.length},".findIdentityMapInFilterCache the columns length should be equal to values length"),I&&!_.isEmpty(I.cachedValueItems))for(var B=0,U=I.cachedValueItems;B<U.length;B++){for(var W=U[B],j=new n.aL,K=0,ee=W.identities;K<ee.length;K++)ee[K].expr.accept(j);if(j.keys.length===N.length){for(var he=!0,q=function(re){var le=j.keys[re];if(_.findIndex(N,function(Ne){return(0,R.fS)(Ne,le)})<0||A[re].value!==j.values[re].value)return he=!1,"break"},Y=0;Y<j.keys.length&&"break"!==q(Y);Y++);if(he)return W}}},O.getSectionParameterFiltersToApply=function(N,A,I,B){v.fF.assertAnyValue(N,"pod"),v.fF.assertAnyValue(A,"sectionFilters"),v.fF.assertAnyValue(B,"parameterFilters"),v.fF.assertAnyValue(I,"additionalSourceFilters");var U=(0,e.__spreadArray)([],A||[],!0);if(_.isEmpty(B)||N&&!_.isEmpty(N.parameters)&&_.remove(U,function(j){return _.some(N.parameters,function(K){return K.boundFilter===j.name})}),!_.isEmpty(B)||!_.isEmpty(I)){var W=this.getUnOverriddenAndMergedFilters(B,I);return this.getUnOverriddenAndMergedFilters(W,U)}return U},O.getUnOverriddenAndMergedFilters=function(N,A){if(v.fF.assertAnyValue(N,"higherPrecedenceFilters"),v.fF.assertAnyValue(A,"lowerPrecedenceFilters"),_.isEmpty(N))return A;if(_.isEmpty(A))return N;var I=this.getNonoverriddenFilters(N,A);return this.mergeFilters(I||[],N||[],"param")},O.getNonoverriddenFilters=function(N,A){var I=this;if(v.fF.assertAnyValue(N,"higherPrecedenceFilters"),v.fF.assertAnyValue(A,"lowerPrecedenceFilters"),_.isEmpty(N)||_.isEmpty(A))return A;var B=this.extractAllReferencedFields(N);return _.filter(A,function(W){var j=I.extractReferencedFields(W);return!_.some(j,function(K){return _.some(B,function(ee){return(0,R.fS)(ee,K,!1,!0)})})})},O.extractParameterFiltersFromSection=function(N,A){v.fF.assertAnyValue(N,"sectionFilters"),v.fF.assertAnyValue(A,"originalFilters"),N=N||[];for(var I={},B=[],U=0,W=A=A||[];U<W.length;U++)I[(j=W[U]).name]=j;for(var K=0,ee=N;K<ee.length;K++){var j,ie=I[(j=ee[K]).name];(!ie||!_.isEqual(ie,j))&&B.push(j)}return B},O.mergeFilters=function(N,A,I){for(var B={},U=0,W=N=N||[];U<W.length;U++)B[(j=W[U]).name]=!0;for(var K=0,ee=A;K<ee.length;K++){var j;(j=ee[K]).name=I+"_"+j.name,B[j.name]?v.fF.assertFail("Filter name conflict: "+j.name):B[j.name]=!0}return N.concat(A)},O.canExpandManually=function(N,A,I,B,U){return 6!==N&&!(5===N&&!A&&U!==b.vA.Exclude&&U!==b.vA.Include&&I&&(0,E.kb)(I)||!B)},O.hasMeasureOrAsAggregationLinkField=function(N){return v.fF.assertValue(N,"section"),_.some(N.filters,function(A){return 5===A.howCreated&&!A.isTransient&&(A.isLinkedAsAggregation||A.expression&&(0,E.kb)(A.expression))})},O.notifyFilterContainerChangedByUser=function(N,A){N.publishToChannel(y.d8V,{source:"UserAction_ChangeFilter"}),N.publishToChannel(y.Tuj,A)},O.createChangeFilterActivity=function(N,A){return N.createActivity({name:"Change Filter",operationType:A})},O.notifyBufferedFilterChanges=function(N,A,I,B,U,W){N.publishToChannel(y.Oij,{filterScopeType:A,filterType:I,id:B,canApply:U,wasDeleted:W})},O.isApplyAllEnabled=function(N,A){var I=A.getCurrentExploration();return!!(N&&I&&I.slowDataSourceSettings)&&I.slowDataSourceSettings.isApplyAllButtonEnabled},O.getFilterCardStyle=function(N,A,I,B){var W,j,U=N&&N.filterCard;A?(W=U&&U.$instances&&U.$instances[C.ZF],j=C.Hd):(W=U&&U.$instances&&U.$instances[C.Kc],j=C.$V);var K=this.getDefaultFilterCardStyle(N,A,I,B);return null!=B&&B.forceApplyDefaultStyleOverride?K:{checkboxAndApplyColor:this.getCheckboxAndApplyColor(N&&N.outspacePane,K.checkboxAndApplyColor),borderColor:this.getBorderColor(W,K.borderColor,null==B?void 0:B.alwaysEnableBorder),backgroundColor:this.getBackgroundColor(W,K.backgroundColor,j,A,K.backgroundColorApplied),foregroundColor:this.getColor(W,"foregroundColor",K.foregroundColor),inputBoxBorderColor:this.getBorderColor(W,K.inputBoxBorderColor,!0),inputBoxBackgroundColor:this.getColor(W,"inputBoxColor",K.inputBoxBackgroundColor),inputBoxForegroundColor:this.getColor(W,"foregroundColor",K.inputBoxForegroundColor),fontSize:null!=B&&B.ignoreFontSizeAndFamily?null:K.fontSize,fontFamily:null!=B&&B.ignoreFontSizeAndFamily?null:K.fontFamily}},O.getDefaultFilterCardStyle=function(N,A,I,B){var U,W,K,ee,j=N&&N.filterCard;A?(K=j&&j.$instances&&j.$instances[C.ZF],ee=I.colorPalette.backgroundLight.value):(K=j&&j.$instances&&j.$instances[C.Kc],ee=I.colorPalette.background.value);var ie=A?null===(U=null==B?void 0:B.defaultStyleOverride)||void 0===U?void 0:U.backgroundColorApplied:null===(W=null==B?void 0:B.defaultStyleOverride)||void 0===W?void 0:W.backgroundColorAvailable,he=null==B?void 0:B.defaultStyleOverride,q=ie||(null==he?void 0:he.backgroundColor);return he?(0,e.__assign)((0,e.__assign)({},he),{backgroundColor:q}):{checkboxAndApplyColor:C.mC,borderColor:C.bm,backgroundColor:ee,foregroundColor:I.colorPalette.foreground.value,inputBoxBorderColor:C.bm,inputBoxBackgroundColor:C.NC,inputBoxForegroundColor:C.yJ,fontSize:this.getFontSize(K),fontFamily:this.getFontFamily(K)}},O.determineIsLinkedAsAggregation=function(N,A,I){if(5===N.howCreated)return null!=I.defaultAggregate(N.expression,A)},O.getDisplayNameForIncludeExcludeFilters=function(N,A,I){return N.get(A===b.vA.Include?"Include_Label":"FilterPane_Exclude")+" ("+I+")"},O.getCheckboxAndApplyColor=function(N,A){void 0===A&&(A=C.mC);var I=(0,S.y)(N,"checkboxAndApplyColor",A);return(0,o.cD)(I)},O.getBorderColor=function(N,A,I){var B=(0,S.y)(N,"borderColor",A),W=0;return(!0===(0,S.N)(N,"border",C.HX)||I)&&(W=1),(0,o.cD)(B,W)},O.getBackgroundColor=function(N,A,I,B,U){var j=(0,S.y)(N,"backgroundColor",B&&U?U:A),K=(0,o.TD)((0,S.N)(N,"transparency",I));return(0,o.cD)(j,K)},O.getColor=function(N,A,I){var B=(0,S.y)(N,A,I);return(0,o.cD)(B)},O.getFontSize=function(N){var A=(0,S.N)(N,"textSize",C.JM);return"".concat(A,"pt")},O.getFontFamily=function(N){return(0,S.N)(N,"fontFamily",C.h9)},O.extractAllReferencedFields=function(N){var A=this;return _.flatten(_.map(N,function(I){return A.extractReferencedFields(I)}))},O.extractReferencedFields=function(N){var A=[];if(N.expression&&A.push(N.expression),N.filter)for(var I=0,B=N.filter.conditions();I<B.length;I++){var U=B[I],W=new M;U.accept(W),A=A.concat(W.fields)}return A},O.getFilterCapabilities=function(N){return{canClear:this.canClearManually(N),canDelete:this.canDeleteManually(N),canEdit:this.canEditManually(N),canHide:this.canHideManually(N),canLock:this.canLockManually(N),canRename:this.canRenameManually(N),canSort:this.canSortManually(N)}},O.canClearManually=function(N){return!(0!==N.howCreated&&1!==N.howCreated&&2!==N.howCreated&&5!==N.howCreated&&7!==N.howCreated||N.type===b.vA.Passthrough||5===N.howCreated&&(N.type===b.vA.Exclude||N.type===b.vA.Include))},O.canDeleteManually=function(N){return 1===N.howCreated||5===N.howCreated||7===N.howCreated||N.type===b.vA.Passthrough||3===N.howCreated||4===N.howCreated},O.canEditManually=function(N){return(0===N.howCreated||1===N.howCreated||2===N.howCreated||5===N.howCreated||7===N.howCreated||3===N.howCreated||4===N.howCreated)&&N.type!==b.vA.Passthrough},O.canHideManually=function(N){return 0===N.howCreated||1===N.howCreated||5===N.howCreated&&!N.isTransient||N.type===b.vA.Passthrough||3===N.howCreated||4===N.howCreated},O.canLockManually=function(N){return(0===N.howCreated||1===N.howCreated||5===N.howCreated&&!N.isTransient||3===N.howCreated||4===N.howCreated)&&N.type!==b.vA.Passthrough},O.canRenameManually=function(N){return(0===N.howCreated||1===N.howCreated)&&N.type!==b.vA.Passthrough},O.canSortManually=function(N){return 0===N.howCreated||1===N.howCreated||N.type===b.vA.Passthrough||3===N.howCreated||4===N.howCreated},O}(),M=function(O){function N(){var A=null!==O&&O.apply(this,arguments)||this;return A.fields=[],A}return(0,e.__extends)(N,O),N.prototype.visitColumnRef=function(A){this.fields.push(A)},N.prototype.visitHierarchyLevel=function(A){this.fields.push(A)},N.prototype.visitMeasureRef=function(A){this.fields.push(A)},N.prototype.visitEntity=function(A){this.fields.push(A)},N.prototype.visitAggr=function(){},N}(V.PA),T=function(O){function N(A){var I=O.call(this)||this;return I.comparisonColumn=A,I.values=[],I}return(0,e.__extends)(N,O),N.prototype.visitCompare=function(A){0===A.comparison&&(0,E.VC)(A.right)&&(0,R.fS)(A.left,this.comparisonColumn)&&this.values.push(A.right)},N.prototype.visitIn=function(A){var I=this;if(!_.isEmpty(A.values)){var U=_.findIndex(A.args,function(ee){return(0,R.fS)(ee,I.comparisonColumn,void 0,!0)});if(!(U<0))for(var W=0,j=A.values;W<j.length;W++)this.values.push(j[W][U])}},N}(V.vq)},519753:function(Xe,H,t){t.d(H,{NV:function(){return h},Xz:function(){return S},zr:function(){return v}});var e=t(669266),l=t(430912),o=t(40152),d=t(173818);function v(c,r){var s=(0,o.s)(c);return r.isQueryVisual(s)}function S(c,r){var s=(0,o.s)(c);return!r.isAnalysisVisual(s)}function h(c,r,s,u){var i=c.getMetadata(r);if(i){if(5===s)return l.vA.Categorical;var a=i.type,n=a&&(a.text||a.bool||a.dateTime),m=i.idOnEntityKey&&u&&(0,e.fS)(c,u);return!n||(0,d.k)(c)||m?l.vA.Advanced:l.vA.Categorical}}},614083:function(Xe,H,t){t.d(H,{DX:function(){return F},Ee:function(){return c},P2:function(){return s},RV:function(){return u},X0:function(){return i},ZP:function(){return D},yl:function(){return r}});var e=t(979868),l=t(498342),o=t(726501),d=t(411429),v=t(512322),S=t(678776);function c(N,A,I){if(l.fF.assertValue(N,"entity"),!A||!A.column||!A.column.groupingMetadata)return 0;if(I){var B=I.getGroupingDesignState(N,A.name);if(!B)return 1;if(B.partitionTable)return 3;if(B.binItem)return 2}return 1}function r(N,A,I){var B=c(N,A,I);return 1===B||2===B}function s(N,A,I){return 3===c(N,A,I)}function u(N,A,I){if(!A||!A.column||!A.column.groupingMetadata)return!1;var B=I.getGroupingDesignState(N,A.name);return!(!B||!B.groupItems&&!B.partitionTable)}function i(N,A){return!(!A||!function(N,A){return function(N,A){var I=(0,o.J1)((0,d.Q)(A));return N.schema(I)}(N,A).capabilities.canEdit}(N,A)||!(0,e.t3)(A)&&!(0,e.wD)(A))&&function(N){return N&&!!(N.type.dateTime||N.type.integer||N.type.numeric||N.type.text)}(A.getConceptualProperty(N))}function D(N,A){return _.chain(N.groupedColumns).map(function(I){if(function(N){return 0===N.kind}(I))return(0,v.Oh)(A,I.name)}).filter(function(I){return null!=I}).value()}function F(N,A){var I=A&&A.defn.select();if(!_.isEmpty(I)&&!_.isEmpty(N)){for(var B=0,U=N;B<U.length;B++){var W=U[B];if(!W||!W.dataMap)return!1;var j=Object.keys(W.dataMap),K=_.size(W.dataMap);if(K>2)return!1;if(2===K){var ee=I.withName(j[0]),ie=I.withName(j[1]);if(ee&&ie&&!M(ee.expr,ie.expr))return!1}else if(1===K){var he=I.withName(j[0]);if(he&&!(0,e.t3)(he.expr)&&!(0,e.wD)(he.expr))return!1}}return!0}return!1}function M(N,A){return!!function(N,A){if((0,e.wD)(N)&&(0,e.t3)(A)&&O(N,A))return N;if((0,e.wD)(A)&&(0,e.t3)(N)&&O(A,N))return A;if((0,e.wD)(N)&&(0,e.wD)(A)){if(O(N,A))return N;if(O(A,N))return A}}(N,A)}function O(N,A){return S.m.sequenceEqual(N.groupedExprs,[A])}},182637:function(Xe,H,t){t.d(H,{Sd:function(){return s},gp:function(){return r},wK:function(){return h}});var e=t(979868),l=t(669266),o=t(273269),d=t(512322),v=t(688215),S=t(470756);function h(n,m,f,V){if(f&&m&&(0,e.ez)(V)){for(var p=V,C=p.arg,b=(0,S.wA)(n,C),y=[],D=function(x){var R=f.tryGetExprs(x.name);if(!R)return"continue";var g=void 0;if((0,e.y3)(C)&&(0,e.jc)(C.arg)){var L=C.arg;g=_((0,v.q)(n,R,{})).filter(function(A){return A.isHierarchyLevelsGroup&&(0,e.t3)(A.expr)&&(0,l.fS)(A.expr.source,L.arg)&&A.expr.ref===L.property}).reverse().value()}else g=_((0,v.q)(n,R,{})).filter(function(A){return(0,l.fS)(A.expr,C)}).reverse().value();for(var M=0,T=g;M<T.length;M++){var O=T[M],N=(0,S.u8)(b,O.children,p);y.push({expr:p,schema:n,targetRole:x.name,projOptions:{fieldIndex:O.selectQueryIndex+N}})}},P=0,F=m.dataRoles;P<F.length;P++)D(F[P]);return y}}function r(n,m,f,V,p,C){var y=(n.singleVisual.query.tryGetExprs(m)||[]).slice(f,f+V);if(!_.isEmpty(y)){var D;if(D=_.isEmpty(C)?y[0]:C[0],(0,e.ez)(D)){var P=function(n,m){if(n&&n.kind===o.DW.Measure){var f=(0,S.cH)(m);if(f)return(0,d.Oh)(f.arg,f.property)}}(p,D);if(P)return[P]}return _.isEmpty(C)?y:C}}function s(n,m){return(0,e.ez)(n)&&(0,e.ez)(m)&&(0,l.fS)(n.arg,m.arg)}},403967:function(Xe,H,t){t.d(H,{q:function(){return h}});var e=t(973188),l=t(586245),o=t(498342),d=t(620743),v=t(855661),S=t(173818),h=function(){function c(){}return c.generate=function(r,s,u,i,a,n,m,f){if(o.fF.assertValue(r,"dataView"),o.fF.assertValue(s,"originalSelects"),o.fF.assertValue(i,"originalDataRoleNames"),o.fF.assertAnyValue(a,"originalProjectionOrdering"),r.matrix){for(var V=[],p=[],C=[],b=[],y=r.matrix,D=0,P=s;D<P.length;D++){var E=(0,e.__assign)({},P[D]);E.roles={},V.push(E)}var w=function(A){if(n&&n.featureSwitches.showGeneratedColumnsInDetailView)return!0;var I=s[A.index];return!I||!_.isEmpty(I.roles)||!_.isEmpty(I.relatedSelects)},x=this.getSelectsGroupedByRowHierarchy(u,s,r.matrix,w),g=(m&&f?this.tryProcessDataViewHierarchy(y.rows,V,C,l.r.columns,x,function(N){return!N.isMeasure}):this.tryProcessDataViewHierarchy(y.rows,V,p,l.r.rows,x)&&this.tryProcessDataViewHierarchy(y.columns,V,C,l.r.columns,x,function(N){return!N.isMeasure}))&&this.tryUpdateReferencedSelects(y.valueSources,V,b,l.r.values,x,w),L=_.last(y.rows.levels);if(L&&(g=g&&this.tryUpdateReferencedSelects((0,v.vC)(L),V,b,l.r.values,x,w)),g){var M=r;this.sortMatrixRoleProjectionOrders(i,a,p,C,b,V),_.isEmpty(x)||(M=this.fixMeasuresGroupedByRowHierarchy(r,x));var T={};return p.length>0&&(T[l.r.rows]=p),C.length>0&&(T[l.r.columns]=C),b.length>0&&(T[l.r.values]=b),{transformActions:{selects:V,roles:{ordering:T}},dataView:M}}}},c.getSelectsGroupedByRowHierarchyFromMatrix=function(r,s){var u,i={},a=null===(u=null==r?void 0:r.rows)||void 0===u?void 0:u.levels;if(!_.isEmpty(a)){var n=_.last(a),m=(0,v.vC)(n);if(!_.isEmpty(m))for(var f=0,V=m;f<V.length;f++){var p=V[f];_.isNumber(p.index)&&s(p)&&(i[p.index]=!0)}}return i},c.tryProcessDataViewHierarchy=function(r,s,u,i,a,n){if(!r||_.isEmpty(r.levels))return!0;for(var m=0,f=r.levels;m<f.length;m++)if(!this.tryUpdateReferencedSelects(f[m].sources,s,u,i,a,n))return!1;return!0},c.tryUpdateReferencedSelects=function(r,s,u,i,a,n){if(_.isEmpty(r))return!0;for(var m=function(y){if(!n||n(y)){if(null==y.index&&_.some(r,function(w){return w.formatSource&&w.formatSource.formatString===y}))return"continue";if(a[y.index]){if(!_.isEmpty(s[y.index].relatedSelects))for(var D=function(x){var R=_.findIndex(s,function(g){return g.queryName===x.queryName});a[R]||u.push(y.index)},P=0,F=s[y.index].relatedSelects;P<F.length;P++)D(F[P])}else u.push(y.index);if(!s[y.index])return{value:!1};s[y.index].roles[i]=!0}},f=0,V=r;f<V.length;f++){var C=m(V[f]);if("object"==typeof C)return C.value}return!0},c.sortMatrixRoleProjectionOrders=function(r,s,u,i,a,n){var m;if(o.fF.assertValue(r,"originalDataRoleNames"),o.fF.assertAnyValue(s,"originalProjectionOrdering"),o.fF.assertValue(u,"matrixRowsOrdering"),o.fF.assertValue(i,"matrixColumnsOrdering"),o.fF.assertValue(a,"matrixValuesOrdering"),!_.isEmpty(r)&&s){var f=u.length>=2,V=i.length>=2,p=a.length>=2;if(f||V||p){var C=this.createSelectIndexToSortOrderMappings(r,s);if(C&&(f&&this.applySortOrder(u,C),V&&this.applySortOrder(i,C),p)){this.applySortOrder(a,C);var b=((m={})[l.r.values]=a,m);(0,d.f_)(n,b)}}}},c.createSelectIndexToSortOrderMappings=function(r,s){o.fF.assertNonEmpty(r,"originalDataRoleNames"),o.fF.assertValue(s,"originalProjectionOrdering");var u=_.chain(r).map(function(a){return s[a]}).flatten().filter(function(a){return _.isNumber(a)}).value(),i=_.reduce(u,function(a,n,m){return void 0===a[n]&&(a[n]=m),a},{});return Object.keys(i).length>=2?i:void 0},c.applySortOrder=function(r,s){var u=this;o.fF.assertNonEmpty(r,"matrixRoleSelectIndices"),o.fF.assertValue(s,"selectIndexToSortOrderMapping"),r.sort(function(i,a){return u.getSortOrderOrDefault(i,s)-u.getSortOrderOrDefault(a,s)})},c.getSortOrderOrDefault=function(r,s,u){return void 0===u&&(u=Number.MAX_VALUE),o.fF.assertValue(r,"selectIndex"),o.fF.assertValue(s,"selectIndexToSortOrderMapping"),_.isNumber(s[r])?s[r]:u},c.fixMeasuresGroupedByRowHierarchy=function(r,s){if(o.fF.assertValue(r,"dataView"),o.fF.assertValue(r.matrix,"matrix"),o.fF.assertValue(r.matrix.columns,"matrix.columns"),this.nothingToFix(s,r.matrix))return r;var i=_.cloneDeep(r);return this.addMeasureValuesGroupedByRowHierarchy(i,s),i},c.nothingToFix=function(r,s){return _.isEmpty(Object.keys(r))||_.isEmpty(s.columns.root.children)||_.isEmpty(s.rows.root.children)},c.getSelectsGroupedByRowHierarchy=function(r,s,u,i){var a,n;if(r&&r.length>1){o.fF.assertValue((null===(a=r[0])||void 0===a?void 0:a.selects)&&(null===(n=r[1])||void 0===n?void 0:n.selects),"Split transforms should be defined");var m=this.categorizeSplitSelects(r[0],s);if(_.isEmpty(m.measureSelectIndices))return{};var f=this.categorizeSplitSelects(r[1],s);if(_.isEqual(m.groupingSelectIndices,f.groupingSelectIndices))return{};if(!_.isEmpty(f.measureSelectIndices))for(var V=_.map(_.keys(f.measureSelectIndices),function(F){return s[parseInt(F,10)].queryName}),p=0;p<s.length;p++){var C=s[p];if(!_.isEmpty(C.relatedSelects))for(var b=function(E){null!=_.find(V,function(w){return E.queryName===w})&&(f.measureSelectIndices[p]=!0)},y=0,D=C.relatedSelects;y<D.length;y++)b(D[y])}return f.measureSelectIndices}return c.getSelectsGroupedByRowHierarchyFromMatrix(u,i)},c.categorizeSplitSelects=function(r,s){var u={groupingSelectIndices:{},measureSelectIndices:{}};for(var i in r.selects){var a=s[i];a.expr&&((0,S.k)(a.expr)?u.measureSelectIndices[i]=!0:u.groupingSelectIndices[i]=!0)}return u},c.addMeasureValuesGroupedByRowHierarchy=function(r,s){o.fF.assertNonEmpty(r.matrix.columns.root.children,"A Matrix with no ColumnHierarchy is already fixed"),o.fF.assertValue(s,"addMeasureValuesGroupedByRowHierarchy called for no Scoped Values");var u=r.matrix,i=u.columns.levels[0],a=[],n=_.last(u.rows.levels),m=u.valueSources.length;o.fF.assertAnyValue(n.valueSources,"When either Primary or Secondary are missing, Line Values appear on the Intersections");var f=(0,v.vC)(n);if(f){for(var V=u.columns.root,p=this.getColumnLeavesCount(V),C=0;C<f.length;C++){var b=f[C];s[b.index]&&(b.formatSource&&delete b.formatSource,u.valueSources.push(b),this.addStaticMeasureColumnHeader(i,b,V),a.push(C))}(0,v.y9)(r.matrix.rows.root,function(y){var D=p,P=(0,v.Lr)(y);if(!_.isEmpty(P))for(var F=0;F<a.length;F++)y.values[D++]={value:P[a[F]].value,valueSourceIndex:m+F}})}},c.getColumnLeavesCount=function(r){var s=0;return(0,v.y9)(r,function(){return s++}),s},c.addStaticMeasureColumnHeader=function(r,s,u){r.sources.push(s),u.children.push({level:0,levelSourceIndex:r.sources.length-1})},c}()},370756:function(Xe,H,t){t.d(H,{$:function(){return l}});var e=t(521162),l=function(){function o(d){this.modelExtension=d,this.visited={}}return o.prototype.visitReference=function(d){if(d.schema===this.modelExtension.name){var v=(0,e.rc)(this.modelExtension,d.entity);if(v){var S=(0,e.ef)(v,d.name);if(S){var h=this.toVisitedKey(d);if(!this.visited[h]){this.visitMeasure(this.modelExtension,v,S),this.visited[h]=!0;for(var c=0,r=S.references.measures;c<r.length;c++)this.visitReference(r[c])}}}}},o.prototype.visitMeasure=function(d,v,S){},o.prototype.toVisitedKey=function(d){return JSON.stringify(d)},o}()},521162:function(Xe,H,t){t.d(H,{MZ:function(){return h},Mt:function(){return v},Pw:function(){return d},QL:function(){return u},Rx:function(){return f},ZB:function(){return a},bY:function(){return i},ef:function(){return n},fi:function(){return F},ni:function(){return V},qH:function(){return c},rc:function(){return r}});var e=t(724717),l=t(365358),o=t(498342);function d(x,R){return x.modelExtensions&&x.modelExtensions.withName(R)}function v(x,R){var g=d(x,R);if(!g)throw new Error("Unable to find expected model extension: "+R);return g}function h(x,R){return{name:x,extends:R,entities:(0,l.bv)()}}function c(x,R,g){var L=function(x,R,g){x.modelExtensions||(x.modelExtensions=(0,l.bv)());var L=x.modelExtensions.withName(R);return L||(L=h(R,g),x.modelExtensions.push(L)),o.fF.assert(function(){return L.extends===g},"Found model extension with incompatible extends field"),L}(x,R,e.N8);return u(L,g)}function r(x,R){return x.entities.withName(R)}function s(x,R,g){var M=r(v(x,R),g);if(!M)throw new Error("Unable to find expected entity: "+g);return M}function u(x,R){x.entities||(x.entities=(0,l.bv)());var g=x.entities.withName(R);return g||(g={name:R,extends:R,measures:(0,l.bv)()},x.entities.push(g)),o.fF.assert(function(){return g.extends===R},"Found model extension entity with incompatible extends field"),g}function i(x,R){if(x.measures||(x.measures=(0,l.bv)()),x.measures.withName(R.name))throw new Error("Measure ".concat(R.name," already exists and cannot be added"));x.measures.push(R)}function a(x,R,g,L){return m(s(x,R,g),L)}function n(x,R){return x.measures.withName(R)}function m(x,R){var g=n(x,R);if(!g)throw new Error("Unable to find expected measure:"+R);return g}function f(x,R,g,L){var M=s(x,R,g),T=m(M,L),O=M.measures.indexOf(T);M.measures.splice(O,1),0===M.measures.length&&(delete M.measures,function(x,R,g){if(!P(g)){var L=v(x,R),M=L.entities.indexOf(g);L.entities.splice(M,1),0===L.entities.length&&(delete L.entities,function(x,R){if(!P(R)){var g=x.modelExtensions.indexOf(R);x.modelExtensions.splice(g,1),0===x.modelExtensions.length&&delete x.modelExtensions}}(x,L))}}(x,R,M))}function V(x,R,g){null==g?function(x,R){var g=x.annotations&&x.annotations.withName(R);if(g){var L=x.annotations.indexOf(g);x.annotations.splice(L,1),x.annotations&&0===x.annotations.length&&delete x.annotations}}(x,R):function(x,R,g){x.annotations||(x.annotations=(0,l.bv)());var L=x.annotations.withName(R);L?L.value=g:x.annotations.push(L={name:R,value:g})}(x,R,g)}function P(x){var R=Object.keys(x),g=_.chain(R).filter(function(L){return"name"!==L&&"extends"!==L}).filter(function(L){return!(_.isArray(x[L])&&_.isEmpty(x[L]))}).value();return _.some(g)}function F(x){if(x){var R={Version:0,Name:x.name,Extends:x.extends};return x.entities&&(R.Entities=_.map(x.entities,function(g){return function(x){var R={Extends:x.extends,Name:x.name};return x.measures&&(R.Measures=_.map(x.measures,function(g){return function(x){var R=x.dataType;return(6===R||9===R)&&(R=7),{Name:x.name,Expression:x.expression,DataType:R}}(g)})),R}(g)})),R}}},345947:function(Xe,H,t){t.d(H,{A9:function(){return s},FY:function(){return i},Gk:function(){return u},bW:function(){return r},ei:function(){return a}});var e=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/,d=36e5;function r(f){return function(f){var V=e.exec(f)||new Array(9),p="-"===V[1]?-1:1;return{years:n(V[2],p),months:n(V[3],p),weeks:n(V[4],p),days:n(V[5],p),hours:n(V[6],p),minutes:n(V[7],p),seconds:n(V[8],p)}}(f)}function s(f){return 31536e6*f.years+2592e6*f.months+6048e5*f.weeks+864e5*f.days+f.hours*d+6e4*f.minutes+1e3*f.seconds}function u(f){for(var V={years:0,months:0,weeks:0,days:0,hours:0,minutes:0,seconds:0},p=0,C=f;p<C.length;p++){var b=C[p],y=b.value;b.isTimeUnit&&"S"===b.unit?V.seconds=y:b.isTimeUnit&&"M"===b.unit?V.minutes=y:b.isTimeUnit&&"H"===b.unit?V.hours=y:"D"===b.unit?V.days=y:"W"===b.unit?V.weeks=y:"M"===b.unit?V.months=y:"Y"===b.unit&&(V.years=y)}return V}function i(f){var V="P";return f.years>0&&(V+="".concat(f.years)+"Y"),f.months>0&&(V+="".concat(f.months)+"M"),f.weeks>0&&(V+="".concat(f.weeks)+"W"),f.days>0&&(V+="".concat(f.days)+"D"),0===f.hours&&0===f.minutes&&0===f.seconds||(V+="T",f.hours>0&&(V+="".concat(f.hours)+"H"),f.minutes>0&&(V+="".concat(f.minutes)+"M"),f.seconds>0&&(V+="".concat(f.seconds)+"S")),V}function a(f){var V=[];return f.seconds&&V.push({value:f.seconds,unit:"S",isTimeUnit:!0}),f.minutes&&V.push({value:f.minutes,unit:"M",isTimeUnit:!0}),f.hours&&V.push({value:f.hours,unit:"H",isTimeUnit:!0}),f.days&&V.push({value:f.days,unit:"D",isTimeUnit:!1}),f.weeks&&V.push({value:f.weeks,unit:"W",isTimeUnit:!1}),f.months&&V.push({value:f.months,unit:"M",isTimeUnit:!1}),f.years&&V.push({value:f.years,unit:"Y",isTimeUnit:!1}),V}function n(f,V){var p=f&&parseFloat(f.replace(",","."));return(isNaN(p)?0:p)*V}},947105:function(Xe,H,t){t.d(H,{Ae:function(){return D},D6:function(){return a},Dt:function(){return x},EA:function(){return O},Iv:function(){return P},Iz:function(){return C},Js:function(){return L},LM:function(){return w},Og:function(){return u},QU:function(){return s},SV:function(){return b},TJ:function(){return N},XY:function(){return n},_3:function(){return r},_n:function(){return V},aQ:function(){return R},bM:function(){return m},bx:function(){return y},fF:function(){return T},k9:function(){return i},kt:function(){return E},rF:function(){return F},tD:function(){return f},u1:function(){return p},wj:function(){return M},zO:function(){return g}});var e=t(973188),l=t(365358),o=t(498342),d=t(275179),v=t(382088),S=t(928168),h=t(497141);function r(ee,ie,he,q){o.fF.assertValue(ie,"sectionName");var Y=q.defer(),G=D(ee,ie);return-1===G?Y.resolve(void 0):he.get(ee.reportId,ee.pods[G].name).then(function(me){var re=me&&me.words.slice();_.isEmpty(re)?Y.resolve(void 0):(re.shift(),Y.resolve({altNames:re}))}),Y.promise}function s(ee,ie,he){return(0,e.__awaiter)(this,void 0,d.J,function(){var q;return(0,e.__generator)(this,function(Y){switch(Y.label){case 0:return o.fF.assertValue(ie,"sectionName"),(q=D(ee,ie))>-1?[4,he.set(ee.reportId,ee.pods[q].name,[])]:[3,2];case 1:Y.sent(),U(ee,q,he,!1),Y.label=2;case 2:return[2]}})})}function u(ee,ie,he){return(0,e.__awaiter)(this,void 0,d.J,function(){var q;return(0,e.__generator)(this,function(Y){switch(Y.label){case 0:return o.fF.assertValue(ie,"sectionName"),(q=D(ee,ie))>-1?[4,he.set(ee.reportId,ee.pods[q].name,[])]:[3,2];case 1:Y.sent(),W(ee,q),Y.label=2;case 2:return[2]}})})}function i(ee,ie,he){return(0,e.__awaiter)(this,void 0,d.J,function(){return(0,e.__generator)(this,function(q){switch(q.label){case 0:return o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"section"),[4,a(ee,ie.name,ie.displayName,he,!0)];case 1:return q.sent(),[2]}})})}function a(ee,ie,he,q,Y){return(0,e.__awaiter)(this,void 0,d.J,function(){var G,me,re;return(0,e.__generator)(this,function(le){switch(le.label){case 0:return o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"sectionName"),o.fF.assertValue(he,"newSectionDisplayName"),G=Y?I(ee,ie,0,0):P(ee,ie),Y||G?[4,q.get(ee.reportId,G.name)]:[2];case 1:return me=le.sent(),re=me&&me.words,_.isEmpty(re)?re=[he]:re[0]=he,[4,q.set(ee.reportId,G.name,re)];case 2:return le.sent(),[2]}})})}function n(ee,ie,he,q){return(0,e.__awaiter)(this,void 0,d.J,function(){var Y;return(0,e.__generator)(this,function(G){switch(G.label){case 0:return o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"section"),Y=I(ee,ie.name,0,0),he.unshift(ie.displayName),[4,q.set(ee.reportId,Y.name,he)];case 1:return G.sent(),[2]}})})}function m(ee,ie,he,q,Y,G,me){o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"sectionName"),o.fF.assertValue(he,"filterName"),o.fF.assertValue(me,"podType");var re=I(ee,ie,0,0);re.parameters||(re.parameters=[]),re.parameters.push({name:"Param_"+he,boundFilter:he,fieldExpr:q,asAggregation:Y,isLegacySingleSelection:G}),(null==re.type||0===re.type)&&0!==me&&(re.type=me)}function f(ee,ie,he,q){o.fF.assertValue(ie,"sectionName"),o.fF.assertValue(he,"filterName");var Y=D(ee,ie);if(Y>-1){var G=ee.pods[Y],me=A(G,he);me>-1&&(G.parameters.splice(me,1),U(ee,Y,q,!0))}}function V(ee,ie,he,q){o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"sectionName"),o.fF.assertValue(he,"filterName");var Y=D(ee,ie);if(Y>-1){var G=ee.pods[Y],me=A(G,he);me>-1&&(G.parameters[me].asAggregation=q)}}function p(ee,ie,he){o.fF.assertValue(ie,"sectionName"),o.fF.assertValue(he,"filterName");var q=D(ee,ie);return-1!==q&&-1!==A(ee.pods[q],he)}function C(ee,ie,he,q){o.fF.assertValue(ie,"sectionName");var Y,G=D(ee,ie);(-1!==G||he)&&(-1===G?(Y=B(ee,ie,0,0),G=ee.pods.length-1):Y=ee.pods[G],Y.cortanaEnabled=he,U(ee,G,q,!0))}function b(ee,ie){if(ee&&ee.pods){var q=_.findIndex(ee.pods,function(Y){return Y.name===ie});if(-1!==q)return q}}function y(ee,ie,he,q,Y){o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"newSection"),o.fF.assertValue(q,"linguisticSchemaProxy"),o.fF.assert(function(){return he<=ee.sections.length},"Expected target index should be less than or equals sections length.");var G=D(ee,ee.sections[he].name);if(-1===G)return Y.resolve();var me=ee.pods[G],le=B(ee,ie.name,me.referenceScope,void 0!==me.config?me.config.acceptsFilterContext:0);return le.cortanaEnabled=me.cortanaEnabled,le.parameters=_.cloneDeep(me.parameters),le.type=me.type,function(ee,ie,he,q,Y){return Y.get(ee,q.name).then(function(G){var me=G&&G.words.slice();_.isEmpty(me)||(me.shift(),me.unshift(ie.displayName),Y.set(ee,he.name,me))})}(ee.reportId,ie,le,me,q)}function D(ee,ie){return o.fF.assertValue(ie,"sectionName"),ee&&ee.pods?_.findIndex(ee.pods,function(he){return he.boundSection===ie}):-1}function P(ee,ie){var he=D(ee,ie);if(-1!==he)return ee.pods[he]}function F(ee,ie,he){o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"sectionName"),o.fF.assertValue(he,"acceptsFilterContextKind");var q=P(ee,ie);if(!q&&0!==he&&(q=B(ee,ie,0,he)),q){if(null==q.config)return void(q.config={acceptsFilterContext:he});q.config.acceptsFilterContext!==he&&(q.config.acceptsFilterContext=he)}}function E(ee,ie,he){o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"sectionName"),o.fF.assertValue(he,"referenceScope");var q=P(ee,ie);!q&&0!==he&&(q=B(ee,ie,he,0)),q&&null!=he&&q.referenceScope!==he&&(q.referenceScope=he)}function w(ee,ie){if(!ee||!ie)return!0;var he=P(ee,ie.name);return!he||!he.config||0===he.config.acceptsFilterContext}function x(ee,ie){if(!ee||!ie)return!1;var he=P(ee,ie.name);return!(!he||!he.config)&&(0,S.i)(he.type,he.parameters)}function R(ee,ie){if(!ee||!ie)return!1;var he=P(ee,ie.name);return!!he&&1===he.referenceScope}function g(ee){return ee?1:0}function L(ee){return ee?0:1}function M(ee,ie){return o.fF.assertValue(ee,"section"),!ie&&(0===ee.type||null==ee.type)||ie&&2===ee.type?1:1===ee.type?2:0}function T(ee,ie,he){if(!ee||!ie)return!1;var q=P(ee,ie.name);if(!q||_.isEmpty(q.parameters))return!1;var Y=A(q,he.name);return-1!==Y&&q.parameters[Y].asAggregation}function O(ee,ie){return ie&&1===ie.scopeType&&h.l.isCategoricalFilter(ee.type)&&!ee.isTransient}function N(ee,ie,he){o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"sectionName");var q=D(ee,ie);if(-1!==q){var Y=ee.pods[q];_.isEmpty(Y.parameters)&&(Y.type=0),Y.type=he}}function A(ee,ie){return o.fF.assertValue(ie,"filterName"),ee&&ee.parameters?_.findIndex(ee.parameters,function(he){return he.boundFilter===ie}):-1}function I(ee,ie,he,q){return o.fF.assertValue(q,"acceptsFilterContextKind"),P(ee,ie)||B(ee,ie,he,q)}function B(ee,ie,he,q){o.fF.assertValue(ee,"exploration"),o.fF.assertValue(ie,"sectionName"),ee.pods||(ee.pods=[]);var Y={name:j(ee.pods),boundSection:ie,parameters:[],type:0,referenceScope:he,config:{acceptsFilterContext:q}};return ee.pods.push(Y),o.fF.assert(function(){return(0,l.iv)(ee.pods)},"pod names must be unique"),Y}function U(ee,ie,he,q){var Y=ee.pods[ie];_.isEmpty(Y.parameters)&&(Y.type=0),!Y.cortanaEnabled&&_.isEmpty(Y.parameters)&&0===Y.config.acceptsFilterContext&&0===Y.referenceScope&&(q?he.get(ee.reportId,Y.name).then(function(G){(!G||_.isEmpty(G.words))&&W(ee,ie)}):W(ee,ie))}function W(ee,ie){ee.pods.splice(ie,1),0===ee.pods.length&&(ee.pods=void 0)}function j(ee){for(var ie={},he=0,q=ee;he<q.length;he++)ie[q[he].name]=!0;return(0,v.zE)(ie,"Pod")}},225815:function(Xe,H,t){function e(d){for(var v={},S=0,h=d.sections;S<h.length;S++){var c=h[S];v[c.name]={};for(var r=0,s=c.visualContainers;r<s.length;r++){var u=s[r];if(u.config.singleVisual){var i=u.config.singleVisual;v[c.name][u.name]={visualType:i.visualType,autoSelectVisualType:i.autoSelectVisualType,projections:i.query?l(i.query,!0):void 0}}}}return v}function l(d,v){var S={},h=d.defn.select();if(!h)return S;for(var c in d.projections){var r=d.projections[c];if(r){S[c]=[];for(var s=r.all(),u=0;u<s.length;u++){var i=r.convertProjectionIndexToFieldIndex(u),a=h.withName(s[u].queryRef);a&&(r.doesParameterExist(i)||v)?S[c].push(a.expr):S[c].push(null)}}}return S}function o(d){var S;if(!d.defn.select())return S;for(var h in d.projections){var c=d.projections[h];if(c){var r=_.sortBy(c.getFieldParameters(),function(f){return f.index});if(!_.isEmpty(r)){S||(S={}),S[h]=[];for(var s=0,u=r;s<u.length;s++){var i=u[s];S[h].push({expr:i.expr,index:i.index,length:i.length})}}}}return S}t.d(H,{Jc:function(){return e},rl:function(){return l},xF:function(){return o}})},144223:function(Xe,H,t){t.d(H,{o:function(){return l}});var e=t(498342),l=function(){function o(d){this.container=d,this.context={pendingGeocodingCount:0}}return o.prototype.newQuery=function(d){var v=0!==this.context.pendingGeocodingCount,S=this.context.geocodingActivity;this.context={pendingGeocodingCount:0,rootActivity:d},v&&(S&&S.reject(),this.container.onStopGeocoding())},o.prototype.hasPendingGeocoding=function(){return this.context.pendingGeocodingCount>0},o.prototype.wrapGeocoder=function(d){return{geocode:this.wrapAsyncGeocoderMethod(d,d.geocode),geocodeBoundary:this.wrapAsyncGeocoderMethod(d,d.geocodeBoundary),geocodePoint:this.wrapAsyncGeocoderMethod(d,d.geocodePoint),tryGeocodeImmediate:function(S,h,c,r){return d.tryGeocodeImmediate(S,h,c,r)},tryGeocodeBoundaryImmediate:function(S,h,c,r){return d.tryGeocodeBoundaryImmediate(S,h,c,r)}}},o.prototype.wrapAsyncGeocoderMethod=function(d,v){var S=this;return function(){for(var h=[],c=0;c<arguments.length;c++)h[c]=arguments[c];var r=S.context,s=v.apply(d,h);1==++r.pendingGeocodingCount&&(S.context.rootActivity&&(S.context.geocodingActivity=S.context.rootActivity.createChildActivity({name:"Geocoding"})),S.container.onStartGeocoding());var u=function(){r===S.context&&--r.pendingGeocodingCount<=0&&(e.fF.assert(function(){return 0===r.pendingGeocodingCount},"requestContext.pendingGeocodingCount underflow"),S.context.geocodingActivity&&S.context.geocodingActivity.resolve(),S.container.onStopGeocoding())};return s.then(u,u),s}},o}()},506969:function(Xe,H,t){t.d(H,{Hg:function(){return d},eI:function(){return S},oo:function(){return v},x_:function(){return o},yf:function(){return h}});var e=t(498342),l=t(25138);function o(c,r,s){return(0,l.x_)(c,r,s)}function d(c,r,s){var u=S(c);return(0,l.NM)(u,r,s)}function v(c){var r=c.publicCustomVisuals;return r||(c.publicCustomVisuals=r=[]),r}function S(c){var r=c.resourcePackages;return r||(c.resourcePackages=r=[]),r}function h(c,r,s){if(void 0===s&&(s=!1),!_.isEmpty(r)&&!_.isEmpty(c))for(var u=function(f){var V=(0,l.pd)(c,f.type,f.name);if(V){e.fF.assertValue(V.id,"ID should exist in new resource package"),e.fF.assert(function(){return 3!==f.type||f.id!==V.id},"Every time we save a resource package it's erased and re-added into the database, which means the ids must differ"),f.id=V.id;for(var p=function(P){var F=(0,l.NW)(V,P.name);F&&(e.fF.assertValue(F.id,"ID should exist in new resource package item"),e.fF.assert(function(){return 3!==f.type||P.id!==F.id},"Every time we save a resource package item it's erased and re-added into the database, which means the ids must differ"),P.id=F.id,s&&(P.path=F.path))},C=0,b=f.items;C<b.length;C++)p(b[C])}},i=0,a=r;i<a.length;i++)u(a[i])}},101300:function(Xe,H,t){t.d(H,{$:function(){return i},v:function(){return r}});var e=t(973188),l=t(979868),o=t(669266),d=t(705236),v=t(498342),S=t(411429),h=t(512322);function r(n){v.fF.assertValue(n,"changes");for(var m=[],f=function(y){y.measureMove&&m.push(new i((0,d.dq)(y.measureMove))),y.entityRename&&m.push(new i((0,d.Db)(y.entityRename))),y.propertyRename&&m.push(new i((0,d.Tq)(y.propertyRename))),y.hierarchyLevelRename&&m.push(new i((0,d.Ui)(y.hierarchyLevelRename))),y.removeVariation&&m.push(new a(new u(y.removeVariation),y.removeVariation)),y.newMeasureCreated&&_.find(n,function(D){return D.itemDelete&&D.itemDelete.property===y.newMeasureCreated.name&&D.itemDelete.entity===y.newMeasureCreated.entity&&D.itemDelete.schema!==y.newMeasureCreated.schema})&&m.push(new i((0,d.if)(y.newMeasureCreated)))},V=0,p=n;V<p.length;V++)f(p[V]);return m}function s(n,m){v.fF.assertValue(n,"expr");var f=(0,S.Q)(n);return f.columnHierarchyLevelVariation&&f.columnHierarchyLevelVariation.source.entity===m.entity&&f.columnHierarchyLevelVariation.source.schema===m.schema&&f.columnHierarchyLevelVariation.source.name===m.property&&f.columnHierarchyLevelVariation.variationName===m.name}var u=function(n){function m(f){var V=this;return v.fF.assertValue(f,"change"),(V=n.call(this)||this).change=f,V}return(0,e.__extends)(m,n),m.prototype.visitHierarchyLevel=function(f){return s(f,this.change)?new h.Wh(new h.PN(this.change.schema,this.change.entity),this.change.property):f},m}(t(603662).b),i=function(){function n(m){this.exprRewriter=m}return n.prototype.rewriteQuery=function(m){var f=this,V=m.defn;V=V.rewrite(this.exprRewriter),m.defn=V,m.expansionStates=_.map(m.expansionStates,function(D){return D.rewrite(f.exprRewriter)});var p=m.getQueryFieldParameters();if(!_.isEmpty(p))for(var C=0,b=p;C<b.length;C++){var y=b[C];y.expr=y.expr.accept(this.exprRewriter)}return m},n.prototype.rewriteFilter=function(m){return m.rewrite(this.exprRewriter)},n.prototype.rewriteExpr=function(m){return m.accept(this.exprRewriter)},n}(),a=function(){function n(m,f){this.exprRewriter=m,this.change=f}return n.prototype.rewriteQuery=function(m){var f=this;this.removeDuplicateSQHierarchyLevelExpr(m);var V=m.defn;return V=V.rewrite(this.exprRewriter),m.defn=V,m.expansionStates=_.map(m.expansionStates,function(p){return p.rewrite(f.exprRewriter)}),m},n.prototype.rewriteFilter=function(m){return m.rewrite(this.exprRewriter)},n.prototype.rewriteExpr=function(m){return m.accept(this.exprRewriter)},n.prototype.removeDuplicateSQHierarchyLevelExpr=function(m){for(var f=m.defn.select(),V=0;V<f.length;){var p=f[V];if(V++,(0,l.ez)(p.expr)&&s(p.expr,this.change))for(;V<f.length&&(0,l.ez)(f[V].expr)&&(0,o.fS)(p.expr.arg,f[V].expr.arg);)m.removeExpr(f[V].expr,!1),V++}},n}()},644585:function(Xe,H,t){function l(c,r){var s=[];if(!c||!c.visualContainers)return s;for(var u=0,i=c.visualContainers;u<i.length;u++)r.addScriptVisualInfo(i[u],s);return s}function o(c,r){var s={totalVisualsCount:0,info:[]};if(!c||!c.sections)return s;for(var u=0,i=c.sections;u<i.length;u++){var a=i[u];if(a.visualContainers){var n=l(a,r);s.info=s.info.concat(n),s.totalVisualsCount+=a.visualContainers.length}}return s}function d(c,r,s,u,i){var a=[];switch(c){case 0:if(!u)return a;i.addScriptVisualInfo(u,a);break;case 1:a=l(s,i);break;case 2:if(!r)return a;for(var n=0,m=r.sections;n<m.length;n++){var V=l(m[n],i);a=a.concat(V)}break;default:return a}return a}function v(c,r){for(var s=0,u=c;s<u.length;s++){var i=u[s];if(i&&i.config&&i.config.singleVisual){var a=i.config.singleVisual.visualType;if(a&&r.isScriptVisual(a))return!0}}return!1}function S(c){switch(c){case"scriptVisual":return 0;case"pythonVisual":return 1;default:return null}}t.d(H,{OV:function(){return v},R2:function(){return d},aG:function(){return l},kV:function(){return o},lX:function(){return S}})},480819:function(Xe,H,t){t.d(H,{X:function(){return c},eN:function(){return d},gs:function(){return h},sk:function(){return v},x8:function(){return S}});var e=t(498342),l=t(915382),o=t(927903);function d(r){var s;return e.fF.assertValue(r,"section"),!(null===(s=r.dynamicConfig)||void 0===s||!s.quickExplore)}function v(r){return _.some(r,function(s){return d(s)})}function S(r){var s,u,i=null===(u=null===(s=null==r?void 0:r.dynamicConfig)||void 0===s?void 0:s.quickExplore)||void 0===u?void 0:u.layout;if(i){if(i.combination)return"Combination.".concat(i.combination.version);if(i.related)return"Related.".concat(i.related.version)}}function h(r,s){var u=_.flatMap(s,function(i){return i.visualContainerGroups});_.isEmpty(u)||(0,l.Iw)(r.visualContainerGroups,function(i){var a=(0,o.yZ)(u);i.name=a,u.push(i)})}function c(r){function s(i,a){var n,m=null!==(n=a.howCreated)&&void 0!==n?n:"Default";i[m]||(i[m]=0),i[m]++}return e.fF.assertValue(r,"sections"),function(){for(var i={},a=0,n=r;a<n.length;a++)s(i,n[a]);return i}()}},816897:function(Xe,H,t){t.d(H,{W:function(){return l}});var e=t(979868),l=function(){function o(d){this.key=[],this.value=[],this.comparer=d}return o.prototype.add=function(d,v){this.key.push(d),this.value.push(v)},o.prototype.get=function(d){if((0,e.ez)(d))for(var v=0;v<this.key.length;v++)if(this.comparer(this.key[v],d))return this.value[v]},o}()},603224:function(Xe,H,t){t.d(H,{DC:function(){return b},J_:function(){return p},Mi:function(){return C},TO:function(){return V},Xf:function(){return P},aS:function(){return m}});var e=t(609449),l=t(389731),o=t(498342),d=t(204553),v=t(325319),S=t(196960),h=t(668247),c=t(47507),r=t(929224),u="CY23SU11",i={CY17SU10:r.H3n.v3_6,CY17SU12:r.H3n.v3_7,CY18SU04:r.H3n.v3_12,CY18SU07:r.H3n.v3_15,CY19SU06:r.H3n.v5_3,CY19SU12:r.H3n.v5_6,CY20SU07:r.H3n.v5_13,CY20SU09:r.H3n.v5_15,CY21SU02:r.H3n.v5_18,CY21SU03:r.H3n.v5_19,CY21SU04:r.H3n.v5_20,CY21SU07:r.H3n.v5_24,CY21SU11:r.H3n.v5_27,CY22SU03:r.H3n.v5_30,CY22SU08:r.H3n.v5_35,CY22SU09:r.H3n.v5_37,CY22SU11:r.H3n.v5_40,CY23SU04:r.H3n.v5_43,CY23SU08:r.H3n.v5_47,CY23SU11:r.H3n.v5_49},m="Custom";function V(F){return o.fF.assertValue(F,"baseThemeName should exist to get its version"),i[F]||r.H3n.v3_6}function p(F){var E,w=null===(E=null==F?void 0:F.baseTheme)||void 0===E?void 0:E.name;if(null==w)return!1;var x=V(w),R=V(u);return(0,l.ge)(x,R)}function C(F,E,w){return(0,e.M)(F,E,w||c.t)}function b(F){return{name:F&&F.featureSwitches&&F.featureSwitches.useNewCY19SU06BaseTheme?u:"CY18SU07",version:c.t,type:2}}function P(F,E,w){var x=F.themeCollection,g=F.objects,L=E.getVisualObjects(x,S.rw,void 0,h.W);L&&(g=(0,d.d9)(g||{}),(0,d.l7)(g,L));var M=E.getVisualStyle(x),T=(0,v.G3)(g,h.W,M,w);F.evaluatedObjects=T.dataViewObjects}},405088:function(Xe,H,t){t.d(H,{L7:function(){return f},OB:function(){return i},hQ:function(){return a},mZ:function(){return V}});var e=t(979868),l=t(669266),o=t(438919),d=t(817611),v=t(498342),S=t(382088),h=t(148782),c=t(225069),r=t(204553),s=t(512322),u=t(173818);function i(w,x,R,g,L){if(v.fF.assertAnyValue(x,"mappings"),v.fF.assertValue(R,"query"),v.fF.assertValue(g,"transformPluginService"),v.fF.assertValue(L,"visualCapabilities"),!w)return R;var M=[],T=L.objects,O=function(ee){var ie=T[ee],he=function(G){if(ie.properties[G].type.queryTransform){var me=_.filter(w[ee],function(re){return function(w,x){if(!w.selector||!_.isString(w.selector.metadata))return!0;var R=x.projections;if(!R)return!1;for(var g in R){var L=R[g];if(L){var M=L.all();if(M)for(var T=0,O=M;T<O.length;T++)if(O[T].queryRef===w.selector.metadata)return!0}}return!1}(re,R)});M.push.apply(M,_.map(me,function(re){return{objectName:ee,propertyName:G,object:re}}))}};for(var q in ie.properties)he(q)};for(var N in T)O(N);if(_.isEmpty(M))return R;for(var A=R.clone(),I=0,B=M;I<B.length;I++){var U=B[I],W=(0,r.NA)(w,{objectName:U.objectName,propertyName:U.propertyName},U.object.selector);if(W&&n(W.algorithm,x)){var j=g.getTransformPlugin(W.algorithm);A.addTransform(j,W.parameters,L)}}return A}function a(w,x,R){v.fF.assertValue(w,"transformPluginService"),v.fF.assertValue(x,"query"),v.fF.assertAnyValue(R,"compiledMappings");var g=x.defn.transforms();if(_.isEmpty(g))return x;for(var L=x.clone(),M=0,T=g;M<T.length;M++){var O=T[M];if(!n(O.algorithm,R)){var N=w.getTransformPlugin(O.algorithm);L.removeTransform(N,O.name)}}return L}function n(w,x){switch(w){case o.Gr.Forecast.name:return x.some(function(R){return(0,c.ZZ)(R)});case o.Gr.SampleAndDetectAnomaly.name:return x.some(function(R){return(0,c.VO)(R)});default:return!0}}function f(w,x,R,g,L,M,T){v.fF.assertValue(x,"query"),v.fF.assertAnyValue(g,"dataRoles"),v.fF.assertValue(L,"queryRefsByRole"),v.fF.assertAnyValue(M,"additionalProjections"),v.fF.assertValue(T,"compiledMappings");var O=x.transforms();if(_.isEmpty(O))return x;var N=x.select();if(_.isEmpty(N))return x;for(var A=function(w,x,R,g,L){v.fF.assertValue(w,"query"),v.fF.assertValue(x,"projections"),v.fF.assertAnyValue(R,"dataRoles"),v.fF.assertValue(g,"queryRefsByRole"),v.fF.assertAnyValue(L,"additionalProjections");for(var M=[],T=[],N=function(W){if((0,e.Im)(W.expr))return M.push(W),"continue";var j=Object.keys(g),K=_.filter(j,function(G){return _.includes(g[G],W.name)});if(!_.isEmpty(K)){for(var ee=!1,ie=0,he=K;ie<he.length;ie++){var q=he[ie];if(!x[q].activeProjectionRefs||_.includes(x[q].activeProjectionRefs,W.name)){M.push(W),ee=!0;break}}return ee||T.push(W),"continue"}if(!_.isEmpty(L)){var Y=_.find(L,function(G){return G.queryName===W.name});Y&&Y.selector&&Y.selector.data?M.push(W):T.push(W)}},A=0,I=w.select();A<I.length;A++)N(I[A]);return{transformSelects:M,topLevelSelects:T}}(x,R,g,L,M),I=A.transformSelects,B=A.topLevelSelects,U=[],W=0;W<O.length;W++){var j=O[W],K=w.getTransformPlugin(j.algorithm),ee="input"+W,ie="output"+W;j.input.parameters=E(j.input.parameters,T);var he={algorithm:j.algorithm,name:j.name,input:{parameters:j.input.parameters,table:{name:ee,columns:C(I,L,g,K,T)}},output:{table:{name:ie,columns:y(I,ee,R)}}};I=_.map(he.output.table.columns,function(Ye){var Je=(0,s.Oh)((0,s.GB)(ie),Ye.expression.name);return{name:Ye.expression.name,expr:Je}}),U.push(he)}var G,q=_.last(U),Y=x.orderBy();q&&!_.isEmpty(Y)&&(G=_.map(Y,function(Ye){var Je=_.find(N,function(pe){return(0,l.fS)(pe.expr,Ye.expr)});v.fF.assertValue(Je,"orderby clause not found in selects");var _e=(0,s.Oh)((0,s.GB)(q.output.table.name),Je.name);return{direction:Ye.direction,expr:_e}}));var me=x.transforms(U);if(!_.isEmpty(B))for(var re=function(Je){var _e=_.findIndex(N,function(pe){return pe.name===Je.name});v.fF.assert(function(){return _e>=0},"Should be able to find the select in topLevelSelects"),I.splice(_e,0,Je)},le=0,Ee=B;le<Ee.length;le++)re(Ee[le]);return me=me.select(I),G&&(me=me.orderBy(G)),me}function V(w,x){if(v.fF.assertValue(w,"query"),_.isEmpty(w.transforms())||_.isEmpty(w.select()))return w;var R=[];return _.map(w.select().slice(0,x),function(g){if((0,e.t3)(g.expr)&&(0,e.PA)(g.expr.source)){var L=g.expr.source.source,M=_.find(w.transforms(),function(O){var N;return(null===(N=O.output.table)||void 0===N?void 0:N.name)===L});if(M){var T=function(w,x){var R;v.fF.assertValue(w,"sqTransform"),v.fF.assertValue(w.output.table,"sqTransform.output.table"),v.fF.assertValue(x,"refToOutputColumn");var g=_.find(w.output.table.columns,function(T){return T.expression.name===x.ref});if(g){var L=g.expression.expr;if((0,e.t3)(L)){var M=_.find(null===(R=w.input.table)||void 0===R?void 0:R.columns,function(T){var O;return(null===(O=T.expression)||void 0===O?void 0:O.name)===L.ref});return null==M?void 0:M.expression.expr}}}(M,g.expr);T&&!(0,e.Im)(T)&&R.push({name:g.name,expr:T})}}else R.push(g)}),w.createModified({select:R,transforms:null})}function C(w,x,R,g,L){v.fF.assertValue(w,"selects"),v.fF.assertValue(x,"queryRefsByRole"),v.fF.assertAnyValue(R,"dataRoles"),v.fF.assertValue(g,"transformPlugin"),v.fF.assertValue(L,"compiledMappings");var M=_.filter(w,function(O){return!(0,e.Im)(O.expr)}),T=function(w){for(var x,R,g=0,L=w;g<L.length;g++){var M=L[g];if(M.categorical){var O=M.categorical.categories;_.isEmpty(O)||(0,h.Sr)(O,{visitRole:function(A){var I=_.find(A.items,function(B){var U;return null===(U=B.scalarKeyInfo)||void 0===U?void 0:U.scalarKeyMinProperty});I&&(x=A.role,R=I.scalarKeyInfo.scalarKeyQueryName)}})}if(x&&R)return{roleName:x,queryName:R}}}(L);return _.map(M,function(O){return function(w,x,R,g,L){var M=Object.keys(R),T=w.name===(null==x?void 0:x.queryName),O=T?x.roleName:_.find(M,function(I){return _.includes(R[I],w.name)}),N=_.find(g,function(I){return I.name===O});return{role:(null==x?null!=N:T||null!=O&&O!==x.roleName)?F(w.expr,L,N):void 0,expression:w}}(O,T,x,R,g)})}function y(w,x,R){v.fF.assertValue(w,"selects"),v.fF.assertValue(x,"inputTableName"),v.fF.assertValue(R,"projections");for(var g={},L=0,M=w;L<M.length;L++){var T=M[L];(0,e.Im)(T.expr)||(g[T.name]=!0)}return _.map(w,function(O){var N,A,I;if((0,e.Im)(O.expr)){var B=void 0;for(var U in R){var W=R[U].all();_.some(W,function(j){return j.queryRef===O.name})&&(B=U)}v.fF.assertValue(B,"should be able to find the role in projections"),N=B,A=O.expr,I=(0,S.zE)(g,O.name)}else A=(0,s.Oh)((0,s.GB)(x),O.name),I=O.name;return{role:N,expression:{name:I,expr:A}}})}function F(w,x,R){v.fF.assertValue(x,"transform"),v.fF.assertAnyValue(R,"visualDataRole");var g=_.find(x.inputRoles,function(L){v.fF.assertValue(L,"transform.inputRoles should not contain undefined/null roles");var M=L.visualDataRoleMatching;return!M||!(void 0!==M.cartesianKind&&M.cartesianKind!==R.cartesianKind||void 0!==M.matchGrouping&&M.matchGrouping===(0,u.k)(w)||void 0!==M.matchMeasure&&M.matchMeasure!==(0,u.k)(w)||M.skipJoinPredicateNone&&0===R.joinPredicate)});if(g)return g.name}function E(w,x){v.fF.assertValue(w,"parameters"),v.fF.assertValue(x,"compiledMappings");var R=_.find(x,function(M){return(0,c.VO)(M)});if(R){var g=R.categorical.dataReductionAlgorithm.binnedLineSample.warningCount,L=d.oN;g&&!_.find(w,function(M){return M.name===L})&&w.push({name:L,expr:(0,s.cA)(g)})}return w}},129093:function(Xe,H,t){t.d(H,{L:function(){return d}});var e=t(973188),l=t(512322),d=function(v){function S(h){var c=v.call(this)||this;return c.schema=h,c}return(0,e.__extends)(S,v),S.prototype.visitEntity=function(h){var c=this.getVariationMapping(h);return c?new l.PN(h.schema,c.sourceEntity.name):h},S.prototype.visitColumnRef=function(h){var c=h.source.accept(this);if(c!==h.source){var r=this.getVariationMapping(h.source);if(r){var s=_.find(r.variation.defaultHierarchy.levels,function(u){return u.column.name===h.ref});if(s)return new l.vD(new l.jE(new l.c7(c,r.variation.name,r.sourceProperty.name),r.variation.defaultHierarchy.name),s.name)}}return h},S.prototype.getVariationMapping=function(h){var c=this.schema.schema(h.schema).findVariationToHierarchyMappings(h.entity);if(c)return _.last(c)},S}(t(603662).b)},678195:function(Xe,H,t){t.d(H,{MF:function(){return g},Me:function(){return b},Nu:function(){return L},Oe:function(){return C},SZ:function(){return M},V:function(){return p},Vd:function(){return V},YN:function(){return y},cf:function(){return x},sS:function(){return a},vw:function(){return O}});var e=t(973188),l=t(365358),o=t(498342),d=t(812454),v=t(204553),S=t(509607),h=t(915925),c=t(917791),r=t(478226),s=t(512322),u=t(864185),i=t(520469);function a(N,A){if(o.fF.assertAnyValue(N,"dataSelectors"),_.isEmpty(N))return N;var I=(0,l.UU)(N,function(B){return(0,d.yN)(B)?n(B,A):(0,d.QV)(B)?function(N,A){o.fF.assertValue(N,"scopeWildcard");var I=(0,l.UU)(N.exprs,function(B){return g(B,A)});return I!==N.exprs?(0,r.ms)(I):N}(B,A):(0,d.j9)(B)||(0,d.qm)(B)?B:(0,d.tQ)(B)?function(N,A){o.fF.assertValue(N,"scopeTotal");var I=(0,l.UU)(N.exprs,function(B){return g(B,A)});return I!==N.exprs?(0,c.ms)(I):N}(B,A):(o.fF.assertFail("Unknown selector type"),B)});return I}function n(N,A){o.fF.assertValue(N,"scopeIdentity");var I=g(N.expr,A);return I!==N.expr?(0,h.TZ)(I):N}function V(N,A){}function p(N,A){w(N,A)}function C(N,A){w(N,A)}function b(N,A,I){o.fF.assertValue(N,"objects"),o.fF.assertValue(A,"descriptors");var B=(0,S.MD)(A);if(B){var U=(0,v.ug)(N,B,null);if(U){var W=B.propertyName,j=U[W];if(j){for(var K=0,ee=I;K<ee.length;K++)j=ee[K].rewriteFilter(j);U[W]=j}}}}function y(N,A,I){function B(ee){var ie=U(ee.value);return{textStyle:ee.textStyle,url:ee.url,value:ie,mentionEmail:ee.mentionEmail}}function U(ee){var ie=ee;return ie instanceof s.Il&&(ie=K(ie,I)),ie}function j(ee){return{textRuns:_.map(ee.textRuns,function(he){return B(he)})}}function K(ee,ie){o.fF.assertNonEmpty(ie,"rewriters"),o.fF.assertValue(ee,"rewriters");for(var he=0,q=ie;he<q.length;he++)ee=q[he].rewriteExpr(ee);return ee}N&&A&&!_.isEmpty(I)&&(0,v.rQ)(N,A,function(ee,ie,he,q,Y){var G,me=Y&&Y.properties[ie],re=ee[ie];if(re instanceof s.Il)for(var le=0,Ee=I;le<Ee.length;le++)re=(Ne=Ee[le]).rewriteExpr(re);else if((0,v.er)(re))for(var Ye=0,Je=I;Ye<Je.length;Ye++){var Ne=Je[Ye];if(!_.isEmpty(null===(G=re.context)||void 0===G?void 0:G.filterContext))for(var _e=0,pe=re.context.filterContext;_e<pe.length;_e++){var fe=pe[_e];fe.filter=Ne.rewriteFilter(fe.filter)}re.value=Ne.rewriteExpr(re.value)}else{var oe=me.type;if(oe.fill&&oe.fill.solid&&oe.fill.solid.color){if(!(0,i.X2)(re))return;var ye=re.solid.color;if(!ye)return;var Ce=ye;(ye=K(ye,I))!==Ce&&(re={solid:{color:ye}})}else if(oe.paragraphs){if(!(0,i.Fq)(re)||!function(N,A){for(var I=0,B=N;I<B.length;I++)for(var j=0,K=B[I].textRuns;j<K.length;j++){var ee=K[j];if((0,u.IM)(ee)){if(P(ee.value,A))return!0}else if((0,u.Kt)(ee)){for(var ie=0,he=ee.cases;ie<he.length;ie++)if(F(he[ie],A))return!0;if(E(ee.defaultCase,A)||P(ee.expression,A))return!0}else o.fF.assertNever(ee)}return!1}(re,I))return;re=_.map(re,function(ve){return{horizontalTextAlignment:ve.horizontalTextAlignment,textRuns:_.map(ve.textRuns,function(Re){if((0,u.IM)(Re))return B(Re);if((0,u.Kt)(Re)){var Ke=_.map(Re.cases,function(He){return function(ee){var ie=ee.pattern;return ie instanceof s.Il&&(ie=K(ie,I)),(0,e.__assign)({pattern:ie},j(ee))}(He)});return{cases:Ke,defaultCase:j(Re.defaultCase),expression:U(Re.expression)}}o.fF.assertNever(Re)})}})}else if(oe.icon){if(!(0,i.r)(re))return;var Be={kind:"Icon",value:re.value?K(re.value,I):re.value,layout:re.layout?K(re.layout,I):re.layout,verticalAlignment:re.verticalAlignment?K(re.verticalAlignment,I):re.verticalAlignment};(re.value!==Be.value||re.layout!==Be.layout||re.layout!==Be.layout)&&(re=Be)}else if(oe.errorRange){if(!(0,i.ZG)(re))return;var be={kind:"ErrorRange"};if(re.explicit){var ce=be.explicit={isRelative:K((Te=re.explicit).isRelative,I)};Te.lowerBound&&(ce.lowerBound=K(Te.lowerBound,I)),Te.upperBound&&(ce.upperBound=K(Te.upperBound,I))}else if(re.symmetricalExplicit)be.symmetricalExplicit={delta:K(re.symmetricalExplicit.delta,I)};else if(re.standardDeviation)be.standardDeviation={value:K((Te=re.standardDeviation).value,I),multiplier:K(Te.multiplier,I)};else if(re.percentage)be.percentage={lowerBoundDelta:K((Te=re.percentage).lowerBoundDelta,I),upperBoundDelta:K(Te.upperBoundDelta,I)};else if(re.percentile){var Te;be.percentile={lowerBound:K((Te=re.percentile).lowerBound,I),upperBound:K(Te.upperBound,I)}}re=be}}ee[ie]=re})}function P(N,A){if(N instanceof s.Il)for(var I=N,B=0,U=A;B<U.length;B++)if((I=U[B].rewriteExpr(I))!==N)return!0}function F(N,A){if(E(N,A)||P(N.pattern,A))return!0}function E(N,A){for(var I=0,B=N.textRuns;I<B.length;I++)if(P(B[I].value,A))return!0}function w(N,A){var I=N.expression,B=N.filter,U=N.cachedValueItems;I&&(N.expression=g(I,A)),B&&(N.filter=function(N,A){return _.reduce(A,function(I,B){return B.rewriteFilter(I)},N)}(B,A)),U&&x(U,A)}function x(N,A){for(var I=0,B=N;I<B.length;I++){var U=B[I],W=n(U.identity,A);W!==U.identity&&(U.identity=W)}}function g(N,A){return _.reduce(A,function(I,B){return B.rewriteExpr(I)},N)}function L(N,A){var I=N.fieldExpr;o.fF.assertValue(I,"link field expression should always exist"),N.fieldExpr=g(I,A)}function M(N,A){if(!_.isEmpty(N.parameters))for(var I=0,B=N.parameters;I<B.length;I++){var U=B[I];U.fieldExpr&&(U.fieldExpr=g(U.fieldExpr,A))}}function O(N,A){N.expressions=(0,l.UU)(N.expressions,function(I){return g(I,A)}),N.cachedValueItems&&function(N,A){for(var I=0,B=N;I<B.length;I++){var U=B[I];U.identities=(0,l.UU)(U.identities,function(W){return n(W,A)})}}(N.cachedValueItems,A)}},402701:function(Xe,H,t){t.d(H,{A:function(){return S}});var e=t(973188),l=t(365358),o=t(498342),d=t(678195),S=function(h){function c(r){var s=h.call(this)||this;return s.rewriters=r,o.fF.assertValue(r,"rewriters"),s}return(0,e.__extends)(c,h),c.prototype.visitActiveProjectionStates=function(r){var s=this;_.forOwn(r,function(u,i){var a=u.map(function(n){return(0,d.MF)(n,s.rewriters)});r[i]=a})},c.prototype.visitFilterContainer=function(r){(0,d.Oe)(r,this.rewriters)},c.prototype.visitDataViewObjectDefinitionUpdates=function(r,s){var u=r.merge;u&&((0,d.Me)(u,s,this.rewriters),(0,d.YN)(u,s,this.rewriters))},c.prototype.visitOrderByStates=function(r){for(var s=0,u=r;s<u.length;s++){var i=u[s];i.expr=(0,d.MF)(i.expr,this.rewriters)}},c.prototype.visitSelector=function(r){var s=(0,d.sS)(r.data,this.rewriters);s!==r.data&&(r.data=s)},c.prototype.visitSelectorsByColumn=function(r){var s=this,u=(0,l.X_)(r.dataMap,function(i,a){return(0,d.sS)(a,s.rewriters)});u!==r.dataMap&&(r.dataMap=u)},c.prototype.visitFilterExpressionMetadata=function(r){(0,d.vw)(r,this.rewriters)},c}(function(){function h(){}return h.prototype.visitActiveProjectionStates=function(c){},h.prototype.visitDataViewObjectDefinitionUpdates=function(c,r){},h.prototype.visitFilterContainer=function(c){},h.prototype.visitOrderByStates=function(c){},h.prototype.visitSelector=function(c){},h.prototype.visitSelectorsByColumn=function(c){},h.prototype.visitSingleVisualState=function(c){},h.prototype.visitVisualContainerState=function(c){},h.prototype.visitFilterExpressionMetadata=function(c){},h}())},927903:function(Xe,H,t){t.d(H,{$Z:function(){return ce},A8:function(){return Kt},AS:function(){return Y},As:function(){return ve},DB:function(){return Hr},Dl:function(){return pt},EL:function(){return ir},Fk:function(){return ai},GQ:function(){return be},Hf:function(){return U},Hr:function(){return fe},II:function(){return le},J6:function(){return Be},L2:function(){return Oe},LW:function(){return Ze},M2:function(){return Fe},Mo:function(){return Ie},NY:function(){return Rt},O$:function(){return at},OQ:function(){return Q},P4:function(){return Z},PQ:function(){return re},PY:function(){return q},Pb:function(){return Ue},Pu:function(){return Ve},QG:function(){return lr},Qg:function(){return Te},Rr:function(){return J},S5:function(){return rt},VH:function(){return we},X:function(){return X},Xf:function(){return me},Z2:function(){return bt},Z6:function(){return ae},ZB:function(){return ke},Zq:function(){return K},_9:function(){return Yt},_L:function(){return St},a8:function(){return Pr},cj:function(){return Je},d$:function(){return _e},dw:function(){return Yr},e4:function(){return He},gj:function(){return Qr},h4:function(){return zt},hP:function(){return xe},hp:function(){return It},hs:function(){return G},i1:function(){return br},i4:function(){return mr},iv:function(){return ft},jW:function(){return dr},kK:function(){return Se},kT:function(){return Tt},lX:function(){return zr},lt:function(){return Ur},o3:function(){return er},o8:function(){return he},oE:function(){return Ye},oJ:function(){return Ee},oU:function(){return Cr},pf:function(){return Zr},ps:function(){return ye},qd:function(){return ze},ql:function(){return Or},r:function(){return qe},rC:function(){return lt},s9:function(){return nt},tL:function(){return Le},uQ:function(){return pe},uo:function(){return ct},uy:function(){return gr},uz:function(){return ee},vr:function(){return We},vz:function(){return et},ww:function(){return Ce},x3:function(){return oe},y9:function(){return de},yZ:function(){return vt}});var e=t(973188),l=t(593773),o=t(123012),d=t(981519),v=t(691379),S=t(346162),h=t(384103),c=t(637916),r=t(341648),s=t(136798),u=t(365358),i=t(566464),a=t(498342),n=t(963470),m=t(504898),f=t(275179),V=t(756846),p=t(273269),C=t(417666),b=t(476527),y=t(553474),D=t(204553),P=t(325319),F=t(678776),E=t(249039),w=t(37974),x=t(915382),R=t(715770),g=t(390079),L=t(40152),M=t(519753),T=t(979868),O=t(173818),N=t(643293),I="'Segoe UI', wf_segoe-ui_normal, helvetica, arial, sans-serif",U="largeTitle",K="lightLabel",ee="foreground",ie=V.FP.toPoint(12),he={size:r.B.createFromPt(ie),family:I,color:"#C8C8C8"},q=E.wv,Y=E.k8,G=function(ot){return ot[ot.Title=0]="Title",ot[ot.SubTitle=1]="SubTitle",ot[ot.Divider=2]="Divider",ot}({});function me(ot){return ot&&ot.config&&ot.config.singleVisual?ot.config.singleVisual.query:null}function re(ot){return ot&&ot.config&&ot.config.singleVisual}function le(ot){var it,ht;return null===(ht=null===(it=null==ot?void 0:ot.config)||void 0===it?void 0:it.singleVisual)||void 0===ht?void 0:ht.autoSelectVisualType}function Ee(ot){var it=ot.config;if(it){var ht=it.singleVisual;if(ht&&ht.query)return ht.query.defn.select()}}function Ne(ot,it){if(ot&&it){var ht=it.getPlugin(ot);if(ht)return ht.capabilities}}function Ye(ot,it){return Ne(ot&&ot.config&&ot.config.singleVisual?ot.config.singleVisual.visualType:null,it)}function Je(ot,it){return Ne((0,L.s)(ot),it)}function _e(ot,it){var ht=Je(ot,it);if(ht&&!_.isEmpty(ht.dataRoles))return ht.dataRoles}function pe(ot,it,ht){if(ot)return ht||"UserAction_ChangeModel"===it||"UserAction_Refresh"===it?b.P.BypassCache:b.P.Default}function fe(ot){if(ot.config&&ot.config.singleVisual){var it=ot.config.singleVisual;it&&it.query&&it.query.hasShowAll()&&(it.queryOptions=it.queryOptions||{},it.queryOptions.keepProjectionOrder=!0)}}function oe(ot){if(ot){var it=ot.capabilities;if(it&&!_.isEmpty(it.dataRoles))return it.dataRoles}}function ye(ot,it,ht){var yt=Je(ot,it);if(yt){var Ft=me(ot);if(Ft)return(0,g.F)().create(yt,ht,Ft.isDrillDisabled).getNumberRangesForRoles(Ft)}}function Ce(ot,it){var ht=(0,L.s)(ot);return it&&it.isScriptVisual(ht)}function Be(ot){var it;if([N.D.lineChart,N.D.areaChart,N.D.stackedAreaChart,N.D.barChart,N.D.clusteredBarChart,N.D.hundredPercentStackedBarChart,N.D.columnChart,N.D.clusteredColumnChart,N.D.hundredPercentStackedColumnChart,N.D.lineClusteredColumnComboChart,N.D.lineStackedColumnComboChart].indexOf(ot.visualType)>=0){var yt=null===(it=ot.query)||void 0===it?void 0:it.projections;if(yt&&yt[c.x.rows]&&yt[c.x.rows].all().length>0)return!0}return!1}function be(ot){var it,ht;return null===(ht=null===(it=ot.config)||void 0===it?void 0:it.singleVisual)||void 0===ht?void 0:ht.objects}function Te(ot){return ot.config&&ot.config.singleVisual&&ot.config.singleVisual.vcObjects}function ce(ot,it,ht){var kt=ot.config.singleVisual.query.projections[it].all()[ht];return a.fF.assertValue(kt,"items[projectionIndex]"),kt.queryRef}function ve(ot,it,ht,yt,Ft,kt,Gt){if(ht){var ar=ht.defn.select(),sr=ht.projections,pr=[],fr=[],Mr=br(ht),Ir=(0,y.Lo)(ht.projections,Ft.dataViewMappings,Mr,kt).supportedMappings;if(Ir){for(var Pt=0,dt=Ir;Pt<dt.length;Pt++){var k=Ir.length>1?Ke(dt[Pt]):null,se=[];for(var Ae in sr)if(null==k||_.includes(k,Ae))for(var $e=sr[Ae],Et=0,Nt=$e.all();Et<Nt.length;Et++){var Bt=Nt[Et],Qt=(0,u.g2)(ar,Bt.queryRef);if(-1!==Qt){var $t=ar[Qt];if(!(0,T.Im)($t.expr)){var ur=$t.expr.getMetadata(it,F.m.buildExprEvaluationContext(ht.defn.from()));a.fF.assertValue(ur,"exprMetadata");var or={Restatement:ot.getDisplayName($t.expr,it,Ft,$t.name,yt),Name:Bt.queryRef,Type:tt(ur.type)},Ar=F.m.getKpiMetadata($t.expr,it);Ar&&(or.kpi=Ar);var Ge=Bt.format||ur.format;Ge&&(or.Format=Ge);var ut=mt(ur.type);ut&&(or.DataCategory=ut),pr[Qt]=or,se.push({Name:Ae,Projection:Qt,isActive:_.includes($e.activeProjectionRefs,Bt.queryRef)})}}}fr.push({DataRoles:se})}return{queryMetadata:{Select:pr,Filters:Gt},visualElements:fr}}}}function Re(ot,it){if(ot.role)it.push(ot.role);else if(ot.bind)ot.bind.to&&it.push(ot.bind.to);else if(ot.for)ot.for.in&&it.push(ot.for.in);else{var kt=ot;if(kt.group){if(kt.group.by&&it.push(kt.group.by),kt.group.select)for(var Gt=0,ar=kt.group.select;Gt<ar.length;Gt++)Re(ar[Gt],it)}else if(ot.composite)for(var fr=0,Mr=ot.composite;fr<Mr.length;fr++)Re(Mr[fr],it);else if(ot.select)for(var Pt=0,dt=ot.select;Pt<dt.length;Pt++)Re(dt[Pt],it)}}function Ke(ot){var it=[];return ot&&(ot.categorical&&(ot.categorical.categories&&Re(ot.categorical.categories,it),ot.categorical.values&&Re(ot.categorical.values,it)),ot.table&&ot.table.rows&&Re(ot.table.rows,it),ot.single&&Re(ot.single,it),ot.tree&&(ot.tree.nodes&&Re(ot.tree.nodes,it),ot.tree.values&&Re(ot.tree.values,it)),ot.matrix&&(ot.matrix.columns&&Re(ot.matrix.columns,it),ot.matrix.rows&&Re(ot.matrix.rows,it),ot.matrix.values&&Re(ot.matrix.values,it))),_.uniq(it)}function tt(ot){switch(a.fF.assertValue(ot,"type"),ot.extendedType){case 66048:return 67;case 131584:return 35}switch(ot.primitiveType){case 1:return 2048;case 2:case 3:return 1;case 4:return 3;case 5:return 4096;case 6:return 20;case 7:return 4;case 9:return 8}}function mt(ot){return a.fF.assertValue(ot,"type"),(0,C.Wt)(ot.categoryString)}function He(ot,it){if(ot&&ot.config&&ot.config.singleVisual&&ot.config.singleVisual.query&&ot.config.singleVisual.query.defn){var ht=ot.config.singleVisual.query.projections,yt=ot.config.singleVisual.query.defn.select();if(ht&&yt.length>0)for(var Ft in ht)for(var Gt=0,ar=ht[Ft].all();Gt<ar.length;Gt++){var pr=(0,u.rC)(yt,ar[Gt].queryRef);if(pr){var Mr=pr.expr.getMetadata(it);if(Mr&&0===Mr.kind&&null==Mr.aggregate)return!0}}return!1}}function ke(ot){return ot.some(function(it){return ft(it)||Le(it)})}function ft(ot){var it=Ee(ot);return _.some(it,function(ht){return(0,T.jX)(ht.expr)})}function Le(ot){var it=me(ot);return null!=it&&it.hasHiddenProjections()}function Q(ot){return function(it){return ot===it}}function Ue(ot){return function(it){return ot!==it}}function ae(ot,it,ht,yt,Ft){return function(kt){return ot===kt||3!==(ht&&ht.relationshipFilterAction(it,ot,kt,yt,Ft))}}function Se(ot,it){ot.publishToChannel(R.$cv,{affectContainer:function(yt){return yt===it}})}function nt(ot,it,ht,yt,Ft,kt,Gt,ar,sr){if(a.fF.assertAnyValue(ht,"dataAsObject"),kt){var fr,pr=ot.capabilities(kt.visualType);if(pr){var Mr=ve(it,Ft,kt.query,kt.columnProperties,pr,Gt,ar);if(Mr){var hr=(0,l.xF)(kt.objects,pr.objects,Gt.serializeSpaceOptimization,!1);(fr=yt.transforms&&pr&&pr.objects?o.F.serializeDataViewTransformActions(yt.transforms,pr.objects):{objects:hr}).objects=fr.objects||hr,fr.visualElements=Mr.visualElements,fr.queryMetadata=Mr.queryMetadata}}return{queryObject:yt.options.query.command,dataObject:ht,transformsObject:fr,dataUpdatedTime:sr}}}function vt(ot){a.fF.assertValue(ot,"visualContainerGroups");var it={};return(0,x.Iw)(ot,function(ht){a.fF.assertValue(ht.name,"visualContainer.name"),it[ht.name]=!0}),We(it)}function We(ot){return a.fF.assertValue(ot,"existingNames"),S.q.generateUniqueId(ot)}function de(ot){var it=[];return(0,x.Iw)(ot,function(ht){(0,x.q4)(ht)&&it.push(ht)}),it}function Ve(ot){return(0,E.xj)(ot.config.singleVisual)||function(ot){for(var it=ot.parentGroup;it;){if((0,w.xj)(it))return!0;it=it.parentGroup}return!1}(ot)}function xe(ot,it,ht){void 0===it&&(it=0);var yt=_.cloneDeep(ot),Ft=ht;if(1===it)return yt;for(;Ft;){if(!Ft.layouts.withId(it))return a.fF.assertFail("must provide a layout for groups for layout".concat(it)),yt;var kt=Ft.layouts.withId(it).position;yt.x+=kt.x,yt.y+=kt.y,Ft=Ft.parentGroup}return yt}function Z(ot,it,ht){void 0===ht&&(ht=0);for(var yt=_.cloneDeep(ot),Ft=it.parentGroup;Ft;){var kt=Ft.layouts.withId(ht).position;yt.x-=kt.x,yt.y-=kt.y,Ft=Ft.parentGroup}return yt}function J(ot,it,ht,yt,Ft){ot.publishToChannel(R.jCS,{affectContainer:function(Gt){return Gt!==it},sourceLabelKey:ht,parentActivity:yt,parentContextActivity:Ft})}function Fe(ot,it,ht,yt,Ft){_.isEmpty(it)||ot.publishToChannel(R.jCS,{affectContainer:function(Gt){return _.includes(it,Gt)},sourceLabelKey:ht,parentActivity:yt,parentContextActivity:Ft})}function ze(ot,it){return ot.createActivity({name:"Cross Highlight",operationType:it})}function rt(ot){return ot.createActivity({name:"Change Slicer"})}function Oe(ot){return _.some(ot,function(it){return it.dsr&&it.dsr.vsName===h.ly2})}function X(ot){var it=function(ot){return ot&&null!=ot.size?V.FP.fromPoint(ot.size.pt):V.FP.toString(12)}(ot);return n.b.estimateSvgTextHeight({fontFamily:ot&&ot.family||I,fontSize:it})}function we(ot,it,ht,yt,Ft,kt,Gt){var ar=ht.config.singleVisual.visualType,sr=ht.config.singleVisual.vcObjects,pr=(0,D.NA)(sr,{objectName:"stylePreset",propertyName:"name"},void 0),fr=it.getVisualObjects(ot,ar,pr&&(0,T.VC)(pr)&&pr.value,E.XW);fr&&(sr=(0,D.d9)(sr||{}),(0,D.l7)(sr,fr,!0));var Mr=it.getVisualStyle(ot);return(0,P.G3)(sr,E.XW,Mr,yt,Ft,kt,Gt)}function Ze(ot,it){it.toggleClass("showHover",ot)}function et(ot,it,ht){ht.publishToChannel(ot?d.t1:d.i5,{containerName:it})}function at(ot,it,ht,yt,Ft){var kt={};return kt[i.mA]=it||"",kt[i.zo]=yt||"",kt[i.wu]=ht||"",kt[i.CB]=ot||"",kt[i.rb]=Ft||"",kt}function St(ot,it){var ht={};return ht[i.py]=null!=it?"scale("+it+")":"scale(1)",ht[i.kP]=ot.width,ht[i.ei]=ot.height,ht}function Ie(ot){if(ot&&ot.show){var it=(0,s.O4)();return(ot.transparency||0===ot.transparency)&&(it.transparency=ot.transparency),ot.color&&ot.color.solid.color&&(it.color=ot.color),(0,v.Et)(it.color.solid.color,(100-it.transparency)/100)}}function qe(ot,it){return{show:ot?ot.show:it.show,color:ot&&ot.color&&ot.color.solid&&ot.color.solid.color?ot.color:it.color,radius:ot&&ot.radius||it.radius}}function bt(ot,it){return{show:ot?ot.show:it.show,preset:ot&&ot.preset?ot.preset:it.preset,position:ot&&ot.position?ot.position:it.position,color:ot&&ot.color&&ot.color.solid&&ot.color.solid.color?ot.color:it.color,transparency:ot&&void 0!==ot.transparency?ot.transparency:it.transparency,shadowBlur:ot&&void 0!==ot.shadowBlur?ot.shadowBlur:it.shadowBlur,shadowSpread:ot&&void 0!==ot.shadowSpread?ot.shadowSpread:it.shadowSpread,angle:ot&&void 0!==ot.angle?ot.angle:it.angle,shadowDistance:ot&&void 0!==ot.shadowDistance?ot.shadowDistance:it.shadowDistance}}function It(ot,it,ht){var yt,Ft,kt,Gt;void 0===ht&&(ht=!1);var ar=null!=it&&it.suppressDefaultPadding?0:5;return{top:null!==(yt=(ot=ot||{}).top)&&void 0!==yt?yt:ht?0:ar,bottom:null!==(Ft=ot.bottom)&&void 0!==Ft?Ft:ar,left:null!==(kt=ot.left)&&void 0!==kt?kt:ar,right:null!==(Gt=ot.right)&&void 0!==Gt?Gt:ar}}function Rt(ot,it,ht){return _.isEmpty(it)&&ht&&((isNaN(ht)||ht<0)&&(ht=0),0!==ht)?{left:ot.left+ht,right:ot.right+ht,top:ot.top+ht,bottom:ot.bottom+ht}:ot}function zt(ot,it){var ht;if(null==it||!it.customizeSpacing)return null!==(ht=null==it?void 0:it.verticalSpacing)&&void 0!==ht?ht:5;switch(ot){case G.Title:return void 0!==(null==it?void 0:it.verticalSpacing)&&void 0===(null==it?void 0:it.spaceBelowTitle)?null==it?void 0:it.verticalSpacing:void 0!==(null==it?void 0:it.spaceBelowTitle)?null==it?void 0:it.spaceBelowTitle:5;case G.SubTitle:return void 0!==(null==it?void 0:it.verticalSpacing)&&void 0===(null==it?void 0:it.spaceBelowSubTitle)?it.verticalSpacing:void 0!==(null==it?void 0:it.spaceBelowSubTitle)?it.spaceBelowSubTitle:5;case G.Divider:return void 0!==(null==it?void 0:it.verticalSpacing)&&void 0===(null==it?void 0:it.spaceBelowTitleArea)?null==it?void 0:it.verticalSpacing:void 0!==(null==it?void 0:it.spaceBelowTitleArea)?null==it?void 0:it.spaceBelowTitleArea:5;default:return a.fF.assertNever(ot),5}}function Kt(ot){return null!=ot&&null!=ot.metadata&&null!=ot.metadata.segment}function Yt(ot){if(ot&&ot.defn){var it=ot.defn.groupBy();return!_.isEmpty(it)}return!1}function ir(ot){return Yt(me(ot))}function lr(ot,it,ht){var yt=_e(ot,it),Ft=me(ot);if(Ft&&!_.isEmpty(yt)){var Gt=Ft.tryGetExprs(yt[0].name);return!_.isEmpty(Gt)&&!_.some(Gt,function(ar){var sr=ar.getMetadata(ht);if(sr)return!sr.type.text})}}function dr(ot,it,ht){var yt=function(ot,it){var ht=me(ot);if(ht){var yt=Je(ot,it);if(yt&&yt.filterMappings&&yt.filterMappings.measureFilter&&yt.filterMappings.measureFilter.targetRoles){for(var Ft=yt.filterMappings.measureFilter.targetRoles,kt=_.chain(yt.dataRoles).filter(function(Mr){return Mr.kind===p.DW.Grouping}).map(function(Mr){return Mr.name}).difference(Ft).value(),Gt=[],ar=0,sr=kt;ar<sr.length;ar++){var pr=sr[ar];ht.projections[pr]&&Gt.push.apply(Gt,ht.projections[pr].all())}var fr=Ee(ot);if(!_.isEmpty(Gt))return _.chain(fr).filter(function(Mr){return _.some(Gt,function(hr){return hr.queryRef===Mr.name})}).map(function(Mr){return Mr.expr}).value()}}}(ot,ht);if(_.isEmpty(yt))return!1;for(var Ft=0,kt=yt;Ft<kt.length;Ft++)if(1===F.m.getAggregateBehavior(kt[Ft],it))return!0;return!1}function br(ot){for(var it={},yt=0,Ft=ot.defn.select();yt<Ft.length;yt++){var Gt,kt=Ft[yt];Gt=(0,O.k)(kt.expr)?p.DW.Measure:p.DW.Grouping,it[kt.name]=Gt}return it}function Cr(ot){a.fF.assertValue(ot,"exploration");for(var it=0,ht=ot.sections;it<ht.length;it++)pt(ht[it])}function pt(ot){a.fF.assertValue(ot,"section");for(var it=0,ht=ot.visualContainers;it<ht.length;it++){var yt=ht[it];delete yt.cachedData,yt.disableCacheOnServerForInitialLoad=!0}}function er(ot){function it(yt,Ft){var kt,Gt=null!==(kt=Ft.howCreated)&&void 0!==kt?kt:"Default";yt[Gt]||(yt[Gt]=0),yt[Gt]++}return a.fF.assertValue(ot,"section"),function(){for(var yt=ot&&ot.visualContainers||[],Ft={},kt=0,Gt=yt=_.reject(yt,function(sr){return(0,E.xj)(sr.config.singleVisual)});kt<Gt.length;kt++)it(Ft,Gt[kt]);return Ft}()}function Pr(ot){function it(Ft,kt){var Gt=kt.config.singleVisual.visualType;Ft[Gt]||(Ft[Gt]=0),Ft[Gt]++}function ht(){for(var Ft=ot&&ot.visualContainers||[],kt={},Gt=0,ar=Ft=_.reject(Ft,function(pr){return(0,E.xj)(pr.config.singleVisual)});Gt<ar.length;Gt++)it(kt,ar[Gt]);return kt}a.fF.assertValue(ot,"section");try{return function(){if(_.isEmpty(ot&&ot.visualContainerGroups))return ht();var kt={},Gt={__hidden:kt};return(0,x.Iw)(ot.visualContainerGroups,function(ar,sr){(0,x.Vz)(ar)&&it(sr?kt:Gt,ar)}),Gt}()}catch(Ft){return m.f.error("Error getting visuals from groups ".concat(Ft&&Ft.message,": ").concat(Ft&&Ft.stack)),ht()}}function mr(ot,it,ht,yt,Ft){if(void 0===Ft&&(Ft=!1),(0,M.zr)(ot,it)){var ar=(0,M.Xz)(ot,it),sr=Ee(ot);if(ar||(sr=_.filter(sr,function(fr){return!(0,O.k)(fr.expr)})),sr=_.filter(sr,function(fr){return!(0,T.jX)(fr.expr)}))return _.chain(sr).map(function(fr){return fr.expr}).filter(function(fr){return F.m.isExprValidForFiltering(fr)&&_.isEmpty(fr.validate(ht,yt))}).map(function(fr){return{name:void 0,expression:Mr=fr,expanded:!1,howCreated:0,type:(0,M.NV)(Mr,ht,0),isHiddenInViewMode:Ft};var Mr}).value()}}function gr(ot,it,ht,yt){var Ft=ht.getDrillCrossFiltersToApply(ot,it,yt);return _.map(Ft,function(Gt){return{name:void 0,type:(ar=Gt).type,filter:ar.filter,expression:ar.expression,expanded:!1,howCreated:6,precedence:ar.precedence};var ar})}function Qr(ot){var it,ht=ot.resourcePackages,yt=null!==(it=ot.publicCustomVisuals)&&void 0!==it?it:[];if(!ht&&0===yt.length)return!1;for(var Ft=0,kt=ot.sections;Ft<kt.length;Ft++){var Gt=kt[Ft];if(Gt.visualContainers)for(var sr=function(Pt){if(Pt.config&&Pt.config.singleVisual&&Pt.config.singleVisual.visualType){var dt=Pt.config.singleVisual.visualType;if(_(ht).find(function(ue){return ue.name===dt}))return{value:!0};if(_(yt).includes(dt))return{value:!0}}},pr=0,fr=Gt.visualContainers;pr<fr.length;pr++){var hr=sr(fr[pr]);if("object"==typeof hr)return hr.value}}return!1}function Hr(ot,it){var ht={usingImprovedFilterExperience:!0,viewMode:0===it},yt=function(ot){var it=ot.objects;if(it&&it.outspacePane){var ht=(0,D.NA)(it,{objectName:"outspacePane",propertyName:"expanded"},null);return ht&&ht.value}}(ot);_.isUndefined(yt)||(ht.isOutspacePaneExpanded=yt);var Ft=function(ot){var it=ot.objects;if(it&&it.outspacePane){var ht=(0,D.NA)(it,{objectName:"outspacePane",propertyName:"visible"},null);return ht&&ht.value}}(ot);return _.isUndefined(Ft)||(ht.isOutspacePaneVisible=Ft),ht}function Yr(ot,it){return ot.id&&!it}function Zr(ot){return ot?3:1}function Or(ot,it,ht){var yt;it&&(yt=it.createChildActivity(ot));var Ft=ht();return yt&&yt.resolve(),Ft}function Ur(ot,it,ht){return(0,e.__awaiter)(this,void 0,f.J,function(){var yt,Ft;return(0,e.__generator)(this,function(kt){switch(kt.label){case 0:return it&&(yt=it.createChildActivity(ot)),[4,ht()];case 1:return Ft=kt.sent(),yt&&yt.resolve(),[2,Ft]}})})}function zr(ot){var it=re(ot);return it&&it.columnProperties}function ai(ot){if(_.isEmpty(ot))return!1;for(var it=0,ht=ot;it<ht.length;it++){var yt=ht[it];if((0,x.Vz)(yt)){var Ft=zr(yt);if(Ft)for(var kt in Ft)if(Ft[kt].displayName)return!0}}return!1}function lt(ot,it){var ht=(0,L.s)(it);return ot.isQnaVisual(ht)||ot.isQueryVisual(ht)}function ct(ot,it){var ht;return(0,e.__awaiter)(this,void 0,void 0,function(){var yt,Ft,kt,Gt;return(0,e.__generator)(this,function(ar){switch(ar.label){case 0:return yt=re(ot),Ft=it.dataSources.get(),[4,it.conceptualSchemaProxy.get(Ft)];case 1:return kt=ar.sent(),Gt=Je(ot,it.visualPlugin),[2,null===(ht=it.displayNameService.getVisualTitle(yt,kt,Gt,void 0,void 0,!0))||void 0===ht?void 0:ht.text]}})})}function Tt(ot,it){return{visual:{objects:ot.objects,descriptors:it.objects},visualContainer:{objects:ot.vcObjects,descriptors:E.XW}}}},40152:function(Xe,H,t){t.d(H,{s:function(){return o}});var e=t(196960),l=t(915382);function o(d){if(d){if((0,l.q4)(d))return e.SY;if(d.config&&d.config.singleVisual)return d.config.singleVisual.visualType}}},640589:function(Xe,H,t){t.d(H,{b:function(){return v}});var e=t(973188),l=t(498342),o=t(678195),v=function(S){function h(c){var r=S.call(this)||this;return r.rewriters=c,l.fF.assertValue(c,"rewriters"),r}return(0,e.__extends)(h,S),h.prototype.visitSingleVisualConfig=function(c){c.cachedFilterDisplayItems&&(0,o.cf)(c.cachedFilterDisplayItems,this.rewriters)},h.prototype.visitQuery=function(c){if(l.fF.assertValue(c,"query"),c.defn)for(var u=0,i=this.rewriters;u<i.length;u++)c=i[u].rewriteQuery(c)},h.prototype.visitDataViewObjects=function(c,r){(0,o.Me)(c,r,this.rewriters),(0,o.YN)(c,r,this.rewriters)},h.prototype.visitFilterContainer=function(c){l.fF.assertValue(c,"filter"),(0,o.V)(c,this.rewriters)},h.prototype.visitVisualLinks=function(c){l.fF.assertValue(c,"visualLink");for(var r=0,s=c;r<s.length;r++)(0,o.Vd)(s[r],this.rewriters)},h.prototype.visitSelector=function(c){var r=(0,o.sS)(c.data,this.rewriters);r!==c.data&&(c.data=r)},h}(function(){function S(){}return S.prototype.visitVisualContainer=function(h){},S.prototype.visitSingleVisualConfig=function(h){},S.prototype.visitQuery=function(h){},S.prototype.visitDataViewObjects=function(h,c){},S.prototype.visitSelector=function(h){},S.prototype.visitFilterContainer=function(h){},S.prototype.visitVisualLinks=function(h){},S}())},745826:function(Xe,H,t){t.d(H,{O4:function(){return u},X2:function(){return a}});var e=t(249039),o=e.Jn,d=e.XQ;function u(n,m){var f=n&&n.preset?n.preset:o,V=n&&n.position?n.position:d,p=a(f,V);return{show:!1,preset:f,position:V,color:{solid:{color:m?m.colorPalette.foreground.value:"#000"}},shadowSpread:p?p.shadowSpread:3,shadowBlur:p?p.shadowBlur:10,angle:p?p.angle:45,shadowDistance:p?p.shadowDistance:10,transparency:p?p.transparency:70}}function a(n,m){var f=function(n){var m,f=n===e.$S,V=10,p=f?15:10,C=f?0:3,b=70;return(m={})[e.Jn]={angle:f?225:45,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m[e.qf]={angle:f?270:90,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m[e.C2]={angle:f?315:135,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m[e.PE]={angle:f?180:0,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m[e.uf]={angle:0,shadowDistance:0,shadowBlur:f?20:15,shadowSpread:C,transparency:b},m[e.cS]={angle:f?0:180,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m[e.Fi]={angle:f?135:315,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m[e.tF]={angle:f?90:270,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m[e.f]={angle:f?45:225,shadowDistance:V,shadowBlur:p,shadowSpread:C,transparency:b},m}(m||d);return f.hasOwnProperty(n)?f[n]:null}},786248:function(Xe,H,t){t.d(H,{O:function(){return l}});var e=t(498342);function l(o,d,v){if(o&&o.getProperty("telemetryActivityId")){var S=v.getOpenActivityById(o&&o.getProperty("telemetryActivityId"));if(e.fF.assert(function(){return S&&S.isActive()},"parentActivity stored in performanceActivity not found or not active. The parent/child relationships are broken due to a parent activity resolved before a child could start."),S&&S.isActive()){var h=v.startChildActivity(S.event,d);return o.setProperty("telemetryActivityId",h.event.id),h}}}},589195:function(Xe,H,t){t.d(H,{k:function(){return S}});var e=t(411429),l=t(562386),o=t(498342),d=t(726501),v=t(447751),S=function(){function h(c,r,s){this.messageId="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo=[{errorInfoKey:"",errorInfoValue:""}],this.errorCode=c,this.hideErrorHelperText=!1,"Missing_References"===c?(this.displayableErrorInfo[0].errorInfoKey="Missing_References_Details_Title",this.displayableErrorInfo[0].errorInfoValue=s,this.detailsMessageFormat="Missing_References_Details_Message",this.messageId="Missing_References_Message",this.errorSource="User"):"Broken_Filters"===c?(this.displayableErrorInfo[0].errorInfoKey="ServiceError_CannotLoadVisual",this.displayableErrorInfo[0].errorInfoValue=r.get("Broken_Filters_Details_Message"),this.messageId="Broken_Filters_Message"):"ClientError_NoSupportedDataViewMappingFound"===c?(this.displayableErrorInfo[0].errorInfoKey="VisualDisplayError_Title",this.displayableErrorInfo[0].errorInfoValue=r.get("ClientError_NoSupportedDataViewMappingFound_Message"),this.messageId="ClientError_NoSupportedDataViewMappingFound_Message"):"NoSupportRTS_PublishToWeb"===c?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_UnableToFindVisualKey",this.displayableErrorInfo[0].errorInfoValue=r.get("NoSupportRTS_PublishToWeb_Message"),this.messageId="NoSupportRTS_PublishToWeb_Title",this.errorSource="User",this.hideErrorHelperText=!0):"DQP_No_MappedColumns_In_HierarchySlicers"===c?(this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=r.get("DQP_No_MappedColumns_In_HierarchySlicers"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2139315"):"DataViewMappingError_ConditionNotHierarchicallyRelated"===c&&(this.messageId="DataViewMappingError_ConditionNotHierarchicallyRelated",this.displayableErrorInfo[0].errorInfoKey="VisualContainer_FailedToLoadVisual",this.displayableErrorInfo[0].errorInfoValue=r.get("DataViewMappingError_ConditionNotHierarchicallyRelated_Details"),this.errorSource="User",this.hideErrorHelperText=!0,this.hideDebugInfo=!0,this.helperLink="https://go.microsoft.com/fwlink/?linkid=2114278")}return h.create=function(c,r,s){if(!_.isEmpty(c)){for(var u=[],i=function(p,C){return p.hierarchy?p.hierarchy.name:p.hierarchyLevel?p.hierarchyLevel.name+"."+p.hierarchyLevel.level:C},a=function(p){var C=(0,e.Q)(p),b=void 0;if(C.sparklineData){var y=C.sparklineData.measure;o.fF.assert(function(){return 1===_.size(C.sparklineData.grouping)},"expect 1 field in grouping for sparklines");var D=_.first(C.sparklineData.grouping),P=i(y,(0,d.Hp)(y)),F=i(D,(0,d.Hp)(D));b=s.format("VisualTitle_By_Template",P,F)}else{var E=(0,d.Um)(C);if(!E)return"continue";var w=i(C,(0,d.Hp)(C));b="("+E.entity+") "+w;var x=r.schema(E.schema),R=x&&x.findProperty(E.entity,w);R&&R.errorMessage&&(b+=": "+R.errorMessage)}u.push(b)},n=0,m=c;n<m.length;n++)a(m[n]);return new h("Missing_References",s,u.join(", "))}},Object.defineProperty(h.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"source",{get:function(){return this.errorSource},enumerable:!1,configurable:!0}),h.prototype.addDebugInfo=function(c,r){this.debugErrorInfo||(this.debugErrorInfo=[]),this.debugErrorInfo.push({errorInfoKey:c,errorInfoValue:r})},h.prototype.getDetails=function(c){var r,s=c.get(this.displayableErrorInfo[0].errorInfoKey),u=this.displayableErrorInfo[0].errorInfoValue;return this.detailsMessageFormat&&(u=(0,v.W)(c.get(this.detailsMessageFormat),u)),{message:c.get(this.messageId),displayableErrorInfo:[{errorInfoKey:s,errorInfoValue:u}],debugErrorInfo:(r=[{errorInfoKey:l.zd,errorInfoValue:this.code}]).concat.apply(r,this.debugErrorInfo||[]),hideErrorHelperText:this.hideErrorHelperText,hideDebugInfo:this.hideDebugInfo,helpLink:this.helperLink}},h}()},579670:function(Xe,H,t){function e(l,o){var d={};if(_.isEmpty(o))return d;for(var v=0,S=o;v<S.length;v++){var h=S[v],c=l.tryGetExprs(h.name);d[h.name]=_.map(c,function(r){return l.defn.selectNameOf(r)})}return d}t.d(H,{S:function(){return e}})},532302:function(Xe){Xe.exports=function(H){var t={};function e(l){if(t[l])return t[l].exports;var o=t[l]={exports:{},id:l,loaded:!1};return H[l].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}return e.m=H,e.c=t,e.p="",e(0)}([function(H,t){var e=function(){function l(o,d,v){void 0===d&&(d={}),this.defaultHeaders=d,this.defaultTargetWindow=v,this.windowPostMessageProxy=o}return l.addTrackingProperties=function(o,d){return o.headers=o.headers||{},d&&d.id&&(o.headers.id=d.id),o},l.getTrackingProperties=function(o){return{id:o.headers&&o.headers.id}},l.isErrorMessage=function(o){return"number"==typeof(o&&o.statusCode)&&!(200<=o.statusCode&&o.statusCode<300)},l.prototype.get=function(o,d,v){return void 0===d&&(d={}),void 0===v&&(v=this.defaultTargetWindow),this.send({method:"GET",url:o,headers:d},v)},l.prototype.post=function(o,d,v,S){return void 0===v&&(v={}),void 0===S&&(S=this.defaultTargetWindow),this.send({method:"POST",url:o,headers:v,body:d},S)},l.prototype.put=function(o,d,v,S){return void 0===v&&(v={}),void 0===S&&(S=this.defaultTargetWindow),this.send({method:"PUT",url:o,headers:v,body:d},S)},l.prototype.patch=function(o,d,v,S){return void 0===v&&(v={}),void 0===S&&(S=this.defaultTargetWindow),this.send({method:"PATCH",url:o,headers:v,body:d},S)},l.prototype.delete=function(o,d,v,S){return void 0===d&&(d=null),void 0===v&&(v={}),void 0===S&&(S=this.defaultTargetWindow),this.send({method:"DELETE",url:o,headers:v,body:d},S)},l.prototype.send=function(o,d){if(void 0===d&&(d=this.defaultTargetWindow),o.headers=this.assign({},this.defaultHeaders,o.headers),!d)throw new Error("target window is not provided.  You must either provide the target window explicitly as argument to request, or specify default target window when constructing instance of this class.");return this.windowPostMessageProxy.postMessage(d,o)},l.prototype.assign=function(o){for(var d=[],v=1;v<arguments.length;v++)d[v-1]=arguments[v];if(null==o)throw new TypeError("Cannot convert undefined or null to object");var S=Object(o);return d.forEach(function(h){if(null!=h)for(var c in h)Object.prototype.hasOwnProperty.call(h,c)&&(S[c]=h[c])}),S},l}();t.HttpPostMessage=e}])},365717:function(Xe){var H,t;Xe.exports=(H=[function(o,d,v){var pt,S=this&&this.__extends||(pt=function(er,Pr){return(pt=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(mr,gr){mr.__proto__=gr}||function(mr,gr){for(var xr in gr)Object.prototype.hasOwnProperty.call(gr,xr)&&(mr[xr]=gr[xr])})(er,Pr)},function(Ut,er){if("function"!=typeof er&&null!==er)throw new TypeError("Class extends value "+String(er)+" is not a constructor or null");function Pr(){this.constructor=Ut}pt(Ut,er),Ut.prototype=null===er?Object.create(er):(Pr.prototype=er.prototype,new Pr)});Object.defineProperty(d,"__esModule",{value:!0}),d.TextAlignment=d.CommonErrorCodes=d.BookmarksPlayMode=d.ExportDataType=d.QnaMode=d.PageNavigationPosition=d.BrowserPrintAdjustmentsMode=d.AggregateFunction=d.DataCacheMode=d.CredentialType=d.isPercentOfGrandTotal=d.isColumnAggr=d.isHierarchyLevelAggr=d.isHierarchyLevel=d.isColumn=d.isMeasure=d.getFilterType=d.isBasicFilterWithKeys=d.isFilterKeyColumnsTarget=d.HierarchyFilter=d.AdvancedFilter=d.TupleFilter=d.IdentityFilter=d.BasicFilterWithKeys=d.BasicFilter=d.RelativeTimeFilter=d.RelativeDateFilter=d.TopNFilter=d.IncludeExcludeFilter=d.NotSupportedFilter=d.Filter=d.RelativeDateOperators=d.RelativeDateFilterTimeUnit=d.FilterType=d.FiltersLevel=d.FiltersOperations=d.MenuLocation=d.ContrastMode=d.TokenType=d.ViewMode=d.Permissions=d.SectionVisibility=d.ReportAlignment=d.HyperlinkClickBehavior=d.LayoutType=d.VisualContainerDisplayMode=d.BackgroundType=d.DisplayOption=d.PageSizeType=d.TraceType=void 0,d.validateVisualHeader=d.validateExportDataRequest=d.validateQnaInterpretInputData=d.validateLoadQnaConfiguration=d.validateSaveAsParameters=d.validateUpdateFiltersRequest=d.validateFilter=d.validatePage=d.validateTileLoad=d.validateDashboardLoad=d.validateQuickCreate=d.validateCreateReport=d.validatePaginatedReportLoad=d.validateReportLoad=d.validateMenuGroupExtension=d.validateExtension=d.validateCustomPageSize=d.validateVisualizationsPane=d.validateSyncSlicersPane=d.validateSelectionPane=d.validatePageNavigationPane=d.validateFieldsPane=d.validateFiltersPane=d.validateBookmarksPane=d.validatePanes=d.validateSettings=d.validateCaptureBookmarkRequest=d.validateApplyBookmarkStateRequest=d.validateApplyBookmarkByNameRequest=d.validateAddBookmarkRequest=d.validatePlayBookmarkRequest=d.validateSlicerState=d.validateSlicer=d.validateVisualSelector=d.isIExtensionArray=d.isIExtensions=d.isGroupedMenuExtension=d.isFlatMenuExtension=d.isReportFiltersArray=d.isOnLoadFilters=d.VisualDataRoleKindPreference=d.VisualDataRoleKind=d.CommandDisplayOption=d.SlicerTargetSelector=d.VisualTypeSelector=d.VisualSelector=d.PageSelector=d.Selector=d.SortDirection=d.LegendPosition=void 0,d.validatePrintSettings=d.validateZoomLevel=d.validateCustomTheme=d.validateCommandsSettings=d.validateVisualSettings=void 0;var F,h=v(1);!function(pt){pt[pt.Information=0]="Information",pt[pt.Verbose=1]="Verbose",pt[pt.Warning=2]="Warning",pt[pt.Error=3]="Error",pt[pt.ExpectedError=4]="ExpectedError",pt[pt.UnexpectedError=5]="UnexpectedError",pt[pt.Fatal=6]="Fatal"}(d.TraceType||(d.TraceType={})),function(pt){pt[pt.Widescreen=0]="Widescreen",pt[pt.Standard=1]="Standard",pt[pt.Cortana=2]="Cortana",pt[pt.Letter=3]="Letter",pt[pt.Custom=4]="Custom",pt[pt.Mobile=5]="Mobile"}(d.PageSizeType||(d.PageSizeType={})),function(pt){pt[pt.FitToPage=0]="FitToPage",pt[pt.FitToWidth=1]="FitToWidth",pt[pt.ActualSize=2]="ActualSize"}(d.DisplayOption||(d.DisplayOption={})),function(pt){pt[pt.Default=0]="Default",pt[pt.Transparent=1]="Transparent"}(d.BackgroundType||(d.BackgroundType={})),function(pt){pt[pt.Visible=0]="Visible",pt[pt.Hidden=1]="Hidden"}(d.VisualContainerDisplayMode||(d.VisualContainerDisplayMode={})),function(pt){pt[pt.Master=0]="Master",pt[pt.Custom=1]="Custom",pt[pt.MobilePortrait=2]="MobilePortrait",pt[pt.MobileLandscape=3]="MobileLandscape"}(d.LayoutType||(d.LayoutType={})),function(pt){pt[pt.Navigate=0]="Navigate",pt[pt.NavigateAndRaiseEvent=1]="NavigateAndRaiseEvent",pt[pt.RaiseEvent=2]="RaiseEvent"}(d.HyperlinkClickBehavior||(d.HyperlinkClickBehavior={})),function(pt){pt[pt.Left=0]="Left",pt[pt.Center=1]="Center",pt[pt.Right=2]="Right",pt[pt.None=3]="None"}(d.ReportAlignment||(d.ReportAlignment={})),function(pt){pt[pt.AlwaysVisible=0]="AlwaysVisible",pt[pt.HiddenInViewMode=1]="HiddenInViewMode"}(d.SectionVisibility||(d.SectionVisibility={})),function(pt){pt[pt.Read=0]="Read",pt[pt.ReadWrite=1]="ReadWrite",pt[pt.Copy=2]="Copy",pt[pt.Create=4]="Create",pt[pt.All=7]="All"}(d.Permissions||(d.Permissions={})),function(pt){pt[pt.View=0]="View",pt[pt.Edit=1]="Edit"}(d.ViewMode||(d.ViewMode={})),function(pt){pt[pt.Aad=0]="Aad",pt[pt.Embed=1]="Embed"}(d.TokenType||(d.TokenType={})),function(pt){pt[pt.None=0]="None",pt[pt.HighContrast1=1]="HighContrast1",pt[pt.HighContrast2=2]="HighContrast2",pt[pt.HighContrastBlack=3]="HighContrastBlack",pt[pt.HighContrastWhite=4]="HighContrastWhite"}(d.ContrastMode||(d.ContrastMode={})),function(pt){pt[pt.Bottom=0]="Bottom",pt[pt.Top=1]="Top"}(d.MenuLocation||(d.MenuLocation={})),function(pt){pt[pt.RemoveAll=0]="RemoveAll",pt[pt.ReplaceAll=1]="ReplaceAll",pt[pt.Add=2]="Add",pt[pt.Replace=3]="Replace"}(d.FiltersOperations||(d.FiltersOperations={})),function(pt){pt[pt.Report=0]="Report",pt[pt.Page=1]="Page",pt[pt.Visual=2]="Visual"}(d.FiltersLevel||(d.FiltersLevel={})),function(pt){pt[pt.Advanced=0]="Advanced",pt[pt.Basic=1]="Basic",pt[pt.Unknown=2]="Unknown",pt[pt.IncludeExclude=3]="IncludeExclude",pt[pt.RelativeDate=4]="RelativeDate",pt[pt.TopN=5]="TopN",pt[pt.Tuple=6]="Tuple",pt[pt.RelativeTime=7]="RelativeTime",pt[pt.Identity=8]="Identity",pt[pt.Hierarchy=9]="Hierarchy"}(F=d.FilterType||(d.FilterType={})),function(pt){pt[pt.Days=0]="Days",pt[pt.Weeks=1]="Weeks",pt[pt.CalendarWeeks=2]="CalendarWeeks",pt[pt.Months=3]="Months",pt[pt.CalendarMonths=4]="CalendarMonths",pt[pt.Years=5]="Years",pt[pt.CalendarYears=6]="CalendarYears",pt[pt.Minutes=7]="Minutes",pt[pt.Hours=8]="Hours"}(d.RelativeDateFilterTimeUnit||(d.RelativeDateFilterTimeUnit={})),function(pt){pt[pt.InLast=0]="InLast",pt[pt.InThis=1]="InThis",pt[pt.InNext=2]="InNext"}(d.RelativeDateOperators||(d.RelativeDateOperators={}));var x=function(){function pt(Ut,er){this.target=Ut,this.filterType=er}return pt.prototype.toJSON=function(){var Ut={$schema:this.schemaUrl,target:this.target,filterType:this.filterType};return void 0!==this.displaySettings&&(Ut.displaySettings=this.displaySettings),Ut},pt}();d.Filter=x;var R=function(pt){function Ut(er,Pr,mr){var gr=pt.call(this,er,F.Unknown)||this;return gr.message=Pr,gr.notSupportedTypeName=mr,gr.schemaUrl=Ut.schemaUrl,gr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.message=this.message,er.notSupportedTypeName=this.notSupportedTypeName,er},Ut.schemaUrl="http://powerbi.com/product/schema#notSupported",Ut}(x);d.NotSupportedFilter=R;var g=function(pt){function Ut(er,Pr,mr){var gr=pt.call(this,er,F.IncludeExclude)||this;return gr.values=mr,gr.isExclude=Pr,gr.schemaUrl=Ut.schemaUrl,gr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.isExclude=this.isExclude,er.values=this.values,er},Ut.schemaUrl="http://powerbi.com/product/schema#includeExclude",Ut}(x);d.IncludeExcludeFilter=g;var L=function(pt){function Ut(er,Pr,mr,gr){var xr=pt.call(this,er,F.TopN)||this;return xr.operator=Pr,xr.itemCount=mr,xr.schemaUrl=Ut.schemaUrl,xr.orderBy=gr,xr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.operator=this.operator,er.itemCount=this.itemCount,er.orderBy=this.orderBy,er},Ut.schemaUrl="http://powerbi.com/product/schema#topN",Ut}(x);d.TopNFilter=L;var M=function(pt){function Ut(er,Pr,mr,gr,xr){var Vr=pt.call(this,er,F.RelativeDate)||this;return Vr.operator=Pr,Vr.timeUnitsCount=mr,Vr.timeUnitType=gr,Vr.includeToday=xr,Vr.schemaUrl=Ut.schemaUrl,Vr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.operator=this.operator,er.timeUnitsCount=this.timeUnitsCount,er.timeUnitType=this.timeUnitType,er.includeToday=this.includeToday,er},Ut.schemaUrl="http://powerbi.com/product/schema#relativeDate",Ut}(x);d.RelativeDateFilter=M;var T=function(pt){function Ut(er,Pr,mr,gr){var xr=pt.call(this,er,F.RelativeTime)||this;return xr.operator=Pr,xr.timeUnitsCount=mr,xr.timeUnitType=gr,xr.schemaUrl=Ut.schemaUrl,xr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.operator=this.operator,er.timeUnitsCount=this.timeUnitsCount,er.timeUnitType=this.timeUnitType,er},Ut.schemaUrl="http://powerbi.com/product/schema#relativeTime",Ut}(x);d.RelativeTimeFilter=T;var O=function(pt){function Ut(er,Pr){for(var mr=[],gr=2;gr<arguments.length;gr++)mr[gr-2]=arguments[gr];var xr=pt.call(this,er,F.Basic)||this;if(xr.operator=Pr,xr.schemaUrl=Ut.schemaUrl,0===mr.length&&"All"!==Pr)throw new Error('values must be a non-empty array unless your operator is "All".');return xr.values=Array.isArray(mr[0])?mr[0]:mr,xr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.operator=this.operator,er.values=this.values,er.requireSingleSelection=!!this.requireSingleSelection,er},Ut.schemaUrl="http://powerbi.com/product/schema#basic",Ut}(x);d.BasicFilter=O;var N=function(pt){function Ut(er,Pr,mr,gr){var xr=pt.call(this,er,Pr,mr)||this;xr.keyValues=gr,xr.target=er;var Vr=er.keys?er.keys.length:0;if(Vr>0&&!gr)throw new Error("You should pass the values to be filtered for each key. You passed: no values and ".concat(Vr," keys"));if(0===Vr&&gr&&gr.length>0)throw new Error("You passed key values but your target object doesn't contain the keys to be filtered");for(var Qr=0,Gr=xr.keyValues;Qr<Gr.length;Qr++){var Jr=Gr[Qr];if(Jr){var Hr=Jr.length;if(Hr!==Vr)throw new Error("Each tuple of key values should contain a value for each of the keys. You passed: ".concat(Hr," values and ").concat(Vr," keys"))}}return xr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.keyValues=this.keyValues,er},Ut}(O);d.BasicFilterWithKeys=N;var A=function(pt){function Ut(er,Pr){var mr=pt.call(this,er,F.Identity)||this;return mr.operator=Pr,mr.schemaUrl=Ut.schemaUrl,mr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.operator=this.operator,er.target=this.target,er},Ut.schemaUrl="http://powerbi.com/product/schema#identity",Ut}(x);d.IdentityFilter=A;var I=function(pt){function Ut(er,Pr,mr){var gr=pt.call(this,er,F.Tuple)||this;return gr.operator=Pr,gr.schemaUrl=Ut.schemaUrl,gr.values=mr,gr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.operator=this.operator,er.values=this.values,er.target=this.target,er},Ut.schemaUrl="http://powerbi.com/product/schema#tuple",Ut}(x);d.TupleFilter=I;var B=function(pt){function Ut(er,Pr){for(var mr=[],gr=2;gr<arguments.length;gr++)mr[gr-2]=arguments[gr];var Vr,xr=pt.call(this,er,F.Advanced)||this;if(xr.schemaUrl=Ut.schemaUrl,"string"!=typeof Pr||0===Pr.length)throw new Error("logicalOperator must be a valid operator, You passed: ".concat(Pr));if(xr.logicalOperator=Pr,(Vr=Array.isArray(mr[0])?mr[0]:mr).length>2)throw new Error("AdvancedFilters may not have more than two conditions. You passed: ".concat(mr.length));if(1===Vr.length&&"And"!==Pr)throw new Error('Logical Operator must be "And" when there is only one condition provided');return xr.conditions=Vr,xr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.logicalOperator=this.logicalOperator,er.conditions=this.conditions,er},Ut.schemaUrl="http://powerbi.com/product/schema#advanced",Ut}(x);d.AdvancedFilter=B;var U=function(pt){function Ut(er,Pr){var mr=pt.call(this,er,F.Hierarchy)||this;return mr.schemaUrl=Ut.schemaUrl,mr.hierarchyData=Pr,mr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.hierarchyData=this.hierarchyData,er.target=this.target,er},Ut.schemaUrl="http://powerbi.com/product/schema#hierarchy",Ut}(x);function K(pt){if(pt.filterType)return pt.filterType;var er=pt;return"string"==typeof pt.operator&&Array.isArray(pt.values)?F.Basic:"string"==typeof er.logicalOperator&&Array.isArray(er.conditions)?F.Advanced:F.Unknown}function ie(pt){return!(!pt.table||!pt.column||pt.aggregationFunction)}d.HierarchyFilter=U,d.isFilterKeyColumnsTarget=function(pt){return ie(pt)&&!!pt.keys},d.isBasicFilterWithKeys=function(pt){return K(pt)===F.Basic&&!!pt.keyValues},d.getFilterType=K,d.isMeasure=function(pt){return void 0!==pt.table&&void 0!==pt.measure},d.isColumn=ie,d.isHierarchyLevel=function(pt){return!(!(pt.table&&pt.hierarchy&&pt.hierarchyLevel)||pt.aggregationFunction)},d.isHierarchyLevelAggr=function(pt){return!!(pt.table&&pt.hierarchy&&pt.hierarchyLevel&&pt.aggregationFunction)},d.isColumnAggr=function(pt){return!!(pt.table&&pt.column&&pt.aggregationFunction)},d.isPercentOfGrandTotal=function(pt){return!!pt.percentOfGrandTotal},function(pt){pt[pt.NoConnection=0]="NoConnection",pt[pt.OnBehalfOf=1]="OnBehalfOf",pt[pt.Anonymous=2]="Anonymous"}(d.CredentialType||(d.CredentialType={})),function(pt){pt[pt.Import=0]="Import",pt[pt.DirectQuery=1]="DirectQuery"}(d.DataCacheMode||(d.DataCacheMode={})),function(pt){pt[pt.Default=1]="Default",pt[pt.None=2]="None",pt[pt.Sum=3]="Sum",pt[pt.Min=4]="Min",pt[pt.Max=5]="Max",pt[pt.Count=6]="Count",pt[pt.Average=7]="Average",pt[pt.DistinctCount=8]="DistinctCount"}(d.AggregateFunction||(d.AggregateFunction={})),function(pt){pt[pt.Default=0]="Default",pt[pt.NoAdjustments=1]="NoAdjustments"}(d.BrowserPrintAdjustmentsMode||(d.BrowserPrintAdjustmentsMode={})),function(pt){pt[pt.Bottom=0]="Bottom",pt[pt.Left=1]="Left"}(d.PageNavigationPosition||(d.PageNavigationPosition={})),function(pt){pt[pt.Interactive=0]="Interactive",pt[pt.ResultOnly=1]="ResultOnly"}(d.QnaMode||(d.QnaMode={})),function(pt){pt[pt.Summarized=0]="Summarized",pt[pt.Underlying=1]="Underlying"}(d.ExportDataType||(d.ExportDataType={})),function(pt){pt[pt.Off=0]="Off",pt[pt.Presentation=1]="Presentation"}(d.BookmarksPlayMode||(d.BookmarksPlayMode={})),d.CommonErrorCodes={TokenExpired:"TokenExpired",NotFound:"PowerBIEntityNotFound",InvalidParameters:"Invalid parameters",LoadReportFailed:"LoadReportFailed",NotAuthorized:"PowerBINotAuthorizedException",FailedToLoadModel:"ExplorationContainer_FailedToLoadModel_DefaultDetails"},d.TextAlignment={Left:"left",Center:"center",Right:"right"},d.LegendPosition={Top:"Top",Bottom:"Bottom",Right:"Right",Left:"Left",TopCenter:"TopCenter",BottomCenter:"BottomCenter",RightCenter:"RightCenter",LeftCenter:"LeftCenter"},function(pt){pt[pt.Ascending=1]="Ascending",pt[pt.Descending=2]="Descending"}(d.SortDirection||(d.SortDirection={}));var fe=function(){function pt(Ut){this.$schema=Ut}return pt.prototype.toJSON=function(){return{$schema:this.$schema}},pt}();d.Selector=fe;var oe=function(pt){function Ut(er){var Pr=pt.call(this,Ut.schemaUrl)||this;return Pr.pageName=er,Pr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.pageName=this.pageName,er},Ut.schemaUrl="http://powerbi.com/product/schema#pageSelector",Ut}(fe);d.PageSelector=oe;var ye=function(pt){function Ut(er){var Pr=pt.call(this,Ut.schemaUrl)||this;return Pr.visualName=er,Pr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.visualName=this.visualName,er},Ut.schemaUrl="http://powerbi.com/product/schema#visualSelector",Ut}(fe);d.VisualSelector=ye;var Ce=function(pt){function Ut(er){var Pr=pt.call(this,ye.schemaUrl)||this;return Pr.visualType=er,Pr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.visualType=this.visualType,er},Ut.schemaUrl="http://powerbi.com/product/schema#visualTypeSelector",Ut}(fe);d.VisualTypeSelector=Ce;var Be=function(pt){function Ut(er){var Pr=pt.call(this,ye.schemaUrl)||this;return Pr.target=er,Pr}return S(Ut,pt),Ut.prototype.toJSON=function(){var er=pt.prototype.toJSON.call(this);return er.target=this.target,er},Ut.schemaUrl="http://powerbi.com/product/schema#slicerTargetSelector",Ut}(fe);function Re(pt){return Array.isArray(pt)}function tt(pt){return pt&&!!pt.groupName}function He(pt){return Array.isArray(pt)}function ke(pt){var Ut=pt.message;return Ut||(Ut="".concat(pt.path," is invalid. Not meeting ").concat(pt.keyword," constraint")),{message:Ut}}d.SlicerTargetSelector=Be,function(pt){pt[pt.Enabled=0]="Enabled",pt[pt.Disabled=1]="Disabled",pt[pt.Hidden=2]="Hidden"}(d.CommandDisplayOption||(d.CommandDisplayOption={})),function(pt){pt[pt.Grouping=0]="Grouping",pt[pt.Measure=1]="Measure",pt[pt.GroupingOrMeasure=2]="GroupingOrMeasure"}(d.VisualDataRoleKind||(d.VisualDataRoleKind={})),function(pt){pt[pt.Measure=0]="Measure",pt[pt.Grouping=1]="Grouping"}(d.VisualDataRoleKindPreference||(d.VisualDataRoleKindPreference={})),d.isOnLoadFilters=function(pt){return pt&&!Re(pt)},d.isReportFiltersArray=Re,d.isFlatMenuExtension=function(pt){return pt&&!tt(pt)},d.isGroupedMenuExtension=tt,d.isIExtensions=function(pt){return pt&&!He(pt)},d.isIExtensionArray=He,d.validateVisualSelector=function(pt){var Ut=h.Validators.visualSelectorValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateSlicer=function(pt){var Ut=h.Validators.slicerValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateSlicerState=function(pt){var Ut=h.Validators.slicerStateValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validatePlayBookmarkRequest=function(pt){var Ut=h.Validators.playBookmarkRequestValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateAddBookmarkRequest=function(pt){var Ut=h.Validators.addBookmarkRequestValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateApplyBookmarkByNameRequest=function(pt){var Ut=h.Validators.applyBookmarkByNameRequestValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateApplyBookmarkStateRequest=function(pt){var Ut=h.Validators.applyBookmarkStateRequestValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateCaptureBookmarkRequest=function(pt){var Ut=h.Validators.captureBookmarkRequestValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateSettings=function(pt){var Ut=h.Validators.settingsValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validatePanes=function(pt){var Ut=h.Validators.reportPanesValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateBookmarksPane=function(pt){var Ut=h.Validators.bookmarksPaneValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateFiltersPane=function(pt){var Ut=h.Validators.filtersPaneValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateFieldsPane=function(pt){var Ut=h.Validators.fieldsPaneValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validatePageNavigationPane=function(pt){var Ut=h.Validators.pageNavigationPaneValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateSelectionPane=function(pt){var Ut=h.Validators.selectionPaneValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateSyncSlicersPane=function(pt){var Ut=h.Validators.syncSlicersPaneValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateVisualizationsPane=function(pt){var Ut=h.Validators.visualizationsPaneValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateCustomPageSize=function(pt){var Ut=h.Validators.customPageSizeValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateExtension=function(pt){var Ut=h.Validators.extensionValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateMenuGroupExtension=function(pt){var Ut=h.Validators.menuGroupExtensionValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateReportLoad=function(pt){var Ut=h.Validators.reportLoadValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validatePaginatedReportLoad=function(pt){var Ut=h.Validators.paginatedReportLoadValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateCreateReport=function(pt){var Ut=h.Validators.reportCreateValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateQuickCreate=function(pt){var Ut=h.Validators.quickCreateValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateDashboardLoad=function(pt){var Ut=h.Validators.dashboardLoadValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateTileLoad=function(pt){var Ut=h.Validators.tileLoadValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validatePage=function(pt){var Ut=h.Validators.pageValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateFilter=function(pt){var Ut=h.Validators.filterValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateUpdateFiltersRequest=function(pt){var Ut=h.Validators.updateFiltersRequestValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateSaveAsParameters=function(pt){var Ut=h.Validators.saveAsParametersValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateLoadQnaConfiguration=function(pt){var Ut=h.Validators.loadQnaValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateQnaInterpretInputData=function(pt){var Ut=h.Validators.qnaInterpretInputDataValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateExportDataRequest=function(pt){var Ut=h.Validators.exportDataRequestValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateVisualHeader=function(pt){var Ut=h.Validators.visualHeaderValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateVisualSettings=function(pt){var Ut=h.Validators.visualSettingsValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateCommandsSettings=function(pt){var Ut=h.Validators.commandsSettingsValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateCustomTheme=function(pt){var Ut=h.Validators.customThemeValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validateZoomLevel=function(pt){var Ut=h.Validators.zoomLevelValidator.validate(pt);return Ut?Ut.map(ke):void 0},d.validatePrintSettings=function(pt){var Ut=h.Validators.printSettingsValidator.validate(pt);return Ut?Ut.map(ke):void 0}},function(o,d,v){Object.defineProperty(d,"__esModule",{value:!0}),d.Validators=void 0;var S=v(2),h=v(5),c=v(6),r=v(7),s=v(8),u=v(9),i=v(10),a=v(11),n=v(12),m=v(13),f=v(14),V=v(15),p=v(16),C=v(17),b=v(18),y=v(19),D=v(20),P=v(21),F=v(22),E=v(23),w=v(24),x=v(25),R=v(26),g=v(27),L=v(28),M=v(29),T=v(4),O=v(30),N=v(31),A=v(32),I=v(33),B=v(34);d.Validators={addBookmarkRequestValidator:new h.AddBookmarkRequestValidator,advancedFilterTypeValidator:new T.EnumValidator([0]),advancedFilterValidator:new n.AdvancedFilterValidator,anyArrayValidator:new T.ArrayValidator([new R.AnyOfValidator([new T.StringValidator,new T.NumberValidator,new T.BooleanValidator])]),anyFilterValidator:new R.AnyOfValidator([new n.BasicFilterValidator,new n.AdvancedFilterValidator,new n.IncludeExcludeFilterValidator,new n.NotSupportedFilterValidator,new n.RelativeDateFilterValidator,new n.TopNFilterValidator,new n.RelativeTimeFilterValidator,new n.HierarchyFilterValidator]),anyValueValidator:new R.AnyOfValidator([new T.StringValidator,new T.NumberValidator,new T.BooleanValidator]),actionBarValidator:new S.ActionBarValidator,statusBarValidator:new S.StatusBarValidator,applyBookmarkByNameRequestValidator:new h.ApplyBookmarkByNameRequestValidator,applyBookmarkStateRequestValidator:new h.ApplyBookmarkStateRequestValidator,applyBookmarkValidator:new R.AnyOfValidator([new h.ApplyBookmarkByNameRequestValidator,new h.ApplyBookmarkStateRequestValidator]),backgroundValidator:new T.EnumValidator([0,1]),basicFilterTypeValidator:new T.EnumValidator([1]),basicFilterValidator:new n.BasicFilterValidator,booleanArrayValidator:new T.BooleanArrayValidator,booleanValidator:new T.BooleanValidator,bookmarksPaneValidator:new V.BookmarksPaneValidator,captureBookmarkOptionsValidator:new h.CaptureBookmarkOptionsValidator,captureBookmarkRequestValidator:new h.CaptureBookmarkRequestValidator,columnSchemaArrayValidator:new T.ArrayValidator([new N.ColumnSchemaValidator]),commandDisplayOptionValidator:new T.EnumValidator([0,1,2]),commandExtensionSelectorValidator:new R.AnyOfValidator([new P.VisualSelectorValidator,new P.VisualTypeSelectorValidator]),commandExtensionArrayValidator:new T.ArrayValidator([new a.CommandExtensionValidator]),commandExtensionValidator:new a.CommandExtensionValidator,commandsSettingsArrayValidator:new T.ArrayValidator([new c.CommandsSettingsValidator]),commandsSettingsValidator:new c.CommandsSettingsValidator,conditionItemValidator:new n.ConditionItemValidator,contrastModeValidator:new T.EnumValidator([0,1,2,3,4]),credentialDetailsValidator:new M.MapValidator([new T.StringValidator],[new T.StringValidator]),credentialsValidator:new N.CredentialsValidator,credentialTypeValidator:new T.EnumValidator([0,1,2]),customLayoutDisplayOptionValidator:new T.EnumValidator([0,1,2]),customLayoutValidator:new m.CustomLayoutValidator,customPageSizeValidator:new f.CustomPageSizeValidator,customThemeValidator:new r.CustomThemeValidator,dashboardLoadValidator:new s.DashboardLoadValidator,dataCacheModeValidator:new T.EnumValidator([0,1]),datasetBindingValidator:new u.DatasetBindingValidator,datasetCreateConfigValidator:new N.DatasetCreateConfigValidator,datasourceConnectionConfigValidator:new N.DatasourceConnectionConfigValidator,displayStateModeValidator:new T.EnumValidator([0,1]),displayStateValidator:new m.DisplayStateValidator,exportDataRequestValidator:new i.ExportDataRequestValidator,extensionArrayValidator:new T.ArrayValidator([new a.ExtensionValidator]),extensionsValidator:new R.AnyOfValidator([new T.ArrayValidator([new a.ExtensionValidator]),new a.ExtensionsValidator]),extensionPointsValidator:new a.ExtensionPointsValidator,extensionValidator:new a.ExtensionValidator,fieldForbiddenValidator:new g.FieldForbiddenValidator,fieldRequiredValidator:new L.FieldRequiredValidator,fieldsPaneValidator:new V.FieldsPaneValidator,filterColumnTargetValidator:new n.FilterColumnTargetValidator,filterDisplaySettingsValidator:new n.FilterDisplaySettingsValidator,filterConditionsValidator:new T.ArrayValidator([new n.ConditionItemValidator]),filterHierarchyTargetValidator:new n.FilterHierarchyTargetValidator,filterMeasureTargetValidator:new n.FilterMeasureTargetValidator,filterTargetValidator:new R.AnyOfValidator([new n.FilterColumnTargetValidator,new n.FilterHierarchyTargetValidator,new n.FilterMeasureTargetValidator,new T.ArrayValidator([new R.AnyOfValidator([new n.FilterColumnTargetValidator,new n.FilterHierarchyTargetValidator,new n.FilterMeasureTargetValidator,new n.FilterKeyColumnsTargetValidator,new n.FilterKeyHierarchyTargetValidator])])]),filterValidator:new n.FilterValidator,filterTypeValidator:new T.EnumValidator([0,1,2,3,4,5,6,7,9]),filtersArrayValidator:new T.ArrayValidator([new n.FilterValidator]),filtersOperationsUpdateValidator:new T.EnumValidator([1,2,3]),filtersOperationsRemoveAllValidator:new T.EnumValidator([0]),filtersPaneValidator:new V.FiltersPaneValidator,hyperlinkClickBehaviorValidator:new T.EnumValidator([0,1,2]),includeExcludeFilterValidator:new n.IncludeExcludeFilterValidator,includeExludeFilterTypeValidator:new T.EnumValidator([3]),hierarchyFilterTypeValidator:new T.EnumValidator([9]),hierarchyFilterValuesValidator:new T.ArrayValidator([new n.HierarchyFilterNodeValidator]),layoutTypeValidator:new T.EnumValidator([0,1,2,3]),loadQnaValidator:new p.LoadQnaValidator,menuExtensionValidator:new R.AnyOfValidator([new a.FlatMenuExtensionValidator,new a.GroupedMenuExtensionValidator]),menuGroupExtensionArrayValidator:new T.ArrayValidator([new a.MenuGroupExtensionValidator]),menuGroupExtensionValidator:new a.MenuGroupExtensionValidator,menuLocationValidator:new T.EnumValidator([0,1]),notSupportedFilterTypeValidator:new T.EnumValidator([2]),notSupportedFilterValidator:new n.NotSupportedFilterValidator,numberArrayValidator:new T.NumberArrayValidator,numberValidator:new T.NumberValidator,onLoadFiltersBaseValidator:new R.AnyOfValidator([new n.OnLoadFiltersBaseValidator,new n.OnLoadFiltersBaseRemoveOperationValidator]),pageLayoutValidator:new M.MapValidator([new T.StringValidator],[new m.VisualLayoutValidator]),pageNavigationPaneValidator:new V.PageNavigationPaneValidator,pageNavigationPositionValidator:new T.EnumValidator([0,1]),pageSizeTypeValidator:new T.EnumValidator([0,1,2,3,4,5]),pageSizeValidator:new f.PageSizeValidator,pageValidator:new f.PageValidator,pageViewFieldValidator:new f.PageViewFieldValidator,pagesLayoutValidator:new M.MapValidator([new T.StringValidator],[new m.PageLayoutValidator]),paginatedReportCommandsValidator:new c.PaginatedReportCommandsValidator,paginatedReportDatasetBindingArrayValidator:new T.ArrayValidator([new B.PaginatedReportDatasetBindingValidator]),paginatedReportLoadValidator:new y.PaginatedReportLoadValidator,paginatedReportsettingsValidator:new F.PaginatedReportSettingsValidator,parameterValuesArrayValidator:new T.ArrayValidator([new y.ReportParameterFieldsValidator]),parametersPanelValidator:new O.ParametersPanelValidator,permissionsValidator:new T.EnumValidator([0,1,2,4,7]),playBookmarkRequestValidator:new h.PlayBookmarkRequestValidator,printSettingsValidator:new I.PrintSettingsValidator,qnaInterpretInputDataValidator:new p.QnaInterpretInputDataValidator,qnaPanesValidator:new V.QnaPanesValidator,qnaSettingValidator:new p.QnaSettingsValidator,quickCreateValidator:new A.QuickCreateValidator,rawDataValidator:new T.ArrayValidator([new T.ArrayValidator([new T.StringValidator])]),relativeDateFilterOperatorValidator:new T.EnumValidator([0,1,2]),relativeDateFilterTimeUnitTypeValidator:new T.EnumValidator([0,1,2,3,4,5,6]),relativeDateFilterTypeValidator:new T.EnumValidator([4]),relativeDateFilterValidator:new n.RelativeDateFilterValidator,relativeDateTimeFilterTypeValidator:new T.EnumValidator([4,7]),relativeDateTimeFilterUnitTypeValidator:new T.EnumValidator([0,1,2,3,4,5,6,7,8]),relativeTimeFilterTimeUnitTypeValidator:new T.EnumValidator([7,8]),relativeTimeFilterTypeValidator:new T.EnumValidator([7]),relativeTimeFilterValidator:new n.RelativeTimeFilterValidator,reportBarsValidator:new S.ReportBarsValidator,reportCreateValidator:new C.ReportCreateValidator,reportLoadFiltersValidator:new R.AnyOfValidator([new T.ArrayValidator([new n.FilterValidator]),new n.OnLoadFiltersValidator]),reportLoadValidator:new b.ReportLoadValidator,reportPanesValidator:new V.ReportPanesValidator,saveAsParametersValidator:new D.SaveAsParametersValidator,selectionPaneValidator:new V.SelectionPaneValidator,settingsValidator:new F.SettingsValidator,singleCommandSettingsValidator:new c.SingleCommandSettingsValidator,slicerSelectorValidator:new R.AnyOfValidator([new P.VisualSelectorValidator,new P.SlicerTargetSelectorValidator]),slicerStateValidator:new E.SlicerStateValidator,slicerTargetValidator:new R.AnyOfValidator([new n.FilterColumnTargetValidator,new n.FilterHierarchyTargetValidator,new n.FilterMeasureTargetValidator,new n.FilterKeyColumnsTargetValidator,new n.FilterKeyHierarchyTargetValidator]),slicerValidator:new E.SlicerValidator,stringArrayValidator:new T.StringArrayValidator,stringValidator:new T.StringValidator,syncSlicersPaneValidator:new V.SyncSlicersPaneValidator,tableDataArrayValidator:new T.ArrayValidator([new N.TableDataValidator]),tableSchemaListValidator:new T.ArrayValidator([new N.TableSchemaValidator]),tileLoadValidator:new w.TileLoadValidator,tokenTypeValidator:new T.EnumValidator([0,1]),topNFilterTypeValidator:new T.EnumValidator([5]),topNFilterValidator:new n.TopNFilterValidator,updateFiltersRequestValidator:new R.AnyOfValidator([new n.UpdateFiltersRequestValidator,new n.RemoveFiltersRequestValidator]),viewModeValidator:new T.EnumValidator([0,1]),visualCommandSelectorValidator:new R.AnyOfValidator([new P.VisualSelectorValidator,new P.VisualTypeSelectorValidator]),visualHeaderSelectorValidator:new R.AnyOfValidator([new P.VisualSelectorValidator,new P.VisualTypeSelectorValidator]),visualHeaderSettingsValidator:new x.VisualHeaderSettingsValidator,visualHeaderValidator:new x.VisualHeaderValidator,visualHeadersValidator:new T.ArrayValidator([new x.VisualHeaderValidator]),visualizationsPaneValidator:new V.VisualizationsPaneValidator,visualLayoutValidator:new m.VisualLayoutValidator,visualSelectorValidator:new P.VisualSelectorValidator,visualSettingsValidator:new x.VisualSettingsValidator,visualTypeSelectorValidator:new P.VisualTypeSelectorValidator,zoomLevelValidator:new T.RangeValidator(.25,4)}},function(o,d,v){var a,S=this&&this.__extends||(a=function(m,f){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,p){V.__proto__=p}||function(V,p){for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(V[C]=p[C])})(m,f)},function(n,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function f(){this.constructor=n}a(n,m),n.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)});Object.defineProperty(d,"__esModule",{value:!0}),d.StatusBarValidator=d.ActionBarValidator=d.ReportBarsValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"actionBar",validators:[r.Validators.actionBarValidator]},{field:"statusBar",validators:[r.Validators.statusBarValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.ReportBarsValidator=s;var u=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.ActionBarValidator=u;var i=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.StatusBarValidator=i},function(o,d){Object.defineProperty(d,"__esModule",{value:!0}),d.MultipleFieldsValidator=void 0;var v=function(){function S(h){this.fieldValidatorsPairs=h}return S.prototype.validate=function(h,c,r){if(!this.fieldValidatorsPairs)return null;for(var s=c?c+"."+r:r,u=0,i=this.fieldValidatorsPairs;u<i.length;u++)for(var a=i[u],n=0,m=a.validators;n<m.length;n++){var V=m[n].validate(h[a.field],s,a.field);if(V)return V}return null},S}();d.MultipleFieldsValidator=v},function(o,d){var C,v=this&&this.__extends||(C=function(y,D){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,F){P.__proto__=F}||function(P,F){for(var E in F)Object.prototype.hasOwnProperty.call(F,E)&&(P[E]=F[E])})(y,D)},function(b,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function D(){this.constructor=b}C(b,y),b.prototype=null===y?Object.create(y):(D.prototype=y.prototype,new D)});Object.defineProperty(d,"__esModule",{value:!0}),d.RangeValidator=d.NumberArrayValidator=d.BooleanArrayValidator=d.StringArrayValidator=d.EnumValidator=d.SchemaValidator=d.ValueValidator=d.NumberValidator=d.BooleanValidator=d.StringValidator=d.TypeValidator=d.ArrayValidator=d.ObjectValidator=void 0;var S=function(){function C(){}return C.prototype.validate=function(b,y,D){return null==b?null:"object"!=typeof b||Array.isArray(b)?[{message:void 0!==D?D+" must be an object":"input must be an object",path:y,keyword:"type"}]:null},C}();d.ObjectValidator=S;var h=function(){function C(b){this.itemValidators=b}return C.prototype.validate=function(b,y,D){if(null==b)return null;if(!Array.isArray(b))return[{message:D+" property is invalid",path:(y?y+".":"")+D,keyword:"type"}];for(var P=0;P<b.length;P++)for(var F=(y?y+".":"")+D+"."+P.toString(),E=0,w=this.itemValidators;E<w.length;E++)if(w[E].validate(b[P],F,D))return[{message:D+" property is invalid",path:(y?y+".":"")+D,keyword:"type"}];return null},C}();d.ArrayValidator=h;var c=function(){function C(b){this.expectedType=b}return C.prototype.validate=function(b,y,D){return null==b?null:typeof b!==this.expectedType?[{message:D+" must be a "+this.expectedType,path:(y?y+".":"")+D,keyword:"type"}]:null},C}();d.TypeValidator=c;var r=function(C){function b(){return C.call(this,"string")||this}return v(b,C),b}(c);d.StringValidator=r;var s=function(C){function b(){return C.call(this,"boolean")||this}return v(b,C),b}(c);d.BooleanValidator=s;var u=function(C){function b(){return C.call(this,"number")||this}return v(b,C),b}(c);d.NumberValidator=u;var i=function(){function C(b){this.possibleValues=b}return C.prototype.validate=function(b,y,D){return null==b?null:this.possibleValues.indexOf(b)<0?[{message:D+" property is invalid",path:(y?y+".":"")+D,keyword:"invalid"}]:null},C}();d.ValueValidator=i;var a=function(C){function b(y){var D=C.call(this,[y])||this;return D.schemaValue=y,D}return v(b,C),b.prototype.validate=function(y,D,P){return C.prototype.validate.call(this,y,D,P)},b}(i);d.SchemaValidator=a;var n=function(C){function b(y){var D=C.call(this)||this;return D.possibleValues=y,D}return v(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new i(this.possibleValues).validate(y,D,P)},b}(u);d.EnumValidator=n;var m=function(C){function b(){return C.call(this,[new r])||this}return v(b,C),b.prototype.validate=function(y,D,P){return C.prototype.validate.call(this,y,D,P)?[{message:P+" must be an array of strings",path:(D?D+".":"")+P,keyword:"type"}]:null},b}(h);d.StringArrayValidator=m;var f=function(C){function b(){return C.call(this,[new s])||this}return v(b,C),b.prototype.validate=function(y,D,P){return C.prototype.validate.call(this,y,D,P)?[{message:P+" must be an array of booleans",path:(D?D+".":"")+P,keyword:"type"}]:null},b}(h);d.BooleanArrayValidator=f;var V=function(C){function b(){return C.call(this,[new u])||this}return v(b,C),b.prototype.validate=function(y,D,P){return C.prototype.validate.call(this,y,D,P)?[{message:P+" must be an array of numbers",path:(D?D+".":"")+P,keyword:"type"}]:null},b}(h);d.NumberArrayValidator=V;var p=function(C){function b(y,D){var P=C.call(this)||this;return P.minValue=y,P.maxValue=D,P}return v(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||(y>this.maxValue||y<this.minValue?[{message:P+" must be a number between "+this.minValue.toString()+" and "+this.maxValue.toString(),path:(D?D+".":"")+P,keyword:"range"}]:null)},b}(u);d.RangeValidator=p},function(o,d,v){var f,S=this&&this.__extends||(f=function(p,C){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var D in y)Object.prototype.hasOwnProperty.call(y,D)&&(b[D]=y[D])})(p,C)},function(V,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function C(){this.constructor=V}f(V,p),V.prototype=null===p?Object.create(p):(C.prototype=p.prototype,new C)});Object.defineProperty(d,"__esModule",{value:!0}),d.CaptureBookmarkRequestValidator=d.CaptureBookmarkOptionsValidator=d.ApplyBookmarkStateRequestValidator=d.ApplyBookmarkByNameRequestValidator=d.AddBookmarkRequestValidator=d.PlayBookmarkRequestValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){if(null==p)return null;var y=f.prototype.validate.call(this,p,C,b);if(y)return y;var D=[{field:"playMode",validators:[r.Validators.fieldRequiredValidator,new c.EnumValidator([0,1])]}];return new h.MultipleFieldsValidator(D).validate(p,C,b)},V}(c.ObjectValidator);d.PlayBookmarkRequestValidator=s;var u=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"state",validators:[r.Validators.stringValidator]},{field:"displayName",validators:[r.Validators.stringValidator]},{field:"apply",validators:[r.Validators.booleanValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.AddBookmarkRequestValidator=u;var i=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.ApplyBookmarkByNameRequestValidator=i;var a=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"state",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.ApplyBookmarkStateRequestValidator=a;var n=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"personalizeVisuals",validators:[r.Validators.booleanValidator]},{field:"allPages",validators:[r.Validators.booleanValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.CaptureBookmarkOptionsValidator=n;var m=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"options",validators:[r.Validators.fieldRequiredValidator,r.Validators.captureBookmarkOptionsValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.CaptureBookmarkRequestValidator=m},function(o,d,v){var a,S=this&&this.__extends||(a=function(m,f){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,p){V.__proto__=p}||function(V,p){for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(V[C]=p[C])})(m,f)},function(n,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function f(){this.constructor=n}a(n,m),n.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)});Object.defineProperty(d,"__esModule",{value:!0}),d.PaginatedReportCommandsValidator=d.SingleCommandSettingsValidator=d.CommandsSettingsValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"copy",validators:[r.Validators.singleCommandSettingsValidator]},{field:"drill",validators:[r.Validators.singleCommandSettingsValidator]},{field:"drillthrough",validators:[r.Validators.singleCommandSettingsValidator]},{field:"expandCollapse",validators:[r.Validators.singleCommandSettingsValidator]},{field:"exportData",validators:[r.Validators.singleCommandSettingsValidator]},{field:"includeExclude",validators:[r.Validators.singleCommandSettingsValidator]},{field:"removeVisual",validators:[r.Validators.singleCommandSettingsValidator]},{field:"search",validators:[r.Validators.singleCommandSettingsValidator]},{field:"seeData",validators:[r.Validators.singleCommandSettingsValidator]},{field:"sort",validators:[r.Validators.singleCommandSettingsValidator]},{field:"spotlight",validators:[r.Validators.singleCommandSettingsValidator]},{field:"insightsAnalysis",validators:[r.Validators.singleCommandSettingsValidator]},{field:"addComment",validators:[r.Validators.singleCommandSettingsValidator]},{field:"groupVisualContainers",validators:[r.Validators.singleCommandSettingsValidator]},{field:"summarize",validators:[r.Validators.singleCommandSettingsValidator]},{field:"clearSelection",validators:[r.Validators.singleCommandSettingsValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.CommandsSettingsValidator=s;var u=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"displayOption",validators:[r.Validators.fieldRequiredValidator,r.Validators.commandDisplayOptionValidator]},{field:"selector",validators:[r.Validators.visualCommandSelectorValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.SingleCommandSettingsValidator=u;var i=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"parameterPanel",validators:[r.Validators.parametersPanelValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.PaginatedReportCommandsValidator=i},function(o,d,v){var s,S=this&&this.__extends||(s=function(i,a){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,m){n.__proto__=m}||function(n,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(n[f]=m[f])})(i,a)},function(u,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function a(){this.constructor=u}s(u,i),u.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)});Object.defineProperty(d,"__esModule",{value:!0}),d.CustomThemeValidator=void 0;var h=v(3),c=v(4),r=function(s){function u(){return null!==s&&s.apply(this,arguments)||this}return S(u,s),u.prototype.validate=function(i,a,n){if(null==i)return null;var m=s.prototype.validate.call(this,i,a,n);if(m)return m;var f=[{field:"themeJson",validators:[new c.ObjectValidator]}];return new h.MultipleFieldsValidator(f).validate(i,a,n)},u}(c.ObjectValidator);d.CustomThemeValidator=r},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.DashboardLoadValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"id",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"groupId",validators:[r.Validators.stringValidator]},{field:"pageView",validators:[r.Validators.pageViewFieldValidator]},{field:"tokenType",validators:[r.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[r.Validators.stringValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.DashboardLoadValidator=s},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.DatasetBindingValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||(a.datasetId||a.paginatedReportBindings?new h.MultipleFieldsValidator([{field:"datasetId",validators:[r.Validators.stringValidator]},{field:"paginatedReportBindings",validators:[r.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(a,n,m):[{message:"datasetBinding cannot be empty",path:(n?n+".":"")+m,keyword:"invalid"}])},i}(c.ObjectValidator);d.DatasetBindingValidator=s},function(o,d,v){var s,S=this&&this.__extends||(s=function(i,a){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,m){n.__proto__=m}||function(n,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(n[f]=m[f])})(i,a)},function(u,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function a(){this.constructor=u}s(u,i),u.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)});Object.defineProperty(d,"__esModule",{value:!0}),d.ExportDataRequestValidator=void 0;var h=v(3),c=v(4),r=function(s){function u(){return null!==s&&s.apply(this,arguments)||this}return S(u,s),u.prototype.validate=function(i,a,n){if(null==i)return null;var m=s.prototype.validate.call(this,i,a,n);if(m)return m;var f=[{field:"rows",validators:[new c.NumberValidator]},{field:"exportDataType",validators:[new c.EnumValidator([0,1])]}];return new h.MultipleFieldsValidator(f).validate(i,a,n)},u}(c.ObjectValidator);d.ExportDataRequestValidator=r},function(o,d,v){var C,S=this&&this.__extends||(C=function(y,D){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,F){P.__proto__=F}||function(P,F){for(var E in F)Object.prototype.hasOwnProperty.call(F,E)&&(P[E]=F[E])})(y,D)},function(b,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function D(){this.constructor=b}C(b,y),b.prototype=null===y?Object.create(y):(D.prototype=y.prototype,new D)});Object.defineProperty(d,"__esModule",{value:!0}),d.ExtensionsValidator=d.MenuGroupExtensionValidator=d.ExtensionValidator=d.CommandExtensionValidator=d.ExtensionItemValidator=d.ExtensionPointsValidator=d.GroupedMenuExtensionValidator=d.FlatMenuExtensionValidator=d.MenuExtensionBaseValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"title",validators:[r.Validators.stringValidator]},{field:"icon",validators:[r.Validators.stringValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.MenuExtensionBaseValidator=s;var u=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"menuLocation",validators:[r.Validators.menuLocationValidator]},{field:"groupName",validators:[r.Validators.fieldForbiddenValidator]}]).validate(y,D,P)},b}(s);d.FlatMenuExtensionValidator=u;var i=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"groupName",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"menuLocation",validators:[r.Validators.fieldForbiddenValidator]}]).validate(y,D,P)},b}(s);d.GroupedMenuExtensionValidator=i;var a=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"visualContextMenu",validators:[r.Validators.menuExtensionValidator]},{field:"visualOptionsMenu",validators:[r.Validators.menuExtensionValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.ExtensionPointsValidator=a;var n=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"extend",validators:[r.Validators.fieldRequiredValidator,r.Validators.extensionPointsValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.ExtensionItemValidator=n;var m=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"title",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"icon",validators:[r.Validators.stringValidator]},{field:"selector",validators:[r.Validators.commandExtensionSelectorValidator]}]).validate(y,D,P)},b}(n);d.CommandExtensionValidator=m;var f=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"command",validators:[r.Validators.commandExtensionValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.ExtensionValidator=f;var V=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"title",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"menuLocation",validators:[r.Validators.menuLocationValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.MenuGroupExtensionValidator=V;var p=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"commands",validators:[r.Validators.fieldRequiredValidator,r.Validators.commandExtensionArrayValidator]},{field:"groups",validators:[r.Validators.menuGroupExtensionArrayValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.ExtensionsValidator=p},function(o,d,v){var N,S=this&&this.__extends||(N=function(I,B){return(N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(U,W){U.__proto__=W}||function(U,W){for(var j in W)Object.prototype.hasOwnProperty.call(W,j)&&(U[j]=W[j])})(I,B)},function(A,I){if("function"!=typeof I&&null!==I)throw new TypeError("Class extends value "+String(I)+" is not a constructor or null");function B(){this.constructor=A}N(A,I),A.prototype=null===I?Object.create(I):(B.prototype=I.prototype,new B)});Object.defineProperty(d,"__esModule",{value:!0}),d.OnLoadFiltersValidator=d.OnLoadFiltersBaseRemoveOperationValidator=d.OnLoadFiltersBaseValidator=d.ConditionItemValidator=d.RemoveFiltersRequestValidator=d.UpdateFiltersRequestValidator=d.FilterValidator=d.HierarchyFilterNodeValidator=d.HierarchyFilterValidator=d.IncludeExcludeFilterValidator=d.NotSupportedFilterValidator=d.TopNFilterValidator=d.RelativeTimeFilterValidator=d.RelativeDateFilterValidator=d.RelativeDateTimeFilterValidator=d.AdvancedFilterValidator=d.BasicFilterValidator=d.FilterValidatorBase=d.FilterDisplaySettingsValidator=d.FilterMeasureTargetValidator=d.FilterKeyHierarchyTargetValidator=d.FilterHierarchyTargetValidator=d.FilterKeyColumnsTargetValidator=d.FilterColumnTargetValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"table",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"column",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.FilterColumnTargetValidator=s;var u=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"keys",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringArrayValidator]}]).validate(I,B,U)},A}(s);d.FilterKeyColumnsTargetValidator=u;var i=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"table",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"hierarchy",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"hierarchyLevel",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.FilterHierarchyTargetValidator=i;var a=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"keys",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringArrayValidator]}]).validate(I,B,U)},A}(i);d.FilterKeyHierarchyTargetValidator=a;var n=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"table",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"measure",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.FilterMeasureTargetValidator=n;var m=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"isLockedInViewMode",validators:[r.Validators.booleanValidator]},{field:"isHiddenInViewMode",validators:[r.Validators.booleanValidator]},{field:"displayName",validators:[r.Validators.stringValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.FilterDisplaySettingsValidator=m;var f=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"target",validators:[r.Validators.fieldRequiredValidator,r.Validators.filterTargetValidator]},{field:"$schema",validators:[r.Validators.stringValidator]},{field:"filterType",validators:[r.Validators.filterTypeValidator]},{field:"displaySettings",validators:[r.Validators.filterDisplaySettingsValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.FilterValidatorBase=f;var V=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"operator",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"values",validators:[r.Validators.fieldRequiredValidator,r.Validators.anyArrayValidator]},{field:"filterType",validators:[r.Validators.basicFilterTypeValidator]},{field:"requireSingleSelection",validators:[r.Validators.booleanValidator]}]).validate(I,B,U)},A}(f);d.BasicFilterValidator=V;var p=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"logicalOperator",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"conditions",validators:[r.Validators.filterConditionsValidator]},{field:"filterType",validators:[r.Validators.advancedFilterTypeValidator]}]).validate(I,B,U)},A}(f);d.AdvancedFilterValidator=p;var C=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"operator",validators:[r.Validators.fieldRequiredValidator,r.Validators.relativeDateFilterOperatorValidator]},{field:"timeUnitsCount",validators:[r.Validators.numberValidator]},{field:"timeUnitType",validators:[r.Validators.fieldRequiredValidator,r.Validators.relativeDateTimeFilterUnitTypeValidator]},{field:"filterType",validators:[r.Validators.relativeDateTimeFilterTypeValidator]}]).validate(I,B,U)},A}(f);d.RelativeDateTimeFilterValidator=C;var b=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"includeToday",validators:[r.Validators.fieldRequiredValidator,r.Validators.booleanValidator]},{field:"timeUnitType",validators:[r.Validators.fieldRequiredValidator,r.Validators.relativeDateFilterTimeUnitTypeValidator]},{field:"filterType",validators:[r.Validators.relativeDateFilterTypeValidator]}]).validate(I,B,U)},A}(C);d.RelativeDateFilterValidator=b;var y=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"timeUnitType",validators:[r.Validators.fieldRequiredValidator,r.Validators.relativeTimeFilterTimeUnitTypeValidator]},{field:"filterType",validators:[r.Validators.relativeTimeFilterTypeValidator]}]).validate(I,B,U)},A}(C);d.RelativeTimeFilterValidator=y;var D=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"operator",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"itemCount",validators:[r.Validators.fieldRequiredValidator,r.Validators.numberValidator]},{field:"filterType",validators:[r.Validators.topNFilterTypeValidator]},{field:"orderBy",validators:[r.Validators.fieldRequiredValidator,r.Validators.filterTargetValidator]}]).validate(I,B,U)},A}(f);d.TopNFilterValidator=D;var P=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"message",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"notSupportedTypeName",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"filterType",validators:[r.Validators.notSupportedFilterTypeValidator]}]).validate(I,B,U)},A}(f);d.NotSupportedFilterValidator=P;var F=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"isExclude",validators:[r.Validators.fieldRequiredValidator,r.Validators.booleanValidator]},{field:"values",validators:[r.Validators.fieldRequiredValidator,r.Validators.anyArrayValidator]},{field:"filterType",validators:[r.Validators.includeExludeFilterTypeValidator]}]).validate(I,B,U)},A}(f);d.IncludeExcludeFilterValidator=F;var E=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"hierarchyData",validators:[r.Validators.fieldRequiredValidator,r.Validators.hierarchyFilterValuesValidator]},{field:"filterType",validators:[r.Validators.hierarchyFilterTypeValidator]}]).validate(I,B,U)},A}(f);d.HierarchyFilterValidator=E;var w=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"value",validators:[r.Validators.anyValueValidator]},{field:"keyValues",validators:[r.Validators.anyArrayValidator]},{field:"children",validators:[r.Validators.hierarchyFilterValuesValidator]},{field:"operator",validators:[r.Validators.stringValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.HierarchyFilterNodeValidator=w;var x=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||r.Validators.anyFilterValidator.validate(I,B,U)},A}(c.ObjectValidator);d.FilterValidator=x;var R=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"filtersOperation",validators:[r.Validators.fieldRequiredValidator,r.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[r.Validators.fieldRequiredValidator,r.Validators.filtersArrayValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.UpdateFiltersRequestValidator=R;var g=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"filtersOperation",validators:[r.Validators.fieldRequiredValidator,r.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[r.Validators.fieldForbiddenValidator,r.Validators.filtersArrayValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.RemoveFiltersRequestValidator=g;var L=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"value",validators:[r.Validators.anyValueValidator]},{field:"operator",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.ConditionItemValidator=L;var M=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"operation",validators:[r.Validators.fieldRequiredValidator,r.Validators.filtersOperationsUpdateValidator]},{field:"filters",validators:[r.Validators.fieldRequiredValidator,r.Validators.filtersArrayValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.OnLoadFiltersBaseValidator=M;var T=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"operation",validators:[r.Validators.fieldRequiredValidator,r.Validators.filtersOperationsRemoveAllValidator]},{field:"filters",validators:[r.Validators.fieldForbiddenValidator,r.Validators.filtersArrayValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.OnLoadFiltersBaseRemoveOperationValidator=T;var O=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return S(A,N),A.prototype.validate=function(I,B,U){return null==I?null:N.prototype.validate.call(this,I,B,U)||new h.MultipleFieldsValidator([{field:"allPages",validators:[r.Validators.onLoadFiltersBaseValidator]},{field:"currentPage",validators:[r.Validators.onLoadFiltersBaseValidator]}]).validate(I,B,U)},A}(c.ObjectValidator);d.OnLoadFiltersValidator=O},function(o,d,v){var n,S=this&&this.__extends||(n=function(f,V){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,C){p.__proto__=C}||function(p,C){for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&(p[b]=C[b])})(f,V)},function(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function V(){this.constructor=m}n(m,f),m.prototype=null===f?Object.create(f):(V.prototype=f.prototype,new V)});Object.defineProperty(d,"__esModule",{value:!0}),d.PageLayoutValidator=d.DisplayStateValidator=d.VisualLayoutValidator=d.CustomLayoutValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||new h.MultipleFieldsValidator([{field:"pageSize",validators:[r.Validators.pageSizeValidator]},{field:"displayOption",validators:[r.Validators.customLayoutDisplayOptionValidator]},{field:"pagesLayout",validators:[r.Validators.pagesLayoutValidator]}]).validate(f,V,p)},m}(c.ObjectValidator);d.CustomLayoutValidator=s;var u=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||new h.MultipleFieldsValidator([{field:"x",validators:[r.Validators.numberValidator]},{field:"y",validators:[r.Validators.numberValidator]},{field:"z",validators:[r.Validators.numberValidator]},{field:"width",validators:[r.Validators.numberValidator]},{field:"height",validators:[r.Validators.numberValidator]},{field:"displayState",validators:[r.Validators.displayStateValidator]}]).validate(f,V,p)},m}(c.ObjectValidator);d.VisualLayoutValidator=u;var i=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||new h.MultipleFieldsValidator([{field:"mode",validators:[r.Validators.displayStateModeValidator]}]).validate(f,V,p)},m}(c.ObjectValidator);d.DisplayStateValidator=i;var a=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||new h.MultipleFieldsValidator([{field:"visualsLayout",validators:[r.Validators.fieldRequiredValidator,r.Validators.pageLayoutValidator]},{field:"defaultLayout",validators:[r.Validators.visualLayoutValidator]}]).validate(f,V,p)},m}(c.ObjectValidator);d.PageLayoutValidator=a},function(o,d,v){var n,S=this&&this.__extends||(n=function(f,V){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,C){p.__proto__=C}||function(p,C){for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&(p[b]=C[b])})(f,V)},function(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function V(){this.constructor=m}n(m,f),m.prototype=null===f?Object.create(f):(V.prototype=f.prototype,new V)});Object.defineProperty(d,"__esModule",{value:!0}),d.PageViewFieldValidator=d.PageValidator=d.CustomPageSizeValidator=d.PageSizeValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||new h.MultipleFieldsValidator([{field:"type",validators:[r.Validators.fieldRequiredValidator,r.Validators.pageSizeTypeValidator]}]).validate(f,V,p)},m}(c.ObjectValidator);d.PageSizeValidator=s;var u=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||new h.MultipleFieldsValidator([{field:"width",validators:[r.Validators.numberValidator]},{field:"height",validators:[r.Validators.numberValidator]}]).validate(f,V,p)},m}(s);d.CustomPageSizeValidator=u;var i=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(f,V,p)},m}(c.ObjectValidator);d.PageValidator=i;var a=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){return null==f?null:n.prototype.validate.call(this,f,V,p)||(["actualSize","fitToWidth","oneColumn"].indexOf(f)<0?[{message:'pageView must be a string with one of the following values: "actualSize", "fitToWidth", "oneColumn"'}]:null)},m}(c.StringValidator);d.PageViewFieldValidator=a},function(o,d,v){var C,S=this&&this.__extends||(C=function(y,D){return(C=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(P,F){P.__proto__=F}||function(P,F){for(var E in F)Object.prototype.hasOwnProperty.call(F,E)&&(P[E]=F[E])})(y,D)},function(b,y){if("function"!=typeof y&&null!==y)throw new TypeError("Class extends value "+String(y)+" is not a constructor or null");function D(){this.constructor=b}C(b,y),b.prototype=null===y?Object.create(y):(D.prototype=y.prototype,new D)});Object.defineProperty(d,"__esModule",{value:!0}),d.VisualizationsPaneValidator=d.SyncSlicersPaneValidator=d.SelectionPaneValidator=d.PageNavigationPaneValidator=d.FiltersPaneValidator=d.FieldsPaneValidator=d.BookmarksPaneValidator=d.QnaPanesValidator=d.ReportPanesValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"bookmarks",validators:[r.Validators.bookmarksPaneValidator]},{field:"fields",validators:[r.Validators.fieldsPaneValidator]},{field:"filters",validators:[r.Validators.filtersPaneValidator]},{field:"pageNavigation",validators:[r.Validators.pageNavigationPaneValidator]},{field:"selection",validators:[r.Validators.selectionPaneValidator]},{field:"syncSlicers",validators:[r.Validators.syncSlicersPaneValidator]},{field:"visualizations",validators:[r.Validators.visualizationsPaneValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.ReportPanesValidator=s;var u=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"filters",validators:[r.Validators.filtersPaneValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.QnaPanesValidator=u;var i=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.BookmarksPaneValidator=i;var a=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"expanded",validators:[r.Validators.booleanValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.FieldsPaneValidator=a;var n=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]},{field:"expanded",validators:[r.Validators.booleanValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.FiltersPaneValidator=n;var m=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]},{field:"position",validators:[r.Validators.pageNavigationPositionValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.PageNavigationPaneValidator=m;var f=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.SelectionPaneValidator=f;var V=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.SyncSlicersPaneValidator=V;var p=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return S(b,C),b.prototype.validate=function(y,D,P){return null==y?null:C.prototype.validate.call(this,y,D,P)||new h.MultipleFieldsValidator([{field:"expanded",validators:[r.Validators.booleanValidator]}]).validate(y,D,P)},b}(c.ObjectValidator);d.VisualizationsPaneValidator=p},function(o,d,v){var a,S=this&&this.__extends||(a=function(m,f){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,p){V.__proto__=p}||function(V,p){for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(V[C]=p[C])})(m,f)},function(n,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function f(){this.constructor=n}a(n,m),n.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)});Object.defineProperty(d,"__esModule",{value:!0}),d.QnaInterpretInputDataValidator=d.QnaSettingsValidator=d.LoadQnaValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"datasetIds",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringArrayValidator]},{field:"question",validators:[r.Validators.stringValidator]},{field:"viewMode",validators:[r.Validators.viewModeValidator]},{field:"settings",validators:[r.Validators.qnaSettingValidator]},{field:"tokenType",validators:[r.Validators.tokenTypeValidator]},{field:"groupId",validators:[r.Validators.stringValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.LoadQnaValidator=s;var u=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[r.Validators.booleanValidator]},{field:"hideErrors",validators:[r.Validators.booleanValidator]},{field:"panes",validators:[r.Validators.qnaPanesValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.QnaSettingsValidator=u;var i=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"datasetIds",validators:[r.Validators.stringArrayValidator]},{field:"question",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.QnaInterpretInputDataValidator=i},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.ReportCreateValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"datasetId",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"groupId",validators:[r.Validators.stringValidator]},{field:"tokenType",validators:[r.Validators.tokenTypeValidator]},{field:"theme",validators:[r.Validators.customThemeValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.ReportCreateValidator=s},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.ReportLoadValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"id",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"groupId",validators:[r.Validators.stringValidator]},{field:"settings",validators:[r.Validators.settingsValidator]},{field:"pageName",validators:[r.Validators.stringValidator]},{field:"filters",validators:[r.Validators.reportLoadFiltersValidator]},{field:"permissions",validators:[r.Validators.permissionsValidator]},{field:"viewMode",validators:[r.Validators.viewModeValidator]},{field:"tokenType",validators:[r.Validators.tokenTypeValidator]},{field:"bookmark",validators:[r.Validators.applyBookmarkValidator]},{field:"theme",validators:[r.Validators.customThemeValidator]},{field:"embedUrl",validators:[r.Validators.stringValidator]},{field:"datasetBinding",validators:[r.Validators.datasetBindingValidator]},{field:"contrastMode",validators:[r.Validators.contrastModeValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.ReportLoadValidator=s},function(o,d,v){var i,S=this&&this.__extends||(i=function(n,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,V){f.__proto__=V}||function(f,V){for(var p in V)Object.prototype.hasOwnProperty.call(V,p)&&(f[p]=V[p])})(n,m)},function(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function m(){this.constructor=a}i(a,n),a.prototype=null===n?Object.create(n):(m.prototype=n.prototype,new m)});Object.defineProperty(d,"__esModule",{value:!0}),d.ReportParameterFieldsValidator=d.PaginatedReportLoadValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return S(a,i),a.prototype.validate=function(n,m,f){return null==n?null:i.prototype.validate.call(this,n,m,f)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"id",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"groupId",validators:[r.Validators.stringValidator]},{field:"settings",validators:[r.Validators.paginatedReportsettingsValidator]},{field:"tokenType",validators:[r.Validators.tokenTypeValidator]},{field:"embedUrl",validators:[r.Validators.stringValidator]},{field:"type",validators:[r.Validators.stringValidator]},{field:"parameterValues",validators:[r.Validators.parameterValuesArrayValidator]},{field:"datasetBindings",validators:[r.Validators.paginatedReportDatasetBindingArrayValidator]}]).validate(n,m,f)},a}(c.ObjectValidator);d.PaginatedReportLoadValidator=s;var u=function(){function i(){}return i.prototype.validate=function(a,n,m){return null==a?null:new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"value",validators:[r.Validators.stringValidator]}]).validate(a,n,m)},i}();d.ReportParameterFieldsValidator=u},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.SaveAsParametersValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.SaveAsParametersValidator=s},function(o,d,v){var n,S=this&&this.__extends||(n=function(f,V){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,C){p.__proto__=C}||function(p,C){for(var b in C)Object.prototype.hasOwnProperty.call(C,b)&&(p[b]=C[b])})(f,V)},function(m,f){if("function"!=typeof f&&null!==f)throw new TypeError("Class extends value "+String(f)+" is not a constructor or null");function V(){this.constructor=m}n(m,f),m.prototype=null===f?Object.create(f):(V.prototype=f.prototype,new V)});Object.defineProperty(d,"__esModule",{value:!0}),d.SlicerTargetSelectorValidator=d.VisualTypeSelectorValidator=d.VisualSelectorValidator=void 0;var h=v(3),c=v(4),r=v(4),s=v(1),u=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){if(null==f)return null;var C=n.prototype.validate.call(this,f,V,p);if(C)return C;var b=[{field:"$schema",validators:[s.Validators.stringValidator,new r.SchemaValidator("http://powerbi.com/product/schema#visualSelector")]},{field:"visualName",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}];return new h.MultipleFieldsValidator(b).validate(f,V,p)},m}(c.ObjectValidator);d.VisualSelectorValidator=u;var i=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){if(null==f)return null;var C=n.prototype.validate.call(this,f,V,p);if(C)return C;var b=[{field:"$schema",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator,new r.SchemaValidator("http://powerbi.com/product/schema#visualTypeSelector")]},{field:"visualType",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator]}];return new h.MultipleFieldsValidator(b).validate(f,V,p)},m}(c.ObjectValidator);d.VisualTypeSelectorValidator=i;var a=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return S(m,n),m.prototype.validate=function(f,V,p){if(null==f)return null;var C=n.prototype.validate.call(this,f,V,p);if(C)return C;var b=[{field:"$schema",validators:[s.Validators.fieldRequiredValidator,s.Validators.stringValidator,new r.SchemaValidator("http://powerbi.com/product/schema#slicerTargetSelector")]},{field:"target",validators:[s.Validators.fieldRequiredValidator,s.Validators.slicerTargetValidator]}];return new h.MultipleFieldsValidator(b).validate(f,V,p)},m}(c.ObjectValidator);d.SlicerTargetSelectorValidator=a},function(o,d,v){var i,S=this&&this.__extends||(i=function(n,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,V){f.__proto__=V}||function(f,V){for(var p in V)Object.prototype.hasOwnProperty.call(V,p)&&(f[p]=V[p])})(n,m)},function(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function m(){this.constructor=a}i(a,n),a.prototype=null===n?Object.create(n):(m.prototype=n.prototype,new m)});Object.defineProperty(d,"__esModule",{value:!0}),d.PaginatedReportSettingsValidator=d.SettingsValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return S(a,i),a.prototype.validate=function(n,m,f){return null==n?null:i.prototype.validate.call(this,n,m,f)||new h.MultipleFieldsValidator([{field:"filterPaneEnabled",validators:[r.Validators.booleanValidator]},{field:"navContentPaneEnabled",validators:[r.Validators.booleanValidator]},{field:"bookmarksPaneEnabled",validators:[r.Validators.booleanValidator]},{field:"useCustomSaveAsDialog",validators:[r.Validators.booleanValidator]},{field:"extensions",validators:[r.Validators.extensionsValidator]},{field:"layoutType",validators:[r.Validators.layoutTypeValidator]},{field:"customLayout",validators:[r.Validators.customLayoutValidator]},{field:"background",validators:[r.Validators.backgroundValidator]},{field:"visualSettings",validators:[r.Validators.visualSettingsValidator]},{field:"hideErrors",validators:[r.Validators.booleanValidator]},{field:"commands",validators:[r.Validators.commandsSettingsArrayValidator]},{field:"hyperlinkClickBehavior",validators:[r.Validators.hyperlinkClickBehaviorValidator]},{field:"bars",validators:[r.Validators.reportBarsValidator]},{field:"panes",validators:[r.Validators.reportPanesValidator]},{field:"personalBookmarksEnabled",validators:[r.Validators.booleanValidator]},{field:"persistentFiltersEnabled",validators:[r.Validators.booleanValidator]},{field:"visualRenderedEvents",validators:[r.Validators.booleanValidator]},{field:"authoringHintsEnabled",validators:[r.Validators.booleanValidator]},{field:"printSettings",validators:[r.Validators.printSettingsValidator]}]).validate(n,m,f)},a}(c.ObjectValidator);d.SettingsValidator=s;var u=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return S(a,i),a.prototype.validate=function(n,m,f){return null==n?null:i.prototype.validate.call(this,n,m,f)||new h.MultipleFieldsValidator([{field:"commands",validators:[r.Validators.paginatedReportCommandsValidator]}]).validate(n,m,f)},a}(c.ObjectValidator);d.PaginatedReportSettingsValidator=u},function(o,d,v){var i,S=this&&this.__extends||(i=function(n,m){return(i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(f,V){f.__proto__=V}||function(f,V){for(var p in V)Object.prototype.hasOwnProperty.call(V,p)&&(f[p]=V[p])})(n,m)},function(a,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function m(){this.constructor=a}i(a,n),a.prototype=null===n?Object.create(n):(m.prototype=n.prototype,new m)});Object.defineProperty(d,"__esModule",{value:!0}),d.SlicerStateValidator=d.SlicerValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return S(a,i),a.prototype.validate=function(n,m,f){return null==n?null:i.prototype.validate.call(this,n,m,f)||new h.MultipleFieldsValidator([{field:"selector",validators:[r.Validators.fieldRequiredValidator,r.Validators.slicerSelectorValidator]},{field:"state",validators:[r.Validators.fieldRequiredValidator,r.Validators.slicerStateValidator]}]).validate(n,m,f)},a}(c.ObjectValidator);d.SlicerValidator=s;var u=function(i){function a(){return null!==i&&i.apply(this,arguments)||this}return S(a,i),a.prototype.validate=function(n,m,f){return null==n?null:i.prototype.validate.call(this,n,m,f)||new h.MultipleFieldsValidator([{field:"filters",validators:[r.Validators.filtersArrayValidator]}]).validate(n,m,f)},a}(c.ObjectValidator);d.SlicerStateValidator=u},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.TileLoadValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"id",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"dashboardId",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"groupId",validators:[r.Validators.stringValidator]},{field:"pageView",validators:[r.Validators.stringValidator]},{field:"tokenType",validators:[r.Validators.tokenTypeValidator]},{field:"width",validators:[r.Validators.numberValidator]},{field:"height",validators:[r.Validators.numberValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.TileLoadValidator=s},function(o,d,v){var a,S=this&&this.__extends||(a=function(m,f){return(a=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(V,p){V.__proto__=p}||function(V,p){for(var C in p)Object.prototype.hasOwnProperty.call(p,C)&&(V[C]=p[C])})(m,f)},function(n,m){if("function"!=typeof m&&null!==m)throw new TypeError("Class extends value "+String(m)+" is not a constructor or null");function f(){this.constructor=n}a(n,m),n.prototype=null===m?Object.create(m):(f.prototype=m.prototype,new f)});Object.defineProperty(d,"__esModule",{value:!0}),d.VisualHeaderValidator=d.VisualHeaderSettingsValidator=d.VisualSettingsValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"visualHeaders",validators:[r.Validators.visualHeadersValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.VisualSettingsValidator=s;var u=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"visible",validators:[r.Validators.booleanValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.VisualHeaderSettingsValidator=u;var i=function(a){function n(){return null!==a&&a.apply(this,arguments)||this}return S(n,a),n.prototype.validate=function(m,f,V){return null==m?null:a.prototype.validate.call(this,m,f,V)||new h.MultipleFieldsValidator([{field:"settings",validators:[r.Validators.fieldRequiredValidator,r.Validators.visualHeaderSettingsValidator]},{field:"selector",validators:[r.Validators.visualHeaderSelectorValidator]}]).validate(m,f,V)},n}(c.ObjectValidator);d.VisualHeaderValidator=i},function(o,d){Object.defineProperty(d,"__esModule",{value:!0}),d.AnyOfValidator=void 0;var v=function(){function S(h){this.validators=h}return S.prototype.validate=function(h,c,r){if(null==h)return null;for(var s=!1,u=0,i=this.validators;u<i.length;u++)if(!i[u].validate(h,c,r)){s=!0;break}return s?null:[{message:r+" property is invalid",path:(c?c+".":"")+r,keyword:"invalid"}]},S}();d.AnyOfValidator=v},function(o,d){Object.defineProperty(d,"__esModule",{value:!0}),d.FieldForbiddenValidator=void 0;var v=function(){function S(){}return S.prototype.validate=function(h,c,r){return void 0!==h?[{message:r+" is forbidden",path:(c?c+".":"")+r,keyword:"forbidden"}]:null},S}();d.FieldForbiddenValidator=v},function(o,d){Object.defineProperty(d,"__esModule",{value:!0}),d.FieldRequiredValidator=void 0;var v=function(){function S(){}return S.prototype.validate=function(h,c,r){return null==h?[{message:r+" is required",path:(c?c+".":"")+r,keyword:"required"}]:null},S}();d.FieldRequiredValidator=v},function(o,d,v){var r,S=this&&this.__extends||(r=function(u,i){return(r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,n){a.__proto__=n}||function(a,n){for(var m in n)Object.prototype.hasOwnProperty.call(n,m)&&(a[m]=n[m])})(u,i)},function(s,u){if("function"!=typeof u&&null!==u)throw new TypeError("Class extends value "+String(u)+" is not a constructor or null");function i(){this.constructor=s}r(s,u),s.prototype=null===u?Object.create(u):(i.prototype=u.prototype,new i)});Object.defineProperty(d,"__esModule",{value:!0}),d.MapValidator=void 0;var c=function(r){function s(u,i){var a=r.call(this)||this;return a.keyValidators=u,a.valueValidators=i,a}return S(s,r),s.prototype.validate=function(u,i,a){if(null==u)return null;var n=r.prototype.validate.call(this,u,i,a);if(n)return n;for(var m in u)if(u.hasOwnProperty(m)){for(var f=(i?i+".":"")+a+"."+m,V=0,p=this.keyValidators;V<p.length;V++)if(n=p[V].validate(m,f,a))return n;for(var b=0,y=this.valueValidators;b<y.length;b++)if(n=y[b].validate(u[m],f,a))return n}return null},s}(v(4).ObjectValidator);d.MapValidator=c},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.ParametersPanelValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"expanded",validators:[r.Validators.booleanValidator]},{field:"enabled",validators:[r.Validators.booleanValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.ParametersPanelValidator=s},function(o,d,v){var f,S=this&&this.__extends||(f=function(p,C){return(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(b,y){b.__proto__=y}||function(b,y){for(var D in y)Object.prototype.hasOwnProperty.call(y,D)&&(b[D]=y[D])})(p,C)},function(V,p){if("function"!=typeof p&&null!==p)throw new TypeError("Class extends value "+String(p)+" is not a constructor or null");function C(){this.constructor=V}f(V,p),V.prototype=null===p?Object.create(p):(C.prototype=p.prototype,new C)});Object.defineProperty(d,"__esModule",{value:!0}),d.TableDataValidator=d.TableSchemaValidator=d.ColumnSchemaValidator=d.CredentialsValidator=d.DatasourceConnectionConfigValidator=d.DatasetCreateConfigValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){if(null==p)return null;var y=f.prototype.validate.call(this,p,C,b);return y||((y=new h.MultipleFieldsValidator([{field:"locale",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"mashupDocument",validators:[r.Validators.stringValidator]},{field:"datasourceConnectionConfig",validators:[r.Validators.datasourceConnectionConfigValidator]},{field:"tableSchemaList",validators:[r.Validators.tableSchemaListValidator]},{field:"data",validators:[r.Validators.tableDataArrayValidator]}]).validate(p,C,b))?y:p.datasourceConnectionConfig&&null==p.mashupDocument?[{message:"mashupDocument cannot be empty when datasourceConnectionConfig is presented"}]:p.data&&null==p.tableSchemaList?[{message:"tableSchemaList cannot be empty when data is provided"}]:null==p.data&&null==p.mashupDocument?[{message:"At least one of data or mashupDocument must be provided"}]:void 0)},V}(c.ObjectValidator);d.DatasetCreateConfigValidator=s;var u=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"dataCacheMode",validators:[r.Validators.dataCacheModeValidator]},{field:"credentials",validators:[r.Validators.credentialsValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.DatasourceConnectionConfigValidator=u;var i=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"credentialType",validators:[r.Validators.credentialTypeValidator]},{field:"credentialDetails",validators:[r.Validators.credentialDetailsValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.CredentialsValidator=i;var a=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"displayName",validators:[r.Validators.stringValidator]},{field:"dataType",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.ColumnSchemaValidator=a;var n=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"columns",validators:[r.Validators.fieldRequiredValidator,r.Validators.columnSchemaArrayValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.TableSchemaValidator=n;var m=function(f){function V(){return null!==f&&f.apply(this,arguments)||this}return S(V,f),V.prototype.validate=function(p,C,b){return null==p?null:f.prototype.validate.call(this,p,C,b)||new h.MultipleFieldsValidator([{field:"name",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"rows",validators:[r.Validators.fieldRequiredValidator,r.Validators.rawDataValidator]}]).validate(p,C,b)},V}(c.ObjectValidator);d.TableDataValidator=m},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.QuickCreateValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"accessToken",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"groupId",validators:[r.Validators.stringValidator]},{field:"tokenType",validators:[r.Validators.tokenTypeValidator]},{field:"theme",validators:[r.Validators.customThemeValidator]},{field:"datasetCreateConfig",validators:[r.Validators.fieldRequiredValidator,r.Validators.datasetCreateConfigValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.QuickCreateValidator=s},function(o,d,v){var s,S=this&&this.__extends||(s=function(i,a){return(s=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,m){n.__proto__=m}||function(n,m){for(var f in m)Object.prototype.hasOwnProperty.call(m,f)&&(n[f]=m[f])})(i,a)},function(u,i){if("function"!=typeof i&&null!==i)throw new TypeError("Class extends value "+String(i)+" is not a constructor or null");function a(){this.constructor=u}s(u,i),u.prototype=null===i?Object.create(i):(a.prototype=i.prototype,new a)});Object.defineProperty(d,"__esModule",{value:!0}),d.PrintSettingsValidator=void 0;var h=v(3),c=v(4),r=function(s){function u(){return null!==s&&s.apply(this,arguments)||this}return S(u,s),u.prototype.validate=function(i,a,n){if(null==i)return null;var m=s.prototype.validate.call(this,i,a,n);if(m)return m;var f=[{field:"browserPrintAdjustmentsMode",validators:[new c.EnumValidator([0,1])]}];return new h.MultipleFieldsValidator(f).validate(i,a,n)},u}(c.ObjectValidator);d.PrintSettingsValidator=r},function(o,d,v){var u,S=this&&this.__extends||(u=function(a,n){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(m,f){m.__proto__=f}||function(m,f){for(var V in f)Object.prototype.hasOwnProperty.call(f,V)&&(m[V]=f[V])})(a,n)},function(i,a){if("function"!=typeof a&&null!==a)throw new TypeError("Class extends value "+String(a)+" is not a constructor or null");function n(){this.constructor=i}u(i,a),i.prototype=null===a?Object.create(a):(n.prototype=a.prototype,new n)});Object.defineProperty(d,"__esModule",{value:!0}),d.PaginatedReportDatasetBindingValidator=void 0;var h=v(3),c=v(4),r=v(1),s=function(u){function i(){return null!==u&&u.apply(this,arguments)||this}return S(i,u),i.prototype.validate=function(a,n,m){return null==a?null:u.prototype.validate.call(this,a,n,m)||new h.MultipleFieldsValidator([{field:"sourceDatasetId",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]},{field:"targetDatasetId",validators:[r.Validators.fieldRequiredValidator,r.Validators.stringValidator]}]).validate(a,n,m)},i}(c.ObjectValidator);d.PaginatedReportDatasetBindingValidator=s}],t={},function e(o){var d=t[o];if(void 0!==d)return d.exports;var v=t[o]={exports:{}};return H[o].call(v.exports,v,v.exports,e),v.exports}(0))},449986:function(Xe){Xe.exports=function(H){var t={};function e(l){if(t[l])return t[l].exports;var o=t[l]={exports:{},id:l,loaded:!1};return H[l].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}return e.m=H,e.c=t,e.p="",e(0)}([function(H,t,e){var l=e(1),o=function(){function v(S){this.handlers=S,this.getRouteRecognizer=new l,this.patchRouteRecognizer=new l,this.postRouteRecognizer=new l,this.putRouteRecognizer=new l,this.deleteRouteRecognizer=new l}return v.prototype.get=function(S,h){return this.registerHandler(this.getRouteRecognizer,"GET",S,h),this},v.prototype.patch=function(S,h){return this.registerHandler(this.patchRouteRecognizer,"PATCH",S,h),this},v.prototype.post=function(S,h){return this.registerHandler(this.postRouteRecognizer,"POST",S,h),this},v.prototype.put=function(S,h){return this.registerHandler(this.putRouteRecognizer,"PUT",S,h),this},v.prototype.delete=function(S,h){return this.registerHandler(this.deleteRouteRecognizer,"DELETE",S,h),this},v.prototype.registerHandler=function(S,h,c,r){S.add([{path:c,handler:function(a){var n=new d;return Promise.resolve(r(a,n)).then(function(m){return n})}}]),this.handlers.addHandler({test:function(a){if(a.method!==h)return!1;var n=S.recognize(a.url);if(void 0===n)return!1;var m=n[0];return a.params=m.params,a.queryParams=n.queryParams,a.handler=m.handler,!0},handle:function(a){return a.handler(a)}})},v}();t.Router=o;var d=function(){function v(){this.statusCode=200,this.headers={},this.body=null}return v.prototype.send=function(S,h){this.statusCode=S,this.body=h},v}();t.Response=d},function(H,t,e){var l;(function(o){(function(){function d(x,R,g){this.path=x,this.matcher=R,this.delegate=g}function v(x){this.routes={},this.children={},this.target=x}function S(x,R,g){return function(L,M){var T=x+L;if(!M)return new d(x+L,R,g);M(S(T,R,g))}}function h(x,R,g){for(var L=0,M=0;M<x.length;M++)L+=x[M].path.length;R=R.substr(L),x.push({path:R,handler:g})}function c(x,R,g,L){var M=R.routes;for(var T in M)if(M.hasOwnProperty(T)){var O=x.slice();h(O,T,M[T]),R.children[T]?c(O,R.children[T],g,L):g.call(L,O)}}d.prototype={to:function(R,g){var L=this.delegate;if(L&&L.willAddRoute&&(R=L.willAddRoute(this.matcher.target,R)),this.matcher.add(this.path,R),g){if(0===g.length)throw new Error("You must have an argument in the function passed to `to`");this.matcher.addChild(this.path,R,g,this.delegate)}return this}},v.prototype={add:function(R,g){this.routes[R]=g},addChild:function(R,g,L,M){var T=new v(g);this.children[R]=T;var O=S(R,T,M);M&&M.contextEntered&&M.contextEntered(g,O),L(O)}};var u=new RegExp("(\\"+["/",".","*","+","?","|","(",")","[","]","{","}","\\"].join("|\\")+")","g");function a(x){this.string=x}function n(x){this.name=x}function m(x){this.name=x}function f(){}function V(x,R,g){"/"===x.charAt(0)&&(x=x.substr(1));var L=x.split("/"),M=new Array(L.length);g.val="";for(var T=0;T<L.length;T++){var N,O=L[T];(N=O.match(/^:([^\/]+)$/))?(M[T]=new n(N[1]),R.push(N[1]),g.val+="3"):(N=O.match(/^\*([^\/]+)$/))?(M[T]=new m(N[1]),g.val+="1",R.push(N[1])):""===O?(M[T]=new f,g.val+="2"):(M[T]=new a(O),g.val+="4")}return g.val=+g.val,M}function p(x){this.charSpec=x,this.nextStates=[],this.charSpecs={},this.regex=void 0,this.handlers=void 0,this.specificity=void 0}function b(x,R){for(var g=[],L=0,M=x.length;L<M;L++)g=g.concat(x[L].match(R));return g}function D(x){this.queryParams=x||{}}function F(x){var R;x=x.replace(/\+/gm,"%20");try{R=decodeURIComponent(x)}catch(g){R=""}return R}a.prototype={eachChar:function(R){for(var L,g=this.string,M=0;M<g.length;M++)L=g.charAt(M),R=R.put({invalidChars:void 0,repeat:!1,validChars:L});return R},regex:function(){return this.string.replace(u,"\\$1")},generate:function(){return this.string}},n.prototype={eachChar:function(R){return R.put({invalidChars:"/",repeat:!0,validChars:void 0})},regex:function(){return"([^/]+)"},generate:function(R){return R[this.name]}},m.prototype={eachChar:function(R){return R.put({invalidChars:"",repeat:!0,validChars:void 0})},regex:function(){return"(.+)"},generate:function(R){return R[this.name]}},f.prototype={eachChar:function(R){return R},regex:function(){return""},generate:function(){return""}},p.prototype={get:function(R){if(this.charSpecs[R.validChars])return this.charSpecs[R.validChars];for(var g=this.nextStates,L=0;L<g.length;L++){var M=g[L],T=M.charSpec.validChars===R.validChars;if(T=T&&M.charSpec.invalidChars===R.invalidChars)return this.charSpecs[R.validChars]=M,M}},put:function(R){var g;return(g=this.get(R))||(g=new p(R),this.nextStates.push(g),R.repeat&&g.nextStates.push(g)),g},match:function(R){for(var L,M,T,g=this.nextStates,O=[],N=0;N<g.length;N++)void 0!==(T=(M=(L=g[N]).charSpec).validChars)?-1!==T.indexOf(R)&&O.push(L):void 0!==(T=M.invalidChars)&&-1===T.indexOf(R)&&O.push(L);return O}},D.prototype=(Object.create||function(x){function R(){}return R.prototype=x,new R})({splice:Array.prototype.splice,slice:Array.prototype.slice,push:Array.prototype.push,length:0,queryParams:null});var E=function(){this.rootState=new p,this.names={}};(E.prototype={add:function(R,g){for(var A,L=this.rootState,M="^",T={},O=new Array(R.length),N=[],I=!0,B=0;B<R.length;B++){var U=R[B],W=[],j=V(U.path,W,T);N=N.concat(j);for(var K=0;K<j.length;K++){var ee=j[K];ee instanceof f||(I=!1,L=L.put({invalidChars:void 0,repeat:!1,validChars:"/"}),M+="/",L=ee.eachChar(L),M+=ee.regex())}O[B]={handler:U.handler,names:W}}I&&(L=L.put({invalidChars:void 0,repeat:!1,validChars:"/"}),M+="/"),L.handlers=O,L.regex=new RegExp(M+"$"),L.specificity=T,(A=g&&g.as)&&(this.names[A]={segments:N,handlers:O})},handlersFor:function(R){var g=this.names[R];if(!g)throw new Error("There is no route named "+R);for(var L=new Array(g.handlers.length),M=0;M<g.handlers.length;M++)L[M]=g.handlers[M];return L},hasRoute:function(R){return!!this.names[R]},generate:function(R,g){var L=this.names[R],M="";if(!L)throw new Error("There is no route named "+R);for(var T=L.segments,O=0;O<T.length;O++){var N=T[O];N instanceof f||(M+="/",M+=N.generate(g))}return"/"!==M.charAt(0)&&(M="/"+M),g&&g.queryParams&&(M+=this.generateQueryString(g.queryParams,L.handlers)),M},generateQueryString:function(R,g){var L=[],M=[];for(var T in R)R.hasOwnProperty(T)&&M.push(T);M.sort();for(var O=0;O<M.length;O++){var N=R[T=M[O]];if(null!=N){var A=encodeURIComponent(T);if("[object Array]"===Object.prototype.toString.call(N))for(var I=0;I<N.length;I++){var B=T+"[]="+encodeURIComponent(N[I]);L.push(B)}else A+="="+encodeURIComponent(N),L.push(A)}}return 0===L.length?"":"?"+L.join("&")},parseQueryString:function(R){for(var g=R.split("&"),L={},M=0;M<g.length;M++){var I,T=g[M].split("="),O=F(T[0]),N=O.length,A=!1;1===T.length?I="true":(N>2&&"[]"===O.slice(N-2)&&(A=!0,L[O=O.slice(0,N-2)]||(L[O]=[])),I=T[1]?F(T[1]):""),A?L[O].push(I):L[O]=I}return L},recognize:function(R){var L,M,O,g=[this.rootState],N={},A=!1;if(-1!==(O=R.indexOf("?"))){var I=R.substr(O+1,R.length);R=R.substr(0,O),N=this.parseQueryString(I)}for("/"!==(R=decodeURI(R)).charAt(0)&&(R="/"+R),(L=R.length)>1&&"/"===R.charAt(L-1)&&(R=R.substr(0,L-1),A=!0),M=0;M<R.length&&(g=b(g,R.charAt(M))).length;M++);var B=[];for(M=0;M<g.length;M++)g[M].handlers&&B.push(g[M]);g=B.sort(function(R,g){return g.specificity.val-R.specificity.val});var U=B[0];if(U&&U.handlers)return A&&"(.+)$"===U.regex.source.slice(-5)&&(R+="/"),function(x,R,g){var L=x.handlers,T=R.match(x.regex),O=1,N=new D(g);N.length=L.length;for(var A=0;A<L.length;A++){for(var I=L[A],B=I.names,U={},W=0;W<B.length;W++)U[B[W]]=T[O++];N[A]={handler:I.handler,params:U,isDynamic:!!B.length}}return N}(U,R,N)}}).map=function(R,g){var L=new v;R(S("",L,this.delegate)),c([],L,function(M){g?g(this,M):this.add(M)},this)},E.VERSION="0.1.11";var w=E;e(3).amd?void 0!==(l=function(){return w}.call(t,e,t,o))&&(o.exports=l):void 0!==o&&o.exports?o.exports=w:void 0!==this&&(this.RouteRecognizer=w)}).call(this)}).call(t,e(2)(H))},function(H,t){H.exports=function(e){return e.webpackPolyfill||(e.deprecate=function(){},e.paths=[],e.children=[],e.webpackPolyfill=1),e}},function(H,t){H.exports=function(){throw new Error("define cannot be used indirect")}}])},388530:function(Xe){Xe.exports=function(H){var t={};function e(l){if(t[l])return t[l].exports;var o=t[l]={exports:{},id:l,loaded:!1};return H[l].call(o.exports,o,o.exports,e),o.loaded=!0,o.exports}return e.m=H,e.c=t,e.p="",e(0)}([function(H,t){var e=function(){function l(o){var d=this;void 0===o&&(o={processTrackingProperties:{addTrackingProperties:l.defaultAddTrackingProperties,getTrackingProperties:l.defaultGetTrackingProperties},isErrorMessage:l.defaultIsErrorMessage,receiveWindow:window,name:l.createRandomString()}),this.pendingRequestPromises={},this.addTrackingProperties=o.processTrackingProperties&&o.processTrackingProperties.addTrackingProperties||l.defaultAddTrackingProperties,this.getTrackingProperties=o.processTrackingProperties&&o.processTrackingProperties.getTrackingProperties||l.defaultGetTrackingProperties,this.isErrorMessage=o.isErrorMessage||l.defaultIsErrorMessage,this.receiveWindow=o.receiveWindow||window,this.name=o.name||l.createRandomString(),this.logMessages=o.logMessages||!1,this.eventSourceOverrideWindow=o.eventSourceOverrideWindow,this.suppressWarnings=o.suppressWarnings||!1,this.handlers=[],this.windowMessageHandler=function(v){return d.onMessageReceived(v)},this.start()}return l.defaultAddTrackingProperties=function(o,d){return o[l.messagePropertyName]=d,o},l.defaultGetTrackingProperties=function(o){return o[l.messagePropertyName]},l.defaultIsErrorMessage=function(o){return!!o.error},l.createDeferred=function(){var o={resolve:null,reject:null,promise:null},d=new Promise(function(v,S){o.resolve=v,o.reject=S});return o.promise=d,o},l.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},l.prototype.addHandler=function(o){this.handlers.push(o)},l.prototype.removeHandler=function(o){var d=this.handlers.indexOf(o);if(-1===d)throw new Error("You attempted to remove a handler but no matching handler was found.");this.handlers.splice(d,1)},l.prototype.start=function(){this.receiveWindow.addEventListener("message",this.windowMessageHandler)},l.prototype.stop=function(){this.receiveWindow.removeEventListener("message",this.windowMessageHandler)},l.prototype.postMessage=function(o,d){var v={id:l.createRandomString()};this.addTrackingProperties(d,v),o.postMessage(d,"*");var S=l.createDeferred();return this.pendingRequestPromises[v.id]=S,S.promise},l.prototype.sendResponse=function(o,d,v){this.addTrackingProperties(d,v),o.postMessage(d,"*")},l.prototype.onMessageReceived=function(o){var d=this,v=this.eventSourceOverrideWindow||o.source;if(v){var h,c,S=o.data;if("object"!=typeof S)return;try{h=this.getTrackingProperties(S)}catch(u){}if(h&&(c=this.pendingRequestPromises[h.id]),c){var s=!0;try{s=this.isErrorMessage(S)}catch(u){}s?c.reject(S):c.resolve(S),delete this.pendingRequestPromises[h.id]}else this.handlers.some(function(u){var i=!1;try{i=u.test(S)}catch(n){}if(i){var a=void 0;try{a=Promise.resolve(u.handle(S))}catch(n){a=Promise.resolve()}return a.then(function(n){n||(n={warning:"Handler for message: "+JSON.stringify(S,null,"  ")+" did not return a response message. The default response message will be returned instead."}),d.sendResponse(v,n,h)}),!0}})}},l.messagePropertyName="windowPostMessageProxy",l}();t.WindowPostMessageProxy=e}])},543056:function(Xe,H,t){t.d(H,{G:function(){return e}});var e=function(){return function(){this.eimInformationProtectionEditEnabled=null,this.eimInformationProtectionMandatoryLabelSettingEnabled=null,this.cesTeamsGiveUsFeedbackButton=null,this.azureMapEnabled=null,this.adminCustomDisclaimerEnabled=null,this.bingMapEnabled=null,this.datamartTenantEnabled=null,this.deprovisionScdInstanceEnabled=null,this.externalDatasetSharingTenantEnabled=null,this.allowCVToExportDataToFileTenantEnabled=null,this.allowCVLocalStorageTenantEnabled=null,this.allowCVWebAccessTenantEnabled=null,this.allowCVAuthenticationTenantEnabled=null,this.allowCVLocalStorageV2TenantEnabled=null,this.liveChatWithSalesEnabled=null,this.enableDatasetInPlaceSharingEnabled=null,this.enableAOAIEnabled=null,this.EnableOpenAIAdminControl=null,this.allowCVLocalStorageV2TenantSwitch=null,this.microsoftOrgAppEnabled=null,this.withinDXT=null,this.liveWorkbookTiles=null,this.csvContentProviderEnabled=null,this.vsoVnextAppEnabled=null,this.excelWorkbooksInContentPackEnabled=null,this.ffxlChartSelectionEnabled=null,this.ffxlLocalFilesEnabled=null,this.sharePointDocumentLibrariesEnabled=null,this.sparkAppEnabled=null,this.psaPracticeManagerAppEnabled=null,this.anonymousEmbeddingEnabled=null,this.psaResourceManagerAppEnabled=null,this.psaAccountManagerAppEnabled=null,this.azureUsageAndBillingAppEnabled=null,this.bingAdsAppEnabled=null,this.salesforcePersonasEnabled=null,this.fullFidelityExcelEnabled=!0,this.disableAnimation=null,this.pseudoLocEnabled=null,this.includeFlightingContentProviders=null,this.exportallowed=null,this.ignoreGettingStartedPopups=null,this.insightsDevModeEnabled=null,this.snapshotEmbedEnabled=null,this.closeAccountEnabled=null,this.dataDotChartEnabled=null,this.enterpriseGatewayEnabled=null,this.enterpriseGatewayETLEnabled=null,this.quotaSmallLimitEnabled=null,this.forceFreeUserEnabled=null,this.salesforceAndOneDriveCredentialsEnabled=null,this.scriptVisualEnabled=null,this.embedFullFidelityWorkbooks=null,this.readOnlyGroupEnabled=null,this.sandboxVisualsEnabled=!0,this.pauseQueriesEnabled=null,this.sunburstVisualEnabled=null,this.cloudRlsImpersonationEnabled=null,this.cloudRlsRoleMembershipEnabled=null,this.filledMapDataLabelsEnabled=null,this.enableTableToTableRelationship=null,this.isLabelInteractivityEnabled=null,this.hierarchyAuthoringEnabled=null,this.importPbiviz=null,this.analyzeInExcelEnabled=null,this.dataClassificationEnabled=null,this.scriptVisualAuthoringEnabled=null,this.hierarchyDragDrop=null,this.mapCurrentLocationEnabled=null,this.devToolsVisualApiVersioning=null,this.insightsStoreEnabled=null,this.saasMarketplace=null,this.permissionCenterEnabled=null,this.oneGBUploadFileSizeEnabled=null,this.templatePublishFlightingWorkAroundEnabled=null,this.enableGroupAuthoring=null,this.exportVisualToExcelEnabled=null,this.showGeneratedColumnsInDetailView=null,this.alwaysPromptForContentProviderCreds=null,this.serviceAppsDisabled=null,this.builtInContentProvidersDisabled=null,this.shapeMapVisualEnabled=null,this.exportReportToPowerPointEnabled=null,this.adminAuditingEnabled=null,this.dynamicMessageEnabled=null,this.preloadLinkedDashboardEnabled=null,this.scriptVisualLaunchExternalIDEEnabled=null,this.esriEnabled=null,this.sharePointEmbedEnabled=null,this.emailSubscriptionEnabled=!0,this.downloadReportEnabled=null,this.socialSharingEnabled=!0,this.isSovereignCloud=null,this.scriptVisualAnonymousEmbeddingEnabled=null,this.analyzeInExcelSovereignFormatEnabled=null,this.appTemplatesEnabled=null,this.directQueryScheduledRefresh=null,this.previewDefaultOptIn=null,this.serviceAppsEnabled=null,this.templateAppUpgradeEnabled=null,this.useBackendFSEnabled=null,this.granularTenantControls=null,this.adminCapacityEnabled=null,this.numericSlicerEnabled=null,this.clientUsageMetricsEnabled=null,this.pivotTableVisualEnabled=null,this.multipleODataPredicates=null,this.datasetDownloadPbix=null,this.dashboardEmailSubscription=null,this.approvedResourcesDisabled=null,this.groupCapacity=null,this.reportMeasures=null,this.customVisuals=null,this.showHiddenUsageMetricsModels=null,this.appStoreCdnOverride=null,this.lineMarkersEnabled=null,this.onPremDirectQuerySingleSignOnForSql=null,this.onPremDirectQuerySingleSignOnForOracle=null,this.onPremDirectQuerySingleSignOnForSAP=null,this.onPremDirectQuerySingleSignOnForTeradata=null,this.lineStylesEnabled=null,this.cellLevelFormatting=null,this.canvasItemsPane=null,this.instantEmail=null,this.usageMetricsUpgrade=null,this.authoringCapabilitiesAdminControl=null,this.customVisualsPerformanceTelemetry=null,this.customCommands=null,this.scatterWithDataVolume=null,this.loadBaseTheme=null,this.baseTheme=null,this.reportSharingUI=null,this.scatterXYGrouping=null,this.slowDataSourceModeEnabled=null,this.zOrder=null,this.dsrV2=null,this.drillFilterOtherVisuals=null,this.mapPointSampling=null,this.themeRelative=null,this.CDSA=null,this.useBatchGeocoding=null,this.stickyUserStateUI=null,this.stickyUserStateUIThrottling=null,this.defaultSortMethodology=null,this.showIncrementalRefreshPolicy=null,this.cdsaFrontend=null,this.createAppWorkspaceSettingMigration=null,this.subscribeOthersUI=null,this.dashboardThemesUI=null,this.filtersInDataView=null,this.cdsaExternalStorageReferenceUI=null,this.notifyLegacyExternalUsers=null,this.insightApps=null,this.paginatedReports=null,this.annotationsUI=null,this.urlBookmarksUI=null,this.donutImprovements=null,this.dataClassification=null,this.editWorkspaceShowsRegion=null,this.comparisonODataPredicates=null,this.stickyUserStateCustomViz=null,this.multiGeoGatewaysCredentialsWarning=null,this.gatewayBasicLoadBalancing=null,this.showManageAggregations=null,this.dataViewTargeted=null,this.dateODataType=null,this.nonAsciiODataNames=null,this.inODataPredicates=null,this.bookmarkGrouping=null,this.outspaceBackground=null,this.personalBookmarksUI=null,this.spoWithTutorialVisuals=null,this.securePublishToWeb=null,this.redlineAlignment=null,this.capacityWorkloads=null,this.rdlReportSharingUI=null,this.lessIntrusiveNpsDialog=null,this.cartesianConditionalFormatting=null,this.openExploreErrorDetails=null,this.onPremDirectQuerySingleSignOnForSapBw=null,this.cdsaUseMashupEditorClientLibrary=null,this.capacitySettingsTabs=null,this.copyBetweenPbix=null,this.datasetPropertiesSection=null,this.certifyDatasetsSetting=null,this.allowExploreDatasetOfApp=null,this.exportExcelExcludeMeasures=null,this.exportDataMode=null,this.capacityRestartButton=null,this.cdsaExperimentalConnectors=null,this.optimizePublishToWeb=null,this.sharedDatasetDiscovery=null,this.reportAnnotationsUI=null,this.autoShareAnnotatedArtifact=null,this.onPremDirectQuerySingleSignOnForSapBwMessageServer=null,this.scheduledSubscriptionUI=null,this.userStateBookmarkImprovements=null,this.cdsaCDMFolderReferenceUI=null,this.elevatedGuests=null,this.cdsaFolderStorageAccountUI=null,this.rdlReportJsonRplRenderer=null,this.localizationModern=null,this.workloadMetrics=null,this.removeAuthoringToolSaveButton=null,this.dashboardB2BSharingWithRegularHost=null,this.PbiDedicatedPublicXmlaEndpoint=null,this.keyDrivers=null,this.cdsaDatasetCopyUI=null,this.rolloutCapacitiesList=null,this.visualTabOrders=null,this.helpAndSupportSettings=null,this.servicePrincipalTenantAdminSettings=null,this.exportReportToPdfEnabled=null,this.newLookUI=null,this.httpServiceModern=null,this.cdsaExistingDatasetCopyUI=null,this.defaultTooltipFormatting=null,this.axisInteractivity=null,this.showDataflowsInGetData=null,this.cdsaFastCombineDefaultOffFrontend=null,this.workspacesV2GA=null,this.workspacesV2GAFeatures=null,this.cdsaStorageAccountDetachUI=null,this.dataSourceVariablesOverride=null,this.capacityBanner=null,this.workspaceCapacityManagement=null,this.userFavoriteResourcePackagesEnabled=null,this.performancePane=null,this.unreadAnnotationsBadge=null,this.paginatedReportsSubscriptions=null,this.cdsaStorageUpdateMissingParamsUI=null,this.scheduledRefreshCCNotifications=null,this.sharedDataflowDiscoveryUI=null,this.lineChartLabelPosition=null,this.visualsOutsideNgZone=null,this.workspacesV2ViewerRole=null,this.exprBoundColorValidation=null,this.gatewayMultipleCredentials=null,this.gatewayMultipleCredentialsRDLReports=null,this.gatewayMultipleCredentialsDatapools=null,this.paneColorRefresh=null,this.dataSourceVariablesOverrideShared=null,this.playAxisDataColors=null,this.disableExportDataOnVisualError=null,this.stagingRdlInApps=null,this.rdlReportInGlobalSearch=null,this.useNewCY19SU06BaseTheme=null,this.paginatedReportsSqlAzureSSO=null,this.appRepublishErrorHandlingUpdate=null,this.pbiMarketplace=null,this.tablixIcons=null,this.decompositionTree=null,this.tileEmbedHostEnvChange=null,this.dataBoundPropertiesUseThemeDefaults=null,this.contactsSettingsList=null,this.drillthroughText=null,this.keyDriversDetails=null,this.propertyEvaluationWarnings=null,this.qnaVisual=null,this.workspacesV2OptInUpgrade=null,this.workspacesV2OptInUpgradeButton=null,this.workspacesV2Downgrade=null,this.aiCapacityMetrics=null,this.eimInformationProtectionUI=null,this.homeThumbnailUI=null,this.importJsonModel=null,this.allowCDNUrl=null,this.themeTextStyles=null,this.exprBoundAltText=null,this.disableServicePrincipalNotification=null,this.personalVisualizationPaneEnabled=null,this.newExportDataUI=null,this.newUsageMetrics=null,this.rdlGenerateLinkUI=null,this.queryApplicationContext=null,this.snapshotGenerateUI=null,this.lazyLoadAngularJS=null,this.exprBoundActions=null,this.additionalKPISettings=null,this.externalSharingInvitationHostDeprecation=null,this.invitationHostDeprecation=null,this.visualMultiColumnFilterMetadata=null,this.deprecateArchivedContent=null,this.InsightsContinuationTokens=null,this.insightsContinuationTokensUX=null,this.conditionalTablixWebURL=null,this.addHostEnvHeader=null,this.kerberosDqRefresh=null,this.directToMwc=null,this.rdlBootstrapNotInDashboardService=null,this.themeDialog=null,this.subscriptionUpdatePreventionOnAnonymizedUsers=null,this.manageMarketplaceVisuals=null,this.refreshCenterHistory=null,this.refreshCenterTimetable=null,this.forceCapacityFolderAlmPipeline=null,this.adlsBasedModelTakeover=null,this.canvasZoom=null,this.pbiRSKey=null,this.umv2Upgrade=null,this.reorderAdminPortalNav=null,this.newAdminUsageMetrics=null,this.scopedAggregates=null,this.exportForPBIE=null,this.decompTreeBarsPerLevel=null,this.tableMultiSort=null,this.navAndDrillthroughActionTypes=null,this.allowSubscribingOnlyExternalUsers=null,this.modernPackageRefreshListener=null,this.emailSubscriptionV2=null,this.instantEmailSubscriptionV2=null,this.decompTreeTooltipMeasure=null,this.reusableFluentList=null,this.visualContainerLassoSelect=null,this.fluentAppListView=null,this.webNavigationMigration=null,this.saasReportIsAngular=null,this.saasReportIsAngularToThisPoint=null,this.allowGatewayForRDLWithCloudDS=null,this.decompositionTreeCoreVisual=null,this.visualInsights=null,this.useModernVisualTooltipManager=null,this.totalsConditionalFormatting=null,this.homeGettingStartedP2WSample=null,this.homeGettingStartedP2WSampleForceShow=null,this.homeGettingStartedPbixSample=null,this.updatedGetDataSamples=null,this.hideWorkspacesWidget=null,this.filteredFavoriteFrequent=null,this.discussInTeams=null,this.drillthroughButtonGA=null,this.decompositionTreeCrossHighlight=null,this.deleteSharedDatasetUi=null,this.rebindReportUi=null,this.decompositionTreeResponsiveLayout=null,this.externalTools=null,this.decompositionTreeConditionalFormat=null,this.exportReportWithExecuteScriptAsync=null,this.byoResourcesUI=null,this.byoResourcesStorageAccountUI=null,this.byoResourcesLogAnalyticsUI=null,this.discussInTeamsForDashboard=null,this.fluentTopLevelList=null,this.selfServicePurchase=null,this.fileExportPolling=null,this.openArtifactsInNewTab=null,this.d3v5=null,this.showDisableCommentingTenantSwitch=null,this.azureMapVisual=null,this.azureMapPreviewEnabled=null,this.singlePageExports=null,this.ShowQnaSettingForAllModels=null,this.qnaSupportCommitQuestionOnDemandForAll=null,this.spanishLinguisticsEnabled=null,this.qnaExportLanguageModelPackage=null,this.anomalyDetection=null,this.kustoSSO=null,this.cdpaSSO=null,this.templateAppsSimplifiedAuth=null,this.showThemeLoadError=null,this.dataPointLassoSelect=null,this.interactivityServiceOptimization=null,this.gatewayVNets=null,this.eimInformationProtectionUsageRightsUI=null,this.eimInformationProtectionMandatoryLabelUI=null,this.allowPrivateLinksSecurityGroups=null,this.QnaInterpretVersion=null,this.reportPagePanePositionSetting=null,this.expFlightingTenantSetting=null,this.blankCanvasWatermark=null,this.decompositionAnalysisInsights=null,this.ppuTenantSettings=null,this.sendLocalDatesForSubscription=null,this.postNgMigrationCleanup=null,this.axisZoom=null,this.capacityGen2Create=null,this.capacityGen2Toggle=null,this.capacityGen2Notifications=null,this.autoScaleEmailNotifications=null,this.WorkspaceV1AdminUpgrade=null,this.proTrialToPPUTrialRollout=null,this.serializeSpaceOptimization=null,this.workspaceV1AdminUpgradeAll=null,this.databricksSSO=null,this.commonDataServiceSSO=null,this.capacityGen2UsageMetricsLink=null,this.disablePPUConfirmationDialog=null,this.allowSubscribeOthersWithRLS=null,this.premiumPerUserGA=null,this.qnaThumbsUpDown=null,this.cartesianMultiples=null,this.cartesianMultiplesAuthoring=null,this.lazyLoadAccessRecords=null,this.subscriptionOptionalPreviewImage=null,this.consolidateGroupDeleteState=null,this.analyticsRibbon=null,this.sharepointListLicensing=null,this.visualizeListInPowerBIUI=null,this.powerBIGoals=null,this.fluentListMigration=null,this.scorecardVisual=null,this.enhancedTooltips=null,this.MRUOptimizationFE=null,this.capacityAzureGen2Preview=null,this.cartesianMultiplesGridFormatting=null,this.newEmbedOnLoadFiltersFlow=null,this.teamsAnalyticsUI=null,this.automatedInsights=null,this.automatedInsightsBackgroundRefresh=null,this.sharedWithMeOptimizationFE=null,this.azureMapSelectionControl=null,this.promoteTeamsBanner=null,this.smallMultiplesSubheaderFormatting=null,this.lineChartVerticalReferenceLine=null,this.enterDataFooter=null,this.quickCreateDataset=null,this.quickCreateBlankReport=null,this.capacityGen2PaygUI=null,this.autoAssignTrial=null,this.cartesianMultiplesGridPadding=null,this.cancelTrial=null,this.comboMultiples=null,this.accessibilityTopLevelNav=null,this.deprecateOldVisuals=null,this.hiddenContent=null,this.streamingDataflowQueryTest=null,this.useModernFormatPane=null,this.formatPaneGroups=null,this.teamsHomePivot=null,this.topLevelListsAreAngular=null,this.shapeVisual=null,this.showLiftChart=null,this.showAllGateways=null,this.daxTransformEnabled=null,this.expressionBasedFormatting=null,this.areaChartTransparency=null,this.totalDataBars=null,this.cesNewUserDayZeroIntent=null,this.cesCustomerVoiceTest=null,this.smallMultiplesConditionalFormatting=null,this.smallMultiplesResponsive=null,this.enableSelectAllForDynamicQueryParameter=null,this.WorkplaceAnalyticsSSO=null,this.cartesianMultiplesAccessibility=null,this.powerAutomateNativeVisual=null,this.capacityRegionalSpec=null,this.smallMultiplesSortByMeasure=null,this.teamsMobileFormatting=null,this.dataverseIntegrationUI=null,this.modernCodePaneContainer=null,this.shapeFormattingFeatures=null,this.xAxisRefLineImprovements=null,this.servicePrincipalProfiles=null,this.m365DataSharingSetting=null,this.generateQesTokenPaas=null,this.SPLRegenerateModel=null,this.byolaSGWorkspacePermissionSwitch=null,this.buttonTileFormatting=null,this.lineChartSeriesLabels=null,this.waterfallTotals=null,this.visualTitleContainerPadding=null,this.capacityAzureGen2GA=null,this.learnPageSamples=null,this.capacityBannerGen2=null,this.gatewaysAdminCenterLink=null,this.azureMapHeatmapLayer=null,this.sparklines=null,this.accessibilitySlicerNav=null,this.modernGroupingDialog=null,this.donutChartStartAngle=null,this.pieChartMarginBetweenSlices=null,this.textboxSuperSubScriptBulletedList=null,this.navigatorVisuals=null,this.sortLegend=null,this.enableBIU=null,this.adminPortalSurvey=null,this.eimInformationProtectionMandatoryLabelOnUploadRdlUI=null,this.EimInformationProtectionMandatoryLabelNewPaginatedReport=null,this.displayAdminInsights=null,this.adminInsightsOnTrident=null,this.NlToDax=null,this.EnableNLToDax=null,this.AllowSendNLToDaxDataToOtherRegions=null,this.showAllowPowerBIASDQOnTenant=null,this.useModernDatePickerSlicer=null,this.substrateDeprovisioningSetting=null,this.useCvSandboxHtmlPack=null,this.almDatamarts=null,this.allowDataMartModelAuthoringRLS=null,this.upgradeOutlineProperties=null,this.tridentCapacityUsageReport=null,this.comboChartNoColumnsLegend=null,this.outlineDropdownToCheckboxes=null,this.slicerAccessibility=null,this.lineChartError=null,this.fillPointStyle=null,this.cvAggregateUpdateMessages=null,this.showDefaultTooltip=null,this.azureMapsGeocoding=null,this.newVisualLegendPositions=null,this.columnChartError=null,this.splitSubTotals=null,this.splitGrandTotals=null,this.logAxisScale=null,this.switchAxisPosition=null,this.removeDefaultToCircleToggle=null,this.bookmarkNavigatorSeparate=null,this.ProvideStaticOAuthOption=null,this.quickCreateSave=null,this.comboChartError=null,this.newWorkspaceTableCapacityPane=null,this.formattingPaneEnhancement=null,this.showEmbedPaasFreeTrialNotification=null,this.keyboardShortcutsLassoSelect=null,this.kustoExtension=null,this.datasetWritePermissions=null,this.MyFolderAdminAccess=null,this.MyFolderPreferredCapacity=null,this.remainingCartesianCategoryLogAxisScale=null,this.errorBarsGA=null,this.goalsDetailsUpdatedPeriodicity=null,this.visualFormattingTelemetry=null,this.myFolderPPU=null,this.slicerSliderColors=null,this.spinButtonControl=null,this.formattingPaneStoreUpdate=null,this.MyFolderConvertToAppFolder=null,this.azureMapsFilledMap=null,this.copyPasteMenuMetadata=null,this.copyPasteMenuImage=null,this.modernClipboard=null,this.interpretRequestGroupIdEnabled=null,this.subscriptionsWithFilters=null,this.categoricalSecondaryCF=null,this.a11yComplianceItaly=null,this.smallMultiplesUnsharedAxes=null,this.trackActivityLifecycle=null,this.visualSharingEntryPoint=null,this.visualSharingEntryPointFromApp=null,this.visualSharingEntryPointOptions=null,this.azureMapsShowLabels=null,this.azureMapsCategoryLabels=null,this.qnaToolingPhrasingEditor=null,this.flexibleDimensionsMenus=null,this.updateFormattingPaneObjects=null,this.moveSlicerTypeSelection=null,this.tealTheme=null,this.useCvSandboxDynamicHtml=null,this.sjdOptimizationRetryPolicy=null,this.useAppArtifactId=null,this.azureMapsProgressiveLoading=null,this.baseThemeUpdate=null,this.validateReportTheme=null,this.vcPadding=null,this.navigatorTogglePage=null,this.azureMapsUseMapControlV3=null,this.tridentCapacitySettings=null,this.tridentCapacityWorkspaceSettings=null,this.showCapacityUnits=null,this.showCapacityUnitsForEMSku=null,this.tablixImageWidth=null,this.azureMapsConversion=null,this.showSCCGateway=null,this.certifiedVisualTelemetry=null,this.ASShareableCloudConnectionIntegration=null,this.SharableCloudDatasources=null,this.officeAddInApp=null,this.hideAzureMapVisual=null,this.a11yMatrix=null,this.showAdminSupportCenter=null,this.supportCenterUseGeneratedURL=null,this.skipJqueryCssDimensionHook=null,this.dataBarsUpdate=null,this.workspaceRecovery=null,this.AdminHardDeleteFolder=null,this.azureMapsDataResidency=null,this.capacityMetricsUpdateBanner=null,this.notebookCustomWidgets=null,this.notebookRichDisplay=null,this.notebookAutomaticRoute=null,this.notebookAznbWarmUp=null,this.azureMapsScreenshot=null,this.pbiExcelAddInDialogControlsInAnaheim=null,this.internalFormattingState=null,this.cardReferenceLabels=null,this.legacyLazyScoped=null,this.azureMapsLatLongPieCharts=null,this.notebookUseCapacityOfWorkspace=null,this.geocoderIndexedDB=null,this.cardVisualRefUpdate=null,this.supportHierarchyView=null,this.disableOnObjectPanesCustomizationDialog=null,this.a11yShowAsMatrix=null,this.shareDatamart=null,this.openWithOnDatamartType=null,this.a11yTable=null,this.newResizeSensor=null,this.queryContext=null,this.fieldParameters=null,this.fieldParametersAuthoring=null,this.capacityMetricsGen2App=null,this.coalesceCD=null,this.exp_coalesceCD=null,this.disableScheduledRefreshForCapacityMetricsGen2=null,this.autoInstallPowerBIAppInTeamsClient=null,this.autoInstallPowerBIAppInTeamsActivesClient=null,this.storytellingSingleVisualTutorial=null,this.storytellingEasyShareEnabled=null,this.teamsPersonalAppSideNav=null,this.bingMapTenantSetting=null,this.workbookModern=null,this.teamsPersonalAppTopBar=null,this.angularOnlyPermissionCenter=null,this.leadsCollection=null,this.eimInformationProtectionSupportForTridentUI=null,this.eimInformationProtectionFlyoutTrident=null,this.tridentArtifactsEndorsement=null,this.ArtifactStorageTriggerUI=null,this.tridentGit=null,this.tridentGitCheckoutBranch=null,this.tridentGitStatusAPI=null,this.tridentGitOnShared=null,this.tridentGitSwitchBranch=null,this.tridentGitConflictResolution=null,this.tridentGitRdlSupport=null,this.tridentGitSwitchesDelegation=null,this.interactiveOperationUI=null,this.passReportIdToOnloadBookmark=null,this.standaloneUseDashboardNew=null,this.disableBatchTilesDataUpdates=null,this.showWorkspaceUpgradeEmailTenantSetting=null,this.showWorkspaceUpgradeEmptyTenantSetting=null,this.automaticAggregationsUIGAFeatures=null,this.removeScaleDetector=null,this.noEmptyUpdateEmbed=null,this.noEmptyUpdate=null,this.browse=null,this.browseMenu=null,this.newZoomControl=null,this.BlockWorkspaceV1Creation=null,this.enableGen2DataflowsForSharedWorkspaces=null,this.enableGen2DataflowsDraft=null,this.enablePublishGen2DataflowWithParams=null,this.enableHostPublishErrorMessagesForGen2Dataflows=null,this.logDataflowGen2MenuItemInformation=null,this.enableQueryOutputDestinations=null,this.enableCopilotInGen2Dataflows=null,this.enableCancelRefreshForGen2Dataflows=null,this.enableDropdownSlicerPopupOnScroll=null,this.mobileNewDashboardAuthoring=null,this.mobileNewDashboardConsumption=null,this.visualCoreInitialCheck=null,this.singleGoalVisual=null,this.rlsEditor=null,this.isDownloadFilesInOfficeEnabled=null,this.isDownloadFilesInOutlookEnabled=null,this.spatialAnchorsAdminUI=null,this.quickExploreMultiTable=null,this.utcDates=null,this.isViewFullScreenInOfficeEnabled=null,this.isViewFullScreenInOutlookEnabled=null,this.isMetaOSStandardClientReportingEvent=null,this.aasMigration=null,this.tooltipsToOverlay=null,this.oneDriveSave=null,this.oneDriveShare=null,this.oneDriveSharePointAllowSharingTenantSetting=null,this.oneDriveViewerShare=null,this.oneDriveViewerWaveOne=null,this.oneDriveViewerWaveTwo=null,this.oneDriveViewerAutoTrial=null,this.oneDriveSharePointViewerLiveConnectSupport=null,this.displayKustoAdminSettings=null,this.adminGroupApiDatamart=null,this.reportEmbedShowKeyboardHint=null,this.aasReportRebind=null,this.defaultAggrDisplayName=null,this.datamartRefreshHistory=null,this.allowCustomVisualsOnReportEmbedExport=null,this.allowCustomVisualsOnDashboardModernExport=null,this.allowCustomVisualsForCopyPasteVisual=null,this.modernGetData=null,this.ASShareableCloudConnectionBindingSecurityMode=null,this.quickCreateNewImport=null,this.paneSwitcherCustomization=null,this.alwaysShowPaneSwitcher=null,this.fabricArtifactsInCreate=null,this.reportAuthoringCopilot=null,this.customCalendars=null,this.rlsSwitchReportEnabled=null,this.disambiguationPreferences=null,this.formattingRibbon=null,this.workspaceTemplateAndDiagram=null,this.useBlobForEncryptedExploration=null,this.triCardLandingPage=null,this.OneLakeUXS3Cache=null,this.newManageRelationshipDialog=null,this.buttonSlicer=null,this.buttonSlicerAuthoring=null,this.modernGetDataM0=null,this.ODSPRefreshEnforcementUI=null,this.pivotTableOnMobileShowAsTable=null,this.azureMapsBubbleSizeRevamp=null,this.ASVirtualConnectionDirectlakeDataset=null,this.ASFixedIdentityForDirectLakeDataset=null,this.allowDirectLakeDataValidation=null,this.azureMapsMultiDataFormats=null,this.azureMapsMultiDataFormatsKeepIconURLs=null,this.showWorkspaceSettingsV2=null,this.clearComponentOnDestroy=null,this.adminPortalDataPolicies=null,this.adminPortalHamburgerMenu=null,this.adminPortalUMBanner=null,this.drillStateToggleable=null,this.oneLakeWorkspaceSettings=null,this.azureMapsBubbleCluster=null,this.quickCreateAPIForEnterData=null,this.datasetSummaryCopilot=null,this.almNewUi=null,this.workspaceSettingsV3=null,this.bypassTridentTsValidation=null,this.projectTridentOverall=null,this.tridentPortalByDefault=null,this.displayProjectTridentUIEnabled=null,this.fabricGASettingSync=null,this.fabricGAWorkloadsEnabled=null,this.forceEnableClassicArtifacts=null,this.showTridentArtifactsOnPBIHomeList=null,this.tridentIgnorePreviewArtifacts=null,this.tridentFavorite=null,this.tridentFreeLicenseAllowances=null,this.tridentMultitasking=null,this.tridentMultitaskingInPBI=null,this.tridentMultitaskingOpenInBackground=null,this.tridentMultitaskingUnpinUnintegratedArtifacts=null,this.tridentMultitaskingDataflows=null,this.tridentMultitaskingDataflowsExperience=null,this.tridentMultitaskingDeploymentPipelines=null,this.tridentMultitaskingExternalFunctions=null,this.tridentMultitaskingFunctionSet=null,this.tridentMultitaskingGraphQL=null,this.tridentMultitaskingHLSCohort=null,this.tridentMultitaskingHomeOne=null,this.tridentMultitaskingMLExperiment=null,this.tridentMultitaskingMLModel=null,this.tridentMultitaskingMountedRelationalDatabase=null,this.tridentMultitaskingPipeline=null,this.tridentMultitaskingSJD=null,this.tridentMultitaskingKeepOnRefresh=null,this.tridentMultitaskingLakehouse=null,this.tridentMultitaskingReflexProject=null,this.tridentMultitaskingSQLDbNative=null,this.tridentMultitaskingEventStream=null,this.tridentNonContextualCreation=null,this.tridentPreviewSuffix=null,this.tridentProductApiPlayground=null,this.tridentProductAppDevelopment=null,this.tridentProductDatabases=null,this.tridentProductDataEngineering=null,this.tridentProductDataIntegration=null,this.tridentProductDataScience=null,this.tridentProductDataWarehouse=null,this.tridentProductDigitalOperations=null,this.tridentProductBusinessSolutions=null,this.tridentProductFunction=null,this.tridentProductKusto=null,this.tridentProductMicrosoftSupplyChainCenter=null,this.tridentProductReflex=null,this.tridentRouterOutletDisabled=null,this.tridentRecommendationStyle=null,this.MountedCosmosdb=null,this.MountedSQLdb=null,this.MountedSnowflakedb=null,this.MountedAzureSQLdb=null,this.MountedPostgreSqlFlexibleServer=null,this.ASWorkspaceConfigurableServerProperty=null,this.tridentDataflowGen2Experimental=null,this.enableGen2DataflowsInPowerBI=null,this.enableGen2DataflowsInTrident=null,this.forceEnableGen2DataflowsInTrident=null,this.usePPDFConnector=null,this.useTridentThemeInPowerBIGen2Dataflows=null,this.enableTrialSignUpForGen2Dataflows=null,this.dataflowGen2GASwitch=null,this.checkForGen2DataflowThrottling=null,this.oneLakeUXS3Shortcut=null,this.oneLakeUXGCPShortcut=null,this.oneLakeUXShortcutApiV2=null,this.oneLakeUXAdlsPowerQueryFirewallByPass=null,this.oneLakeUXAdlsStoredCredentials=null,this.oneLakeUXShortcutNotifications=null,this.oneLakeUXS3StoredCredentials=null,this.oneLakeUXGCPStoredCredentials=null,this.oneLakeUXBrowseInShortcut=null,this.oneLakeUXShowKustoInBrowse=null,this.oneLakeUXDataverseShortcut=null,this.allowDataVerseConnectionPassthrough=null,this.oneLakeUXShowDWInBrowse=null,this.oneLakeUXShowDatasetInBrowse=null,this.oneLakeUXShowMountedDatabaseInBrowse=null,this.enableSearchInSettings=null,this.storytellingSmartNarrative=null,this.storytellingSlideshowAutoRefresh=null,this.storytellingBorder=null,this.appArtifactLevelSecurity=null,this.embedBlockRoutingAPIs=null,this.DownloadReportOptionsDialogEnabled=null,this.embedExitToHostShortcut=null,this.UnpublishOrgAppViaSprocFE=null,this.visualCalculations=null,this.visualCalculationsAuthoring=null,this.reflexObjectCreation=null,this.reflexBottomPane=null,this.reflexEmailPolicyCreation=null,this.reflexMetric=null,this.reflexMultitagging=null,this.reflexShowEventHub=null,this.reflexShowEventstreamUI=null,this.reflexNewMetricApi=null,this.reflexNewSimulator=null,this.reflexPBI=null,this.reflexPropertyTemplate=null,this.reflexTeamsAction=null,this.reflexPowerAutomateAction=null,this.reflexV2=null,this.reflexSimulatorCreation=null,this.reflexSimulatorSkipStopTime=null,this.copyAsMappingDataFlow=null,this.reflexLiveEngine=null,this.reflexMultiGeoApi=null,this.reflexMultiGeoRSA=null,this.reflexMultiTasking=null,this.reflexShortFetch=null,this.reflexShortRefresh=null,this.reflexAdvancedObjectCreation=null,this.reflexMonitorMode=null,this.reflexTemplateCanvas=null,this.reflexTimeAxis=null,this.reflexAlertMe=null,this.reflexTriggerCondition=null,this.reflexWelcomePage=null,this.reflexPBIToolbar=null,this.reflexMultiEvents=null,this.reflexConvertTrigger=null,this.reflexShowTemplateEvent=null,this.reflexPBIPaneExp=null,this.reflexPBIPaneExpOn=null,this.reflexPBIArtifact=null,this.flipStackOrder=null,this.useNewToolbar=null,this.useReportFiltering=null,this.useAdvancedFilters=null,this.takeoverDatamart=null,this.createGen2CapacityByDefault=null,this.tridentUserDefinedSparkPool=null,this.notebookOptimizeResourceValidate=null,this.notebookServiceWorker=null,this.notebookHighConcurrency=null,this.sparkRuntimeVersion1_1=null,this.sparkRuntimeVersion1_2=null,this.notebookFixedAznbBundleVersion=null,this.notebookAznbBundleVersion16=null,this.tridentNotebookAznbFixedVersion=null,this.tridentNewSparkUIHost=null,this.tridentSparkAdvisorFeedbackSystem=null,this.refreshCenterDatasetRefreshCancellationUI=null,this.useReactParameterPane=null,this.useTablixImageFields=null,this.useRdlTextSearch=null,this.datamartsVisualQuerySingleRibbon=null,this.useStandaloneImagesV2=null,this.azureMapsSasToken=null,this.tridentInTeams=null,this.newMobileTooltip=null,this.irisUserDays=null,this.consolidatedMessageBar=null,this.blockExpiredTokenRequestForEmbed=null,this.activityBasedTimeout=null,this.abtReLoginPage=null,this.appsPageReflow=null,this.eimSensitivityDropdownCreateReactComponent=null,this.tridentUniversalSecurity=null,this.eimSensitivityDropdownReactHomeOne=null,this.mobileClientQueryCache=null,this.mobileAutoReportLayout=null,this.directChangeFormFactor=null,this.layoutSwitcher=null,this.disableLegacyBootstrapForDataset=null,this.useNpsNewUrlOrigin=null,this.selfServeTenantSettings=null,this.useAzureMapsBackend=null,this.cfStrings=null,this.assistedCreationPane=null,this.insightsCancellation=null,this.homeMigrateGettingStartedSample=null,this.scorecardCompactView=null,this.tridentArtifactsSettingsPane=null,this.interactiveMobileCanvas=null,this.mobileVcObjectsProxyFormFactorChange=null,this.pbiTooltipWebView2=null,this.modelExplorer=null,this.fluentDataPane=null,this.capacitySettingsExtensions=null,this.capacitySettingsExtensionsPrototype=null,this.tridentHeaderV2=null,this.tridentHelpPane=null,this.tridentHelpPaneDebug=null,this.tridentHelpPaneForPbi=null,this.tridentFeedbackPane=null,this.showDataDrivenRdlSubscriptions=null,this.useCommunityNewDomain=null,this.useColoredIcons=null,this.reportCreationCopilot=null,this.pbiLLMService=null,this.reportCreationCopilotV2Flow=null,this.capacityBCDR=null,this.reportCreationCopilotDebuggingLogs=null,this.workspaceIdentityUI=null,this.workspaceIdentityUIDemoMode=null,this.workspaceIdentityToggleUsage=null,this.schemaReduction=null,this.workspacePillFilter=null,this.useNewSort=null,this.useCvSandboxCspIframe=null,this.rdlVisualReact=null,this.sjdRSupport=null,this.datamartTypesInMRU=null,this.layerOrderPanePbiTree=null,this.storytellingRecommendationUI=null,this.storytellingRecommendationLayout=null,this.datamartTypesInFavorites=null,this.datamartTypesFilepathProperties=null,this.warehouseQueryMonitoring=null,this.quickExploreFieldListMigration=null,this.rdlVirtualizeTables=null,this.almSubfolders=null,this.almCustomizedPipelines=null,this.almAsyncDiff=null,this.almPartialAsyncDiff=null,this.appAccessHiddenContent=null,this.increaseOrgAppAudiences=null,this.touchScreenOptimizedTooltips=null,this.usageMetricsRetroactiveDisable=null,this.trackUserInfo=null,this.reportLoadIndicator=null,this.cdsaSendEmailOnRefreshFailureUI=null,this.networkStatusNotification=null,this.skipTestConnection=null,this.smartAlertTenantAdminSettings=null,this.cdsaEntitiesRelationships=null,this.removeDataflowPreviewTag=null,this.queryCancellation=null,this.capacityWorkloadMemoryControls=null,this.addPreviewTagToAttachExternalDataflow=null,this.emailSubscriptionTenantAdminSettings=null,this.newDSCompInDataset=null,this.telemetryV2=null,this.skipTestConnectionOnPrem=null,this.northStarBreadcrumb=null,this.managedIdentityAuthorizationTenantAdminSettings=null,this.singleSignOnTestConnection=null,this.disableVisualInDesktopRS=null,this.eimInformationProtectionLicenseEnforcementUI=null,this.copyVisualImage=null,this.visualDropShadow=null,this.showDisableOutboundFlows=null,this.exportPbixForGeneratedModelsUI=null,this.modelingServiceGenerateModel=null,this.personalizeVisualUnifiedFieldList=null,this.artifactEndorsementFeatureUI=null,this.streamingDataflow=null,this.quickCreate=null,this.datamart=null,this.datamartQueryEditor=null,this.savedQueries=null,this.warehouseCrossDbQueries=null,this.sqlQueryTemplates=null,this.datamartObjectContainerRefresh=null,this.datamartIncrementalRefresh=null,this.easySharingTenantUI=null,this.easySharingProtectionLabelsTenantUI=null,this.verboseTelemetry=null,this.quickCreateSharepointList=null,this.largeFilesUI=null,this.lineageShowCompositeModelsRelationship=null,this.iaShowCompositeModelsRelationship=null,this.endorsementSidePanesUI=null,this.fluentAppsContainer=null,this.modernRLSContainer=null,this.enableHybridTables=null,this.newDatahubDiscoverPage=null,this.newMonitoringHubPage=null,this.datahubLastAccessColumn=null,this.newDatasetDetailsPage=null,this.datamartsTransientModel=null,this.lakehouseModeling=null,this.datamartSqlRefresh=null,this.readonlyDatamart=null,this.newDataset=null,this.autoGenerateBIModelDiagram=null,this.teamsBackButtonHandler=null,this.teamsLastVisitedURLApp=null,this.teamsThrottledSave=null,this.teamsAppCaching=null,this.teamsLastVisitedURLTab=null,this.teamsBackButtonNotification=null,this.copilotAddDefaultSchemaAggregationInSerializedDataset=null,this.useTeamsTokenRefreshServiceV2=null,this.recommendedTab_HEAD_DataHub_CompactView_FE=null,this.dmtsInL1_HEAD_Datahub_FE=null,this.sharedQueries=null,this.datamartEndorsement=null,this.homeOneArtifactsInDatahubL1=null,this.tridentArtifactL2=null,this.artifactDetails_HEAD_FE_newRelatedArtifact=null,this.shouldShowOwnerPhotoDatahubTable_HEAD_DataHub_CompactView_FE=null,this.allowSortColumns_HEAD_DataHub_CompactView_FE=null,this.sqlDatabaseEnabled_HEAD_Datahub_FE=null,this.workspaceNavigationEnabled_HEAD_DataHub_CompactView_FE=null,this.dmtsConnections_HEAD_CompactView_FE=null,this.injectedData_HEAD_CompactView_FE=null,this.viewItemDetailsAction_HEAD_workspace_FE=null,this.upstreamRelatedArtifacts_HEAD_L2_FE=null,this.refreshHistoryActionDataset_HEAD_L2_FE=null,this.favoritesArtifacts_HEAD_CompactView_FE=null,this.dynamicParameters=null,this.eimInformationProtectionExportPbixUI=null,this.skipRequiredDatsourceCredentials=null,this.compositeModelsOverAS=null,this.allowAsyncModelAuthoring=null,this.useTsMsagl=null,this.validateSortByColumnByTypescript=null,this.main_HEAD_PurviewHub_BE_FE=null,this.creatorsEmptyExp_HEAD_PurviewHub_FE=null,this.Creators_HEAD_PurviewHub_BE_FE=null,this.main_HEAD_ExternalDataSharing_FE=null,this.datamartFieldListFiltering=null,this.managePermissions_HEAD_ExternalDataSharing_FE=null,this.nonFabric_HEAD_PurviewHub_FE=null,this.receiver_HEAD_ExternalDataSharing_FE=null,this.eimInformationProtectionForDesktop=null,this.eimInformationProtectionDesktopRemoveLabel=null,this.eimInformationProtectionEnforceDesktopLicense=null,this.useModernRealTimeTile=null,this.useModernRealTimeTileBlade=null,this.legacyPromiseFactory=null,this.legacyPbiPromise=null,this.usePbiPromiseMicrotask=null,this.exp_usePbiPromiseMicrotask=null,this.rdlNativeVisual=null,this.rdlEditInPBIRB=null,this.rdlSSOForASAzure=null,this.gatewayVNetsRdl=null,this.useReactToolbar=null,this.calculateArtifactTypesOnFE_HEAD_Datahub_FE=null,this.usageMetricsVnext=null,this.EimInformationProtectionDefaultLabel=null,this.customizedNavbar=null,this.viewDatasetFromReportUI=null,this.showRelevantUsersForSharing=null,this.appSharingDialogEnabled=null,this.bookmarksForLinks=null,this.authorsStateAsDefaultPresentationInPersonalBookmarks=null,this.itemHoverCard_HEAD_FE=null,this.DisableContentPacks=null,this.disableUIVirtualization=null,this.CdsaMultipleContributors=null,this.AdminInsightsMultipleReports=null,this.AdminInsightsBlocker=null,this.adminInsightsPermissionControl=null,this.ASConfigureParallelSourceQueriesInCapacity=null,this.RenameDatasetToSemanticModel=null,this.useModernMashupEditor=null,this.debugReportAuthoring=null,this.enhancedReportFormat=null,this.dataExploreFilterCard=null,this.dataExplore=null,this.dataExploreCustomVisuals=null,this.UseDataExplorationArtifact=null,this.webPerformancePane=null,this.dontSerializeDoLoadPowerViewReport=null,this.staticExportReportEnabled=null,this.allUpSaveReport=null,this.highVolume=null,this.customVisualsStore=null,this.gatewayBindingEnhancement=null,this.capacitiesVCores=null,this.customVisualsGallery=null,this.capacitiesAzureTab=null,this.capacitiesMigrateSpecificWorkspaces=null,this.assignAdminsAzureCapacitiesEnabled=null,this.reportInstantEmail=null,this.dashboardInstantEmail=null,this.slicerSyncing=null,this.dsrV2_Staging=null,this.workspacesV2=null,this.workspacesV2UsageMetrics=null,this.workspacesV2UnifiedGroups=null,this.customVisualsTenantSwitch=null,this.pinReadable=null,this.artifactSearchUI=null,this.appAccessRequestUI=null,this.spoIntegration=null,this.bookmarkInitRefactor=null,this.disallowWorkbookRefresh=null,this.onDemandSmartAlerts=null,this.exportUnderlyingSetting=null,this.workspaceListView=null,this.pinInsightsFromApp=null,this.useModernExploreCanvas=null,this.quickAccessSearch=null,this.newInfoBarRedlines=null,this.modernDatasetDialog=null,this.showMainWindowAfterRender=null,this.disableNewFeaturesDialog=null,this.copyRdlReportToWorkspaceV2=null,this.allowEmailSecurityGroupsOnOutage=null,this.histogram=null,this.cdsaModelSchemaUpdate=null,this.enableRdlReportCopyFromWorkspaceV1=null,this.narrativeTextbox=null,this.rdlReportAnaheim=null,this.expandQueryCaching=null,this.hideReportVerticalPane=null,this.capacityCachingControl=null,this.dqReactiveCaching=null,this.cdsaGranularSQLUI=null,this.configureAppContacts=null,this.rdlHideCredentialsDialog=null,this.increasedExportSectionLimit=null,this.proPlusServicePlan=null,this.proPlusExcludePPUCapacityCreateWorkspace=null,this.lineChartPowerAutomate=null,this.cesFormsProTest=null,this.lineChartAlert=null,this.feedbackFeature=null,this.ribbonSearchBar=null,this.exportHostErrorList=null,this.linkToPowerAutomateExportTemplate=null,this.allowGatewaysWithoutMashupCreds=null,this.certifiedTelemetry=null,this.certifiedTelemetryDesktop=null,this.certifiedTelemetryUserEvents=null,this.certifiedTelemetryAssertions=null,this.certifiedTelemetryQueryEvent=null,this.certifiedTelemetryResolveParametersEvent=null,this.backstageUI=null,this.appTheme=null,this.qnaCopilotPhrasings=null,this.openReportWebBootstrap=null,this.resolveParametersEvent=null,this.activityViewer=null,this.gatewaysTableUseConnDetails=null,this.notificationPollTimeoutFast=null,this.notificationPollTimeoutSlow=null,this.enableRefreshNowChecks=null,this.sdfArray=null,this.sdfBlob=null,this.sdfCustomNodeName=null,this.sdfTools=null,this.sdfScheduleRefresh=null,this.sdfDataContinuity=null,this.sdfPublicPreview=null,this.sdfUndo=null,this.sdfRetentionPolicyUpdate=null,this.pushDataflowCreate=null,this.invertAxis=null,this.noWaitTrialRenewal=null,this.recommendedContentUI=null,this.hideActionAsDefault=null,this.powerBIGoalsStatusRules=null,this.automaticAggregations=null,this.useReactRenderer=null,this.goalsShowImportFromFileUI=null,this.homeListM3_Test1=null,this.homeListM3_Test2=null,this.infiniteScorllHomeListM3=null,this.homeLearnReport_Test1=null,this.recommendedViewDefault=null,this.homeListVirtualScroll=null,this.suppressDefaultTooltip=null,this.newSearchPage=null,this.selectAppInTeamsTab=null,this.exportScorecard=null,this.loadGroupMetadataOptimization=null,this.rdlInfiniteScrolling=null,this.goalsAggregations=null,this.goalsSparklineChangeAggregations=null,this.goalsColumnSettings=null,this.goalsPermissionSettings=null,this.powerAutomateEntryPointFromGoalsUI=null,this.powerBIGoalsDragAndDrop=null,this.goalsXAxisDragAndDrop=null,this.goalsDelayDragAndDrop=null,this.powerBIGoalsMultipleGoalOwners=null,this.powerBIGoalsMultipleTargets=null,this.scorecardsInMyWorkspace=null,this.datamartDatawarehouseInMyWorkspace=null,this.disableDatawarehousePPU=null,this.reliableProcessingHistory=null,this.datasetsActionsWithAutoAssignTrial=null,this.datasetsHubFreeUser=null,this.capacityGen2RestoreToggle=null,this.goalsHubFRE=null,this.goalsAllowedOnShared=null,this.goalsDraftScorecards=null,this.recDefaultNoRecent=null,this.recommendedScaleCard=null,this.checkPbivizFileContentOnImport=null,this.goalsCustomizeStatus=null,this.copyVisualNoTimeout=null,this.rdlThrottlingIndicator=null,this.disableTrial=null,this.ExportToExcelConnectedSummarized=null,this.exportToExcelConnectedRdl=null,this.goalsCategoricalValues=null,this.teamsLearnTabCoachmark=null,this.onObject=null,this.onObjectFormatPaneUid=null,this.onObjectMobileAuthoring=null,this.teamsUseSDKSharing=null,this.teamsUseRegularLinkInShareInTeams=null,this.goalsScorecardAccessBanner=null,this.goalsMoveScorecard=null,this.undoGetAvailableGatewayCloudDS=null,this.goalsBulkDelete=null,this.multipleGoalTilesVisual=null,this.updateScorecardDataset=null,this.goalsReportSource=null,this.goalsSharingLink=null,this.goalsCopyScorecard=null,this.storeLogs=null,this.reportThemeSchema=null,this.goalsYouOwn=null,this.goalsFavoriteGoals=null,this.goalsNewEditButton=null,this.goalsNewHeader=null,this.diagnosticsBar=null,this.stickyFeatureSwitches=null,this.teamsLegacyTabMigration=null,this.fieldParameterDynamicSlicer=null,this.conditionalFormattingDataLabels=null,this.goalsSkipScorecardCreationPane=null,this.useAngularJSAuthDialog=null,this.useAngularJSScheduledRefresh=null,this.useAngularJSSettingsGateways=null,this.useAngularJSDataSourceCredentialsComponent=null,this.datamartsNewReportTab=null,this.goalsMultipleValuesEditor=null,this.modeling_enableFormulaBarDAXEditor=null,this.relationshipValidation=null,this.diagramLayoutWebWorker=null,this.dialogReflow=null,this.relationshipEditPane=null,this.angularRls=null,this.goalsHierarchiesOwnerMapping=null,this.goalsHierarchiesHeatmap=null,this.goalsHierarchiesHideInfoTooltips=null,this.tridentNotification=null,this.disableMwcThrottlingNotification=null,this.goalsRollups=null,this.scorecardTimezone=null,this.goalsLinkedGoals=null,this.aznbServerSideIntelliSense=null,this.dmhPreloadExtension=null,this.dmrPreloadExtension=null,this.lhWarehouseMode=null,this.lhLivyEndpoint=null,this.lhDataSet=null,this.lhShortcuts=null,this.lhOneSecurity=null,this.bypassOneSecurityCheck=null,this.lhCsvToDelta=null,this.lhTableSchema=null,this.lhMergeViews=null,this.lhTablePreviewModes=null,this.lhTablePreviewSequential=null,this.lhDatasetCreateAction=null,this.lhOneLakeFriendlyNames=null,this.lhLoadToTable=null,this.lhPreloadExtension=null,this.lhComputeKeepAlive=null,this.lhSharing=null,this.lhDataGrid=null,this.lhEventStream=null,this.lhTableOptimization=null,this.lhSqlProvisionRetry=null,this.lhLakehouseV2=null,this.relevantMeasures=null,this.warehouseTDSEndpointButton=null,this.quickMeasureInitialSuggestions=null,this.scorecardHierarchiesPremium=null,this.dynamicFormatString=null,this.collapseGoalsByDefault=null,this.increaseAccessRequestV2_Test1=null,this.increaseAccessRequestV2_Test2=null,this.shouldDisableStreamingDataflowCreation=null,this.disableMatchingDatasourceObjectId=null,this.publishMissingPackageIdBugFix=null,this.scorecardEmailSubscription=null,this.alignPBIHomeWithTrident=null,this.metricsHub=null,this.tridentInformationProtectionDSIUI_HEAD_DataProtection_FE=null,this.scorecardSplitColumns=null,this.scorecardListViewSettings=null,this.reportVisualsTutorial=null,this.useEnrichedApplicationContext=null,this.increaseAccessRequestV3_Test1=null,this.increaseAccessRequestV3_Test2=null,this.lhTablePreviewQueryEditor=null,this.selectSensitivityLabelDialog_HEAD_InformationProtection_FE=null,this.quickCreateTwoStepModelGen=null,this.inheritanceUponCreationFabricCreateFlow_HEAD_InformationProtection_FE=null,this.addVisualIdToQueryDataAsHttpBodyId=null,this.trackTasks=null,this.trackChangeDetection=null,this.trackBrowserRender=null,this.trackVisualZone=null,this.trackEventTasks=null,this.exp_trackEventTasks=null,this.noTrackEventTaskHashSampling=null,this.testExperimentationSwitch=null,this.homeLayoutSelection=null,this.loadRecommendationsForNewUsers=null,this.deferVCLoading=null,this.deferVCLoadingChangeSection=null,this.deferVCLoadingChangeSectionEmbed=null,this.deferVCLoadingEmbedOptions=null,this.deferVCLoadingMobile=null,this.deferCustomVCLoading=null,this.sessionExperimentation=null,this.lruCacheEvictionPolicy=null,this.onDemandApprovedResources=null,this.sectionApprovedResources=null,this.requestAccessNotifV2=null,this.deferExplorationStateCapture=null,this.operationalReportStringTest=null,this.exp_openReportWebBootstrap=null,this.exp_deferCustomVCLoading=null,this.exp_deferVCLoading=null,this.exp_deferVCLoadingChangeSection=null,this.exp_deferVCLoadingChangeSectionEmbed=null,this.exp_deferVCLoading_timeoutLimit=null,this.exp_deferVCLoading_preloadFinishThreshold=null,this.exp_deferVCLoading_loadFinishThreshold=null,this.exp_deferVCLoading_primeNonQueryVisualResources=null,this.exp_deferVCLoadingMobile=null,this.exp_noEmptyUpdate=null,this.exp_lruCacheEvictionPolicy=null,this.exp_saasReportIsAngularToThisPoint=null,this.exp_onDemandApprovedResources=null,this.exp_sectionApprovedResources=null,this.exp_deferExplorationStateCapture=null,this.MultivariantExpTest_VariantA=null,this.MultivariantExpTest_VariantB=null,this.control_MultivariantExpTest=null,this.IsolationGroupExpTest=null,this.control_IsolationGroupExpTest=null,this.DeclutterFirstRunExperienceExp=null,this.htmlLegend=null,this.allowAssigningTenantWorkspacesFromAzureCapacityAdmin=null,this.capacityMetricDrilldown=null,this.copyReportsToWorkspacesV2=null,this.allowFreeUsersToSubscribeInPremiumAppsUI=null,this.realTimeRefresh=null,this.realTimeRefreshDisabled=null,this.changeDetection=null,this.changeDetectionSimulation=null,this.externalConnectorSSO=null,this.tenantOutOfBoxVisualsEnabled=null,this.disablePublishToWebCreation=null,this.eimInformationProtectionColumnUISharedWithMe=null,this.eimInformationProtectionSccLink=null,this.ssasGetData=null,this.webModelingViewEnabled=null,this.persistDiagramLayoutEnabled=null,this.webModel_enableViews=null,this.WebModelingAdminSettings=null,this.WebModelingSharedAuthoring=null,this.newLookForAll=null,this.allowOldLookUI=null,this.yellowIntegrationOfPowerBI=null,this.newLookOnForNewUsers=null,this.analyzeInExcelOdcFallbackUI=null,this.analyzeInExcelToExcelOnline=null,this.irisCoreEnabled=null,this.esriEmbedEnabled=null,this.esriP2WEnabled=null,this.approvedServiceApps=null,this.redirectToStaticPageInTeams=null,this.quickMeasuresModern=null,this.eimInformationProtectionStoreOptimization=null,this.domains=null,this.domainDelegatedSettings=null,this.domainDelegatedCertifyDatasetsEnabled=null,this.domainsAdminNewBadge_HEAD_mesh_FE=null,this.subdomainSupport_HEAD_mesh_FE=null,this.defaultDomain_HEAD_mesh_FE=null,this.usePrefixSearch_HEAD_mesh_FE=null,this.moveDomainElements_HEAD_mesh_FE=null,this.allowReassignByTenant_HEAD_DataDomain_FE=null,this.lineageViewCertifiedEvents=null,this.navigateToDatasetDetails=null,this.accessRequestDatasetsUI=null,this.eimInformationProtectionRdlReportLabelingUI=null,this.consumePublicCvsWithoutRps=null,this.stopPublicRpsPopulation=null,this.discoverDatasetsUI=null,this.readonlyDatasetsUI=null,this.dlpPolicyTip=null,this.eimDlpPolicyTipsWithoutAngularJS=null,this.dlpHoverCardPolicies_HEAD_DLP_FE=null,this.restrictAccess_HEAD_DLP_FE=null,this.viewUIUpgrade_HEAD_Lineage_FE=null,this.lineageCycleSupport_HEAD_Lineage_FE=null,this.tridentUpgrade_HEAD_ImpactAnalysis_FE=null,this.reduceExternalArtifacts_HEAD_Lineage_FE=null,this.enableLineageForViewer_HEAD_Lineage_FE=null,this.safariLineageHighlight_HEAD_Lineage_FE=null,this.lineageV3_HEAD_RelationsPlatform_FE=null,this.datahubCard=null,this.datasetDescriptionGetDatasetAPI=null,this.cdsaCCEmailContactsOnRefreshFailure=null,this.createRdlFromReportMenu=null,this.PinReportToTeamsTab=null,this.pinReportNavigateUsingDeepLink=null,this.showNewVisualsMarketplace=null,this.cesFeedbackTenantSetting=null,this.useNewDashboard=null,this.showNewVisualsMarketplacePBID=null,this.showAADSSOForGateway=null,this.showDremioSSO=null,this.chooseWorkspaceInReportSaveAs=null,this.ExportToExcelMatrixVisualData=null,this.showNonSdpInMP=null,this.accessInPlaceSharingDatasetSetting=null,this.dataflowEndorsementSettingsMigration=null,this.forceAdminPortalSurvey=null,this.textboxAtMention=null,this.multiRowCardSelection=null,this.seeThruDatasetEditing=null,this.seeThruNameDatasetPickWorkspace=null,this.newManageDatasetForDatamartUI=null,this.ApplyDatamartSchemaForCustomDataset=null,this.metricsBoardView=null,this.workspaceAdminSubscriptions=null,this.showPinnedTile=null,this.datahubUnifyRecentAndAll=null,this.showAppBarInTeamsTabView=null,this.teamsNewTabExperience=null,this.teamsDirectSDKCall=null,this.teamsTabFabricLinks=null,this.goalsBulkEditing=null,this.privilegeWebAccess=null,this.privilegeLocalStorage=null,this.privilegeUX=null,this.leadsTesting=null,this.leadsTip1=null,this.leadsTip2=null,this.leadsDevUrl=null,this.exp_newReportMetadataEndpoint=null,this.goalsHierarchies=null,this.goalsVisualSparklines=null,this.splitHelpTooltip=null,this.cvSkipExtraResize=null,this.workspaceAdminSubscriptionsSurvey=null,this.showInTeamsPivotInOfficeAndOutlook=null,this.supportQuickCreatePasteOrEnterDataInOfficeAndOutlook=null,this.powerPlatformSolutionsIntegration=null,this.allowPowerPlatformEnvironmentCrossRegion=null,this.goalsTakeOverConnection=null,this.showPinReportIconInMetaOS=null,this.showExternalSharingTenant=null,this.showEnableDatasetInPlaceSharingTenant=null,this.EnforceSubscriptionExternalUsersTenantSwitchInBE=null,this.allowCVLocalStorageTenantSwitch=null,this.allowCVWebAccessTenantSwitch=null,this.privilegeExportContent=null,this.showGuestContentTab=null,this.requireCVPrivilegesTenantSwitch=null,this.CAEAuth=null,this.CustomVisualLicenses=null,this.ShowChatWithSales=null,this.showChatText=null,this.useRootUrlFilePicker=null,this.easierHierarchicalAxis=null,this.goalsHubTileContextMenu=null,this.useNativePromiseForPbiPromise=null,this.exp_useNativePromiseForPbiPromise=null,this.useNativePromiseForPowerBIPromise=null,this.exp_useNativePromiseForPowerBIPromise=null,this.showEmailSubscriptionsToExternalUsersTenantSwitch=null,this.showEmailSubscriptionsToB2BUsersTenantSwitch=null,this.MarketplaceLeads=null,this.smartNarrativeVisualContainterButton=null,this.deprecateGettingStarted=null,this.lakehouseShowTables=null,this.saveQueryAsView=null,this.datamartAutoRefresh=null,this.p2wInService=null,this.emCVBundle=null,this.disableAngularJsForPortal=null,this.forceChatWidgetEnabled=null,this.tridentStageTwoWithLabelNav=null,this.disableNavOverflow=null,this.prefetchCustomVisualLicenses=null,this.authDCParam=null,this.newTriggerForSatisfactionSurvey=null,this.optimizeTabRibbon=null,this.tridentArtifactAccess=null,this.pbiArtifactAccessInTridentStyle=null,this.customVisualsGradualExposure1=null,this.customVisualsGradualExposure2=null,this.customVisualsGradualExposure3=null,this.tridentRibbon=null,this.enableCVClientSideAuth=null,this.preloadDES=null,this.delegatedTenantSettings=null,this.delegatedWorkspaceTenantSettings=null,this.tenantSettingVisualCue=null,this.tenantSettingsDefaultCheckbox=null,this.tenantSettingsSearchBarFE=null,this.tenantSettingIntProperty=null,this.showDataActivatorDefaultCheckbox=null,this.showHighlightTenantSettingSearchBar=null,this.allowCVAuthenticationTenantSwitch=null,this.visualContainerFontUpdateTrigger=null,this.openInADS=null,this.applyAllSlicersButton=null,this.tridentTrial=null,this.createArtifactWithTridentTrial=null,this.createWorkspaceWithTridentTrial=null,this.trialLimit=null,this.trialSignUpGoToFabricHome=null,this.trialSignUpShowSamples=null,this.enablePlatformMonitoring=null,this.enableTridentUserSettings=null,this.showPurviewContentButton=null,this.allowAdminMonitoringFreeLicense=null,this.tridentMessageBarShowPbiBarSwitch=null,this.useItemRenderer=null,this.convertConnectedWorkbookFFXL=null,this.downloadLocalWorkbookFFXL=null,this.removeLocalUploadFFXL=null,this.removeViewLocalFFXL=null,this.executeSql=null,this.datamartPayloadParser=null,this.disableAdminCenterSupportPageLink=null,this.teamsMeetingExperiences=null,this.showNotificationSettingsInTridentUserSettings=null,this.showTridentUserSettingsNotificationTablesV2=null,this.showFormatPaneSettingInUserSettings=null,this.dwPipeline=null,this.datamartModeling=null,this.aiNarrativesVisual=null,this.aiNarrativesIncludeInsights=null,this.aiNarrativesUseClientFormatting=null,this.aiNarrativesDisableWholeUnitsFormatting=null,this.aiNarrativesStreamResponse=null,this.aiNarrativesGPT4=null,this.aiNarrativesGPT4_32K=null,this.aiNarrativesGPT3Turbo=null,this.aiNarrativesGPT3TurboPromptChain=null,this.aiNarrativesDV3=null,this.aiNarrativesSingleEntryPoint=null,this.aiNarrativesReportSummary=null,this.aiNarrativesEmptyState=null,this.aiNarrativesDisablePermanentPaused=null,this.datamartIncrementalLoad=null,this.directLakeAutoSyncUI=null,this.ASWritethruUI=null,this.tridentLegacyPanel=null,this.saveAsTable=null,this.datahubEmbedGenerateDsr_HEAD_DataHub_CompactView_Embed_FE=null,this.datahubEmbedMain_HEAD_DataHub_CompactView_Embed_FE=null,this.disableLeavePageEnd=null,this.relatedArtifactSharing=null,this.newCard=null,this.notebookNewPythonCompleter=null,this.tridentAlm_HomeOne=null,this.tridentAlm_Lakehouse=null,this.tridentAlm_SparkJobDefinition=null,this.tridentAlm_SynapseNotebook=null,this.tridentAlm_Pipeline=null,this.tridentAlm_Datawarehouse=null,this.tridentAlm_SQLDbNative=null,this.tridentAlm_PgSQLDbNative=null,this.sqlDbNative_RefreshGitSyncStatus=null,this.preventRepeatReportNavigationLong=null,this.preventRepeatReportNavigationShort=null,this.useExtensionsManifestsModule=null,this.useLegacyProductSwitcher=null,this.useFabricFreeForTrial=null,this.tridentPreloadEventStream=null,this.disableFabricAdminPortalTitle=null,this.measureDrivenDataLabels=null,this.scaleTooltipWithCanvasZoom=null,this.emailSubscriptionPaneV2=null,this.storytellingRecommendationAlgorithm=null,this.supportAnyWorkspaceFilter=null,this.supportCustomColumn=null,this.dwDataflowGen2=null,this.dwSamples=null,this.disableTridentFeedbackButton=null,this.disableCommunityContentInHelpPane=null,this.dedsNotebookFileSystem=null,this.subfolderInWorkspace=null,this.saveReportSubfolderFrontend=null,this.parentChildInWorkspace=null,this.hiddenInWorkspace=null,this.daxQueryView=null,this.dedsEnableAzNBProxy=null,this.disableOnObjectPaneSwitcher=null,this.labelEnhancementsM0=null,this.gitIntegration=null,this.errorMessagesP2W=null,this.aadAuthenticationForExternalExtensions=null,this.showSharedWithMeInHomeQuickAccess=null,this.sqlCompletionQuickActions=null,this.RdlCanUseSCC=null,this.datamartSql=null,this.exploreCopilotPane=null,this.exploreCopilotSuggestions=null,this.exploreCopilotQuestionSkill=null,this.exploreCopilotSkillsInAuthoring=null,this.exploreCopilotSendChatHistory=null,this.emCVDisableGlobals=null,this.cvEnableResourceLoaderCSP=null,this.workspaceCentricExperienceHome=null,this.P2WDialogFromAdminPortal=null,this.globalSkipToMainContent=null,this.leaderLinesAndOffset=null,this.qnaCopilotSynonyms=null,this.qnaImproveLsdlCopilot=null,this.executeSqlAsync=null,this.ASQsoUISupport=null,this.emitLoopStandardizedClientReportingEvent=null,this.dataDrivenRdlSubscriptionsUI=null,this.dataDrivenPbixSubscriptionsUI=null,this.ddsDevMode=null,this.extendDDSLimit=null,this.extensionCDN=null,this.extensionCDNDES=null,this.extensionCDNDMH=null,this.extensionCDNReactExample=null,this.extensionCDNRFX=null,this.extensionCDNSTM=null,this.extensionCDNLHE=null,this.extensionCDNDMR=null,this.notebookInlineCodeCompletion=null,this.surveyWithCesUI=null,this.SubstrateIntegrationContentRelevancy=null,this.sharedWithMeOnSubstrate_limitedResults=null,this.sharedWithMeOnSubstrate_increasedResults=null,this.DataWarehouseCloneTableUI=null,this.unifiedColumnChartStrategies=null,this.tridentMultitaskingDatamarts=null,this.cvDisableResourceLoaderIframe=null,this.variantMinxMaxx=null,this.copilot_HEAD_PurviewHub_FE=null,this.pbiServiceHomeMargins=null,this.modelRefreshAttemptsHistory=null,this.scorecardHierarchiesRLS=null,this.disablePrivateCVPreloading=null,this.rlsDaxEditor=null,this.cvAssumeAsyncUpdate=null,this.endToEndTelemetryCreateArtifact=null,this.uploadExportToODSP=null,this.useWindowWhenExporting=null,this.enableHoverCardOnCompactView_HEAD_DataHub_CompactView_FE=null,this.OpenAIApiForML=null,this.dedsNotebookCopilotUI=null,this.oneLakeUXS3ShortcutPreviewText=null,this.cartesianExtStylesColumn=null,this.cartesianExtStylesColumn2=null,this.copilotTextContainerV2=null,this.copilotUXAllowDisableChatStream=null,this.copilotLicensingStatusDebugMode=null,this.copilotLicensingStatusCheck=null,this.racPageCreationDV3Support=null,this.racPageCreationGPT4Support=null,this.racCardsCreationGPT4Support=null,this.racPageCreationWithRoleAssignment=null,this.racPageCreationWithRoleAssignmentAndLegends=null,this.copilotSerializationJson=null,this.racPageCreationScatterFunnelSupport=null,this.racSuggestTopicsDV3Support=null,this.racDatasetSummarizeDV3Support=null,this.racPageCreationDataRolesSupport=null,this.copilotUXFRETeachingBubble=null,this.mobileCertifiedUM=null,this.pivotTableRecommendationsCopilot=null,this.multiShortcutCreation=null,this.defaultDatasetImprovements=null,this.statsCopilotSkill=null,this.datahubIconAndNaming_HEAD_DataHub_FE_Test1=null,this.datahubIconAndNaming_HEAD_DataHub_FE_Test2=null,this.datahubIconAndNaming_HEAD_DataHub_FE_Test3=null,this.share_HEAD_ExternalDataSharing_FE=null,this.dataflow_HEAD_CompactView_FE=null,this.pipelineCopilotEnabled=null,this.enableOPDGInPipeline=null,this.dataPipelineSupportMultiWorkspaces=null,this.SparkJobDefinition_SupportEnvironment=null,this.disableRecommendation=null,this.generateMeasureDescriptionsButton=null,this.metricsHubAIGeneratedMetricDescriptions=null,this.newDESWorkspaceSettings=null,this.bindOnBootstrap=null,this.folderLevelSecurity=null,this.appsCustomAccessRequestMessage=null,this.ArtifactEnvironment=null,this.usePRBuildHashManifest=null,this.WSSettingCustomizedStartPool=null,this.audienceSchemaValidationBypass=null,this.tridentWarehouseUx=null,this.daxInlineCopilot=null,this.EnableReportExtension=null,this.TridentNotebook_SupportEnvironment=null,this.NewSparkComputeSettingsPage=null,this.ModelingServiceMarkAsDateTable=null,this.detectFabricCapacityStateErrors=null,this.racUseEmbeddings=null,this.addIsRefreshEnabledSetting=null,this.gitIntegrationTenantSwitchEnabled=null,this.enableDV3ForReportCopilotOrchestration=null,this.enableGPT4ForReportCopilotOrchestration=null,this.reportCopilotOrchestrationDV3PromptChanges=null,this.showDatamartInGraphql=null,this.showSqlDbInGraphql=null,this.showDataWarehouseInGraphql=null,this.enableErrorHandlingWithConversationHistory=null,this.enableNewSuggestTopicSkill=null,this.dedsDisableUXAutoHaltKernel=null,this.ASQsoDatasetSettingsUI=null,this.onelakeExplorerMultiSelect=null,this.suppress3pExtensionClientHardening=null,this.directLakeRemoteModeling=null,this.impactOfPaginatedReportInDP=null,this.errorLocalization=null,this.dataQuestionSkill=null,this.OneLakeUXShortcutBatchApi=null,this.dedsSparkMonitoringL2ResourceUsage=null,this.dedsNotebookBrowseCodeSnippets=null}}()},668423:function(Xe,H,t){t.d(H,{A:function(){return e}});var e={annotationsUI:8,exp_deferVCLoadingChangeSection:2088959,exp_deferVCLoadingChangeSectionEmbed:8192,exp_noEmptyUpdate:2088959,noEmptyUpdate:2088959,noEmptyUpdateEmbed:8192,personalVisualizationPaneEnabled:2088959,queryCancellation:25,reportAnnotationsUI:10,stickyFeatureSwitches:2088959,userFavoriteResourcePackagesEnabled:2088959}},28248:function(Xe,H,t){t.d(H,{pL:function(){return U},MF:function(){return p}});var e=t(950515),l=t(566464),o=t(35734),d=t(411639),v=t(17816),S=t(527353),h=t(300242),c=t(382088),s="infonav-additionalError",u="infonav-showAdditionalError";function n(W,j){var K=$('<div class="infonav-errorInfoItem"><span class="infonav-errorInfoHeader">{FieldTitle}</span><span class="infonav-errorInfoText">{FieldValue}</span></div>'.replace("{FieldTitle}",W));return K.find(".infonav-errorInfoText").text(j||""),K.html(K.html().replace(/\n/g,"<br/>")),K}var f=t(149815),V=function(W){return W[W.Info=0]="Info",W[W.Warning=1]="Warning",W[W.SecurityWarning=2]="SecurityWarning",W}({}),p="https://support.powerbi.com",R="infonav-modalContainerHost",g="."+R,M="infonav-describedBy",T='<div tabindex="0" prevent-focus-loss="true" focus-nav-mode="Group" class="infonav-modalContainer'+(-1!==location.search.indexOf("renderAsModalDialog")?" small":"")+'"><div class="infonav-modalDialog" tabindex="-1" data-testid="infonav-modal-dialog"><div class="infonav-dialogLayout themeableElement"><div class="infonav-dialogTitle" id='+M+' role="heading" aria-level="1"></div><input type="button" class="infonav-dialogCloseIcon" data-testid="infonav-modal-dialog-close-btn"></input><div class="infonav-dialogContent" data-testid="infonav-modal-dialog-content"><div class="infonav-dialogActions"  data-testid="infonav-modal-dialog-actions"></div></div></div></div></div>',N='<input type="button" class='.concat("pbi-fluent-button","></input>"),U=function(){function W(j,K){this.dialogHost=j,this.localizationMap=K,this.messageQueue=[],this.isReady=!1,this.messageCurrentlyShown=!1,this.initialized=!1}return W.prototype.refocus=function(){this.modalContainer.focus()},W.prototype.showMessage=function(j,K,ee,ie){var he=this;this.ensureInitialized();var G,q=[];if(ee||(ee=this.localizationMap?this.localizationMap.closePromptText:h.Ky),ie){var me=$('<a target="_blank"></a>').text(ie.label).attr("href",ie.url);G=$("<div></div>").text(K+" ").append(me),K=void 0}q[0]=this.createButton(ee,function(){he.hideDialog()},null,"primary"),this.pushMessage(j,K,G,q,!0)},W.prototype.showPrompt=function(j,K,ee,ie){this.ensureInitialized();for(var he=new Array,q=0;q<ee.length;q++){var Y=ee[q],G=Y.cssClass;0===q&&(G+=" primary"),he[q]=this.createButton(Y.labelText,Y.actionCallback,Y.data,G,Y.disabled)}this.pushMessage(j,K,void 0,he,!!ie)},W.prototype.showError=function(j,K,ee,ie,he){this.showCustomError(h.g_,j,K,K!==d.U.Fatal,ee,ie,he)},W.prototype.showCustomError=function(j,K,ee,ie,he,q,Y,G,me,re,le,Ee,Ne){var Ye=this;this.ensureInitialized();var _e,Je=new Array;Y?Y.forEach(function(be){Je.push(Ye.createButton(be.label,function(){Ye.hideDialog(),$.isFunction(q)&&q(be.resultValue)},null,be.cssClass,be.disabled))}):Je[0]=ee!==d.U.Fatal?this.createButton(this.localizationMap?this.localizationMap.closePromptText:h.Ky,function(){Ye.hideDialog(),$.isFunction(q)&&q(0)}):this.createButton(this.localizationMap?this.localizationMap.refreshPagePromptText:h.Pu,function(){window.location.reload()},null,"primary"),_e=re?$("<div></div>").append(re):$("<div></div>").text(K);var fe,pe=$("<div></div>").addClass("infonav-dialogFooter");if(!_.isEmpty(he)){fe=this.localizationMap&&this.localizationMap.errorDialogHelperText?this.localizationMap.errorDialogHelperText:h.q5,le&&(fe=le),_e.append($("<br/>")).append(fe);var oe=this.localizationMap?this.localizationMap.copyPromptText:h._T,ye=this.localizationMap?this.localizationMap.copySuccessText:h.Eu,Ce={title:j,message:re?re.text():K,helperText:fe,additionalErrorInfo:he},Be=$("<button></button>").text(oe).addClass("modalCopyToClipboard").click(function(){Ye.tryCopyToClipboard(Ce)&&(Be.text(ye).addClass("modalCopySuccess"),setTimeout(function(){Be.text(oe).removeClass("modalCopySuccess")},3e3))});pe.prepend(Be)}this.addAdditionalErrorInfo(_e,he,this.localizationMap?this.localizationMap.showTechnicalDetailsText:h.b),G&&(G.url===p||G.isGetHelpTextReplaced?pe.prepend($('<a class="modalErrorHelpLink" target="_blank"></a>').text(G.label).attr("href",G.url)):Je.unshift(this.createButton(G.label,function(){window.open(G.url)},null,"primary"))),_e.append(pe),this.pushMessage(j||h.g_,void 0,_e,Je,ie,me,void 0,void 0,Ee,Ne)},W.prototype.showCustomDialog=function(j,K,ee,ie,he,q,Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe){this.ensureInitialized(),this.modalDialogResizeHandler=this.modalDialogResizeHandler.bind(this),$(window).on("resize.modalDialog",this.modalDialogResizeHandler);var oe=[];Je&&(oe[0]=this.createCheckbox(Je.labelText,Je.actionCallback,Je.data));for(var ye=ee.findIndex(function(ve){return(null==ve?void 0:ve.type)===f.s.Button}),Ce=0;Ce<ee.length;Ce++){var Be=ee[Ce],be=Be.cssClass;!Ee&&Ce===ye&&(be+=" primary"),oe[Je?Ce+1:Ce]=Be.type===f.s.Link?this.createLink(Be.labelText,Be.link):this.createButton(Be.labelText,Be.actionCallback,Be.data,be,Be.disabled)}if(pe){var ce=$("<p></p>").append($('<a target="_blank"></a>').text(pe.label).attr("href",pe.url));K=K.append(ce)}return this.pushMessage(j,void 0,K,oe,!!he,me,ie,q,Y,G,re,le,Ee,Ne,Ye,_e,fe),this.dialogContent},W.prototype.hideDialog=function(){var j=this;this.ensureInitialized(),$(window).off("resize.modalDialog"),this.modalContainer.fadeTo(250,0,function(){j.modalContainer.css(l.SU,l.zu),j.modalDialogElement.removeClass(j.modalDialogCustomClass),j.modalContainer.removeClass(j.modalContainerCustomClass),j.currentModalDialogMessage&&j.currentModalDialogMessage.onDialogClosed&&j.currentModalDialogMessage.onDialogClosed(),j.messageCurrentlyShown=!1;var K=j.messageQueue.shift();K?j.showDialogInternal(K):(j.modalContainer.off(),j.modalContainer.remove(),$(g).off(),$(g).remove(),j.initialized=!1,j.unregisterFocusManager&&j.unregisterFocusManager())})},W.prototype.ensureInitialized=function(){var j=this;if(!this.initialized){if(this.modalContainer=$(T),this.modalDialogElement=this.modalContainer.find(".infonav-modalDialog"),this.dialogTitle=this.modalContainer.find(".infonav-dialogTitle"),this.dialogCloseButton=this.modalContainer.find(".infonav-dialogCloseIcon"),this.dialogContent=this.modalContainer.find(".infonav-dialogContent"),this.dialogActions=this.modalContainer.find(".infonav-dialogActions"),this.dialogCloseButton.on(o.G6,function(){return j.hideDialog()}).on("keydown",function(ee){27===ee.keyCode&&j.hideDialog()}).attr("aria-label",this.localizationMap?this.localizationMap.closePromptText:h.Ky).attr("name",this.localizationMap?this.localizationMap.closePromptText:h.Ky).attr("title",this.localizationMap?this.localizationMap.closePromptText:h.Ky),!this.dialogHost){var K=$(g);_.isEmpty(K)||K.remove(),(K=(0,e.hi)().addClass(R)).attr("role","dialog"),K.attr("aria-labelledby",M),this.dialogHost=$(o.iV).append(K),this.dialogHost=K}this.dialogHost.append(this.modalContainer),this.isReady=!0,this.messageQueue.length>0&&this.showDialogInternal(this.messageQueue.shift()),this.initialized=!0,this.unregisterFocusManager=v.IK.getInstance().register(this.dialogHost.get(0),!0),this.dialogHost=void 0}},W.prototype.updatePosition=function(j){var K=(this.modalContainer.height()-this.modalDialogElement.height())/2,ee=(this.modalContainer.width()-this.modalDialogElement.width())/2,ie={top:K+l.SJ,left:ee+l.SJ};j?this.modalDialogElement.animate(ie,250):this.modalDialogElement.css(ie)},W.prototype.addAdditionalErrorInfo=function(j,K,ee){var ie=this;if(!_.isEmpty(K)){for(var he=$("<p ></p>"),q=0,Y=K;q<Y.length;q++){var G=Y[q];he.append(n(G.errorInfoKey,G.errorInfoValue))}var me=function(W,j){var K=$("<div ></div>"),ee=$("<a class=\"showAdditionalDetailsLink\" href='javascript:' ></a>");return ee.addClass(u),ee.text(j||h.b),ee.on(o.G6,function(){K.find(c.b$.createClassSelector(u)).remove(),K.find(c.b$.createClassSelector(s)).css(l.SU,l.jO)}),W.css(l.SU,l.zu),W.addClass(s),K.append(ee),K.append(W),K}(he,ee);j.append($("<br />")),j.append(me),j.find(".showAdditionalDetailsLink").on(o.G6,function(){ie.updatePosition(!0)})}},W.prototype.pushMessage=function(j,K,ee,ie,he,q,Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe){void 0===he&&(he=!0),void 0===me&&(me=""),void 0===re&&(re=""),void 0===pe&&(pe=""),this.messageQueue.push({titleText:j,messageText:K,dialogContent:ee,dialogButtons:ie,onDialogDisplayed:Y,isDismissable:he,dialogCssClass:me,dialogActionsCssClass:pe,containerCssClass:re,onDialogClosed:q,notificationType:le,notificationText:Ee,htmlMessageText:Ye}),!this.messageCurrentlyShown&&this.isReady&&this.showDialogInternal(this.messageQueue.shift(),G,Ne,Je,_e)},W.prototype.tryCopyToClipboard=function(j){if(!j)return!1;var K=[];if(j.title&&K.push(j.title),j.message&&K.push(j.message),j.helperText&&K.push(j.helperText),j.additionalErrorInfo)for(var ee=0,ie=j.additionalErrorInfo;ee<ie.length;ee++){var he=ie[ee];K.push("".concat(he.errorInfoKey,": ").concat(he.errorInfoValue))}var q=K.join("\n");try{return(0,S.Ue)().copyText(q),!0}catch(G){return!1}},W.prototype.showDialogInternal=function(j,K,ee,ie,he){var q=this;if(this.currentModalDialogMessage=j,this.messageCurrentlyShown=!0,this.dialogContentNotification=$('<div class="infonav-dialogContentNotification"><span class="glyphicon"></span><span class= "infonav-dialogContentNotificationText" > </span></div>'),this.dialogContentNotificationIcon=this.dialogContentNotification.find(".glyphicon"),this.dialogContentNotificationText=this.dialogContentNotification.find(".infonav-dialogContentNotificationText"),this.dialogTitle.empty(),this.dialogContent.empty(),this.dialogActions.empty(),this.dialogTitle.text(j.titleText).attr("title",j.titleText),ie?(this.appendNotification(j.notificationType,j.notificationText),this.appendMessageText(j.dialogContent,j.messageText,j.htmlMessageText)):(this.appendMessageText(j.dialogContent,j.messageText,j.htmlMessageText),this.appendNotification(j.notificationType,j.notificationText)),this.dialogCloseButton.css(l.SU,j.isDismissable?l.jO:l.zu),j.dialogButtons.length>0){this.dialogActions.show();for(var Y=0,G=j.dialogButtons;Y<G.length;Y++)this.dialogActions.append(G[Y])}else this.dialogActions.hide();var re=this.dialogContent.find(".".concat("infonav-dialogFooter"));re.length>0?re.append(this.dialogActions):this.dialogContent.after(this.dialogActions),j.dialogCssClass&&(this.modalDialogElement.addClass(j.dialogCssClass),this.modalDialogCustomClass=j.dialogCssClass),j.containerCssClass&&(this.modalContainer.addClass(j.containerCssClass),this.modalContainerCustomClass=j.containerCssClass),j.dialogActionsCssClass&&this.dialogActions.addClass(j.dialogActionsCssClass);var le=this.modalContainer.css(l.SU)===l.zu?this.modalContainer:this.modalDialogElement;le.fadeTo(0,0),this.updatePosition(!1),le.fadeTo(250,1,function(){if(j.onDialogDisplayed&&j.onDialogDisplayed(q.dialogContent),!(q.modalDialogElement.find("dialog-frame").length>0)){0===q.modalDialogElement.find(":focus").length&&q.modalDialogElement.focus(),he&&q.modalDialogElement.keydown(function(Ne){27===Ne.keyCode&&q.hideDialog()});var Ee=q.dialogActions.find("input");!ee&&Ee.length>0&&Ee[0].focus(),K&&q.dialogContent.parent().find(".infonav-dialogActions input[type=button]:first").focus()}})},W.prototype.appendMessageText=function(j,K,ee){_.isEmpty(K)&&j?this.dialogContent.append(j):this.dialogContent.text(K),_.isEmpty(ee)||(this.dialogContentMessage=this.dialogContent.find(".dialogMessage"),this.dialogContentMessage.html(ee))},W.prototype.appendNotification=function(j,K){if(null!==j&&!_.isEmpty(K)){switch(j){case V.Info:this.dialogContentNotificationIcon.addClass("pbi-glyph-info glyph-mini"),this.dialogContentNotification.addClass("typeInfo");break;case V.Warning:this.dialogContentNotificationIcon.addClass("pbi-glyph-warning glyph-mini"),this.dialogContentNotification.addClass("typeWarning");break;case V.SecurityWarning:this.dialogContentNotificationIcon.addClass("pbi-glyph-securityalert glyph-mini"),this.dialogContentNotification.addClass("typeSecurityWarning")}this.dialogContentNotificationText.html(K),this.dialogContent.append(this.dialogContentNotification)}},W.prototype.createButton=function(j,K,ee,ie,he){var q=this,Y=$(N);return Y.attr("value",j),Y.attr("data-testid","infonav-dialog-action-".concat(j)),Y.on(o.G6,function(){K(Y,q.dialogContent,ee)}),ie&&Y.addClass(ie),he&&Y.prop("disabled",!0),Y},W.prototype.createCheckbox=function(j,K,ee){var ie=this,q=$('<div class="pbi-input checkbox"><input type="checkbox"></input><label class="form-label">'+j+"</label></div>"),Y=q.find("input");return Y.on(o.AA,function(){K(Y,ie.dialogContent,ee)}),q},W.prototype.createLink=function(j,K,ee){void 0===K&&(K=""),void 0===ee&&(ee=!0);var he="<div>\n                <br>\n                    <a href=".concat(K," target='_blank' class='pbi-external-link'>\n                        ").concat(j).concat(ee?"<i class='infonav-linkIcon glyphicon pbi-glyph-navigate-external-inline glyph-small'></i>":"","\n                    </a>\n                <br>\n            </div>");return $(he)},W.prototype.modalDialogResizeHandler=function(){this.updatePosition(!1)},W}()},149815:function(Xe,H,t){t.d(H,{l:function(){return l},s:function(){return e}});var e=function(o){return o.Button="Button",o.Link="Link",o}({}),l=function(){return function(d,v,S,h,c,r,s){this.type=e.Button,this.link="",this.labelText=d,this.actionCallback=v,this.data=S,this.cssClass=h,this.disabled=!!c,this.type=r||this.type,this.link=s||this.link}}()},28291:function(Xe,H,t){t.d(H,{IH:function(){return V},Kk:function(){return u},TX:function(){return f},cN:function(){return m},gh:function(){return r},ih:function(){return s},jC:function(){return a},nK:function(){return p},nY:function(){return b},u5:function(){return C},uL:function(){return y},xv:function(){return i}});var e=t(820967),l=t(498342),o=t(236090),d=t(957571),v=t(382088),S=t(621741),h="/Date(";function r(D){return l.fF.assertValue(D,"date"),(D.getTime()-6e4*D.getTimezoneOffset())%864e5==0}function s(){return"undefined"!=typeof moment}function u(D){var P=i(D);if(P)return P;l.fF.assert(function(){return s()},"Moment.js should be loaded for non-fast parseIsoDate.");var F=moment(D);return F.isValid()?F.toDate():null}function i(D){if(D){var P=D.length;if(!(P<=18||P>28)){var F=D[10];if("-"===D[4]&&"-"===D[7]&&("T"===F||" "===F)&&":"===D[13]&&":"===D[16]){var E=(0,S.l)(D,0,4),w=(0,S.l)(D,5,2),x=(0,S.l)(D,8,2),R=(0,S.l)(D,11,2),g=(0,S.l)(D,14,2),L=(0,S.l)(D,17,2),M="Z"===D.charAt(P-1);M&&P--;var T=0;if(P>19){if("."!==D[19])return;var O=P-20,N=(0,S.l)(D,20,O);if(null===N)return;T=N*(0,o.wA)(3-O)}if(null!==E&&null!==w&&null!==x&&null!==R&&null!==g&&null!==L&&null!==T)return M?new Date(Date.UTC(E,w-1,x,R,g,L,T)):(0,d.yI)(E,w-1,x,R,g,L,T)}}}}function a(D){return l.fF.assert(function(){return s()},"Moment.js should be loaded for parseUtcDate."),moment.utc(D).toDate()}function m(D){if(v.b$.throwIfNullOrEmptyString(D,null,"deserializeDate","Cannot deserialize empty string"),(0,e.BF)(0===D.indexOf(h)&&_.endsWith(D,")/"),"Cannot deserialize empty string"),s()){var P=moment(D);return(0,e.BF)(P.isValid(),"parsedValue.isValid must be true"),P.toDate()}var F=D.substring(h.length,D.length-")/".length);(0,e.BF)(/^\-?\d+$/.test(F),"Cannot deserialize invalid date");var E=parseInt(F,10);return(0,e.BF)(!isNaN(E),"Cannot deserialize invalid date"),new Date(E)}function f(D){try{return m(D)}catch(P){}}function V(D,P,F,E){l.fF.assertValue(D,"date");var w=moment().subtract(F,P);return E&&(w=w.startOf(P)),moment(D)>=w}function p(D,P){return l.fF.assertValue(P,"date"),P.toLocaleTimeString(D,{second:"numeric",minute:"numeric",hour:"numeric"})}function C(D,P){return l.fF.assertValue(P,"date"),P.toLocaleDateString(D,{second:"numeric",minute:"numeric",hour:"numeric",weekday:"short"})}function b(D,P){return l.fF.assertValue(P,"date"),P.toLocaleDateString(D,{second:"numeric",minute:"numeric",hour:"numeric",day:"numeric",month:"short",year:"numeric"})}function y(){return(new Date).toISOString()}},522577:function(Xe,H,t){t.d(H,{s:function(){return o}});var e=t(860931),l={},o=function(){function h(){}return h.clearQueryString=function(c){var r=h.parseQueryString();return delete r[c],h.rebuildQueryString(r)},h.clearQueryStrings=function(c){for(var r=h.parseQueryString(),s=0,u=c;s<u.length;s++)delete r[u[s]];return h.rebuildQueryString(r)},h.addOrUpdateQueryString=function(c,r){var s=h.parseQueryString();return s[c]=r,h.rebuildQueryString(s)},h.addOrUpdateQueryStringToUrl=function(c,r){for(var s=h.parseUrl(c),u=h.clearAllQueriesFromUrl(c),i=0,a=Object.keys(r);i<a.length;i++){var n=a[i];s[n]=r[n]}return u+h.rebuildQueryString(s)},h.getQueryStringValue=function(c){return h.parseQueryString()[c]},h.isQueryParamSet=function(c,r){var s=l[c];if(!r||void 0===s){var u=h.getQueryStringValue(c);s=null!=u&&"false"!==u&&("1"===u||"true"===u.toLowerCase()||u.length>1),r&&(l[c]=s)}return s},h.parseUrl=function(c){var r=c.indexOf("?"),s=r>=0?c.substr(r):void 0;return h.parseQueryString(s)},h.parseQueryString=function(c){void 0===c&&(c=window.location.search);var r={},s=c;if(s&&"?"===s.substr(0,1))for(var i=0,a=s.substr(1).split("&");i<a.length;i++){var m=a[i].split("="),f=m[0],p=m.slice(1).join("=");r[decodeURIComponent(f)]=decodeURIComponent(p)}return r},h.parseQueryStringWithMultipleKeyValues=function(c){void 0===c&&(c=window.location.search);var r={},s=c;if(s&&"?"===s.substr(0,1))for(var i=0,a=s.substr(1).split("&");i<a.length;i++){var m=a[i].split("="),f=m[0],p=m.slice(1).join("="),C=decodeURIComponent(p);r[decodeURIComponent(f)]?r[decodeURIComponent(f)].push(C):r[decodeURIComponent(f)]=[C]}return r},h.rebuildQueryString=function(c){var r="",s=!0;for(var u in c)s||(r+="&"),r+=encodeURIComponent(u)+"=",c[u]&&(r+=encodeURIComponent(c[u])),s=!1;return s||(r="?"+r),r},h.clearAllQueriesFromUrl=function(c){var r=c.indexOf("?"),s=c.indexOf("#");return s>=0&&(s<r||-1===r)&&(r=s),r>=0?c.substr(0,r):c},h.fileOfUrl=function(c){var r=(c=h.clearAllQueriesFromUrl(c)).lastIndexOf("/");return-1!==r&&(c=c.substring(r+1)),c},h.OriginClientActivityIdParameterName="caid",h.OriginRootActivityIdParameterName="raid",h.OriginActivityIdParameterName="aid",h}();function d(){var h=(0,e.kx)();return h.QueryStringUtil||(h.QueryStringUtil={}),h.QueryStringUtil}var S=!1;!function(){if(!S){var h=o.getQueryStringValue;d().getQueryStringValue=function(r){return h(r)};var c=o.parseQueryString;d().parseQueryString=function(r){return void 0===r&&(r=window.location.search),c(r)},S=!0}}()},400198:function(Xe,H,t){t.d(H,{U:function(){return o},w:function(){return d}});var l,e=t(498342);function o(S){return new v(S)}function d(S){return new v(S)}var v=function(){function S(h){var c=this;this[l]="Promise",e.fF.assertValue(h,"deferred"),this.deferred=h,this.state=0,h.promise.then(function(){return c.state=1},function(){return c.state=2})}return S.prototype.then=function(h,c){return this.deferred.promise.then(h,c)},S.prototype.catch=function(h){return this.deferred.promise.catch(h)},S.prototype.finally=function(h){return this.deferred.promise.finally(h)},S.prototype.resolved=function(){return 1===this.state},S.prototype.rejected=function(){return 2===this.state},S.prototype.pending=function(){return 0===this.state},S.prototype.reject=function(h){this.pending()&&(this.deferred.reject(h),this.state=2)},S}();l=Symbol.toStringTag},621741:function(Xe,H,t){t.d(H,{e:function(){return d},l:function(){return o}});var e=t(498342),l=t(236090);function o(v,S,h){if(e.fF.assertValue(v,"fullString"),e.fF.assertValue(S,"from"),e.fF.assertValue(h,"length"),e.fF.assert(function(){return S>=0},"from >= 0"),e.fF.assert(function(){return h>=0},"length >= 0"),e.fF.assert(function(){return S+h<=v.length},"(from + length) <= fullString.length"),0===h)return null;for(var c=0,r=0,s=S+h-1;r<h;r++,s--){var u=v.charCodeAt(s)-48;if(u<0||9<u)return null;c+=u*(0,l.wA)(r)}return c}function d(v,S){return e.fF.assertValue(v,"literalStringToRegex - string"),e.fF.assertAnyValue(S,"literalStringToRegex - flags"),new RegExp(v.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&"),S)}},300242:function(Xe,H,t){t.d(H,{Eu:function(){return C},Ky:function(){return i},Pu:function(){return a},QA:function(){return f},T8:function(){return m},_T:function(){return p},b:function(){return u},g_:function(){return n},q5:function(){return V}});var u="Show technical details",i="Close",a="Refresh Page",n="oops, something went wrong",m="Unsupported browser detected",f="Power BI Q&A requires Internet Explorer 10 or higher, please upgrade your browser and try again",V="Please try again later or contact support. If you contact support, please provide these details.",p="Copy",C="Success!"},263136:function(Xe,H,t){function e(){return function(){if(!Object.defineProperty)return!1;try{return Object.defineProperty({},"customProperty",{get:function(){return!0},enumerable:!0,configurable:!1}),!0}catch(n){return!1}}()&&!!Function.prototype.bind&&!!$.support.cors}function o(){var i=window.navigator.userAgent.toLowerCase();return i.indexOf("msie ")>-1||i.indexOf("trident/")>-1}function v(){return/^((?!chrome|android).)*safari/i.test(window.navigator.userAgent)}t.d(H,{G6:function(){return v},TY:function(){return e},rO:function(){return o}})},124898:function(Xe,H,t){function e(o,d){if(d&&d.document&&d.document.cookie)for(var S=0,h=d.document.cookie.split(";");S<h.length;S++){var r=h[S].split("=");if(r.length>0&&r[0].trim()===o)return r[1]}}t.d(H,{e:function(){return e}})},998879:function(Xe,H,t){function l(c,r){var s=function(c){var r=window.performance.getEntriesByType("resource").filter(function(u){return"xmlhttprequest"===u.initiatorType&&-1!==u.name.indexOf(c)});if(r&&1===r.length)return r[0]}(c);return!!s&&(o(s,r),!0)}function o(c,r){c&&(r.timeOrigin=window.performance.timeOrigin,r.decodedBodySize=c.decodedBodySize,r.duration=c.duration,r.encodedBodySize=c.encodedBodySize,r.transferSize=c.transferSize,r.connectEnd=c.connectEnd,r.connectStart=c.connectStart,r.domainLookupEnd=c.domainLookupEnd,r.domainLookupStart=c.domainLookupStart,r.fetchStart=c.fetchStart,r.redirectEnd=c.redirectEnd,r.redirectStart=c.redirectStart,r.requestStart=c.requestStart,r.responseEnd=c.responseEnd,r.responseStart=c.responseStart,r.secureConnectionStart=c.secureConnectionStart,r.startTime=c.startTime,r.workerStart=c.workerStart,null!=c.responseStart&&null!=c.startTime&&(r.timeToFirstByte=c.responseStart-c.startTime))}function d(c){return c&&c.requestId&&c.responseRequestId?c.requestId===c.responseRequestId:null}function v(c){return c&&c.responseRequestId?c.responseRequestId:null}function S(c){switch(c){case 401:case 403:case 413:case 400:case 404:case 409:case 412:case 422:case 415:return!1;default:return!0}}function h(c){switch(c){case 500:case 503:return!0;default:return!1}}t.d(H,{Cx:function(){return d},Sc:function(){return S},bF:function(){return l},eQ:function(){return o},o7:function(){return h},yC:function(){return v}})},767650:function(Xe,H,t){function e(o,d,v){try{return JSON.parse(o,d)}catch(S){}}t.d(H,{K:function(){return e}})},609449:function(Xe,H,t){t.d(H,{C:function(){return e},M:function(){return l}});var e=["highContrastTheme","customTheme","baseTheme"];function l(o,d,v){return{name:o,version:v,type:d}}},153889:function(Xe,H,t){t.d(H,{I$:function(){return r},P8:function(){return v},Wh:function(){return h},jO:function(){return s},nN:function(){return c}});var e=t(498342),l=t(504898),o=t(522577);function v(){var u;try{u=window.parent.origin}catch(i){e.fF.log("isHostedInCrossDomainIFrame(): Caught exception when trying to access parent, most likely because the parent is cross-origin."),u="blockedBecauseCrossOrigin"}return window.origin!==u}function h(u){if(u)try{var i=atob(u);return pako.inflate(i,{to:"string"})}catch(n){l.f.error("Error while uncompressing TileData: ".concat(JSON.stringify(n)),null==n.stack)}return null}function c(u){if(u)try{var i=pako.gzip(u,{to:"string"});return btoa(i)}catch(n){l.f.error("Error while compressing data: ".concat(JSON.stringify(n)),null==n.stack)}return null}var u,r=function(){return null==u&&(u=!!o.s.getQueryStringValue("isE2ERun2")),u};function s(){return window}},658503:function(Xe,H,t){t.d(H,{SY:function(){return d},WQ:function(){return v},Wh:function(){return S},YL:function(){return c}});var e=t(498342),l=t(28291),o=moment.duration;function d(u,i,a){void 0===a&&(a=!1);var n=new Date,m=Intl.DateTimeFormat(i.currentLanguageLocale,{hour:"numeric",minute:"numeric"}).format(u);if(s(u,n))return i.format("TodayAt",m);var f=new Date;return f.setDate(n.getDate()-1),s(u,f)?i.format("YesterdayAt",m):v(u,i,a)}function v(u,i,a){if(void 0===a&&(a=!1),e.fF.assert(function(){return(0,l.ih)()},"Moment not available"),!u)return"-";var n=moment().diff(u),m=o(n),f=Math.floor;e.fF.assert(function(){return m.asMilliseconds()>=0},"This function is intended to be used only with dates from the past.");var V=f(m.asYears());if(V>1)return i.format("RelativeDate_YearsAgo",[V]);if(1===V)return i.get(r("RelativeDate_YearAgo",a));var p=f(m.asMonths());if(p>1)return i.format("RelativeDate_MonthsAgo",[p]);if(1===p)return i.get(r("RelativeDate_MonthAgo",a));var C=f(m.asDays());if(C>1)return i.format("RelativeDate_DaysAgo",[C]);if(1===C)return i.get(r("RelativeDate_DayAgo",a));var b=f(m.asHours());if(b>1)return i.format("RelativeDate_HoursAgo",[b]);if(1===b)return i.get(r("RelativeDate_HourAgo",a));var y=f(m.asMinutes());if(y>1)return i.format("RelativeDate_MinutesAgo",[y]);if(1===y)return i.get(r("RelativeDate_MinuteAgo",a));var D=f(m.asSeconds());return D>=30?i.format("RelativeDate_SecondsAgo",[D]):i.get("RelativeDate_Now")}function S(u,i,a,n){void 0===a&&(a="DisplayDateTime_Common"),void 0===n&&(n=!1),e.fF.assertValue(u,"timestamp is required param"),e.fF.assertValue(i,"localizationService is required param");var m=function(u,i,a){void 0===a&&(a=!1),e.fF.assertValue(u,"timestamp is required param"),e.fF.assertValue(i,"localizationService is required param");var n=new Date(u),m=new Date;if(s(n,m))return i.get(a?"TodayTitle":"Today");var f=new Date;return f.setDate(m.getDate()-1),s(n,f)?i.get(a?"YesterdayTitle":"Yesterday"):new Date(u).toLocaleDateString(i.currentLanguageLocale,{day:"numeric",month:"numeric",year:"numeric"})}(u,i,n),f=new Date(u).toLocaleTimeString(i.currentLanguageLocale,{hour:"numeric",minute:"numeric"});return i.format(a,[m,f])}function c(u){if(e.fF.assert(function(){return(0,l.ih)()},"Moment not available"),!u)return 0;var i=moment().diff(u),a=o(i),n=Math.floor;if(!(a.asMilliseconds()>=0))return 0;var m=n(a.asYears());if(m>=1)return 1e6+m;var f=n(a.asMonths());if(f>=1)return 1e5+f;var V=n(a.asDays());if(V>=1)return 1e4+V;var p=n(a.asHours());if(p>=1)return 1e3+p;var C=n(a.asMinutes());if(C>=1)return 100+C;var b=n(a.asSeconds());return b>=30?b:0}function r(u,i){return i?u+"_Capitalize":u}function s(u,i){return u.getFullYear()===i.getFullYear()&&u.getMonth()===i.getMonth()&&u.getDate()===i.getDate()}},88590:function(Xe,H,t){t.d(H,{BN:function(){return i},Cn:function(){return C},GA:function(){return m},GR:function(){return w},HX:function(){return y},Hq:function(){return u},Jm:function(){return b},K:function(){return f},NZ:function(){return p},W6:function(){return v},_r:function(){return a},at:function(){return n},bU:function(){return r},cI:function(){return F},d0:function(){return P},es:function(){return E},wc:function(){return h},yZ:function(){return D}});var e=t(566464),l=t(498342),o=t(35734),d=(0,e.CH)("explorationContainer");function v(x){return!!(1&x)}function h(x){return!!(4&x)}function r(x){return!!(16&x)}var u=(0,e.CH)("notDroppable"),i=(0,e.CH)("dropover"),a=(0,e.CH)("prepend"),n=(0,e.CH)("append"),m="dragover",f="drag";function p(x){var R=x.clone();return R.find("[id]").removeAttr(o.pX),R.addClass("dragHelper"),R}function C(x){var R=x.parents(d.selector);return l.fF.assert(function(){return R.length<=1},"We should only append the drag helper to 1 DOM element."),R}function b(x,R){var g=R();return g?(x.data[w]=g,!0):(x.data[E]=!0,!1)}function y(x,R){return!x.data[E]&&x.data[w]===R&&(x.data[E]=!0,!0)}function D(x,R){var g=R.height(),L=R.width(),M=R.offset(),T=x.pageY,O=x.pageX,N=0;return N|=M.top+g/2>T?1:4,N|=M.left+L/2>O?8:2,M.top+g/3<T&&M.top+g/3*2>T&&(N|=16),M.left+L/3<O&&M.left+L/3*2>O&&(N|=32),N}function P(x,R){if(!x)return!0;var g=function(x){return x.attr(f)}(x);return R.indexOf(g)>=0}var F="DragScrollHandler",E="DropEventHandled",w="DropTarget"},387949:function(Xe,H,t){t.d(H,{Ng:function(){return l},_1:function(){return o}});var e=t(860931);function l(){var v=(0,e.wg)();return v.telemetry||(v.telemetry={}),v.telemetry}function o(){var v=(0,e.wg)();return v.session||(v.session={}),v.session}},190392:function(Xe,H,t){t.d(H,{Xp:function(){return d},kx:function(){return o},uG:function(){return v}});var e=t(35734),l=t(281556),o={type:2,name:"visualThemeChanged"};function d(S){return null!=S.composed&&null!=S.repeat&&(!S.composed||S.repeat&&(17===S.keyCode||(0,l.SF)(S.keyCode)))}function v(S){return!$(S.target).is(e.$U)&&!$(S.target).is(e.CA)}},185897:function(Xe,H,t){t.d(H,{CX:function(){return v},F6:function(){return h},Ht:function(){return c},If:function(){return S},bL:function(){return d}});var e=t(146234),l=t(522577);function d(r){try{if(!r)return;var s=r.stack;if(!s)return;var u=s.indexOf("\n");return-1===u?void 0:s=(s=s.substring(u+1)).replace(/\s*((ms-pbi|https):\/\/\S*|\(.*?\))/g,function(i){var a=i.match(/([\w\.-]+\.(js|html)(:\d+:\d+)?)/);return null!=a?" (".concat(a[1],")"):""})}catch(i){return"Error at cleanExceptionStack"}}function v(r){var s;try{if(r instanceof TypeError||r instanceof ReferenceError)return r.message;if(r)return"Error of type ".concat(r.name," had a ").concat(null===(s=r.message)||void 0===s?void 0:s.length," characters long message")}catch(u){return"Error at cleanExceptionMessage"}}function S(r,s,u,i){if(!(u instanceof Error))try{throw new Error("Error wrapper for thrown object: ".concat(JSON.stringify(u)))}catch(m){u=m}if(!u.rejection||!(u.rejection.clientError&&u.rejection.clientError.ignorable||u.rejection.ignorable)){var a=u.message,n=u.stack;try{i?r.logChildEvent(i.event,s,{stack:n,message:a}):r.logEvent(s,{stack:n,message:a})}catch(m){}}}function h(r,s,u){return function(i,a){var m=i.message+' (caused by "'+a+'")\n',f=(i.stack||i).toString(),V=m+f;try{r.logEvent(u,{stack:f,message:m});var p={consoleMessage:V,type:"console_log",createdTime:(0,e.z)()};s.addLogEntry(p)}catch(C){}}}function c(r,s,u,i){return function(a,n,m,f,V){if(2!==m||8228!==f||!_.includes(n,"powerbiportal.dependencies.bundle")){if(V&&V.message&&V.stack){var p=V.message,C=V.stack;r.logEvent(i,{source:l.s.clearAllQueriesFromUrl(n),lineNumber:m,columnNumber:f||0,stack:C,message:p})}else"object"==typeof a&&a.message&&a.stack?(p=a.message,C=a.stack,r.logEvent(i,{source:l.s.clearAllQueriesFromUrl(n),lineNumber:m,columnNumber:f||0,stack:C,message:p})):(p=JSON.stringify(a,Object.getOwnPropertyNames(a)),r.logEvent(u,{source:l.s.clearAllQueriesFromUrl(n),lineNumber:m,columnNumber:f||0,message:p}));return s(a,n,m,f,V),!0}}}},53833:function(Xe,H,t){t.d(H,{M:function(){return o}});var e=t(35734),l=t(285766),o=function(){function d(v){void 0===v&&(v="Group"),this.focusNavMode=v}return d.prototype.findNext=function(v,S,h){void 0===S&&(S=!0),void 0===h&&(h=!1);var c=this.getDomWalker(S),r=v.getAttribute(l.Qt);return"Group"===r||"Browser"===r||h?this.traverseDown(v,c):this.searchFocusElement(v,c)},d.prototype.searchFocusElement=function(v,S){var h=this.traverseForward(S.getNextSibling(v),S);return h||(v.parentElement&&v.parentElement.getAttribute(l.Qt)!==this.focusNavMode?h=this.searchFocusElement(v.parentElement,S):v.parentNode&&v.parentNode.nodeType===Node.ELEMENT_NODE&&v.parentNode.getAttribute(l.Qt)!==this.focusNavMode&&(h=this.searchFocusElement(v.parentNode,S))),h},d.prototype.traverseForward=function(v,S){var h;if(v)return(0,l.Wq)(v)?v:(null==v.getAttribute(e.Rh)&&(h=this.traverseDown(v,S)),h||(h=this.traverseForward(S.getNextSibling(v),S)),h)},d.prototype.traverseDown=function(v,S){if(v&&"Skip"!==v.getAttribute(l.Qt))return this.traverseForward(S.getNextChild(v),S)},d.prototype.getDomWalker=function(v){var S=this;return v?{getNextSibling:function(c){return c.nextElementSibling},getNextChild:function(c){return _.isEmpty(c.children)?c.hasChildNodes()?S.getNextChildNodes(c,v):void 0:c.children[0]}}:{getNextSibling:function(c){return c.previousElementSibling},getNextChild:function(c){return _.isEmpty(c.children)?c.hasChildNodes()?S.getNextChildNodes(c,v):void 0:c.children[c.children.length-1]}}},d.prototype.getNextChildNodes=function(v,S){var h=v.childNodes,c=h.length,r=S?1:-1,s=S?0:c-1;do{var u=h[s];if(u&&u.nodeType===Node.ELEMENT_NODE)return u;s+=r}while(s>=0&&s<c)},d}()},148278:function(Xe,H,t){t.d(H,{m:function(){return h}});var e=t(53833),l=t(285766),o=t(134052),d=t(587839),v=t(35734),S=function(){function c(r){this.groupElement=r}return c.prototype.findNext=function(r,s){var u=this;void 0===s&&(s=!0);var m,i=r===this.groupElement?-1:this.getTabIndex(r),a=r!==this.groupElement&&!isNaN(i),n=s?1/0:0;return a||(i=s?-1:1/0),this.buildTabOrderMany([].slice.call(this.groupElement.children)).forEach(function(V){var p=u.getTabIndex(V.elem);isNaN(p)||(s?p>i&&p<=n:p<i&&p>=n)&&(n=p,m=V.elem)}),m},c.prototype.getTabIndex=function(r){return parseFloat(r.getAttribute(l.GY))},c.prototype.buildTabOrderMany=function(r){var s=this,u=[];return r.forEach(function(i){null==i.getAttribute(v.Rh)&&(u=_.concat(u,s.buildTabOrders(i)))}),u},c.prototype.buildTabOrders=function(r){var s=this.getTabIndex(r);return isNaN(s)?this.buildTabOrderMany([].slice.call(r.children)):[{tabOrder:s,elem:r}]},c}(),h=function(){function c(r){void 0===r&&(r=!1),this.skipCyclicNavigation=r}return Object.defineProperty(c.prototype,"name",{get:function(){return"Group"},enumerable:!1,configurable:!0}),c.prototype.shouldHandleFocus=function(r,s){return!$.contains(s,o.M.getTabbableParent(r,s))},c.prototype.findNextElementToFocus=function(r,s){var u=c.getGroupNavigationElement(r);switch(s.keyCode){case 39:case 40:if(c.groupElementSupportsArrows(u)&&!c.canHandleKeyEvents(r))return c.getFocusNextElement(!0);break;case 38:case 37:if(c.groupElementSupportsArrows(u)&&!c.canHandleKeyEvents(r))return c.getFocusNextElement(!1);break;case 9:if(!o.M.isElementContentEditable(r))return c.getFocusNextElement(!s.shiftKey,void 0,this.skipCyclicNavigation);break;case 27:return o.M.getTabbableParent(document.activeElement);case 13:if(u&&null!=u.getAttribute(l.tu))return o.M.getFirstTabbableChild(document.activeElement)}},c.getFocusNextElement=function(r,s,u){void 0===s&&(s=null),void 0===u&&(u=!1);var i=document.activeElement;if(s=s||c.getFirstFocusableParent(i)){var a=c.getGroupNavigationElement(s),n=void 0,m=void 0;if(a&&null!=a.getAttribute(l.tu))m=(n=new S(a)).findNext(s,r);else{var f=(0,d.XC)(s)||(0,d.vI)(s);f&&(m=(n=new d.Pp).findNext(s,r)),(!m||!f)&&(m=(n=new e.M).findNext(s,r))}if(m)return m;if("Group"!==s.getAttribute(l.Qt)&&!u){var V=c.getParentGroupElement(s);return V?n.findNext(V,r):void 0}}},c.getGroupNavigationElement=function(r){var s=r.getAttribute(l.Qt);return s&&"Group"===s?r:c.getParentGroupElement(r)},c.getFirstFocusableParent=function(r){if(!r)return null;if((0,l.Wq)(r)||"Group"===r.getAttribute(l.Qt))return r;for(var s=r.parentElement||r.parentNode&&r.parentNode.nodeType===Node.ELEMENT_NODE?r.parentNode:null;s;){if((0,l.Wq)(s)||"Group"===s.getAttribute(l.Qt))return s;s=s.parentElement||s.parentNode&&s.parentNode.nodeType===Node.ELEMENT_NODE?s.parentNode:null}return s},c.getParentGroupElement=function(r){return $(r).parents(l.yk).get(0)},c.canHandleKeyEvents=function(r){return o.M.isElementContentEditable(r)||o.M.isTextElement(r)},c.groupElementSupportsArrows=function(r){return!r||null==r.getAttribute(l.tu)||null==r.getAttribute(l.CA)},c}()},134052:function(Xe,H,t){t.d(H,{M:function(){return e}});var e={isElementContentEditable:function(o){return $(o).closest("[contentEditable]").length>0},isTextElement:function(o){if($(o).is(":disabled"))return!1;var d=o.nodeName.toLowerCase();return o.nodeType===Node.ELEMENT_NODE&&("textarea"===d||"select"===d||"input"===d&&/^(?:text|email|number|search|tel|url|password)$/i.test(o.type))},contains:function(o,d){return 0!=(d.compareDocumentPosition(o)&Node.DOCUMENT_POSITION_CONTAINS)},getFirstMatchingAncestor:function(o,d,v,S){void 0===S&&(S=!0);var h=o;if(h!==(v=v||document.body)||S&&d(h))for(!S&&o&&(h=h.parentElement||h.parentNode||void 0);h&&h!==document.body&&h.nodeType===Node.ELEMENT_NODE;){if(d(h))return h;if(h===v)break;h=h.parentElement||h.parentNode||void 0}},isElementTabbable:function(o){return!0===$(o).is(":tabbable")},getTabbableParent:function(o,d){return d=d||document.body,this.getFirstMatchingAncestor(o,this.isElementTabbable,d,!1)},getFirstTabbableChild:function(o){return this.getTabbableChildren(o)[0]},getTabbableDescendants:function(o){return $(o).find(":tabbable").get()},getTabbableChildren:function(o){var d=this;return _.filter(this.getTabbableDescendants(o),function(v){return!$.contains(o,d.getTabbableParent(v,o))})},getTabbableSiblingsMatch:function(o,d,v){void 0===v&&(v=document.body);var S=e.getTabbableSiblings(o,v);return _.filter(S,d)},getNextTabbableMatchingSibling:function(o,d,v){v=v||document.body;var S=this.getTabbableSiblingsMatch(o,d,v);if(S.length>0)return S[0]},getPrevTabbableMatchingSibling:function(o,d,v){v=v||document.body;var S=this.getTabbableSiblingsMatch(o,d,v);if(S.length>0)return S[S.length-1]},getTabbableSiblings:function(o,d){d=d||document.body;var v=this.getTabbableParent(o,d);if((!v||d&&$.contains(v,d))&&(v=d),v){for(var h=[],c=0,r=0,s=this.getTabbableChildren(v);r<s.length;r++){var u=s[r];u===o||this.contains(o,u)?c=0:h.splice(c++,0,u)}return h}return[]},getNextTabbableSibling:function(o,d){return d=d||document.body,this.getTabbableSiblings(o,d)[0]},getPrevTabbableSibling:function(o,d){d=d||document.body;var v=this.getTabbableSiblings(o,d);return v[v.length-1]},isElementVisible:function(o){return $(o).is(":visible")},getParentFocusElement:function(o){return $(o).parents(":tabbable:first").get(0)}}},587839:function(Xe,H,t){t.d(H,{Pp:function(){return o},Sn:function(){return d},XC:function(){return S},vI:function(){return v}});var e=t(285766),l=t(134052),o=function(){function a(n){void 0===n&&(n="Group"),this.focusNavMode=n}return a.prototype.findNext=function(n,m,f,V){var p;if(void 0===m&&(m=!0),void 0===f&&(f=!0),void 0===V&&(V=!1),V||S(n))(p=this.getFirstActiveChild(n))||(p=this.getNextTabOrderChild(n,m,r(m)));else if(v(n))p=this.getNextTabOrderSibling(n,m,f);else if(function(a){return null!=a.getAttribute(e.QW)}(n)){var C=function(a){return function(a,n){var m=$(a).closest("[".concat(n,"]"));return m&&m.get(0)}(a,e.qs)}(n);p=this.getNextTabOrderSibling(C,m,f)}return p},a.prototype.getNextTabOrderSibling=function(n,m,f){var b,V=n.getAttribute(e.qs),p=parseFloat(V);if(!isNaN(p)){var y=function(a,n){var m="HierarchicalTabOrder"===n?e.O:e.yk;return $(a).parents(m)[0]}(n,this.focusNavMode);if(!y)return;!(b=this.getNextTabOrderChild(y,m,p))&&f&&(b=this.getNextTabOrderChild(y,m,r(m)))}return b},a.prototype.getFirstActiveChild=function(n){var m;return $(n).find("[".concat(e._f,"]")).each(function(V,p){h(p)&&(m=p)}),m},a.prototype.getNextTabOrderChild=function(n,m,f){var V,p,C=$(n).find("[".concat(e.qs,"]"));return"HierarchicalTabOrder"===this.focusNavMode&&(C=C.filter(function(b,y){return l.M.getTabbableParent(y)===n})),C.each(function(b,y){var D=d(y);h(y)?V=y:l.M.isElementTabbable(y)&&(m?D<f:D>f)&&(void 0===V&&void 0===p||(m?D>p:D<p))&&(p=D,V=y)}),V},a}();function d(a){if(a.hasAttribute(e.qs))return parseFloat(a.getAttribute(e.qs))}function v(a){return null!=a.getAttribute(e.qs)}function S(a){return null!=a.getAttribute(e.T0)}function h(a){return null!=a.getAttribute(e._f)}function r(a){return a?10000001:-10000001}},285766:function(Xe,H,t){t.d(H,{BZ:function(){return e},CA:function(){return u},GY:function(){return s},O:function(){return a},QW:function(){return r},Qt:function(){return d},T0:function(){return v},Wq:function(){return o},_f:function(){return c},n8:function(){return l},qs:function(){return h},tu:function(){return S},yk:function(){return i}});var e="focusManager_focus",l="focusManager_focusOn";function o(n){return!0===$(n).is(":tabbable")&&!1===$(n).is(":disabled")}var d="focus-nav-mode",v="tab-order-enabled",S="tab-order-recursive-enabled",h="tab-order",c="tab-active",r="tab-order-child",s="tabindex",u="skip-arrow-navigation",i="[".concat(d,'="').concat("Group",'"]:first'),a="[".concat(d,'="').concat("HierarchicalTabOrder",'"]:first')},17816:function(Xe,H,t){t.d(H,{IK:function(){return i},M0:function(){return C}});var e=t(569978),l=t(955437),o=t(148278),d=t(134052),v=function(){function b(){}return Object.defineProperty(b.prototype,"name",{get:function(){return"Hierarchy"},enumerable:!1,configurable:!0}),b.prototype.shouldHandleFocus=function(){return!0},b.prototype.findNextElementToFocus=function(y,D,P){switch(D.keyCode){case 9:if(d.M.isElementContentEditable(y))return;var F=d.M.getTabbableChildren(P),E=d.M.getTabbableParent(y,P)===P;if(D.shiftKey){if(F.length>0&&(y!==F[0]||E))return d.M.getPrevTabbableSibling(y,P)}else{if(F.length>0&&(y!==F[F.length-1]||E))return d.M.getNextTabbableSibling(y,P);var w=d.M.getTabbableDescendants(P);if(w.length>0)return void w[w.length-1].focus()}break;case 27:if(y!==P)return d.M.getTabbableParent(y);break;case 13:return d.M.getFirstTabbableChild(y)}},b}(),S=t(53833),h=t(285766),c=t(587839),r=function(){function b(){}return Object.defineProperty(b.prototype,"name",{get:function(){return"HierarchicalTabOrder"},enumerable:!1,configurable:!0}),b.prototype.shouldHandleFocus=function(y){return!d.M.isElementContentEditable(y)},b.prototype.findNextElementToFocus=function(y,D){var E,P=y.hasAttribute(h.T0),F="HierarchicalTabOrder"===y.getAttribute(h.Qt);switch(D.keyCode){case 39:case 40:E=b.getFocusNextElement(y,!0,P);break;case 38:case 37:E=b.getFocusNextElement(y,!1,P);break;case 9:E=b.getFocusNextElement(y,!D.shiftKey,P);break;case 27:E=d.M.getTabbableParent(document.activeElement);break;case 13:E=F?b.getFocusNextElement(y,!0,!0):void 0}return E},b.getFocusNextElement=function(y,D,P){var w,F=y.hasAttribute(h.T0);if((void 0!==(0,c.Sn)(y)||F)&&(w=new c.Pp("HierarchicalTabOrder").findNext(y,D,!0,P)),!w){var R=new S.M("HierarchicalTabOrder");if(!(w=R.findNext(y,D,P))&&!P){var g=$(y).parents(h.O)[0];w=R.findNext(g,D,!0)}}return w},b}(),s="return-focus-element-attribute",u=0,i=function(){function b(){this.registeredElements=[],this.shortcutContainer=new C}return Object.defineProperty(b.prototype,"keyboardFocused",{get:function(){return b.keyboardFocused},set:function(D){b.keyboardFocused=D},enumerable:!1,configurable:!0}),b.getInstance=function(){return this._instance||(this._instance=new b)},b.prototype.register=function(y,D,P){var F=this;void 0===D&&(D=!1),void 0===P&&(P=!1);var E=[new o.m(P),new v,new r],w=function(L){return F.handleKeyPress(L,D,E)};_.includes(this.registeredElements,y)||(y.addEventListener("keydown",w),this.registeredElements.push(y));var x=_.find(this.registeredElements,y);return function(){x.removeEventListener("keydown",w),_.pull(F.registeredElements,y)}},b.prototype.registerShortcut=function(y){this.shortcutContainer.add(y)},b.prototype.unregisterShortcut=function(y){this.shortcutContainer.remove(y)},b.focusChildInGroup=function(y,D){var P="Group"===y.getAttribute(h.Qt)?y:$(y).find(h.yk).get(0);P&&b.focus(o.m.getFocusNextElement(!0,P),D)},b.focusChildInCanvas=function(y){var P="HierarchicalTabOrder"===y.getAttribute(h.Qt)?y:$(y).find(h.O)[0];P&&b.focus(r.getFocusNextElement(P,!0,!0))},b.focus=function(y,D){if(void 0===D&&(D=!0),y){var P=document.activeElement;l.l.setTimeout(function(){e.M.focus(y),$(y).triggerHandler(h.n8,P),$(y).trigger(h.BZ,P),D&&(b.keyboardFocused=!0,$("html").attr("data-focus-source","key")),y&&$(y).removeAttr(h._f)})}},b.prototype.focus=function(y,D){void 0===D&&(D=!0),b.focus(y,D)},b.prototype.focusOnGroupByIndex=function(y,D,P,F,E){this.shortcutContainer.handleByPriority(y,D,P,F,E)},b.setFocusOnPreviousElementOnDestroy=function(y,D,P){var F;return y.on(h.BZ,function(E,w){E.stopPropagation(),w&&(!D||void 0===F)&&!$.contains(y[0],w)&&(F=u++,w.setAttribute(s,F.toString()))}),function(){var E=document.activeElement;if(void 0!==F){var w=document.documentElement.querySelector("[".concat(s,'="').concat(F,'"]'));w&&$(w).closest(document.documentElement)&&(!P||$.contains(y[0],E))&&b.focus(w,!1)}}},b.prototype.handleKeyPress=function(y,D,P){if(this.handleShortcut(y))return y.stopPropagation(),void y.preventDefault();var F=document.activeElement;if(F){for(var E,w=d.M.getFirstMatchingAncestor(F,function(g){return g.hasAttribute(h.Qt)},document.body),x=function(){var L=w.getAttribute(h.Qt);if("Browser"===L)return{value:void 0};var M=_.find(P,function(T){return T.name===L});if(M&&M.shouldHandleFocus(F,w)&&(E=M.findNextElementToFocus(F,y,w)),E)return"break";w=d.M.getFirstMatchingAncestor(w,function(T){return T.hasAttribute(h.Qt)},document.body,!1)};w&&w!==document.body;){var R=x();if("object"==typeof R)return R.value;if("break"===R)break}E&&b.focus(E),D&&y.stopPropagation(),E&&13!==y.keyCode&&32!==y.keyCode&&(y.stopPropagation(),y.preventDefault())}},b.prototype.handleShortcut=function(y){return this.shortcutContainer.handle(y)},b.prototype.focusNextElement=function(y){b.focus(o.m.getFocusNextElement(!0,y))},b.keyboardFocused=!1,b}(),C=function(){function b(){this.shortcuts=[],this.scopedShortcuts=[]}return b.prototype.add=function(y){var D=this.getKeyCode(y.keycode,y.shift,y.alt,y.ctrl),P=y.scoped?this.scopedShortcuts:this.shortcuts;P[D]&&!_.find(P[D],function(F){return $(F.element).is(y.element)})?P[D].push(y):_.isEmpty(this.shortcuts[D])&&(P[D]=[y])},b.prototype.remove=function(y){var D=this.getKeyCode(y.keycode,y.shift,y.alt,y.ctrl);_.remove((y.scoped?this.scopedShortcuts:this.shortcuts)[D],function(F){return $(F.element).is(y.element)})},b.prototype.handle=function(y){if(y.keyCode>256)return!1;var D=e.M.isCtrlOrMeta(y),P=this.getKeyCode(y.keyCode,y.shiftKey,y.altKey,D),F=y.shiftKey&&D&&1653===P,E=this.findScopedShortcut(P);if(!E){var w=this.filterGroups(this.shortcuts[F?1141:P]);if(_.isEmpty(w))return!1;E=this.getNextShortcutElementToFocus(w,void 0,F)}return!!E&&(this.focusOnGroup(E),!0)},b.prototype.handleByPriority=function(y,D,P,F,E){this.focusOnGroup(this.getNextShortcutElementToFocus(this.filterGroups(this.shortcuts[this.getKeyCode(y,D,P,F)]),E))},b.prototype.focusOnGroup=function(y){"HierarchicalTabOrder"===y.getAttribute(h.Qt)?i.focus(r.getFocusNextElement(y,!0,!0)):i.focus(o.m.getFocusNextElement(!0,y))},b.prototype.getKeyCode=function(y,D,P,F){var E=y;return D&&(E|=512),F&&(E|=1024),P&&(E|=2048),E},b.prototype.filterGroups=function(y){return _.filter(y,function(D){var P=d.M.isElementVisible(D.element);return"HierarchicalTabOrder"===D.element.getAttribute(h.Qt)?P&&!!r.getFocusNextElement(D.element,!0,!0):P&&!!o.m.getFocusNextElement(!0,D.element)})},b.getFocusPriority=function(y,D){if(void 0===D&&(D=!0),y){var P=y.getAttribute("focus-priority");if(null!=P)return parseInt(P,10);if(null!=y.parentElement&&D)return this.getFocusPriority(y.parentElement)}},b.prototype.getFocusPriority=function(y,D){return void 0===D&&(D=!0),b.getFocusPriority(y,D)},b.prototype.findScopedShortcut=function(y){var D=document.activeElement,P=this.findExtendedScope(D),E=this.filterGroups(this.scopedShortcuts[y]);if(!_.isEmpty(E)&&D)for(var w=0,x=E;w<x.length;w++){var R=x[w];if(R&&($(D).is(R.element)||$.contains(D,R.element)||P&&($(P).is(R.element)||$.contains(P,R.element))))return R.element}},b.prototype.findExtendedScope=function(y){for(var D=y;D;){if(D.attributes.getNamedItem("extended-shortcut-scope"))return D;D=D.parentElement}},b.prototype.findCurrentFocusedShortcutElement=function(y){if(document.activeElement)for(var D=document.activeElement;D;){if(D.getAttribute("keyboard-shortcuts")===y)return D;D=D.parentElement}},b.prototype.getNextShortcutElementToFocus=function(y,D,P){void 0===P&&(P=!1);var F=(y=_.sortBy(y,function(L){return L.focusPriority}))[0];if(document.activeElement&&y.length>1)for(var E=null==D?this.findCurrentFocusedShortcutElement(F.shortcutString):null,w=0;w<=y.length-1;w++){var x=y[w];if(null!=D&&D>(x.focusPriority||-1)||E&&$(E).is(x.element)){F=y[(P?0===w?y.length-1:w-1:w+1)%y.length];break}}return null==F?void 0:F.element},b}()},393456:function(Xe,H,t){t.d(H,{U:function(){return e}});var e={LuciaDomainModelChangedEvent:{type:4,name:"LuciaDomainModelChangedEvent"},QnaSettingsChangedEvent:{type:4,name:"QnaSettingsChangedEvent"},ReportContentsReplacedEvent:{type:4,name:"ReportContentsReplacedEvent"},ModelChangedEvent:{type:4,name:"ModelChangedEvent"},SignInStatusChangedEvent:{type:4,name:"SignInStatusChangedEvent"},WindowStateChangedEvent:{type:4,name:"WindowStateChangedEvent"},ReportQueriesChangedEvent:{type:4,name:"ReportQueriesChangedEvent"},UpdateAvailableEvent:{type:4,name:"UpdateAvailableEvent"},SelectedSensitivityLabelChangedEvent:{type:4,name:"SelectedSensitivityLabelChangedEvent"},OpenFileMenuEvent:{type:4,name:"OpenFileMenuEvent"}}},275580:function(Xe,H,t){t.d(H,{E8:function(){return v},IH:function(){return S},Od:function(){return c},S_:function(){return h},Z8:function(){return a},eR:function(){return n},pB:function(){return u},ru:function(){return i},sE:function(){return d},uh:function(){return s}});var e=t(973188),l=t(365358),o=t(498342);function d(b,y){var D;if(b&&y)return V(b,y,function(P,F,E){return D=F,P}),D}function v(b,y){var D;return V(b.name,y,function(P,F,E){return D=P,P}),D}function S(b){for(var y=[],D=1;D<arguments.length;D++)y[D-1]=arguments[D];return(0,e.__spreadArray)((0,e.__spreadArray)([],b||[],!0),y||[],!0)}function h(b,y,D){return V(y.name,D,function(P,F,E){if(!C(F))return o.fF.assertFail("should find group item"),P;var w=F.clone?F.clone():_.clone(F);w.children=(0,e.__spreadArray)((0,e.__spreadArray)([],F.children||[],!0),[b],!1);for(var x=0,R=w.children;x<R.length;x++)R[x].parentGroup=w;return(0,l.UU)(P,function(L){return L===F?w:L})})}function c(b,y,D){return void 0===D&&(D=!0),y=V(b.name,y,function(P,F,E){return(0,l.Rl)(P,function(w){return F!==w})}),D&&(y=f(y)),y}function s(b,y){return f(b=p(b,function(D){return(0,l.Rl)(D,function(P){return!y(P)})}))}function u(b,y,D,P){return b.forEach(function(F){return F.parentGroup=void 0}),D=function(b,y,D){return void 0===D&&(D=!0),y=p(y,function(P){var F=_.differenceWith(P,b,function(E,w){return E.name===w.name});return F.length===P.length?P:F}),D&&(y=f(y)),y}(b,D,!1),f(D=V(y.name,D,function(F,E,w){return(0,l.x)(F,function(x){return x===E?P?(0,e.__spreadArray)([x],b,!0):(0,e.__spreadArray)((0,e.__spreadArray)([],b,!0),[x],!1):[x]})}))}function i(b,y){for(var D=0,P=b.children;D<P.length;D++)P[D].parentGroup=b;return y=function(b,y,D){return p(D,function(P){return(0,l.x)(P,function(F){return F===b[0]?[y]:_.includes(b,F)?[]:[F]})})}(b.children,b,y),f(y)}function a(b,y){for(var D=0,P=b.children;D<P.length;D++)P[D].parentGroup=void 0;return V(b.name,y,function(E,w,x){return(0,l.x)(E,function(R){return R===b?b.children:[R]})})}function n(b,y,D){for(var P=D||[],F=0,E=b;F<E.length;F++){var w=E[F];C(w)?P=n(w.children,y,P):y(w)&&(P=(0,e.__spreadArray)((0,e.__spreadArray)([],P||[],!0),[w],!1))}return P}function f(b){return p(b,function(y){return(0,l.Rl)(y,function(D){return!C(D)||!_.isEmpty(D.children)})})}function V(b,y,D){o.fF.assertValue(y,"itemGrouping - itemList"),o.fF.assertValue(b,"itemGrouping - targetName"),o.fF.assertValue(D,"itemGrouping - callback");for(var P=function(x){var R=y[x];if(R.name===b)return{value:D(y,R,x)};if(C(R)){var g=V(b,R.children,D);if(g!==R.children){var L=R.clone?R.clone():_.clone(R);L.children=g;for(var M=0,T=L.children;M<T.length;M++)T[M].parentGroup=L;return{value:(0,l.UU)(y,function(N){return N===R?L:N})}}}},F=0;F<y.length;F++){var E=P(F);if("object"==typeof E)return E.value}return y}function p(b,y){o.fF.assertValue(b,"itemGrouping - itemList"),o.fF.assertValue(y,"itemGrouping - callback");for(var D=function(x){if(C(x)){var R=p(x.children,y);if(R!==x.children){var g=x.clone?x.clone():_.clone(x);g.children=R;for(var L=0,M=g.children;L<M.length;L++)M[L].parentGroup=g;b=(0,l.UU)(b,function(O){return O===x?g:O})}}},P=0,F=b;P<F.length;P++)D(F[P]);return b=y(b)}function C(b){return void 0!==b.children}},85801:function(Xe,H,t){t.d(H,{W:function(){return e}});var e={javascript:"jquery-ui",css:["jquery-ui"]}},527353:function(Xe,H,t){t.d(H,{Ue:function(){return v}});var d,e=t(498342),l=t(301938),o=function(){function S(h){this.element=document.createElement("textarea"),this.element.style.position="absolute",this.element.style.left="-9999px"}return S.prototype.copyText=function(h,c,r){var s;e.fF.assertValue(h,"copyText didn't get a value"),"string"==typeof h?s=h:"function"==typeof h?s=h():e.fF.assertNever(h),this.copyToClipboard(s),this.logTelemetry(c,"Value",r)},S.prototype.copyGrid=function(h,c,r){var s=this;e.fF.assertValue(h,"copyGrid didn't get a value");var u=h(),i=u.grid,a=u.coveragePercentage,n=[];if(!_.isEmpty(i))for(var m=0,f=i;m<f.length;m++){var V=f[m];_.isEmpty(V)||n.push(_.map(V,function(p){return null==p?"":s.removeBreaks(p)}).join("\t"))}this.copyToClipboard(n.join("\n")),this.logTelemetry(c,"Selection",r,a)},S.prototype.removeBreaks=function(h){return h.replace(new RegExp("\t","g")," ").replace(new RegExp("\r\n","g")," ").replace(new RegExp("\n","g")," ")},S.prototype.copyToClipboard=function(h){this.element.value=h,document.body.appendChild(this.element);var c=document.activeElement;this.element.select(),document.execCommand("copy"),document.body.removeChild(this.element),c&&c.focus()},S.prototype.logTelemetry=function(h,c,r,s){h&&h.logEvent(l.YG,{copyType:c,visualType:r||"(unknown)",copySelectionPercentage:s||0})},S}();function v(){return d||(d=new o),d}},301938:function(Xe,H,t){t.d(H,{A_:function(){return q},BP:function(){return ie},Bf:function(){return re},C6:function(){return O},Fd:function(){return K},Ir:function(){return y},Lj:function(){return M},O2:function(){return P},TZ:function(){return B},U2:function(){return ve},Wj:function(){return x},YG:function(){return _e},ZX:function(){return Ee},ap:function(){return fe},c5:function(){return Ne},d3:function(){return L},eb:function(){return Be},fM:function(){return u},h:function(){return W},jj:function(){return a},lu:function(){return G},mN:function(){return g},py:function(){return le},rH:function(){return A},ry:function(){return ye},u3:function(){return E},zh:function(){return Ye}});var e=t(947634),l="BaseEvent",d=(e.cx[l]=(0,e.b1)(l),"TimedEvent"),S=(e.cx[d]=(0,e.b1)(d),"Verbose"),c=(e.cx[S]=(0,e.b1)(S),"VerboseTimedEvent"),s=(e.cx[c]=(0,e.b1)(c),"Trace"),u=e.cx[s]=(0,e.b1)(s),i="Error",a=e.cx[i]=(0,e.b1)(i),n="ErrorWithStackTrace",f=(e.cx[n]=(0,e.b1)(n),"ErrorWithStackTraceAndSourceDetails"),p=(e.cx[f]=(0,e.b1)(f),"CustomerAction"),b=(e.cx[p]=(0,e.b1)(p),"PBI.Dashboard.RootSession"),y=e.cx[b]=(0,e.b1)(b),D="PBI.WFE.Error",P=e.cx[D]=(0,e.b1)(D),F="PBI.Dashboard.ErrorDialog",E=e.cx[F]=(0,e.b1)(F),w="PBI.Dashboard.UnhandledAngularException",x=e.cx[w]=(0,e.b1)(w),R="PBI.Data.Exception",g=e.cx[R]=(0,e.b1)(R),L="PBI.Visual.Exception",M=e.cx[L]=(0,e.b1)(L),T="PBI.Dashboard.UnhandledException",O=e.cx[T]=(0,e.b1)(T),N="PBI.HandledException",A=e.cx[N]=(0,e.b1)(N),I="PBI.Dashboard.ReportTilePopulateException",B=e.cx[I]=(0,e.b1)(I),U="PBI.Dashboard.UnhandledStacklessException",W=e.cx[U]=(0,e.b1)(U,{logRatio:1e-4}),j="PBI.Visual.Error",K=e.cx[j]=(0,e.b1)(j),ee="PBI.WFE.ReopenUserAccount",ie=e.cx[ee]=(0,e.b1)(ee),he="PBI.WFE.AccountClosedPage",q=e.cx[he]=(0,e.b1)(he),Y="PBI.WFE.AbtSignoutRedirectPage",G=e.cx[Y]=(0,e.b1)(Y),me="PBI.Visual.Warning",re=e.cx[me]=(0,e.b1)(me),le="PBI.Visual.ApiUsage",Ee=e.cx[le]=(0,e.b1)(le),Ne="PBI.Visual.CustomVisualsGenericEvent",Ye=e.cx[Ne]=(0,e.b1)(Ne),Je="PBI.EX.CopyActionClicked",_e=e.cx[Je]=(0,e.b1)(Je),pe="StartActivity",fe=e.cx[pe]=(0,e.b1)(pe),oe="EndActivity",ye=e.cx[oe]=(0,e.b1)(oe),Ce="PBI.App.SignInError",Be=e.cx[Ce]=(0,e.b1)(Ce),be="PBI.App.TokenRefreshError",ce=(e.cx[be]=(0,e.b1)(be),"PBI.Storytelling.BrowserNotSupportedLoaded"),ve=e.cx[ce]=(0,e.b1)(ce)},425335:function(Xe,H,t){function e(d){return!!d&&"Open Report"===d.getProperty("name")}function l(d,v){return v&&o(d,v.getProperty("parent"))}function o(d,v){for(;v;){if(d(v))return v;v=v.parent}}t.d(H,{NN:function(){return o},sV:function(){return l},zK:function(){return e}})},895383:function(Xe,H,t){t.d(H,{U:function(){return h},V:function(){return r}});var e=t(973188),l=t(498342),o=t(768783),d=t(153889),v=t(301938);function h(s,u,i){return void 0===u&&(u=3),void 0===i&&(i=0),function(a,n,m){l.fF.assertValue(a,"target"),l.fF.assertValue(n,"propertyKey");var f=m.value;return m.value=function(){for(var V=this,p=[],C=0;C<arguments.length;C++)p[C]=arguments[C];l.fF.assert(function(){return!_.isEmpty(s)},"eventName"),l.fF.assert(function(){return 0!==u},"activityAction");for(var b=(0,d.jO)();!(b==window.top||b.featureSwitchService&&b.telemetryService);)b=b.parent;var F,y=b.featureSwitchService,D=b.telemetryService,P=!1;if(y&&y.isFeatureSwitchesRegistered()&&y.featureSwitches&&y.featureSwitches.telemetryV2&&D||(P=!0),P)return F=f.apply(this,p);var E=Zone&&Zone.current,w=E&&E.get("data"),x=w&&w.monitoredActivity;(0,o.yE)(u,1)&&(x=D.startMonitoredActivity(x,s,{baseVersion:"v2",isFireAndForget:1===i||void 0}),E=x.currentZone),l.fF.assertValue(E,"currentZone");try{E.run(function(){return F=f.apply(V,p)})}catch(R){if((0,o.yE)(u,2))return void c(x,R);throw R}return(0,o.yE)(u,2)&&(l.fF.assert(function(){return E.name===s},"Event name should be same as the current zone name"),F&&_.isObject(F)&&F.then&&_.isFunction(F.then)?F.then(function(){c(x)},function(R){c(x,R)}):(l.fF.assertValue(x,"Decorated method called without a start action"),c(x))),F},m}}function c(s,u){l.fF.assertValue(s,"Decorated method called without a start action"),s&&(u?s.reject(u):s.resolve())}function r(s,u,i){return function(a,n,m){l.fF.assertValue(a,"target"),l.fF.assertValue(n,"propertyKey");var f=m.value,V=m.value.length,p=V-1;return m.value=function(){for(var C,b,y=[],D=0;D<arguments.length;D++)y[D]=arguments[D];var P=y.length,F={},E=function(U){F.telemetryServiceArgs=U.telemetryServiceArgs,F.activityAttributesArgs=U.activityAttributesArgs},w=V>P;(u&&!w||i&&i>=P)&&l.fF.assertFail("Wrong use of the decorator, check documentation in decorators.ts.`"),y=u&&w?y.concat((0,e.__spreadArray)((0,e.__spreadArray)([],Array(p-y.length),!0),[E],!1)):y;for(var x=this,R=null===(b=null===(C=x.proxy)||void 0===C?void 0:C.plugin)||void 0===b?void 0:b.name,g=i&&i<P?y[i]:R||"",L=(0,d.jO)();!(L===window.top||L.telemetryService&&L.certifiedEventsService);)L=L.parent;var M=L.telemetryService,T=L.certifiedEventsService,O=function(U,W){var j;void 0===W&&(W={}),null==T||T.logStandardizedFeatureEvent({visualId:g,correlationId:null===(j=null==M?void 0:M.root)||void 0===j?void 0:j.id,activityName:v.c5,activityAttributes:(0,e.__assign)((0,e.__assign)({},W),{apiName:s}),activityStatus:U})},N=function(U,W,j){null==M||M.logEvent(v.zh,{apiName:s,visualType:g,errorOccurred:U,reason:j,additionalInfo:W})};try{var A=f.apply(this,y);if(A&&_.isObject(A)&&A.then&&_.isFunction(A.then))return A.then(function(B){var U=u?JSON.stringify(F.telemetryServiceArgs):void 0;return N(!1,U),O("Succeeded",F.activityAttributesArgs),B},function(B){var U=u?JSON.stringify(F.telemetryServiceArgs):void 0;throw N(!0,U,B),O("Failed",F.activityAttributesArgs),B});var I=u?JSON.stringify(F.telemetryServiceArgs):void 0;return N(!1,I),O("Succeeded",F.activityAttributesArgs),A}catch(B){throw N(!0,void 0,B),O("Failed"),B}},m}}},101696:function(Xe,H,t){t.d(H,{GB:function(){return v},MQ:function(){return o},Qf:function(){return l},W2:function(){return h},Wk:function(){return d},aK:function(){return S},oG:function(){return r},zg:function(){return c}});var e=t(359234);function l(u){switch(u){case 2:return"External";case 1:return"User";default:return"PowerBI"}}function o(u,i,a){var n=v(u,a);return n&&(n.errorMessage=i),n}function d(u,i){var a=v(u,i);return a&&(a.errorMessage=u.message),a}function v(u,i,a){if(u&&u.code){var n=u.code,m=u["pbi.error"]&&u["pbi.error"].exceptionCulprit;return null!=m?a?{errorCode:n,errorSource:s(m),requestId:a}:{errorCode:n,errorSource:s(m)}:null==i||401!==i&&403!==i?a?{errorCode:n,errorSource:"PowerBI",requestId:a}:{errorCode:n,errorSource:"PowerBI"}:a?{errorCode:n,errorSource:"User",requestId:a}:{errorCode:n,errorSource:"User"}}if(null!=i)return a?{errorCode:"HttpStatusCode = "+i,errorSource:"PowerBI",requestId:a}:{errorCode:"HttpStatusCode = "+i,errorSource:"PowerBI"}}function S(u,i){var a=v(u,i);if(a)return null!=i&&(400===i||401===i||403===i||429===i||404===i)&&(a.errorSource="User"),a}function h(u){if(u)return{errorCode:u.errorCode,errorMessage:"StatusCode="+u.statusCode,errorSource:null!=u.exceptionCulprit?r(u.exceptionCulprit):void 0}}function c(u){if(u){if(u.error)return u.error.code;if(u.status)return u.status.toString()}}function r(u){switch(u){case e.jV:return"External";case e.dB:return"User";default:return"PowerBI"}}function s(u){switch(u){case 2:return"External";case 1:return"User";default:return"PowerBI"}}},947634:function(Xe,H,t){t.d(H,{cx:function(){return S},lG:function(){return u},Hi:function(){return f},b1:function(){return m},Gv:function(){return r},c3:function(){return C},H6:function(){return s},l1:function(){return V}});var e=t(973188),l=t(498342),o=t(146234),d=t(382088),S={},h=d.b$.generateGuid,c=["sessionId","tenantObjectId","userObjectId","userId","isInternalUser","sessionSource"];function r(b){var D,F,y=0;if(0===b.length)return y;var E=b.toLowerCase();for(D=0,F=E.length;D<F;D++)y=(y<<5)-y+E.charCodeAt(D),y|=0;return y}function s(b){return r(b).toString()}function u(b,y,D){l.fF.assertAnyValue(b,"requiredFields"),l.fF.assertAnyValue(y,"optionalFields"),l.fF.assertAnyValue(D,"target");var P=D||b||{};if(D&&b&&(D=function(b,y,D){if(b||y)return!b||y?b||!y?$.extend(b,y,D):y:b}(D,b)),y)for(var F in y)if(y.hasOwnProperty(F)){var E=y[F];void 0!==E&&!1!==E&&(P[F]=E)}return P}function m(b,y){return function(D){return(0,e.__assign)((0,e.__assign)({name:b,time:(0,o.z)(),id:h()},y),{info:D,formatted:function(){return function(b,y,D){if(D){var P=[];for(var F in D){var E=y[D[F]];(void 0===E||!1===E)&&P.push(D[F])}y=_.omit(y,P)}return _.extend(b,y),b}({},D,null==y?void 0:y.optionalParameters)}})}}function f(b,y){l.fF.assert(function(){return!_.isEmpty(b)},"eventName"),l.fF.assertValue(y,"info"),l.fF.assertValue(Zone,"Zone");var D=Zone.current;if(D&&D.name===b){var P=D.get("data");if(P){for(var F=0,E=c;F<E.length;F++){var w=E[F];if(void 0!==y[w])throw new Error("Field '"+w+"' is restricted from override.")}_.extend((P.monitoredActivity&&P.monitoredActivity.activityEvent).info,y)}else l.fF.assertFail("No data field is stored in current zone")}else l.fF.assertFail("This method is expected to be used with ZoneJS and current Zone match the event name. event=".concat(b,", currentZone=").concat(D&&D.name))}function V(b,y,D){return b?b.run(function(){return y.apply(D)}):D?D.fn():y()}function p(b){return b&&!0===b.get("isAngularZone")}function C(b){for(var y=!1,D=b;D&&p(D);){if(D._zoneDelegate._taskCounts.microTask>0){y=!0;break}D=D.parent}return y}},456181:function(Xe,H,t){t.d(H,{Xe:function(){return d},bG:function(){return l}});var e=t(387949);function l(){return(0,e._1)().userInfo}var d=function(){function v(){}return v.getFullName=function(){var S=l();return S.givenName+" "+S.surname},v.isInternalUser=function(){var S=l();if(!S||!S.name)return!1;var h=S.name.toLowerCase();return h.indexOf("@microsoft.com")>=0||h.indexOf(".microsoft.com")>=0},v.getUPN=function(){return l().name},v.getEmailAddressForReceivingMail=function(){var S=l();return null==S?"":_.isEmpty(S.alternateEmail)?S.name:S.alternateEmail},v}()},708523:function(Xe,H,t){t.d(H,{N3:function(){return d},t7:function(){return v},xs:function(){return o}});var e=t(387949),l=t(301938),o="PowerBI.com",d="ActivityId",v="RequestId";(0,e.Ng)().WFEError||((0,e.Ng)().WFEError=l.O2),(0,e.Ng)().AppSignInError||((0,e.Ng)().AppSignInError=l.eb,(0,e.Ng)().WFEAccountClosedPage=l.A_,(0,e.Ng)().WFEReopenUserAccount=l.BP),(0,e.Ng)().WFEAbtSignoutRedirectPage||((0,e.Ng)().WFEAbtSignoutRedirectPage=l.lu),(0,e.Ng)().StorytellingBrowserNotSupportedLoaded||((0,e.Ng)().StorytellingBrowserNotSupportedLoaded=l.U2)},844518:function(Xe,H,t){function e(){return window.powerbi.telemetrySamplingRules}t.d(H,{L2:function(){return d},fy:function(){return e},zD:function(){return o}});var o=function(S){return S[S.Verbose=0]="Verbose",S[S.CustomerAction=1]="CustomerAction",S[S.CriticalError=2]="CriticalError",S[S.Trace=3]="Trace",S[S.SnapShotEmbedUserAction=4]="SnapShotEmbedUserAction",S}({}),d=function(S){return S[S.LocalyticsDeprecated=1]="LocalyticsDeprecated",S[S.AppInsightDeprecated=2]="AppInsightDeprecated",S[S.AppInsight=4]="AppInsight",S[S.Etw=8]="Etw",S[S.Mobile=16]="Mobile",S[S.WinJs=32]="WinJs",S[S.Designer=64]="Designer",S[S.NgRx=128]="NgRx",S[S.MetaOSStandardizedClientReporting=352]="MetaOSStandardizedClientReporting",S}({})},389731:function(Xe,H,t){t.d(H,{Fp:function(){return a},OA:function(){return S},SF:function(){return v},aD:function(){return d},eq:function(){return i},ge:function(){return u},gt:function(){return r},lt:function(){return s}});var e=t(498342),l=t(621741),o={major:0,minor:0,patch:0},d="0.0",v="99.9";function S(p){e.fF.assertValue(p,"versionString");for(var D,C=0,b=0,y=0,P=0,F=0,E=0,w=p.length;F<=w;F++){var x=F===w?46:p.charCodeAt(F);switch(x){case 46:case 45:if(F===E)return;var R=(0,l.l)(p,E,F-E);if(null==R)return;switch(P){case 0:C=R;break;case 1:b=R;break;case 2:y=R;break;default:return}if(P++,E=F+1,45===x){if(3!==P||!h(D=p.substr(F+1)))return;F=w}break;default:if(x<48||x>57)return}}var g={major:C,minor:b,patch:y};return D&&(g.prerel=D),g}function h(p){e.fF.assertValue(p,"prerel");for(var C=0,b=p.length;C<b;C++){var y=p.charCodeAt(C);if(!(65<=y&&y<=90||97<=y&&y<=122||48<=y&&y<=57||45===y||46===y))return!1}return!0}function r(p,C){return e.fF.assertValue(p,"v1"),e.fF.assertValue(C,"v2"),m(n(p),n(C))>0}function s(p,C){return e.fF.assertValue(p,"v1"),e.fF.assertValue(C,"v2"),m(n(p),n(C))<0}function u(p,C){return e.fF.assertValue(p,"v1"),e.fF.assertValue(C,"v2"),m(n(p),n(C))>=0}function i(p,C){return e.fF.assertValue(p,"v1"),e.fF.assertValue(C,"v2"),p=n(p),C=n(C),!m(n(p),n(C))}function a(p,C){return r(n(p),n(C))?p:C}function n(p){return _.isString(p)?S(p)||o:p}function m(p,C){var b=f(p.major,C.major);return b||(b=f(p.minor,C.minor))||(b=f(p.patch,C.patch))?b:function(p,C){var b=_.isEmpty(p),y=_.isEmpty(C);if(b)return y?0:1;if(y)return-1;var D=(0,l.l)(p,0,p.length),P=(0,l.l)(C,0,C.length);return null!=D?null!=P?f(D,P):-1:null!=P?1:p.localeCompare(C)}(p.prerel,C.prerel)}function f(p,C){var b=(p=p||0)-(C=C||0);return 0===b?0:b<0?-1:(e.fF.assert(function(){return b>0},"diff > 0"),1)}},798472:function(Xe,H,t){t.d(H,{g:function(){return l}});var e=t(28248),l=function(){function o(){}return o.getModalDialog=function(d){return o.modalDialog||(o.modalDialog=new e.pL(null,d)),o.modalDialog},o.errorServiceModalDialogControl=function(d){return o.getModalDialog(d)},o}()},198960:function(Xe,H,t){t.d(H,{_3:function(){return h}});var e=t(947634),l="PBI.ShowModalDialogRejected",d=(e.cx[l]=(0,e.b1)(l),"PBI.ShowModalDialogSkippedNestedDialogs"),S=(e.cx[d]=(0,e.b1)(d),"PBI.TriggerRefresh"),h=e.cx[S]=(0,e.b1)(S)},211624:function(Xe,H,t){t.d(H,{j:function(){return e}});var e="$$$angularInjectorController"},41055:function(Xe,H,t){t.d(H,{L:function(){return e}});var e=function(){return function(){this.inputUserList=[],this.validEmailsList=[],this.validObjectIds=[],this.hasValidationError=!1,this.isDirty=!1}}()},883629:function(Xe,H,t){t.d(H,{RZ:function(){return h},Ue:function(){return a}});var e=t(498342),v="[".concat("toolbar-anchor","]"),h="[".concat("toolbar-container","]"),c="overlayActive",s=(".".concat(c),"toolbarOverlay"),i=(".".concat(s),{layout:"overlayedToolbar",preferHorizontalLayout:!1,theme:"darkTheme"});function a(m,f,V){return new n(m,f,V)}var n=function(){function m(f,V,p){var C=this;this.anchor=f.closest(v),this.container=f.closest(h),e.fF.assert(function(){return C.container.length>0},"toolbarOverlay.container"),this.updateOptions(p),this.visible=!1,V&&this.setToolbar(V)}return m.prototype.setToolbar=function(f){var V=this.toolbar;if(V!==f){if(V&&V.remove(),!f)return void(this.toolbar=null);this.toolbar=f,f.addClass(s);var p=this.options,C=p.layout;this.updateTheme(void 0,p.theme),this.updateLayout(void 0,C),this.setVisibility(this.visible),this.container.append(f)}},m.prototype.destroy=function(){var f=this.toolbar;f&&f.remove(),this.toolbar=void 0,this.visible=!1},m.prototype.updateOptions=function(f){var V=this.options;f=this.options=_.defaults({},f,this.options,i),this.updateTheme(V&&V.theme,f.theme),this.updateLayout(V&&V.layout,f.layout)},m.prototype.updateTheme=function(f,V){!this.toolbar||f===V||(null!=f&&this.toolbar.removeClass(f),this.toolbar.addClass(V))},m.prototype.updateLayout=function(f,V){var p=this;!this.toolbar||f===V||(e.fF.assert(function(){return"overlayedToolbar"!==V||!!p.anchor},'Overlayed must have an element matching the "'.concat(v,'" selector')),null!=f&&(this.toolbar.removeClass(f),"overlayedToolbar"===f&&this.clearToolbarPosition()),this.toolbar.addClass(V))},m.prototype.show=function(){this.toolbar&&(this.repositionToolbar(),this.toolbar.addClass(c),this.visible=!0)},m.prototype.hide=function(){this.toolbar&&(this.toolbar.removeClass(c),this.visible=!1)},m.prototype.setVisibility=function(f){f?this.show():this.hide()},m.prototype.isVisible=function(){return this.visible},m.prototype.clearToolbarPosition=function(){this.toolbar&&this.toolbar.removeClass("top right bottom left")},m.prototype.repositionToolbar=function(){if("overlayedToolbar"===this.options.layout){var f=this.toolbar;if(f){e.fF.assertValue(this.anchor.length>0,"toolbarOverlay.anchor");var M,V=f.outerWidth(!0),p=f.outerHeight(!0),C=this.anchor.get(0).getBoundingClientRect(),b=C.left,y=C.right,D=C.bottom,P=this.container.get(0).getBoundingClientRect(),F=P.top,E=P.left,w=P.right,x=C.top,R=0,g=!0,L=!0,T=V+17,O=b-E,N=P.width-y;this.options.preferHorizontalLayout&&(O>T||N>T)?O>=N?(R=b-T,M=2):(R=y+17,M=3):((R=b)+V>E+P.width&&(R=b+C.width-V,g=!1),R<0&&(R=0),M=0,(x=C.top-p-27)<F&&(x=C.top+C.height+27,M=1,L=!1));var U=P.bottom,W=x+p+27;if(W>U&&(x-=W-U),this.options.dropdownOptions){var j=this.options.dropdownOptions,K=j.dropdown,ee=j.extraWidthOnRight,ie=j.extraWidthOnLeft,he=K.getBoundingClientRect(),q=x-F,Y=U-(x+p),G=R-ie>E,me=R+V+ee>w;switch(M){case 0:this.updateDropdownVerticalAlignment(K,q,Y,y>he.left),this.updateDropdownHorizontalAlignment(K,G,me);break;case 1:this.updateDropdownVerticalAlignment(K,q,Y),this.updateDropdownHorizontalAlignment(K,G,me);break;case 2:this.updateDropdownHorizontalAlignment(K,G,me,D>he.top),this.updateDropdownVerticalAlignment(K,q,Y);break;case 3:this.updateDropdownHorizontalAlignment(K,G,me),this.updateDropdownVerticalAlignment(K,q,Y);break;default:e.fF.assertNever(M)}}f.css({top:x,left:R});var le="".concat(g?"left":"right"," ").concat(L?"top":"bottom");f.removeClass("top right bottom left"),f.addClass(le)}}},m.prototype.resetDropdownHorizontalAlignment=function(f){$(f).css("right","")},m.prototype.resetDropdownVerticalAlignment=function(f){$(f).css("top","100%").css("bottom","")},m.prototype.moveDropdownToTheLeft=function(f){$(f).css("right",0)},m.prototype.moveDropdownUp=function(f){$(f).css("top","initial").css("bottom","100%")},m.prototype.updateDropdownVerticalAlignment=function(f,V,p,C){void 0===C&&(C=!1);var b=f.getBoundingClientRect().height,y=V>b,D=p<b;y&&(D||C)?this.moveDropdownUp(f):(this.resetDropdownVerticalAlignment(f),!y&&D&&$(f).css("height","".concat(p,"px")))},m.prototype.updateDropdownHorizontalAlignment=function(f,V,p,C){void 0===C&&(C=!1),V&&(p||C)?this.moveDropdownToTheLeft(f):this.resetDropdownHorizontalAlignment(f)},m}()},68258:function(Xe,H,t){t.d(H,{nD:function(){return E},pX:function(){return r},nC:function(){return s},Si:function(){return c}});var e=t(973188),l=t(498342),o=t(569978);function d(w){var x=w.get(0).style,R=x.transform||x.webkitTransform;if(R){var g=R.match(/rotate\((-?\d+(?:\.\d*)?)deg\)/);if(g)return parseFloat(g[1])}return 0}var h=t(382088),c=function(w){return w[w.Parent=1]="Parent",w[w.None=2]="None",w[w.Custom=3]="Custom",w}({}),r=function(w){return w[w.Up=1]="Up",w[w.Down=2]="Down",w[w.Left=4]="Left",w[w.Right=8]="Right",w[w.UpLeft=16]="UpLeft",w[w.UpRight=32]="UpRight",w[w.DownLeft=64]="DownLeft",w[w.DownRight=128]="DownRight",w[w.All=255]="All",w}({}),s=function(w){return w[w.Up=0]="Up",w[w.Down=1]="Down",w[w.Left=2]="Left",w[w.Right=3]="Right",w}({}),V="transformElement",p="dragging",C="resizing",y="resizeHandleGroup-",F={preventDefault:"auto",minWidth:15,minHeight:15,maxWidth:1e4,maxHeight:1e4,autoScrollParent:null,inertia:!1,disableDrawing:!1},E=function(){function w(x,R,g){this.ngZone=R,this.resizeHandleDirections=r.All,this.dimensions={},this.prevDimensions={},this.restricted={},this.preserveAspectRatio=!1,this.transformDelta={},window.interact&&(interact.pointerMoveTolerance(5),this.element=x,this.rawElement=this.element.get(0),this.updateOptions(g),this.snapToGridIfNeeded(),this.resizeHandleDirections=this.options&&this.options.resizeHandleDirections?this.options.resizeHandleDirections:this.resizeHandleDirections,this.element&&this.element.length>0&&(this.element.addClass(V),this.attachDragHandler(),this.attachResizeHandles(),this.updateHandlers(),this.attachKeyHandlers()),w.pointerTrap||(w.pointerTrap=$('<div id="transformPointerTrap" style="position: absolute; width: 1px; height: 1px; top: 0; left: 0"></div>').appendTo("body").get(0)))}return w.prototype.attachKeyHandlers=function(){var x=this;this.element.keydown(function(R){var M,g=R.shiftKey,L=R.shiftKey&&R.ctrlKey;if("true"!==$(x.element).attr("drag-resize-disabled")&&(!o.M.isCtrlOrMeta(R)||L)){var T=x.getDimensionsFromElement(x.element,!0),O=g?10:1;if(L){var N=function(W){return W/2===Math.round(W/2)};switch(R.keyCode){case 40:T.height-=1,M=s.Down,N(T.height)&&(T.y+=1);break;case 38:T.height+=1,M=s.Up,N(T.height)||(T.y-=1);break;case 37:T.width-=1,M=s.Left,N(T.width)&&(T.x+=1);break;case 39:T.width+=1,M=s.Right,N(T.width)||(T.x-=1);break;default:return}}else switch(R.which){case 40:M=s.Down,T.y+=O;break;case 38:M=s.Up,T.y-=O;break;case 37:M=s.Left,T.x-=O;break;case 39:M=s.Right,T.x+=O;break;default:return}var A=x.getRestrictionParent();if(A&&0!==A.length){var I=function(w){return{left:parseFloat(w.css("padding-left"))||0,right:parseFloat(w.css("padding-right"))||0,top:parseFloat(w.css("padding-top"))||0,bottom:parseFloat(w.css("padding-bottom"))||0}}(A),B=x.getDimensionsFromElement(A);T=x.restrictTo(T,B,I)}x.transformRelativeDimensionFromElement(x.element,T),R.stopPropagation&&R.stopPropagation(),R.preventDefault&&R.preventDefault(),x.notifyNudge(T,{bigNudge:g,direction:M})}})},w.prototype.restrictTo=function(x,R,g){var M=-g.top||0;return{x:Math.max(-g.left||0,Math.min(x.x,R.width-x.width)),y:Math.max(M,Math.min(x.y,R.height-x.height)),width:Math.min(x.width,R.width+g.left+g.right),height:Math.min(x.height,R.height+g.top+g.bottom)}},w.prototype.destroy=function(){this.dragInteractable&&this.dragInteractable.unset(),this.resizeInteractable&&this.resizeInteractable.unset(),this.autoScrollParent&&this.autoScrollParent.off("scroll",this.autoScrollParentScrollHandlerFn)},w.prototype.getResizeHandleDirectionArray=function(){var x=[],R=this.options.resizeHandleDirections;return R&r.Up&&x.push("up"),R&r.Down&&x.push("down"),R&r.Left&&x.push("left"),R&r.Right&&x.push("right"),R&r.UpLeft&&x.push("up-left"),R&r.UpRight&&x.push("up-right"),R&r.DownLeft&&x.push("down-left"),R&r.DownRight&&x.push("down-right"),x},w.prototype.getRestrictionString=function(){var x;switch(this.options.restriction){case c.Parent:x="parent";break;case c.Custom:x=this.options.getCustomRestrictionSelector();break;default:x=""}return x},w.prototype.getRestrictionParent=function(){var x=this.getRestrictionString();switch(x){case"":return;case"parent":return this.element.parent();default:return this.element.parent().closest(x)}},w.prototype.getAutoScrollOptions=function(){var x=this.options.autoScrollParent;return null==x?void 0:{enabled:!0,container:x[0]}},w.prototype.updateOptions=function(x){var R=this.options||{};this.options=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},F),R),x),this.restrictionElement=this.options.restrictDraw&&this.options.restriction!==c.None?this.getRestrictionParent():void 0,this.updateHandlers()},w.prototype.updateHandlers=function(){if(this.dragInteractable||this.resizeInteractable){var x=this.getAutoScrollOptions();if(this.dragInteractable){var R=0===this.getRestrictionString().length?void 0:{restriction:this.getRestrictionString(),endOnly:!1,elementRect:{top:0,left:0,bottom:1,right:1}};this.dragInteractable.draggable({restrict:R,autoScroll:x})}this.resizeInteractable&&(R={restriction:""===this.getRestrictionString()?void 0:this.getRestrictionParent().get(0),elementRect:{top:0,left:0,bottom:1,right:1}},this.resizeInteractable.draggable({restrict:R,autoScroll:x}))}},w.prototype.attachDragHandler=function(){var x=this,R=this.element.get(0),g=this.options.autoScrollParent,L=this.options.preventDefault;if(this.dragInteractable=this.ngZone.runOutsideAngular(function(){return interact(R).preventDefault(L).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({inertia:!1,onstart:function(A){return x.ngZone.run(function(){return x.onDragStart(A)})},onmove:function(A){return x.ngZone.run(function(){return x.onDragMove(A)})},onend:function(A){return x.ngZone.run(function(){return x.onDragEnd()})}})}),this.element.on("pointerdown.transform",function(){x.dragInteractable&&x.options.getDragRestriction&&(x.dragInteractable.options.drag.restrict.elementRect=x.options.getDragRestriction())}),g){var M=h.S5,T=0,O=0;this.autoScrollParent=g,this.autoScrollParentScrollHandlerFn=M(function(){var N=g.scrollTop(),A=g.scrollLeft(),I=A-O,B=N-T;if(0!==I||0!==B){var U={dx:I,dy:B};x.element.hasClass(p)?x.onDragMove(U):x.element.hasClass(C)&&x.onResizeMove(U)}T=N,O=A}),g.on("scroll.transformElement",this.autoScrollParentScrollHandlerFn)}},w.prototype.onDragStart=function(x){this.dragStopped=!1,o.M.isCtrlOrMeta(x)||x.shiftKey?this.dragStopped=!0:(this.options&&this.options.supportsPointerCapture&&w.pointerTrap.setPointerCapture&&x.interaction.pointerIds.length>0&&null!=x.interaction.pointerIds[0]&&w.pointerTrap.setPointerCapture(x.interaction.pointerIds[0]),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions=(0,e.__assign)({},this.dimensions),this.element.addClass(p),this.notifyDragStart(this.dimensions))},w.prototype.onDragMove=function(x){this.dragStopped||(this.dimensions.x+=x.dx,this.dimensions.y+=x.dy,this.draw(this.dimensions),this.notifyDragMove(this.dimensions))},w.prototype.onDragEnd=function(){this.dragStopped||(this.element.removeClass(p),this.snapToGridIfNeeded(),this.notifyDragEnd(this.dimensions))},w.prototype.attachResizeHandles=function(){for(var R,x=this,g=this.getResizeHandleDirectionArray(),L=this.options,M=L.customHandleClass,T=L.transformId,O=0,N=g.length;O<N;O++){var A=$("<div></div>").addClass("resizeHandle").attr("data-direction",g[O]).appendTo(this.element);M&&A.addClass(M),T&&A.addClass(y+this.options.transformId)}var I=".resizeHandle"+(this.options.transformId?".".concat(y).concat(this.options.transformId):"");this.resizeInteractable=this.ngZone.runOutsideAngular(function(){return interact(I,{context:x.rawElement}).styleCursor(!1).ignoreFrom("[draggable=true], [drag-resize-disabled=true]").draggable({onstart:function(U){return x.ngZone.run(function(){return x.onResizeStart(U)})},onmove:function(U){return x.ngZone.run(function(){R=U,x.onResizeMove(U)})},onend:function(){return x.ngZone.run(function(){R=null,x.onResizeEnd()})}})}),this.element.bind("keydown","keyup",function(B){var U="keydown"===B.type;x.element.hasClass(C)&&16===B.keyCode&&R&&U!==R.shiftKey&&(R.shiftKey=U,x.onResizeMove(R))})},w.prototype.onResizeStart=function(x){this.isResizing=!0,void 0!==this.element&&(this.preserveAspectRatio="true"===this.element.attr("preserve-aspect-ratio"));var R=x.target;this.element.addClass(C),this.dimensions=this.getDimensionsFromElement(this.element),this.prevDimensions=(0,e.__assign)({},this.dimensions),this.resizeStartRect={left:this.dimensions.x,top:this.dimensions.y,right:this.dimensions.x+this.dimensions.width,bottom:this.dimensions.y+this.dimensions.height,width:this.dimensions.width,height:this.dimensions.height};var g=R.getAttribute("data-direction");this.resizeDirection={up:/up/.test(g),down:/down/.test(g),left:/left/.test(g),right:/right/.test(g)},this.setTransformDelta(x),this.aspectRatio=this.calculateAspectRatio(this.dimensions,this.options.aspectRatioOffset),_.extend(this.restricted,this.dimensions),this.notifyResizeStart(this.dimensions)},w.prototype.setTransformDelta=function(x){this.transformDelta.width=x.clientX-(this.resizeDirection.left?this.resizeStartRect.left:this.resizeStartRect.right),this.transformDelta.height=x.clientY-(this.resizeDirection.up?this.resizeStartRect.top:this.resizeStartRect.bottom)},w.prototype.calculateAspectRatio=function(x,R){var g=x.height,L=x.width;return R&&(g+=R.height,L+=R.width),g/L},w.prototype.onResizeMove=function(x){var R=this.options.aspectRatioOffset||{width:0,height:0},g=x.clientY-this.transformDelta.height,L=x.clientX-this.transformDelta.width,M=0;for(var T in this.resizeDirection)M+=this.resizeDirection[T];if(this.resizeDirection.left&&(this.dimensions.x=L,this.dimensions.width=this.resizeStartRect.right-L),this.resizeDirection.up&&(this.dimensions.y=x.clientY,this.dimensions.height=this.resizeStartRect.bottom-g),this.resizeDirection.right&&(this.dimensions.width=L-this.resizeStartRect.left),this.resizeDirection.down&&(this.dimensions.height=g-this.resizeStartRect.top),(this.preserveAspectRatio||x.shiftKey)&&2===M){var O=void 0,N=this.getRestrictionParent();if(N&&N.length){var A=this.rawElement.getBoundingClientRect().top-N.get(0).getBoundingClientRect().top;O=this.resizeDirection.up?this.dimensions.height+A:N.get(0).clientHeight-A}else O=void 0;w.fixDimensionsBasedOnAspectRatio(this.options,this.aspectRatio,O,R,this.dimensions),this.restricted.width=this.dimensions.width,this.restricted.height=this.dimensions.height}else this.restricted.width=Math.min(Math.max(this.dimensions.width,this.options.minWidth),this.options.maxWidth),this.restricted.height=Math.min(Math.max(this.dimensions.height,this.options.minHeight),this.options.maxHeight);this.resizeDirection.left&&(this.restricted.x=this.resizeStartRect.right-this.restricted.width),this.resizeDirection.up&&(this.restricted.y=this.resizeStartRect.bottom-this.restricted.height),this.restricted.angle=d(this.element),this.draw(this.restricted),this.notifyResizeMove(this.restricted)},w.fixDimensionsBasedOnAspectRatio=function(x,R,g,L,M){void 0===g&&(g=Number.MAX_VALUE);var T=Math.min(M.width,x.maxWidth)+L.width,O=T*R;O>(g=Math.min(x.maxHeight,g)+L.height)&&(T=(O=g)/R),O<x.minHeight+L.height&&(T=(O=x.minWidth+L.height)/R),T<x.minWidth+L.width&&(O=(T=x.minWidth+L.width)*R),M.height=O-L.height,M.width=T-L.width},w.prototype.onResizeEnd=function(){this.isResizing=!1,this.element.removeClass(C),_.extend(this.dimensions,this.restricted),this.snapToGridIfNeeded(),this.notifyResizeEnd(this.dimensions)},w.prototype.getDimensionsFromElement=function(x,R){var g=this;void 0===R&&(R=!1);var L=this.getPositionFromElement(x);if(R){var M=x.parents("."+V);M.length&&M.each(function(N,A){var I=g.getPositionFromElement($(A));L.x+=I.x,L.y+=I.y})}var T=this.getSizeFromElement(x),O=d(x);return{x:L.x,y:L.y,width:T.width,height:T.height,angle:O}},w.prototype.transformRelativeDimensionFromElement=function(x,R){var g=this,L=x.parents("."+V);L.length&&L.each(function(M,T){var O=g.getPositionFromElement($(T));R.x-=O.x,R.y-=O.y})},w.prototype.getSizeFromElement=function(x){return{width:x.width(),height:x.height()}},w.prototype.getPositionFromElement=function(x){return function(w){var x={x:0,y:0};if(w&&w.length){var R=w.get(0).style,g=R.transform||R.webkitTransform;if(g&&g.length>0){var L=g.match(/translate\((-?\d+(?:\.\d*)?)px, (-?\d+(?:\.\d*)?)px\)/);L?(x.x=parseFloat(L[1]),x.y=parseFloat(L[2])):(L=g.match(/translate\((-?\d+(?:\.\d*)?)px\)/))&&(x.x=parseFloat(L[1]),x.y=0)}}return x}(x)},w.prototype.draw=function(x){if(!this.options.disableDrawing){var g,R=this.prevDimensions;x=x||this.dimensions,this.options.getIntermediateDimensions&&(g=this.options.getIntermediateDimensions(x)),x=_.extend({},g||x);var L=this.element.get(0).style,M=x.angle;if(!_.isEmpty(this.restrictionElement)){var T=this.getDimensionsFromElement(this.restrictionElement);x.x=Math.max(T.x,x.x),x.y=Math.max(T.y,x.y);var O=Math.max(0,x.x+x.width-(T.x+T.width)),N=Math.max(0,x.y+x.height-(T.y+T.height));this.isResizing?(x.height=x.height-N,x.width=x.width-O):(x.x=x.x-O,x.y=x.y-N,l.fF.assert(function(){return x.x>=T.x},"dimensions.x is less than restriction"),l.fF.assert(function(){return x.y>=T.y},"dimensions.y is less than restriction"))}(x.x!==R.x||x.y!==R.y||x.angle!==R.angle)&&(L.webkitTransform=L.transform="translate("+x.x+"px, "+x.y+"px)"+(M?" rotate("+M+"deg)":""),R.x=x.x,R.y=x.y,R.angle=R.angle),R.width!==x.width&&(L.width=x.width+"px",R.width=x.width),R.height!==x.height&&(L.height=x.height+"px",R.height=x.height)}},w.prototype.snapToGridIfNeeded=function(){!0===this.options.snapToGrid&&this.options.gridSize&&(this.dimensions||(this.dimensions=this.getDimensionsFromElement(this.element)),this.snapToGrid(this.dimensions))},w.prototype.snapToGrid=function(x){var R=this.options.gridSize;x.x=Math.round(x.x/R.width)*R.width,x.y=Math.round(x.y/R.height)*R.height,x.width=Math.round(x.width/R.width)*R.width,x.height=Math.round(x.height/R.height)*R.height,this.draw(x)},w.prototype.notifyResizeStart=function(x){this.options&&this.options.onResizeStart&&this.options.onResizeStart(x)},w.prototype.notifyResizeMove=function(x){this.options&&this.options.onResizeMove&&this.options.onResizeMove(x)},w.prototype.notifyResizeEnd=function(x){this.options&&this.options.onResizeEnd&&this.options.onResizeEnd(x)},w.prototype.notifyDragStart=function(x){this.options&&this.options.onDragStart&&this.options.onDragStart(x)},w.prototype.notifyDragMove=function(x){this.options&&this.options.onDragMove&&this.options.onDragMove(x)},w.prototype.notifyDragEnd=function(x){this.options&&this.options.onDragEnd&&this.options.onDragEnd(x)},w.prototype.notifyNudge=function(x,R){this.options&&this.options.onNudge&&this.options.onNudge(x,R)},w}()},785205:function(Xe,H,t){t.d(H,{$V:function(){return C},E9:function(){return s},Fp:function(){return c},IJ:function(){return V},K0:function(){return i},Kj:function(){return o},Kk:function(){return r},LX:function(){return R},MX:function(){return h},Nf:function(){return D},OA:function(){return u},_h:function(){return l},dx:function(){return y},gn:function(){return f},iQ:function(){return e},nt:function(){return S},td:function(){return d},tk:function(){return n},tz:function(){return b},wu:function(){return v},xu:function(){return p}});var e="Explore_ExplorationCreation",l="ExportExcel_EmptyColumnName",o="modelFailednoErrorInfo",d="ModelSizeExceedsSharedCapacityLimit",v="ModelWithIncrementalRefreshIsNotDownloadable",S="ServerError_PremiumFilesErrors_OperationIsNotSupportedForPremiumFilesModel",h="ExportData_DisabledForModelModifiedByXmlaEndpoint",c="ExportData_DisabledForModelWithInferredPartition",r="UnsupportedModelWithRefreshPolicyInSharedCapacity",s="DatasetsWithCompositeModelsNotSupported",u="PowerBIEntityNotFound",i="PowerBINotAuthorizedException",n="rsErrorOpeningConnection",f="TokenExpired",V="UserNotLicensed",p="NetworkConnectionIssue",C="NavigateAway",b="ChangeDetectionMeasureExecutionDisabledException",y="UnsupportedChangeDetectionMeasureException",D="FailedToAutoAssignLicense",R="PowerBIOperationNotSupported"},969766:function(Xe,H,t){t.d(H,{Q:function(){return o},W:function(){return l}});var e=t(860931);function l(d){(0,e.hG)().errorService=d}function o(){return(0,e.hG)().errorService}},981519:function(Xe,H,t){t.d(H,{Dd:function(){return s},GA:function(){return p},NJ:function(){return C},OM:function(){return D},PF:function(){return v},Qq:function(){return m},SV:function(){return a},VF:function(){return f},Z:function(){return e},dJ:function(){return o},dm:function(){return r},i5:function(){return h},ii:function(){return b},lH:function(){return n},m:function(){return y},pG:function(){return i},qw:function(){return u},sc:function(){return c},t1:function(){return S},v7:function(){return d}});var e=function(P){return P[P.AzureMapsDomain=1]="AzureMapsDomain",P[P.All=1]="All",P}({}),o={type:2,name:"visualContainerResizeStart"},d={type:2,name:"visualContainerResizeEnd"},v={type:2,name:"visualContainerInteraction"},S={type:2,name:"canvasItemContainerShowHover"},h={type:2,name:"canvasItemContainerHideHover"},c={type:2,name:"liveReportTileReady"},r={type:2,name:"printSectionReady"},s={type:3,name:"reportPrintSectionStarted"},u={type:3,name:"reportPrintSectionFinished"},i={type:4,name:"loadPowerViewReport"},a={type:4,name:"explorationUnloaded"},n={type:4,name:"informationProtectionLoaded"},m={type:4,name:"printModeChanged"},f={name:"reportRefreshStateChanged",type:4},p={name:"tileVisualLoadedChanged",type:4},C={name:"externalUrlChanged",type:4},b={type:4,name:"scrollToSelectedTile"},y={type:4,name:"Tile_RLS_NoAccess"},D={name:"dashboardTileScaleChanged",type:2}},606008:function(Xe,H,t){t.d(H,{Ed:function(){return s},XP:function(){return d},ZV:function(){return e},aE:function(){return o},ep:function(){return r},jX:function(){return S},qu:function(){return l},qz:function(){return h},rO:function(){return v}});var e={13:"https://go.microsoft.com/fwlink/?LinkId=546971",19:"https://go.microsoft.com/fwlink/?LinkID=528958",10:"https://go.microsoft.com/fwlink/?LinkID=528796",30:"https://go.microsoft.com/fwlink/?LinkId=613552",23:"https://go.microsoft.com/fwlink/?LinkID=528959",16:"https://go.microsoft.com/fwlink/?LinkID=528957",17:"https://go.microsoft.com/fwlink/?LinkID=528797",20:"https://go.microsoft.com/fwlink/?LinkId=613120",9:"https://go.microsoft.com/fwlink/?LinkID=528963",26:"https://go.microsoft.com/fwlink/?LinkID=528960",42:"https://go.microsoft.com/fwlink/?LinkId=536680",41:"https://go.microsoft.com/fwlink/?LinkId=613402",52:"https://go.microsoft.com/fwlink/?LinkId=615189",14:"https://go.microsoft.com/fwlink/?LinkId=544911",38:"https://go.microsoft.com/fwlink/?LinkID=615577",18:"https://go.microsoft.com/fwlink/?LinkId=533295",24:"https://go.microsoft.com/fwlink/?LinkID=528961"},l="https://go.microsoft.com/fwlink/?LinkId=532757",o="https://go.microsoft.com/fwlink/?linkid=2179788",d="https://go.microsoft.com/fwlink/?LinkId=525916",v="https://go.microsoft.com/fwlink/?LinkId=823121",S="https://go.microsoft.com/fwlink/?LinkId=786855",h="https://go.microsoft.com/fwlink/?LinkId=823122",r="https://go.microsoft.com/fwlink/?LinkID=825665",s="https://learn.microsoft.com/en-us/power-bi/developer/visuals/licensing-faq"},903190:function(Xe,H,t){t.d(H,{J8:function(){return h}});var e=t(384103),l=t(498342),o=t(569978),d=t(981519),h=function(){function c(){}return c.getPrintTargetViewPort=function(r){var s={width:e.SZk,height:e.qvT};if(r.width()>r.height()&&(s.width=e.nDG,s.height=e.Td2),o.M.isChrome()){var a=r.parent();s.width=a.width(),s.height=a.height()}return s},c.calculateScaleFactor=function(r,s,u){var i=s.width/r.width,a=s.height/r.height;return u?Math.max(i,a):Math.min(i,a)},c.prototype.getStyleString=function(r){for(var s=Object.keys(r),u="",i=0,a=s.length;i<a;i++){var n=s[i];u=u+n+":"+r[n]+";"}return u},c.prototype.onInit=function(r,s,u,i,a,n,m){var f=this;n||(this.globalSubscriptionManager=m.createChannelSubscriptionManager().subscribe(d.Qq,function(V,p){p===e.WMs?f.insertPrintStylingInDOM(r,s,u,i,a):p===e.IBn&&f.removePrintStylingFromDOM(r)}))},c.prototype.onDestroy=function(r,s){s||(this.domLayoutChangedDeregister&&this.domLayoutChangedDeregister(),this.onExitPrintModeDeregister&&this.onExitPrintModeDeregister(),this.globalSubscriptionManager.unsubscribeAll()),this.removePrintStylingFromDOM(r,!0)},c.prototype.insertPrintStylingInDOM=function(r,s,u,i,a){if(null!=u){var n=window.location.pathname.toLowerCase();if(!1===a.featureSwitches.printingEnabled&&"/export/report"!==n&&"/reportembedexporthost"!==n){if(!this.printDisabledElement){var f=i.get("PrintingIsDisabledForThisTenantMessage"),V=$("<div>").addClass("errorTitle").text(f),p=$("<div>").attr("id","printDisabledOverlay").append(V);this.printDisabledElement=p,$("body").append(this.printDisabledElement)}return void r.hide()}this.printStyleElement||(this.printStyleElement=$("<style></style>").attr("type","text/css").attr("media","print"),$("body").append(this.printStyleElement));var C=s(r);l.fF.assertValue(C,"printStylesObject");var b=this.getStyleString(C);this.printStyleElement.get(0).sheet.insertRule(".".concat(u," { ").concat(b," }"))}},c.prototype.removePrintStylingFromDOM=function(r,s){if(void 0===s&&(s=!1),this.printDisabledElement&&(this.printDisabledElement.remove(),this.printDisabledElement=void 0,r.show()),this.printStyleElement)if(s)this.printStyleElement.remove(),this.printStyleElement=void 0;else for(var u=this.printStyleElement.get(0).sheet,i=u.cssRules.length;i--;)u.removeRule(i)},c}()},114357:function(Xe,H,t){t.d(H,{$i:function(){return T},$v:function(){return g},A7:function(){return C},DS:function(){return B},Fk:function(){return I},Gw:function(){return A},KZ:function(){return he},NQ:function(){return R},OJ:function(){return a},QS:function(){return P},ZW:function(){return m},c9:function(){return b},ee:function(){return f},gF:function(){return Y},gY:function(){return y},ov:function(){return n},qg:function(){return p},ql:function(){return L},t6:function(){return q},tL:function(){return N},vs:function(){return x},w$:function(){return G},xA:function(){return V},yU:function(){return F}});var e=t(767650),l=t(384103),o=t(902731),d=t(631702),v=t(498342),S=t(382088),h=t(969766),c=t(968674),r=2998,u={year:"2-digit",month:"numeric",day:"numeric",hour:"numeric",minute:"numeric"},i={year:"2-digit",month:"numeric",day:"numeric"};function a(re){for(var le=re.refreshConnections,Ee=void 0!==le?le.length:0,Ne=0;Ne<Ee;Ne++)if(le[Ne].onpremGatewayRequired)return!0;return!1}function n(re){return a(re)||m(re)}function m(re){var le=new RegExp("(asazure://|pbiazure://|powerbi://|link://)","i");return(void 0===re.onPremModelConnectionString||le.test(re.onPremModelConnectionString))&&re.dataCacheMode!==o.Vv.DirectQuery}function f(re){try{var le=S.b$.getDateFromWcfJsonString(re,!0);return re&&!le&&v.fF.assertFail("malformed refresh time could not be parsed to date: "+re),le}catch(Ee){return v.fF.assertFail(Ee.message),null}}function V(re,le,Ee){void 0===Ee&&(Ee=!0);try{var Ne=f(re);return!Ee||!Ne||Ne.getFullYear()>r||Ne.getFullYear()<2?le.get("ManageDatasets_NextRefresh_NA"):Ne.toLocaleString()}catch(Ye){return v.fF.assertFail(Ye.message),le.get("ManageDatasets_NextRefresh_NA")}}function p(re,le){try{var Ee=f(re);return!Ee||Ee.getFullYear()>r||Ee.getFullYear()<2?le&&le.invalidDateTimePlaceholder||"":Ee.toLocaleDateString((null==le?void 0:le.locale)||void 0,le&&le.format||i)}catch(Ne){return v.fF.assertFail(Ne.message),le&&le.invalidDateTimePlaceholder||""}}function C(re,le){try{var Ee=f(re);return!Ee||Ee.getFullYear()>r||Ee.getFullYear()<2?le&&le.invalidDateTimePlaceholder||"":Ee.toLocaleString(void 0,le&&le.format||u)}catch(Ne){return v.fF.assertFail(Ne.message),le&&le.invalidDateTimePlaceholder||""}}function b(re,le,Ee){for(var Ne=new Array,Ye=0,Je=le;Ye<Je.length;Ye++){var _e=Je[Ye],pe=P(re,_e,Ee);pe.datasourceId=_e.dataSourceId,pe.dataSourceObjectId=_e.dataSourceObjectId,pe.gatewayId=_e.gatewayId,pe.gatewayObjectId=_e.gatewayObjectId,pe.testConnectionState=_e.credentialDetails?c.x9.NotStart:c.x9.NotSpecified,pe.alreadyExecutedTestConnection=!1,Ne.push(pe)}return Ne}function y(re,le){switch(re){case d.d3.NotSpecified:return le.get("AuthenticationMethod_NotSpecified");case d.d3.Windows:return le.get("SettingsDataSource_SettingsAuthenticationMethod_Windows");case d.d3.Anonymous:return le.get("SettingsDataSource_SettingsAuthenticationMethod_Anonymous");case d.d3.Basic:return le.get("SettingsDataSource_SettingsAuthenticationMethod_Basic");case d.d3.Key:return le.get("SettingsDataSource_SettingsAuthenticationMethod_Key");case d.d3.OAuth2:return le.get("AuthenticationMethod_OAuth2");case d.d3.EffectiveUserName:return le.get("AuthenticationMethod_EffectiveUserName");case d.d3.SingleSignOn:return le.get("AuthenticationMethod_SingleSignOn");case d.d3.WindowsWithoutImpersonation:return le.get("AuthenticationMethod_WindowsWithoutImpersonation");case d.d3.SAS:return le.get("AuthenticationMethod_SAS");case d.d3.ServicePrincipal:return le.get("AuthenticationMethod_ServicePrincipal");default:return d.d3[re]}}function D(re,le){return _.map(re,function(Ee){return y(Ee,le)})}function P(re,le,Ee){var Ne=le.credentialDetails,Ye={modelId:re,datasourceId:le.dataSourceId,dataSourceObjectId:le.dataSourceObjectId,gatewayId:le.gatewayId,gatewayObjectId:le.gatewayObjectId,name:le.dataSourceName,oAuth2URL:le.oAuth2Endpoint,oAuth2Nonce:le.oAuth2Nonce,datasourceType:le.dataSourceType,datasourceReference:E(le.dataSourceReference),credentialTypes:le.supportedAuthenticationTypes,credentialTypesNames:D(le.supportedAuthenticationTypes,Ee),connectionStringGeneralProperties:F(le.connectionDetails),onpremGatewayRequired:le.onPremGatewayRequired,singleSignOnType:le.singleSignOnType,skipTestConnection:!!Ne&&Ne.skipTestConnection,selectedCredentialType:Ne?Ne.credentialType:void 0,selectedPrivacyLevel:Ne?Ne.privacyLevel:void 0,gatewayType:le.gatewayType};if(Ye.datasourceType===d.ye.Extension){var Je=JSON.parse(le.dataSourceReference);Ye.dataSourceKind=Je.kind}return Ye.fullName=O(Ye,Ee),Ye.displayName=T(Ye,Ee),Ye}function F(re){return E(re)}function E(re){var le=new Array;if(re){var Ee=JSON.parse(re);for(var Ne in Ee)le.push({name:Ne,value:Ee[Ne]})}return le}function w(re){return re?null!=re.server?(v.fF.assertValue(re.database,"database"),[{name:"Server",value:re.server},{name:"Database",value:re.database}]):null!=re.path?[{name:"path",value:re.path}]:null!=re.modelId?[{name:"modelId",value:re.modelId},{name:"workspaceId",value:re.workspaceId}]:(v.fF.assertValue(re.extensionDataSourceKind,"extensionDataSourceKind"),v.fF.assertValue(re.extensionDataSourcePath,"extensionDataSourcePath"),[{name:"extensionDataSourceKind",value:re.extensionDataSourceKind},{name:"extensionDataSourcePath",value:re.extensionDataSourcePath}]):[]}function x(re,le,Ee){var Ne=(0,e.K)(le.connectionDetails),Ye=[];_.includes(le.supportedAuthenticationTypes,d.d3.Basic)&&Ye.push(d.d3.Basic),_.includes(le.supportedAuthenticationTypes,d.d3.OAuth2)&&Ye.push(d.d3.OAuth2),le.supportedAuthenticationTypes=Ye;var Je={modelId:re,datasourceId:le.dataSourceId,dataSourceObjectId:le.dataSourceObjectId,name:d.ye[le.dataSourceType],oAuth2URL:le.oAuth2Endpoint,oAuth2Nonce:le.oAuth2Nonce,datasourceType:le.dataSourceType,credentialTypes:le.supportedAuthenticationTypes,credentialTypesNames:D(le.supportedAuthenticationTypes,Ee),connectionStringGeneralProperties:w(Ne),onpremGatewayRequired:!1,gatewayId:le.gatewayId,gatewayObjectId:le.gatewayObjectId,isCloudDirectQuery:!0,testConnectionErrorMessage:le.credentialDetails?null:Ee.get("SettingsDataset_Error_CredentialsNotFound"),testConnectionState:le.credentialDetails?c.x9.Passed:c.x9.Failed,alreadyExecutedTestConnection:!0,singleSignOnType:le.singleSignOnType};return Je.fullName=O(Je,Ee),Je.displayName=T(Je,Ee),Je}function R(re,le){return{importAndRefreshBehavior:re.importAndRefreshBehavior,refreshEnabled:re.refreshEnabled,refreshFrequency:me(re),refreshDays:I(re.weekDays),refreshTimeWindowIndex:W(re.executionTime,le),refreshTimesHourly:ie(re.executionTimeHourly,le),refreshTimeZoneId:re.localTimeZoneId,sendFailureEmail:!0,isRefreshable:re.isRefreshable,refreshNotificationEnabled:re.refreshNotificationEnabled,refreshEmails:{emailsList:void 0,emailValidationError:"",emailValidationWarning:""}}}function g(re,le){var Ee=re.refreshSchedule,Ne=R(Ee,le);return 10080===Ne.refreshFrequency&&Ee.refreshFrequency&&Ee.refreshFrequency===1440..toString()&&9===re.contentProviderId&&(Ne.refreshFrequency=1440,Ne.refreshEnabled=!0,re.nextRefreshTime&&((!Ne.refreshTimesHourly||Ne.refreshTimesHourly.length<1)&&(Ne.refreshTimesHourly=function(re){var le=f(re),Ee=le.getMinutes(),Ne=le.getHours();return Ee>30?(Ee=0,++Ne>24&&(Ne-=24)):Ee=30,[{refreshHourIndex:(Ne+11)%12,refreshMinuteIndex:Math.floor(Ee/30),refreshAmPmIndex:Math.floor(Ne/12),isIncomplete:!1,isDuplicate:!1}]}(re.nextRefreshTime)),(!Ne.refreshTimeWindowIndex||0===Ne.refreshTimeWindowIndex)&&(Ne.refreshTimeWindowIndex=function(re){var le=f(re),Ee=le.getHours();return le.getMinutes()>30&&++Ee>24&&(Ee-=24),Ee}(re.nextRefreshTime)))),new c.$Z(re,re.id,re.displayName,re.description,4===re.lastRefreshStatus||2===re.lastRefreshStatus,_.isEmpty(re.refreshHistories)?"":re.refreshHistories[0].friendlyErrorMessage,f(re.nextRefreshTime).toString(),Ne,re.parameters,le)}function L(re,le){var Ee=1440===re.refreshFrequency,Ne=10080===re.refreshFrequency,Ye=null;Ee?Ye=l.r90:Ne&&(Ye=B(re.refreshDays));var Je=null;return!Ee&&!Ne&&(Je=re.refreshFrequency.toString()),{importAndRefreshBehavior:re.importAndRefreshBehavior,refreshEnabled:re.refreshEnabled,isDaily:1440===re.refreshFrequency,refreshFrequency:Je,weekDays:Ye,executionTime:le?j(6*re.refreshTimeWindowIndex):null,executionTimeHourly:le?null:U(re.refreshTimesHourly),localTimeZoneId:re.refreshTimeZoneId,refreshNotificationEnabled:re.refreshNotificationEnabled,refreshContacts:re.refreshEmails.emailsList?re.refreshEmails.emailsList.inputUserList:[]}}function T(re,le){switch(re.datasourceType){case d.ye.AnalysisServices:case d.ye.Oracle:case d.ye.SqlServer:case d.ye.MySql:case d.ye.PostgreSql:case d.ye.Sybase:case d.ye.Teradata:case d.ye.DB2:var Ee=void 0,Ne=void 0,Ye=re.connectionStringGeneralProperties;if(!Ye)return d.ye[re.datasourceType];for(var Je=Ye.length,_e=0;_e<Je;_e++){var pe=Ye[_e];"database"===pe.name?Ee=pe.value:"server"===pe.name&&(Ne=pe.value)}return Ee||Ne?(Ee||"")+(Ee&&Ne?"-":"")+(Ne||""):d.ye[re.datasourceType];case d.ye.Folder:case d.ye.File:var fe=_.find(re.connectionStringGeneralProperties,{name:"path"});return S.b$.extractFileNameFromPath(fe.value);case d.ye.Extension:return _.find(re.connectionStringGeneralProperties,{name:"extensionDataSourceKind"}).value;case d.ye.AdoDotNet:var ye=_.find(re.connectionStringGeneralProperties,{name:"workspaceId"}),Ce=_.find(re.connectionStringGeneralProperties,{name:"modelId"});return le.format("SettingsDataset_AdoDotNetText",[ye.value,Ce.value]);case d.ye.ActiveDirectory:case d.ye.AzureTable:case d.ye.AzureBlob:case d.ye.Web:case d.ye.OData:case d.ye.SharePoint:case d.ye.GoogleAnalytics:case d.ye.Exchange:case d.ye.Facebook:case d.ye.HDInsight:case d.ye.AzureMarketplace:case d.ye.Salesforce:case d.ye.SAPBW:case d.ye.SAP:case d.ye.OleDb:case d.ye.ODBC:case d.ye.Essbase:return d.ye[re.datasourceType];case d.ye.SharePointList:return"SharePoint";default:return re.name}}function O(re,le){switch(+re.datasourceType){case d.ye.Folder:case d.ye.File:return _.find(re.connectionStringGeneralProperties,{name:"path"}).value;default:return T(re,le)}}function N(re,le){if(!_.isEmpty(re))for(var Ee=0,Ne=re;Ee<Ne.length;Ee++){var Ye=Ne[Ee];Ye.displayName=T(Ye,le),Ye.fullName=O(Ye,le)}}function A(re){if(re){if(null!=re.clientCategory)return re.clientCategory;switch(re.category){case 1:case 3:case 6:return o.Bs.Service;case 2:case 5:case 4:case 7:return o.Bs.Organizational;default:v.fF.assertFail("Unknown content provider category")}}}function I(re){for(var le=new Array,Ee=0;Ee<7;Ee++)le[Ee]=1==(1&re),re>>=1;return le}function B(re){for(var le=0,Ee=6;Ee>=0;Ee--)le<<=1,le=!0===re[Ee]?1|le:le;return le}function U(re){for(var le=[],Ee=re.length,Ne=0;Ne<Ee;Ne++){var Ye=re[Ne],_e=30*Ye.refreshMinuteIndex;le.push(((Ye.refreshHourIndex+1)%12+12*Ye.refreshAmPmIndex).toString()+":"+(0===_e?"00":_e.toString())+":00")}return JSON.stringify(le)}function W(re,le){var Ee;if(re){var Ne=re.split(":"),Ye=parseInt(Ne[0],10);Ye>=0&&Ye<24?Ee=Math.floor(Ye/6):((0,h.Q)().error(le.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimeInvalidHour"),Ee=0)}else Ee=0;return Ee}function j(re){var le=new Date;le.setHours(re),le.setMinutes(0),le.setSeconds(0);var Ee=le.toTimeString(),Ne=Ee.indexOf(" ");return Ee.substr(0,Ne)}function ie(re,le){var Ee=[];if(re){try{var Ne=JSON.parse(re)}catch(Ce){return void(0,h.Q)().error(le.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidJsonFormat")}for(var Ye=Ne.length,Je=0;Je<Ye;Je++){var pe=Ne[Je].split(":"),fe=parseInt(pe[0],10),oe=parseInt(pe[1],10);if(fe<0||fe>=24)(0,h.Q)().error(le.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidHour");else if(oe<0||oe>=60)(0,h.Q)().error(le.get("SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute"),"SettingsDataset_Error_InvalidDataFromServer_RefreshSettings_ExecutionTimesHourlyInvalidMinute");else{var ye={refreshHourIndex:(fe+11)%12,refreshMinuteIndex:Math.floor(oe/30),refreshAmPmIndex:Math.floor(fe/12),isIncomplete:!1,isDuplicate:!1};Ee.push(ye)}}}return Ee}function he(re){return _.isEmpty(re.displayName)?re.qnaSupported:!0===re.qnaSupported&&(1===re.pushDataVersion||2===re.pushDataVersion||re.dataCacheMode===o.Vv.Import&&!1!==re.powerBIQnaEnabled||!!re.onPremModelConnectionString&&re.powerBIQnaEnabled||(re.dataCacheMode===o.Vv.DirectQuery||re.dataCacheMode===o.Vv.Mixed)&&re.powerBIQnaEnabled)}function q(re){return!(!re||re.dataCacheMode!==o.Vv.DirectQuery&&re.dataCacheMode!==o.Vv.Mixed&&_.isEmpty(re.onPremModelConnectionString))}function Y(re){for(var le=0,Ee=re.monikers;le<Ee.length;le++){var Ye=_.filter(Ee[le].monikerDataSources,function(oe){return null==oe.dataSourceId});if(Ye&&0!==Ye.length){if(_.every(Ye,function(oe){return!oe.matchingDataSourceObjectIds||0===oe.matchingDataSourceObjectIds.length}))return!0;for(var Je=0,_e=Ye;Je<_e.length;Je++){var fe=_.map(_e[Je].matchingDataSourceObjectIds,function(oe){return _.find(re.datasources,function(ye){return ye.dataSourceObjectId===oe})});if(_.every(fe,function(oe){return"Personal"!==(null==oe?void 0:oe.gatewayType)}))return!0}}}return!1}function G(re,le){for(var Ee=[],Ne=0,Ye=re.monikers;Ne<Ye.length;Ne++){var _e=_.map(Ye[Ne].monikerDataSources,function(fe){return fe.dataSourceObjectId});_.every(_e,function(fe){return fe})&&Ee.push.apply(Ee,_e||[])}return _.filter(re.datasources,function(fe){return(fe.gatewayObjectId===le||!1===fe.onPremGatewayRequired)&&_.includes(Ee,fe.dataSourceObjectId)})}function me(re){switch(v.fF.assertValue(re,"schedule"),parseInt(re.refreshFrequency,10)){case 15:return 15;case 30:return 30;case 60:return 60;case 120:return 120;case 180:return 180}return re.isDaily?1440:10080}},483:function(Xe,H,t){t.d(H,{f:function(){return v}});var e=t(384103),l=t(498342),o=t(447751),d=window,v=function(){function S(h,c,r){void 0===r&&(r=!1),this.redirectPath=h,this.appSettings=c,this.useMsPbi=r}return S.webRedirectUrlHelper=function(h){return this._webRedirectUrlHelper||(this._webRedirectUrlHelper=new S("Redirect",h)),this._webRedirectUrlHelper},S.mobileRedirectUrlHelper=function(h){return this._mobileRedirectUrlHelper||(this._mobileRedirectUrlHelper=new S("MobileRedirect.html",h)),this._mobileRedirectUrlHelper},S.prototype.getAppRedirectUrl=function(h,c,r,s){return l.fF.assertValue(c,"getAppRedirectUrl: appId"),this.getRedirectUrl({action:"OpenApp",groupObjectId:h,context:s,appId:c,ctid:r})},S.prototype.getDashboardRedirectUrl=function(h,c,r,s,u,i,a,n){return l.fF.assert(function(){return"MSTeams"===a||"ChatInTeams"===a||!_.isEmpty(h)||!_.isEmpty(c)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),l.fF.assertValue("MSTeams"===a||"ChatInTeams"===a||r,"getDashboardRedirectUrl: dashboardObjectId"),this.getRedirectUrl({action:"OpenDashboard",context:u,groupObjectId:h,appId:c,dashboardObjectId:r,ctid:s,tileId:i,pbi_source:a,openDashboardSource:n})},S.prototype.getReportRedirectUrl=function(h,c,r,s,u,i,a,n,m){l.fF.assert(function(){return"MSTeams"===n||"ChatInTeams"===n||!_.isEmpty(h)||!_.isEmpty(c)},"getReportRedirectUrl: groupId or appId shouldn't be null"),l.fF.assertValue("MSTeams"===n||"ChatInTeams"===n||r,"getReportRedirectUrl: reportObjectId");var f={action:1===a?"OpenRdlReport":"OpenReport",context:i,groupObjectId:h,appId:c,reportObjectId:r,ctid:u,pbi_source:n,bookmarkGuid:m};return _.isEmpty(s)||(f.reportPage=s),this.getRedirectUrl(f)},S.prototype.getDatasetRedirectUrl=function(h,c,r,s){return l.fF.assert(function(){return"MSTeams"===s||"ChatInTeams"===s||!_.isEmpty(h)},"getDatasetRedirectUrl: groupId shouldn't be null"),l.fF.assertValue("MSTeams"===s||"ChatInTeams"===s||c,"getDatasetRedirectUrl: datasetObjectId"),this.getRedirectUrl({action:"OpenDataset",context:r,groupObjectId:h,datasetObjectId:c,pbi_source:s})},S.prototype.getScorecardRedirectUrl=function(h,c,r,s,u){return this.getRedirectUrl({action:"OpenScorecard",groupObjectId:h,scorecardObjectId:c,ctid:r,context:s,pbi_source:u})},S.prototype.getWorkbookRedirectUrl=function(h,c,r,s,u){return l.fF.assert(function(){return!_.isEmpty(h)||!_.isEmpty(c)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),l.fF.assertValue(r,"getWorkbookRedirectUrl: workbookUniqueId"),this.getRedirectUrl({action:"OpenWorkbook",context:u,groupObjectId:h,appId:c,workbookUniqueId:r,ctid:s})},S.prototype.getTileRedirectUrl=function(h,c,r,s,u){return l.fF.assert(function(){return!_.isEmpty(h)||!_.isEmpty(c)},"getDashboardRedirectUrl: groupId or appId shouldn't be null"),l.fF.assertValue(r,"getDashboardRedirectUrl: dashboardObjectId"),l.fF.assertValue(s,"getTileRedirectUrl: tileObjectId"),this.getRedirectUrl({action:"OpenTile",context:u,groupObjectId:h,appId:c,dashboardObjectId:r,tileObjectId:s})},S.prototype.getServiceAppInstallRedirectUrl=function(h,c,r,s){l.fF.assertValue(h,"getAppRedirectUrl: appKey"),l.fF.assertValue(c,"getAppRedirectUrl: packageKey");var u={action:"InstallApp",appId:h,packageKey:c.replace("=",""),ownerId:r};_.isEmpty(s)||(u.buildVersion=s);var a=(window.location.protocol+"//"+window.location.host).replace(d.baseUrl,d.feUrl);return this.getRedirectUrl(u,a)},S.prototype.getLineageViewRedirectUrl=function(h,c){return l.fF.assert(function(){return!_.isEmpty(h)},"getLineageViewRedirectUrl: groupId or appId shouldn't be null"),l.fF.assertValue(c,"getLineageViewRedirectUrl: reportObjectId"),this.getRedirectUrl({action:"OpenLineageView",groupObjectId:h,reportObjectId:c})},S.prototype.getRedirectUrl=function(h,c){if(l.fF.assertValue(h,"getRedirectUrl: params"),this.useMsPbi){var r=h.action;return h=this.removeEmptyParams(h,this.useMsPbi),(0,o.W)("{0}/{1}?{2}","mspbi://app",r,$.param(h))}return h=this.removeEmptyParams(h),(0,o.W)("{0}/{1}?{2}",c||this.appSettings.baseUrl,this.redirectPath,$.param(h))},S.prototype.removeEmptyParams=function(h,c){void 0===c&&(c=!1);var r=[];return(_.isEmpty(h.groupObjectId)||h.groupObjectId===e.wku)&&r.push("groupObjectId"),_.isEmpty(h.appId)&&r.push("appId"),_.isEmpty(h.context)&&r.push("context"),_.isEmpty(h.reportObjectId)&&r.push("reportObjectId"),_.isEmpty(h.ctid)&&r.push("ctid"),_.isEmpty(h.openDashboardSource)&&r.push("openDashboardSource"),_.isEmpty(h.tileId)&&r.push("tileId"),_.isEmpty(h.dashboardObjectId)&&r.push("dashboardObjectId"),_.isEmpty(h.bookmarkGuid)&&r.push("bookmarkGuid"),_.isEmpty(h.pbi_source)&&r.push("pbi_source"),(_.isEmpty(h.action)||c)&&r.push("action"),r.length>0&&(h=_.omit(h,r)),h},S}()},329517:function(Xe,H,t){t.d(H,{B:function(){return o},V:function(){return l}});var e=t(498342);function l(d){switch(d){case 0:return"Master";case 1:return"PhonePortrait";default:e.fF.assertFail("Unsupported telemetry canvas layout")}return null}var o=function(){function d(v){this.options=v}return d.prototype.start=function(v){this.reject(),this.event=v()},d.prototype.resolve=function(){this.event&&(this.options&&this.options.onResolve&&this.options.onResolve(this.event),this.event.resolve(),this.event=void 0)},d.prototype.reject=function(v){this.event&&(this.options&&this.options.onReject&&this.options.onReject(this.event,v),this.event.reject(v),this.event=void 0)},d}()},913202:function(Xe,H,t){function e(l,o,d){var v=_.trim(l),S=_.trim(o);return _.isEmpty(v)?d||"":_.isEmpty(S)?v:"".concat(v," ").concat(S)}t.d(H,{P:function(){return e}})},916075:function(Xe,H,t){t.d(H,{Y:function(){return l}});var e=t(498342),l=function(){function o(){this.css={},this.elems=[]}return o.prototype.setDimensionBehavior=function(d){this.skipJqueryDimension=d},o.prototype.addAttributes=function(d){for(var v in d)this.css[v]=d[v]},o.prototype.element=function(d){e.fF.assertValue(d,"element"),this.elems=[d]},o.prototype.addElement=function(d){e.fF.assertValue(d,"element"),this.elems.push(d)},o.prototype.removeElement=function(d){e.fF.assertValue(d,"element"),_.pull(this.elems,d)},o.prototype.position=function(d){e.fF.assertValue(d,"position");var v=this.css;v.WebkitTransform=v.transform="translate("+d.x+"px, "+d.y+"px)"},o.prototype.viewport=function(d){e.fF.assertValue(d,"viewport");var v=this.css;v.height=d.height,v.width=d.width},o.prototype.zIndex=function(d){e.fF.assertValue(d,"zIndex"),this.css.zIndex=d},o.prototype.rotate=function(d){if(e.fF.assertValue(d,"rotate angle"),d){var v=this.css;v.WebkitTransform=v.transform+=" rotate("+d+"deg)"}},o.prototype.apply=function(d){if(this.skipJqueryDimension)if(d)this.applyStyleWithoutDimensionHooks(d);else for(var v=0,S=this.elems;v<S.length;v++)this.applyStyleWithoutDimensionHooks(S[v]);else if(d)d.css(this.css);else for(var c=0,r=this.elems;c<r.length;c++)r[c].css(this.css)},o.prototype.applyStyleWithoutDimensionHooks=function(d){var v=d.get(0);null!=this.css.height&&(v.style.height="".concat(this.css.height,"px")),null!=this.css.width&&(v.style.width="".concat(this.css.width,"px"));var S=_.omit(this.css,["height","width"]);d.css(S)},o.prototype.getCss=function(){return this.css},o}()},830126:function(Xe,H,t){t.d(H,{Rb:function(){return l},XM:function(){return m},be:function(){return s},bq:function(){return c},u:function(){return e},ws:function(){return o}});var e=5,l=1e3,o=100;function c(){return 7}function s(){return 7}var m=function(f){return f[f.drag=0]="drag",f[f.resizing=1]="resizing",f[f.resized=2]="resized",f[f.refresh=3]="refresh",f}({})},175547:function(Xe,H,t){t.d(H,{Q:function(){return o}});var e=t(834053),l=t(830126),o=function(){function d(){this.resizeBuffer=10,this.isLayoutLocked=!1,this.willOverrideDisplayPosition=!1,this.gridWidth=e.A4,this.gridHeight=e.lT,this.gridItemSpacing=e.zy,this.gridMinWidthOnResize=this.gridWidth-this.resizeBuffer,this.gridMinHeightOnResize=this.gridHeight-this.resizeBuffer,this.gridMaxWidthOnResize=this.gridWidth*(0,l.bq)(),this.gridMaxHeightOnResize=this.gridHeight*(0,l.bq)(),this.isDynamic=!1}return d.prototype.calculateDisplayPositions=function(v){for(var S=0,h=v;S<h.length;S++)h[S].clearOverrides()},d.prototype.calculateDisplaySize=function(v){},d}()},123019:function(Xe,H,t){t.d(H,{SS:function(){return l},rg:function(){return d}});var l=function(){function v(){}return v.Normal="normal",v.Elevated="elevated",v}(),d=function(){return function(S,h,c,r,s,u,i){void 0===s&&(s=!1),void 0===u&&(u=!1),void 0===i&&(i=!1),this.localizationService=r,this.isConfirmButtonDisabled=S,this.confirmButtonText=h,this.autoCloseDialogOnConfirmButtonSelected=c,this.cancelButtonText=this.localizationService.get("ModalDialog_Cancel"),this.contentFilledDialog=s,this.hideActionsButtons=u,this.hideCancelButton=i,this.confirmButtonImportance=l.Normal,this.cancelButtonImportance=l.Normal}}()},39444:function(Xe,H,t){t.d(H,{H:function(){return v}});var e=t(973188),l=t(902731),o=t(114357),v=function(S){function h(c){var r=S.call(this)||this;return r.contract=c,r.isRefreshInProgress=!1,r.uniqueId=h.getUniqueId(c.id,c.packageId),r.categories=0,r}return(0,e.__extends)(h,S),h.prototype.getPermissions=function(){var c;return this.getPermissionsCallback&&null!=(c=this.getPermissionsCallback())?c:this.contract&&this.contract.permissions},Object.defineProperty(h.prototype,"hasError",{get:function(){return this.contract&&(2===this.packagePublishStatus||4===this.packagePublishStatus||2===this.contract.lastRefreshStatus||4===this.contract.lastRefreshStatus)},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"lastRefreshTimeInLocaleString",{get:function(){var r=this.getLastRefreshTime();if(r)return r.toLocaleString()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"lastRefreshEpochTime",{get:function(){var r=this.getLastRefreshTime();if(r)return r.getTime()},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"contentTileType",{get:function(){return l.ty.Dataset},enumerable:!1,configurable:!0}),h.prototype.getRefreshDisabledReason=function(){var c;return null!==(c=this.contract&&this.contract.refreshSchedule&&this.contract.refreshSchedule.refreshDisabledReason)&&void 0!==c?c:0},h.getUniqueId=function(c,r){return"".concat(l.ty.Dataset,"_").concat(c,"_").concat(r)},h.prototype.getLastRefreshTime=function(){var c=this.contract;return(0,o.ee)(c.onPremModelConnectionString?c.lastTimeAModelChangeWasDetectedInTheCluster:c.lastRefreshTime)},h}(t(505475)._)},562045:function(Xe,H,t){t.d(H,{Y:function(){return S},y:function(){return v}});var e=t(973188),l=t(902731),o=t(768783),v=function(h){function c(r){var s=h.call(this,void 0===r?0:r.id,0,void 0===r?0:r.packageId)||this;return s.contract=r,s.isRefreshInProgress=!1,s.reportType=s.contract&&1===s.contract.reportType?1:0,s.contentTileType=1===s.reportType?l.ty.RdlReport:l.ty.Report,s}return(0,e.__extends)(c,h),c.prototype.getPermissions=function(){var r;return this.getPermissionsCallback&&null!=(r=this.getPermissionsCallback())?r:this.contract&&this.contract.permissions},Object.defineProperty(c.prototype,"canWrite",{get:function(){return(0,o.yE)(this.getPermissions(),S.Write)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"canCopy",{get:function(){return(0,o.yE)(this.getPermissions(),S.CopyOnWrite)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"canExplore",{get:function(){return(0,o.yE)(this.getPermissions(),S.Explore)},enumerable:!1,configurable:!0}),c}(t(335207).H),S=function(h){return h[h.None=0]="None",h[h.Read=1]="Read",h[h.Write=2]="Write",h[h.ReShare=4]="ReShare",h[h.Explore=8]="Explore",h[h.CopyOnWrite=17]="CopyOnWrite",h[h.ReadWrite=3]="ReadWrite",h[h.ReadReshare=5]="ReadReshare",h[h.Personalized=11]="Personalized",h[h.All=7]="All",h}({})},335207:function(Xe,H,t){t.d(H,{H:function(){return o}});var e=t(973188),o=function(d){function v(S,h,c){var r=d.call(this,h)||this;return r.uniqueId=v.getUniqueId(h,S,c),r}return(0,e.__extends)(v,d),v.getUniqueId=function(S,h,c){return S+"_"+h+"_"+c},v}(t(505475)._)},505475:function(Xe,H,t){t.d(H,{_:function(){return e}});var e=function(){return function(o){this.isSelected=!1,this.isEnabled=!0,this.isUsedByContentPack=!1,this.countOfLinkedAncestorsSelected=0,this.resourceType=o}}()},968674:function(Xe,H,t){t.d(H,{$Z:function(){return S},a0:function(){return v},a6:function(){return h},x9:function(){return d}});var e=t(384103),l=t(902731),o=t(631702),d=function(c){return c[c.NotSpecified=0]="NotSpecified",c[c.NotStart=1]="NotStart",c[c.Progressing=2]="Progressing",c[c.Failed=3]="Failed",c[c.Passed=4]="Passed",c}({}),v=function(){function c(r,s){this.localizationService=s,this.refreshSettings=r,this.refreshSectionExpand=!1}return Object.defineProperty(c.prototype,"showWeekDays",{get:function(){return 10080===this.refreshSettings.refreshFrequency},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showRefreshTimeInfo",{get:function(){var s=this.refreshSettings.refreshFrequency;return 1440===s||10080===s},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"refreshFrequencyString",{get:function(){return this.refreshSettings.refreshFrequency.toString()},set:function(s){this.refreshSettings.refreshFrequency=parseInt(s,10)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"weekdayKeys",{get:function(){return h.weekdayKeys()},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"refreshTimeWindows",{get:function(){return h.refreshTimeWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"refreshTimeHourWindows",{get:function(){return h.refreshTimeHourWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"refreshTimeMinuteWindows",{get:function(){return h.refreshTimeMinuteWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"refreshTimeAmPmWindows",{get:function(){return h.refreshTimeAmPmWindows(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"refreshTimeZones",{get:function(){return h.refreshTimeZones(this.localizationService)},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"refreshTimeZonesViewModel",{get:function(){return h.refreshTimeZonesViewModel(this.localizationService)},enumerable:!1,configurable:!0}),c}(),S=function(){function c(r,s,u,i,a,n,m,f,V,p){this.localizationService=p,this.contract=r,this.modelId=s,this.name=u,this.description=i,this.lastRefreshFailed=a,this.lastRefreshFailedMessage=n,this.nextRefresh=m,this.refreshSettingsModel=new v(f,p),this.parameters=V,this.takenOver=!1,this.isDirty=!1,this.areDatasourcesDirty=!1,this.isQnaDirty=!1,this.paSupported=null==r?void 0:r.paSupported,this.paEnabled=null==r?void 0:r.paEnabled,this.paSettings=null==r?void 0:r.paSettings,this.hasAggregationTable=null==r?void 0:r.hasAggregationTable,this.directLakeAutoSync=null==r?void 0:r.directLakeAutoSync,this.directLakeMode=null==r?void 0:r.directLakeMode,this.directLakeAutoSyncResult=null==r?void 0:r.directLakeAutoSyncResult,this.storageMode=null==r?void 0:r.storageMode,this.isQsoSupported=null==r?void 0:r.isQsoSupported,this.isQsoManualSyncWithPendingUpdates=null==r?void 0:r.isQsoManualSyncWithPendingUpdates,this.qsoCommitVersionTimestamp=null==r?void 0:r.qsoCommitVersionTimestamp}return Object.defineProperty(c.prototype,"takeoverStatusText",{get:function(){return this.lastTakeoverUPN?this.getTakeoverStatusTextForUser(this.lastTakeoverUPN):this.lastTakeoverEmailAddress?this.getTakeoverStatusTextForUser(this.lastTakeoverEmailAddress):this.lastTakeoverText?this.localizationService.format("SettingsDataset_TakeOverStatusText_Before",[this.lastTakeoverText]):this.localizationService.get("SettingsDataset_TakeOverStatusTextNullUser_Before")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"takeoverButtonText",{get:function(){return this.localizationService.get(this.takenOver?"SettingsDataset_TakeOverButton_CancelTakeOver":"SettingsDataset_TakeOverButton_TakeOver")},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasDatasourceWithWrongCredentials",{get:function(){return this.datasources&&_.some(this.datasources,function(s){return!s.isCloudDirectQuery&&s.testConnectionState!==d.Passed})},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"showSkipTestConnectionWarning",{get:function(){return _.some(this.datasources,function(s){return!0===s.skipTestConnection})},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasDirectQueryDatasourceWithMissingCredentials",{get:function(){return this.datasources&&_.some(this.datasources,function(s){return s.isCloudDirectQuery&&s.testConnectionState===d.Failed})},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"hasRDataSource",{get:function(){return this.datasources&&_.some(this.datasources,function(s){return s.datasourceType===o.ye.Extension&&(s.name===e.kJ$||s.fullName===e.kJ$)})},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"isPlainDirectQueryOrOnPremModel",{get:function(){return c.isPlainDirectQueryOrOnPremModel(this.contract)},enumerable:!1,configurable:!0}),c.isPlainDirectQueryOrOnPremModel=function(r){return r.dataCacheMode===l.Vv.DirectQuery||!_.isEmpty(r.onPremModelConnectionString)},c.prototype.getTakeoverStatusTextForUser=function(r){return this.localizationService.format(this.takenOver?"SettingsDataset_TakeOverStatusText_After":"SettingsDataset_TakeOverStatusText_Before",['<a href=mailto:"'+r+'">'+r+"</a>"])},c}(),h=function(){function c(){}return c.weekdayKeys=function(){return["SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Sunday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Monday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Tuesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Wednesday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Thursday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Friday","SettingsDataset_ScheduleRefresh_RefreshFrequency_Days_Saturday"]},c.refreshTimeWindows=function(r){return[r.get("SettingsDataset_ScheduleRefresh_TimeWindow_1"),r.get("SettingsDataset_ScheduleRefresh_TimeWindow_2"),r.get("SettingsDataset_ScheduleRefresh_TimeWindow_3"),r.get("SettingsDataset_ScheduleRefresh_TimeWindow_4")]},c.refreshTimeHourWindows=function(r){return[r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_1"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_2"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_3"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_4"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_5"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_6"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_7"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_8"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_9"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_10"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_11"),r.get("SettingsDataset_ScheduleRefresh_TimeHourWindows_12")]},c.refreshTimeMinuteWindows=function(r){return[r.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_00"),r.get("SettingsDataset_ScheduleRefresh_TimeMinuteWindos_30")]},c.refreshTimeAmPmWindows=function(r){return[r.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Am"),r.get("SettingsDataset_ScheduleRefresh_AmPmWindows_Pm")]},c.refreshTimeZones=function(r){return{"Dateline Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Dateline_Standard_Time"),"UTC-11":r.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_11"),"Hawaiian Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Hawaiian_Standard_Time"),"Alaskan Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Alaskan_Standard_Time"),"Pacific Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time"),"Pacific Standard Time (Mexico)":r.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_Standard_Time_Mexico"),"Mountain Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time"),"Mountain Standard Time (Mexico)":r.get("SettingsDataset_ScheduleRefresh_Timezone_Mountain_Standard_Time_Mexico"),"US Mountain Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_US_Mountain_Standard_Time"),"Canada Central Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Canada_Central_Standard_Time"),"Central America Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_America_Standard_Time"),"Central Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time"),"Central Standard Time (Mexico)":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Standard_Time_Mexico"),"Eastern Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Eastern_Standard_Time"),"SA Pacific Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Pacific_Standard_Time"),"US Eastern Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_US_Eastern_Standard_Time"),"Venezuela Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Venezuela_Standard_Time"),"Atlantic Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Atlantic_Standard_Time"),"Central Brazilian Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Brazilian_Standard_Time"),"Pacific SA Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Pacific_SA_Standard_Time"),"SA Western Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Western_Standard_Time"),"Paraguay Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Paraguay_Standard_Time"),"Newfoundland Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Newfoundland_Standard_Time"),"E. South America Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_E_South_America_Standard_Time"),"Greenland Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Greenland_Standard_Time"),"Montevideo Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Montevideo_Standard_Time"),"SA Eastern Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_SA_Eastern_Standard_Time"),"Argentina Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Argentina_Standard_Time"),"Mid-Atlantic Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Mid_Atlantic_Standard_Time"),"UTC-02":r.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Minus_2"),"Azores Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Azores_Standard_Time"),"Cape Verde Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Cabo_Verde_Standard_Time"),"GMT Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_GMT_Standard_Time"),"Greenwich Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Greenwich_Standard_Time"),"Morocco Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Morocco_Standard_Time"),UTC:r.get("SettingsDataset_ScheduleRefresh_Timezone_UTC"),"Central Europe Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Europe_Standard_Time"),"Central European Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_European_Standard_Time"),"Romance Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Romance_Standard_Time"),"W. Central Africa Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_W_Central_Africa_Standard_Time"),"W. Europe Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_W_Europe_Standard_Time"),"Namibia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Namibia_Standard_Time"),"E. Europe Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_E_Europe_Standard_Time"),"Egypt Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Egypt_Standard_Time"),"FLE Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_FLE_Standard_Time"),"GTB Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_GTB_Standard_Time"),"Israel Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Israel_Standard_Time"),"Jordan Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Jordan_Standard_Time"),"Middle East Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Middle_East_Standard_Time"),"South Africa Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_South_Africa_Standard_Time"),"Syria Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Syria_Standard_Time"),"Turkey Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Turkey_Standard_Time"),"Arab Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Arab_Standard_Time"),"Arabic Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Arabic_Standard_Time"),"E. Africa Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_E_Africa_Standard_Time"),"Kaliningrad Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Kaliningrad_Standard_Time"),"Iran Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Iran_Standard_Time"),"Russian Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Russian_Standard_Time"),"Arabian Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Arabian_Standard_Time"),"Azerbaijan Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Azerbaijan_Standard_Time"),"Caucasus Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Caucasus_Standard_Time"),"Georgian Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Georgian_Standard_Time"),"Mauritius Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Mauritius_Standard_Time"),"Afghanistan Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Afghanistan_Standard_Time"),"West Asia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_West_Asia_Standard_Time"),"Pakistan Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Pakistan_Standard_Time"),"India Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_India_Standard_Time"),"Sri Lanka Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Sri_Lanka_Standard_Time"),"Nepal Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Nepal_Standard_Time"),"Ekaterinburg Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Ekaterinburg_Standard_Time"),"Central Asia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Asia_Standard_Time"),"Bangladesh Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Bangladesh_Standard_Time"),"Myanmar Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Myanmar_Standard_Time"),"N. Central Asia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_N_Central_Asia_Standard_Time"),"SE Asia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_SE_Asia_Standard_Time"),"North Asia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_Standard_Time"),"China Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_China_Standard_Time"),"Singapore Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Singapore_Standard_Tim"),"Taipei Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Taipei_Standard_Time"),"W. Australia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_W_Australia_Standard_Time"),"Ulaanbaatar Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Ulaanbaatar_Standard_Time"),"North Asia East Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_North_Asia_East_Standard_Time"),"Korea Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Korea_Standard_Time"),"Tokyo Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Tokyo_Standard_Time"),"AUS Central Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Central_Standard_Time"),"Cen. Australia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Cen_Australia_Standard_Time"),"Yakutsk Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Yakutsk_Standard_Time"),"AUS Eastern Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_AUS_Eastern_Standard_Time"),"E. Australia Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_E_Australia_Standard_Time"),"Tasmania Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Tasmania_Standard_Time"),"West Pacific Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_West_Pacific_Standard_Time"),"Vladivostok Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Vladivostok_Standard_Time"),"Central Pacific Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Central_Pacific_Standard_Time"),"Magadan Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Magadan_Standard_Time"),"Fiji Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Fiji_Standard_Time"),"New Zealand Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_New_Zealand_Standard_Time"),"UTC+12":r.get("SettingsDataset_ScheduleRefresh_Timezone_UTC_Plus_12"),"Tonga Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Tonga_Standard_Time"),"Samoa Standard Time":r.get("SettingsDataset_ScheduleRefresh_Timezone_Samoa_Standard_Time")}},c.refreshTimeZonesViewModel=function(r){var s=[];return _.forOwn(this.refreshTimeZones(r),function(u,i){s.push({key:i,value:u})}),s},c}()},978343:function(Xe,H,t){function e(){return[{name:"\u0627\u0644\u0639\u064e\u0631\u064e\u0628\u0650\u064a\u0629",code:"ar",lcid:"1025"},{name:"Basque",code:"eu",lcid:"1069"},{name:"\u0411\u044a\u043b\u0433\u0430\u0440\u0441\u043a\u0438",code:"bg",lcid:"1026"},{name:"catal\xe0",code:"ca",lcid:"1027"},{name:"\u4e2d\u6587(\u7b80\u4f53)",code:"zh-Hans",lcid:"2052"},{name:"\u4e2d\u6587(\u7e41\u9ad4)",code:"zh-Hant",lcid:"1028"},{name:"hrvatski",code:"hr",lcid:"1050"},{name:"\u010de\u0161tina",code:"cs",lcid:"1029"},{name:"dansk",code:"da",lcid:"1030"},{name:"Nederlands",code:"nl",lcid:"1043"},{name:"English",code:"en-US",lcid:"1033"},{name:"eesti",code:"et",lcid:"1061"},{name:"suomi",code:"fi",lcid:"1035"},{name:"fran\xe7ais",code:"fr",lcid:"1036"},{name:"galego",code:"gl",lcid:"1110"},{name:"Deutsch",code:"de",lcid:"1031"},{name:"\u0395\u03bb\u03bb\u03b7\u03bd\u03b9\u03ba\u03ac",code:"el",lcid:"1032"},{name:"\u05e2\u05d1\u05e8\u05d9\u05ea",code:"he",lcid:"1037"},{name:"\u0939\u093f\u0902\u0926\u0940",code:"hi",lcid:"1081"},{name:"magyar",code:"hu",lcid:"1038"},{name:"Bahasa Indonesia",code:"id",lcid:"1057"},{name:"italiano",code:"it",lcid:"1040"},{name:"\u65e5\u672c\u8a9e",code:"ja",lcid:"1041"},{name:"\u049a\u0430\u0437\u0430\u049b",code:"kk",lcid:"1087"},{name:"\ud55c\uad6d\uc5b4",code:"ko",lcid:"1042"},{name:"latvie\u0161u",code:"lv",lcid:"1062"},{name:"lietuvi\u0173",code:"lt",lcid:"1063"},{name:"Bahasa Melayu",code:"ms",lcid:"1086"},{name:"norsk (bokm\xe5l)",code:"no",lcid:"1044"},{name:"Polski",code:"pl",lcid:"1045"},{name:"Portugu\xeas (Brasil)",code:"pt-BR",lcid:"1046"},{name:"Portugu\xeas (Portugal)",code:"pt-PT",lcid:"2070"},{name:"rom\xe2n\u0103",code:"ro",lcid:"1048"},{name:"\u0420\u0443\u0441\u0441\u043a\u0438\u0439",code:"ru",lcid:"1049"},{name:"\u0441\u0440\u043f\u0441\u043a\u0438",code:"sr-Cyrl",lcid:"3098"},{name:"srpski",code:"sr-Latn",lcid:"2074"},{name:"sloven\u010dina",code:"sk",lcid:"1051"},{name:"slovenski",code:"sl",lcid:"1060"},{name:"espa\xf1ol",code:"es",lcid:"1034"},{name:"svenska",code:"sv",lcid:"1053"},{name:"\u0e44\u0e17\u0e22",code:"th",lcid:"1054"},{name:"T\xfcrk\xe7e",code:"tr",lcid:"1055"},{name:"\u0443\u043a\u0440\u0430\u0457\u043d\u0441\u044c\u043a\u0430",code:"uk",lcid:"1058"},{name:"Ti\u1ebfng Vi\u1ec7t",code:"vi",lcid:"1066"}]}t.d(H,{Q:function(){return e}})},789185:function(Xe,H,t){t.d(H,{y:function(){return h}});var e=t(498342),l=t(504898),o=t(447751),h=function(){function c(r,s){this.promiseFactory=r,this.httpService=s,e.fF.assertValue(r,"promiseFactory"),e.fF.assertValue(s,"httpService"),this.isEnabled=!0,this.requestDeferred=this.promiseFactory.defer(),this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.lastLongPollCancelled=!1,this.lastLongPollTimedOut=!1,this.retryCount=0}return c.prototype.startMonitoring=function(r){var s=this;void 0===r&&(r=0),this.longPollInitialized||(this.longPollInitialized=!0,this.isEnabled=!0,this.requestDelay&&clearTimeout(this.requestDelay),this.requestDelay=setTimeout(function(){s.sendLongPollRequest()},r))},c.prototype.setLongPollInitialized=function(r){this.longPollInitialized=r},c.prototype.cancelCurrentRequest=function(){this.lastLongPollCancelled=!0,this.requestDeferred.resolve(null),this.longPollInitialized=!1,this.requestDelay&&clearTimeout(this.requestDelay)},c.prototype.pause=function(){this.paused=!0,this.cancelCurrentRequest()},c.prototype.resume=function(){this.paused=!1,this.startMonitoring()},c.prototype.trySendRequest=function(r){var s=this.requestOptions,u=s.headers.Authorization,i=!1;if(u){var a=u.split(" ");i=a.length>1&&!(0,o.g)(a[1])&&"undefined"!==a[1]}if(i)return this.httpService.post(this.getEndpointUrl(),{request:r},s);l.f.warning("Auth token not available, avoiding powerbi/refresh/subscribe request")},Object.defineProperty(c.prototype,"requestHeader",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"longPollDurationInMs",{get:function(){return 6e4},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"requestOptions",{get:function(){var s=this,u=this.requestDeferred;e.fF.assertValue(u,"requestDeferred"),this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1,setTimeout(function(){s.lastLongPollTimedOut=!0,u.resolve(null)},this.longPollDurationInMs);var i=this.httpService.powerbiRequestOptions(null,null,this.requestHeader,!0);return i.retryCount=0,i.timeout=u.promise,i.silentlyFailOnExpiry=!0,i},enumerable:!1,configurable:!0}),c.prototype.sendLongPollRequest=function(){var r=this;if(!this.paused&&this.isEnabled){this.requestDeferred=this.promiseFactory.defer();var s=this.getRequest();if(!s)return void this.reset();var u=this.trySendRequest(s);if(!u)return;u.then(function(i){r.retryCount=0,r.requestDeferred.resolve(null),r.processResponse(i.data),r.sendLongPollRequest()},function(i){r.requestDeferred.resolve(null),r.lastLongPollTimedOut?(r.retryCount=0,r.sendLongPollRequest()):r.lastLongPollCancelled?r.retryCount=0:r.retryCount<3?(r.retryCount++,r.sendLongPollRequest()):(r.processError(i&&i.error),r.suspend())})}},c.prototype.suspend=function(){var r=this,s=this.promiseFactory.defer();s.promise.then(function(){r.cancelCurrentRequest(),r.startMonitoring()}),this.httpService.registerResponseCallback(function i(a){a&&(r.httpService.unregisterResponseCallback(i),s.resolve(null))}),setTimeout(function(){s.resolve(null)},12e4)},c.prototype.reset=function(){this.longPollInitialized=!1,this.lastLongPollTimedOut=!1,this.lastLongPollCancelled=!1},c}()},923548:function(Xe,H,t){t.d(H,{z:function(){return c}});var e=t(973188),l=t(522577),o=t(498342),d=t(515854),v=t(882832),S=window;function h(r,s,u,i){void 0===u&&(u=!0);var m,f,a=(0,d.Xr)(),n="";switch(u&&(n=l.s.getQueryStringValue("unmin")?"":".min"),s){case 0:m="scripts",f=".js";break;case 1:m="styles",f=".css";break;case 2:m="externals",f=".js";break;case 3:m="externals",f=".css";break;default:o.fF.assertNever(s)}var V=[a];if("True"===S.useCDN&&S.hashMappings){var p=void 0;p=i?[i,m,"".concat(r).concat(n).concat(f)].join("/"):[m,"".concat(r).concat(n).concat(f)].join("/");var C=(0,v.i)();C.isRtlLayout&&(1===s||3===s)&&(p=p.indexOf(".min")>-1?p.replace(".min.css",".rtl.min.css"):p.replace(".css",".rtl.css"));var b=S.hashMappings[p];if(!b&&C.isRtlLayout&&(1===s||3===s)&&(p=p.replace(".rtl.min.css",".min.rtl.css"),b=S.hashMappings[p]),b)return[V=S.cdnUrl,b.substring(0,b.indexOf(f))].join("/")}return i&&V.push(i),(0,e.__spreadArray)((0,e.__spreadArray)([],V||[],!0),[m,"".concat(r).concat(n)],!1).join("/")}function c(){return{waitSeconds:9007199254740991,paths:{"angular-ui-datetimepicker":h("angular-ui-datetimepicker",2,!0),"d3-array":h("d3-array",2,!0),"d3-geo":h("d3-geo",2,!0),"es6-promise":h("es6-promise",2,!0),filesaver:h("filesaver",2,!0),"jquery-qrcode":h("jquery-qrcode",2,!0),"jquery-ui":h("jquery-ui",2,!0),msrcrypto:h("msrcrypto",2,!0),ngTagsInput:h("ngTagsInput",2,!0),pubnub:h("pubnub",2,!0),quill:h("quill",2,!0),resizeSensor:h("resizeSensor",2,!0),"powerbi-models":h("powerbi-models",2,!0),topojson:h("topojson",2,!0),cropperjs:h("cropper",2,!0),"globalize.cultures":h("jquery.globalize/globalize.cultures",0,!1)},bundles:{},cssPaths:{"jquery-ui":h("jquery-ui.min",3,!1),ngTagsInput:h("ngTagsInput",3,!0),"quill.core":h("quill.core",3,!1),cropperjs:h("cropper",3,!1),accessibleTableVisual:h("accessibleTableVisual",1,!0),adminPortal:h("adminPortal",1,!0),advancedSlicerVisual:h("advancedSlicerVisual",1,!0),aiNarrativesVisual:h("aiNarrativesVisual",1,!0),azureMapVisuals:h("azureMapVisuals",1,!0),capacityAdmin:h("capacityAdmin",1,!0),cardVisual:h("cardVisual",1,!0),exploreUIDialogs:h("exploreUIDialogs",1,!0),getData:h("getData",1,!0),mobileAuthoring:h("mobileAuthoring",1,!0),permissions:h("permissions",1,!0),pivotTableVisuals:h("pivotTableVisuals",1,!0),rdlVisual:h("rdlVisual",1,!0),scorecardVisual:h("scorecardVisual",1,!0),settings:h("settings",1,!0),sharing:h("sharing",1,!0)}}}},217521:function(Xe,H,t){t.d(H,{I:function(){return o}});var e=t(42298),l=t(96364);function o(d,v,S){return(0,l.I)((0,e.k2)(d,v),S)}},353287:function(Xe,H,t){t.d(H,{CJ:function(){return a},I:function(){return o},Zg:function(){return d},a9:function(){return u},av:function(){return i},eg:function(){return c},gY:function(){return r},jm:function(){return P},lV:function(){return v},lZ:function(){return s},p2:function(){return V},sw:function(){return m}});var e=t(175547),l=t(834053),o=44,d=50,v=4,c=1,r=1,s=2*c,u=2*r,i=3*c,a=3*r;function m(){return{rowSpan:s,colSpan:u}}function V(F){return{height:F.rowSpan*l.lT-l.zy,width:F.colSpan*l.A4-l.zy}}function P(){return{strategy:new e.Q,displayLayout:0,skipVisualManualUpdate:!1,setViewport:_.noop,resetZoom:_.noop,setStrategy:_.noop}}m()},834053:function(Xe,H,t){t.d(H,{A4:function(){return e},lT:function(){return l},zy:function(){return o}});var e=260,l=180,o=10},376932:function(Xe,H,t){t.d(H,{Ue:function(){return d},pi:function(){return S},rc:function(){return l},yx:function(){return o}});var e=t(860931),l="x-powerbi-error-info",o="x-powerbi-error-details";function d(h,c,r,s){var u={method:h,url:c};return void 0!==s&&(u.data=s),Object.assign(u,r)}function S(h){(0,e.hG)().httpService=h}},595158:function(Xe,H,t){t.d(H,{h1:function(){return l},oY:function(){return o},pm:function(){return S}});var e=t(860931);function l(c){return c||(0,e.hG)().localize}function o(c){(0,e.hG)().localize=c}function S(){return(0,e.hG)().localizedStrings}},780959:function(Xe,H,t){t.d(H,{n$:function(){return l},uD:function(){return d}});var e=t(860931);function l(){return(0,e.hG)().cultureInfo}function d(){return(0,e.hG)().unmappedCultureInfo}},657555:function(Xe,H,t){t.d(H,{$:function(){return l}});var e=t(15757);function l(o,d,v){return new e.mZ(o,d,v.bingMapControlUrl)}},271002:function(Xe,H,t){t.d(H,{z:function(){return S}});var e=t(17816),l=t(384103),o=t(498342),d=t(35734),v=t(215247);function S(a,n,m,f){return new i(a,n,m,f)}var h="overlayActive",c="overlay",i=function(){function a(n,m,f,V){var p=this;this.root=f,this.rtl=V,this.dropdowns=[],this.$window=$(n).on(d.Ti+".overlayService",function(C){return p.mouseClickHideDialog(C,p.dropdowns)}).on("resize.overlayService",function(){return p.hideAllDropdowns()}),this.root=f||$("body")}return a.prototype.onDestroy=function(){$(this.$window).off(d.Ti+".overlayService"),$(this.$window).off("resize.overlayService")},a.prototype.register=function(n,m){this.dropdowns.push({element:n}),n.addClass(c).appendTo(m||this.root)},a.prototype.unregister=function(n){_.remove(this.dropdowns,function(m){return m.element.is(n)}),n.removeClass(c).removeClass(h).remove()},a.prototype.isRegistered=function(n){return _.some(this.dropdowns,function(m){return m.element.is(n)})},a.prototype.mouseClickHideDialog=function(n,m){var f=this;!_.some(this.dropdowns,function(p){return p.element.hasClass(h)&&!f.outOfBoundsClickHandler(n,p.element)})&&this.hideAllDropdowns(!0)},a.prototype.showOverlay=function(n,m){var f=this;if(o.fF.assert(function(){return Number(!(!m.anchorElement&&!m.anchorDimensions))+Number(!!m.position)===1},"Must specify either position or [anchorElement and/or anchorDimensions], but not more than one"),o.fF.assert(function(){return n.length>0},"element to show does not exist."),m.hideExistingOverlays&&this.hideAllDropdownsExcept(!0,n),n.addClass(h),n.attr("aria-modal","false"),n.attr("role","dialog"),m.anchorElement||m.anchorDimensions){m.blurNeeded&&this.registerBlurHandler(m.anchorElement,m.disableAnimation);var V=m.anchorDimensions||(0,v.E)(m.anchorElement);this.repositionDropdownWithAnchorCoordinates(n,V,!!m.preferLeft,m.horizontal,m.showOutsideAnchorElement,m.showIndicator,m.scale)}else m.position&&m.showInsideVisibleArea?this.repositionDropdownWithAnchorCoordinates(n,{left:m.position.x,top:m.position.y,width:0,height:0},!!m.preferLeft,!1,m.showOutsideAnchorElement,m.showIndicator,m.scale):m.position&&this.repositionDropdown(n,m.position);var p=_.filter(this.dropdowns,function(y){return y.element.is(n)});if(!_.isEmpty(p)){var C=p[0];C.escHandler=function(y){f.keyPress(y,C,m.anchorElement)};var b=C.element.get(0);b&&b.addEventListener("keydown",C.escHandler),C.isModal=m.isModal,C.returnFocusToElement=m.returnFocusToElement}this.registerScrollHandler(),e.IK.focusChildInGroup(n.get(0))},a.prototype.registerScrollHandler=function(){var n=this;setTimeout(function(){return n.registerScrollHandlerCore()})},a.prototype.registerScrollHandlerCore=function(){var n=this;this.scrollEventListener||(this.scrollEventListener=function(m){n.isResizeSensorScrollEvent(m)||$(m.target).parents().addBack().hasClass(h)||n.hideAllDropdowns()},document.addEventListener("scroll",this.scrollEventListener,!0))},a.prototype.unregisterScrollHandler=function(){document.removeEventListener("scroll",this.scrollEventListener,!0),this.scrollEventListener=void 0},a.prototype.keyPress=function(n,m,f){!n.skipOverlayServiceEscHandler&&27===n.keyCode&&(f&&f.focus(),this.hideDropdown(m,!0),n.stopPropagation())},a.prototype.registerBlurHandler=function(n,m){var f=this;n.on("focusout.overlay",function(V){n.off("focusout.overlay"),setTimeout(function(){return f.hideAllDropdowns(!!m)})})},a.prototype.getOverlayElement=function(n,m){var f=this.getOverlaySelector(n);return m?m.siblings(f):$(f)},a.prototype.getOverlaySelector=function(n){return'[dropdown-overlay-name="'.concat(n,'"]')},a.prototype.outOfBoundsClickHandler=function(n,m){return!$(n.target).parents().addBack().hasClass(h)},a.prototype.repositionDropdownWithAnchorCoordinates=function(n,m,f,V,p,C,b){var w,x,T,O,N,y=this.$window.width(),D=this.$window.height(),P=n.find(".explorationAppBarMenu"),F=P.length?P.outerWidth(!0):n.outerWidth(!0),E=P.length?P.outerHeight(!0):n.outerHeight(!0),R=null==b?F:F*b,g=null==b?E:E*b,L=C?16:0,M=C?Math.floor(Math.sqrt(L*L+L*L)/2):0;if(V){var A=void 0,I=void 0,B=void 0;I=m.left,x=(N=g+(A=m.top)-L>D)?A+m.height-E+L:A-L,this.rtl&&this.rtl.isRtlLayout?(O=!(U=(B=I)-R-M<0),w=U?B+M:B-F-M):(O=U=R+(B=I+m.width)+M>y,w=U?B-F-M:B+M),p&&w+F>=I&&w<B&&(w=I-F)}else{var U;I=void 0,x=(N=g+(A=m.top+m.height)-L>D)?A-E+L:A-L,f||this.rtl&&this.rtl.isRtlLayout?(O=!(U=(I=m.left+m.width)-F-M<0),w=U?I-m.width+M:I-F-M):w=(O=U=F+(I=m.left)+M>y)?I+m.width-F-M:I+M,w<0&&(w=I)}x<0&&(x=10);var W={x:Math.ceil(w),y:x};if(C){var j=m.top-W.y-L/2;j<0?j+=L:j>n.height()-L&&(j-=L),T={top:j},W.x>=m.left?T.left=-8:T.right=-8}this.repositionDropdown(n,W,T,b,O,N)},a.prototype.repositionDropdown=function(n,m,f,V,p,C){if(f){var b="top: ".concat(f.top,"px"),y=f.left?"left: ".concat(f.left,"px"):"right: ".concat(f.right,"px"),D="height: ".concat(16,"px;width: ").concat(16,"px"),P="position: absolute;transform: rotate(45deg);".concat(D,";").concat(b,";").concat(y,";"),F='<div class="indicator" style="'.concat(P,'"></div>');n.append($.parseHTML(F))}var E={top:m.y,left:m.x};void 0!==V&&(E.transform="scale(".concat(V,")"),E["transform-origin"]="".concat(p?"right":"left"," ").concat(C?"bottom":"top")),n.css(E)},a.prototype.hideAllDropdowns=function(n,m,f){var V;m||(V=_.find(this.dropdowns,function(p){return p.isModal})),this.hideAllDropdownsExcept(n,V&&V.element)},a.prototype.hideAllDropdownsExcept=function(n,m){for(var f=[],V=0,p=this.dropdowns;V<p.length;V++){var C=p[V];C&&!C.element.is(m)&&C.element.hasClass(h)&&(this.hideDropdown(C,n),f.push(C))}this.removeAllFromRegister(f)},a.prototype.hideDropdown=function(n,m){var f=this;if(n.escHandler){var V=n.element.get(0);V&&V.removeEventListener("keydown",n.escHandler),n.escHandler=null}n.returnFocusToElement&&n.returnFocusToElement.focus(),m?this.hideOverlay(n):n.element.animate({opacity:0},250,function(){return f.hideOverlay(n)}),this.unregisterScrollHandler(),this.removeSingleFromRegister(n)},a.prototype.removeSingleFromRegister=function(n){n.element.trigger(l.HV_)},a.prototype.removeAllFromRegister=function(n){_.forEach(n,function(m){return m.element.trigger(l.HV_)})},a.prototype.hideOverlay=function(n){n.element.removeClass(h).removeAttr("style")},a.prototype.isResizeSensorScrollEvent=function(n){return n&&$(n.target).parent().hasClass("ResizeSensor")},a}()},558470:function(Xe,H,t){function e(l){var o=[];for(var d in l){var v=l[d];!v.start||!v.end||o.push({start:new Date(v.start).toISOString(),end:new Date(v.end).toISOString(),startEval:v.startEval?new Date(v.startEval).toISOString():void 0,endEval:v.endEval?new Date(v.endEval).toISOString():void 0,fileName:d})}return o}t.d(H,{p:function(){return e}})},882832:function(Xe,H,t){t.d(H,{B:function(){return l},i:function(){return o}});var e=t(860931);function l(){return(0,e.hG)().isCurrentContextRtl}function o(){return{isRtlLayout:"True"===l()}}},549976:function(Xe,H,t){t.d(H,{K:function(){return v},W:function(){return d}});var e=t(767650),l=t(437555),o=t(980101);function d(S,h){return null==S?!h:"string"==typeof S&&(0,l.cu)(S)}function v(S,h,c){void 0===h&&(h=[]);var r=["background","foreground","accent","tableAccent","foreground","foregroundLight","foregroundDark","foregroundNeutralLight","foregroundNeutralDark","foregroundNeutralSecondary","foregroundNeutralSecondaryAlt","foregroundNeutralSecondaryAlt2","foregroundNeutralTertiary","foregroundNeutralTertiaryAlt","foregroundSelected","foregroundButton","background","backgroundLight","backgroundNeutral","backgroundDark","hyperlink","visitedHyperlink","shapeStroke","disabledText","mapPushpin","good","neutral","bad","maximum","center","minimum","null","firstLevelElements","secondLevelElements","thirdLevelElements","fourthLevelElements","secondaryBackground"],s=["title","label","callout","header","largeTitle","dataTitle","boldLabel","largeLabel","largeLightLabel","lightLabel","semiboldLabel","smallLabel","smallLightLabel","smallDataLabel"],u=["$schema","name","dataColors","textClasses","visualStyles","isHighContrast","icons"].concat(r,s,h);try{var i=(0,e.K)(S);if(_.isObject(i)&&!_.isArray(i)&&!c){var n=i.name;if(!n||!_.isString(n))throw new Error("Theme name missing");var m=i.dataColors;if(null!=m&&(!_.isArray(m)||_.some(m,function(y){return!d(y,!0)})))throw new Error("Invalid theme data colors");for(var f=0,V=r;f<V.length;f++)if(!d(i[p=V[f]],!1))throw new Error("Invalid theme data color");for(var p in i)if(-1===u.indexOf(p))throw new Error("Invalid theme field: "+p);var C=i.textClasses;if(!_.isEmpty(C))for(var p in C)if(-1===s.indexOf(p))throw new Error("Invalid theme text class: "+p)}if(i){if(!_.isEmpty(i.dataColors)){var b=o.ng.getDefaultColors();i.dataColors.length<b.length&&(i.dataColors=i.dataColors.concat(b.slice(i.dataColors.length).map(function(y){return y.value})))}return i}}catch(y){}}},276419:function(Xe,H,t){function d(S){return new v(S)}t.d(H,{i0:function(){return d}});var v=function(){function S(h){this.promiseFactory=h,this.queueDictionaryForBigDelays={},this.queueDictionaryForSmallDelays={}}return S.prototype.setTimeout=function(h,c){void 0===h&&(h=0),void 0===c&&(c=!1);var r=this.promiseFactory.defer(c),s=50,u=this.queueDictionaryForBigDelays;h<=100&&(s=5,u=this.queueDictionaryForSmallDelays);var i=-1===h?-1:h?Math.ceil((Date.now()+h)/s):0,a=u[i];if(!a){a=u[i]=[];var n=function(){delete u[i],_.forEach(a,function(f){return f.resolve(null)})};-1===h?Zone.root.scheduleMicroTask("TimeoutService.scheduleMicroTask",n):window.setTimeout(n,h)}return a.push(r),r},S}()},247740:function(Xe,H,t){t.d(H,{$9:function(){return we},$d:function(){return de},Bl:function(){return Or},CF:function(){return re},F4:function(){return er},F5:function(){return it},Fx:function(){return lr},G7:function(){return O},GA:function(){return y},Gf:function(){return V},Gl:function(){return dt},Jw:function(){return ye},Ob:function(){return ve},P9:function(){return Be},PI:function(){return vt},SR:function(){return _e},Sh:function(){return K},Sj:function(){return Ye},Sr:function(){return Yr},VV:function(){return q},Wc:function(){return Mr},Wm:function(){return Ee},Xv:function(){return M},ZD:function(){return Te},_$:function(){return Le},_m:function(){return yt},aR:function(){return Ke},ao:function(){return mr},bD:function(){return It},be:function(){return pt},eU:function(){return G},eg:function(){return ke},f8:function(){return Fe},fS:function(){return kt},fq:function(){return W},gP:function(){return g},gc:function(){return C},gu:function(){return ar},iE:function(){return Jr},j6:function(){return Ir},jD:function(){return Tt},lj:function(){return B},lt:function(){return pr},q0:function(){return zr},qN:function(){return rt},qi:function(){return qe},rM:function(){return xr},ty:function(){return Pe},uL:function(){return v},vE:function(){return Ve},vF:function(){return mt},xT:function(){return ie},xb:function(){return P},xo:function(){return Qr},xx:function(){return A},zu:function(){return fe}});var e=t(947634),l="PBI.Dashboard.BITokenRefreshPrompt",d=(e.cx[l]=(0,e.b1)(l),"PBI.Dashboard.FailedToRefreshToken"),v=e.cx[d]=(0,e.b1)(d),S="PBI.Dashboard.OpenLink",c=(e.cx[S]=(0,e.b1)(S),"PBI.MashUpContentProvider.ConnectButtonClicked"),s=(e.cx[c]=(0,e.b1)(c),"PBI.MashUpContentProvider.OrgAppPassThrough"),i=(e.cx[s]=(0,e.b1)(s),"PBI.MashUpContentProvider.PreparePackageSucceed"),n=(e.cx[i]=(0,e.b1)(i),"PBI.MashUpContentProvider.GetPackageModels"),f=(e.cx[n]=(0,e.b1)(n),"PBI.MashUpContentProvider.SaveModelParameters"),V=e.cx[f]=(0,e.b1)(f),p="PBI.MashUpContentProvider.GetAggregatedDatasourcesForImport",C=e.cx[p]=(0,e.b1)(p),b="PBI.MashUpContentProvider.UpdateDatasource",y=e.cx[b]=(0,e.b1)(b),D="PBI.MashUpContentProvider.ValidateParameters",P=e.cx[D]=(0,e.b1)(D),F="PBI.ContentProvider.UrlParametersPassed",w=(e.cx[F]=(0,e.b1)(F),"PBI.ContentProvider.UrlParametersDecodingFailed"),R=(e.cx[w]=(0,e.b1)(w),"PBI.ContentProvider.Http.GetContentProviders"),g=e.cx[R]=(0,e.b1)(R),L="PBI.Dashboard.SettingsDatasetsSaveRefreshSettings",M=e.cx[L]=(0,e.b1)(L),T="PBI.Dashboard.ParametersDialogSaveParameters",O=e.cx[T]=(0,e.b1)(T),N="PBI.Dashboard.RefreshNowFailedToRetrieveModel",A=e.cx[N]=(0,e.b1)(N),I="PBI.Dashboard.AuthenticationDialogSaveCredentials",B=e.cx[I]=(0,e.b1)(I),U="PBI.Dashboard.RetrieveGateway",W=e.cx[U]=(0,e.b1)(U),j="PBI.Dashboard.PrepareRefreshNow",K=e.cx[j]=(0,e.b1)(j),ee="PBI.Dashboard.GetAggregatedDatasourcesForOneModel",ie=e.cx[ee]=(0,e.b1)(ee),he="PBI.Dashboard.DatasetRefresh",q=e.cx[he]=(0,e.b1)(he),Y="PBI.Dashboard.DatasetRefreshCancellation",G=e.cx[Y]=(0,e.b1)(Y),me="PBI.Dashboard.InitializeSettingsDatasetModel",re=e.cx[me]=(0,e.b1)(me),le="PBI.Dashboard.GetRefreshHistory",Ee=e.cx[le]=(0,e.b1)(le),Ne="PBI.Dashboard.GetGroupIcon",Ye=e.cx[Ne]=(0,e.b1)(Ne),Je="PBI.Dashboard.RefreshAndGetUserMetadata",_e=e.cx[Je]=(0,e.b1)(Je),pe="PBI.UserInfo.GetSelfServiceEligibility",fe=e.cx[pe]=(0,e.b1)(pe),oe="PBI.UserInfo.GetIsModernCommerceAdmin",ye=e.cx[oe]=(0,e.b1)(oe),Ce="PBI.Quota.UpgradeInteraction",Be=e.cx[Ce]=(0,e.b1)(Ce),be="PBI.LicenseEnforcement.ShowFeatureDisabledDialog",Te=e.cx[be]=(0,e.b1)(be),ce="PBI.LicenseEnforcement.ShowStartFreeTrialDialog",ve=e.cx[ce]=(0,e.b1)(ce),Re="PBI.LicenseEnforcement.ShowUpgradeToProDialog",Ke=e.cx[Re]=(0,e.b1)(Re),tt="PBI.LicenseEnforcement.Accept2017proTrial",mt=e.cx[tt]=(0,e.b1)(tt),He="PBI.LicenseEnforcement.AutoTrialAssignment",ke=e.cx[He]=(0,e.b1)(He),ft="PBI.LicenseEnforcement.LeadsCollection",Le=e.cx[ft]=(0,e.b1)(ft),Q="PBI.TeamsLicenseEnforcement.UpgradeNowClick",ae=(e.cx[Q]=(0,e.b1)(Q),"PBI.TeamsLicenseEnforcement.UpgradeNowAbandon"),nt=(e.cx[ae]=(0,e.b1)(ae),"PBI.DashboardAndReports.Print"),vt=e.cx[nt]=(0,e.b1)(nt,{logExpAssignment:!0}),We="PBI.DashboardAndReports.AnalyzeInExcel",de=e.cx[We]=(0,e.b1)(We,{logExpAssignment:!0}),te="PBI.DsrDataLimitsWarning",Ve=e.cx[te]=(0,e.b1)(te),xe="PBI.DeprecatedNotificationToastUsage",J=(e.cx[xe]=(0,e.b1)(xe),"PBI.DomainHelper.GetVerifiedDomains"),Fe=e.cx[J]=(0,e.b1)(J),ze="PBI.NewerExplorationVersion",rt=e.cx[ze]=(0,e.b1)(ze),Oe="PBI.DeveloperVisualEnabledChanged",Pe=e.cx[Oe]=(0,e.b1)(Oe),X="PBI.ModuleLoad",we=e.cx[X]=(0,e.b1)(X),Ze="PBI.ModuleLoadError",at=(e.cx[Ze]=(0,e.b1)(Ze),"ScriptVisualFilterAction"),Ie=(e.cx[at]=(0,e.b1)(at),"PBI.EX.CrossFilterScriptVisual"),qe=e.cx[Ie]=(0,e.b1)(Ie),bt="PBI.EX.FilterScriptVisual",It=e.cx[bt]=(0,e.b1)(bt),Rt="PBI.ClusterResolved",Kt=(e.cx[Rt]=(0,e.b1)(Rt),"PBI.DashboardAndReports.AuditEvent"),ir=(e.cx[Kt]=(0,e.b1)(Kt),"PBI.DownloadReport"),lr=e.cx[ir]=(0,e.b1)(ir,{logExpAssignment:!0}),dr="PBI.Settings.UpdateGateway",Cr=(e.cx[dr]=(0,e.b1)(dr),"PBI.Settings.DeleteGateway"),pt=e.cx[Cr]=(0,e.b1)(Cr),Ut="PBI.Settings.CreateDataSource",er=e.cx[Ut]=(0,e.b1)(Ut),Pr="PBI.Settings.DeleteDataSource",mr=e.cx[Pr]=(0,e.b1)(Pr),gr="PBI.Settings.BindModelToGateway",xr=e.cx[gr]=(0,e.b1)(gr),Vr="PBI.Settings.AddDataSourcePrincipals",Qr=e.cx[Vr]=(0,e.b1)(Vr),Gr="PBI.Settings.RemoveDataSourcePrincipals",Jr=e.cx[Gr]=(0,e.b1)(Gr),Hr="PBI.Settings.AddGatewayPrincipals",Yr=e.cx[Hr]=(0,e.b1)(Hr),Zr="PBI.Settings.RemoveGatewayPrincipals",Or=e.cx[Zr]=(0,e.b1)(Zr),Ur="PBI.Settings.UpdateCredentials",zr=e.cx[Ur]=(0,e.b1)(Ur),ai="PBI.Settings.OpenGatewayDatasourceUPNMappingPane",ct=(e.cx[ai]=(0,e.b1)(ai),"PBI.Settings.UpdateGatewayDatasourceUPNMapping"),Tt=e.cx[ct]=(0,e.b1)(ct),ot="PBI.Settings.TestGatewayDatasourceUPNMapping",it=e.cx[ot]=(0,e.b1)(ot),ht="PBI.App.JavaScriptParse",yt=e.cx[ht]=(0,e.b1)(ht),Ft="PBI.App.PreemptiveQueryData",kt=e.cx[Ft]=(0,e.b1)(Ft),Gt="PBI.GeocodingSummary",ar=e.cx[Gt]=(0,e.b1)(Gt,{logRatio:.1}),sr="PBI.SyncServiceUpdate",pr=e.cx[sr]=(0,e.b1)(sr),fr="PBI.LicenseEnforcement.AccessCustomizedProperties",Mr=e.cx[fr]=(0,e.b1)(fr),hr="PBI.LicenseEnforcement.SelfServiceEligibilityNotLoaded",Ir=e.cx[hr]=(0,e.b1)(hr),Pt="PBI.Settings.OAuthPopup",dt=e.cx[Pt]=(0,e.b1)(Pt),ue="PBI.LegacyServiceUsed";e.cx[ue]=(0,e.b1)(ue)},691379:function(Xe,H,t){t.d(H,{AF:function(){return D},Et:function(){return a},K_:function(){return n},MJ:function(){return P},SW:function(){return C},TD:function(){return b},WE:function(){return h},Z6:function(){return F},cD:function(){return s},pZ:function(){return f},py:function(){return R},um:function(){return y},vq:function(){return c}});var e=t(498342),o=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,d=[.6,.4,.2,.1,0],v=[-.1,-.2,-.3,-.5,-.6],S=[.6,.4,.2,-.25,-.5];function h(O,N,A){var I,B,U,W=Math.floor(6*O),j=6*O-W,K=A*(1-N),ee=A*(1-j*N),ie=A*(1-(1-j)*N);switch(W%6){case 0:I=A,B=ie,U=K;break;case 1:I=ee,B=A,U=K;break;case 2:I=K,B=A,U=ie;break;case 3:I=K,B=ee,U=A;break;case 4:I=ie,B=K,U=A;break;case 5:I=A,B=K,U=ee}return[Math.round(255*I),Math.round(255*B),Math.round(255*U)]}function c(O,N,A){return"#"+r(O)+r(N)+r(A)}function r(O){var N=O.toString(16);return 1===N.length?"0"+N:N}function s(O,N){var A=F(O);return null===A?"":N||0===N?"rgba("+A.r+","+A.g+","+A.b+","+N+")":"rgb("+A.r+","+A.g+","+A.b+")"}function a(O,N){if(n(O))return s(O,N);if(function(O){return/^hsl\(\d{1,3}(,\s?\d{1,3}%){2}\)|^hsla\((\d{1,3}%?,\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(O)}(O)){var A=function(O){var A,N=/^hsla?\((\d{1,3}),\s?(\d{1,3})%,\s?(\d{1,3})%(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(O);if(!N)return null;N[5]&&(A=parseFloat(N[5])),N[6]&&(A=parseFloat(N[6]));var I=parseInt(N[1],10);I%=360;var B=parseInt(N[2],10);B=B>100?100:B;var U=parseInt(N[3],10);return{h:I,s:B,l:U=U>100?100:U,a:A}}(O);return"hsla("+A.h+","+A.s+"%,"+A.l+"%,"+(A.a||0===A.a?A.a:N)+")"}if(function(O){return/^rgb\(\d{1,3}(,\s?\d{1,3}){2}\)|^rgba\((\d{1,3},\s?){3}(1|1.0|0|0?\.\d+)\)$/gi.test(O)}(O)){var B=function(O){var A,N=/^rgba?\((\d{1,3}),\s?(\d{1,3}),\s?(\d{1,3})(,\s?(1|1.0|0)|,\s?(0?\.\d+))?\)$/i.exec(O);if(!N)return null;N[5]&&(A=parseFloat(N[5])),N[6]&&(A=parseFloat(N[6]));var I=parseInt(N[1],10);I=I>255?255:I;var B=parseInt(N[2],10);B=B>255?255:B;var U=parseInt(N[3],10);return{r:I,g:B,b:U=U>255?255:U,a:A}}(O);return"rgba("+B.r+","+B.g+","+B.b+","+(B.a||0===B.a?B.a:N)+")"}return""}function n(O){return null!=O&&!!O.match("^#([A-Fa-f0-9]{6}|[A-Fa-f0-9]{3})$")}function f(O){return e.fF.assertValue(O,"color"),function(O){return"#FFFFFF"===O||"#FFF"===O}(O)?v:function(O){return"#000000"===O||"#000"===O}(O)?d:S}function C(O){return n(O)||n(O="#"+O)?O:null}function b(O){return 1-O/100}function y(O){var N=F(O);return(.299*N.r+.587*N.g+.114*N.b)/255}function D(O){return O&&!!O.match("^#([A-Fa-f0-9]{3})$")}function P(O,N){return O=(O=N?O.substring(1):O).replace(o,function(A,I,B,U){return I+I+B+B+U+U}),N?"#"+O:O}function F(O){O=P(O,!1);var N=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(O);return N?{r:parseInt(N[1],16),g:parseInt(N[2],16),b:parseInt(N[3],16)}:null}function R(O,N,A){O/=255,N/=255,A/=255;var U,W,I=Math.max(O,N,A),B=Math.min(O,N,A),j=I,K=I-B;if(W=0===I?0:K/I,I===B)U=0;else{switch(I){case O:U=(N-A)/K+(N<A?6:0);break;case N:U=(A-O)/K+2;break;case A:U=(O-N)/K+4}U/=6}return[U,W,j]}},653864:function(Xe,H,t){function e(l){return{dsrV2:l.dsrV2||l.dsrV2_Staging,queryCancellation:l.queryCancellation,telemetryV2:l.telemetryV2,scopedAggregates:l.scopedAggregates,addVisualIdToQueryDataAsHttpBodyId:l.addVisualIdToQueryDataAsHttpBodyId,queryContext:l.queryContext,lruCacheEvictionPolicy:l.lruCacheEvictionPolicy,categoricalSecondaryCF:l.categoricalSecondaryCF,useEnrichedApplicationContext:l.useEnrichedApplicationContext}}t.d(H,{u:function(){return e}})},346162:function(Xe,H,t){t.d(H,{q:function(){return o}});var e=t(498342),l=/[0-9a-fA-F]{8}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{4}\-[0-9a-fA-F]{12}/,o=function(){function d(){}return d.generateId=function(v,S){var h=d.generateUUID();return"".concat(v||"").concat(h).concat(S||"")},d.generateShortId=function(v){return(Math.random().toString(36)+"00000000000000000").slice(2,v+2)},d.generateUniqueId=function(v,S,h){e.fF.assertValue(v,"usedIds");for(var c,r=0;void 0===c||v[c];){if(++r>1e3){e.fF.assertFail("iterationCount is greater than ".concat(1e3," while generating a unique id"));break}c=d.generateId(S,h)}return c},d.isGuid=function(v){if(_.isEmpty(v)||36!==v.length)return!1;var S=v.match(l);return!_.isEmpty(S)&&1===S.length},d.generateUUID=function(){var v=(new Date).getTime();return"undefined"!=typeof performance&&"function"==typeof performance.now&&(v+=performance.now()),"xxxxxxxxxxxxxxxxxxxx".replace(/[xy]/g,function(S){var h=v+16*Math.random()&15|0;return v>>=4,h.toString(16)})},d}()},215247:function(Xe,H,t){function e(l){var o=l.offset();return{left:o.left,top:o.top,width:l.outerWidth(!0),height:l.outerHeight(!0)}}t.d(H,{E:function(){return e}})},671225:function(Xe,H,t){t.d(H,{C:function(){return d}});var e=t(498342);function l(v){if(v){var h,S=v.value();if(v.firstChange?(v.firstChange=!1,h=!0):v.equal(S,v.oldValue)||(h=!1),void 0!==h){var c=v.oldValue;v.oldValue=v.copy(S),v.onChange(S,c,h)}}}var d=function(){function v(){this.watches={}}return v.prototype.has=function(S){return null!=this.watches[S]},v.prototype.add=function(S,h,c,r){var u,i,s=this;e.fF.assertValue(S,"id"),e.fF.assert(function(){return!s.watches[S]},"Added watch twice: ".concat(S)),e.fF.assertValue(h,"value"),e.fF.assertValue(c,"onChange"),r&&2===r.mode?(u=function(n,m){return _.isEqual(n,m)},i=function(n){return _.cloneDeep(n)}):r&&1===r.mode?(u=function(n,m){return function(v,S){if(!v||!S)return v===S;var h=v.length;if(h!==S.length)return!1;for(var c=h;c-- >0;)if(v[c]!==S[c])return!1;return!0}(n,m)},i=function(n){return _.clone(n)}):(u=function(n,m){return n===m},i=function(n){return n}),this.watches[S]={id:S,value:h,onChange:c,firstChange:!0,equal:u,copy:i}},v.prototype.remove=function(S){delete this.watches[S]},v.prototype.doCheck=function(){_.forEach(this.watches,l)},v}()},384103:function(Xe,H,t){t.d(H,{$Ez:function(){return E},AsH:function(){return lr},Deb:function(){return Ni},F15:function(){return Pi},F3x:function(){return ue},HV_:function(){return M},HhA:function(){return xr},I8X:function(){return p},IBn:function(){return Cr},ISm:function(){return ii},Imn:function(){return l},Jam:function(){return C},KRp:function(){return w},LBm:function(){return ct},M0n:function(){return hr},M6c:function(){return ai},Nbb:function(){return At},NkG:function(){return f},OsI:function(){return Ae},Pg6:function(){return S},PpD:function(){return Br},Px$:function(){return Jr},Q15:function(){return Qi},RCq:function(){return x},RGx:function(){return Hi},S9q:function(){return zt},SZk:function(){return y},SlI:function(){return Gi},Td2:function(){return F},UZB:function(){return Si},Va2:function(){return Tt},WMs:function(){return br},Wnf:function(){return lt},Yh0:function(){return Vr},_W6:function(){return pi},a4P:function(){return Yr},bTS:function(){return Gr},bb_:function(){return gr},c41:function(){return xi},cP$:function(){return It},cmI:function(){return Wt},dJM:function(){return v},eBl:function(){return b},ebA:function(){return Ze},gMq:function(){return Ie},hOU:function(){return fr},j7U:function(){return xt},jb4:function(){return c},k4X:function(){return si},kJ$:function(){return N},kWQ:function(){return ir},ly2:function(){return A},miy:function(){return pr},nDG:function(){return P},nKy:function(){return Xt},ne5:function(){return qe},p5r:function(){return le},qvT:function(){return D},r2l:function(){return Et},r90:function(){return Yt},rEb:function(){return g},sVl:function(){return L},uMK:function(){return o},uTR:function(){return sr},uWP:function(){return d},wME:function(){return di},wku:function(){return O},yOS:function(){return we},ykK:function(){return Qr},ykb:function(){return Kt},ymx:function(){return V}});var e=t(902731),l="ActivityId",o="RequestId",d="x-ms-root-activity-id",v="http",S="X-PowerBI-UploadFileSize",c="refreshAccessToken",f="dashboardTileRepeatFinished",V="azure",p="office",C="trial",b="dc",y=673,D=860,P=940,F=578,E="/openReport",w="/openWorkbook",x="/openQnA",g="/openInsights",L="/openUrl",M="overlay.close",O="me",N="R",A="sobe_onpremisevirtualserver",le="selectedQueryId",we={name:"datasetDatasourceUpdated",type:4},Ze="$destroy",Ie=980,qe=640,It={name:"datasetShowAuthDialog",type:4},zt={name:"datasetShowParameterDialogAfterInvalidParameter",type:4},Kt="ContentProvider_InvalidModelParameter",Yt=127,ir=8,lr=48,br="enterPrintModeEvent",Cr="exitPrintModeEvent",gr="tileError",xr="PackageOperationInProgress",Vr="DataRefreshTooSoon",Qr="OnPremiseServiceException",Gr="RefreshNotSupportedFFXL",Jr="CloudRLSAccessDeniedErrorCode",Yr=location.origin||location.protocol+"//"+location.hostname,ai="contentProviderStoreCancelModalDialogMessage",lt="contentProviderStoreCloseModalDialogMessage",ct="contentProviderStoreGoBackModalDialogMessage",Tt="contentProviderStoreGoToAppDocModalDialogMessage",sr=6,pr=7,fr=26,hr=1073741824,ue=1004,Ae=10,Et=2147483647,Wt=[{backendUri:void 0,hostNameMatch:["invalidHostName"],index:0},{backendUri:"https://wabi-us-east2-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east2"],index:1},{backendUri:"https://wabi-us-east-redirect.analysis.windows.net",hostNameMatch:["wabi-us-east","wabi-staging-us-east"],index:2},{backendUri:"https://wabi-us-north-central-redirect.analysis.windows.net",hostNameMatch:["wabi-us-north-central"],index:3},{backendUri:"https://wabi-south-central-us-redirect.analysis.windows.net",hostNameMatch:["wabi-south-central-us","wabi-us-south-central-backup"],index:4},{backendUri:"https://df-msit-scus-redirect.analysis.windows.net",hostNameMatch:["df-msit-scus"],index:5},{backendUri:"https://wabi-west-us-redirect.analysis.windows.net",hostNameMatch:["wabi-west-us","wabi-tip-west-us"],index:6},{backendUri:"https://df-msit-wus-redirect.analysis.windows.net",hostNameMatch:["df-msit-wus"],index:7},{backendUri:"https://wabi-north-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-north-europe","wabi-europe-north2","wabi-europe-north-b"],index:8},{backendUri:"https://wabi-west-europe-redirect.analysis.windows.net",hostNameMatch:["wabi-west-europe","wabi-europe-west2"],index:9},{backendUri:"https://wabi-south-east-asia-redirect.analysis.windows.net",hostNameMatch:["wabi-south-east-asia","wabi-east-asia"],index:10},{backendUri:"https://wabi-staging-a7-redirect.analysis.windows.net",hostNameMatch:["wabi-staging-a7"],index:11},{backendUri:"https://biazure-int-edog-redirect.analysis-df.windows.net",hostNameMatch:["biazure-int-edog","bi-azure-int3"],index:12}],Xt="dsr",At=".dashboard",xt="needStrategySwap";function Br(li){var Ri=li.contentProviderId;return 103===Ri||102===Ri||li.packageType===e.yR.UsageMetricsV2}function ii(li){return(null==li?void 0:li.packageType)===e.yR.Scorecard}function pi(li){return(null==li?void 0:li.originalPackageType)===e.yR.Scorecard}function si(li){return 103===li||102===li}function Si(li){return(null==li?void 0:li.packageType)===e.yR.Datamart}function di(li){return(null==li?void 0:li.packageType)===e.yR.SeeThruModel}var Hi=60,Pi="invitationCode",Gi="i",Qi="00000000-0000-0000-0000-000000000000",xi=2147483647,Ni=[22,43,44,45,46,47,48,49]},902731:function(Xe,H,t){t.d(H,{Bs:function(){return c},Bz:function(){return r},GY:function(){return n},Kx:function(){return e},Sr:function(){return s},UX:function(){return l},Vv:function(){return u},kQ:function(){return a},mx:function(){return h},nW:function(){return m},tP:function(){return d},ty:function(){return i},wg:function(){return v},yR:function(){return S},zS:function(){return o}});var e=["PowerBIServicePlan0"],l=["PowerBIServicePlan1","PowerBIServicePlan2","PowerBIServicePlan3"],o=["PowerBIServicePlan3"],d=["PowerBIServicePlan1"],v=["PowerBIServicePlan1","PowerBIServicePlan2"],S=function(f){return f[f.Undefined=0]="Undefined",f[f.AppTemplate=1]="AppTemplate",f[f.AppInstance=2]="AppInstance",f[f.AppCopy=3]="AppCopy",f[f.UsageMetricsV2=4]="UsageMetricsV2",f[f.ProtectionMetrics=5]="ProtectionMetrics",f[f.AdminUsageMetrics=6]="AdminUsageMetrics",f[f.AdminPerformanceMetrics=7]="AdminPerformanceMetrics",f[f.Sample=8]="Sample",f[f.Scorecard=9]="Scorecard",f[f.TeamsAnalytics=10]="TeamsAnalytics",f[f.Datamart=11]="Datamart",f[f.AdminMonitoring=12]="AdminMonitoring",f[f.AuditLogSearchDataflow=13]="AuditLogSearchDataflow",f[f.AdminInsightsUsageMetrics=14]="AdminInsightsUsageMetrics",f[f.AdminInsights=15]="AdminInsights",f[f.SeeThruModel=16]="SeeThruModel",f}({}),h=function(f){return f.None="",f.BuiltIn="BuiltIn",f.Organizational="Organizational",f.Services="Services",f.OrganizationalTemplate="OrganizationalTemplate",f.OrganizationalApp="OrganizationalApp",f.ServiceApp="ServiceApp",f.OrganizationalTemplateApp="OrganizationalTemplateApp",f.PowerBIServiceApp="PowerBIServiceApp",f}({}),c=function(f){return f[f.Service=1]="Service",f[f.Organizational=2]="Organizational",f[f.File=3]="File",f[f.Sample=4]="Sample",f[f.Learn=5]="Learn",f[f.BigDataAndMore=6]="BigDataAndMore",f[f.Dataflows=7]="Dataflows",f[f.OrgContentPacks=8]="OrgContentPacks",f[f.Apps=9]="Apps",f}({}),r=function(f){return f[f.Unknown=0]="Unknown",f[f.Dashboard=1]="Dashboard",f[f.Report=2]="Report",f[f.Model=3]="Model",f[f.Workbook=4]="Workbook",f[f.App=5]="App",f[f.RdlReport=6]="RdlReport",f[f.Dataflow=7]="Dataflow",f[f.Tile=8]="Tile",f[f.StreamingDataflow=9]="StreamingDataflow",f[f.Folder=10]="Folder",f[f.Datamart=11]="Datamart",f[f.Artifact=12]="Artifact",f[f.Connection=13]="Connection",f}({}),s=function(f){return f[f.MyFolder=0]="MyFolder",f[f.AppFolder=1]="AppFolder",f[f.AdminFolder=2]="AdminFolder",f[f.TransientFolder=1e4]="TransientFolder",f}({}),u=function(f){return f[f.Import=0]="Import",f[f.DirectQuery=1]="DirectQuery",f[f.Mixed=2]="Mixed",f}({}),i=function(f){return f[f.Favorite=1]="Favorite",f[f.Report=2]="Report",f[f.Dashboard=4]="Dashboard",f[f.Workbook=8]="Workbook",f[f.OrgApp=16]="OrgApp",f[f.MRU=128]="MRU",f[f.Workspace=256]="Workspace",f[f.Dataset=512]="Dataset",f[f.AppPlaceHolder=1024]="AppPlaceHolder",f[f.RdlReport=2048]="RdlReport",f[f.CdsaModel=4096]="CdsaModel",f[f.StreamingCdsaModel=8192]="StreamingCdsaModel",f[f.Scorecard=16384]="Scorecard",f[f.StreamingDataset=32768]="StreamingDataset",f[f.Datamart=65536]="Datamart",f}({}),a=function(f){return f[f.AlmPipelineDeployment=0]="AlmPipelineDeployment",f[f.AutomaticAggregationsEnabled=1]="AutomaticAggregationsEnabled",f[f.IncrementalRefreshEnabled=2]="IncrementalRefreshEnabled",f[f.LiveConnectModel=3]="LiveConnectModel",f[f.ModifiedByXmlaEndpoint=4]="ModifiedByXmlaEndpoint",f[f.NonV3Model=5]="NonV3Model",f[f.SharedCapacityModel=6]="SharedCapacityModel",f}({}),n=function(f){return f[f.Shared=0]="Shared",f[f.Dedicated=1]="Dedicated",f[f.ASAzure=2]="ASAzure",f[f.ASOnPrem=3]="ASOnPrem",f}({}),m=function(f){return f[f.Dashboard=1]="Dashboard",f[f.Report=2]="Report",f[f.App=3]="App",f[f.RdlReport=4]="RdlReport",f[f.ResourcePackage=5]="ResourcePackage",f[f.Artifact=6]="Artifact",f[f.Datamart=7]="Datamart",f}({})},631702:function(Xe,H,t){t.d(H,{JL:function(){return v},Rf:function(){return l},TA:function(){return s},ZG:function(){return c},d3:function(){return S},uY:function(){return i},uk:function(){return h},ye:function(){return r}});var l=function(a){return a[a.Resource=0]="Resource",a[a.Personal=1]="Personal",a[a.VirtualNetwork=2]="VirtualNetwork",a[a.TenantCloud=3]="TenantCloud",a}({}),v=function(a){return a[a.Live=0]="Live",a[a.NotInstalled=1]="NotInstalled",a[a.NotReachable=2]="NotReachable",a[a.Installed=3]="Installed",a}({}),S=function(a){return a[a.NotSpecified=0]="NotSpecified",a[a.Windows=1]="Windows",a[a.Anonymous=2]="Anonymous",a[a.Basic=3]="Basic",a[a.Key=4]="Key",a[a.OAuth2=5]="OAuth2",a[a.EffectiveUserName=6]="EffectiveUserName",a[a.SingleSignOn=7]="SingleSignOn",a[a.WindowsWithoutImpersonation=8]="WindowsWithoutImpersonation",a[a.SAS=9]="SAS",a[a.ServicePrincipal=10]="ServicePrincipal",a}({}),h=function(a){return a[a.None=0]="None",a[a.Private=1]="Private",a[a.Organizational=2]="Organizational",a[a.Public=3]="Public",a}({}),c=function(a){return a[a.None=0]="None",a[a.Kerberos=1]="Kerberos",a[a.AzureActiveDirectory=2]="AzureActiveDirectory",a[a.SAML=3]="SAML",a[a.KerberosDQAndRefresh=4]="KerberosDQAndRefresh",a}({}),r=function(a){return a[a.SqlServer=0]="SqlServer",a[a.AnalysisServices=1]="AnalysisServices",a[a.SAP=2]="SAP",a[a.File=3]="File",a[a.Folder=4]="Folder",a[a.Oracle=5]="Oracle",a[a.Teradata=6]="Teradata",a[a.SharePointList=7]="SharePointList",a[a.Web=8]="Web",a[a.OData=9]="OData",a[a.DB2=10]="DB2",a[a.MySql=11]="MySql",a[a.PostgreSql=12]="PostgreSql",a[a.Sybase=13]="Sybase",a[a.Extension=14]="Extension",a[a.SAPBW=15]="SAPBW",a[a.AzureTable=16]="AzureTable",a[a.AzureBlob=17]="AzureBlob",a[a.Informix=18]="Informix",a[a.ODBC=19]="ODBC",a[a.SharePoint=21]="SharePoint",a[a.GoogleAnalytics=25]="GoogleAnalytics",a[a.Exchange=27]="Exchange",a[a.Facebook=28]="Facebook",a[a.HDInsight=29]="HDInsight",a[a.AzureMarketplace=30]="AzureMarketplace",a[a.ActiveDirectory=31]="ActiveDirectory",a[a.OleDb=35]="OleDb",a[a.AdoDotNet=36]="AdoDotNet",a[a.Salesforce=39]="Salesforce",a[a.SAPBWMessageServer=41]="SAPBWMessageServer",a[a.Essbase=43]="Essbase",a[a.AzureDataLakeStorage=44]="AzureDataLakeStorage",a[a.CDPA=47]="CDPA",a}({}),s=function(a){return a[a.EffectiveUserName=0]="EffectiveUserName",a[a.CustomData=1]="CustomData",a}({}),i=function(a){return a[a.AadSSO=0]="AadSSO",a}({})},427587:function(Xe,H,t){t.d(H,{l:function(){return l},m:function(){return e}});var e=function(o){return o[o.NewFeatureProductMessage=0]="NewFeatureProductMessage",o[o.DashboardSharing=2]="DashboardSharing",o[o.DashboardAddedToGroup=3]="DashboardAddedToGroup",o[o.Trial=5]="Trial",o[o.DataDrivenAlert=6]="DataDrivenAlert",o[o.AccessRequest=14]="AccessRequest",o[o.TemplateAppsUpdateAvailable=29]="TemplateAppsUpdateAvailable",o[o.CapacityOverloaded=34]="CapacityOverloaded",o[o.CapacityAutoScaled=35]="CapacityAutoScaled",o[o.CapacityAutoScaleMaximumReached=36]="CapacityAutoScaleMaximumReached",o[o.TeamsAppInstallation=42]="TeamsAppInstallation",o[o.ScdProvisioningFailed=62]="ScdProvisioningFailed",o[o.DynamicMessage=999]="DynamicMessage",o}({}),l=function(o){return o[o.DashboardContentPackNewVersion=0]="DashboardContentPackNewVersion",o[o.UsersNotifications_SharedDashboard=1]="UsersNotifications_SharedDashboard",o[o.ExtendTrial_TrialExpired=2]="ExtendTrial_TrialExpired",o[o.UsersNotifications_TrialRunsOutInLessThanADay=3]="UsersNotifications_TrialRunsOutInLessThanADay",o[o.UsersNotifications_TrialRunningOut=4]="UsersNotifications_TrialRunningOut",o[o.UsersNotifications_TitleTrialExpired=5]="UsersNotifications_TitleTrialExpired",o[o.UsersNotifications_UserName=6]="UsersNotifications_UserName",o[o.UsersNotifications_GoToApp=7]="UsersNotifications_GoToApp",o[o.UsersNotifications_GoToDashboard=8]="UsersNotifications_GoToDashboard",o[o.UsersNotifications_TrialRunsOutInOneDay=9]="UsersNotifications_TrialRunsOutInOneDay",o[o.UsersNotifications_TitleTrialRunsOutInOneDay=10]="UsersNotifications_TitleTrialRunsOutInOneDay",o[o.UsersNotifications_TitleTrialRunsOutInLessThanADay=11]="UsersNotifications_TitleTrialRunsOutInLessThanADay",o[o.UsersNotifications_TitleTrialRunningOut=12]="UsersNotifications_TitleTrialRunningOut",o[o.UsersNotifications_RequestExtensionLinkText=13]="UsersNotifications_RequestExtensionLinkText",o[o.UsersNotifications_DataDrivenAlert=14]="UsersNotifications_DataDrivenAlert",o[o.UsersNotifications_GroupName=15]="UsersNotifications_GroupName",o[o.UsersNotifications_NewDashboard=16]="UsersNotifications_NewDashboard",o[o.UsersNotifications_TileName=17]="UsersNotifications_TileName",o[o.UsersNotifications_DataDrivenDown=18]="UsersNotifications_DataDrivenDown",o[o.UsersNotifications_DataDrivenUp=19]="UsersNotifications_DataDrivenUp",o[o.UsersNotifications_GoToTile=20]="UsersNotifications_GoToTile",o[o.UsersNotifications_DatasetSettingChangeTitle=21]="UsersNotifications_DatasetSettingChangeTitle",o[o.UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage=22]="UsersNotifications_DatasetInGroupWorkspaceSettingChangeMessage",o[o.UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage=23]="UsersNotifications_DatasetInMyWorkspaceSettingChangeMessage",o[o.Generic_LearnMore=24]="Generic_LearnMore",o[o.UsersNotifications_Upgrade=25]="UsersNotifications_Upgrade",o[o.UsersNotifications_GoToConversation=27]="UsersNotifications_GoToConversation",o[o.UsersNotifications_AtMentionedInComment=28]="UsersNotifications_AtMentionedInComment",o[o.FolderNotifications_ServiceAppsUpdateAvailable=29]="FolderNotifications_ServiceAppsUpdateAvailable",o[o.FolderNotifications_GetServiceAppUpdate=30]="FolderNotifications_GetServiceAppUpdate",o[o.UsersNotifications_FeaturedContentEnabledTitle=31]="UsersNotifications_FeaturedContentEnabledTitle",o[o.UsersNotifications_FeaturedContentEnabledMessage=32]="UsersNotifications_FeaturedContentEnabledMessage",o[o.UsersNotifications_GoToAdminPortal=33]="UsersNotifications_GoToAdminPortal",o[o.UsersNotifications_GoToAdminPortalCapacity=34]="UsersNotifications_GoToAdminPortalCapacity",o[o.UsersNotifications_GoToReportAccess=37]="UsersNotifications_GoToReportAccess",o[o.UsersNotifications_RequestedAccess=38]="UsersNotifications_RequestedAccess",o[o.UsersNotifications_AlertTitle=1e3]="UsersNotifications_AlertTitle",o[o.UsersNotifications_AlertExceeded=1001]="UsersNotifications_AlertExceeded",o[o.UsersNotifications_AlertWentBelow=1002]="UsersNotifications_AlertWentBelow",o[o.UsersNotifications_AlertAction=1003]="UsersNotifications_AlertAction",o[o.UsersNotifications_AlertExceededNoTileName=1004]="UsersNotifications_AlertExceededNoTileName",o[o.UsersNotifications_AlertWentBelowNoTileName=1005]="UsersNotifications_AlertWentBelowNoTileName",o[o.UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple=1200]="UsersNotifications_LineChartAnomalyAlert_DatetimeMultiple",o[o.UsersNotifications_LineChartAnomalyAlert_DatetimeSingle=1201]="UsersNotifications_LineChartAnomalyAlert_DatetimeSingle",o[o.UsersNotifications_LineChartAnomalyAlert_OtherMultiple=1202]="UsersNotifications_LineChartAnomalyAlert_OtherMultiple",o[o.UsersNotifications_LineChartAnomalyAlert_OtherSingle=1203]="UsersNotifications_LineChartAnomalyAlert_OtherSingle",o[o.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded=1204]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertExceeded",o[o.UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow=1205]="UsersNotifications_LineChartThreshold_DatetimeMultiple_AlertWentBelow",o[o.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded=1206]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertExceeded",o[o.UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow=1207]="UsersNotifications_LineChartThreshold_DatetimeSingle_AlertWentBelow",o[o.UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded=1208]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertExceeded",o[o.UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow=1209]="UsersNotifications_LineChartThreshold_OtherMultiple_AlertWentBelow",o[o.UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded=1210]="UsersNotifications_LineChartThreshold_OtherSingle_AlertExceeded",o[o.UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow=1211]="UsersNotifications_LineChartThreshold_OtherSingle_AlertWentBelow",o[o.UsersNotifications_CapacityAutoscaled_Title=2e3]="UsersNotifications_CapacityAutoscaled_Title",o[o.UsersNotifications_CapacityAutoscaled=2001]="UsersNotifications_CapacityAutoscaled",o[o.UsersNotifications_CapacityThrottled_Title=2002]="UsersNotifications_CapacityThrottled_Title",o[o.UsersNotifications_CapacityThrottled=2003]="UsersNotifications_CapacityThrottled",o[o.UsersNotifications_TeamsAppInstallationSuccess=2101]="UsersNotifications_TeamsAppInstallationSuccess",o[o.UsersNotifications_TeamsAppInstallationOpen=2102]="UsersNotifications_TeamsAppInstallationOpen",o[o.UsersNotifications_SCDProvisioningFailure_Title=2201]="UsersNotifications_SCDProvisioningFailure_Title",o[o.UsersNotifications_SCDProvisioningFailure_Message=2202]="UsersNotifications_SCDProvisioningFailure_Message",o[o.UsersNotifications_SCDProvisioningFailure_ContactUs=2203]="UsersNotifications_SCDProvisioningFailure_ContactUs",o}({})},836640:function(Xe,H,t){t.d(H,{S:function(){return e}});var e=function(){function l(o){o&&(this.uniqueId=o.objectId,this.displayName=o.displayName,this.capacity=o.capacityObjectId&&{id:o.capacityObjectId,name:o.capacityName,region:o.region},this.contract=o,this.lastViewedDashboard=-1,this.isMyWorkspace=!(!o||!o.isMyWorkspace),this.folderType=o.folderType||o.type)}return l.prototype.getPermissions=function(){},l}()},117134:function(Xe,H,t){t.d(H,{g:function(){return v}});var e=t(973188),l=t(382088),o=t(836640),d=window,v=function(S){function h(c){var r=S.call(this,c)||this;return c&&(r.id=c.id,r.description=c.description,r.icon=c.iconUrl&&l.b$.urlCombine(d.clusterUri,c.iconUrl),r.permissions=c.permissions,r.contacts=c.contacts,r.allowContributorUpdateApp=c.allowContributorUpdateApp,r.defaultDatasetStorageMode=c.defaultDatasetStorageMode,r.type=c.type,r.folderType=c.type,r.domainObjectId=c.domainObjectId,r.allowWebModeling=c.allowWebModeling,r.datasourceBindingSecurityMode=c.datasourceBindingSecurityMode),r}return(0,e.__extends)(h,S),Object.defineProperty(h.prototype,"folderContract",{get:function(){return this.contract},enumerable:!1,configurable:!0}),Object.defineProperty(h.prototype,"sharePointStorage",{get:function(){return this.folderContract.sharePointStorage},set:function(r){this.folderContract.sharePointStorage=r},enumerable:!1,configurable:!0}),h}(o.S)},482799:function(Xe,H,t){t.d(H,{Z:function(){return v}});var e=t(973188),l=t(902731),o=t(836640),d=function(){return function(h){var c=this;this.contextMenuItemList=[],h&&h.metadata&&(h.metadata.contextMenuItemList.forEach(function(r){c.contextMenuItemList.push(r)}),this.contextMenuSeparatorPosition=h.metadata.contextMenuItemList.length),0===this.contextMenuItemList.length&&(this.contextMenuSeparatorPosition=-1),h&&h.isMyWorkspace?this.contextMenuItemList.push({linkType:9}):(this.contextMenuItemList.push(h.isOwner?{linkType:5}:{linkType:6}),this.contextMenuItemList.push({linkType:7}))}}(),v=function(S){function h(c){var r=S.call(this,c)||this;return c&&(r.aadGroupId=c.objectId,r.metadata=new d(c)),r.lastOwnershipFilter=0,r.contentTileType=l.ty.Workspace,r}return(0,e.__extends)(h,S),h}(o.S)},232394:function(Xe,H,t){t.d(H,{AA:function(){return r},kO:function(){return s},SV:function(){return u},YA:function(){return i},n8:function(){return n},HA:function(){return a},ki:function(){return m},Ih:function(){return f},Ug:function(){return V}});var e=t(682701),o=t(498342),d=t(470081),v=t(85179),S=t(686311),h=t(267103),c=t(358246);function r(p,C){for(var y=[],D=0,P=p;D<P.length;D++){var w=u(P[D].value,C);w&&y.push(w)}return y.join("")}function s(p,C){var b;if((0,h.U)(p.expression)){var D=null==C?void 0:C[p.expression.selector.id];b=null==D?void 0:D.value}else b=p.expression;var P=function(p,C){return _.find(p.cases,function(b){return b.pattern===C})||p.defaultCase}(p,b);return P.textRuns}function u(p,C){return(0,h.U)(p)?i(p.selector.id,C):p}function i(p,C){var b=null==C?void 0:C[p];return null==b?void 0:b.formattedValue}function a(p){var C=p;return o.fF.assertValue(C,"textRun"),_.isString(C.value)||(0,h.U)(C.value)}function n(p){return!_.isNil(p.mentionEmail)}function m(p){var C=p;return o.fF.assertValue(C,"textRunConditional"),_.isArray(C.cases)&&!!C.defaultCase&&_.isArray(C.defaultCase.textRuns)&&((0,h.U)(C.expression)||_.isString(C.expression)||_.isNumber(C.expression)||_.isBoolean(C.expression)||_.isDate(C.expression))}function f(p,C,b){o.fF.assertValue(C,"evaluatedValues must be defined");var y=e.RL.values.expr.objectName;o.fF.assert(function(){return y===e.RL.values.formatString.objectName},"Format strings are expected in the same object as evaluated values");var D=(0,d.AO)(p,y);if(!_.isEmpty(D)){for(var P in D){var F=(0,v.N)(D[P],e.RL.values.expr.propertyName),E=new S.g({column:{displayName:"",objects:D,type:c.Ge.fromPrimitiveTypeAndCategory(V(F))},formatStringPropId:{objectName:P,propertyName:e.RL.values.formatString.propertyName},nullsAreBlank:!1});C[P]={value:F,formattedValue:E.format(F)}}b&&b.trace(2,"TextboxWithSmartNarrativeValuesDataChanged")}}function V(p){return _.isDate(p)?7:_.isInteger(p)?4:_.isNumber(p)?3:_.isBoolean(p)?5:_.isString(p)?1:(o.fF.assert(function(){return!p},"Unsupported primitive value"),0)}},950515:function(Xe,H,t){function e(){return $("<div></div>")}function l(){return $("<span></span>")}function h(){return $("<select></select>")}function c(){return $('<input type="text"/>')}t.d(H,{Ys:function(){return h},hi:function(){return e},yP:function(){return l},ze:function(){return c}})},566464:function(Xe,H,t){function e(ft){return{class:ft,selector:"."+ft}}t.d(H,{$Z:function(){return S},AI:function(){return Te},At:function(){return fe},B1:function(){return Ye},BF:function(){return ve},By:function(){return ee},CB:function(){return V},CH:function(){return e},G7:function(){return be},Ji:function(){return A},K:function(){return ke},LR:function(){return u},Mq:function(){return T},OF:function(){return f},QX:function(){return I},Rg:function(){return re},SJ:function(){return o},SU:function(){return m},Sd:function(){return a},Ux:function(){return K},Uy:function(){return n},VM:function(){return F},Xn:function(){return b},YY:function(){return ie},Z7:function(){return D},a_:function(){return Je},dj:function(){return B},ei:function(){return d},en:function(){return ce},f0:function(){return Re},fw:function(){return oe},hK:function(){return me},hy:function(){return mt},j4:function(){return j},jO:function(){return Ce},jU:function(){return L},k2:function(){return C},kP:function(){return v},l6:function(){return Ke},mA:function(){return P},ps:function(){return N},py:function(){return le},rb:function(){return M},t0:function(){return O},vp:function(){return U},wF:function(){return Ne},wu:function(){return g},zo:function(){return W},zu:function(){return ye}});var o="px",d="height",v="width",S="top",u="margin-top",a="margin-left",n="margin-right",m="display",f="background",V="background-color",C="background-size",b="background-image",D="text-align",P="border",F="border-top",g="border-radius",L="border-color",M="box-shadow",T="font-family",O="font-size",N="font-weight",A="font-style",I="text-decoration",B="color",U="opacity",W="padding",j="padding-top",K="padding-left",ee="padding-right",ie="padding-bottom",me="overflow-x",re="overflow-y",le="transform",Ne="cursor",Ye="visibility",Je="fill",fe="auto",oe="hidden",ye="none",Ce="block",be="transparent",Te="normal",ce="bold",ve="italic",Re="underline",Ke="visible",mt="cover",ke="scroll"},35734:function(Xe,H,t){t.d(H,{$U:function(){return S},$u:function(){return T},A3:function(){return G},AA:function(){return E},CA:function(){return h},Cj:function(){return K},DL:function(){return D},G6:function(){return I},LS:function(){return ie},N8:function(){return he},NN:function(){return Ee},O4:function(){return re},OV:function(){return me},Of:function(){return l},PG:function(){return ee},Rh:function(){return b},Ti:function(){return g},V:function(){return Y},Wo:function(){return _e},XR:function(){return B},ZI:function(){return p},bS:function(){return m},bd:function(){return C},cp:function(){return P},iV:function(){return d},n:function(){return x},nP:function(){return N},oe:function(){return O},pX:function(){return s},tc:function(){return o},wx:function(){return e},x5:function(){return R},xw:function(){return Ne},y4:function(){return y}});var e=[50,51,52,53,54,72,75,66,84],l=function(fe){return fe[fe.Enter=13]="Enter",fe[fe.F1=112]="F1",fe[fe.F2=113]="F2",fe[fe.F6=117]="F6",fe[fe.F10=121]="F10",fe[fe.ArrowRight=39]="ArrowRight",fe[fe.KeyT=84]="KeyT",fe}({}),o=function(fe){return fe[fe.Main=0]="Main",fe[fe.Auxilary=1]="Auxilary",fe[fe.Secondary=2]="Secondary",fe[fe.Fourth=3]="Fourth",fe[fe.Fifth=4]="Fifth",fe}({}),d="body",S=":text, textarea",h='[type="number"]',s="id",m="_self",p="src",C="contenteditable",b="skip-children-focus",y="contextmenu",D="blur",P="keyup",E="change",x="keydown",R="mousemove",g="mousedown",T="mouseover",O="mouseout",N="mouseup",I="click",B="dblclick",K="hover",ee="focus",ie="focusin",he="focusout",Y="message",G="load",me="beforeunload",re="pointermove",Ee="pointerdown",Ne="pointerout",_e="pointerover"},236090:function(Xe,H,t){t.d(H,{BM:function(){return c},Eo:function(){return y},GG:function(){return m},GW:function(){return L},Po:function(){return f},QO:function(){return E},U:function(){return g},Uy:function(){return b},W0:function(){return F},Xo:function(){return d},aP:function(){return p},bA:function(){return C},bl:function(){return V},cT:function(){return D},iD:function(){return P},kg:function(){return v},mv:function(){return a},oI:function(){return R},p8:function(){return n},qO:function(){return h},wA:function(){return i}});var e=t(498342),d=-308,v=308,h=1e-4,c=12,r=Math.log(10),s=[1,10,100,1e3,1e4,1e5,1e6,1e7,1e8,1e9,1e10,1e11,1e12,1e13,1e14,1e15,1e16,1e17,1e18,1e19,1e20,1e21,1e22,1e23,1e24,1e25,1e26,1e27,1e28,1e29,1e30,1e31,1e32,1e33,1e34,1e35,1e36,1e37,1e38,1e39,1e40,1e41,1e42,1e43,1e44,1e45,1e46,1e47,1e48,1e49,1e50,1e51,1e52,1e53,1e54,1e55,1e56,1e57,1e58,1e59,1e60,1e61,1e62,1e63,1e64,1e65,1e66,1e67,1e68,1e69,1e70,1e71,1e72,1e73,1e74,1e75,1e76,1e77,1e78,1e79,1e80,1e81,1e82,1e83,1e84,1e85,1e86,1e87,1e88,1e89,1e90,1e91,1e92,1e93,1e94,1e95,1e96,1e97,1e98,1e99,1e100,1e101,1e102,1e103,1e104,1e105,1e106,1e107,1e108,1e109,1e110,1e111,1e112,1e113,1e114,1e115,1e116,1e117,1e118,1e119,1e120,1e121,1e122,1e123,1e124,1e125,1e126,1e127,1e128,1e129,1e130,1e131,1e132,1e133,1e134,1e135,1e136,1e137,1e138,1e139,1e140,1e141,1e142,1e143,1e144,1e145,1e146,1e147,1e148,1e149,1e150,1e151,1e152,1e153,1e154,1e155,1e156,1e157,1e158,1e159,1e160,1e161,1e162,1e163,1e164,1e165,1e166,1e167,1e168,1e169,1e170,1e171,1e172,1e173,1e174,1e175,1e176,1e177,1e178,1e179,1e180,1e181,1e182,1e183,1e184,1e185,1e186,1e187,1e188,1e189,1e190,1e191,1e192,1e193,1e194,1e195,1e196,1e197,1e198,1e199,1e200,1e201,1e202,1e203,1e204,1e205,1e206,1e207,1e208,1e209,1e210,1e211,1e212,1e213,1e214,1e215,1e216,1e217,1e218,1e219,1e220,1e221,1e222,1e223,1e224,1e225,1e226,1e227,1e228,1e229,1e230,1e231,1e232,1e233,1e234,1e235,1e236,1e237,1e238,1e239,1e240,1e241,1e242,1e243,1e244,1e245,1e246,1e247,1e248,1e249,1e250,1e251,1e252,1e253,1e254,1e255,1e256,1e257,1e258,1e259,1e260,1e261,1e262,1e263,1e264,1e265,1e266,1e267,1e268,1e269,1e270,1e271,1e272,1e273,1e274,1e275,1e276,1e277,1e278,1e279,1e280,1e281,1e282,1e283,1e284,1e285,1e286,1e287,1e288,1e289,1e290,1e291,1e292,1e293,1e294,1e295,1e296,1e297,1e298,1e299,1e300,1e301,1e302,1e303,1e304,1e305,1e306,1e307,1e308],u=[1,.1,.01,.001,1e-4,1e-5,1e-6,1e-7,1e-8,1e-9,1e-10,1e-11,1e-12,1e-13,1e-14,1e-15,1e-16,1e-17,1e-18,1e-19,1e-20,1e-21,1e-22,1e-23,1e-24,1e-25,1e-26,1e-27,1e-28,1e-29,1e-30,1e-31,1e-32,1e-33,1e-34,1e-35,1e-36,1e-37,1e-38,1e-39,1e-40,1e-41,1e-42,1e-43,1e-44,1e-45,1e-46,1e-47,1e-48,1e-49,1e-50,1e-51,1e-52,1e-53,1e-54,1e-55,1e-56,1e-57,1e-58,1e-59,1e-60,1e-61,1e-62,1e-63,1e-64,1e-65,1e-66,1e-67,1e-68,1e-69,1e-70,1e-71,1e-72,1e-73,1e-74,1e-75,1e-76,1e-77,1e-78,1e-79,1e-80,1e-81,1e-82,1e-83,1e-84,1e-85,1e-86,1e-87,1e-88,1e-89,1e-90,1e-91,1e-92,1e-93,1e-94,1e-95,1e-96,1e-97,1e-98,1e-99,1e-100,1e-101,1e-102,1e-103,1e-104,1e-105,1e-106,1e-107,1e-108,1e-109,1e-110,1e-111,1e-112,1e-113,1e-114,1e-115,1e-116,1e-117,1e-118,1e-119,1e-120,1e-121,1e-122,1e-123,1e-124,1e-125,1e-126,1e-127,1e-128,1e-129,1e-130,1e-131,1e-132,1e-133,1e-134,1e-135,1e-136,1e-137,1e-138,1e-139,1e-140,1e-141,1e-142,1e-143,1e-144,1e-145,1e-146,1e-147,1e-148,1e-149,1e-150,1e-151,1e-152,1e-153,1e-154,1e-155,1e-156,1e-157,1e-158,1e-159,1e-160,1e-161,1e-162,1e-163,1e-164,1e-165,1e-166,1e-167,1e-168,1e-169,1e-170,1e-171,1e-172,1e-173,1e-174,1e-175,1e-176,1e-177,1e-178,1e-179,1e-180,1e-181,1e-182,1e-183,1e-184,1e-185,1e-186,1e-187,1e-188,1e-189,1e-190,1e-191,1e-192,1e-193,1e-194,1e-195,1e-196,1e-197,1e-198,1e-199,1e-200,1e-201,1e-202,1e-203,1e-204,1e-205,1e-206,1e-207,1e-208,1e-209,1e-210,1e-211,1e-212,1e-213,1e-214,1e-215,1e-216,1e-217,1e-218,1e-219,1e-220,1e-221,1e-222,1e-223,1e-224,1e-225,1e-226,1e-227,1e-228,1e-229,1e-230,1e-231,1e-232,1e-233,1e-234,1e-235,1e-236,1e-237,1e-238,1e-239,1e-240,1e-241,1e-242,1e-243,1e-244,1e-245,1e-246,1e-247,1e-248,1e-249,1e-250,1e-251,1e-252,1e-253,1e-254,1e-255,1e-256,1e-257,1e-258,1e-259,1e-260,1e-261,1e-262,1e-263,1e-264,1e-265,1e-266,1e-267,1e-268,1e-269,1e-270,1e-271,1e-272,1e-273,1e-274,1e-275,1e-276,1e-277,1e-278,1e-279,1e-280,1e-281,1e-282,1e-283,1e-284,1e-285,1e-286,1e-287,1e-288,1e-289,1e-290,1e-291,1e-292,1e-293,1e-294,1e-295,1e-296,1e-297,1e-298,1e-299,1e-300,1e-301,1e-302,1e-303,1e-304,1e-305,1e-306,1e-307,1e-308,1e-309,1e-310,1e-311,1e-312,1e-313,1e-314,1e-315,1e-316,1e-317,1e-318,1e-319,1e-320,1e-321,1e-322,1e-323,0];function i(T){return e.fF.assertValue(T,"exp"),T>=0?T<s.length?s[T]:1/0:(T=-T)>0&&T<u.length?u[T]:0}function a(T){return e.fF.assert(function(){return T>=0},"val"),T>1&&T<1e16?T<1e8?T<1e4?T<100?T<10?0:1:T<1e3?2:3:T<1e6?T<1e5?4:5:T<1e7?6:7:T<1e12?T<1e10?T<1e9?8:9:T<1e11?10:11:T<1e14?T<1e13?12:13:T<1e15?14:15:T>1e-16&&T<1?T<1e-8?T<1e-12?T<1e-14?T<1e-15?-16:-15:T<1e-13?-14:-13:T<1e-10?T<1e-11?-12:-11:T<1e-9?-10:-9:T<1e-4?T<1e-6?T<1e-7?-8:-7:T<1e-5?-6:-5:T<.01?T<.001?-4:-3:T<.1?-2:-1:b(Math.log(T)/r)}function n(T,O){if(void 0===O?O=c:e.fF.assert(function(){return O>=0},"decimalDigits"),T&&isFinite(T)){var N=a(Math.abs(T));return N<d?0:i(Math.max(N-O,1-u.length))}}function m(T,O,N){return N=M(N,T,O),e.fF.assert(function(){return N>=0},"precision"),T===O||Math.abs(T-O)<N}function f(T,O,N){return N=M(N,T,O),e.fF.assert(function(){return N>=0},"precision"),T<O&&Math.abs(T-O)>N}function V(T,O,N){return N=M(N,T,O),e.fF.assert(function(){return N>=0},"precision"),T<O||Math.abs(T-O)<N}function p(T,O,N){return N=M(N,T,O),e.fF.assert(function(){return N>=0},"precision"),T>O&&Math.abs(T-O)>N}function C(T,O,N){return N=M(N,T,O),e.fF.assert(function(){return N>=0},"precision"),T>O||Math.abs(T-O)<N}function b(T,O){O=null!=O?O:h,e.fF.assert(function(){return O>=0},"precision");var N=Math.round(T);return Math.abs(T-N)<O?N:Math.floor(T)}function y(T,O){O=M(O,h),e.fF.assert(function(){return O>=0},"precision");var N=Math.round(T);return Math.abs(T-N)<O?N:Math.ceil(T)}function D(T,O){return O=M(O,h),e.fF.assert(function(){return O>=0},"precision"),0===O||0===T?T:Math.floor(T/O)*O}function P(T,O){return O=M(O,h),e.fF.assert(function(){return O>=0},"precision"),0===O||0===T?T:Math.ceil(T/O)*O}function F(T,O){if(O=M(O,h),e.fF.assert(function(){return O>=0},"precision"),0===O||0===T)return T;var N=Math.round(T/O)*O,A=Math.round(a(Math.abs(T))-a(O))+1;return A>0&&A<16&&(N=parseFloat(N.toPrecision(A))),N}function E(T,O,N){return e.fF.assert(function(){return O<=N},"min must be less or equal to max"),null==T?T:T<O?O:T>N?N:T}function R(T){return F(T,n(T))}function g(T){return null!==T&&T%1==0}function L(T,O){return Math.round(T/O)*O}function M(T,O,N){return void 0!==T?T:n(N?O?Math.min(Math.abs(O),Math.abs(N)):N:O)||h}},345353:function(Xe,H,t){t.d(H,{DH:function(){return r},ap:function(){return S},dV:function(){return v},q$:function(){return d},wJ:function(){return c}});var e=t(973188),o=function(s){function u(i,a,n){var m=s.call(this,i,a+": "+n)||this;return m.argument=n,m}return(0,e.__extends)(u,s),u}(function(s){function u(i,a){var n=s.call(this,a)||this;return n.name=i,n}return(0,e.__extends)(u,s),u}(Error));function d(s){return new o("argumentNull","Argument was null",s)}function v(s){return new o("argumentUndefined","Argument was undefined",s)}function S(s){return new o("argumentOutOfRange","Argument was out of range",s)}var c=function(s){function u(i){return s.call(this,i)||this}return(0,e.__extends)(u,s),u}(Error);function r(s){var u,i;void 0===s&&(s=1);try{throw new Error}catch(a){null!=(u=a.stack)&&((i=u.split("\n")).splice(1,s),u=i.join("\n"))}return u}},871746:function(Xe,H,t){t.d(H,{o:function(){return l}});var e=t(498342),l=function(){function o(d){e.fF.assertValue(d,"factoryMethod"),this.factoryMethod=d}return o.prototype.getValue=function(){return null!==this.factoryMethod&&(this.value=this.factoryMethod(),this.factoryMethod=null),this.value},o}()},781322:function(Xe,H,t){function e(S,h){if(null===S)return null;var c=Object.create(S);return h&&h(c),c}function l(S){if(null==S)return!1;var h=Object.getPrototypeOf(S);return h!==Object.prototype&&h!==Array.prototype}function o(S){return null===S?null:(l(S)||(S=e(S)),S)}function d(S,h){if(null!=S){for(var c,r=0,s=S.length;r<s;r++){var u=h(S[r]);u&&(c||(c=e(S)),c[r]=u)}return c}}function v(S,h){if(S&&h&&"object"==typeof S)for(var c in Object.getPrototypeOf(S)!==Object.getPrototypeOf(h)&&(h.__proto__=S.__proto__),S)v(S[c],h[c])}t.d(H,{ED:function(){return e},Jx:function(){return l},VW:function(){return d},Zx:function(){return v},qO:function(){return o}})},641285:function(Xe,H,t){function e(l){for(var o in Object.freeze(l),l){var d=l[o];d&&"object"==typeof d&&e(d)}}t.d(H,{_:function(){return e}})},756846:function(Xe,H,t){t.d(H,{FP:function(){return c},Gj:function(){return d},KH:function(){return r},PR:function(){return v},fS:function(){return o},ys:function(){return l}});var e=t(498342);function l(s,u){return(s||u)&&!(s&&u)}function o(s,u){return s===u||JSON.stringify(s)===JSON.stringify(u)}var d=8,v=60,c=function(){function s(){}return s.fromPoint=function(u){return s.toString(s.fromPointToPixel(u))},s.fromPointToPixel=function(u){return s.PxPtRatio*u},s.toPoint=function(u){return u/s.PxPtRatio},s.toString=function(u){return u+s.PixelString},s.PxPtRatio=4/3,s.PixelString="px",s}();function r(s,u,i){return e.fF.assertValue(s,"regex"),s.lastIndex=i||0,s.exec(u)}},768783:function(Xe,H,t){t.d(H,{AS:function(){return d},BB:function(){return v},Js:function(){return S},mB:function(){return o},yE:function(){return l}});var e=t(498342);function l(h,c){return e.fF.assert(function(){return!!c},"flag must be specified and nonzero."),(h&c)===c}function o(h,c){return e.fF.assert(function(){return!!c},"flag must be specified and nonzero."),h|c}function d(h,c){return e.fF.assert(function(){return!!c},"flag must be specified and nonzero."),h&~c}function v(h,c){return h[c]}function S(h){if(null===h||h%1!=0)return 0;for(var c=0,r=h;0!==r;)1==(1&r)&&c++,r>>>=1;return c}},382088:function(Xe,H,t){t.d(H,{B1:function(){return me},BL:function(){return G},FA:function(){return Ee},GE:function(){return I},HZ:function(){return K},Io:function(){return W},Ir:function(){return V},JA:function(){return n},Jj:function(){return g},Nx:function(){return ie},Ny:function(){return b},Oi:function(){return E},S5:function(){return le},aT:function(){return u},b$:function(){return he},cb:function(){return w},eT:function(){return f},g5:function(){return a},hM:function(){return M},k4:function(){return B},ko:function(){return L},m5:function(){return F},ms:function(){return P},nH:function(){return i},qv:function(){return U},r3:function(){return D},sc:function(){return j},t6:function(){return m},vr:function(){return C},xz:function(){return R},yQ:function(){return A},zE:function(){return T},zb:function(){return re}});var e=t(498342),l=t(860931),o=t(345353),d=t(146234),v=t(504898),S=t(955437),h=t(447751),c=window,r=window.location.protocol+"//"+window.location.host,s="__DataProperty__5941464455110614";function u(_e,pe,fe){if(e.fF.assertValue(_e,"element"),null!=_e){var oe=_e[s];if(!oe){if(void 0===fe)return;oe=_e[s]={}}return void 0===fe?oe[pe]:oe[pe]=fe}}var i="application/octet-stream",a="application/json",n="image/jpeg",m="blob",f="arraybuffer",V="Accept",p=new RegExp("[<>]","g");function C(_e,pe){return F(_e)===F(pe)}function b(_e,pe){return null!=_e&&0===_e.indexOf(pe)}function D(_e,pe){return null!=_e&&-1!==_e.indexOf(pe)}function P(_e,pe){return null!=_e&&D(F(_e),F(pe))}function F(_e){return he.throwIfNullOrUndefined(_e,he,"normalizeCase","value"),_e.toUpperCase()}function E(_e){return he.throwIfNullOrUndefined(_e,he,"containsWhitespace","str"),/\s/.test(_e)}function w(_e){return""===_.trim(_e)}function R(_e){return he.throwIfNullOrUndefined(_e,he,"trimWhitespace","str"),_e.replace(/^\s+/,"").replace(/\s+$/,"")}function g(_e){return _e.replace(/\s/g,"")}function L(_e,pe,fe){if(!pe)return _e;var oe=I(pe);return _e.replace(new RegExp(oe,"gi"),fe)}function M(_e){e.fF.assertValue(_e,"names");for(var pe={},fe=0,oe=_e;fe<oe.length;fe++)pe[oe[fe]]=!1;for(var Ce=[],Be=0,be=_e;Be<be.length;Be++){var Te=be[Be],ce=Te;if(pe[ce])for(var ve=0;void 0!==pe[ce];)ce=Te+"."+ ++ve;Ce.push(ce),pe[ce]=!0}return Ce}function T(_e,pe,fe,oe){e.fF.assertValue(_e,"usedNames"),e.fF.assertValue(pe,"baseName"),e.fF.assert(function(){return null==fe||fe>=0},"startSuffix == null || startSuffix >= 0");var ye=oe?" ":"",Ce=fe||0,Be=pe;for(fe&&(Be+=ye+fe);O(_e,Be);)Be=pe+ye+ ++Ce;return Be}function O(_e,pe){return _.isSet(_e)?_e.has(pe):_e[pe]}function A(_e,pe,fe){if(!_e||0===_e.length)return"";null==fe&&(fe=Number.MAX_VALUE);for(var oe=Math.min(fe,_e.length),ye=[],Ce=0;Ce<2;Ce++)for(var Be="{"+Ce+"}",be="_|_<"+Ce+">_|_",Te=0;Te<oe;Te++)_e[Te].indexOf(Be)>-1&&(_e[Te]=_e[Te].replace(Be,be),ye.push({targetValue:Be,replaceValue:be}));var ce="";for(Te=0;Te<oe;Te++)ce=0===Te?_e[Te]:(0,h.W)(pe.get("PowerBI_TwoStrings_SeperateWithCommaAndVisualSpace"),ce,_e[Te]);for(var ve=0,Re=ye;ve<Re.length;ve++){var Ke=Re[ve];ce=ce.replace(Ke.replaceValue,Ke.targetValue)}return ce}function I(_e){return _e.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1")}function B(_e){return e.fF.assertValue(_e,"fileName"),_e.replace(/[\<\>\:"\/\\\|\?*]/g,"")}function U(_e){return JSON.stringify(_e)}function W(_e,pe){e.fF.assertValue(_e,"input");var fe=_e.replace(/^[^A-Za-z]*/g,"").replace(/[ :\.\/\\\-\u00a0\u1680\u180e\u2000-\u200a\u2028\u2029\u202f\u205f\u3000]/g,"_").replace(/[\W]/g,"");return fe.length>0?fe:pe}function j(_e){return _e.replace(p,"")}function K(_e,pe,fe){if(void 0===pe&&(pe=!1),void 0===fe&&(fe=!1),!_e||fe&&"&nbsp;"===_e)return _e;var oe=_e.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\"/g,"&quot;").replace(/\'/g,"&#39;").replace(/[\uD800-\uDBFF][\uDC00-\uDFFF]/g,function(ye){return"&#"+(1024*(ye.charCodeAt(0)-55296)+(ye.charCodeAt(1)-56320)+65536)+";"}).replace(/([^!-~ ])/g,function(ye){return"&#"+ye.charCodeAt(0)+";"});return pe&&(oe=oe.replace(/\ /g,"&nbsp;")),oe}function ie(_e){return _e>=0&&_e<=55295||_e>=57344&&_e<=65535}var he=function(){function _e(){}return _e.ensureError=function(pe){return pe instanceof Error||(pe=new Error(pe?pe.message||pe.toString():"<null-or-undefined> error was thrown")),pe},_e.throwIfNullOrUndefined=function(pe,fe,oe,ye){null===pe?this.throwException((0,o.q$)(this.getComponentName(fe)+oe+"."+ye)):void 0===pe&&this.throwException((0,o.dV)(this.getComponentName(fe)+oe+"."+ye))},_e.throwIfNullOrEmptyString=function(pe,fe,oe,ye){this.throwIfNullOrUndefined(pe,fe,oe,ye),pe.length<1&&this.throwException((0,o.ap)(this.getComponentName(fe)+oe+"."+ye))},_e.valueOrDefault=function(pe,fe){return null!=pe?pe:fe},_e.urlCombine=function(pe,fe){if(this.throwIfNullOrUndefined(pe,_e,"urlCombine","baseUrl"),this.throwIfNullOrUndefined(fe,_e,"urlCombine","path"),(0,h.g)(fe))return pe;if((0,h.g)(pe))return fe;var oe=pe;return"/"===oe.charAt(oe.length-1)?"/"===fe.charAt(0)&&(fe=fe.slice(1)):"/"!==fe.charAt(0)&&(fe="/"+fe),oe+fe},_e.getAbsoluteUri=function(pe){this.throwIfNullOrUndefined(pe,_e,"getAbsoluteUri","path");var fe=pe;return fe&&-1===fe.indexOf("http")&&(fe=this.urlCombine(c.clusterUri,fe)),fe},_e.getStaticResourceUri=function(pe){this.throwIfNullOrUndefined(pe,_e,"getStaticResourceUri","path");var fe=pe;return fe&&-1===fe.indexOf("http")&&(fe=this.urlCombine(r,fe)),fe},_e.getComponentName=function(pe){return pe?(typeof pe).toString()+".":""},_e.throwException=function(pe){throw v.f.error("Throwing exception: ".concat(JSON.stringify(pe)),null==pe.stack),this.ensureError(pe)},_e.createClassSelector=function(pe){return this.throwIfNullOrEmptyString(pe,null,"CreateClassSelector","className"),"."+pe},_e.createIdSelector=function(pe){return this.throwIfNullOrEmptyString(pe,null,"CreateIdSelector","id"),"#"+pe},_e.clampValue=function(pe,fe,oe){return e.fF.assert(function(){return fe<=oe},"min value must be less than or equal the max value"),pe=Math.min(pe,oe),Math.max(pe,fe)},_e.generateGuid=function(){var pe="",fe=0;for(fe=0;fe<32;fe+=1){var oe=16*Math.random()|0;switch(fe){case 8:case 12:case 16:case 20:pe+="-"}pe+=oe.toString(16)}return pe},_e.getCookieValue=function(pe){for(var oe=0,ye=document.cookie.split(";");oe<ye.length;oe++){var Ce=ye[oe],Be=Ce.split("=");if(Be.length>0&&Be[0].trim()===pe)return Ce.substr(Ce.indexOf("=")+1)}return null},_e.getDomainForUrl=function(pe){var fe=this.getHrefObjectFromUrl(pe);return fe.prop("protocol")+"//"+fe.prop("hostname")},_e.getHostNameForUrl=function(pe){var fe=this.getHrefObjectFromUrl(pe);return this.urlCombine(fe.prop("hostname"),fe.prop("pathname"))},_e.getUrlWithoutQueryString=function(pe){var fe=this.getHrefObjectFromUrl(pe);return fe.prop("protocol")+"//"+this.urlCombine(fe.prop("host"),fe.prop("pathname"))},_e.getProtocolFromUrl=function(pe){return this.getHrefObjectFromUrl(pe).prop("protocol").replace(":","")},_e.getHrefObjectFromUrl=function(pe){var fe=$("<a>");return fe.prop("href",pe)},_e.getDateFromWcfJsonString=function(pe,fe){if(_.isEmpty(pe))return null;var oe=pe.indexOf("("),ye=pe.indexOf(")");if(-1!==oe&&-1!==ye){var Ce=parseInt(pe.substring(oe+1,ye),10);if(isNaN(Ce)&&(Ce=0),fe)return new Date(Ce);var Be=new Date(0);return Be.setUTCMilliseconds(Ce),Be}return null},_e.isValidImageDataUrl=function(pe){return this.ImageDataRegex.test(pe)},_e.encodeUriForImageDataSvg=function(pe){if(this.ImageDataSvgRegex.test(pe)){var fe=pe.indexOf(",");if(fe>-1){var oe=pe.substring(0,fe).split(";"),ye=pe.substring(fe+1);try{ye=decodeURIComponent(ye)}catch(Ce){}return"".concat(oe[0],",").concat(encodeURIComponent(ye))}}return pe},_e.isLocalUrl=function(pe){return _.startsWith(pe,"data:")||_.startsWith(pe,"blob:")},_e.extractFileNameFromPath=function(pe){return pe.replace(/^.*[\\\/]/,"")},_e.is64BitOperatingSystem=function(){return-1!==navigator.userAgent.indexOf("WOW64")||-1!==navigator.userAgent.indexOf("Win64")},_e.isWindows10=function(){return-1!==navigator.userAgent.indexOf("Windows NT 10.0")},_e.parseNumber=function(pe,fe){if(null===pe)return null;if(void 0===pe)return fe;var oe=Number(pe);return isFinite(oe)?oe:isNaN(oe)&&"number"!=typeof pe&&"NaN"!==pe?fe:oe},_e.getURLParamValue=function(pe){var fe=new RegExp("[?&]"+pe+"=([^&#]*)").exec(window.location.href);return null==fe?null:fe[1]||0},_e.getLocalTimeZoneString=function(){var fe=-1*new Date(Date.UTC(2005,6,30,0,0,0,0)).getTimezoneOffset(),ye=-1*new Date(Date.UTC(2005,12,30,0,0,0,0)).getTimezoneOffset();return-720===fe&&-720===ye?"Dateline Standard Time":-660===fe&&-660===ye?"UTC-11":-660===fe&&-660===ye?"Samoa Standard Time":-600===fe&&-600===ye?"Hawaiian Standard Time":-480===fe&&-540===ye?"Alaskan Standard Time":-420===fe&&-480===ye?"Pacific Standard Time":-420===fe&&-420===ye?"US Mountain Standard Time":-360===fe&&-420===ye?"Mountain Standard Time":-360===fe&&-360===ye?"Central America Standard Time":-300===fe&&-360===ye?"Central Standard Time":-300===fe&&-300===ye?"SA Pacific Standard Time":-240===fe&&-300===ye?"Eastern Standard Time":-270===fe&&-270===ye?"Venezuela Standard Time":-240===fe&&-240===ye?"SA Western Standard Time":-240===fe&&-180===ye?"Central Brazilian Standard Time":-180===fe&&-240===ye?"Atlantic Standard Time":-180===fe&&-180===ye?"Montevideo Standard Time":-180===fe&&-120===ye?"E. South America Standard Time":-150===fe&&-210===ye?"Mid-Atlantic Standard Time":-120===fe&&-120===ye?"SA Eastern Standard Time":0===fe&&0===ye?"UTC":60===fe&&0===ye?"GMT Standard Time":60===fe&&120===ye?"Namibia Standard Time":120===fe&&60===ye?"Romance Standard Time":120===fe&&120===ye?"South Africa Standard Time":180===fe&&120===ye?"GTB Standard Time":180===fe&&180===ye?"E. Africa Standard Time":240===fe&&180===ye?"Russian Standard Time":240===fe&&240===ye?"Arabian Standard Time":270===fe&&210===ye?"Iran Standard Time":270===fe&&270===ye?"Afghanistan Standard Time":300===fe&&240===ye?"Pakistan Standard Time":300===fe&&300===ye?"West Asia Standard Time":330===fe&&330===ye?"India Standard Time":345===fe&&345===ye?"Nepal Standard Time":360===fe&&300===ye?"N. Central Asia Standard Time":360===fe&&360===ye?"Central Asia Standard Time":390===fe&&390===ye?"Myanmar Standard Time":420===fe&&360===ye?"North Asia Standard Time":420===fe&&420===ye?"SE Asia Standard Time":480===fe&&420===ye?"North Asia East Standard Time":480===fe&&480===ye?"China Standard Time":540===fe&&480===ye?"Yakutsk Standard Time":540===fe&&540===ye?"Tokyo Standard Time":570===fe&&570===ye?"Cen. Australia Standard Time":600===fe&&600===ye?"E. Australia Standard Time":600===fe&&660===ye?"AUS Eastern Standard Time":660===fe&&600===ye?"Tasmania Standard Time":660===fe&&660===ye?"West Pacific Standard Time":690===fe&&690===ye?"Central Pacific Standard Time":720===fe&&660===ye?"Magadan Standard Time":720===fe&&720===ye?"Fiji Standard Time":720===fe&&780===ye?"New Zealand Standard Time":780===fe&&780===ye?"Tonga Standard Time":"UTC"},_e.ImageDataRegex=new RegExp("data:(image/(png|jpg|jpeg|gif|svg))"),_e.ImageDataSvgRegex=new RegExp("data:(image/svg)"),_e}(),Y=0;function G(_e){var pe=window.performance;if(!pe||!pe.mark)return function(){return 0};var fe="Begin "+(_e=++Y+" "+_e);pe.mark(fe);var oe=(0,d.z)();return function(){var ye="End "+_e;return pe.mark(ye),pe.measure&&pe.measure(_e,fe,ye),(0,d.z)()-oe}}function me(_e){var pe=window.performance;!pe||!pe.mark||(_e=++Y+" "+_e,pe.mark(_e))}function re(_e){var pe=(0,d.z)();return _e(),(0,d.z)()-pe}function le(_e){var pe,fe,oe;return window.requestAnimationFrame||(window.requestAnimationFrame=function(ye){return setTimeout(ye,20)}),function(){pe||(pe=!0,fe=arguments,oe=this,S.l.requestAnimationFrame(function(){pe=!1,_e.apply(oe,fe)}))}}function Ee(_e){return null!=_e&&_e%1!=0}var Je=!1;!function(){if(!Je){var _e=h.W;(function(){var _e=(0,l.kx)();return _e.StringExtensions||(_e.StringExtensions={}),_e.StringExtensions}()).format=function(){for(var pe=[],fe=0;fe<arguments.length;fe++)pe[fe]=arguments[fe];return _e.apply(void 0,pe)},Je=!0}}()},491087:function(Xe,H,t){t.d(H,{W:function(){return o}});var e=t(973188),l=t(275179),o=function(){function v(S){this.onReEntry=S,this.active=0}return v.prototype.enqueue=function(S){var h=this;this.tail||(this.tail=new l.B,function(v){(0,e.__awaiter)(this,void 0,l.J,function(){var S,h,c,r;return(0,e.__generator)(this,function(s){switch(s.label){case 0:return[4,v];case 1:S=s.sent(),v=S.next,s.label=2;case 2:return s.trys.push([2,4,,5]),c=(h=S.result).resolve,[4,S.callback()];case 3:return c.apply(h,[s.sent()]),[3,5];case 4:return r=s.sent(),S.result.reject(r),[3,5];case 5:return[3,0];case 6:return[2]}})})}(this.tail.promise)),this.onReEntry&&this.active>0&&this.onReEntry();var c=new l.B,r={next:c.promise,callback:S,result:new l.B};this.tail.resolve(r),this.tail=c;var s=r.result.promise;return++this.active,s.finally(function(){return--h.active}),s},v}()},569978:function(Xe,H,t){t.d(H,{D:function(){return o},M:function(){return l}});var e=t(498342),l=function(){function d(){}return d.getLanguage=function(){return this.navigator.userLanguage||this.navigator.language},d.isChrome=function(){if(null!=this.isChromeCache)return this.isChromeCache;var v=this.navigator.vendor||"",S=this.navigator.userAgent.toLowerCase();return this.isChromeCache=v.toLowerCase().indexOf("google")>-1&&S.indexOf("chrome")>-1&&-1===S.indexOf("edge")&&-1===S.indexOf("opr"),this.isChromeCache},d.isInternetExplorerOrEdge=function(){if(null!=this.isInternetExplorerOrEdgeCache)return this.isInternetExplorerOrEdgeCache;var v=this.navigator.userAgent.toLowerCase();return this.isInternetExplorerOrEdgeCache=v.indexOf("msie")>-1||v.indexOf("trident")>-1||v.indexOf("edge")>-1,this.isInternetExplorerOrEdgeCache},d.isInternetExplorer11=function(){var v=this.navigator.userAgent.toLowerCase(),S=v.match(/rv:(\d+)/i);return!!(S&&S[1]&&parseInt&&11===parseInt(S[1],10))&&v.indexOf("trident")>-1&&-1===v.indexOf("msie")},d.isEdgeLegacy=function(){return!d.isInternetExplorer11()&&"StyleMedia"in window},d.isWindows10=function(){return-1!==this.navigator.userAgent.indexOf("Windows NT 10.0")},d.isKeyboardClick=function(v){return 0===v.clientX&&0===v.clientX},d.isCtrlOrMeta=function(v){return!0===v[d.isMacOs()?"metaKey":"ctrlKey"]},d.noModifierPressed=function(v){var S=d.isMacOs()?"metaKey":"ctrlKey";return!v.shiftKey&&!v.altKey&&!v[S]},d.isPointerTypeTouch=function(v){return"touch"===v.pointerType},d.getInternetExplorerVersion=function(){var v=0;if("Microsoft Internet Explorer"===this.navigator.appName||this.navigator.userAgent.indexOf("MSIE")>=0){var h=new RegExp("MSIE ([0-9]{1,}[\\.0-9]{0,})").exec(this.navigator.userAgent);h&&(v=parseFloat(h[1]))}return v},d.isFirefox=function(){return this.navigator.userAgent.toLowerCase().indexOf("firefox")>-1},d.isMacOs=function(){return this.navigator.userAgent.indexOf("Macintosh")>=0},d.isSafari=function(){return/^((?!chrome|android).)*safari/i.test(this.navigator.userAgent)},d.isSafari11OrHigher=function(){if(!this.isSafari())return!1;var v=this.navigator.userAgent.match(/version\/(\d+)/i),S=null==v?void 0:v[1];return!(null==S||!parseInt)&&parseInt(S,10)>=11},d.isIOSWebView=function(){var v=this.navigator.userAgent.toLowerCase();return v.indexOf("iphone")>-1||v.indexOf("ipad")>-1||v.indexOf("macintosh")>-1&&this.navigator.maxTouchPoints>1},d.isAndroidWebView=function(){return this.navigator.userAgent.toLowerCase().indexOf("android")>-1},d.focus=function(v,S){if(v)if(v.focus)S?v.focus(S):v.focus();else try{HTMLElement.prototype.focus.apply(v)}catch(h){e.fF.assertFail("BrowserUtils.focus: failed to set focus on element: "+h)}},d.setBrowserSupportsHttp2=function(v){this.browserSupportsHttp2=v},d.calculateBrowserSupportsHttp2=function(){if(!window||!window.performance)return!1;var v=window.performance;return"h2"===(v.getEntriesByType&&v.getEntriesByType("navigation")&&v.getEntriesByType("navigation")[0]&&v.getEntriesByType("navigation")[0].nextHopProtocol)||!(!window.navigator||!window.navigator.userAgent)&&!!(this.isInternetExplorer11()&&this.isWindows10()||this.isMacOs()&&this.isSafari11OrHigher()||this.isIOSWebView())},d.navigator=window.navigator,d.browserSupportsHttp2=function(){return null!=d.browserSupportsHttp2Cache||(d.browserSupportsHttp2Cache=d.calculateBrowserSupportsHttp2()),d.browserSupportsHttp2Cache},d}();function o(d){return d.shiftKey?1:l.isCtrlOrMeta(d)?3:0}},406057:function(Xe,H,t){t.d(H,{BT:function(){return G},CQ:function(){return A},Cv:function(){return Ee},Dw:function(){return r},G8:function(){return u},G_:function(){return Be},Gp:function(){return he},IN:function(){return N},IW:function(){return d},JN:function(){return ce},Jr:function(){return Re},Kw:function(){return i},LB:function(){return be},LY:function(){return p},M$:function(){return me},Nq:function(){return x},Q:function(){return D},Qs:function(){return g},Qu:function(){return v},SS:function(){return M},UH:function(){return a},UN:function(){return Je},Vc:function(){return fe},Xo:function(){return s},_m:function(){return _e},bD:function(){return pe},bP:function(){return E},bd:function(){return tt},d5:function(){return f},fq:function(){return Ke},hz:function(){return re},ie:function(){return V},k0:function(){return Te},lg:function(){return L},mQ:function(){return I},mu:function(){return Ce},n$:function(){return C},oM:function(){return Y},ob:function(){return oe},q6:function(){return ie},tL:function(){return q},uM:function(){return ye},uY:function(){return le},vX:function(){return ve},vi:function(){return K},wZ:function(){return w}});var e=t(973188),l=t(498342),o=t(382088);function d(He){return void 0===He.control.properties.descriptor}function v(He){return!!He.type}function S(He){return"card"===He.type}function h(He){return"group"===He.type}function c(He){return"slice"===He.type}function r(He){return"host"===He.source}function s(He){return S(He)}function u(He){return h(He)}function i(He){return c(He)}function a(He,ke){return{name:He,source:"host",type:"card",suppressDefaultValue:ke}}function f(He){return"visual"===He.source}function V(He){return S(He)}function p(He){return h(He)}function C(He){return c(He)}function D(He,ke){return{name:He,source:"visual",type:"slice",suppressDefaultValue:ke}}function E(He,ke){return He+"-"+ke}function w(He){var ke={};for(var ft in He)if(_.isString(ft)){var Le={},Ue=He[ft].properties;for(var ae in Ue)_.isString(ae)?Le[ae]={objectName:ft,propertyName:ae}:l.fF.assertFail('Expected propertyName "'.concat(ae,'" to be a string'));ke[ft]=Le}else l.fF.assertFail('Expected objectName "'.concat(ft,'" to be a string'));return ke}var x=function(){function He(){for(var ke=[],ft=0;ft<arguments.length;ft++)ke[ft]=arguments[ft];this.cards=ke}return He.prototype.addCards=function(){for(var ke,ft=[],Le=0;Le<arguments.length;Le++)ft[Le]=arguments[Le];return(ke=this.cards).push.apply(ke,ft),this},He.prototype.withWarnings=function(ke){return this.warnings=ke,this},He.prototype.build=function(){var ke=this;return{cards:this.cards.reduce(function(Le,Q){if(!Q)return Le;var Ue;if(!(Ue=_.isFunction(Q)?Q():Q))return Le;if(_.isArray(Ue))for(var ae=0,Se=Ue;ae<Se.length;ae++){var nt=Se[ae];nt&&(v(nt)||(vt=ke.shouldDisableCard(nt,ke.disabledCards))&&(nt=(0,e.__assign)((0,e.__assign)({},nt),{disabled:vt.disabled,disabledReason:vt.disabledReason})),Le.push(nt))}else{var vt,We=Ue;v(We)||(vt=ke.shouldDisableCard(We,ke.disabledCards))&&(We=(0,e.__assign)((0,e.__assign)({},We),{disabled:vt.disabled,disabledReason:vt.disabledReason})),Le.push(We)}return Le},[]),warnings:this.warnings}},He.prototype.withDisabledCards=function(ke){return this.disabledCards=ke,this},He.prototype.shouldDisableCard=function(ke,ft){var Le=null==ft?void 0:ft[ke.uid];if(Le)return{disabled:!0,disabledReason:Le.disabledReason}},He}();function g(He){var ke=He.uid.split(" "),ft=function(He){return new L(He)}(ke[0]);return ft.withGroup(ke[1])}var L=function(){function He(ke){this.cardName=ke,this.groupNames=new Set}return He.prototype.build=function(){return(0,o.Jj)(this.cardName)},He.prototype.withGroup=function(ke){var ft=this;return void 0===ke&&(ke="default"),l.fF.assert(function(){return!ft.groupNames.has(ke)},'Already have group "'.concat(ke,'"')),this.groupNames.add((0,o.Jj)(ke)),new M(this,ke)},He}(),M=function(){function He(ke,ft){this.cardUidBuilder=ke,this.groupName=ft,this.sliceNames=new Set}return He.getGroupUid=function(ke){var ft=ke.split("-");return l.fF.assert(function(){return ft.length>=2},"GroupUid must have at least two sections in the uid"),"".concat(ft[ft.length-1])},He.prototype.build=function(){this.cardUid||(this.cardUid=this.cardUidBuilder.build());var ke=(0,o.Jj)(this.groupName);return"".concat(this.cardUid,"-").concat(ke)},He.prototype.withSlice=function(ke){return this.sliceNames.add(ke),new N(this,ke)},He.prototype.withContainer=function(ke){return new O(this,ke)},He}(),T=function(){function He(ke,ft){this.containerUidBuilder=ke,this.itemName=ft,this.sliceNames=new Set,this.groupNames=new Set}return He.prototype.build=function(){this.containerUid||(this.containerUid=this.containerUidBuilder.build());var ke=(0,o.Jj)(this.itemName);return"".concat(this.containerUid,"-").concat(ke)},He.prototype.withSlice=function(ke){return this.sliceNames.add(ke),new N(this,ke)},He.prototype.withGroup=function(ke){return void 0===ke&&(ke="default"),this.groupNames.add(ke),new M(this,ke)},He.prototype.withContainer=function(ke){return new O(this,ke)},He}(),O=function(){function He(ke,ft){this.groupUidBuilder=ke,this.containerName=ft}return He.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var ke=(0,o.Jj)(this.containerName);return"".concat(this.groupUid,"-").concat(ke)},He.prototype.withContainerItem=function(ke){return new T(this,ke)},He}(),N=function(){function He(ke,ft){this.groupUidBuilder=ke,this.sliceName=ft}return He.getGroupAndSliceUid=function(ke){var ft=ke.split("-");return l.fF.assert(function(){return ft.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(ft[ft.length-2],"-").concat(ft[ft.length-1])},He.getSliceUid=function(ke){var ft=ke.split("-");return l.fF.assert(function(){return ft.length>=3},"SliceUid must have at least three sections in the uid"),"".concat(ft[ft.length-1])},He.prototype.build=function(){this.groupUid||(this.groupUid=this.groupUidBuilder.build());var ke=(0,o.Jj)(this.sliceName);return"".concat(this.groupUid,"-").concat(ke)},He}(),A=function(){function He(ke,ft,Le,Q,Ue,ae){void 0===Ue&&(Ue=!0),this.uidBuilder=ke,this.displayName=ft,this.localize=Q,this.localizeDisplayName=Ue,this.analyticsPane=ae,this.suppressDisplayName=!1,this.groups=[],Le&&(this.revertToDefaultDescriptors=_.isArray(Le)?Le:_.values(Le))}return He.prototype.withDisabled=function(ke,ft){return this.disabled=ke,this.disabledReason=ft?this.localize(ft):void 0,this},He.prototype.withDisabledLocalized=function(ke,ft){return this.disabled=ke,this.disabledReason=ft,this},He.prototype.withDescription=function(ke){return this.description=ke,this},He.prototype.withAliasName=function(ke){var ft;return this.aliasNames=null!==(ft=this.aliasNames)&&void 0!==ft?ft:[],this.aliasNames.push(this.localize(ke)),this},He.prototype.withGroups=function(ke){return this.groups=ke,this},He.prototype.addGroupPlaceholder=function(ke){return this.groups.push(ke),this},He.prototype.addGroup=function(ke,ft){var Le=this.getGroupBuilder(ke);return ft(Le),this.groups.push(Le.build()),this},He.prototype.getGroupBuilder=function(ke){var ft=this;return void 0===ke&&(ke="default"),new I(this.uidBuilder.withGroup(ke),function(Le){return ft.localize(Le)})},He.prototype.addTopLevelToggle=function(ke,ft,Le){var Q=this.uidBuilder.withGroup("topLevelToggle").withSlice(ke),Ue=ft(),Se=new mt({control:Ue,localize:this.localize,uidBuilder:Q});return Le&&Le(Se),this.topLevelToggle=Se.build(),this},He.prototype.assertDescriptorsAreAdded=function(){if(this.revertToDefaultDescriptors){var ke=[];this.groups.forEach(function(Q){!v(Q)&&Q.slices&&Q.slices.forEach(function(Ue){v(Ue)||ke.push(Ue)})});var ft=new Set,Le="revertToDefaultDescriptors must contain descriptors of all the slices in the card";this.revertToDefaultDescriptors.forEach(function(Q){return ft.add(Q.objectName+"-"+Q.propertyName)}),ke.forEach(function(Q){if(!v(Q))if(d(Q)){var Ue=Q.control.properties;Object.keys(Ue).forEach(function(nt){var vt,We=null===(vt=Ue[nt])||void 0===vt?void 0:vt.descriptor;if(void 0!==We){var de=We.objectName+"-"+We.propertyName;l.fF.assert(function(){return ft.has(de)},"".concat(Le," ").concat(de?"- missing '".concat(de,"'"):""))}})}else{var ae=Q.control.properties.descriptor,Se=ae.objectName+"-"+ae.propertyName;l.fF.assert(function(){return ft.has(Se)},"".concat(Le," ").concat(Se?"- missing '".concat(Se,"'"):""))}})}},He.prototype.build=function(){var ke=this.localizeDisplayName?this.localize(this.displayName):this.displayName;return{disabled:!!this.disabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,disabledReason:this.disabledReason,displayName:ke,groups:this.groups,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),revertToDefaultDescriptors:this.revertToDefaultDescriptors,analyticsPane:this.analyticsPane}},He}(),I=function(){function He(ke,ft){this.uidBuilder=ke,this.localize=ft,this.collapsible=!0,this.inheritDisabled=!0,this.suppressDisplayName=!0,this.slices=[]}return He.prototype.withContainer=function(ke){return this.container=ke,this},He.prototype.withContainerDisabled=function(ke){return void 0===ke&&(ke=!0),this.containerDisabled=ke,this.sliceWithContainer=!0,this},He.prototype.withDescription=function(ke){return this.description=ke,this},He.prototype.withAliasName=function(ke){var ft;return this.aliasNames=null!==(ft=this.aliasNames)&&void 0!==ft?ft:[],this.aliasNames.push(this.localize(ke)),this},He.prototype.withInheritDisabled=function(ke){return this.inheritDisabled=ke,this},He.prototype.withDelaySaveSlices=function(){return this.delaySaveSlices=!0,this},He.prototype.withCollapsible=function(ke){return void 0===ke&&(ke=!0),this.collapsible=ke,this},He.prototype.withDisplayName=function(ke,ft){return void 0===ft&&(ft=!0),this.displayName=ft?ke?this.localize(ke):void 0:ke,this.suppressDisplayName=!1,this},He.prototype.withSlices=function(ke){return this.slices=ke,this},He.prototype.withDisabled=function(ke,ft){return this.disabled=ke,this.disabledReason=ft?this.localize(ft):void 0,this},He.prototype.addSlicePlaceholder=function(ke){return this.slices.push(ke),this},He.prototype.addSlice=function(ke){return this.slices.push(ke),this},He.prototype.addSimpleSlice=function(ke,ft,Le){var Q=this.getSliceName(ke),Ue=_.isFunction(ft)?ft():ft,ae=this.getSimpleSliceBuilder(Q,Ue);return Le&&Le(ae),this.slices.push(ae.build()),this},He.prototype.addCompositeSlice=function(ke,ft,Le,Q){var Ue=_.isFunction(Le)?Le():Le,ae=this.getCompositeSliceBuilder(ke,ft,Ue);return Q&&Q(ae),this.slices.push(ae.build()),this},He.prototype.addSlices=function(ke){return this.slices=this.slices.concat(ke),this},He.prototype.getSimpleSliceBuilder=function(ke,ft){var Le=this.getSliceName(ke),Q=this.uidBuilder.withSlice(Le);return new K({control:ft,localize:this.localize,uidBuilder:Q})},He.prototype.addTopLevelToggle=function(ke,ft,Le){var Q=this.uidBuilder.withSlice(ke),Ue=ft(),Se=new mt({control:Ue,localize:this.localize,uidBuilder:Q});return Le&&Le(Se),this.topLevelToggle=Se.build(),this},He.prototype.getCompositeSliceBuilder=function(ke,ft,Le){var Q=this.getSliceName(ke),Ue=this.uidBuilder.withSlice(Q);return new ee({control:Le,displayName:ft,localize:this.localize,uidBuilder:Ue})},He.prototype.getSliceName=function(ke){if(_.isString(ke))return(0,o.Jj)(ke);var Le=ke;return"".concat(Le.objectName,"-").concat(Le.propertyName)},He.prototype.addContainer=function(ke,ft){var Le=this.getContainerBuilder(ke);return ft(Le),this.container=Le.build(),this},He.prototype.getContainerBuilder=function(ke){return new W(this.uidBuilder.withContainer(ke),this.localize)},He.prototype.build=function(){var ke,ft=null!==(ke=this.displayName)&&void 0!==ke?ke:"";return{disabled:!!this.disabled,disabledReason:this.disabledReason,container:this.container,containerDisabled:this.containerDisabled,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,inheritDisabled:this.inheritDisabled,displayName:ft,collapsible:this.collapsible,slices:this.slices,sliceWithContainer:this.sliceWithContainer,suppressDisplayName:this.suppressDisplayName,topLevelToggle:this.topLevelToggle,uid:this.uidBuilder.build(),delaySaveSlices:this.delaySaveSlices}},He}(),B=function(He){function ke(){return null!==He&&He.apply(this,arguments)||this}return(0,e.__extends)(ke,He),ke.prototype.build=function(){return He.prototype.build.call(this)},ke}(I),U=function(){function He(ke,ft,Le){this.uidBuilder=ke,this.displayName=ft,this.localize=Le,this.slices=[],this.groups=[]}return He.prototype.withSlices=function(ke){return this.slices=ke,this},He.prototype.addSimpleSlice=function(ke,ft,Le){var Q=this.getSliceName(ke),Ue=_.isFunction(ft)?ft():ft,ae=this.getSimpleSliceBuilder(Q,Ue);return Le&&Le(ae),this.slices.push(ae.build()),this},He.prototype.addCompositeSlice=function(ke,ft,Le,Q){var Ue=_.isFunction(Le)?Le():Le,ae=this.getCompositeSliceBuilder(ke,ft,Ue);return Q&&Q(ae),this.slices.push(ae.build()),this},He.prototype.getSimpleSliceBuilder=function(ke,ft){var Le=this.getSliceName(ke),Q=this.uidBuilder.withSlice(Le);return new K({control:ft,localize:this.localize,uidBuilder:Q})},He.prototype.getCompositeSliceBuilder=function(ke,ft,Le){var Q=this.getSliceName(ke),Ue=this.uidBuilder.withSlice(Q);return new ee({control:Le,displayName:ft,localize:this.localize,uidBuilder:Ue})},He.prototype.addContainer=function(ke,ft){var Le=this.getContainerBuilder(ke);return ft(Le),this.container=Le.build(),this},He.prototype.getContainerBuilder=function(ke){return new W(this.uidBuilder.withContainer(ke),this.localize)},He.prototype.getSliceName=function(ke){if(_.isString(ke))return ke;var Le=ke;return"".concat(Le.objectName,"-").concat(Le.propertyName)},He.prototype.withGroups=function(ke){return this.groups=ke,this},He.prototype.addGroup=function(ke,ft){var Le=ke?(0,o.Jj)(ke):void 0,Q=this.getGroupBuilder(Le);return ft(Q),this.groups.push(Q.build()),this},He.prototype.getGroupBuilder=function(ke){return void 0===ke&&(ke="default"),new B(this.uidBuilder.withGroup(ke),this.localize)},He.prototype.withDefaultSelected=function(ke){return this.defaultSelected=ke,this},He.prototype.build=function(){return{displayName:this.displayName,slices:this.slices,groups:this.groups,container:this.container,defaultSelected:this.defaultSelected,uid:this.uidBuilder.build()}},He}(),W=function(){function He(ke,ft){this.uidBuilder=ke,this.localize=ft,this.suppressDisplayName=!0,this.containerItems=[]}return He.prototype.withDisplayName=function(ke){return this.displayName=ke,this.suppressDisplayName=!1,this},He.prototype.withDescription=function(ke){return this.description=ke,this},He.prototype.addContainerItem=function(ke,ft,Le){var Q=(0,o.Jj)(ke),Ue=this.getContainerItemBuilder(Q,ft);return Le(Ue),this.containerItems.push(Ue.build()),this},He.prototype.getContainerItemBuilder=function(ke,ft){return new U(this.uidBuilder.withContainerItem(""),ft,this.localize)},He.prototype.build=function(){var ke=this.displayName?this.localize(this.displayName):"";return{description:this.description?this.localize(this.description):void 0,displayName:ke,containerItems:this.containerItems,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},He}(),j=function(){function He(ke){this.control=ke.control,this.localize=ke.localize,this.uidBuilder=ke.uidBuilder}return He.prototype.withDisabled=function(ke,ft){return this.disabled=ke,this.disabledReason=ft?this.localize(ft):void 0,this},He.prototype.withHidden=function(ke){return this.hidden=ke,this},He}(),K=function(He){function ke(ft){return He.call(this,ft)||this}return(0,e.__extends)(ke,He),ke.prototype.withCustomDisplayName=function(ft,Le){return void 0===Le&&(Le=!0),this.displayName=Le?this.localize(ft):ft,this},ke.prototype.withSuppressDisplayName=function(ft){return this.suppressDisplayName=ft,this},ke.prototype.withCustomDescription=function(ft,Le){return void 0===Le&&(Le=!0),l.fF.assertValue(ft,"description"),this.description=Le?this.localize(ft):ft,this},ke.prototype.withCustomDescriptionIf=function(ft,Le,Q){return void 0===Q&&(Q=!0),ft()?this.withCustomDescription(Le,Q):this},ke.prototype.withAliasName=function(ft){var Le;return this.aliasNames=null!==(Le=this.aliasNames)&&void 0!==Le?Le:[],this.aliasNames.push(this.localize(ft)),this},ke.prototype.withInfoIconText=function(ft){return this.infoIconText=ft,this},ke.prototype.build=function(){var ft=this;return l.fF.assert(function(){return!!ft.control},"control must exist"),{control:this.control,description:this.description,aliasNames:this.aliasNames,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.displayName,infoIconText:this.infoIconText,suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build(),hidden:this.hidden}},ke}(j),ee=function(He){function ke(ft){var Le=He.call(this,ft)||this;return Le.displayName=ft.displayName,Le.description=ft.description,Le}return(0,e.__extends)(ke,He),ke.prototype.withInfoIconText=function(ft){return this.infoIconText=ft,this},ke.prototype.withAliasName=function(ft){var Le;return this.aliasNames=null!==(Le=this.aliasNames)&&void 0!==Le?Le:[],this.aliasNames.push(this.localize(ft)),this},ke.prototype.withSuppressDisplayName=function(ft){return this.suppressDisplayName=ft,this},ke.prototype.build=function(){return{control:this.control,description:this.description?this.localize(this.description):void 0,aliasNames:this.aliasNames,infoIconText:this.infoIconText,disabled:this.disabled,disabledReason:this.disabledReason,displayName:this.localize(this.displayName),suppressDisplayName:this.suppressDisplayName,uid:this.uidBuilder.build()}},ke}(j),ie=function(){function He(){}return He.prototype.withDisplayName=function(ke,ft,Le){return this.description=ft,this.displayName=ke,this.suppressDisplayName=Le,this},He.prototype.withUid=function(ke){return this.uid=E(ke.objectName,ke.propertyName),this},He.prototype.withControlProperties=function(ke){return this.control=ke,this},He.prototype.withDisabled=function(ke){return void 0===ke&&(ke=!0),this.disabled=ke,this},He.prototype.build=function(){return{control:this.control,description:this.description,disabled:this.disabled,displayName:this.displayName,suppressDisplayName:this.suppressDisplayName,uid:this.uid}},He}(),he=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"AlignmentGroup",properties:this.properties}},He}(),q=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"EmptyControl",properties:this.properties}},He}(),Y=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"FlagsSelection",properties:this.properties}},He}(),G=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"ColorPicker",properties:this.properties}},He}(),me=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"ConditionalFormattingControl",properties:this.properties}},He}(),re=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"DatePicker",properties:this.properties}},He}(),le=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"Dropdown",properties:this.properties}},He}(),Ee=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"DurationPicker",properties:this.properties}},He}(),Ye={minValue:{type:0,value:8},maxValue:{type:1,value:60}},Je=function(){function He(){}return He.prototype.withFontSizeProperties=function(ke){var Q,ft=ke.options,Le=(0,e.__assign)({},Ye);Q=ft?(0,e.__assign)((0,e.__assign)({},Le),ft):Le;var Ue=(0,e.__assign)((0,e.__assign)({},ke),{options:Q});return this.fontSize=Ue,this},He.prototype.withFontFamily=function(ke){return this.fontFamily=ke,this},He.prototype.withBold=function(ke){return this.bold=ke,this},He.prototype.withItalic=function(ke){return this.italic=ke,this},He.prototype.withUnderline=function(ke){return this.underline=ke,this},He.prototype.build=function(){return{type:"FontControl",properties:{fontFamily:this.fontFamily,fontSize:this.fontSize,bold:this.bold,italic:this.italic,underline:this.underline}}},He}(),_e=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"GradientBar",properties:this.properties}},He}(),pe=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"ImageUpload",properties:this.properties}},He}(),fe=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"Link",properties:this.properties}},He}(),oe=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"SeriesDialogLink",properties:this.properties}},He}(),ye=function(){function He(){}return He.prototype.withLeft=function(ke){return this.left=ke,this},He.prototype.withRight=function(ke){return this.right=ke,this},He.prototype.withTop=function(ke){return this.top=ke,this},He.prototype.withBottom=function(ke){return this.bottom=ke,this},He.prototype.build=function(){return{type:"MarginPadding",properties:{left:this.left,right:this.right,top:this.top,bottom:this.bottom}}},He}(),Ce=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){var ke=this.properties;return null==ke.placeholderText&&(ke=(0,e.__assign)({},ke)),{type:"NumUpDown",properties:ke}},He}(),Be=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"ReadOnlyText",properties:this.properties}},He}(),be=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"ErrorRangeControl",properties:this.properties}},He}(),Te=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"FieldPicker",properties:this.properties}},He}(),ce=function(){function He(ke){this.properties=ke}return He.getTransparencySliderBuilder=function(ke,ft){var ae={descriptor:ke.descriptor,value:ke.value,localize:ke.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100},unitSymbol:"Slider_Percent"}};return new He(ft?ft(ae):ae)},He.getRotationSliderBuilder=function(ke,ft){var ae={descriptor:ke.descriptor,value:ke.value,localize:ke.localize,options:{minValue:{type:0,value:0},maxValue:{type:1,value:360},unitSymbol:"Slider_Degree"}};return new He(ft?ft(ae):ae)},He.prototype.build=function(){var ke=(0,e.__assign)({},this.properties);return delete ke.localize,{type:"Slider",properties:ke}},He}(),ve=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"ShapeMapSelector",properties:this.properties}},He}(),Re=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){var ke=this.properties.placeholder;ke&&(ke=this.properties.localize(ke));var ft=(0,e.__assign)((0,e.__assign)({},this.properties),{placeholder:ke});return delete ft.localize,{type:"TextArea",properties:ft}},He}(),Ke=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"TextInput",properties:this.properties}},He}(),tt=function(){function He(ke){this.properties=ke}return He.prototype.build=function(){return{type:"ToggleSwitch",properties:this.properties}},He}(),mt=function(He){function ke(ft){return He.call(this,ft)||this}return(0,e.__extends)(ke,He),ke.prototype.build=function(){var ft=this;return l.fF.assert(function(){return!!ft.control},"control must exist"),{control:this.control,disabled:this.disabled,disabledReason:this.disabledReason,uid:this.uidBuilder.build(),suppressDisplayName:!0,noDefaultImpact:this.noDefaultImpact}},ke.prototype.withNoDefaultImpact=function(ft){return this.noDefaultImpact=ft,this},ke}(j)},957571:function(Xe,H,t){function e(S){return S instanceof Date&&"number"==typeof S.epochTimeStamp}function l(S){var h=new Date(S.getTime());return h.epochTimeStamp=S.epochTimeStamp,h}function o(S,h,c,r,s,u,i){void 0===h&&(h=0),void 0===c&&(c=1),void 0===r&&(r=0),void 0===s&&(s=0),void 0===u&&(u=0),void 0===i&&(i=0);var a=new Date(S,h,c,r,s,u,i);return a.epochTimeStamp=Date.UTC(S,h,c,r,s,u,i),a}function d(S){var h=S;return h.epochTimeStamp=Date.UTC(h.getFullYear(),h.getMonth(),h.getDate(),h.getHours(),h.getMinutes(),h.getSeconds(),h.getMilliseconds()),h}function v(S){return d(new Date(S))}t.d(H,{Fg:function(){return d},Fh:function(){return l},M4:function(){return e},tU:function(){return v},yI:function(){return o}})},458441:function(Xe,H,t){function e(l){l&&Object.getOwnPropertyNames(l).forEach(function(o){"constructor"!==o&&Object.defineProperty(l,o,{enumerable:!0})})}t.d(H,{y:function(){return e}})},392337:function(Xe,H,t){function e(o){var d=_.lastIndexOf(o,".");return d>=0?o.substr(d+1):""}function l(o){var d=_.lastIndexOf(o,".");return d>=0?o.substr(0,d):o}t.d(H,{K:function(){return l},m:function(){return e}})},447751:function(Xe,H,t){function e(o){return _.isEmpty(o)||_.isEmpty(o.trim())}function l(){for(var o=[],d=0;d<arguments.length;d++)o[d]=arguments[d];var v=o[0];if(e(v))return v;for(var S=0;S<o.length-1;S++){var h=new RegExp("\\{"+S+"\\}","gm");v=v.replace(h,o[S+1])}return v}t.d(H,{W:function(){return l},g:function(){return e}})},281556:function(Xe,H,t){function e(S){return 40===S||38===S||37===S||39===S}function l(S){return"ArrowDown"===S||"ArrowUp"===S||"ArrowRight"===S||"ArrowLeft"===S}function o(S){return 65===S||67===S||88===S||86===S||90===S||89===S}function d(S){return 16===S}function v(S){return 46===S}t.d(H,{FJ:function(){return l},SF:function(){return d},Wl:function(){return e},iZ:function(){return o},rH:function(){return v}})},659514:function(Xe,H,t){t.d(H,{DR:function(){return o},GG:function(){return l}});var e=t(288006),l=function(){function v(S){void 0===S&&(S=!1);var h=this;this.promise=new e.I(function(c,r){h.resolver=c,h.rejector=r})}return v.prototype.resolve=function(S){this.resolver(S)},v.prototype.reject=function(S){this.rejector(S)},v}();function o(v){if(e.I.useNativePromise)return Promise.resolve(v);var S=new l(!0);return S.resolve(v),S.promise}},288006:function(Xe,H,t){t.d(H,{I:function(){return h}});var e=t(498342),l=t(725916),o=t(504898);function d(c){return c&&_.isObject(c)&&c.then&&_.isFunction(c.then)}function v(c){return d(c)?c.then:null}var h=function(){function c(s,u){var i=this;if(this[r]="Promise",this.timeout=c.ensurePbiTimeout(),this.autoFlush=c.autoFlushInitialized||!!u,this.state={status:0},s){if(c.useNativePromise)return new Promise(s);s(function(a){return c.resolvePromise(i,a)},function(a){return c.rejectPromise(i,a)})}}var r;return c.prototype.then=function(s,u){if(_.isUndefined(s)&&_.isUndefined(u))return this;var i=new c(null,this.autoFlush);return this.state.pending=this.state.pending||[],this.state.pending.push({result:i,onFulfilled:s,onRejected:u}),this.state.status>0&&this.scheduleProcessQueue(),i},c.prototype.catch=function(s){return this.then(null,s)},c.prototype.finally=function(s){return this.then(function(u){return c.handleCallback(u,c.resolve,s)},function(u){return c.handleCallback(u,c.reject,s)})},c.all=function(s,u){if(c.useNativePromise)return Promise.all(s);var i,a,n=new c(function(b,y){i=b,a=y},u),m=[],f=s.length;if(f>0)for(var V=0,p=function(y){var D=s[y];v(D)||(D=c.resolve(D,u)),D.then(function(E){m[y]=E}).catch(function(E){a(E)}).finally(function(){++V===f&&i(m)})},C=0;C<f;C++)p(C);else i(m);return n},c.setUseNativePromise=function(s){c.useNativePromise=s},c.resolvePromise=function(s,u){this.useNativePromise&&this.traceError&&(this.traceError=!1,o.f.error("resolvePromise should not be called when useNativePromise is true")),!s.state.status&&(u===s?s.rejectInternal("Expected promise to be resolved with value other than itself"):s.resolveInternal(u))},c.rejectPromise=function(s,u){this.useNativePromise&&this.traceError&&(this.traceError=!1,o.f.error("rejectPromise should not be called when useNativePromise is true")),!s.state.status&&s.rejectInternal(u)},c.reset=function(){c.usingMicrotask=void 0,c.pbiTimeout=void 0,c.autoFlushInitialized=void 0},c.init=function(s,u,i,a){void 0!==a&&(c.useNativePromise=a)||c.usingMicrotask||(c.autoFlushInitialized=u,i?(c.pbiTimeout=(0,l.k)(function(n){Zone.current.scheduleMicroTask("PbiPromise.useMicrotask",n)}),c.usingMicrotask=!0):(e.fF.assertValue(s,"pbiTimeout"),c.pbiTimeout=s||c.pbiTimeout))},c.resolve=function(s,u,i,a){if(c.useNativePromise)return Promise.resolve(s);var n=new c(null,u);return c.resolvePromise(n,s),n.then(null!=i?i:null,a)},c.reject=function(s,u){return c.useNativePromise?Promise.reject(s):new c(function(i,a){return a(s)},u)},c.prototype.defer=function(s){e.fF.assert(function(){return _.isFunction(s)},"callback"),this.autoFlush&&this.state.status>0?s():(e.fF.assertValue(this.timeout,"timeout object should have been allocated!"),this.timeout.defer(s,0))},c.prototype.resolveInternal=function(s){var i,u=this;try{(i=v(s))?(this.state.status=-1,i.call(s,function(a){u.resolveInternal(a)},function(a){u.rejectInternal(a)})):(this.state.value=s,this.state.status=1,this.scheduleProcessQueue())}catch(a){this.rejectInternal(a)}},c.prototype.rejectInternal=function(s){this.state.value=s,this.state.status=2,this.scheduleProcessQueue()},c.prototype.scheduleProcessQueue=function(){var s=this.state;s.processScheduled||_.isEmpty(s.pending)||(s.processScheduled=!0,this.defer(function(){return c.processQueue(s)}))},c.ensurePbiTimeout=function(){var s=c.pbiTimeout;return s||(s=c.pbiTimeout=(0,l.k)()),s},c.handleCallback=function(s,u,i){var a=null;try{_.isFunction(i)&&(a=i())}catch(n){return c.reject(n)}return d(a)?a.then(function(n){return u(s)},c.reject):u(s)},c.processQueue=function(s){var u=s.pending;s.processScheduled=!1,s.pending=void 0;for(var i=0,a=u;i<a.length;i++){var n=a[i],m=n.result,f=void 0;f=1===s.status?n.onFulfilled:f,f=2===s.status?n.onRejected:f;try{_.isFunction(f)?c.resolvePromise(m,f(s.value)):1===s.status?c.resolvePromise(m,s.value):c.rejectPromise(m,s.value)}catch(V){c.rejectPromise(m,V)}}},r=Symbol.toStringTag,c.useNativePromise=!0,c.traceError=!0,c}()},275179:function(Xe,H,t){t.d(H,{B:function(){return d},J:function(){return o}});var e=t(498342),l=t(498090),o=function(){function S(c){var r=this;if(this[h]="Promise",S.useNativePromise)return new window.Promise(c);this.defer=S.ensureFactory().defer(),c(function(s){return r.onResolve(s)},function(s){return r.onReject(s)})}var h;return S.prototype.then=function(c,r){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==r,this.defer.promise.then(c,r)},S.prototype.catch=function(c){return this.hasRejectionHandling=this.hasRejectionHandling||void 0!==c,this.defer.promise.catch(c)},S.prototype.finally=function(c){return this.defer.promise.finally(c)},S.init=function(c,r,s,u){e.fF.assertValue(c,"promiseFactory"),e.fF.assertAnyValue(r,"exceptionHandler"),e.fF.assert(function(){return s||!S.defaultFactoryWasProvided},"powerbi.Promise was used before being initialized - that is legitimate in test scenarios only"),null!=u&&(S.useNativePromise=u),S.factory=c,S.exceptions=r,S.defaultFactoryWasProvided=!1},S.setUseNativePromise=function(c){S.useNativePromise=c},S.ensureFactory=function(){var c=S.factory;return c||(c=S.factory=(0,l.p)(),S.defaultFactoryWasProvided=!0),c},S.resolve=function(c){return S.useNativePromise?window.Promise.resolve(c):new S(function(r,s){return r(c)})},S.reject=function(c){return S.useNativePromise?window.Promise.reject(c):new S(function(r,s){return s(c)})},S.allSettled=function(c){return S.useNativePromise?window.Promise.allSettled(c):new S(function(r,s){var u=c.length;if(u>0)for(var i=[],a=0;a<u;a++)c[a].then(function(n){return i.push({value:n,type:0})}).catch(function(n){return i.push({value:n,type:1})}).finally(function(){i.length===u&&r(i)});else r([])})},S.prototype.onResolve=function(c){var r=this;e.fF.assertAnyValue(c,"value"),function(S){return S&&_.isFunction(S.then)}(c)?c.then(function(s){return r.onResolve(s)},function(s){return r.onReject(s)}):this.defer.resolve(c)},S.prototype.onReject=function(c){if(e.fF.assertAnyValue(c,"error"),!this.hasRejectionHandling&&c instanceof Error&&!c.suppressExceptionHandler){var r=S.exceptions;r&&(c.suppressExceptionHandler=!0,r(c))}this.defer.reject(c)},h=Symbol.toStringTag,S.useNativePromise=!0,S}(),d=function(){function S(){var h=this;this.promise=new o(function(c,r){h.resolver=c,h.rejector=r})}return S.prototype.resolve=function(h){this.resolver(h)},S.prototype.reject=function(h){this.rejector(h)},S}()},417657:function(Xe,H,t){t.d(H,{AD:function(){return n},Ay:function(){return V},I2:function(){return S},Iu:function(){return o},O7:function(){return v},OH:function(){return l},Pu:function(){return C},aI:function(){return c},bL:function(){return u},fg:function(){return p},jL:function(){return m},lO:function(){return i},nd:function(){return a},y4:function(){return d}});var e=t(498342),l=1e-6;function o(b,y){return e.fF.assertValue(b,"x"),e.fF.assertValue(y,"y"),"translate("+b+","+y+")"}function d(b){return e.fF.assertValue(b,"x"),"translateX("+b+"px)"}function v(b,y){return e.fF.assertValue(b,"x"),e.fF.assertValue(y,"y"),"translate("+b+"px,"+y+"px)"}function S(b,y,D,P,F){return e.fF.assertValue(b,"x"),e.fF.assertValue(y,"y"),e.fF.assertValue(D,"px"),e.fF.assertValue(P,"py"),e.fF.assertValue(F,"angle"),"translate("+b+","+y+") rotate("+F+","+D+","+P+")"}function c(b,y,D){return e.fF.assertValue(b,"x"),e.fF.assertValue(y,"y"),e.fF.assertValue(D,"ratio"),"translate("+b+","+y+") scale("+D+")"}function s(b){return function(){b.forEach(function(y){null!=y&&y.each(function(){var D;if(null!=this.__transition){if(_.some(this.__transition,function(N){return 0===N.state})){var P=d3.select(this);return void requestAnimationFrame(s([P]))}for(var F=this.__transition||{},w=0,x=Object.keys(F);w<x.length;w++){var g=F[x[w]];g&&(null===(D=g.timer)||void 0===D||D._call());for(var M=0,T=g.on._.end;M<T.length;M++)T[M].value.apply(this)}}})})}}function u(b){for(var y=[],D=1;D<arguments.length;D++)y[D-1]=arguments[D];if(b){var P=b,F=b;F.animation&&(P=F.animation),P&&P.transitionImmediate&&(_.isEmpty(y)||requestAnimationFrame(s(y)))}}function i(b){isNaN(b.x)&&(b.x=0),isNaN(b.y)&&(b.y=0)}function a(b){if(!b||0===b.length)return{x:"0",y:"0"};var y=b.split(/[\s,]+/);e.fF.assertValue(y,"translateCoordinates"),e.fF.assert(function(){return y.length>0},"translate array must atleast have one value");var P,D="0",F=y[0];if(1===y.length)P=F.substring(10,F.length-1);else{var E=y[1];D=E.substring(0,E.length-1),P=F.substring(10,F.length)}return{x:P,y:D}}function n(b,y,D){var F="M0 0";return F+="L0 "+y,{path:F+="L"+b+" "+y/2+" Z",transform:"rotate("+D+" "+b/2+" "+y/2+")"}}function m(b){var y;try{y=b.getBBox()}catch(D){}return y||{x:0,y:0,width:0,height:0}}function V(b){return _.map(b,function(P,F){return function(F){return 1==(1&F)?",":0===F?"M":"L"}(F)+P}).join("")+"z"}function p(b,y){if(!(b.length<4||b.length%2!=0)){var D=_.map(b,function(L){return Math.round(L*y)}),P=[],F=D[0],E=D[1];P.push(F),P.push(E);for(var w=2;w<D.length;w+=2){var x=D[w],R=D[w+1];Math.abs(F-x)+Math.abs(E-R)<2||(P.push(x),P.push(R))}return V(P)}}function C(b,y,D){if("vectorEffect"in document.documentElement.style)return D;var P=b.split(" ");return e.fF.assert(function(){return 4===P.length},"viewBox must be of length 4"),D*(Math.max(+P[2],+P[3])/y)}},546368:function(Xe,H,t){t.d(H,{DJ:function(){return v},DQ:function(){return f},Fj:function(){return V},HH:function(){return l},MN:function(){return P},ZY:function(){return w},av:function(){return D},en:function(){return y},fS:function(){return C},gU:function(){return o},mA:function(){return p},oB:function(){return b},pU:function(){return d},wo:function(){return h}});var e=t(728409);function l(L,M){if(void 0===M&&(M=!0),_.isEmpty(L))return!1;var T=y(L);if(!T)return!1;switch(x(T.scheme)){case D.http:case D.https:return M||!_.isEmpty(T.host);default:return!1}}function o(L){return l(L)}function d(L){return!(!L||0!==L.indexOf("data:"))}function v(L){if(!d(L))throw new Error("Expected data uri");var M=";base64,",T=L.indexOf(M);if(T<0)throw new Error("Expected base 64 content in data url");var O=T+M.length;return L.substr(O,L.length-O)}function h(L){return M=L,"data:application/json;base64,"+f(M);var M}var i=e.AK||function(L){return L&&L.replace(/%([0-9a-fA-F]{2})|%u([0-9a-fA-F]{4})/g,function(M,T,O){return String.fromCharCode(parseInt(T||O,16))})},a=e.YU||function(L){return L&&L.replace(/[^*+\-./0123456789@ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz]/g,function(M){var T=M.charCodeAt(0).toString(16).toUpperCase();switch(T.length){case 1:return"%0"+T;case 2:return"%"+T;case 3:return"%u0"+T;default:return"%u"+T}})};function f(L){return btoa(function(L){return i(encodeURIComponent(L))}(L))}function V(L){return function(L){return decodeURIComponent(a(L))}(atob(L))}function p(L){var M=R(L);if(M)return g(M)}function C(L,M,T){void 0===T&&(T=!1);var O=b(L),N=O.baseUrl;if(T&&_.assign(M,O.queryParameters),_.isEmpty(M))return N;var A=[];for(var I in M){var B=M[I];if(null==B)A.push(encodeURIComponent(I));else if("string"==typeof B)A.push(encodeURIComponent(I)+"="+encodeURIComponent(B));else for(var U=0,W=B;U<W.length;U++){var j=W[U];A.push(encodeURIComponent(I)+"="+encodeURIComponent(j))}}return N+"?"+A.join("&")}function b(L){var M=R(L);return{baseUrl:M?L.slice(0,L.indexOf("?")):L,queryParameters:g(M)}}function y(L){var M={scheme:"",host:"",path:"",query:"",fragment:""};if(null==L)return M;var T=L.match(/^(?:([^:\/?#]+):)?(?:\/\/([^\/?#]*))?([^?#]*)(?:\?([^#]*))?(?:#(.*))?/);return T?{scheme:T[1],host:T[2],path:T[3],query:T[4],fragment:T[5]}:M}var D=function(L){return L[L.NONE=0]="NONE",L[L.http=1]="http",L[L.https=2]="https",L[L.file=3]="file",L[L.ftp=4]="ftp",L[L.mailto=5]="mailto",L[L.news=6]="news",L[L.telnet=7]="telnet",L}({});function P(L){var M=y(L);return null==M||null==M.scheme?D.NONE:x(M.scheme)}var E=/https?:\/\/[^\/]+/i;function w(L){return L&&L.replace(E,"")}function x(L){if(_.isEmpty(L))return D.NONE;switch(L.toLowerCase()){case"http":return D.http;case"https":return D.https;case"file":return D.file;case"ftp":return D.ftp;case"mailto":return D.mailto;case"news":return D.news;case"telnet":return D.telnet;default:return D.NONE}}function R(L){var M=document.createElement("a");return M.href=L,M.search}function g(L){if(!L)return{};_.startsWith(L,"?")&&(L=L.substring(1));for(var T={},O=0,N=L.split("&");O<N.length;O++){var I=N[O].split("="),B=decodeURIComponent(I[0]),U=decodeURIComponent(I[1]),W=T[B];null==W?T[B]=U:"string"==typeof W?T[B]=[W,U]:W.push(U)}return T}},533462:function(Xe,H,t){t.d(H,{sE:function(){return h},bY:function(){return s},r:function(){return c},ql:function(){return m},iD:function(){return r}});var e=t(498342),l=/\n+/g,o=/[\s\n]+/g,d=/([^\S\r\n])/g,v=" ";function S(b,y,D){if(D){for(var P=b-1;P>-1;P--)if(c(y[P]))return P+1}else{P=b;for(var F=y.length;P<F;P++)if(c(y[P]))return P}return D?0:y.length}function h(b,y){e.fF.assert(function(){return b>=0&&b<=y.length},"index within content string bounds");var D={start:0,end:0};return 0===y.length||(D.start=S(b,y,!0),D.end=S(b,y,!1)),D}function c(b){return o.lastIndex=0,o.test(b)}function r(b){var y=1;for(o.lastIndex=0,o.exec(b);0!==o.lastIndex;)y++,o.exec(b);return y}function s(b,y,D){for(var F=0,E=0,w=C(b);E<w.length;E++)D.text=w[E],F=Math.max(F,y(D));return F}function u(b,y,D){return y.text=b,D(y)}var a=function(){function b(){this.words=[],this.width=0}return b.prototype.getWidth=function(){return this.width},b.prototype.addWord=function(y,D){this.words.push(y),this.width+=D},b.prototype.toString=function(y){return this.words.join(y?"":v)},b.prototype.isEmpty=function(){return _.isEmpty(this.words)},b}(),n=function(){function b(){this.lastLine=new a,this.lines=[this.lastLine]}return b.prototype.newLine=function(){var y=this.lastLine;return this.lastLine=new a,this.lines.push(this.lastLine),y},Object.defineProperty(b.prototype,"count",{get:function(){return this.lines.length},enumerable:!1,configurable:!0}),b.prototype.getLastLine=function(){return this.lastLine},b.prototype.getLastLineWidth=function(){return this.getLastLine().getWidth()},b.prototype.addWord=function(y,D){this.lastLine.addWord(y,D)},b.prototype.getLines=function(){return this.lines},b}();function m(b,y,D,P,F,E,w,x,R){if(void 0===R&&(R=!1),!b)return[""];if("string"!=typeof b&&(b=String(b)),e.fF.assert(function(){return"string"==typeof b},"splitByWidth: content should be of type string"),F<1&&(F=Number.POSITIVE_INFINITY),x){for(var L=[],M=0,T=b.split(l);M<T.length;M++){var N=m(T[M],y,D,P,Math.max(1,F),E,w,!1,R);if(F>0)L.push.apply(L,N||[]),F-=N.length;else{var A=_.last(L);L[L.length-1]=A+v+N}}return L}E=E||function(Ee,Ne){return Ee.text};for(var I=u(v,y,D),B=new n,W=0,j=C(b,R);W<j.length;W++){var K=j[W],ee=u(K,y,D),ie=ee,he=B.getLastLine().isEmpty();if(!he&&K!==v&&(ie+=I),B.getLastLineWidth()+ie<=P||B.count>=F)B.addWord(K,ie);else if(he||B.newLine(),ee<=P)B.addWord(K,ee);else{var q=F-B.count;if(!w||q<=0)B.addWord(K,ee);else for(var Y=f(K,y,D,P,q+1),G=0,me=Y.chunks.length;G<me;G++){var re=Y.chunks[G];G<me-1?(B.addWord(re,P),B.newLine()):B.addWord(re,Y.lastChunkWidth)}}}var le=_.map(B.getLines(),function(Ee){return Ee.getWidth()>P?function(b,y,D,P){return y.text=b,D(y,P)}(Ee.toString(R),y,E,P):Ee.toString(R)});return le}function f(b,y,D,P,F){var E={chunks:[],lastChunkWidth:0};if(F<1||0===b.length)return E;for(var w=function(b,y,D){return b.text="a",Math.floor(D/y(b))}(y,D,P),x=b,R=function(){if(E.chunks.length===F-1)return E.chunks.push(x),E.lastChunkWidth=u(x,y,D),"break";var M=function(b,y,D,P,F){if(_.isEmpty(b))return{sizeInCharacters:0,sizeInPixels:0};if(0===P)return{sizeInCharacters:1,sizeInPixels:u(b.substr(0,1),y,D)};for(var w={sizeInCharacters:0,sizeInPixels:0},x=Math.min(F,b.length),R=-1,g=b.length+1;R<g-1;){var L=u(b.substr(0,x),y,D),M=L/P;if(L<=P){R=x,w.sizeInCharacters=x,w.sizeInPixels=L;var T=M>0?Math.ceil(x/M):x+1;T=Math.max(T,x+1),x=T=Math.min(T,g-1)}else g=x,T=M>0?Math.floor(x/M):x-1,T=Math.min(T,x-1),x=T=Math.max(T,R+1)}return 0===w.sizeInCharacters?{sizeInCharacters:1,sizeInPixels:u(b.substr(0,1),y,D)}:w}(x,y,D,P,w);w=M.sizeInCharacters;var T=M.sizeInCharacters;if(e.fF.assert(function(){return T<=x.length},"Chunk size is greater than the whole text"),E.chunks.push(x.substr(0,T)),E.lastChunkWidth=M.sizeInPixels,T===x.length)return"break";x=x.substr(T,x.length-T)};x.length>0&&"break"!==R(););return E}function C(b,y){return y&&(b=b.replace(l,"")),b.split(y?d:o)}},955437:function(Xe,H,t){t.d(H,{l:function(){return l}});var l=new(function(){function o(){}return o.prototype.initialize=function(d){this.runOutsideAngular=function(v){return d.runOutsideAngular(v)}},o.prototype.setInterval=function(d,v){return this.runOutsideAngular(function(){return setInterval(d,v)})},o.prototype.setTimeout=function(d,v){return this.runOutsideAngular(function(){return setTimeout(d,v)})},o.prototype.requestAnimationFrame=function(d){this.runOutsideAngular(function(){return requestAnimationFrame(d)})},o.prototype.runOutsideAngular=function(d){return d()},o}())},365358:function(Xe,H,t){t.d(H,{Br:function(){return m},EB:function(){return d},Gz:function(){return P},JG:function(){return r},JN:function(){return T},Jq:function(){return f},LF:function(){return R},NF:function(){return s},Rl:function(){return B},U1:function(){return a},UR:function(){return n},UU:function(){return A},X_:function(){return ee},ZH:function(){return w},bv:function(){return p},cq:function(){return i},dB:function(){return g},f1:function(){return K},g2:function(){return y},iv:function(){return N},pT:function(){return M},qn:function(){return c},rC:function(){return b},rY:function(){return O},rd:function(){return L},rm:function(){return u},s_:function(){return U},w6:function(){return h},x:function(){return I},yg:function(){return D},z8:function(){return C}});var e=t(498342);function d(ie){for(var he=[],q=0,Y=ie.length;q<Y;q++){var G=ie[q];-1===he.indexOf(G)&&he.push(G)}return he}function h(ie,he,q){e.fF.assert(function(){return he>=0&&he<ie.length},"startIndex is out of range."),e.fF.assert(function(){return q>=0&&q<ie.length},"endIndex is out of range.");for(var Y=[],G=he;G<=q;++G)Y.push(ie[G]);return Y}function c(ie,he){e.fF.assert(function(){return he>=0},"Count is negative."),e.fF.assert(function(){return he<=ie.length},"Count is too large.");for(var q=[],Y=0;Y<he;++Y)q.push(ie[Y]);return q}function r(ie){return e.fF.assertValue(ie,"source"),c(ie,ie.length)}function s(ie,he,q){var Y;if(ie||(ie=null),he||(he=null),ie===he)return!0;if(!!ie!=!!he)return!1;var G=null!==(Y=null==ie?void 0:ie.length)&&void 0!==Y?Y:0;if(G!==(null==he?void 0:he.length))return!1;for(var me=0;me<G&&q(null==ie?void 0:ie[me],null==he?void 0:he[me]);)++me;return me===G}function u(ie){return ie&&0===ie.length?null:ie}function i(ie,he){e.fF.assertValue(ie,"array"),e.fF.assertValue(he,"predicate");for(var q=0,Y=ie.length;q<Y;++q)if(he(ie[q]))return q;return-1}function a(ie,he){if(0===he)return ie.slice();var q=ie.slice(he);return Array.prototype.push.apply(q,ie.slice(0,he)),q}function n(){return m([])}function m(ie){e.fF.assertValue(ie,"array");var he=ie;return he.withId=V,he}function f(ie,he){for(var q=0,Y=ie.length;q<Y;q++){var G=ie[q];if(G.id===he)return G}}function V(ie){return f(this,ie)}function p(){return C([])}function C(ie){e.fF.assertValue(ie,"array");var he=ie;return he.withName=E,he}function b(ie,he){var q=y(ie,he);if(q>=0)return ie[q]}function y(ie,he){for(var q=0,Y=ie.length;q<Y;q++)if(ie[q].name===he)return q;return-1}function D(ie,he){e.fF.assertValue(ie,"list"),e.fF.assertValue(he,"value");for(var Y=ie.length-1;Y>=0;Y--){var G=ie[Y]-he;if(0===G)return!1;if(!(G>0))return ie.splice(Y+1,0,he),!0}return ie.unshift(he),!0}function P(ie,he){e.fF.assertValue(ie,"list"),e.fF.assertValue(he,"value");for(var q=0,Y=ie;q<Y.length;q++)if(Y[q]===he)return!1;return ie.push(he),!0}function E(ie){return b(this,ie)}function w(ie){if(ie)for(;ie.length>0;)ie.pop()}function R(ie,he,q){var Y=ie[he];ie[he]=ie[q],ie[q]=Y}function g(ie,he,q){return _.some(ie,function(Y){return q(Y,he)})}function L(ie){e.fF.assertValue(ie,"obj");for(var he=ie;null!=he;){if(_.isArray(he))return!0;he=Object.getPrototypeOf(he)}return!1}function M(ie,he){e.fF.assertValue(ie,"values"),e.fF.assertValue(he,"compareFunction");var q=ie.length;if(q>=2)for(var Y=1;Y<q;Y++)if(he(ie[Y-1],ie[Y])>0)return!1;return!0}function T(ie,he){return e.fF.assertValue(ie,"values"),e.fF.assertAnyValue(he,"descendingOrder"),M(ie,he?function(Y,G){return G-Y}:function(Y,G){return Y-G})}function O(ie){return _.isArray(ie)?ie:[ie]}function N(ie){return _.uniqBy(ie,function(he){return he.name}).length===ie.length}function A(ie,he){e.fF.assertValue(ie,"array");for(var q,Y=0,G=ie.length;Y<G;Y++){var me=ie[Y],re=he(me);me!==re&&!q&&(q=c(ie,Y)),q&&q.push(re)}return q||ie}function I(ie,he){e.fF.assertValue(ie,"array");for(var q,Y=0,G=ie.length;Y<G;Y++){var me=ie[Y],re=he(me,Y),le=1!==re.length||re[0]!==me;le&&!q&&(q=c(ie,Y)),q&&(le?q.push.apply(q,re||[]):q.push(me))}return q||ie}function B(ie,he){e.fF.assertValue(ie,"array");for(var q,Y=0,G=ie.length;Y<G;Y++){var me=ie[Y],re=he(me,Y);!re&&!q&&(q=c(ie,Y)),q&&re&&q.push(me)}return q||ie}function U(ie,he,q){return _.isEmpty(ie)||_.isEmpty(he)?_.isEmpty(ie)&&_.isEmpty(he):ie.length===he.length&&function(ie,he,q){for(var Y=new Array(he.length),G=0,me=ie;G<me.length;G++){for(var re=me[G],le=!1,Ee=0;Ee<he.length;Ee++)if(!Y[Ee]&&q(re,he[Ee])){le=!0,Y[Ee]=!0;break}if(!le)return!1}return!0}(ie,he,q)}function K(ie,he,q){if(_.isEmpty(ie)||_.isEmpty(he))return[];for(var Y=[],G=0;G<=ie.length;G++){Y[G]=[];for(var me=0;me<=he.length;me++)Y[G][me]=0===G||0===me?0:q(ie[G-1],he[me-1])?Y[G-1][me-1]+1:Math.max(Y[G-1][me],Y[G][me-1])}for(var re=[],le=Y[ie.length][he.length],Ee=ie.length,Ne=he.length;Ee>0&&Ne>0;)q(ie[Ee-1],he[Ne-1])?(re[le-1]=ie[Ee-1],Ee--,Ne--,le--):Y[Ee-1][Ne]>Y[Ee][Ne-1]?Ee--:Ne--;return re}function ee(ie,he){e.fF.assertValue(ie,"dictionary");for(var q,Y=Object.getOwnPropertyNames(ie),G=0,me=Y.length;G<me;G++){var re=Y[G],le=ie[re],Ee=he(re,le);le!==Ee&&!q&&(q=_.pick(ie,c(Y,G))),q&&(q[re]=Ee)}return q||ie}},562386:function(Xe,H,t){t.d(H,{Bm:function(){return S},Gx:function(){return f},Hx:function(){return m},N6:function(){return r},RU:function(){return s},Vh:function(){return o},e$:function(){return u},hC:function(){return p},j:function(){return h},jK:function(){return v},mB:function(){return i},nE:function(){return c},qw:function(){return V},xs:function(){return C},zd:function(){return d}});var e=t(973188),l=t(498342);function o(b){return!(!b||!b.performanceActivities)}var d="Client Error Code",v="Error Code",S="Error Details",h="HTTP Request Id",c="Job Id",r="OData Error Message",s="Stack Trace",u="QueryCacheMissError",i=function(){function b(y){this.code=y,this.ignorable=!1,l.fF.assertValue(y,"code")}return b.prototype.getDetails=function(y){return{resourceKey:"ClientError_UnknownClientErrorKey",message:y.get("ClientError_UnknownClientErrorValue"),displayableErrorInfo:[{errorInfoKey:y.get("ClientError_UnknownClientErrorKey"),errorInfoValue:y.get("ClientError_UnknownClientErrorValue")}],debugErrorInfo:[{errorInfoKey:d,errorInfoValue:this.code}]}},b}(),a={additionalInfoKey:"Rls_Unauthorized_VisualErrorTitle",additionalInfoValue:"Rls_Unauthorized_VisualErrorMessage",localizedMessage:"Rls_Unauthorized_VisualError",helpLinkInfo:{helpLink:"https://go.microsoft.com/fwlink/?LinkID=785016",helpLinkType:1}},n={RLSNotAuthorizedForModel:a,NotAuthorizedForImpersonation:a};function m(b){return null!=b&&void 0!==b.code&&void 0!==b.ignorable&&void 0!==b.requestId&&void 0!==b.getDetails}var f=function(){function b(y,D,P,F,E){this.statusCode=y,this.httpRequestId=D,this.detailedErrorCode=P,this.detailedMessage=F,this.source=E,l.fF.assertValue(y,"httpStatusCode")}return Object.defineProperty(b.prototype,"code",{get:function(){return this.detailedErrorCode||"HttpClientError"},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"requestId",{get:function(){return this.httpRequestId},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"httpStatusCode",{get:function(){return this.statusCode},enumerable:!1,configurable:!0}),b.prototype.getDetails=function(y){var D=this.detailedErrorCode&&n[this.detailedErrorCode];if(D){var P=D.localizedMessage,F=D.additionalInfoKey||"DsrError_Key",E=D.additionalInfoValue||P||"DsrError_UnknownErrorValue",w=D.helpLinkInfo;return{resourceKey:F,message:P?y.get(P):null,displayableErrorInfo:[{errorInfoKey:y.get(F),errorInfoValue:y.get(E)}],debugErrorInfo:[],helpLink:w&&w.helpLink,helpLinkType:w&&w.helpLinkType,hideAdditionalErrorInfo:!0,source:this.source}}return this.getGenericErrorDetails(y)},b.prototype.getGenericErrorDetails=function(y){var D={resourceKey:"DsrError_Key",message:null,displayableErrorInfo:[{errorInfoKey:y.get("DsrError_Key"),errorInfoValue:y.get("DsrError_UnknownErrorValue")},{errorInfoKey:y.get("ClientError_HttpResponseStatusCodeKey"),errorInfoValue:this.httpStatusCode.toString()}],debugErrorInfo:[{errorInfoKey:h,errorInfoValue:this.httpRequestId},{errorInfoKey:d,errorInfoValue:this.code}],source:this.source};return this.detailedMessage&&D.debugErrorInfo&&D.debugErrorInfo.push({errorInfoKey:S,errorInfoValue:this.detailedMessage}),this.detailedErrorCode&&D.debugErrorInfo&&D.debugErrorInfo.push({errorInfoKey:v,errorInfoValue:this.detailedErrorCode}),D},b}(),V=function(){function b(y){this.debugInfo=y,this.code=b.Code,this.ignorable=!0}return b.prototype.getDetails=function(y){return{message:"",displayableErrorInfo:[]}},b.Code="IgnorableClientError",b}(),p=function(b){function y(D){var P=b.call(this,"QueryCancellationClientError: "+D)||this;return P.cancellationSource=D,P}return(0,e.__extends)(y,b),Object.defineProperty(y.prototype,"queryCancellationSource",{get:function(){return this.cancellationSource},enumerable:!1,configurable:!0}),y}(V),C=function(){function b(){this.errorCode=u}return Object.defineProperty(b.prototype,"code",{get:function(){return this.errorCode},enumerable:!1,configurable:!0}),Object.defineProperty(b.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),b.prototype.getDetails=function(y){return{message:y.get("ServiceError_QueryExecutionIsPaused"),displayableErrorInfo:[{errorInfoKey:y.get("ServiceError_QueryExecutionRequired"),errorInfoValue:y.get("ServiceError_VisualCannotBeUpdatedWithoutQuery")},{errorInfoKey:y.get("AdditionalErrorInfo_ErrorText"),errorInfoValue:this.code}],debugErrorInfo:[{errorInfoKey:d,errorInfoValue:this.code}]}},b}()},437555:function(Xe,H,t){t.d(H,{$Q:function(){return E},A7:function(){return f},Bx:function(){return m},HO:function(){return R},HS:function(){return C},TD:function(){return a},U1:function(){return o},U8:function(){return n},WV:function(){return v},X6:function(){return w},_j:function(){return r},b9:function(){return s},ci:function(){return d},cu:function(){return p},iC:function(){return L},jd:function(){return P},ok:function(){return b},rJ:function(){return u}});var e=t(498342),l=t(236090);function o(M,T){if(0===T)return M;var O=v(M);if(O){var N=S(O);if(N){var A=function(M,T){var O=M.H+T;return{H:O>1?O-1:O,S:M.S,V:M.V}}(N,T);if(A){var I=h(A);if(I)return m(I)}}}}function d(M){var T=v(M);if(T)return m(T)}function v(M){if(M.indexOf("#")>=0){if(7===M.length)return null==(T=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i.exec(M))||T.length<4?void 0:{R:parseInt(T[1],16),G:parseInt(T[2],16),B:parseInt(T[3],16)};if(4===M.length)return null==(T=/^#?([a-f\d])([a-f\d])([a-f\d])$/i.exec(M))||T.length<4?void 0:{R:parseInt(T[1]+T[1],16),G:parseInt(T[2]+T[2],16),B:parseInt(T[3]+T[3],16)}}else{var T;if(M.indexOf("rgb(")>=0)return null==(T=/^rgb\((\d+),\s*(\d+),\s*(\d+)\)$/.exec(M))||T.length<4?void 0:{R:parseInt(T[1],10),G:parseInt(T[2],10),B:parseInt(T[3],10)};if(M.indexOf("rgba(")>=0)return null==(T=/^rgba\((\d+),\s*(\d+),\s*(\d+),\s*(\d*(?:\.\d+)?)\)$/.exec(M))||T.length<5?void 0:{R:parseInt(T[1],10),G:parseInt(T[2],10),B:parseInt(T[3],10),A:parseFloat(T[4])}}}function S(M){if(M){var T,O,N=M.R/255,A=M.G/255,I=M.B/255,B=Math.min(N,Math.min(A,I)),U=Math.max(N,Math.max(A,I)),j=U-B;return 0===U||0===j?(T=0,O=0):(T=j/U,O=N===U?(A-I)/j:A===U?2+(I-N)/j:4+(N-A)/j),(O/=6)<0&&(O+=1),{H:O,S:T,V:U}}}function h(M){var T,O,N,U,W,j,K,ee,ie,I=M.S,B=M.V;if(0===I)T=B,O=B,N=B;else switch(U=B*(1-I),W=B*(1-I*(K=(ie=6*M.H)-(ee=Math.floor(ie)))),j=B*(1-I*(1-K)),ee){case 0:T=B,O=j,N=U;break;case 1:T=W,O=B,N=U;break;case 2:T=U,O=B,N=j;break;case 3:T=U,O=W,N=B;break;case 4:T=j,O=U,N=B;break;case 5:T=B,O=U,N=W;break;default:return void e.fF.assertFail("unexpected")}return{R:Math.floor(255*T),G:Math.floor(255*O),B:Math.floor(255*N)}}function r(M,T){var O=Math.floor(T);return{R:Math.max(0,M.R-O),G:Math.max(0,M.G-O),B:Math.max(0,M.B-O)}}function s(M,T){return M.A=T,M}function u(M){var T=v(M);if(T)return function(M){return _.isNumber(M.A)?Math.round(100*(1-M.A)):0}(T)}function a(M){return 1-M/100}function n(M){return null==M.A?"rgb("+M.R+","+M.G+","+M.B+")":"rgba("+M.R+","+M.G+","+M.B+","+M.A+")"}function m(M){return"#"+F(M.R)+F(M.G)+F(M.B)}function f(M){return/^#([0-9a-f]{6}|[0-9a-f]{3})$/i.test(M)}function p(M){return/^#[0-9a-f]{6}$/i.test(M)}function C(M){return/(#([\da-f]{3}){1,2}|(rgb|hsl)a\((\d{1,3}%?,\s?){3}(1.0|1|0|0?\.\d+)\)|(rgb|hsl)\(\d{1,3}%?(,\s?\d{1,3}%?){2}\))/gi.test(M)}function b(M,T,O){var N=v(M),A=v(O);if(N&&A)return m(function(M,T,O){return T=(0,l.QO)(T,0,1),{R:D(M.R,T,O.R),G:D(M.G,T,O.G),B:D(M.B,T,O.B)}}(N,T,A))}function D(M,T,O){return T=(0,l.QO)(T,0,1),M=(0,l.QO)(M,0,255),O=(0,l.QO)(O,0,255),Math.round(T*M+(1-T)*O)}function P(M,T,O){var N=S(M);if(N){(T+O>1||T<=0||O<=0)&&(e.fF.assert(function(){return!1},"Invalid lumianceThreshold and highlightColor adjusting delta."),T=.8,O=.2),N.V=N.V<T?N.V+O:N.V-O;var A=h(N);if(A)return m(A)}}function F(M){var O=(0,l.QO)(M,0,255).toString(16).toUpperCase();return 1===O.length?"0"+O:O}function E(M,T,O){e.fF.assert(function(){return M.length===T.length},"createLinearColorScale - domain and range must be the same size"),e.fF.assert(function(){return M.length>1},"createLinearColorScale - domain and range must contain at least 2 values");var N=T.map(function(A){return v(A)});return function(A){if(null==A&&(A=0),!isNaN(A)){if(O){var I=_.last(M);if(null==I||A>=I)return _.last(T);if(A<=M[0])return T[0]}for(var B,U,W,j,K=1,ee=M.length;K<ee;K++){if(U=M[K],(B=M[K-1])===Number.NEGATIVE_INFINITY&&isNaN(U))return T[K];if(isNaN(B)||isNaN(U))return;if(A===U)return T[K];if(A>=B&&A<=U){W=N[K-1],j=N[K];break}}if(void 0!==B&&void 0!==U&&void 0!==W&&void 0!==j)return m({R:x(A,B,U,W.R,j.R),G:x(A,B,U,W.G,j.G),B:x(A,B,U,W.B,j.B)})}}}function w(M,T){void 0===T&&(T=.25),e.fF.assert(function(){return T>0&&T<=.5},"valueOffset must be positive and less than 0.5");var N=S(v(M));if(N){N.V=N.V>1-T?1-T:N.V<T?T:N.V;var A=_.clone(N),I=_.clone(N);A.V=Math.min(N.V+T,1),I.V=Math.max(N.V-T,0);var B=h(A),U=h(I);if(B&&U)return E([0,1],[m(B),m(U)],!0)}}function x(M,T,O,N,A){return T===Number.NEGATIVE_INFINITY&&O===Number.POSITIVE_INFINITY?Math.round((A+N)/2):T===Number.NEGATIVE_INFINITY?A:O===Number.POSITIVE_INFINITY?N:Math.round(N+(M-T)*(A-N)/(O-T))}function R(M,T){var O=parseInt(M.slice(1),16),N=T<0?0:255,A=T<0?-1*T:T,I=O>>16,B=O>>8&255,U=255&O;return"#"+(16777216+65536*(Math.round((N-I)*A)+I)+256*(Math.round((N-B)*A)+B)+(Math.round((N-U)*A)+U)).toString(16).slice(1)}var g={aliceblue:"#f0f8ff",antiquewhite:"#faebd7",aqua:"#00ffff",aquamarine:"#7fffd4",azure:"#f0ffff",beige:"#f5f5dc",bisque:"#ffe4c4",black:"#000000",blanchedalmond:"#ffebcd",blue:"#0000ff",blueviolet:"#8a2be2",brown:"#a52a2a",burlywood:"#deb887",cadetblue:"#5f9ea0",chartreuse:"#7fff00",chocolate:"#d2691e",coral:"#ff7f50",cornflowerblue:"#6495ed",cornsilk:"#fff8dc",crimson:"#dc143c",cyan:"#00ffff",darkblue:"#00008b",darkcyan:"#008b8b",darkgoldenrod:"#b8860b",darkgray:"#a9a9a9",darkgreen:"#006400",darkgrey:"#a9a9a9",darkkhaki:"#bdb76b",darkmagenta:"#8b008b",darkolivegreen:"#556b2f",darkorange:"#ff8c00",darkorchid:"#9932cc",darkred:"#8b0000",darksalmon:"#e9967a",darkseagreen:"#8fbc8f",darkslateblue:"#483d8b",darkslategray:"#2f4f4f",darkslategrey:"#2f4f4f",darkturquoise:"#00ced1",darkviolet:"#9400d3",deeppink:"#ff1493",deepskyblue:"#00bfff",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1e90ff",firebrick:"#b22222",floralwhite:"#fffaf0",forestgreen:"#228b22",fuchsia:"#ff00ff",gainsboro:"#dcdcdc",ghostwhite:"#f8f8ff",gold:"#ffd700",goldenrod:"#daa520",gray:"#808080",green:"#008000",greenyellow:"#adff2f",grey:"#808080",honeydew:"#f0fff0",hotpink:"#ff69b4",indianred:"#cd5c5c",indigo:"#4b0082",ivory:"#fffff0",khaki:"#f0e68c",lavender:"#e6e6fa",lavenderblush:"#fff0f5",lawngreen:"#7cfc00",lemonchiffon:"#fffacd",lightblue:"#add8e6",lightcoral:"#f08080",lightcyan:"#e0ffff",lightgoldenrodyellow:"#fafad2",lightgray:"#d3d3d3",lightgreen:"#90ee90",lightgrey:"#d3d3d3",lightpink:"#ffb6c1",lightsalmon:"#ffa07a",lightseagreen:"#20b2aa",lightskyblue:"#87cefa",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#b0c4de",lightyellow:"#ffffe0",lime:"#00ff00",limegreen:"#32cd32",linen:"#faf0e6",magenta:"#ff00ff",maroon:"#800000",mediumaquamarine:"#66cdaa",mediumblue:"#0000cd",mediumorchid:"#ba55d3",mediumpurple:"#9370d8",mediumseagreen:"#3cb371",mediumslateblue:"#7b68ee",mediumspringgreen:"#00fa9a",mediumturquoise:"#48d1cc",mediumvioletred:"#c71585",midnightblue:"#191970",mintcream:"#f5fffa",mistyrose:"#ffe4e1",moccasin:"#ffe4b5",navajowhite:"#ffdead",navy:"#000080",oldlace:"#fdf5e6",olive:"#808000",olivedrab:"#6b8e23",orange:"#ffa500",orangered:"#ff4500",orchid:"#da70d6",palegoldenrod:"#eee8aa",palegreen:"#98fb98",paleturquoise:"#afeeee",palevioletred:"#d87093",papayawhip:"#ffefd5",peachpuff:"#ffdab9",peru:"#cd853f",pink:"#ffc0cb",plum:"#dda0dd",powderblue:"#b0e0e6",purple:"#800080",red:"#ff0000",rosybrown:"#bc8f8f",royalblue:"#4169e1",saddlebrown:"#8b4513",salmon:"#fa8072",sandybrown:"#f4a460",seagreen:"#2e8b57",seashell:"#fff5ee",sienna:"#a0522d",silver:"#c0c0c0",skyblue:"#87ceeb",slateblue:"#6a5acd",slategray:"#708090",slategrey:"#708090",snow:"#fffafa",springgreen:"#00ff7f",steelblue:"#4682b4",tan:"#d2b48c",teal:"#008080",thistle:"#d8bfd8",tomato:"#ff6347",turquoise:"#40e0d0",violet:"#ee82ee",wheat:"#f5deb3",white:"#ffffff",whitesmoke:"#f5f5f5",yellow:"#ffff00",yellowgreen:"#9acd32"};function L(M){return e.fF.assertValue(M,"getWebColorValue - colorName"),g[M.toLocaleLowerCase()]}},696933:function(Xe,H,t){t.d(H,{U:function(){return o},Xy:function(){return d},fA:function(){return e},md:function(){return l}});var e="foreground",l="foregroundDark",o="background",d="backgroundNeutral"},820967:function(Xe,H,t){function e(v,S){!0!==v&&d(S||"condition: "+v)}function l(v,S){null==v&&d(S||"condition: "+v)}function d(v){throw new Error("Contract check failed: "+v)}t.d(H,{BF:function(){return e},bG:function(){return d},wS:function(){return l}})},498342:function(Xe,H,t){t.d(H,{fF:function(){return l}}),t(973188);var l=function(){function v(){}return v.setAssertFailFunction=function(S){v.assertFailFunction=S},v.assert=function(S,h){},v.setAssert=function(S){v.assert=S},v.assertValue=function(S,h){},v.assertNonEmpty=function(S,h){},v.assertAnyValue=function(S,h){},v.assertFail=function(S){},v.log=function(S){for(var h=[],c=1;c<arguments.length;c++)h[c-1]=arguments[c]},v.logDebug=function(S){for(var h=[],c=1;c<arguments.length;c++)h[c-1]=arguments[c]},v.warn=function(S){for(var h=[],c=1;c<arguments.length;c++)h[c-1]=arguments[c]},v.assertNever=function(S){},v.breakDebugger=function(){},v.execute=function(S){},v.isDisabled=function(){return this.disbaled},v.disable=function(){window.DEBUG=!1,this.disbaled=!0},v.disbaled=!1,v}(),d=!1;d||(window.debug=l,window.DEBUG=!1,d=!0)},728409:function(Xe,H,t){t.d(H,{AK:function(){return d},YU:function(){return o},x9:function(){return v}});var o=window.escape,d=window.unescape;function v(S){}},860931:function(Xe,H,t){function e(){return window.powerbi||(window.powerbi={}),window.powerbi}function l(){var v=e();return v.common||(v.common={}),v.common}function o(){var v=e();return v.visuals||(v.visuals={}),v.visuals}function d(){return window.jsCommon||(window.jsCommon={}),window.jsCommon}t.d(H,{Z7:function(){return o},hG:function(){return l},kx:function(){return d},wg:function(){return e}})},366769:function(Xe,H,t){t.d(H,{Wn:function(){return d},_b:function(){return S},bw:function(){return v}});var o=function(){function r(s){this.families=s}return Object.defineProperty(r.prototype,"family",{get:function(){return this.getFamily()},enumerable:!1,configurable:!0}),r.prototype.getFamily=function(){return this.families.join(", ")},Object.defineProperty(r.prototype,"css",{get:function(){return this.getCSS()},enumerable:!1,configurable:!0}),r.prototype.getCSS=function(){return this.families?this.families.map(function(s){return s.indexOf(" ")>-1?"'".concat(s,"'"):s}).join(", "):null},r}(),d={light:new o(["Segoe UI Light","wf_segoe-ui_light","helvetica","arial","sans-serif"]),semilight:new o(["Segoe UI Semilight","wf_segoe-ui_semilight","helvetica","arial","sans-serif"]),regular:new o(["Segoe UI","wf_segoe-ui_normal","helvetica","arial","sans-serif"]),semibold:new o(["Segoe UI Semibold","wf_segoe-ui_semibold","helvetica","arial","sans-serif"]),bold:new o(["Segoe UI Bold","wf_segoe-ui_bold","helvetica","arial","sans-serif"]),lightSecondary:new o(["wf_standard-font_light","helvetica","arial","sans-serif"]),regularSecondary:new o(["wf_standard-font","helvetica","arial","sans-serif"]),boldSecondary:new o(["wf_standard-font_bold","helvetica","arial","sans-serif"]),glyphs:new o(["PowerVisuals"])},v={"Segoe UI Light":d.light,"Segoe UI Semilight":d.semilight,"Segoe UI":d.regular,"Segoe UI Semibold":d.semibold,"Segoe (Bold)":d.bold,"Segoe UI Bold":d.bold,DIN:d.regularSecondary,"DIN Light":d.lightSecondary,Heading:d.light,Body:d.regular};function S(r,s){return void 0===s&&(s=!0),null==r||""===r?r:-1===r.indexOf(",")?-1===r.indexOf(" ")?r:s?function(r){if(r)return'"'+r.replace(/['"]+/g,"")+'"'}(r):function(r){if(r)return r.replace(/['"]+/g,"")}(r):r.split(",").map(function(i){return S(i.trim(),s)}).join(", ")}},577446:function(Xe,H,t){t.d(H,{U:function(){return e}});var e=function(o,d,v,S){this.left=o||0,this.top=d||0,this.width=v||0,this.height=S||0}},788260:function(Xe,H,t){t.d(H,{Sp:function(){return h},ao:function(){return i},fS:function(){return o},oY:function(){return u}});var e=t(402039);function o(a,n){return null!=a&&null!=n&&a.x===n.x&&a.y===n.y}function h(a,n){if(null===a||null===n)return null;var m=n.x-a.x,f=n.y-a.y;return Math.sqrt(m*m+f*f)}function u(a,n,m){var f=(n.y-a.y)*(m.x-n.x)-(n.x-a.x)*(m.y-n.y);return 0===f?e.i.Colinear:f>0?e.i.Clockwise:e.i.Counterclockwise}function i(a,n,m){return m.x<=Math.max(a.x,n.x)&&m.x>=Math.min(a.x,n.x)&&m.y<=Math.max(a.y,n.y)&&m.y>=Math.min(a.y,n.y)}},149512:function(Xe,H,t){function V(p,C){if(p&&C)return{x:C.x-p.x,y:C.y-p.y}}t.d(H,{Au:function(){return V}})},47102:function(Xe,H,t){t.d(H,{$X:function(){return V},Az:function(){return T},BD:function(){return w},F2:function(){return S},H6:function(){return O},HL:function(){return x},I:function(){return h},IH:function(){return f},Oq:function(){return s},WN:function(){return N},d9:function(){return a},f6:function(){return r},fS:function(){return i},hT:function(){return u},rr:function(){return p},w3:function(){return c},wf:function(){return R}});var e=t(498342),l=t(236090);function S(A){return A.left+A.width}function h(A){return A.top+A.height}function c(A){return{x:A.left,y:A.top}}function r(A){return{x:A.left+A.width,y:A.top}}function s(A){return{x:A.left,y:A.top+A.height}}function u(A){return{x:A.left+A.width,y:A.top+A.height}}function i(A,I){return null!=I&&A.left===I.left&&A.top===I.top&&A.width===I.width&&A.height===I.height}function a(A){return null!==A?{left:A.left,top:A.top,width:A.width,height:A.height}:null}function f(A,I){return e.fF.assertValue(A,"rect"),e.fF.assertValue(I,"rect2"),{left:A.left+I.left,top:A.top+I.top,height:A.height+I.height,width:A.width+I.width}}function V(A,I){return e.fF.assertValue(A,"rect"),e.fF.assertValue(I,"rect2"),{left:A.left-I.left,top:A.top-I.top,height:A.height-I.height,width:A.width-I.width}}function p(A,I){var B=a(A);return B?(I&&(B.left-=I.left,B.top-=I.top,B.width+=I.left+I.right,B.height+=I.top+I.bottom),B):null}function w(A,I,B){return void 0===B&&(B=!1),null!==A&&null!==I&&(B?(0,l.Po)(A.left,I.x)&&(0,l.Po)(I.x,A.left+A.width)&&(0,l.Po)(A.top,I.y)&&(0,l.Po)(I.y,A.top+A.height):(0,l.bl)(A.left,I.x)&&(0,l.bl)(I.x,A.left+A.width)&&(0,l.bl)(A.top,I.y)&&(0,l.bl)(I.y,A.top+A.height))}function x(A,I){return!(!A||!I||I.left>A.left+A.width||I.left+I.width<A.left||I.top>A.top+A.height||I.top+I.height<A.top)}function R(A,I){if(!A)return I;if(!I)return A;var B=Math.max(A.left,I.left),U=Math.max(A.top,I.top),W=Math.min(A.left+A.width,I.left+I.width),j=Math.min(A.top+A.height,I.top+I.height);return B<=W&&U<=j?{left:B,top:U,width:W-B,height:j-U}:{left:0,top:0,width:0,height:0}}function T(A){return{x:A.left+A.width/2,y:A.top+A.height/2}}function O(A,I){var B=I.width||0,U=I.height||0;A.left+A.width>B&&(A.left=Math.max(B-A.width,0)),A.top+A.height>U&&(A.top=Math.max(U-A.height,0)),A.left=Math.max(0,A.left),A.top=Math.max(0,A.top)}function N(A,I,B,U){return void 0!==A&&void 0!==I&&void 0!==B&&void 0!==U&&(e.fF.assert(function(){return A<=I},"Lower bound for range should not be greater than upper bound."),e.fF.assert(function(){return B<=U},"Lower bound for range should not be greater than upper bound."),(0,l.bl)(A,U)&&(0,l.bl)(B,I))}},233448:function(Xe,H,t){t.d(H,{m:function(){return d}});var e=t(402039),l=t(788260),o=t(47102),d=function(){function v(S){S&&(this.polygonPoints=this.convertArrayPathToPoints(S))}return v.fromPolygonPoints=function(S){var h=new v(null);return h.polygonPoints=S,h},v.prototype.absoluteCentroid=function(){return null==this._absoluteCentroid&&(this._absoluteCentroid=this.calculatePolygonCentroid()),this._absoluteCentroid},v.prototype.absoluteBoundingRect=function(){return null==this._absoluteBoundingRect&&(this._absoluteBoundingRect=this.calculateBoundingRect()),this._absoluteBoundingRect},v.prototype.contains=function(S){var c={x:S.left+S.width,y:S.top},r={x:S.left,y:S.top+S.height},s={x:S.left+S.width,y:S.top+S.height};return this.inside({x:S.left,y:S.top})&&this.inside(c)&&this.inside(r)&&this.inside(s)},v.prototype.conflicts=function(S){if(!this.isConflictWithBoundingBox(S))return!1;var c={x:S.left+S.width/2,y:S.top},r={x:S.left+S.width,y:S.top},s={x:S.left,y:S.top+S.height},u={x:S.left+S.width/2,y:S.top+S.height},i={x:S.left+S.width,y:S.top+S.height},a={x:S.left,y:S.top+S.height/2},n={x:S.left+S.width,y:S.top+S.height/2};return this.inside({x:S.left,y:S.top})||this.inside(c)||this.inside(r)||this.inside(s)||this.inside(u)||this.inside(i)||this.inside(a)||this.inside(n)},v.prototype.lineIntersectionPoint=function(S,h){for(var c=0;c<this.polygonPoints.length;c++){var u=this.getLineIntersection(S,h,this.polygonPoints[c],c===this.polygonPoints.length-1?this.polygonPoints[0]:this.polygonPoints[c+1]);if(null!==u)return u}return null},v.calculateAbsolutePolygonArea=function(S){var h,c=1,r=0;for(h=0;h<S.length;h++)r+=S[h].x*S[c].y-S[c].x*S[h].y,c=(c+1)%S.length;return.5*r},v.prototype.overlapPath=function(S){if(this.inside({x:S[0],y:S[1]}))return!0;var h=new v(S);if(h.inside(this.polygonPoints[0]))return!0;for(var c=0;c<this.polygonPoints.length;c++)if(h.lineIntersectionPoint(this.polygonPoints[c],this.polygonPoints[(c+1)%this.polygonPoints.length]))return!0;return!1},v.prototype.inside=function(S){for(var h=S.x,c=S.y,r=!1,s=0,u=this.polygonPoints.length-1;s<this.polygonPoints.length;u=s++){var i=this.polygonPoints[s].x,a=this.polygonPoints[s].y,m=this.polygonPoints[u].y;a>c!=m>c&&h<(this.polygonPoints[u].x-i)*(c-a)/(m-a)+i&&(r=!r)}return r},v.translateX=function(S,h){for(var c=new Float64Array(2*S.polygonPoints.length),r=0;r<S.polygonPoints.length;r++)c[2*r]=S.polygonPoints[r].x+h,c[2*r+1]=S.polygonPoints[r].y;return new v(c)},v.polygonBoundsOverlap=function(S,h){var c=(0,o.WN)(v.getPolyBoundLeft(S),v.getPolyBoundRight(S),v.getPolyBoundLeft(h),v.getPolyBoundRight(h)),r=(0,o.WN)(v.getPolyBoundLower(S),v.getPolyBoundUpper(S),v.getPolyBoundLower(h),v.getPolyBoundUpper(h));return c&&r},v.circleRectangleOverlap=function(S,h,c){var r=Math.max(S.left,Math.min(h.x,S.right)),s=Math.min(S.bottom,Math.max(h.y,S.top)),u=r-h.x,i=s-h.y;return u*u+i*i<=c*c},v.linesIntersect=function(S,h,c,r,s){void 0===s&&(s=!0);var u=(0,l.oY)(S,h,c),i=(0,l.oY)(S,h,r),a=(0,l.oY)(c,r,S),n=(0,l.oY)(c,r,h);return u!==i&&a!==n||!!s&&!!(u===e.i.Colinear&&(0,l.ao)(S,h,c)||i===e.i.Colinear&&(0,l.ao)(S,h,r)||a===e.i.Colinear&&(0,l.ao)(c,r,S)||n===e.i.Colinear&&(0,l.ao)(c,r,h))},v.resize=function(S,h){if(0===h)return S;for(var c=v.calculateAbsolutePolygonArea(S.polygonPoints)>0,s=_.clone(h>0&&!0===c||h<0&&!1===c?S.polygonPoints.reverse():S.polygonPoints),u=S.absoluteCentroid(),i=[],a=0;a<s.length;a++){var n=s[a],m=s[(a+1)%s.length],f=m.y-n.y,V=void 0;0!==f&&(V=-(m.x-n.x)/f);var p=0;_.isUndefined(V)||(p=(n.y<m.y?-1:1)*Math.sqrt(h*h/(1+V*V)));var C=0;0===p?C=(n.x>m.x?-1:1)*h:_.isUndefined(V)||(C=V*p);var b={x:n.x+p,y:n.y+C},y={x:0,y:0};0===V?(y.x=b.x,y.y=b.y+10):_.isUndefined(V)||(y.x=b.x+10,y.y=b.y-10/V);var D=(b.x-y.x)*(u.y-n.y)-(b.y-y.y)*(u.x-n.x);if(0!==D){var P={x:((b.x*y.y-b.y*y.x)*(u.x-n.x)-(b.x-y.x)*(u.x*n.y-u.y*n.x))/D,y:((b.x*y.y-b.y*y.x)*(u.y-n.y)-(b.y-y.y)*(u.x*n.y-u.y*n.x))/D};isFinite(P.x)&&isFinite(P.y)&&i.push(P)}}return v.fromPolygonPoints(i)},v.getPolyBoundLeft=function(S){var h;return null===(h=_.minBy(S.polygonPoints,function(c){return c.x}))||void 0===h?void 0:h.x},v.getPolyBoundRight=function(S){var h;return null===(h=_.maxBy(S.polygonPoints,function(c){return c.x}))||void 0===h?void 0:h.x},v.getPolyBoundUpper=function(S){var h;return null===(h=_.maxBy(S.polygonPoints,function(c){return c.y}))||void 0===h?void 0:h.y},v.getPolyBoundLower=function(S){var h;return null===(h=_.minBy(S.polygonPoints,function(c){return c.y}))||void 0===h?void 0:h.y},v.prototype.isConflictWithBoundingBox=function(S){return(0,o.HL)(this.absoluteBoundingRect(),S)},v.prototype.calculatePolygonCentroid=function(){var S,h,c,r,s,u;for(S=v.calculateAbsolutePolygonArea(this.polygonPoints),c=r=0,u=1,s=0;s<this.polygonPoints.length;s++)c+=(this.polygonPoints[s].x+this.polygonPoints[u].x)*(h=this.polygonPoints[s].x*this.polygonPoints[u].y-this.polygonPoints[u].x*this.polygonPoints[s].y),r+=(this.polygonPoints[s].y+this.polygonPoints[u].y)*h,u=(u+1)%this.polygonPoints.length;return{x:c/=6*S,y:r/=6*S}},v.prototype.calculateBoundingRect=function(){for(var S=Number.POSITIVE_INFINITY,h=Number.POSITIVE_INFINITY,c=Number.NEGATIVE_INFINITY,r=Number.NEGATIVE_INFINITY,s=0,u=this.polygonPoints;s<u.length;s++){var i=u[s];i.x<S?S=i.x:i.x>c&&(c=i.x),i.y<h?h=i.y:i.y>r&&(r=i.y)}return{left:S,top:h,width:c-S,height:r-h}},v.prototype.getLineIntersection=function(S,h,c,r){var s=S.x,u=S.y,n=c.x,m=c.y,p=h.x-s,C=h.y-u,b=r.x-n,y=r.y-m,D=(-C*(s-n)+p*(u-m))/(-b*C+p*y),P=(b*(u-m)-y*(s-n))/(-b*C+p*y);return D>=0&&D<=1&&P>=0&&P<=1?{x:s+P*p,y:u+P*C}:null},v.prototype.convertArrayPathToPoints=function(S){for(var h=[],c=0;c<S.length;c+=2)h.push({x:S[c],y:S[c+1]});return h},v}()},990669:function(Xe,H,t){t.d(H,{C$:function(){return d},Iq:function(){return r},T7:function(){return h},eg:function(){return o},mH:function(){return S},yf:function(){return v}});var e=t(562386),l=t(359234),o="ServerError_";function d(s,u,i){if(!u)return s;for(var a=0,n=u;a<n.length;a++){var m=n[a],f=i.getOptional(o+m.code),V=m.detail.value;0===m.detail.type&&(V=i.get(o+V)),s.displayableErrorInfo.push({errorInfoKey:f||m.code,errorInfoValue:V})}return s}function v(s,u,i,a,n){var m=s.debugErrorInfo=s.debugErrorInfo||[];return n&&m.push({errorInfoKey:e.j,errorInfoValue:n}),u&&m.push({errorInfoKey:e.zd,errorInfoValue:u}),i&&m.push({errorInfoKey:e.Bm,errorInfoValue:i}),a&&m.push({errorInfoKey:e.RU,errorInfoValue:a}),s}function S(s,u){return{message:s.get("ServiceError_CannotLoadVisual"),displayableErrorInfo:[{errorInfoKey:s.get("ServiceError_CannotLoadVisual"),errorInfoValue:u.message}]}}function h(s,u,i,a){var n,m={};if(i)if(_.isArray(i))for(var f=0,V=i;f<V.length;f++){var p=V[f];m[p.Key]=p.Value}else m=i;return n={message:c(s,u,m),displayableErrorInfo:[]},a&&d(n,a,s),n}function c(s,u,i){if(!u)return"";var a,n=s.get(o+u);return n&&(a=n.replace(/\{\s*([^}\s]+)\s*\}/g,function(m,f,V,p){return i[f]})),a}function r(s,u){var f,i="",a="",n="",m="",V=!1;switch(u.errorCode){case l.jt:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("PremiumRequired_TitleText"),n=s.get("ServerError_PremiumFilesModelRequiresPremiumCapacity"),V=!0;break;case l.$f:i=s.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),a=s.get("ServiceError_LargeModelMovedAcrossRegionsTitle"),n=c(s,"LargeModelMovedAcrossRegions",u.parameters),m="https://aka.ms/moving-large-datasets",V=!0;break;case l.ts:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelFetchingFailureKey"),n=s.get("DsrError_NoPermissionDueToRLSGroupMessage"),V=!0;break;case l.Fr:case l.x4:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelFetchingFailureKey"),n=s.get("DsrError_CanNotRetrieveModelMessage"),V=!0;break;case l.hR:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelFetchingFailureKey"),n=s.get("ServerError_DMTS_NoGatewayWithAllDatasourcesToBindError"),V=!0;break;case l.Lb:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelFetchingFailureKey"),n=s.get("ServerError_DM_GWPipeline_Client_GatewayUnreachable"),V=!0;break;case l.NC:i=s.get("ServiceError_CannotLoadVisual"),a=s.get("ServiceError_AuthenticationErrorKey"),n=s.get("ServiceError_AuthenticationErrorValue"),V=!0;break;case l.Ew:i=s.get("ServiceError_CannotLoadVisual"),a=s.get("ServiceError_AuthenticationErrorKey"),n=s.get("ServiceError_WindowsAuthNotSupportedErrorValue"),V=!0;break;case l.iQ:i=s.get("ServiceError_CannotLoadVisual"),a=s.get("ServiceError_AuthenticationErrorKey"),n=s.get("ServiceError_WindowsAuthImpersonationNotSupportedErrorValue"),V=!0;break;case l.zd:i=s.get("UploadPowerBICompanion_AccessDatasetWarning"),V=!0;break;case l.LM:i=s.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),a=s.get("ServiceError_InsecureLibraryLoadingPatchMissingTitle"),n=s.get("ServiceError_InsecureLibraryLoadingPatchMissingMessage"),V=!0;break;case l.rW:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("PremiumRequired_TitleText"),n=s.get("ServerError_BYOKEncryptedModelRequiresPremiumCapacity_Report"),V=!0;break;case l.me:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelCannotLoad"),n=s.get("ServerError_CustomerKeyNotAccessible_Report"),V=!0;break;case l.Bm:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelCannotLoad"),n=s.get("ServerError_CustomerKeyVaultError_Report"),V=!0;break;case l.Yu:i=s.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),a=s.get("ServiceError_ModelCannotLoad_CapacityLimitExceeded"),n=s.get("ServiceError_CapacityOverloadedMessage"),m="https://aka.ms/AboutFabricCapacity",V=!0,f="Capacity_Limit_Exceeded_LearnMore"}if(!V)switch(u.statusCode){case 2:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelConvertFailureKey"),n=s.get("ServiceError_ModelConvertFailureValue");break;case 3:i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelCreationFailureKey"),n=s.get("ServiceError_ModelCreationFailureValue");break;case 1:case 9:if(i=s.get("ServiceError_ModelCannotLoad"),a=s.get("ServiceError_ModelCannotLoad"),u.errorDetails){var p=_.find(u.errorDetails,function(b){return"ModelMode"===b.code});if(p)switch(p.detail.value){case"Internal":n=s.get("ServiceError_ModelConnectFailureInternalValue");break;case"ExternalOnPrem":n=s.get("ServiceError_ModelConnectFailureASLiveValue");break;case"ExternalService":n=s.get("ServiceError_ModelConnectFailurePBIServiceValue")}}n||(n=s.get("ServiceError_ModelFetchingFailureValue"));break;case 4:i=s.get("ServiceError_CannotLoadVisual"),a=s.get("ServiceError_ExecuteSemanticQueryErrorKey"),n=s.get("ServiceError_ExecuteSemanticQueryErrorValue");break;case 5:i=s.get("ServiceError_CannotLoadVisual"),a=s.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatKey"),n=s.get("ServiceError_ExecuteSemanticQueryInvalidStreamFormatValue");break;default:i=s.get("ServiceError_GeneralError"),a=s.get("ServiceError_GeneralErrorKey"),n=s.get("ServiceError_GeneralErrorValue")}var C={message:i,displayableErrorInfo:[{errorInfoKey:a,errorInfoValue:n}]};return u.errorCode===l.Yu&&(C.helpLinkType=1),f&&(C.helpLinkOverrideText=f),m&&(C.helpLink=m),C}},146234:function(Xe,H,t){t.d(H,{z:function(){return l}});var l=void 0!==window.performance&&window.performance.now&&window.performance.timeOrigin?function(){return window.performance.now()+window.performance.timeOrigin}:Date.now},880856:function(Xe,H,t){t.d(H,{n8:function(){return v},sI:function(){return d}});var e=t(498342),l=t(990669),o=t(359234),d=function(){function S(h){this.message=h.message?h.message:"",this.m_serviceError=h}return Object.defineProperty(S.prototype,"code",{get:function(){return this.m_serviceError.errorCode||S.codeName},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"requestId",{get:function(){return this.httpRequestId},set:function(c){this.httpRequestId=c},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"source",{get:function(){var c=this.m_serviceError.exceptionCulprit;if(null!=c)switch(c){case o.jJ:case o.aJ:return"PowerBI";case o.jV:return"External";case o.dB:return"User";default:return e.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}},enumerable:!1,configurable:!0}),S.prototype.getDetails=function(h){var c;return c=6===this.m_serviceError.statusCode?(0,l.mH)(h,this.m_serviceError):(0,l.Iq)(h,this.m_serviceError),this.m_serviceError.errorDetails&&(0,l.C$)(c,this.m_serviceError.errorDetails,h),(0,l.yf)(c,this.code,this.m_serviceError.message||null,this.m_serviceError.stackTrace||null,this.httpRequestId),c.source=this.source,c},S.codeName="ServiceErrorToClientError",S}(),v=function(){function S(h){this.innerError=h}return Object.defineProperty(S.prototype,"code",{get:function(){return this.innerError.code},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"ignorable",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(S.prototype,"source",{get:function(){var c=this.innerError["pbi.error"],r=c&&c.exceptionCulprit;if(null!=r)switch(r){case 0:return"PowerBI";case 2:return"External";case 1:return"User";default:return e.fF.assertFail("exceptionCulprit: unrecognized value"),"PowerBI"}},enumerable:!1,configurable:!0}),S.prototype.getDetails=function(h){var c=this.innerError["pbi.error"];if(c){var r=(0,l.T7)(h,c.code,c.parameters,c.details);return r.source=this.source,r}},S}()},359234:function(Xe,H,t){t.d(H,{$f:function(){return l},Bm:function(){return R},EL:function(){return p},Ew:function(){return i},Fr:function(){return d},KX:function(){return b},LM:function(){return C},Lb:function(){return c},NC:function(){return s},QW:function(){return v},Y:function(){return g},YT:function(){return a},Yu:function(){return L},_L:function(){return f},_e:function(){return V},aJ:function(){return P},b$:function(){return r},cq:function(){return n},dB:function(){return F},hR:function(){return h},iQ:function(){return u},jJ:function(){return D},jV:function(){return E},jt:function(){return e},me:function(){return x},qL:function(){return m},rW:function(){return w},ts:function(){return o},x4:function(){return S},zd:function(){return y}});var e="PremiumFilesModelRequiresPremiumCapacity",l="LargeModelMovedAcrossRegions",o="rsAccessDeniedDueToRLSGroup",d="rsCannotRetrieveModel",v="RLSNotAuthorizedForModel",S="CannotRetrieveModelError",h="DMTS_NoGatewayWithAllDatasourcesToBindError",c="DM_GWPipeline_UnknownError",r="DM_GWPipeline_Gateway_GatewayUpgradeRequired",s="pbidAccessDenied",u="pbidWindowsAuthWindowsAuthImpersonationNotSupported",i="pbidWindowsAuthNotSupported",a="PowerBIAdomdErrorResponseExternal",n="PowerBIAdomdErrorResponseSystem",m="PowerBIAdomdErrorResponseUser",f="ConnectionThrottledDueToCapacityOverload",V="DatasourceNotFound",p="DatabaseDoesNotExistOrUserDoesNotHavePermission",C="InsecureLibraryLoadingPatchMissing",b="MaximumAllowableMemoryReached",y="PowerBIServiceLiveConnectModelNotFound",D="System",P="PowerBI",F="User",E="External",w="BYOKEncryptedModelRequiresPremiumCapacity",x="CustomerKeyNotAccessible",R="CustomerKeyVaultError",g="rsOrphanedModel",L="CapacityLimitExceeded"},515854:function(Xe,H,t){t.d(H,{FM:function(){return h},VJ:function(){return v},Xr:function(){return l},tm:function(){return r}});var e=t(860931);function l(){return(0,e.wg)().build}function v(){return(0,e.wg)().clientVersion}function h(){return(0,e.wg)().cvUrl}function r(){return(0,e.wg)().visualCDNBlobContainerUrl}},428841:function(Xe,H,t){t.d(H,{P:function(){return l}});var e=t(498342);function l(){var d={GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",GeotaggingString_VRMBackCompat_CountryRegion:"CountryRegion",GeotaggingString_VRMBackCompat_StateOrProvince:"StateOrProvince"},v=function(){function S(h){this.getLocalized=h,this.GeotaggingString_VRMBackCompat_CountryRegion="CountryRegion",this.GeotaggingString_VRMBackCompat_StateOrProvince="StateOrProvince",this.ensureCategoriesArePopulated()}return S.prototype.ensureCategoriesArePopulated=function(){if(this.GeotaggingString_Continent)return!0;var h=this.getLocalized,c=h("GeotaggingString_Continent");return null==c?(e.fF.assertFail("We attempted to initialize the geotaggingAnalyzerService before getLocalized is initialized when the localization should be initialized first."),!1):(this.GeotaggingString_Continent=c.toLowerCase(),this.GeotaggingString_Continents=h("GeotaggingString_Continents").toLowerCase(),this.GeotaggingString_Country=h("GeotaggingString_Country").toLowerCase(),this.GeotaggingString_Countries=h("GeotaggingString_Countries").toLowerCase(),this.GeotaggingString_State=h("GeotaggingString_State").toLowerCase(),this.GeotaggingString_States=h("GeotaggingString_States").toLowerCase(),this.GeotaggingString_City=h("GeotaggingString_City").toLowerCase(),this.GeotaggingString_Cities=h("GeotaggingString_Cities").toLowerCase(),this.GeotaggingString_Town=h("GeotaggingString_Town").toLowerCase(),this.GeotaggingString_Towns=h("GeotaggingString_Towns").toLowerCase(),this.GeotaggingString_Province=h("GeotaggingString_Province").toLowerCase(),this.GeotaggingString_Provinces=h("GeotaggingString_Provinces").toLowerCase(),this.GeotaggingString_County=h("GeotaggingString_County").toLowerCase(),this.GeotaggingString_Counties=h("GeotaggingString_Counties").toLowerCase(),this.GeotaggingString_Village=h("GeotaggingString_Village").toLowerCase(),this.GeotaggingString_Villages=h("GeotaggingString_Villages").toLowerCase(),this.GeotaggingString_Post=h("GeotaggingString_Post").toLowerCase(),this.GeotaggingString_Zip=h("GeotaggingString_Zip").toLowerCase(),this.GeotaggingString_Code=h("GeotaggingString_Code").toLowerCase(),this.GeotaggingString_Place=h("GeotaggingString_Place").toLowerCase(),this.GeotaggingString_Places=h("GeotaggingString_Places").toLowerCase(),this.GeotaggingString_Address=h("GeotaggingString_Address").toLowerCase(),this.GeotaggingString_Addresses=h("GeotaggingString_Addresses").toLowerCase(),this.GeotaggingString_Street=h("GeotaggingString_Street").toLowerCase(),this.GeotaggingString_Streets=h("GeotaggingString_Streets").toLowerCase(),this.GeotaggingString_Longitude=h("GeotaggingString_Longitude").toLowerCase(),this.GeotaggingString_Longitude_Short=h("GeotaggingString_Longitude_Short").toLowerCase(),this.GeotaggingString_Longitude_Short2=h("GeotaggingString_Longitude_Short2").toLowerCase(),this.GeotaggingString_Latitude=h("GeotaggingString_Latitude").toLowerCase(),this.GeotaggingString_Latitude_Short=h("GeotaggingString_Latitude_Short").toLowerCase(),this.GeotaggingString_PostalCode=h("GeotaggingString_PostalCode").toLowerCase(),this.GeotaggingString_PostalCodes=h("GeotaggingString_PostalCodes").toLowerCase(),this.GeotaggingString_ZipCode=h("GeotaggingString_ZipCode").toLowerCase(),this.GeotaggingString_ZipCodes=h("GeotaggingString_ZipCodes").toLowerCase(),this.GeotaggingString_Territory=h("GeotaggingString_Territory").toLowerCase(),this.GeotaggingString_Territories=h("GeotaggingString_Territories").toLowerCase(),!0)},S.prototype.isLongitudeOrLatitude=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isLongitude(h)||this.isLatitude(h))},S.prototype.isGeographic=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isLongitudeOrLatitude(h)||this.isGeocodable(h))},S.prototype.isGeocodable=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isAddress(h)||this.isCity(h)||this.isContinent(h)||this.isCountry(h)||this.isCounty(h)||this.isStateOrProvince(h)||this.isPlace(h)||this.isPostalCode(h)||this.isTerritory(h))},S.prototype.isGeoshapable=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isCity(h)||this.isContinent(h)||this.isCountry(h)||this.isCounty(h)||this.isStateOrProvince(h)||this.isPostalCode(h)||this.isTerritory(h)||this.isPlace(h)||this.isGeoshapableEnglish(h))},S.prototype.isGeoshapableEnglish=function(h){return!!this.ensureCategoriesArePopulated()&&(this.isEnglishCity(h)||this.isEnglishContinent(h)||this.isEnglishCountry(h)||this.isEnglishCounty(h)||this.isEnglishStateOrProvince(h)||this.isEnglishPostalCode(h)||this.isEnglishTerritory(h)||this.isEnglishPlace(h))},S.prototype.isAddress=function(h){return S.hasMatches(h,[this.GeotaggingString_Address,this.GeotaggingString_Addresses,this.GeotaggingString_Street,this.GeotaggingString_Streets])},S.prototype.isPlace=function(h){return S.hasMatches(h,[this.GeotaggingString_Place,this.GeotaggingString_Places])},S.prototype.isCity=function(h){return S.hasMatches(h,[this.GeotaggingString_City,this.GeotaggingString_Cities,this.GeotaggingString_Town,this.GeotaggingString_Towns,this.GeotaggingString_Village,this.GeotaggingString_Villages])},S.prototype.isStateOrProvince=function(h){return S.hasMatches(h,[this.GeotaggingString_State,this.GeotaggingString_States,this.GeotaggingString_Province,this.GeotaggingString_Provinces,this.GeotaggingString_VRMBackCompat_StateOrProvince])},S.prototype.isCountry=function(h){return S.hasMatches(h,[this.GeotaggingString_Country,this.GeotaggingString_Countries,this.GeotaggingString_VRMBackCompat_CountryRegion])},S.prototype.isCounty=function(h){return S.hasMatches(h,[this.GeotaggingString_County,this.GeotaggingString_Counties])},S.prototype.isContinent=function(h){return S.hasMatches(h,[this.GeotaggingString_Continent,this.GeotaggingString_Continents])},S.prototype.isPostalCode=function(h){var c=S.hasMatches(h,[this.GeotaggingString_Post,this.GeotaggingString_Zip])&&S.hasMatches(h,[this.GeotaggingString_Code])||S.hasMatches(h,[this.GeotaggingString_PostalCode,this.GeotaggingString_PostalCodes,this.GeotaggingString_ZipCode,this.GeotaggingString_ZipCodes]);if(!c){var r=/\s+/,s=h.replace(r,"");c=S.hasMatches(s,[this.GeotaggingString_PostalCode.replace(r,""),this.GeotaggingString_PostalCodes.replace(r,""),this.GeotaggingString_ZipCode.replace(r,""),this.GeotaggingString_ZipCodes.replace(r,"")])}return c},S.prototype.isLongitude=function(h){return S.hasMatches(h,[this.GeotaggingString_Longitude])||S.hasMatches(h,[this.GeotaggingString_Longitude_Short],!0)||S.hasMatches(h,[this.GeotaggingString_Longitude_Short2],!0)},S.prototype.isLatitude=function(h){return S.hasMatches(h,[this.GeotaggingString_Latitude])||S.hasMatches(h,[this.GeotaggingString_Latitude_Short],!0)},S.prototype.isTerritory=function(h){return S.hasMatches(h,[this.GeotaggingString_Territory,this.GeotaggingString_Territories])},S.hasMatches=function(h,c,r){for(var s=/\W/,u=h.toLowerCase(),i=0,a=c.length;i<a;i++){var n=c[i].toLowerCase();if(r){var m=u.indexOf(n);if(m>-1){var f=void 0,V=void 0;if(f=V=!0,m-1>0&&(V=s.test(u[m-1])),m+n.length<u.length&&(f=s.test(u[m+n.length])),V&&f)return!0}}else if(u.indexOf(n)>-1)return!0}return!1},S.prototype.getFieldType=function(h){if(this.ensureCategoriesArePopulated()&&void 0!==h)return this.isLatitude(h)?"Latitude":this.isLongitude(h)?"Longitude":this.isPostalCode(h)?"PostalCode":this.isAddress(h)?"Address":this.isPlace(h)?"Place":this.isCity(h)?"City":this.isCountry(h)?"Country":this.isCounty(h)?"County":this.isStateOrProvince(h)?"StateOrProvince":this.isContinent(h)?"Continent":this.getEnglishFieldType(h)},S.prototype.getFieldTypeFromDescriptor=function(h){if(null!=h&&null!=h.geography){var c=h.geography;if(c.latitude)return"Latitude";if(c.longitude)return"Longitude";if(c.postalCode)return"PostalCode";if(c.address)return"Address";if(c.place)return"Place";if(c.city)return"City";if(c.country)return"Country";if(c.county)return"County";if(c.stateOrProvince)return"StateOrProvince";if(c.continent)return"Continent"}},S.prototype.isEnglishAddress=function(h){return S.hasMatches(h,[d.GeotaggingString_Address,d.GeotaggingString_Addresses,d.GeotaggingString_Street,d.GeotaggingString_Streets])},S.prototype.isEnglishPlace=function(h){return S.hasMatches(h,[d.GeotaggingString_Place,d.GeotaggingString_Places])},S.prototype.isEnglishCity=function(h){return S.hasMatches(h,[d.GeotaggingString_City,d.GeotaggingString_Cities,d.GeotaggingString_Town,d.GeotaggingString_Towns,d.GeotaggingString_Village,d.GeotaggingString_Villages])},S.prototype.isEnglishStateOrProvince=function(h){return S.hasMatches(h,[d.GeotaggingString_State,d.GeotaggingString_States,d.GeotaggingString_Province,d.GeotaggingString_Provinces,d.GeotaggingString_VRMBackCompat_StateOrProvince])},S.prototype.isEnglishCountry=function(h){return S.hasMatches(h,[d.GeotaggingString_Country,d.GeotaggingString_Countries,d.GeotaggingString_VRMBackCompat_CountryRegion])},S.prototype.isEnglishCounty=function(h){return S.hasMatches(h,[d.GeotaggingString_County,d.GeotaggingString_Counties])},S.prototype.isEnglishContinent=function(h){return S.hasMatches(h,[d.GeotaggingString_Continent,d.GeotaggingString_Continents])},S.prototype.isEnglishPostalCode=function(h){var c=S.hasMatches(h,[d.GeotaggingString_Post,d.GeotaggingString_Zip])&&S.hasMatches(h,[this.GeotaggingString_Code])||S.hasMatches(h,[d.GeotaggingString_PostalCode,d.GeotaggingString_PostalCodes,d.GeotaggingString_ZipCode,d.GeotaggingString_ZipCodes]);if(!c){var r=new RegExp("s");c=S.hasMatches(h,[d.GeotaggingString_PostalCode.replace(r,""),d.GeotaggingString_PostalCodes.replace(r,""),d.GeotaggingString_ZipCode.replace(r,""),d.GeotaggingString_ZipCodes.replace(r,"")])}return c},S.prototype.isEnglishLongitude=function(h){return S.hasMatches(h,[d.GeotaggingString_Longitude])||S.hasMatches(h,[d.GeotaggingString_Longitude_Short],!0)||S.hasMatches(h,[d.GeotaggingString_Longitude_Short2],!0)},S.prototype.isEnglishLatitude=function(h){return S.hasMatches(h,[d.GeotaggingString_Latitude])||S.hasMatches(h,[d.GeotaggingString_Latitude_Short],!0)},S.prototype.isEnglishTerritory=function(h){return S.hasMatches(h,[d.GeotaggingString_Territory,d.GeotaggingString_Territories])},S.prototype.getEnglishFieldType=function(h){if(null!=h){if(this.isEnglishLatitude(h))return"Latitude";if(this.isEnglishLongitude(h))return"Longitude";if(this.isEnglishPostalCode(h))return"PostalCode";if(this.isEnglishAddress(h))return"Address";if(this.isEnglishPlace(h))return"Place";if(this.isEnglishCity(h))return"City";if(this.isEnglishCountry(h))return"Country";if(this.isEnglishCounty(h))return"County";if(this.isEnglishStateOrProvince(h))return"StateOrProvince";if(this.isEnglishContinent(h))return"Continent"}},S}();return{create:function(h){return new v(h)}}}},498090:function(Xe,H,t){t.d(H,{O:function(){return d},p:function(){return o}});var l,e=t(498342);function o(){return new v}var d=function(c){return c[c.pending=0]="pending",c[c.resolved=1]="resolved",c[c.rejected=2]="rejected",c}({}),v=function(){function c(){}return c.prototype.defer=function(r){return new S($.Deferred())},c.prototype.reject=function(r){var s=this.defer();return s.reject(r),s.promise},c.prototype.resolve=function(r){var s=this.defer();return s.resolve(r),s.promise},c.prototype.all=function(r){return this.when.apply(this,r).then(function(){return Array.prototype.slice.call(arguments)})},c.prototype.allSettled=function(r){var s=this.defer(),u=r.length;if(u>0)for(var i=0,a=[],n=function(V){r[V].then(function(p){a[V]={value:p,type:0}}).catch(function(p){a[V]={value:p,type:1}}).finally(function(){++i===u&&s.resolve(a)})},m=0;m<u;m++)n(m);else s.resolve([]);return s.promise},c.prototype.when=function(){for(var r=[],s=0;s<arguments.length;s++)r[s]=arguments[s];var u=r.map(function(a){return a&&a.promise?a.promise:a});if(1===u.length){var i=u[0];return null!=i&&i.pipe?new h(i):this.resolve(i)}return new h($.when.apply($,u))},c}(),S=function(){function c(r){e.fF.assertValue(r,"deferred"),this.deferred=r,this.promise=new h(r.promise())}return c.prototype.resolve=function(r){this.deferred.resolveWith(this.deferred.promise,[r])},c.prototype.reject=function(r){this.deferred.rejectWith(this.deferred.promise,[r])},c}(),h=function(){function c(r){this[l]="Promise",e.fF.assertValue(r,"promise"),this.promise=r}return c.prototype.then=function(r,s){var u=c.wrapCallback(r),i=c.wrapCallback(s);return new c(this.promise.pipe(u||null,i))},c.prototype.catch=function(r){return this.then(null,r)},c.prototype.finally=function(r){return this.promise.always(c.wrapCallback(r)),this},c.wrapCallback=function(r){return r&&function(){var s=r.apply(this,arguments);return s instanceof c?s.promise:s}},c}();l=Symbol.toStringTag},521837:function(Xe,H,t){t.d(H,{LK:function(){return i},T5:function(){return u},y4:function(){return a}});var S,h,c,g,e=t(504898),l=t(660407),d="`",v=d+d,r=/^V:[12]-|^g:.* s:|(address|city|continent|country|county|postalcode|stateorprovince)$/;function u(g,L,M,T){b();var O=c[g];if(!O){R("information","ensuring localStorageCache ".concat(g));var N=h.caches[g];N&&N.version!==L&&(R("information","Clearing old version cache ".concat(g)),w(g),delete h.caches[g],y(),N=void 0),O=new p(g,M,T),c[g]=O,N||(R("information","Adding initial cache metadata for ".concat(g)),h.caches[g]={version:L,size:0,nextId:1,added:Date.now()},y(),P())}return O}function i(g){w(g),b();var L=h.caches[g];L&&(c[g]?h.caches[g]={version:L.version,size:0,nextId:1,added:Date.now()}:delete h.caches[g],y())}function a(g,L){if(g){var M=m(g),T=h.caches[g],O=[],N=0;S.forEach(function(U){if(M.test(U)){var W=S.getData(U);if(W&&W.added){var j=W.id,K=null;null!=j&&(K=f(g,j)),C(T.added)-W.added>L&&(K&&O.push(K),O.push(U),N+=W.size)}}}),T.size-=N,y();for(var A=0,I=O;A<I.length;A++)S.setData(I[A],void 0)}}function n(g,L){return d+g+"-"+L}function m(g){return new RegExp("^`"+g+"-")}function f(g,L){return v+g+"-"+L}S=l.DU,h=g,c={};var p=function(){function g(L,M,T){this.cacheName=L,this.maxSpace=M,this.maxAge=T,this.disabled=!1}return g.prototype.getData=function(L){if(!this.disabled){var M=n(this.cacheName,L),T=S.getData(M),O=T&&T.id;if(null!=O){var N=f(this.cacheName,O),A=h.caches[this.cacheName];if(C(A.added)-T.added<=this.maxAge)return S.getData(N);A.size-=T.size,y(),S.setData(N,void 0),S.setData(M,void 0)}}},g.prototype.setData=function(L,M){if(!this.disabled){if(!(h=D()))return void(this.disabled=!0);var T=n(this.cacheName,L),O=S.getData(T);void 0===M?this.removeEntry(T,O):this.setEntry(T,O,M)}},g.prototype.removeEntry=function(L,M){if(M){var T=M.size;null!=T&&(h.caches[this.cacheName].size-=T,y());var O=M.id;null!=O&&S.setData(f(this.cacheName,O),void 0)}S.setData(L,void 0)},g.prototype.setEntry=function(L,M,T){var O=h.caches[this.cacheName];if(!O)return this.disabled=!0,void R("error","Did't find cache metadata for ".concat(this.cacheName," in directory ").concat(JSON.stringify(h)));var N=C(O.added),A=M&&M.id;A?(M.added=N,O.size-=M.size):M={id:A=O.nextId++,added:N,size:0};var I=f(this.cacheName,A),B=JSON.stringify(T);M.size=B.length+L.length+I.length,M.size+=JSON.stringify(M).length,M.size+=1,O.size+=M.size,O.size>this.maxSpace&&(w(this.cacheName),O.added=Date.now(),O.nextId=2,M.added=C(O.added),M.id=1,I=f(this.cacheName,M.id),M.size=B.length+L.length+I.length,M.size+=JSON.stringify(M).length,M.size+=1,O.size=M.size),y(),S.setData(L,M),S.setJSONData(I,B)},g}();function C(g){return Math.floor((Date.now()-g)/6e4)}function b(){if(h=D()){if("2"===h.version)return;R("information","Clearing old verion ".concat(h.version," localStorage entries")),x(function(g){return g.length>0&&g[0]===d})}else R("information","Clearing obsolete localStorage entries"),x(function(g){return r.test(g)});h={version:"2",caches:{}},y(),P()}function y(){S.setData(v,h)}function D(){return S.getData(v)}function P(){try{var g=D();_.isEqual(g,h)||R("warning","Cache directory different after save: saved=".concat(JSON.stringify(h)," reloaded=").concat(JSON.stringify(g)))}catch(L){R("error","Error checking cache directory after save: ".concat(L&&L.stack?L.stack:JSON.stringify(L)))}}function w(g){var L=m(g),M=function(g){return new RegExp("^``"+g+"-")}(g);x(function(T){return L.test(T)||M.test(T)})}function x(g){var L=[];S.forEach(function(N){g(N)&&L.push(N)});for(var M=0,T=L;M<T.length;M++)S.setData(T[M],void 0);return L.length}function R(g,L){var M=window.jsCommon;!M||!M.Trace||e.f[g]("localStorageCache: "+L)}},660407:function(Xe,H,t){t.d(H,{DU:function(){return o},UD:function(){return d}});var e=function(){function v(){}return v.prototype.getData=function(S){try{if(localStorage){var h=localStorage[S];if(h)return JSON.parse(h)}}catch(c){}},v.prototype.setData=function(S,h){try{if(localStorage)return void(void 0===h?localStorage.removeItem(S):localStorage[S]=JSON.stringify(h))}catch(c){}},v.prototype.setJSONData=function(S,h){try{localStorage&&(void 0===h?localStorage.removeItem(S):localStorage[S]=h)}catch(c){}},v.prototype.forEach=function(S){try{if(!localStorage)return;for(var h=localStorage.length;h-- >0;)S(localStorage.key(h))}catch(c){}},v}(),l=function(){function v(S){this.cache={},this.clearCacheInterval=null!=S?S:v.defaultClearCacheInterval,this.clearCache()}return v.prototype.getData=function(S){return this.cache[S]},v.prototype.setData=function(S,h){var c=this;this.cache[S]=h,null==this.clearCacheTimerId&&(this.clearCacheTimerId=setTimeout(function(){return c.clearCache()},this.clearCacheInterval))},v.prototype.clearCache=function(){this.cache={},this.clearCacheTimerId=void 0},v.defaultClearCacheInterval=864e5,v}(),o=new e,d=new l},864380:function(Xe,H,t){t.d(H,{G2:function(){return c},hQ:function(){return S}});var e=t(973188),l=t(498342),o=t(146234),d=t(504898),v=t(382088),S=function(D,P,F,E){return new r(D,P,F,E)};function c(y){return!!y&&y instanceof Function}var r=function(){function y(D,P,F,E){this.promiseFactory=D,this.telemetry=P,this.options=(0,e.__assign)((0,e.__assign)({},E),{rjs:E&&E.rjs||window.require}),this.active={},l.fF.assertValue(this.options.rjs,"Could not load require.js."),F?(this.options.rjs.config(F),this.cssPaths=F.cssPaths,this.bundles=F.bundles):(this.cssPaths={},this.bundles={})}return y.prototype.require=function(D){var F,P=this;l.fF.assertValue(D,"moduleLoader: require Module Dependency has to be defined");var w,E=D.javascript;if(c(E))return this.loadModuleES6(D,E);if(E)w=E;else{if(!D.css)return this.promiseFactory.resolve();w=D.css.join(",")}var x=C(this.cssPaths,D.css,null!==(F=this.options.rtl)&&void 0!==F&&F,this.promiseFactory),R=this.active,g=R[w];if(g)return g;if(!E)return R[w]=x,x.finally(function(){return delete R[w]}),x.then(function(){return P.promiseFactory.resolve()});var L=function(y,D){for(var P in l.fF.assertValue(y,"script"),l.fF.assertValue(D,"bundles"),D)if(_.includes(D[P],y))return P}(E,this.bundles),M=this.promiseFactory.defer(!0),T=function(){return i(P.options.rjs,P.telemetry,E,function(U){return M.resolve(U)},function(U){return M.reject(U)})};if(null==L||this.options.rjs.defined(L))T();else{var O=(0,o.z)(),N=setTimeout(function(){d.f.warning("Module bundle load is delayed",void 0,{bundleName:L,duration:(0,o.z)()-O}),N=setTimeout(function(){d.f.warning("Module bundle load is very delayed",void 0,{bundleName:L,duration:(0,o.z)()-O}),N=void 0},P.options.delayedBundleLongInterval||1e6)},this.options.delayedBundleShortInterval||3e4);i(this.options.rjs,this.telemetry,L,function(){N||d.f.warning("Module bundle eventually loaded",void 0,{bundleName:L,duration:(0,o.z)()-O}),clearTimeout(N),T()},function(B){return M.reject(B)})}var I=this.promiseFactory.all([x,M.promise]).then(function(){return M.promise});return R[w]=I,I.finally(function(){return delete R[w]}),I},y.prototype.loadModuleES6=function(D,P){var F,E=P();return D.css?this.promiseFactory.all([C(this.cssPaths,D.css,null!==(F=this.options.rtl)&&void 0!==F&&F,this.promiseFactory),E]).then(function(){return E}):E},y}(),s=".js",u=".min.js";function i(y,D,P,F,E){if(l.fF.assertValue(y,"rjs"),l.fF.assertValue(P,"script"),l.fF.assertValue(F,"success"),l.fF.assertValue(E,"failure"),y.defined(P))F(y(P));else{var w=(0,v.BL)("moduleLoader.require('".concat(P,"')")),x=null==D?void 0:D.startEvent();y([P],function(){var L,R=window.parseTimeMarkers,g=P;R&&((L=R[P+u])?g+=u:(L=R[P+s])&&(g+=s));var M={start:L&&L.start,end:L&&L.end},T={start:L&&L.startEval,end:L&&L.endEval};null==x||x.resolve(g,M,T),w(),F(arguments[0])},function(R){null==x||x.reject(P),w(),E(R)})}}var n=document,m=n.head,f=n.createElement("link"),V=[],p=m.getElementsByTagName("script")[0];function C(y,D,P,F){var E,w;if(!D)return F.resolve();(null===(w=null===(E=m.getElementsByTagName("script"))||void 0===E?void 0:E[0])||void 0===w?void 0:w.src)!==(null==p?void 0:p.src)&&(p=m.getElementsByTagName("script")[0]);for(var x=["quill.core"],R=[],g=0,L=D;g<L.length;g++){var M=L[g],T=-1!==x.indexOf(M);if(M=y[M]||M,_.endsWith(M,".css")||(M+=".css"),P&&!T&&-1===M.indexOf(".rtl")&&(M=_.endsWith(M,".min.css")?M.replace(".min.css",".rtl.min.css"):M.replace(".css",".rtl.css")),-1===V.indexOf(M)){V.push(M);var O=b(M,F);R.push(O)}}return R.length?F.all(R):F.resolve()}function b(y,D){var P=f.cloneNode(),F=D.defer();return P.addEventListener("load",function(){return F.resolve()}),P.addEventListener("error",function(){return F.reject()}),P.href=y,p?m.insertBefore(P,p):m.appendChild(P),F.promise}f.setAttribute("rel","stylesheet")},725916:function(Xe,H,t){t.d(H,{k:function(){return l}});var e=t(498342);function l(d,v){return new o(d,v)}var o=function(){function d(v,S){this.deferMethod=v,this.drainMethod=S,this.asyncQueue=[],this.processing=!1}return d.prototype.defer=function(v,S){for(var h=[],c=2;c<arguments.length;c++)h[c-2]=arguments[c];e.fF.assertValue(v,"callback"),this.deferMethod?this.deferMethod(v):this.deferInternal(v,S,h)},d.prototype.drain=function(){this.drainMethod?this.drainMethod():this.drainQueue()},d.prototype.deferInternal=function(v,S){for(var h=this,c=[],r=2;r<arguments.length;r++)c[r-2]=arguments[r];!this.processing&&!this.asyncQueue.length&&setTimeout(function(){h.asyncQueue.length>0&&h.drainQueue()},S),this.asyncQueue.push({callback:v,args:c})},d.prototype.drainQueue=function(){this.processing=!0;for(var v=0,S=this.asyncQueue;v<S.length;v++){var h=S[v];h.callback(h.args)}this.asyncQueue.length=0,this.processing=!1},d}()},963470:function(Xe,H,t){t.d(H,{b:function(){return r}});var e=t(566464),l=t(498342),o=t(728409),d=t(236090),v=t(756846),S=t(417657),h=t(533462),c=t(660407),r=function(){function s(){}return s.setCanvasCtx=function(u){s.canvasCtx=u},s.ensureDOM=function(){var u;if(!s.canvasCtx){if(s.spanElement||(s.spanElement=$("<span></span>"),$("body").append(s.spanElement)),null==s.letterSpacing)try{var i=window.getComputedStyle(null===(u=s.spanElement)||void 0===u?void 0:u.get(0));i.letterSpacing.indexOf("px")>0&&(s.letterSpacing=+i.letterSpacing.replace("px",""))}catch(n){}s.svgTextElement||(s.svgTextElement=d3.select($("body").get(0)).append("svg").styles({height:"0px",width:"0px",position:"absolute"}).append("text")),s.canvasCtx=$("<canvas></canvas>").get(0).getContext("2d");var a=window.getComputedStyle(s.svgTextElement.node());s.fallbackFontFamily=a?a.fontFamily:""}},s.removeSpanElement=function(){s.spanElement&&s.spanElement.remove&&s.spanElement.remove(),s.spanElement=null},s.measureSvgTextWidth=function(u,i){if(l.fF.assertValue(u,"textProperties"),l.fF.assert(function(){return _.isEmpty(u.fontSize)||-1!==u.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!u||!u.fontSize)return 0;if(s.ensureDOM(),!s.canvasCtx)return((null!=i?i.length:null!=u.text&&u.text.length)||0)*(parseInt(u.fontSize,10)||9);if(!s.setCanvasFont(s.canvasCtx,u)||null==i&&null==u.text)return 0;var n=null!=i?i:u.text;return s.canvasCtx.measureText(n).width+(null!=s.letterSpacing?s.letterSpacing*n.length:0)},s.measureSvgTextRect=function(u,i){return l.fF.assertValue(u,"textProperties"),l.fF.assert(function(){return _.isEmpty(u.fontSize)||-1!==u.fontSize.indexOf("px")},"TextProperties' text size should be in px."),s.ensureDOM(),s.svgTextElement.text(i||u.text).attrs({visibility:"hidden","font-family":u.fontFamily||s.fallbackFontFamily,"font-variant":u.fontVariant,"font-size":u.fontSize,"font-weight":u.fontWeight,"font-style":u.fontStyle,"text-decoration":u.textDecoration||"none","white-space":u.whiteSpace||"nowrap"}),(0,S.jL)(s.svgTextElement.node())},s.measureSvgTextHeight=function(u,i){var a=s.measureSvgTextRect(u,i);return a?a.height:0},s.measureSvgGlyphHeight=function(u,i,a){l.fF.assert(function(){return-1!==u.indexOf("px")},"Font size should be in px."),s.ensureDOM(),s.svgTextElement.classed(i,!0).style("font-size",u).style("position","absolute").style("visibility","hidden");var m=s.measureSvgTextRect({fontFamily:null,fontSize:u},a);return s.svgTextElement.classed(i,!1).text(null).style("font-size",null).style("position",null).style("visibility",null),m?m.height:0},s.estimateSvgTextRect=function(u){l.fF.assertValue(u,"textProperties"),l.fF.assert(function(){return _.isEmpty(u.fontSize)||-1!==u.fontSize.indexOf("px")},"TextProperties' text size should be in px.");var i=(u.fontFamily||"")+(u.fontSize||""),a=c.UD.getData(i),n=null==a?void 0:a.rect,m={fontFamily:u.fontFamily,fontSize:u.fontSize,text:"M"},f=s.isFontLoaded(m);return null!=n&&a.fontLoaded||!1===f?null==n&&(n=s.measureSvgTextRect(m),c.UD.setData(i,{rect:n,fontLoaded:!1})):(n=s.measureSvgTextRect(m)).height>0&&c.UD.setData(i,{rect:n,fontLoaded:!0}),n},s.isFontLoaded=function(u){var i="16px",a=document.fonts,n=u.fontFamily,m=!1;if(s.fontLoadCache[n])return!0;if(a&&n)try{m=a.check(i+" "+n)}catch(p){}else{u.fontSize=i;var f=s.measureSvgTextRect(u),V=n?n.split(",")[0]:"";if(-1!==V.indexOf("Segoe UI"))m=(0,d.GG)(f.height,21.28,1e-5);else{if(-1===V.indexOf("wf_standard-font"))return null;m=(0,d.GG)(f.height,16.35,1e-5)}}return s.fontLoadCache[n]=m,m},s.clearFontLoadedCache=function(){s.fontLoadCache={}},s.estimateSvgTextBaselineDelta=function(u){var i=s.estimateSvgTextRect(u);return i.y+i.height},s.estimateSvgTextHeight=function(u,i){void 0===i&&(i=!1);var a=s.estimateSvgTextRect(u).height;return i&&(a*=.7),a},s.measureSvgTextElementWidth=function(u){return l.fF.assertValue(u,"svgElement"),s.measureSvgTextWidth(s.getSvgMeasurementProperties(u))},s.getMeasurementProperties=function(u){return l.fF.assertValue(u,"element"),{text:u.val()||u.text(),fontFamily:u.css("font-family"),fontSize:u.css("font-size"),fontWeight:u.css("font-weight"),fontStyle:u.css("font-style"),fontVariant:u.css("font-variant"),whiteSpace:u.css("white-space")}},s.getSvgMeasurementProperties=function(u){l.fF.assertValue(u,"svgElement");var i=window.getComputedStyle(u,null);return i?{text:u.textContent,fontFamily:i.fontFamily,fontSize:i.fontSize,fontWeight:i.fontWeight,fontStyle:i.fontStyle,fontVariant:i.fontVariant,whiteSpace:i.whiteSpace}:{text:u&&u.textContent,fontFamily:"",fontSize:"0"}},s.getDivElementWidth=function(u){l.fF.assert(function(){return u.is("div")},"Given element is not a div type. Cannot get width");var i=getComputedStyle(u[0]);return i?i.width:"0"},s.getTailoredTextOrDefault=function(u,i){if(l.fF.assertValue(u,"properties"),l.fF.assertValue(u.text,"properties.text"),l.fF.assert(function(){return _.isEmpty(u.fontSize)||-1!==u.fontSize.indexOf("px")},"TextProperties' text size should be in px."),!u||!u.fontSize)return"";s.ensureDOM();var a=u.text;if(!a||!s.canvasCtx||!s.setCanvasFont(s.canvasCtx,u))return"";var n=s.canvasCtx.measureText(a).width+(null!=s.letterSpacing?s.letterSpacing*a.length:0);if(n<=i)return a;for(var m=1,f=(a=s.ellipsis+a).length;m<f;){var V=m+f>>1,p=a.substr(0,V);i>(n=s.canvasCtx.measureText(p).width+(null!=s.letterSpacing?s.letterSpacing*p.length:0))?m=V+1:i<n?f=V-1:(m=V,f=V)}var C=a.substr(0,m);return(n=s.canvasCtx.measureText(a.substr(0,m)).width+(null!=s.letterSpacing?s.letterSpacing*C.length:0))>i&&m--,a.substr(s.ellipsis.length,m-s.ellipsis.length)+s.ellipsis},s.setCanvasFont=function(u,i){try{u.font=(i.fontStyle||"")+" "+(i.fontVariant||"")+" "+(i.fontWeight||"")+" "+i.fontSize+" "+(i.fontFamily||s.fallbackFontFamily)}catch(a){return!1}return!0},s.svgEllipsis=function(u,i,a){l.fF.assertValue(u,"textElement"),a||(a=s.getSvgMeasurementProperties(u));var n=a.text,m=s.getTailoredTextOrDefault(a,i);n!==m&&(u.textContent=m)},s.wordBreak=function(u,i,a,n){void 0===n&&(n=0),(0,o.x9)("powerbi.TextMeasurementService.wordBreak is deprecated. Use powerbi.visuals.TextUtil.wordBreak instead"),l.fF.assertValue(u,"textElement");var m=s.getSvgMeasurementProperties(u),f=s.estimateSvgTextHeight(m)+n,V=Math.max(1,Math.floor(a/f)),p=d3.select(u),C=p.attr("y"),b=u.textContent;u.textContent="";for(var y=(0,h.ql)(b,m,s.measureSvgTextWidth,i,V),D=0,P=y.length;D<P;D++)m.text=y[D],p.append("tspan").attrs({x:0,dy:0===D?C:f}).text(s.getTailoredTextOrDefault(m,i))},s.wordBreakOverflowingText=function(u,i,a,n){void 0===n&&(n=0),l.fF.assertValue(u,"textElement");var m=s.getSvgMeasurementProperties(u),f=s.estimateSvgTextHeight(m)+n,V=Math.max(1,Math.floor(a/f)),p=u.textContent;u.textContent="";var C=(0,h.ql)(p,m,s.measureSvgTextWidth,i,V);d3.select(u).selectAll(s.OverflowingText.selector).data(C).enter().append("span").classed(s.OverflowingText.class,!0).text(function(y){return y}).style("width",v.FP.toString(i))},s.ellipsis="\u2026",s.OverflowingText=(0,e.CH)("overflowingText"),s.letterSpacing=null,s.fontLoadCache={},s}()},402039:function(Xe,H,t){t.d(H,{i:function(){return e}});var e=function(l){return l[l.Clockwise=0]="Clockwise",l[l.Counterclockwise=1]="Counterclockwise",l[l.Colinear=2]="Colinear",l}({})},980101:function(Xe,H,t){t.d(H,{fJ:function(){return d},ng:function(){return S}});var e=t(365358),l=t(437555),o=t(498342),d=function(){function h(c,r,s){var u;this.basePickerColors=[{value:"#FFFFFF"},{value:"#000000"}],this.colors=c||S.getDefaultColors(),this.sentimentColors=r||S.defaultSentimentColors,this.gradientColors=s||S.defaultGradientColors,this.scales={},(u=this.basePickerColors).push.apply(u,_.take(this.colors,8))}return h.prototype.getColorScaleByKey=function(c){var r=this.scales[c];return void 0===r&&(r=this.createScale(),this.scales[c]=r),r},h.prototype.getNewColorScale=function(){return this.createScale()},h.prototype.getColorByIndex=function(c){var r=this;return o.fF.assert(function(){return c>=0&&c<r.colors.length},"index is out of bounds"),this.colors[c]},h.prototype.getSentimentColors=function(){return this.sentimentColors},h.prototype.getGradientColors=function(){return this.gradientColors},h.prototype.getBasePickerColors=function(){return this.basePickerColors},h.prototype.getBaseColors=function(){return _.take(this.colors,8)},h.prototype.getAllColors=function(){return this.colors},h.prototype.createScale=function(){return v.createFromColors(this.colors)},h}(),v=function(){function h(c){this.scale=c}return h.prototype.getColor=function(c){return this.scale(c)},h.prototype.clearAndRotateScale=function(){var c=this.scale.domain().length,r=(0,e.U1)(this.scale.range(),c);this.scale=d3.scaleOrdinal().range(r)},h.prototype.clone=function(){return new h(this.scale.copy())},h.prototype.getDomain=function(){return this.scale.domain()},h.createFromColors=function(c){return new h(d3.scaleOrdinal().range(c))},h}(),S=function(){function h(){}return h.getDefaultColors=function(){if(!h.defaultColors){h.defaultColors=[];for(var c=h.defaultBaseColors,r=0;r<h.colorSectorCount;++r)for(var s=0,u=c.length;s<u;++s){var i=(0,l.U1)(c[s].value,r/h.colorSectorCount);h.defaultColors.push({value:null!=i?i:c[s].value})}}return h.defaultColors},h.colorSectorCount=12,h.defaultBaseColors=[{value:"#01B8AA"},{value:"#374649"},{value:"#FD625E"},{value:"#F2C80F"},{value:"#5F6B6D"},{value:"#8AD4EB"},{value:"#FE9666"},{value:"#A66999"},{value:"#3599B8"},{value:"#DFBFBF"},{value:"#4AC5BB"},{value:"#5F6B6D"},{value:"#FB8281"},{value:"#F4D25A"},{value:"#7F898A"},{value:"#A4DDEE"},{value:"#FDAB89"},{value:"#B687AC"},{value:"#28738A"},{value:"#A78F8F"},{value:"#168980"},{value:"#293537"},{value:"#BB4A4A"},{value:"#B59525"},{value:"#475052"},{value:"#6A9FB0"},{value:"#BD7150"},{value:"#7B4F71"},{value:"#1B4D5C"},{value:"#706060"},{value:"#0F5C55"},{value:"#1C2325"},{value:"#7D3231"},{value:"#796419"},{value:"#303637"},{value:"#476A75"},{value:"#7E4B36"},{value:"#52354C"},{value:"#0D262E"},{value:"#544848"}],h.defaultSentimentColors={bad:{value:"#E81123"},neutral:{value:"#F2C811"},good:{value:"#3bb44a"}},h.defaultGradientColors={minColor:{value:"#FD625E"},midColor:{value:"#F5D33F"},maxColor:{value:"#01B8AA"},nullColor:{value:"#FF7F48"}},h}()},11641:function(Xe,H,t){t.d(H,{GK:function(){return u},Oy:function(){return r},Ue:function(){return d},V4:function(){return v},lQ:function(){return i},pe:function(){return s}});var e=t(498342),l=t(366769),o=t(980101);function d(a,n){void 0===a&&(a=new o.fJ);var m={foreground:{value:"#333333"},foregroundLight:{value:"#FFF"},foregroundDark:{value:"#000"},foregroundNeutralLight:{value:"#EAEAEA"},foregroundNeutralDark:{value:"#212121"},foregroundNeutralSecondary:{value:"#666666"},foregroundNeutralSecondaryAlt:{value:"#777777"},foregroundNeutralSecondaryAlt2:{value:"#888888"},foregroundNeutralTertiary:{value:"#A6A6A6"},foregroundNeutralTertiaryAlt:{value:"#C8C8C8"},foregroundSelected:{value:"#333333"},foregroundButton:{value:"#666666"},background:{value:"#FFF"},backgroundLight:{value:"#EAEAEA"},backgroundNeutral:{value:"#C8C8C8"},backgroundDark:{value:"#000"},tableAccent:{value:a.getColorByIndex(0).value},hyperlink:{value:"#1F3A93"},visitedHyperlink:{value:"#551A8B"},mapPushpin:{value:"#FF5F00"},shapeStroke:{value:"#01B8AA"},disabledText:{value:"#8C8C8C"},dataColors:a};return{isHighContrast:!1,colorPalette:m,textClasses:v(m,n),icons:{SignLow:{svgId:"SignLow",description:{resourceKey:"Icon_SignLow"}},SignMedium:{svgId:"SignMedium",description:{resourceKey:"Icon_SignMedium"}},CircleGreenPatternFill:{svgId:"CircleGreenPatternFill",description:{resourceKey:"Icon_CircleGreenPatternFill"}},CircleYellowPatternFill:{svgId:"CircleYellowPatternFill",description:{resourceKey:"Icon_CircleYellowPatternFill"}},CircleRedPatternFill:{svgId:"CircleRedPatternFill",description:{resourceKey:"Icon_CircleRedPatternFill"}},CircleBlackFill:{svgId:"CircleBlackFill",description:{resourceKey:"Icon_4CircleLow"}},CircleGrayPatternFill:{svgId:"CircleGrayPatternFill",description:{resourceKey:"Icon_CircleGrayPatternFill"}},CirclePurplePatternFill:{svgId:"CirclePurplePatternFill",description:{resourceKey:"Icon_CirclePurplePatternFill"}},CircleHigh:{svgId:"CircleHigh",description:{resourceKey:"Icon_CircleHigh"}},CircleMedium:{svgId:"CircleMedium",description:{resourceKey:"Icon_CircleMedium"}},CircleLow:{svgId:"CircleLow",description:{resourceKey:"Icon_4CircleHigh"}},"4CircleLow":{svgId:"4CircleLow",description:{resourceKey:"Icon_4CircleLow"}},CircleMedium1:{svgId:"CircleMedium1",description:{resourceKey:"Icon_CircleMedium1"}},"4CircleMedium2":{svgId:"4CircleMedium2",description:{resourceKey:"Icon_4CircleMedium2"}},CircleEmpty:{svgId:"CircleEmpty",description:{resourceKey:"Icon_CircleEmpty"}},Circle25:{svgId:"Circle25",description:{resourceKey:"Icon_Circle25"}},CircleHalf:{svgId:"CircleHalf",description:{resourceKey:"Icon_CircleHalf"}},Circle75:{svgId:"Circle75",description:{resourceKey:"Icon_Circle75"}},CircleFilled:{svgId:"CircleFilled",description:{resourceKey:"Icon_CircleFilled"}},CircleGreenBlackBackgroundPatternFill:{svgId:"CircleGreenBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleGreenBlackBackgroundPatternFill"}},CircleYellowBlackBackgroundPatternFill:{svgId:"CircleYellowBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleYellowBlackBackgroundPatternFill"}},CircleRedBlackBackgroundPatternFill:{svgId:"CircleRedBlackBackgroundPatternFill",description:{resourceKey:"Icon_CircleRedBlackBackgroundPatternFill"}},TrafficLow:{svgId:"TrafficLow",description:{resourceKey:"Icon_TrafficLow"}},TrafficMedium:{svgId:"TrafficMedium",description:{resourceKey:"Icon_TrafficMedium"}},TrafficHigh:{svgId:"TrafficHigh",description:{resourceKey:"Icon_TrafficHigh"}},TrafficBlackRimmed:{svgId:"TrafficBlackRimmed",description:{resourceKey:"Icon_TrafficBlackRimmed"}},CircleRedBlackOutlinePatternFill:{svgId:"CircleRedBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleRedBlackOutlinePatternFill"}},CircleYellowBlackOutlinePatternFill:{svgId:"CircleYellowBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleYellowBlackOutlinePatternFill"}},CircleGreenBlackOutlinePatternFill:{svgId:"CircleGreenBlackOutlinePatternFill",description:{resourceKey:"Icon_CircleGreenBlackOutlinePatternFill"}},TrafficLowLight:{svgId:"TrafficLowLight",description:{resourceKey:"Icon_TrafficLowLight"}},TrafficMediumLight:{svgId:"TrafficMediumLight",description:{resourceKey:"Icon_TrafficMediumLight"}},TrafficHighLight:{svgId:"TrafficHighLight",description:{resourceKey:"Icon_TrafficHighLight"}},TrafficBlackRimmedLight:{svgId:"TrafficBlackRimmedLight",description:{resourceKey:"Icon_TrafficBlackRimmedLight"}},ColoredArrowDown:{svgId:"ColoredArrowDown",description:{resourceKey:"Icon_ColoredArrowDown"}},ColoredArrowDownRight:{svgId:"ColoredArrowDownRight",description:{resourceKey:"Icon_ColoredArrowDownRight"}},ColoredArrowRight:{svgId:"ColoredArrowRight",description:{resourceKey:"Icon_ColoredArrowRight"}},ColoredArrowUpRight:{svgId:"ColoredArrowUpRight",description:{resourceKey:"Icon_ColoredArrowUpRight"}},ColoredArrowUp:{svgId:"ColoredArrowUp",description:{resourceKey:"Icon_ColoredArrowUp"}},ColoredArrowUpRed:{svgId:"ColoredArrowUpRed",description:{resourceKey:"Icon_ColoredArrowUpRed"}},ColoredArrowDownGreen:{svgId:"ColoredArrowDownGreen",description:{resourceKey:"Icon_ColoredArrowDownGreen"}},GreyArrowDown:{svgId:"GreyArrowDown",description:{resourceKey:"Icon_GreyArrowDown"}},GreyArrowDownRight:{svgId:"GreyArrowDownRight",description:{resourceKey:"Icon_GreyArrowDownRight"}},GreyArrowRight:{svgId:"GreyArrowRight",description:{resourceKey:"Icon_GreyArrowRight"}},GreyArrowUpRight:{svgId:"GreyArrowUpRight",description:{resourceKey:"Icon_GreyArrowUpRight"}},GreyArrowUp:{svgId:"GreyArrowUp",description:{resourceKey:"Icon_GreyArrowUp"}},FlagRedPatternFill:{svgId:"FlagRedPatternFill",description:{resourceKey:"Icon_FlagLow"}},FlagYellowPatternFill:{svgId:"FlagYellowPatternFill",description:{resourceKey:"Icon_FlagMedium"}},FlagGreenPatternFill:{svgId:"FlagGreenPatternFill",description:{resourceKey:"Icon_FlagHigh"}},FlagLow:{svgId:"FlagLow",description:{resourceKey:"Icon_FlagLow"}},FlagMedium:{svgId:"FlagMedium",description:{resourceKey:"Icon_FlagMedium"}},FlagHigh:{svgId:"FlagHigh",description:{resourceKey:"Icon_FlagHigh"}},FlagBlack:{svgId:"FlagBlack",description:{resourceKey:"Icon_FlagBlack"}},SymbolLow:{svgId:"SymbolLow",description:{resourceKey:"Icon_SymbolLow"}},SymbolMedium:{svgId:"SymbolMedium",description:{resourceKey:"Icon_SymbolMedium"}},SymbolHigh:{svgId:"SymbolHigh",description:{resourceKey:"Icon_SymbolHigh"}},CircleSymbolLow:{svgId:"CircleSymbolLow",description:{resourceKey:"Icon_CircleSymbolLow"}},CircleSymbolMedium:{svgId:"CircleSymbolMedium",description:{resourceKey:"Icon_CircleSymbolMedium"}},CircleSymbolHigh:{svgId:"CircleSymbolHigh",description:{resourceKey:"Icon_CircleSymbolHigh"}},StarLow:{svgId:"StarLow",description:{resourceKey:"Icon_StarLow"}},StarMedium:{svgId:"StarMedium",description:{resourceKey:"Icon_StarMedium"}},StarHigh:{svgId:"StarHigh",description:{resourceKey:"Icon_StarHigh"}},StarMediumLight:{svgId:"StarMediumLight",description:{resourceKey:"Icon_StarMediumLight"}},StarHighLight:{svgId:"StarHighLight",description:{resourceKey:"Icon_StarHighLight"}},TriangleLow:{svgId:"TriangleLow",description:{resourceKey:"Icon_TriangleLow"}},TriangleMedium:{svgId:"TriangleMedium",description:{resourceKey:"Icon_TriangleMedium"}},TriangleHigh:{svgId:"TriangleHigh",description:{resourceKey:"Icon_TriangleHigh"}},SignalBarEmpty:{svgId:"SignalBarEmpty",description:{resourceKey:"Icon_SignalBarEmpty"}},SignalBarLow:{svgId:"SignalBarLow",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMedium:{svgId:"SignalBarMedium",description:{resourceKey:"Icon_SignalBarMedium"}},SignalBarMedium2:{svgId:"SignalBarMedium2",description:{resourceKey:"Icon_SignalBarMedium2"}},SignalBarFull:{svgId:"SignalBarFull",description:{resourceKey:"Icon_SignalBarFull"}},SignalBarLowColored:{svgId:"SignalBarLowColored",description:{resourceKey:"Icon_SignalBarLow"}},SignalBarMediumColored:{svgId:"SignalBarMediumColored",description:{resourceKey:"Icon_SignalBarMediumColored"}},SignalBarMedium2Colored:{svgId:"SignalBarMedium2Colored",description:{resourceKey:"Icon_SignalBarMedium2Colored"}},SignalBarFullColored:{svgId:"SignalBarFullColored",description:{resourceKey:"Icon_SignalBarFullColored"}},QuadrantEmpty:{svgId:"QuadrantEmpty",description:{resourceKey:"Icon_QuadrantEmpty"}},Quadrant25:{svgId:"Quadrant25",description:{resourceKey:"Icon_Quadrant25"}},Quadrant50:{svgId:"Quadrant50",description:{resourceKey:"Icon_Quadrant50"}},Quadrant75:{svgId:"Quadrant75",description:{resourceKey:"Icon_Quadrant75"}},QuadrantFull:{svgId:"QuadrantFull",description:{resourceKey:"Icon_QuadrantFull"}},Quadrant25Colored:{svgId:"Quadrant25Colored",description:{resourceKey:"Icon_Quadrant25Colored"}},Quadrant50Colored:{svgId:"Quadrant50Colored",description:{resourceKey:"Icon_Quadrant50Colored"}},Quadrant75Colored:{svgId:"Quadrant75Colored",description:{resourceKey:"Icon_Quadrant75Colored"}},QuadrantFullColored:{svgId:"QuadrantFullColored",description:{resourceKey:"Icon_QuadrantFullColored"}}}}}function v(a,n,m){var f,V,p,C;if(void 0===m&&(m=!1),function(a){if(!a)return!1;for(var m=["color","fontSize","fontFace"],f=0,V=["callout","header","label","title"];f<V.length;f++){var C=a[V[f]];if(!C)return!1;for(var b=0,y=m;b<y.length;b++)if(!C[y[b]])return!1}return!0}(n)){n.callout.fontFace=S(null!==(f=n.callout.fontFace)&&void 0!==f?f:""),n.label.fontFace=S(null!==(V=n.label.fontFace)&&void 0!==V?V:""),n.title.fontFace=S(null!==(p=n.title.fontFace)&&void 0!==p?p:""),n.header.fontFace=S(null!==(C=n.header.fontFace)&&void 0!==C?C:"");var P={callout:n.callout,label:n.label,title:n.title,header:n.header,largeTitle:h(n.largeTitle,n.title,void 0,7/6),dataTitle:h(n.dataTitle,n.title,a.dataColors.getColorByIndex(0)),boldLabel:h(n.boldLabel,n.label,void 0,void 0,"700"),largeLabel:h(n.largeLabel,n.label,void 0,1.2),largeLightLabel:h(n.largeLightLabel,n.label,a.foregroundNeutralSecondary,1.2),lightLabel:h(n.lightLabel,n.label,a.foregroundNeutralSecondary),semiboldLabel:h(n.semiboldLabel,n.label,void 0,void 0,"600"),smallLabel:h(n.smallLabel,n.label,void 0,.9),smallLightLabel:h(n.smallLightLabel,n.label,a.foregroundNeutralSecondary,.9),smallDataLabel:h(n.smallDataLabel,n.label,a.dataColors.getColorByIndex(0),.9)};if(m){var F=a.foreground.value,E=void 0;for(E in P){var w=P[E];w.color?w.color.value=F:w.color={value:F}}}return P}}function S(a){var n=l.bw[a];return n?n.family:a}function h(a,n,m,f,V){if(a?null==a.color&&(a.color=m||n.color):a={color:m||n.color},null==a.fontSize){var p=_.toNumber(n.fontSize);e.fF.assert(function(){return!isNaN(p)},"visualStyle > applyTextClassDefaults: given textClass fontSize is NaN; cannot transform"),a.fontSize=(null==f?p:Math.round(p*f*10)/10)+""}if(null==a.fontWeight&&null!=V)switch(V){case"700":a.fontWeight="700";break;case"600":a.fontWeight="600";break;default:a.fontWeight=n.fontWeight}return a.fontFace=a.fontFace||n.fontFace,a}function r(){return{callout:{fontSize:"45",fontFace:"DIN",color:{value:"#252423"}},title:{fontSize:"12",fontFace:"DIN",color:{value:"#252423"}},header:{fontSize:"12",fontFace:"Segoe UI Semibold",color:{value:"#252423"}},label:{fontSize:"10",fontFace:"Segoe UI",color:{value:"#252423"}}}}function s(a,n){e.fF.assertValue(n,"EvalContext.getThemeColor - colorName should't be null");var m=a.colorPalette,f=m.dataColors.getGradientColors(),V=m.dataColors.getSentimentColors(),p=m[n]||f[n]||V[n];return e.fF.assertAnyValue(p,"getThemeColor - If this is not a theme color it's likely a custom color (like rgba),\n                we should consider updating dataViewObjectEvaluator logic to only call this if it's a theme color."),null==p?void 0:p.value}function u(a,n){var m;return e.fF.assertValue(a,"getThemeDataColor - visualStyle"),e.fF.assertValue(n,"getThemeDataColor - colorIdx"),null===(m=a.colorPalette.dataColors.getBasePickerColors()[n])||void 0===m?void 0:m.value}function i(a,n){return e.fF.assertValue(a,"getThemeIcon - visualStyle"),e.fF.assertValue(n,"getThemeIcon - iconId"),a.icons[n]}},504898:function(Xe,H,t){t.d(H,{f:function(){return s}});var e=t(498342),l=t(860931),o=t(345353),d=t(447751),v=t(55872),S=t(411639),c=new(function(){function u(){}return u.prototype.logTrace=function(i){},u}()),s=function(){function u(){}return u.assertFail=function(i){e.fF.assertValue(i,"message"),e.fF.assertFail(i),this.error(i,!0)},u.warning=function(i,a,n){e.fF.assertValue(i,"text"),this.logTraceInternal(new v.X(i,S.U.Warning,this.sessionId,a,n))},u.error=function(i,a,n,m){e.fF.assertValue(i,"text"),a&&(i=(0,d.W)("{0}.\nStack:\n{1}",i,(0,o.DH)())),this.logTraceInternal(new v.X(i,S.U.Error,this.sessionId,n,m))},u.information=function(i,a,n){e.fF.assertValue(i,"text"),this.logTraceInternal(new v.X(i,S.U.Information,this.sessionId,a,n))},u.verbose=function(i,a,n){e.fF.assertValue(i,"text"),this.logTraceInternal(new v.X(i,S.U.Verbose,this.sessionId,a,n))},u.addListener=function(i){e.fF.assertValue(i,"listener"),_.find(this.listeners,function(a){return a===i})||this.listeners.push(i)},u.removeListener=function(i){e.fF.assertValue(i,"listener");var a=this.listeners.indexOf(i);a>=0&&this.listeners.splice(a,1)},u.resetListeners=function(){this.listeners=new Array(c)},u.reset=function(){this.lastTraceIndex=-1},u.getTraces=function(){if(this.lastTraceIndex<0)return[];for(var i=new Array(this.lastTraceIndex+1),a=0;a<=this.lastTraceIndex;a++)i[a]=this.traces[a];return i},u.disableDefaultListener=function(){this.removeListener(c)},u.enableDefaultListener=function(){this.addListener(c)},u.logTraceInternal=function(i){this.lastTraceIndex+1>=1e3&&this.reset(),this.traces[++this.lastTraceIndex]=i;for(var a=0,n=this.listeners.length;a<n;a++)this.listeners[a].logTrace(i)},u.traces=new Array(1e3),u.lastTraceIndex=-1,u.listeners=new Array(c),u}();(0,l.kx)().Trace=s},55872:function(Xe,H,t){t.d(H,{X:function(){return e}});var e=function(){function l(o,d,v,S,h){this.text=o,this.type=d,this.sessionId=v,this.requestId=S,this.timeStamp=new Date,this.additionalInfo=h}return l.prototype.toString=function(){var o="";return o+="".concat(l.traceTypeStrings[this.type]," (").concat(this.timeStamp.toUTCString(),"): ").concat(this.text),this.requestId&&(o+="\n(Request id: "+this.requestId+")"),this.additionalInfo&&(o+="\nAdditional info: "+JSON.stringify(this.additionalInfo)),o},l.traceTypeStrings=["INFORMATION","VERBOSE","WARNING","ERROR","EXPECTEDERROR","UNEXPECTEDERROR","FATAL"],l}()},411639:function(Xe,H,t){t.d(H,{U:function(){return e}});var e=function(l){return l[l.Information=0]="Information",l[l.Verbose=1]="Verbose",l[l.Warning=2]="Warning",l[l.Error=3]="Error",l[l.ExpectedError=4]="ExpectedError",l[l.UnexpectedError=5]="UnexpectedError",l[l.Fatal=6]="Fatal",l}({})},352402:function(Xe,H,t){t.d(H,{Gg:function(){return l},ZA:function(){return e},dp:function(){return o},yR:function(){return d}});var e=function(){function v(){this.success=!0}return v.prototype.check=function(S,h,c){if(h(S))return c(S);this.success=!1},v.check=function(S){var h=new v;return S(h),h.success},v}();function l(v){return!!v}function o(v){return function(S){return l(S)&&S.length===v}}function d(v){return v}},273269:function(Xe,H,t){t.d(H,{DW:function(){return e},EP:function(){return o},NI:function(){return d},su:function(){return l}});var e=function(v){return v[v.Grouping=0]="Grouping",v[v.Measure=1]="Measure",v[v.GroupingOrMeasure=2]="GroupingOrMeasure",v}({}),l=function(v){return v[v.Create=0]="Create",v[v.Append=1]="Append",v[v.Segment=2]="Segment",v[v.None=3]="None",v}({}),o=function(v){return v[v.Data=2]="Data",v[v.Resize=4]="Resize",v[v.ViewMode=8]="ViewMode",v[v.Style=16]="Style",v[v.ResizeEnd=32]="ResizeEnd",v[v.FormattingSubSelectionChange=64]="FormattingSubSelectionChange",v[v.FormatModeChange=128]="FormatModeChange",v[v.FilterOptionsChange=256]="FilterOptionsChange",v[v.All=510]="All",v}({}),d=function(v){return{}}()},581386:function(Xe,H,t){t.d(H,{Z:function(){return l},y:function(){return o}});var e=t(498342),l=function(){function d(){}return d.NATURAL_LANGUAGE="NaturalLanguage",d}(),o=function(){return function(v){if(this.version=v.version,this.kind=v.kind,v.kind!==l.NATURAL_LANGUAGE)throw new TypeError("EditorState could not be instantiate to a defined kind.");var S=v.version;1===S?this.annotation={description:v.annotation.description,isAutoGenerated:v.annotation.isAutoGenerated,name:v.annotation.name,references:v.annotation.references,utterance:v.annotation.utterance}:e.fF.assertNever(S)}}()},817790:function(Xe,H,t){t.d(H,{c:function(){return l},q:function(){return o}});var e=t(581386),l=1;function o(d,v){return v===e.Z.NATURAL_LANGUAGE}},417666:function(Xe,H,t){t.d(H,{Wt:function(){return d},lb:function(){return o},ud:function(){return l}});var e=t(498342),l=function(){function v(){}return v.prototype.findProperty=function(S,h){var c=this.entities.withName(S);if(c&&!_.isEmpty(c.properties))return c.properties.withName(h)},Object.defineProperty(v.prototype,"isExtensionSchema",{get:function(){return this.hasOwnProperty("extends")},enumerable:!1,configurable:!0}),v.prototype.findHierarchy=function(S,h){var c=this.entities.withName(S);if(c&&!_.isEmpty(c.hierarchies))return c.hierarchies.withName(h)},v.prototype.findHierarchyLevel=function(S,h,c){var r=this.entities.withName(S);if(r&&!_.isEmpty(r.hierarchies)){var s=r.hierarchies.withName(h);if(s&&!_.isEmpty(s.levels))return s.levels.withName(c)}},v.prototype.findHierarchyByVariation=function(S,h,c,r){var s=this.findTargetEntityOfVariation(S,h,c);if(s&&!_.isEmpty(s.hierarchies))return s.hierarchies.withName(r)},v.prototype.findTargetEntityOfVariation=function(S,h,c){var r=this.entities.withName(S);if(r&&!_.isEmpty(r.properties)){var s=r.properties.withName(h);if(s){var u=s.column;if(u&&!_.isEmpty(u.variations)){var i=u.variations.withName(c);if(i)return i.navigationProperty?i.navigationProperty.targetEntity:r}}}},v.prototype.findPropertyWithKpi=function(S,h){e.fF.assertValue(h,"kpiProperty");var c=this.entities.withName(S);if(c&&!_.isEmpty(c.properties))for(var r=0,s=c.properties;r<s.length;r++){var u=s[r];if(u&&u.measure&&u.measure.kpi&&(u.measure.kpi.status===h||u.measure.kpi.goal===h))return u}},v.prototype.findVariationMappings=function(S){return this.variationMappings||(this.variationMappings=this.buildVariationMappings()),this.variationMappings[S]},v.prototype.findVariationToHierarchyMappings=function(S){var h=this.findVariationMappings(S);return _.filter(h,function(c){return c.variation.defaultHierarchy})},v.prototype.findTableNameFromMeasureName=function(S){return this.measureNameToTableName||(this.measureNameToTableName=this.buildMeasureNameToTableNameMappings()),this.measureNameToTableName[S]},Object.defineProperty(v.prototype,"isMultiDimensionalModel",{get:function(){return this.capabilities&&this.capabilities.normalizedFiveStateKpiRange},enumerable:!1,configurable:!0}),v.prototype.buildVariationMappings=function(){var S={};return _(this.entities).filter(function(h){return h.properties}).forEach(function(h){_(h.properties).filter(function(c){return c.column&&c.column.variations}).forEach(function(c){_(c.column.variations).filter(function(r){return r.navigationProperty&&r.navigationProperty.targetEntity}).forEach(function(r){var s=r.navigationProperty.targetEntity.name,u=S[s];u||(S[s]=u=[]),u.push({sourceEntity:h,sourceProperty:c,variation:r})})})}),S},v.prototype.buildMeasureNameToTableNameMappings=function(){for(var S={},h=0,c=this.entities;h<c.length;h++)for(var r=c[h],s=function(m){m.measure&&(e.fF.assert(function(){return!S[m.name]},"there is a collision for ".concat(m.name,"; every measure has a unqiue name in the model")),S[m.name]=r.name)},u=0,i=r.properties;u<i.length;u++)s(i[u]);return S},v}();function o(v){switch(v){case 0:return"None";case 1:return"Address";case 2:return"City";case 3:return"Company";case 4:return"Continent";case 5:return"Country";case 6:return"County";case 7:return"Date";case 8:return"Image";case 9:return"ImageUrl";case 10:return"Latitude";case 11:return"Longitude";case 12:return"Organization";case 13:return"Place";case 14:return"PostalCode";case 15:return"Product";case 16:return"StateOrProvince";case 17:return"WebUrl"}}function d(v){switch(v){case"None":return 0;case"Address":return 1;case"City":return 2;case"Company":return 3;case"Continent":return 4;case"Country":return 5;case"County":return 6;case"Date":return 7;case"Image":return 8;case"ImageUrl":return 9;case"Latitude":return 10;case"Longitude":return 11;case"Organization":return 12;case"Place":return 13;case"PostalCode":return 14;case"Product":return 15;case"StateOrProvince":return 16;case"WebUrl":return 17}}},414385:function(Xe,H,t){t.d(H,{P:function(){return l}});var e=function(d){return d[d.None=0]="None",d[d.Log=1]="Log",d}({});function l(d,v){if(d){var S;if(d.top&&(S={Top:{}},d.top.count&&(S.Top.Count=d.top.count)),d.bottom&&(S={Bottom:{}},d.bottom.count&&(S.Bottom.Count=d.bottom.count)),d.sample&&(S={Sample:{}},d.sample.count&&(S.Sample.Count=d.sample.count)),d.window&&(S={Window:{}},d.window.count&&(S.Window.Count=d.window.count)),d.binnedLineSample&&(S={BinnedLineSample:{}},null!=d.binnedLineSample.primaryScalarKey&&(S.BinnedLineSample.PrimaryScalarKey=d.binnedLineSample.primaryScalarKey),d.binnedLineSample.count&&(S.BinnedLineSample.Count=d.binnedLineSample.count),d.binnedLineSample.warningCount&&(S.BinnedLineSample.WarningCount=d.binnedLineSample.warningCount)),d.overlappingPointsSample){var h=d.overlappingPointsSample;S={OverlappingPointsSample:{}},h.count&&(S.OverlappingPointsSample.Count=h.count);var c=h.x;c&&1===_.size(c.role.items)&&(S.OverlappingPointsSample.X=o(v,c.role.items[0].queryName,c.transform));var r=h.y;r&&1===_.size(r.role.items)&&(S.OverlappingPointsSample.Y=o(v,r.role.items[0].queryName,r.transform))}return d.topNPerLevel&&(S={TopNPerLevel:{Count:d.topNPerLevel.count}}),S}}function o(d,v,S){var h={Index:_.findIndex(d,function(c){return c.name===v})};return S&&1===S&&(h.Transform=e.Log),h}},393308:function(Xe,H,t){t.d(H,{Ns:function(){return f},k4:function(){return m},od:function(){return i},s0:function(){return a}});var e=t(979868),l=t(669266),o=t(365358),d=t(498342),v=t(915925),S=t(512322),h=t(812454);function c(V,p,C){(0,e.un)(V)?(r(C),c(V.left,p,C.left),c(V.right,p,C.right)):(0,e.$Q)(V)?(d.fF.assert(function(){return(0,e.Lk)(V.left)||(0,e.kb)(V.left)||(0,e.t3)(V.left)||(0,e.iV)(V.left)},"expression.left should be fieldRef: entity/measure/column/aggregate"),r(C,V.left),d.fF.assert(function(){return(0,e.VC)(V.right)},"expression.right should be constant"),p.push(V.right)):d.fF.assertFail("identities should consists of COMPARE, AND, and should not reach to fieldRef(ENTITY/MEASURE/COLUMN/AGGREGATE) and CONSTANT exprs")}function r(V,p){p?V.value=p:(V.left={},V.right={})}function s(V,p){return!(!V||!p)&&(V.left&&V.right?!(!p.left||!p.right)&&s(V.left,p.left)&&s(V.right,p.right):V.value?!!p.value&&(0,l.fS)(V.value,p.value):(d.fF.assertFail("CompareTreeNode failed, invalid tree structure"),!1))}function u(V){if((0,h.yN)(V))return V.expr;d.fF.assertFail("selectors should be scoped identities")}function i(V){if(d.fF.assertValue(V,"selectorsByColumnArray"),V){for(var p={},C=[],b=[],y=[],D=[],P=[],F=[],E=0,w=V;E<w.length;E++){var x=w[E],R=[],g={};if(F.push(x.id),P.push(x.metadata),x.dataMap){for(var L in x.dataMap)for(var T=0,O=(0,o.rY)(x.dataMap[L]);T<O.length;T++){var N=O[T],A={},I=[],B={},U=_.indexOf(y,L);U<0&&(y.push(L),U=y.length-1),c(u(N),I,B);for(var W=-1,j=0;j<b.length;j++)if(s(B,b[j])){W=j;break}W<0&&(b.push(B),W=b.length-1),A[W]=I,g[U]=g[U]||[],g[U].push(W),R.push(A)}D.push(g),C.push(R)}}return!_.isEmpty(C)&&!_.isEmpty(C)&&(p.decomposedIdentities={values:C,columns:b}),!_.isEmpty(y)&&!_.isEmpty(D)&&(p.queryNames=y,p.queryNameMap=D),_.some(P,function(ee){return!!ee})&&(p.metadata=P),_.some(F,function(ee){return!!ee})&&(p.id=F),p}}function a(V){if(d.fF.assertValue(V,"filterExpressionMetadata"),V){var p={expressions:V.expressions},C=[],b=[],y=[];if(V.cachedValueItems){for(var D=0,P=V.cachedValueItems;D<P.length;D++){var F=P[D];y.push(F.valueMap);for(var E=[],w=0,x=F.identities;w<x.length;w++){var g={},L=[],M={};c(u(x[w]),L,g);for(var T=-1,O=0;O<b.length;O++)if(s(g,b[O])){T=O;break}T<0&&(b.push(g),T=b.length-1),M[T]=L,E.push(M)}C.push(E)}p.decomposedIdentities={values:C,columns:b},p.valueMap=y}return p}}function n(V,p,C){if(p.left&&p.right){var b=n(V,p.left,C),y=n(V,p.right,C);return(0,S.xD)(b,y)}if(p.value){var D=p.value,P=V[C.index++];return d.fF.assert(function(){return(0,e.Lk)(D)||(0,e.kb)(D)||(0,e.t3)(D)||(0,e.iV)(D)},"expression.left should be fieldRef: entity/measure/column/aggregate"),d.fF.assert(function(){return(0,e.VC)(P)},"expression.right should be constant"),(0,S.qu)(0,D,P)}d.fF.assertFail("DecomposedTree should either have left and right Tree, or a valid value")}function m(V){if(d.fF.assertValue(V,"decomposedSelectors"),V){var p=[],C=V.decomposedIdentities&&V.decomposedIdentities.values,b=V.decomposedIdentities&&V.decomposedIdentities.columns,y=V.queryNames,D=V.queryNameMap;if(C&&b)for(var P=0;P<C.length;P++){var F=C[P];(E={dataMap:{}}).metadata=V.metadata&&V.metadata[P],E.id=V.id&&V.id[P];for(var w=D[P],x=0,R=F;x<R.length;x++)for(var g=R[x],M=0,T=_.keys(g);M<T.length;M++){var N=_.toNumber(T[M]);for(var A in w){var I=w[A];if(_.indexOf(I,N)>=0){var B=y[A],j=n(g[N],b[N],{index:0}),K=(0,v.TZ)(j);E.dataMap[B]=E.dataMap[B]||[],E.dataMap[B].push(K),_.pull(I,N);break}}}p.push(E)}else{if(!_.isEmpty(V.metadata))for(var ee=0,ie=V.metadata;ee<ie.length;ee++)(E={}).metadata=ie[ee],p.push(E);if(!_.isEmpty(V.id)){var q=_.isEmpty(p);for(P=0;P<V.id.length;P++){var E;(E=q?{}:p[P]).id=V.id[P],q&&p.push(E)}}}return p}}function f(V){if(d.fF.assertValue(V,"decomposedSelectors"),V){var p={expressions:V.expressions},C=V.decomposedIdentities&&V.decomposedIdentities.values,b=V.decomposedIdentities&&V.decomposedIdentities.columns,y=[];if(C&&b){for(var D=0;D<C.length;D++){for(var F=[],E=0,w=C[D];E<w.length;E++){var x=w[E];for(var R in x){var M=n(x[R],b[R],{index:0}),T=(0,v.TZ)(M);F.push(T)}}y.push({identities:F,valueMap:V.valueMap[D]})}_.isEmpty(y)||(p.cachedValueItems=y),V.jsonFilter&&(p.jsonFilter=V.jsonFilter)}return p}}},495130:function(Xe,H,t){t.d(H,{D5:function(){return s},DX:function(){return p},Vt:function(){return r},cb:function(){return h},d9:function(){return c},iA:function(){return V},if:function(){return m},of:function(){return f},sz:function(){return C},wy:function(){return u}});var e=t(973188),l=t(669266),o=t(365358),d=t(498342),v=t(930550),S=t(812454),h=function(){function b(y,D){void 0===D&&(D={}),d.fF.assertNonEmpty(y,"Empty roles"),this.roles=y,this.root={identityValues:null,children:[],parent:null},this.levels=[];var F=D.canCollapseRoot,E=D.collapseParentAfterRemovingChildLevel;this.supportsMerge=!!D.supportsMerge,this.canCollapseRoot=!!F,this.collapseParentAfterRemovingChildLevel=!!E}return b.prototype.updateLevels=function(y,D){if(!_.isEmpty(y)&&(0!==D||this.canCollapseRoot)){d.fF.assert(function(){return D<=_.size(y)},"Number of active projections cannot be greater than the number of projections");var P=y.length,F=this.levels;this.levels=new Array(P);for(var E=0;E<P;E++){var w=E>=D-1,x=F[E],R=[y[E]];x&&_.isEqual(x.queryRefs,R)?(this.levels[E]=x,x.isCollapsed=w):this.levels[E]={isCollapsed:w,queryRefs:R,toggledNodes:[]}}this.canCollapseRoot&&(0===D?this.root.isToggled=!0:delete this.root.isToggled),this.pinLevels(D)}},b.prototype.clone=function(){for(var y=this,D={supportsMerge:this.supportsMerge,canCollapseRoot:this.canCollapseRoot,collapseParentAfterRemovingChildLevel:this.collapseParentAfterRemovingChildLevel},P=new b(_.clone(this.roles),D),F=new Array(this.levels.length),E=0;E<this.levels.length;E++)F[E]=[];return P.levels=_.map(this.levels,function(w,x){return y.cloneExpansionLevel(w,F,x)}),P.root=this.cloneExpansionNode(this.root,null,F,-1),P},b.prototype.isStateModified=function(){return _.some(this.levels,function(y){return!y.isCollapsed})||!_.isEmpty(this.root.children)},b.prototype.addLevel=function(y,D){var P=this;d.fF.assert(function(){return P.supportsMerge});var F=_.findLastIndex(this.levels,function(g){return g.isPinned}),E={isCollapsed:!0,queryRefs:[y],toggledNodes:[],isPinned:D<=F||void 0};d.fF.assert(function(){return D<=_.size(P.levels)},"position > count of levels");for(var w=_.findIndex(this.levels,function(g){return!_.isEmpty(g.toggledNodes)},D),R=-1===w?D:w;R<_.size(this.levels);R++)this.setLevelState(R,!0);if(this.levels.splice(D,0,E),this.unlockLevels(D),E.isPinned)for(R=0;R<D;R++)delete this.levels[R].AIInformation},b.prototype.removeLevel=function(y){var P,D=this;d.fF.assert(function(){return D.supportsMerge}),d.fF.assert(function(){return y>=0&&y<_.size(D.levels)},"invalid level position"),this.collapseParentAfterRemovingChildLevel&&(P=this.getVisibleDescendentsDepth(this.root,-1)),this.removeIntermediateNodes(this.root,-1,function(F){return F===y}),this.levels.splice(y,1),this.collapseParentAfterRemovingChildLevel&&y>0&&y===P-1&&this.setLevelState(y-1,!0),y<_.size(this.levels)&&this.unlockLevels(y)},b.prototype.moveLevels=function(y,D,P){var F,E=this;d.fF.assert(function(){return E.supportsMerge}),d.fF.assert(function(){return y<_.size(E.levels)},"sourceIndex >= count of level"),d.fF.assert(function(){return D<_.size(E.levels)},"targetIndex >= count of level");var w=_.findLastIndex(this.levels,function(T){return T.isPinned}),x=Math.min(y,D);if(D>y){d.fF.assert(function(){return y+P<=_.size(E.levels)},"sourceIndex + count exceeds level count"),this.removeIntermediateNodes(this.root,-1,function(T){return T>=y&&T<y+P});for(var R=y;R<Math.min(y+P,_.size(this.levels));R++)this.levels[R].toggledNodes=[]}var g=this.levels.splice(y,P);(F=this.levels).splice.apply(F,(0,e.__spreadArray)([D,0],g||[],!1));var L=_.findIndex(this.levels,function(T){return!_.isEmpty(T.toggledNodes)},D);for(R=-1===L?D:L;R<_.size(this.levels);R++)this.setLevelState(R,!0);if(this.unlockLevels(x),y>w&&D<=w?_.forEach(g,function(T){return T.isPinned=!0}):y<=w&&D>w&&_.forEach(g,function(T){return T.isPinned=!1}),_.forEach(g,function(T){return delete T.AIInformation}),this.levels[D].isPinned)for(R=0;R<D;R++)delete this.levels[R].AIInformation},b.prototype.getVisibleDescendentsDepth=function(y,D){var P=this.levels.length;if(d.fF.assert(function(){return D<P},"node out of bounds"),-1===D&&this.canCollapseRoot&&y.isToggled)return 0;for(var F=[y];;){if(D===P-1)return D+1;for(var E=this.levels[D]&&this.levels[D].isCollapsed,w=void 0,x=[],R=0,g=F;R<g.length;R++){var L=g[R];!E==!L.isToggled&&(x.push.apply(x,L.children||[]),w=!0)}if(w&&D++,!(x.length>0))break;F=x}for(;D<P-1&&(-1===D||!this.levels[D].isCollapsed);)D++;return D+1},b.prototype.removeIntermediateNodes=function(y,D,P){var F=this;if(P(D)){var E=!!y.isToggled!=!!this.levels[D].isCollapsed;_.pull(y.parent.children,y),_.forEach(y.children,function(w){E&&(w.isToggled=!F.levels[D+1].isCollapsed),w.parent=y.parent,y.parent.children.push(w)})}_.forEach((0,e.__spreadArray)([],y.children||[],!0),function(w){return F.removeIntermediateNodes(w,D+1,P)})},b.prototype.cloneExpansionLevel=function(y,D,P){return{isCollapsed:y.isCollapsed,identityKeys:this.cloneExpressionList(y.identityKeys),queryRefs:_.clone(y.queryRefs),toggledNodes:D[P],isPinned:y.isPinned,isLocked:y.isLocked,AIInformation:y.AIInformation?{method:y.AIInformation.method,disabled:y.AIInformation.disabled}:void 0}},b.prototype.cloneExpansionNode=function(y,D,P,F){var E={identityValues:this.cloneExpressionList(y.identityValues),children:[],parent:D};void 0!==y.isToggled&&(E.isToggled=y.isToggled),F>=0&&P[F].push(E);for(var w=0,x=y.children;w<x.length;w++)E.children.push(this.cloneExpansionNode(x[w],E,P,F+1));return E},b.prototype.cloneExpressionList=function(y){return y?_.map(y,function(D){return D}):null},b.prototype.setNodeState=function(y,D){var P=this;if(y&&_.isEmpty(y.data))return d.fF.assert(function(){return P.canCollapseRoot},"Collapse to root capability is not enabled"),D?this.root.isToggled=!0:delete this.root.isToggled,this.root;var F=(0,S.CT)(y);if(F){for(var E=F.length,w=this.root,x=0;x<E;x++){var R=F[x],g=(0,v.RR)(R.expr);if(!this.ensureLevel(x,g))return;var M=(0,v.KX)(R.expr);w=this.ensureChildNode(x,w,M,x===E-1?D:void 0)}if(!this.pruneNonToggledLeaf(w))return w}},b.prototype.ensureLevel=function(y,D){var P=this.levels[y];if(d.fF.assertValue(P,"level does not exist"),P.identityKeys){if(!(0,o.NF)(P.identityKeys,D,l.fS))return}else P.identityKeys=D;return P},b.prototype.ensureChildNode=function(y,D,P,F){d.fF.assertValue(D,"parent"),d.fF.assertValue(P,"identityValues"),d.fF.assertValue(y>=0,"levelIdx >= 0");var E=this.levels[y];d.fF.assertValue(E,"level does not exist");var w=this.findNodeMatchingIdentities(D.children,P);return w||D.children.push(w={children:[],identityValues:P,parent:D}),void 0!==F&&(F!==!!E.isCollapsed?(w.isToggled=!0,_.indexOf(E.toggledNodes,w)<0&&E.toggledNodes.push(w)):(delete w.isToggled,E.toggledNodes=_.filter(E.toggledNodes,function(x){return x!==w}))),w},b.prototype.pruneNonToggledLeaf=function(y){d.fF.assertValue(y,"node");for(var D=!1;y.parent&&!y.isToggled&&_.isEmpty(y.children);)y.parent.children=_.filter(y.parent.children,function(P){return P!==y}),y=y.parent,D=!0;return D},b.prototype.setLevelState=function(y,D){var P=this;if(-1===y)return d.fF.assert(function(){return P.canCollapseRoot},"Collapse to root capability is not enabled"),void(D?this.root.isToggled=!0:delete this.root.isToggled);d.fF.assert(function(){return y>-1},"levelIdx");var F=this.levels[y];if(F){F.isCollapsed=D;for(var E=0,w=F.toggledNodes;E<w.length;E++){var x=w[E];delete x.isToggled,this.pruneNonToggledLeaf(x)}F.toggledNodes=[]}},b.prototype.pinLevels=function(y){var D=this;d.fF.assert(function(){return y<=_.size(D.levels)},"Requested pinning of too many levels");for(var P=0;P<Math.min(y,_.size(this.levels));P++)this.levels[P].isPinned=!0},b.prototype.unpinLevels=function(y){var D=this;d.fF.assert(function(){return y<_.size(D.levels)},"Level does not exist");var P=this.getVisibleDescendentsDepth(this.root,-1);d.fF.assert(function(){return y>=P-1},"cannot unpin projected level");for(var F=Math.max(y,P-1);F<_.size(this.levels);F++)delete this.levels[F].isPinned},b.prototype.lockLevels=function(y){var D=this;d.fF.assert(function(){return y<=_.size(D.levels)},"Requested locking of too many levels");for(var P=0;P<Math.min(y,_.size(this.levels));P++)this.levels[P].isLocked=!0},b.prototype.unlockLevels=function(y){var D=this;d.fF.assert(function(){return y<_.size(D.levels)},"Level does not exist");for(var P=y;P<_.size(this.levels);P++)delete this.levels[P].isLocked},b.prototype.setAILevelInformation=function(y,D){var P=this;d.fF.assert(function(){return y<_.size(P.levels)},"Level does not exist"),D?this.levels[y].AIInformation=_.cloneDeep(D):delete this.levels[y].AIInformation},b.prototype.getAILevelInformation=function(y){var D=this;return d.fF.assert(function(){return y<_.size(D.levels)},"Level does not exist"),_.cloneDeep(this.levels[y].AIInformation)},b.prototype.isWholeLevelExpanded=function(y){var D=this.levels[y];return!D||!D.isCollapsed&&_.isEmpty(D.toggledNodes)},b.prototype.isHierarchyExpanded=function(){var y=this;d.fF.assertNonEmpty(this.levels,"levels"),d.fF.assert(function(){return y.isWholeLevelCollapsed(y.levels.length-1)},"Last level should be collapsed");for(var D=0;D<this.levels.length-1;D++)if(!this.isWholeLevelExpanded(D))return!1;return!0},b.prototype.isWholeLevelCollapsed=function(y){var D=this.levels[y];return D&&D.isCollapsed&&_.isEmpty(D.toggledNodes)},b.prototype.getNodeLevelState=function(y,D,P){if(d.fF.assertNonEmpty(y,"identities"),d.fF.assert(function(){return P>=0},"levelIndex >= 0"),P>=this.levels.length)return{isNodeCollapsed:!1,levelHasToggledNodes:!1};var F=y[0],E=this.ensureLevel(P,(0,v.RR)(F.expr));if(E){var R,w=!_.isEmpty(E.toggledNodes),x=(0,v.KX)(F.expr);return D&&(R=this.findNodeMatchingIdentities(D.children,x)),1===y.length?R?{isNodeCollapsed:R.isToggled?!E.isCollapsed:E.isCollapsed,levelHasToggledNodes:w}:{isNodeCollapsed:E.isCollapsed,levelHasToggledNodes:w}:(y.splice(0,1),this.getNodeLevelState(y,R,P+1))}},b.prototype.rewrite=function(y){for(var D=0,P=this.levels;D<P.length;D++){var F=P[D];F.identityKeys&&(F.identityKeys=_.map(F.identityKeys,function(E){return E.accept(y)}))}return this.root=this.rewriteNodeExpansionState(this.root,y),this},b.prototype.rewriteNodeExpansionState=function(y,D){var P=this;return y.identityValues&&(y.identityValues=_.map(y.identityValues,function(F){return F.accept(D)})),y.children=_.map(y.children,function(F){return P.rewriteNodeExpansionState(F,D)}),y},b.prototype.findNodeMatchingIdentities=function(y,D){return _.find(y,function(P){return(0,o.NF)(P.identityValues,D,l.fS)})},b}();function c(b){if(b)return _.map(b,function(y){return y.clone()})}function r(b,y){return d.fF.assertValue(b,"ExpansionStates"),d.fF.assertNonEmpty(y,"Empty roles"),_.find(b,function(D){return _.isEqual(D.roles,y)})}function s(b,y){return d.fF.assertValue(b,"ExpansionStates"),d.fF.assertValue(y,"Role"),_.find(b,function(D){return _.includes(D.roles,y)})}function u(b,y){return(0,o.NF)(b,y,i)}function i(b,y){return!(!b!=!y||!_.isEqual(b.roles,y.roles)||!(0,o.NF)(b.levels,y.levels,a))&&n(b.root,y.root)}function a(b,y){return!b&&!y||!!(b&&y&&_.isEqual(b.queryRefs,y.queryRefs)&&(0,o.NF)(b.identityKeys,y.identityKeys,l.fS)&&b.isCollapsed===y.isCollapsed&&(0,o.NF)(b.toggledNodes,y.toggledNodes,n))}function n(b,y){return!(!(0,o.NF)(b.identityValues,y.identityValues,l.fS)||!!b.isToggled!=!!y.isToggled||!(0,o.NF)(b.children,y.children,n))}function m(b){return!_.isEmpty(b)}function f(b){return!_.isEmpty(b.root.children)||!_.isEmpty(b.root.identityValues)}function V(b){return _.findIndex(b.levels,function(y){return y.isPinned})>=0}function p(b,y,D){var P=r(b,y);if(P)return P.getAILevelInformation(D)}function C(b,y){var D=r(b,y);return D?_.findLastIndex(D.levels,function(P){return P.isPinned})+1:0}},881105:function(Xe,H,t){t.d(H,{l:function(){return o}});var e=t(973188),l=t(498342),o=function(){function d(v){l.fF.assertValue(v,"options"),this.schemasByName=v.schemas,v.links&&(this.links=v.links)}return d.merge=function(v){if(1===v.length)return v[0];for(var S={},h=[],c=0,r=v;c<r.length;c++){var s=r[c],u=function(V){l.fF.assert(function(){return!S[V]},"Duplicate schema name ".concat(V," found while merging")),S[V]=s.schemasByName[V]};for(var i in s.schemasByName)u(i);h.push.apply(h,s.links||[])}var a=function(V){var p=S[V];if(p.isExtensionSchema){var C=S[p.extends];l.fF.assert(function(){return!C.isExtensionSchema},"Extension schemas cannot themselves be extended"),d.mergeCapabilities(C,p)}};for(var n in S)a(n);var m={schemas:S};return _.some(h)&&(m.links=h),new d(m)},Object.defineProperty(d.prototype,"schemas",{get:function(){return _.values(this.schemasByName)},enumerable:!1,configurable:!0}),d.prototype.schema=function(v){return this.schemasByName[v]},d.mergeCapabilities=function(v,S){S.capabilities=(0,e.__assign)((0,e.__assign)({},v.capabilities),{canEdit:S.capabilities.canEdit,isExtendable:S.capabilities.isExtendable})},d}()},269865:function(Xe,H,t){t.d(H,{K:function(){return o},b:function(){return d}});var e=t(820967),l=t(498342);function o(v){switch(v){case 0:return"Add";case 1:return"Subtract";case 2:return"Multiply";case 3:return"Divide"}return(0,e.bG)("Unexpected ArithmeticOperatorKind: "+v)}function d(v){switch(v){case 0:return"Sum";case 1:return"Avg";case 2:return"Count";case 3:return"Min";case 4:return"Max";case 5:return"CountNonNull";case 6:return"Median";case 7:return"StandardDeviation";case 8:return"Variance";default:l.fF.assert(function(){return null==v},"Unrecognized aggregate function.")}}},147883:function(Xe,H,t){t.d(H,{NQ:function(){return S},cY:function(){return c},d9:function(){return h}});var e=t(973188),l=t(669266),o=t(498342),d=t(458441),v=t(658392),S=function(){function r(s,u,i,a){o.fF.assertValue(s,"items"),this.items=s,this._activeProjectionRefs=u,this._showAll=i,this.parameters=a||[]}return r.prototype.all=function(){return this.items},r.prototype.resetHiddenState=function(s){if(!_.isEmpty(this.items))for(var u=0,i=this.items;u<i.length;u++){var a=i[u];a.queryRef===s&&delete a.hidden}},r.prototype.toggleHidden=function(s){if(!_.isEmpty(this.items))for(var u=0,i=this.items;u<i.length;u++){var a=i[u];a.queryRef===s&&(a.hidden=!a.hidden)}},r.prototype.projected=function(){return _.isEmpty(this.items)?this.items:_.filter(this.items,function(s){return s&&!s.hidden})},r.prototype.addProjection=function(s,u){var i,a,n;u&&(i=u.fieldIndex,a=u.parameter,n=u.indexInParameter);var m=this.getProjectionIndex(i,a,n);this.fixUpParameterIndices(a,i,1),m>=this.items.length?this.items.push(s):this.items.splice(m,0,s)},r.prototype.removeProjection=function(s){var u,i,a;s&&(u=s.fieldIndex,i=s.parameter,a=s.indexInParameter),o.fF.assert(function(){return null!=u||null!=i&&null!=a},"When removing a projection we expect field index or the parameter options to be complete.");var n=this.getProjectionIndex(u,i,a);this.fixUpParameterIndices(i,u,-1),this.items.splice(n,1)},r.prototype.fixUpParameterIndices=function(s,u,i){for(var a=0,n=this.parameters;a<n.length;a++){var m=n[a];s?m.index===s.index&&(void 0===m.length&&(m.length=0),m.length+=i):null!=u&&m.index>=u&&(i>0?m.index>=u:m.index>u)&&(m.index+=i)}},r.prototype.moveFields=function(s,u,i){var a,m,f,V,n=this;if(0===this.parameters.length)m=s,f=i,V=u;else{if(o.fF.assert(function(){return s>=0&&s<n.getFieldCount()&&u>=0&&u<n.getFieldCount()},"Should use valid field indices"),o.fF.assert(function(){return s+i<=n.getFieldCount()},"Should not attempt to move more fields than exist in collection"),o.fF.assert(function(){return u+i<=n.getFieldCount()},"Moving projections should not change the length of collection"),i<=0||s===u)return[];m=this.convertFieldIndexToProjectionIndex(s);var C=this.indexOfLastProjectionInField(s+i-1);f=C-m+1,V=this.convertFieldIndexToProjectionIndex(u),u>s&&(V+=this.indexOfLastProjectionInField(u+i-1)-V+1-f);for(var P=0,F=this.parameters;P<F.length;P++){var E=F[P];E.index>=s&&E.index<=s+i-1?E.index=u+E.index-s:E.index>s&&E.index<=u+i-1?E.index-=i:E.index<s&&E.index>=u&&(E.index+=i)}if(C<m)return[]}var w=this.items.splice(m,f);return(a=this.items).splice.apply(a,(0,e.__spreadArray)([V,0],w||[],!1)),w},r.prototype.assignProjection=function(s,u){this.items[u]=s},r.prototype.updateQueryRef=function(s,u){this.items[s].queryRef=u},r.prototype.getQueryRefs=function(){return _.map(this.items,function(s){return s.queryRef})},r.prototype.getFieldParameters=function(){return this.parameters},r.prototype.addFieldParameter=function(s){for(var u=0,i=this.parameters;u<i.length;u++){var a=i[u];a.index>=s.index&&a.index++}this.parameters.push(s)},r.prototype.getColumnProjectionIndex=function(s){var u=this;return o.fF.assert(function(){return!_.find(u.parameters,function(i){return i.index===s})},"Should not be called on parameters"),this.convertFieldIndexToProjectionIndex(s)},r.prototype.getProjectionsByProjectionIndex=function(s){var u=this.convertProjectionIndexToFieldIndex(s),i=this.getParameterByFieldIndex(u);return i?this.getParameterProjections(i):[this.items[s]]},r.prototype.getProjectionsByFieldIndex=function(s){var u=this.getParameterByFieldIndex(s);if(u){var i=this.getParameterProjections(u),a=_.filter(i,function(f){return null!=f});return a.length!==i.length&&o.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),a}var n=this.convertFieldIndexToProjectionIndex(s),m=this.items[n];return null==m?(o.fF.assertFail("The projection should exist, but in some extraordinary scenario it does not exist"),[]):[m]},r.prototype.convertProjectionIndexToFieldIndex=function(s){var u,i;if(_.isEmpty(this.parameters))return s;for(var a=0,n=0,f=0,V=_.sortBy(this.parameters,function(C){return C.index});f<V.length;f++){var p=V[f];if(a+s-n<p.index)break;if((n+=p.index-a-1)+(null!==(u=p.length)&&void 0!==u?u:0)>s)return p.index;a=p.index,n+=null!==(i=p.length)&&void 0!==i?i:0}return a+s-n},r.prototype.doesParameterExist=function(s){return _.some(this.parameters,function(u){return u.index===s})},r.prototype.getParameterProjectionIndex=function(s,u){var i=this;return o.fF.assert(function(){return s&&null!=u},"Parameter and indexInParameter should both be defined"),o.fF.assert(function(){return i.doesParameterExist(s.index)},"Parameter should exist for this projection"),this.convertFieldIndexToProjectionIndex(s.index)+u},r.prototype.getColumnProjection=function(s){if(!this.doesParameterExist(s))return this.items[this.getColumnProjectionIndex(s)]},r.prototype.getParameterProjections=function(s){if(!s||!s.length)return[];var u=this.convertFieldIndexToProjectionIndex(s.index);return this.items.slice(u,u+s.length)},r.prototype.removeFieldParameters=function(s){for(var u=function(p){var C=_.findIndex(i.parameters,function(E){return E.index===p.index&&(0,l.fS)(E.expr,p.expr)});if(C<0)return{value:!1};var b=i.parameters.splice(C,1)[0],y=b.index;o.fF.assert(function(){return 0===b.length||null==b.length},"there should be no projections for this removed parameter");for(var D=0,P=i.parameters;D<P.length;D++){var F=P[D];F.index>y&&F.index--}},i=this,a=0,n=s;a<n.length;a++){var f=u(n[a]);if("object"==typeof f)return f.value}return!0},r.prototype.findParameterBySQExpr=function(s){return _.isEmpty(this.parameters)?[]:this.parameters.filter(function(u){return(0,l.fS)(u.expr,s)})},r.prototype.getParameterByFieldIndex=function(s){return _.find(this.parameters,function(u){return u.index===s})},Object.defineProperty(r.prototype,"activeProjectionRefs",{get:function(){return this._activeProjectionRefs},set:function(u){if(_.isEmpty(u))this._activeProjectionRefs=void 0;else{for(var i=this.items.map(function(f){return f.queryRef}),a=0,n=u;a<n.length;a++)if(!_.includes(i,n[a]))return;this._activeProjectionRefs=u}},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"showAll",{get:function(){return this._showAll},set:function(u){this._showAll=u},enumerable:!1,configurable:!0}),r.prototype.addActiveQueryReference=function(s){this._activeProjectionRefs?this._activeProjectionRefs.push(s):this._activeProjectionRefs=[s]},r.prototype.getLastActiveQueryReference=function(){if(!_.isEmpty(this._activeProjectionRefs))return this._activeProjectionRefs[this._activeProjectionRefs.length-1]},r.prototype.replaceQueryRef=function(s,u){var i=this;o.fF.assertValue(s,"oldQueryRef"),o.fF.assertValue(u,"newQueryRef"),o.fF.assert(function(){return s!==u},"oldQueryRef !== newQueryRef"),o.fF.assert(function(){return _.isEmpty(i._activeProjectionRefs)},"replaceQueryRef(...) is not supported on the QueryProjectionCollection of a drillable role");for(var a=0,n=this.items;a<n.length;a++){var m=n[a];m.queryRef===s&&(m.queryRef=u)}},r.prototype.clone=function(){return new r(_.cloneDeep(this.items),_.clone(this._activeProjectionRefs),this._showAll,_.map(this.parameters,function(s){return{expr:s.expr,index:s.index,length:s.length}}))},r.prototype.getProjectionIndex=function(s,u,i){var a,n;if(u){var m=null!==(a=u.length)&&void 0!==a?a:0;null!=i?(o.fF.assert(function(){return i<=m},"indexInParameter should not exceed the current length of the parameter's projections."),n=this.convertFieldIndexToProjectionIndex(u.index)+i):n=this.convertFieldIndexToProjectionIndex(u.index)+m}else n=null!=s?this.convertFieldIndexToProjectionIndex(s):this.items.length;return n},r.prototype.convertFieldIndexToProjectionIndex=function(s){return(0,v.VZ)(s,this.parameters)},r.prototype.indexOfLastProjectionInField=function(s){var u=this.convertFieldIndexToProjectionIndex(s),i=_.find(this.parameters,function(a){return a.index===s});return i&&(u+=i.length-1),u},r.prototype.getFieldCount=function(){for(var s,u=this.items.length,i=0,a=this.parameters;i<a.length;i++)u-=(null!==(s=a[i].length)&&void 0!==s?s:0)-1;return u},r}();function h(r){if(!r)return r;var s={};for(var u in r)s[u]=r[u].clone();return s}function c(r,s){if(o.fF.assertAnyValue(r,"roles"),o.fF.assertValue(s,"name"),r)return r[s]}(0,d.y)(S.prototype)},812454:function(Xe,H,t){t.d(H,{AV:function(){return A},AZ:function(){return M},CT:function(){return C},GT:function(){return T},Ic:function(){return x},Li:function(){return P},N6:function(){return p},Or:function(){return R},QV:function(){return n},Yw:function(){return F},_Q:function(){return O},cY:function(){return g},d9:function(){return B},fS:function(){return E},fd:function(){return I},gU:function(){return b},hp:function(){return w},j9:function(){return f},k_:function(){return D},km:function(){return L},mV:function(){return y},qm:function(){return V},tQ:function(){return m},tV:function(){return N},xO:function(){return i},yN:function(){return a}});var e=t(973188),l=t(365358),o=t(498342),d=t(865001),v=t(915925),S=t(917791),h=t(478226),c=t(854883),r=t(930550),s=t(512322),u=t(36846),i="{}";function a(U){return null!=U&&1===U.kind}function n(U){return null!=U&&3===U.kind}function m(U){return null!=U&&2===U.kind}function f(U){return null!=U&&0===U.kind}function V(U){return null!=U&&4===U.kind}function p(U){return!(!U||!U.data)&&U&&U.data&&1===U.data.length&&V(U.data[0])}function C(U){if(U&&!_.isEmpty(U.data)){for(var W=U.data.length,j=new Array(W),K=0;K<W;K++){var ee=U.data[K];if(!a(ee))return;j[K]=ee}return j}}function b(U){if(U&&U.dataMap){var W=[];for(var j in U.dataMap){var K=(0,l.rY)(U.dataMap[j]);W.push.apply(W,K||[])}return W}}function y(U,W){if(!_.isEmpty(U)){var j=P(U);if(!_.isEmpty(j))return(0,v.Lu)(j,W)}}function D(U){return y(_.map(U,function(W){return N(W)}))}function P(U){if(!_.isEmpty(U)){for(var W=[],j=function(he,q){var Y=U[he];o.fF.assert(function(){return!!Y},"There is an undefined selector in a list of selectors");var G=null==Y?void 0:Y.data,me=void 0;if(!_.isEmpty(G))for(var re=0,le=G.length;re<le;re++)me=(0,s.xD)(me,(null==Y?void 0:Y.data[re]).expr);me&&W.push(me)},K=0,ee=U.length;K<ee;K++)j(K);return W}}function F(U){if(!_.isEmpty(U))for(var W=0,j=U;W<j.length;W++){var K=j[W];if(K.dataMap)for(var ee in K.dataMap){var ie=K.dataMap[ee];if(!_.isEmpty(ie)&&_.some(ie,function(he){return null!=he}))return!0}}}function E(U,W,j){return(U=U||null)===(W=W||null)||!(!U!=!W||(o.fF.assertValue(U,"x"),o.fF.assertValue(W,"y"),U.metadata!==W.metadata)||!w(U.data,W.data)||U.highlightMatching!==W.highlightMatching||(null==j||!j.skipId)&&U.id!==W.id||(null==j||!j.skipOrder)&&U.order!==W.order)}function w(U,W){if((U=U||null)===(W=W||null))return!0;if(!U!=!W||U.length!==W.length)return!1;for(var j=0,K=U.length;j<K;j++)if(!g(U[j],W[j]))return!1;return!0}function x(U,W){return(U=U||null)===(W=W||null)||!U==!W&&E(N(U),N(W))}function R(U,W){if((U=U||null)===(W=W||null))return!0;if(!U!=!W||U.length!==W.length)return!1;for(var j=0;j<U.length;j++)if(!x(U[j],W[j]))return!1;return!0}function g(U,W){return a(U)&&a(W)?(0,v.fS)(U,W):n(U)&&n(W)?(0,h.fS)(U,W):m(U)&&m(W)?(0,S.fS)(U,W):f(U)&&f(W)?(0,d.fS)(U,W):!(!V(U)||!V(W))&&(0,c.fS)(U,W)}function L(U){var W;if(U.data)if(U.data.length>0){W="data: [".concat(U.data[0].key);for(var j=1,K=U.data.length;j<K;j++)W+=", ".concat(U.data[j].key);W+="]"}else W="data: []";var ee=U.metadata;ee&&(W?W+=", metadata: "+ee:W="metadata: "+ee);var ie=U.id;return ie&&(W?W+=", id: "+ie:W="id: "+ie),W?"{"+W+"}":"{}"}function M(U,W){if(_.isEmpty(U.data))return[i];var j=[];if(W)j=_.map(U.data,function(q){return q.key});else for(var K=0,ee=U.data;K<ee.length;K++){var ie=ee[K];if(a(ie)){var he=(0,r.RR)(ie.expr);he=he||(0,r.KX)(ie.expr),_.forEach(he,function(q){j.push((0,u.qC)(q))})}}return j}function T(U){o.fF.assertValue(U,"selector");var W=U.data;return!!W&&_.some(W,function(j){return f(j)||n(j)||V(j)})}function O(U){o.fF.assertValue(U,"selector");var W=U.data;if(_.isEmpty(W))return!1;for(var j=0,K=W;j<K.length;j++)if(f(K[j]))return!0;return!1}function N(U){if(U){var W=[];for(var j in U.dataMap)for(var ee=0,ie=(0,l.rY)(U.dataMap[j]);ee<ie.length;ee++)W.push(ie[ee]);var q={};return W.length>0&&(q.data=W),U.metadata&&(q.metadata=_.head(U.metadata)),U.id&&(q.id=U.id),q}}function A(U,W){if(U&&U.metadata){o.fF.assertNonEmpty(W,"getSelectorTargetExpr - selectTransforms");var j=_.find(W,function(K){return K.queryName===U.metadata});if(j)return j.expr}}function I(U){return o.fF.assertAnyValue(U,"selector"),U&&U.data?{data:U.data}:U}function B(U){var W={};return U.data&&(W.data=(0,e.__spreadArray)([],U.data,!0)),U.metadata&&(W.metadata=U.metadata),U.id&&(W.id=U.id),void 0!==U.highlightMatching&&(W.highlightMatching=U.highlightMatching),null!=U.order&&(W.order=U.order),W}},399663:function(Xe,H,t){t.d(H,{M:function(){return o},V:function(){return l}});var e=t(498342),l=function(d){return d[d.Default=0]="Default",d[d.Verbose=1]="Verbose",d[d.WholeUnits=2]="WholeUnits",d[d.DataLabels=3]="DataLabels",d}({});function o(d){e.fF.assertValue(d,"visualElements shouldn't be empty");for(var v=[],S=0,h=d;S<h.length;S++)for(var r=function(n){_.find(v,function(m){return _.isEqual(m,n)})||v.push(n)},s=0,u=h[S].DataRoles;s<u.length;s++)r(u[s]);return v}},345951:function(Xe,H,t){t.d(H,{W7:function(){return i},tY:function(){return u}});var e=t(979868),l=t(669266),o=t(365358),d=t(498342),v=t(930550),S=t(812454);function c(m){return _.cloneDeep(m)}function s(m){return{windowValues:_.map(m.windowValues,function(f){return function(m){return{identityValues:_.clone(m.identityValues),restartValues:_.clone(m.restartValues),windowKind:m.windowKind}}(f)}),identityValues:_.clone(m.identityValues),children:_.map(m.children,function(f){return s(f)})}}function u(m,f,V,p){if(m){m=function(m){if(m)return{levels:c(m.levels),root:s(m.root)}}(m);var C=(0,S.CT)(f);if(!C)return d.fF.assertFail("Empty selector"),m;for(var b=m.root,y=0,D=function(){var x=(0,v.RR)(C[y].expr);if(!m.levels[y]||!(0,o.NF)(x,m.levels[y].identityKeys,l.fS))return d.fF.assertFail("Level not found"),{value:m};var R=(0,v.KX)(C[y].expr);b=_.find(b.children,function(g){return(0,o.NF)(g.identityValues,R,l.fS)}),y++};b&&y<_.size(C)-1;){var P=D();if("object"==typeof P)return P.value}if(!b||y<_.size(C)-1)return d.fF.assertFail("Cannot find node"),m;var F=(0,v.KX)(C[y].expr);if(p)b.windowValues=[{identityValues:F,windowKind:V,restartValues:p}];else{var E=_.find(b.windowValues,function(w){return(0,o.NF)(F,w.identityValues,l.fS)});if(!E)return d.fF.assertValue(E,"Cannot find a window for the specified node"),b.windowValues=[],m;E.windowKind=V,b.windowValues=[E]}return m}}function i(m,f,V,p){if(m&&m.root){var C=_.map(m.levels,function(y){return function(m,f,V){if(m.identityKeys)return m.identityKeys;var p=_.map(m.queryRefs,function(C){var b=f.withName(C);d.fF.assertValue(b,"Cannot find expr "+C);var y=b.expr;return(0,e.ez)(y)?y.getTargetColumnRef(V):y});return d.fF.assert(function(){return 1===_.size(p)},"Composite Groups is not fully supported, each level is expected to have 1 queryRef"),p[0].getKeyColumns(V)}(y,V,p)}),b=0;return f&&(b=-1===(b=_.findIndex(f.levels,function(y,D){return!(0,o.NF)(y.identityKeys,C[D],l.fS)}))?_.size(f.levels):b),{levels:_.map(C,function(y){return{identityKeys:y}}),root:n(m.root,f&&f.root,b,0,m.levels)}}}function n(m,f,V,p,C){d.fF.assertValue(m,"Expansion node should be defined");var b=f&&f.children||[],y=f&&f.windowValues||[];p>=V&&(b=[],y=[]);var P=_.filter(m.children,function(F){return C[p]&&!!F.isToggled==!!C[p].isCollapsed});return{children:_.map(P,function(F){return n(F,(E=F.identityValues,f&&_.find(b,function(w){return(0,o.NF)(E,w.identityValues,l.fS)})),V,p+1,C);var E}),identityValues:m.identityValues,windowValues:y}}},476527:function(Xe,H,t){t.d(H,{P:function(){return e},U:function(){return l}});var e=function(o){return o[o.Default=0]="Default",o[o.BypassCache=1]="BypassCache",o}({}),l=function(o){return o[o.None=0]="None",o[o.AllowCache=1]="AllowCache",o[o.AllowQuery=2]="AllowQuery",o[o.CacheResult=4]="CacheResult",o[o.PreventRefresh=8]="PreventRefresh",o}({})},414745:function(Xe,H,t){t.d(H,{oA:function(){return b},Sz:function(){return y}});var e=t(973188),l=t(498342),o=t(960514),d=t(149305),u=t(912644),a=t(864185),n=t(19757),m=t(520469),f=t(267103),V=t(204553),p=t(854883),C=t(979868);function b(F,E,w,x){var R=D(F,E,w,x);return R&&R.expressions}function y(F,E,w,x){return l.fF.assertValue(F,"propDefn"),D(F,E,w,x)}function D(F,E,w,x){var g,L,R=new f.S;return(0,V.er)(F)?((g=new P(E,w,x,F.context)).propertyVisitor=L,(L=new n._(g,R)).visitExpr(F.value)):(0,V.Rc)(F)?(g=new P(E,w,x),L=new n._(g,R),g.propertyVisitor=L,L.visitExpr(F)):(g=new P(E,w,x),L=new n._(g,R),g.propertyVisitor=L,(0,m.RL)(F,g)),{expressions:g.exprs,references:R.references}}var P=function(F){function E(w,x,R,g){var L=F.call(this)||this;return L.selector=w,L.querySelects=x,L.context=g,L.exprs=[],L.inputExpr=L.resolveSelectRef(R),L}return(0,e.__extends)(E,F),E.prototype.resolveSelectRef=function(w){return w&&(0,C.NH)(w)?this.getSelectByRef(w):w},E.prototype.add=function(w){this.context&&(w.context=this.context),null!=this.relatedProjectionQueryName&&(w.targetsQueryName=[this.relatedProjectionQueryName]),this.exprs.push(w)},E.prototype.visitMeasureRef=function(w){this.add({expr:w,selector:this.selector})},E.prototype.visitArithmetic=function(w){this.add({expr:w,selector:this.selector})},E.prototype.visitAggr=function(w){if((0,C.NH)(w.arg)){var R={expr:this.getSelectByRef(w.arg),selector:this.selector,aggregates:this.getAggregates(w.func)};this.add(R)}else this.add({expr:w,selector:this.selector})},E.prototype.checkIfOrdinal=function(w){},E.prototype.getAggregates=function(w){switch(w){case 4:return{max:!0};case 3:return{min:!0};case 6:return{median:!0};case 1:return{average:!0};default:l.fF.assertFail("Unsupported Projection Aggregate")}},E.prototype.visitPercentile=function(w){if((0,C.NH)(w.arg)){var R={expr:this.getSelectByRef(w.arg),selector:this.selector,aggregates:{percentiles:[{k:w.k,exclusive:w.exclusive}]}};this.add(R)}else this.add({expr:w,selector:this.selector})},E.prototype.visitColumnRef=function(w){this.add({expr:w,selector:this.selector})},E.prototype.visitContains=function(w){this.checkIfOrdinal(w),F.prototype.visitContains.call(this,w)},E.prototype.visitStartsWith=function(w){this.checkIfOrdinal(w),F.prototype.visitStartsWith.call(this,w)},E.prototype.visitCompare=function(w){this.checkIfOrdinal(w),F.prototype.visitCompare.call(this,w)},E.prototype.visitHierarchyLevel=function(w){this.add({expr:w,selector:this.selector})},E.prototype.visitNativeMeasure=function(w){this.add({expr:w,selector:this.selector})},E.prototype.visitSelectRef=function(w){var x=this.getSelectByRef(w);x&&this.add({expr:x,selector:this.selector})},E.prototype.getSelectByRef=function(w){var x=this.querySelects.withName(w.expressionName);return x&&x.expr},E.prototype.visitScopedEval=function(w){var x=w.decomposeGlobalAggregateOfScopedExpr();if(x){var R={expr:this.resolveSelectRef(x.source),selector:this.selector,aggregates:this.getAggregates(x.func)};this.add(R)}else w.hasGlobalScope()?this.add(R={expr:w.expression,selector:null}):(R={expr:w,selector:{data:[(0,p.Ue)()]}},this.add(R))},E.prototype.visitFillRule=function(w){w.input.accept(this),this.inputExpr=this.resolveSelectRef(w.input),this.visitFillRuleDefinition(w.rule)},E.prototype.visitFillDefinition=function(w){(0,d.RL)(w,this.propertyVisitor)},E.prototype.visitFillRuleDefinition=function(w){l.fF.assertValue(w,"fillRule"),l.fF.assertAnyValue(this.inputExpr,"inputExpr can end up being undefined if it was a non-matching SelectRef");var x=w.linearGradient2||w.linearGradient3;l.fF.assertValue(x,"fillRule needs either linearGradient2 or linearGradient3"),l.fF.assertValue(x.min,"gradient.min"),l.fF.assertValue(x.max,"gradient.max");var R={};x.min.value||(R.min=!0),x.max.value||(R.max=!0),(R.min||R.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:R}),(0,u.RL)(w,this.propertyVisitor))},E.prototype.visitDataBarsDefinition=function(w){l.fF.assertValue(this.inputExpr,"Databars without an input Expr"),l.fF.assertValue(w,"dataBars");var x={};w.minValue||(x.min=!0),w.maxValue||(x.max=!0),(x.min||x.max)&&(this.exprs.push({expr:this.inputExpr,selector:this.selector,aggregates:x}),function(F,E){l.fF.assertValue(F,"dataBars"),F.minValue&&E.visitExpr(F.minValue),F.maxValue&&E.visitExpr(F.maxValue),(0,d.RL)(F.positiveColor,E),(0,d.RL)(F.negativeColor,E),(0,d.RL)(F.axisColor,E),E.visitExpr(F.reverseDirection),E.visitExpr(F.hideText)}(w,this.propertyVisitor))},E.prototype.visitIconDefinition=function(w){!function(F,E){l.fF.assertValue(F,"fillRule"),F.layout&&E.visitExpr(F.layout),F.verticalAlignment&&E.visitExpr(F.verticalAlignment),F.value&&E.visitExpr(F.value)}(w,this.propertyVisitor)},E.prototype.visitParagraphs=function(w){(0,a.RL)(w,this.propertyVisitor)},E.prototype.visitErrorRangeDefinition=function(w){var x=this;l.fF.assert(function(){return null!=x.selector.metadata},"Error range should have a target"),this.relatedProjectionQueryName=this.selector.metadata,function(F,E){F.explicit?function(F,E){E.visitExpr(F.isRelative),F.lowerBound&&E.visitExpr(F.lowerBound),F.upperBound&&E.visitExpr(F.upperBound)}(F.explicit,E):F.symmetricalExplicit?E.visitExpr(F.symmetricalExplicit.delta):F.standardDeviation?function(F,E){F.visitExpr(E.value),F.visitExpr(E.multiplier)}(E,F.standardDeviation):F.percentage?function(F,E){E.visitExpr(F.lowerBoundDelta),E.visitExpr(F.upperBoundDelta)}(F.percentage,E):F.percentile?function(F,E){E.visitExpr(F.lowerBound),E.visitExpr(F.upperBound)}(F.percentile,E):l.fF.assertFail("Unsupported ErrorRangeDefinition")}(w,this.propertyVisitor),this.relatedProjectionQueryName=void 0},E}(o.PA)},766442:function(Xe,H,t){t.d(H,{V:function(){return v}});var e=t(437555),l=t(498342),o=t(860931),d=t(912644);function v(){return new c}var h=!1;!function(){if(!h){var n=v;(0,o.Z7)().createColorAllocatorFactory=function(){return n()},h=!0}}();var c=function(){function n(){}return n.prototype.fromFillRule=function(m,f){var V=m.linearGradient2,p=m.linearGradient3;if(V||p){var C;p&&(C=void 0===p.min.value&&void 0===p.max.value&&void 0!==p.mid.value);var b=V?V.min:p.min,y=V?V.max:p.max;if(void 0===b.value&&(b.value=f.aggregates&&f.aggregates.min),void 0===y.value&&(y.value=f.aggregates&&f.aggregates.max),void 0!==b.value&&void 0!==y.value)return p&&void 0===p.mid.value&&(p.mid.value=(b.value+y.value)/2),V?new u(V,f):C?new a(p,f):new i(p,f)}},n}();function r(n){return n.strategy===d.LX}function s(n){switch(n.strategy){case d.TJ:return;case d.Sx:return n.color;case d.LX:l.fF.assertFail("getColorFromNullStrategy - called with asZero");break;default:l.fF.assertFail("getColorFromNullStrategy - Unexpected null strategy: "+n.strategy)}}var u=function(){function n(m,f){this.options=m,this.source=f,l.fF.assertValue(m,"options"),l.fF.assertValue(f,"source");var V=m.min,p=m.max;this.scale=(0,e.$Q)([V.value,p.value],[V.color,p.color],!0)}return n.prototype.color=function(m){var f=this.options.nullColoringStrategy;if(null===m&&f){if(!r(f))return s(f);m=0}return this.scale(m)},n.prototype.getRule=function(){return{linearGradient2:this.options}},n.prototype.getSource=function(){return this.source},n}(),i=function(){function n(m,f){this.options=m,this.source=f,l.fF.assertValue(m,"options"),l.fF.assertValue(f,"source"),this.options=m;var V=m.min,p=m.mid,C=m.max;this.scale=(0,e.$Q)([V.value,p.value,C.value],[V.color,p.color,C.color],!0)}return n.prototype.color=function(m){var f=this.options.nullColoringStrategy;if(null===m&&f){if(!r(f))return s(f);m=0}return this.scale(m)},n.prototype.getRule=function(){return{linearGradient3:this.options}},n.prototype.getSource=function(){return this.source},n}(),a=function(){function n(m,f){this.options=m,this.source=f,l.fF.assertValue(m,"options"),l.fF.assertValue(f,"source"),this.options=m;var V=m.min,p=m.mid,C=m.max;this.scale1=(0,e.$Q)([V.value,p.value],[V.color,p.color],!0),this.scale2=(0,e.$Q)([p.value,C.value],[p.color,C.color],!0)}return n.prototype.color=function(m){var f=this.options.nullColoringStrategy;if(null===m&&f){if(!r(f))return s(f);m=0}return m<=this.options.mid.value?this.scale1(m):this.scale2(m)},n.prototype.getRule=function(){return{linearGradient3:this.options}},n.prototype.getSource=function(){return this.source},n}()},148782:function(Xe,H,t){t.d(H,{Ay:function(){return c},Dt:function(){return m},Sr:function(){return d},fl:function(){return v},hw:function(){return s},nA:function(){return f},oF:function(){return l},vS:function(){return D},vV:function(){return S},yL:function(){return r}});var e=t(498342);function l(E,w){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor");var x=E.categorical;x&&function(E,w){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor"),d(E.categories,w);var x=E.values;v(x,w),D(x,w),P(E,w)}(x,w);var R=E.table;R&&S(R,w);var g=E.matrix;g&&function(E,w){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor"),c(E.rows,w),r(E.columns,w),s(E.values,w)}(g,w);var L=E.tree;L&&function(E,w){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor"),m(E.nodes,w),f(E.values,w)}(L,w);var M=E.single;M&&function(E,w){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor"),w.visitRole(E.role)}(M,w)}function d(E,w){E&&(V(E,w,"CategoricalCategory"),p(E,w,"CategoricalCategory"),b(E,w,"CategoricalCategory"),P(E,w))}function v(E,w){if(E){V(E,w,"CategoricalValue"),p(E,w,"CategoricalValue"),b(E,w,"CategoricalValue");var x=E.group;if(x)for(var R=0,g=x.select;R<g.length;R++){var L=g[R];V(L,w,"CategoricalValueGroup"),p(L,w,"CategoricalValueGroup")}}}function S(E,w){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor");var x=E.rows;V(x,w,"TableField"),p(x,w,"TableField"),b(x,w,"TableField"),P(x,w)}function c(E,w){!function(E,w,x){if(e.fF.assertAnyValue(E,"mapping"),e.fF.assertValue(w,"visitor"),E){var R=null==E?void 0:E.values;p(E,w,x),function(E,w,x){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor");var R=E.select;if(R)for(var g=0,L=R;g<L.length;g++){var M=L[g];V(M,w,x),p(M,w,x),C(M,w,x)}}(E,w,x),e.fF.assert(function(){return!(E.dataReductionAlgorithm&&function(E){return E&&_.some(E,function(w){return w.dataReductionAlgorithm})}(E.select))},"Mapping has overall data reduction but also scoped data reduction(s)"),P(E,w),R&&(p(R,w,"MatrixRowsScopedValue"),b(R,w,"MatrixRowsScopedValue"))}}(E,w,"MatrixRowsGroup")}function r(E,w){a(E,w,"MatrixColumnsGroup")}function s(E,w){a(E,w,"MatrixIntersection")}function a(E,w,x){e.fF.assertAnyValue(E,"mapping"),e.fF.assertValue(w,"visitor"),E&&(p(E,w,x),b(E,w,x),P(E,w))}function m(E,w){e.fF.assertAnyValue(E,"mapping"),e.fF.assertValue(w,"visitor"),E&&(p(E,w,"TreeNode"),P(E,w))}function f(E,w){e.fF.assertAnyValue(E,"mapping"),e.fF.assertValue(w,"visitor"),E&&p(E,w,"TreeValue")}function V(E,w,x){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor");var R=E.bind;R&&w.visitRole(R.to,x)}function p(E,w,x){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor");var R=E.for;R&&w.visitRole(R.in,x)}function C(E,w,x){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor");var R=E.composite;if(R){w.enterComposite&&w.enterComposite(E);for(var g=0,L=R;g<L.length;g++){var M=L[g];V(M,w,x),p(M,w,x)}w.exitComposite&&w.exitComposite(E)}}function b(E,w,x){e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor");var R=E.select;if(R)for(var g=0,L=R;g<L.length;g++){var M=L[g];V(M,w,x),p(M,w,x)}}function D(E,w){if(e.fF.assertAnyValue(E,"mapping"),e.fF.assertValue(w,"visitor"),E){var x=E.group;x&&(w.visitRole(x.by,"CategoricalSeries"),P(x,w))}}function P(E,w){if(e.fF.assertValue(E,"mapping"),e.fF.assertValue(w,"visitor"),w.visitReduction){var x=E.dataReductionAlgorithm;x&&w.visitReduction(x)}}},95486:function(Xe,H,t){t.d(H,{L:function(){return o}});var e=t(498342),l=t(447751),o=function(){function d(v,S,h,c,r,s,u,i,a,n){this.featureSwitches=v,this.warningType=S,this.propertyId=h,this.selector=c,this.objectDisplayNameGetter=r,this.propertyDisplayNameGetter=s,this.valueExpr=u,this.value=i,this.expectedValueType=a,this.columnExpr=n,1===this.warningType?(e.fF.assertValue(a,"expectedValueType"),this.titleKey="DataBoundExprWarning_InvalidType_Title",this.hintKey="DataBoundExprWarning_InvalidType_Message"):2===this.warningType?(this.titleKey="DataBoundExprWarning_MissingReference_Title",this.hintKey="DataBoundExprWarning_MissingReference_Message"):(this.titleKey="VisualWarning_PropertyEvaluation_Tooltip_Header",this.hintKey="VisualWarning_PropertyEvaluation_Tooltip_Hint_Color")}return Object.defineProperty(d.prototype,"code",{get:function(){switch(this.warningType){case 1:return"DataBoundExprWarningTypeInvalidType";case 2:return"DataBoundExprWarningTypeMissingReference";case 0:return"DataBoundExprWarningTypeInvalidValue";default:e.fF.assertNever(this.warningType)}},enumerable:!1,configurable:!0}),d.prototype.getMessages=function(v,S){if(S){if(this.cachedMessage)return this.cachedMessage;var c=v.get("NamePattern_Colon"),r=[],s=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(v):this.propertyDisplayNameGetter,u=(0,l.W)(v.get(this.titleKey),s),i=this.objectDisplayNameGetter instanceof Function?this.objectDisplayNameGetter(v):this.objectDisplayNameGetter;if(!this.featureSwitches.useModernFormatPane){var a=(0,l.W)(c,v.get("VisualWarning_PropertyEvaluation_Tooltip_Section"),i);r.push(a)}var n=S(this.valueExpr);if(n){var m=(0,l.W)(c,v.get("Field_Source"),n);r.push(m)}if(void 0!==this.columnExpr){var f=S(this.columnExpr),V=(0,l.W)(c,v.get("Field_Target"),f);r.push(V)}if(1===this.warningType&&this.expectedValueType){var p=(0,l.W)(c,v.get("DataBoundExprWarning_ExpectedDataType"),d.getPrimitiveValueType(this.expectedValueType,v));r.push(p)}if(0===this.warningType&&this.value){var C=(0,l.W)(c,v.get("Value"),this.value.toString());r.push(C)}var b=v.get(this.hintKey);return r.push(b),this.cachedMessage={title:u,message:b,detail:r.join("\n")},this.cachedMessage}e.fF.assertFail("DataViewObjectEvaluationWarning - getMessages - setSQExprTranslator needed for correct warning")},d.prototype.getTitle=function(v){var S=this.propertyDisplayNameGetter instanceof Function?this.propertyDisplayNameGetter(v):this.propertyDisplayNameGetter;return(0,l.W)(v.get(this.titleKey),S)},d.prototype.getMessage=function(v){return v.get(this.hintKey)},d.getPrimitiveValueType=function(v,S){switch(v.primitiveType){case 1:return S.get("Text");case 2:case 3:case 4:return S.get("ConditionalFormattingDialog_Number");case 5:return S.get("ConditionalFormattingDialog_Boolean");case 6:case 7:return S.get("ConditionalFormattingDialog_Date");default:e.fF.assertFail("Invalid expected data type")}},d}()},921449:function(Xe,H,t){function e(c,r){if(!_.isEmpty(c)){var s=c[0];if(s.values&&s.values.length>0)for(var u=0,i=s.values.length;u<i;++u){var a=s.values[u];if(a&&a.source&&d(a.source,r))return u}}return-1}function l(c,r){if(!_.isEmpty(c))for(var s=0,u=c.length;s<u;s++)if(d(c[s].source,r))return s;return-1}function o(c,r){var s=[];if(!_.isEmpty(c))for(var u=0,i=c.length;u<i;u++)d(c[u].source,r)&&s.push(u);return s}function d(c,r){var s=c.roles;return s&&s[r]}function v(c,r){return _.some(c,function(s){return d(s,r)})}function S(c,r){return null!=c&&null!=c.metadata&&c.metadata.columns&&_.some(c.metadata.columns,function(s){return s.roles&&void 0!==s.roles[r]})}function h(c,r){return c&&c.source&&c.source.roles&&!0===c.source.roles[r]}t.d(H,{R:function(){return h},a2:function(){return e},aJ:function(){return v},c5:function(){return S},nu:function(){return d},pc:function(){return l},zT:function(){return o}})},553474:function(Xe,H,t){t.d(H,{Hy:function(){return p},JU:function(){return w},Lo:function(){return M},fs:function(){return T},ih:function(){return A},sw:function(){return N},ul:function(){return a},zS:function(){return i}});var e=t(669266),l=t(365358),o=t(498342),d=t(11641),v=t(273269),S=t(678776),h=t(204553),c=t(265699),r=t(915925),s=t(579486),u=t(37541),i=function(B){return B.conditionRangeTooLarge="conditionRangeTooLarge",B.conditionRangeTooSmall="conditionRangeTooSmall",B.conditionKindExpectedMeasure="conditionKindExpectedMeasure",B.conditionKindExpectedGrouping="conditionKindExpectedGrouping",B.conditionKindExpectedGroupingOrMeasure="conditionKindExpectedGroupingOrMeasure",B.conditionNotHierarchicallyRelated="conditionNotHierarchicallyRelated",B.conditionSchemaCapabilities_TupleFilters_InstanceFilters="conditionSchemaCapabilities_TupleFilters_InstanceFilters",B}({});function a(B,U){if(!U||0===U.length)return{dataView:B,isValid:!0};if(B){for(var W=0,j=U;W<j.length;W++){var K=j[W];if(b(B,K))return{dataView:B,isValid:!0};if(K.categorical&&B.categorical)return n(B,K);if(K.tree&&B.tree)return f(B,K.tree);if(K.single&&B.single)return m(B,K.single);if(K.table&&B.table)return V(B,K.table)}if(B.metadata)return{dataView:{metadata:B.metadata},isValid:!0}}return{isValid:!1}}function n(B,U){o.fF.assertValue(U,"dataViewMapping");var K,W=U.categorical,j=B.categorical;if(!j)return{isValid:!1};if(W.rowCount&&(K=W.rowCount.supported)&&K.max){var ee=void 0,ie=j.categories,he=K.max,q=void 0;if(ie)for(var Y=0,G=ie.length;Y<G;Y++){var me=ie[Y];if(q=me.values.length,void 0!==he&&q>he){var re=(0,l.w6)(me.values,0,he-1);(ee=ee||{categories:[]}).categories.push({source:me.source,values:re})}}if(j.values&&j.values.length>0&&he&&(q||(q=j.values[0].values.length),void 0!==he&&q>he))for((ee=ee||{}).values=(0,s.Yv)(),Y=0,G=j.values.length;Y<G;Y++){var le=j.values[Y],Ee={source:le.source,values:(0,l.w6)(le.values,0,he-1)};void 0!==le.min&&(Ee.min=le.min),void 0!==le.max&&(Ee.max=le.max),void 0!==le.subtotal&&(Ee.subtotal=le.subtotal),ee.values.push(Ee)}ee&&(B={metadata:B.metadata,categorical:ee})}return y(B,U)?{dataView:B,isValid:!0}:null}function m(B,U){return o.fF.assertValue(B,"dataView"),o.fF.assertValue(U,"singleRoleMapping"),B.single?{dataView:B,isValid:!0}:{isValid:!1}}function f(B,U){return o.fF.assertValue(B,"dataView"),o.fF.assertValue(U,"treeRoleMapping"),P(B,U)?{dataView:B,isValid:!0}:{isValid:!1}}function V(B,U){return o.fF.assertValue(B,"dataView"),o.fF.assertValue(U,"tableRoleMapping"),B.table?{dataView:B,isValid:!0}:{isValid:!1}}function p(B){for(var U=0,W=0,j=B.length;W<j;W++)B[W].isMeasure||++U;return U}function b(B,U,W){return!(!U||!B||U.scriptResult&&!function(B,U){return o.fF.assertValue(U,"scriptResultRoleMapping"),!(!B||!B.payloadBase64)}(B.scriptResult,U.scriptResult)||U.categorical&&!y(B,U.categorical,W)||U.tree&&!P(B,U.tree,W)||U.single&&!function(B,U){return o.fF.assertValue(U,"singleRoleMapping"),!!B}(B.single,U.single)||U.table&&!function(B,U,W){if(o.fF.assertValue(U,"tableRoleMapping"),!B)return!1;if(U.rowCount){var j=U.rowCount.supported;if(W&&U.rowCount.preferred&&(j=U.rowCount.preferred),j){var K=0;if(B.rows&&B.rows.length&&(K=B.rows.length),null!=w(K,j))return!1}}return!0}(B.table,U.table,W))}function y(B,U,W){o.fF.assertValue(U,"categoryRoleMapping");var j=B.categorical;if(!j)return!1;if(U.rowCount){var K=U.rowCount.supported;if(W&&U.rowCount.preferred&&(K=U.rowCount.preferred),K){var ee=0;if(j.values&&j.values.length?ee=j.values[0].values.length:j.categories&&j.categories.length&&(ee=j.categories[0].values.length),null!=w(ee,K))return!1}}return!0}function P(B,U,W){o.fF.assertValue(U,"treeRoleMapping");var K=U.depth,ee=K&&W?K.preferred:K.supported;return null==w(p(B.metadata.columns),ee)}function w(B,U,W){if(o.fF.assertValue(B,"value"),U){if(!W&&void 0!==U.min&&U.min>B)return i.conditionRangeTooSmall;if(void 0!==U.max&&U.max<B)return i.conditionRangeTooLarge}}function x(B,U,W,j){if(B&&void 0!==B.kind){var K=B.kind,ee=W[U];if(ee)for(var he=0,q=ee.all();he<q.length;he++)if(j[q[he].queryRef]!==K)switch(K){case v.DW.Measure:return i.conditionKindExpectedMeasure;case v.DW.Grouping:return i.conditionKindExpectedGrouping;case v.DW.GroupingOrMeasure:return i.conditionKindExpectedGroupingOrMeasure}}}function R(B,U,W,j){if(B&&B.areHierarchicallyRelated&&!_.isEmpty(U)&&!_.isEmpty(W)&&j){var ee=L(_.map(U,function(ie){return ie.queryRef}),W);if(!S.m.areHierarchicallyRelated(j,ee))return i.conditionNotHierarchicallyRelated}}function g(B,U,W){if(o.fF.assertAnyValue(B,"can be called with empty role"),o.fF.assertNonEmpty(U,"must have selects"),o.fF.assertValue(W,"must have Schema"),1!==_.chain(U).map(function(q){return q.name}).uniq().value().length){var ee=L(_.map(B,function(q){return q.queryRef}),U),ie=_.chain(ee).map(function(q){return W.schema(q.schema)}).uniq().value(),he=_.uniqWith(ee,function(q,Y){return(0,e.fS)(q,Y)});if(o.fF.assertNonEmpty(he,"uniqueEntityExprs"),he.length<2)return _.some(ie,function(q){return!q.capabilities||!q.capabilities.supportsInstanceFilters})?i.conditionSchemaCapabilities_TupleFilters_InstanceFilters:void 0;if(_.some(ie,function(q){return!q.capabilities||!q.capabilities.supportsMultiTableTupleFilters||!q.capabilities.supportsInstanceFilters}))return i.conditionSchemaCapabilities_TupleFilters_InstanceFilters}}function L(B,U){if(!_.isEmpty(B)&&!_.isEmpty(U)){var W={};B.forEach(function(he){W[he]=!0});for(var j=[],K=0,ee=U;K<ee.length;K++){var ie=ee[K];ie.name&&W[ie.name]&&ie.expr&&j.push(ie.expr.getTargetEntity())}return j}}function M(B,U,W,j,K,ee,ie,he){o.fF.assertValue(B,"projections"),o.fF.assertAnyValue(U,"mappings"),o.fF.assert(function(){return _.every(U,function(ce){return _.isPlainObject(ce)})},"precondition: prototypal inheritance on DataViewMapping is not supported by DataViewAnalysis");var q=[],Y=[];if(!_.isEmpty(U))for(var G=0,me=U.length;G<me;G++){var re=U[G],le=re.conditions,Ne=O(re.requiredProperties,K,j,ee),Ye=[];if(_.isEmpty(le))Ye.push({});else for(var Je=0,_e=le.length;Je<_e;Je++){var pe=le[Je],fe=T(B,pe,W,void 0,ie,he);if(_.isEmpty(fe))Ye.push(pe);else for(var oe=0,ye=fe;oe<ye.length;oe++){var Ce=ye[oe];Ce.mappingIndex=G,Ce.conditionIndex=Je,Y.push(Ce)}}if(!_.isEmpty(Ye)&&Ne){var Be=_.cloneDeep(re);Be.single&&(Be={table:{rows:{for:{in:Be.single.role}}}});var Te=_.filter(Ye,function(ce){return Object.keys(ce).length>0});_.isEmpty(Te)||(Be.conditions=Te),q.push(Be)}}return{supportedMappings:(0,l.rm)(q),mappingErrors:(0,l.rm)(Y)}}function T(B,U,W,j,K,ee){o.fF.assertValue(B,"projections"),o.fF.assertValue(U,"condition");for(var ie=Object.keys(U),he=[],q=0,Y=ie.length;q<Y;q++){var G=ie[q],me=B[G]&&!_.isEmpty(B[G].activeProjectionRefs),re=U[G],le=!re.suppressDrill,Je=w(N(G,B,le&&(null!=j?j:me)&&le),re);null!=Je&&he.push({code:Je,roleName:G}),null!=(Je=x(re,G,B,W))&&he.push({code:Je,roleName:G});var _e=B[G]&&B[G].projected(),pe=void 0;_.isEmpty(K)||(pe=_.map(_e,function(fe){return K.withName(fe.queryRef)})),null!=(Je=R(re,_e,pe,ee))&&he.push({code:Je,roleName:G}),re.multiTableTupleFiltersSupported&&ee&&!_.isEmpty(K)&&!_.isEmpty(pe)&&null!=(Je=g(_e,pe,ee))&&he.push({code:Je,roleName:G})}return he}function O(B,U,W,j){if(_.isEmpty(B))return!0;if(!U||!j)return!1;var K=(0,d.Ue)(),ee=(0,u.X)(),ie=new c.Q(W,K);return _.every(B,function(he){var q=null,Y=j[he.objectName];if(!Y)return!1;var me,G=U[he.objectName];return G&&(q=G.properties[he.propertyName]),!_.isEmpty(Y)&&Y[0]&&(me=(0,h.NA)(j,he,Y[0].selector)),!(!q||!me)&&ie.evaluateProperty(ee,q,me)})}function N(B,U,W){o.fF.assertValue(B,"roleName"),o.fF.assertValue(U,"projections");var j=U[B];return j?W?1:j.projected().length:0}function A(B,U){if(B&&U&&B.categorical&&U.categorical){var W=B.categorical.categories,j=U.categorical.categories;if(W&&j&&W.length===j.length){for(var K=0,ee=W.length;K<ee;K++){var ie=W[K].identity,he=j[K].identity,q=I(ie);if(q!==I(he))return!1;for(var Y=0;Y<q;Y++)if(!(0,r.fS)(ie[Y],he[Y]))return!1}return!0}}return!1}function I(B){return B?B.length:0}},18883:function(Xe,H,t){t.d(H,{h:function(){return v}});var e=t(498342),l=t(512322),o=t(915925),d=t(579486);function v(){return new S}var S=function(){function s(){this.categories=[],this.staticMeasureColumns=[],this.dynamicMeasureColumns=[]}return s.prototype.withCategory=function(u){var i=u.values,a=u.identityFrom,n=u.source.type,m={source:u.source,identityFields:u.identityFrom.fields,identity:u.identityFrom.identities||[],values:i};if(!u.identityFrom.identities)for(var f=0,V=i.length;f<V;f++)m.identity.push(h(a,f,i[f],n));return this.categories||(this.categories=[]),this.categories.push(m),this},s.prototype.withCategories=function(u){return _.isEmpty(this.categories)?this.categories=u:Array.prototype.push.apply(this.categories,u),this},s.prototype.withValues=function(u){e.fF.assertValue(u,"options");var i=u.columns;e.fF.assertValue(i,"columns");for(var a=0,n=i;a<n.length;a++)this.staticMeasureColumns.push(n[a].source);return this.staticSeriesValues=i,this},s.prototype.withGroupedValues=function(u){e.fF.assertValue(u,"options");var i=u.groupColumn;e.fF.assertValue(i,"groupColumn"),this.dynamicSeriesMetadata={column:i.source,identityFrom:i.identityFrom,values:i.values};for(var n=0,m=u.valueColumns;n<m.length;n++)this.dynamicMeasureColumns.push(m[n].source);return this.dynamicSeriesValues=u.data,this},s.prototype.fillData=function(u){var i=this,a=_.head(this.categories),n=a&&a.values?a.values.length:0;if(this.hasDynamicSeries())for(var m=function(P,F){var E=f.dynamicSeriesValues[P];e.fF.assert(function(){return E.length===i.dynamicMeasureColumns.length},"seriesMeasures.length === this.dynamicMeasureColumns.length");for(var w=0,x=f.dynamicMeasureColumns.length;w<x;w++)r(u[P*x+w],E[w],n)},f=this,V=0,p=this.dynamicSeriesMetadata.values.length;V<p;V++)m(V);if(this.hasStaticSeries())for(var C=this.hasDynamicSeries()?this.dynamicSeriesValues.length*this.dynamicMeasureColumns.length:0,b=0,y=this.staticMeasureColumns.length;b<y;b++)r(u[C+b],this.staticSeriesValues[b],n)},s.prototype.build=function(){for(var u,i,a=[],n={},f=this.dynamicSeriesMetadata,V=0,p=this.categories;V<p.length;V++)c(a,p[V].source);if(this.hasDynamicSeries()){c(a,f.column),n.values=(0,d.Yv)([],f.identityFrom.fields,f.column);for(var b=f.values,y=new Map,D=0,P=this.dynamicMeasureColumns;D<P.length;D++)null!==(u=(F=P[D]).formatSource)&&void 0!==u&&u.formatString&&y.set(F.formatSource.formatString,new Map);for(var E=0;E<b.length;E++)for(var w=b[E],x=h(f.identityFrom,E,w,f.column.type),R=0,g=this.dynamicMeasureColumns;R<g.length;R++){var F=g[R];(L=_.toPlainObject(F)).groupName=w,y.has(F)&&y.get(F).set(L.groupName,L),L.rolesIndex&&delete L.rolesIndex,c(a,L),n.values.push({source:L,values:[],identity:x})}if(y.size>0)for(var M=function(j){null!==(i=j.formatSource)&&void 0!==i&&i.formatString&&(e.fF.assert(function(){return y.has(j.formatSource.formatString)},"formatString column must be in dynamicFormatStringMappings"),j.formatSource={formatString:y.get(j.formatSource.formatString).get(j.groupName)})},T=0,O=a;T<O.length;T++)M(L=O[T]);if(0===b.length)for(var N=0,A=this.dynamicMeasureColumns;N<A.length;N++){var L;F=A[N],c(a,L=_.toPlainObject(F)),n.values.push({source:L,values:[]})}if(this.hasStaticSeries()){var I=n.values.grouped();n.values.grouped=function(){return I},this.appendStaticMeasureColumns(a,n.values)}}else n.values=(0,d.Yv)(),this.appendStaticMeasureColumns(a,n.values);var B=this.categories;_.isEmpty(B)||(n.categories=B),this.fillData(n.values);var U={metadata:{columns:a},categorical:n};if(this.isLegalDataView(U))return U},s.prototype.appendStaticMeasureColumns=function(u,i){if(e.fF.assertValue(u,"metadataColumns"),e.fF.assertValue(i,"valueColumns"),!_.isEmpty(this.staticMeasureColumns))for(var a=0,n=this.staticMeasureColumns;a<n.length;a++){var m=n[a];c(u,m),i.push({source:m,values:[]})}},s.prototype.isLegalDataView=function(u){return!(this.hasDynamicSeries()&&this.hasStaticSeries()&&s.isVisualDataView(u.metadata.columns))},s.isVisualDataView=function(u){return!_.isEmpty(u)&&_.some(u,function(i){return!!i.queryName})},s.prototype.hasDynamicSeries=function(){return!!this.dynamicSeriesMetadata},s.prototype.hasStaticSeries=function(){return!!this.staticSeriesValues},s}();function h(s,u,i,a){var n=s.identities;return n?n[u]:(e.fF.assert(function(){return s.fields&&1===s.fields.length},"Inferring identity, expect exactly one field."),(0,o.TZ)((0,l.Dg)(s.fields[0],(0,l.kQ)(i,a))))}function c(s,u){_.includes(s,u)||s.push(u)}function r(s,u,i){e.fF.assertValue(s,"target"),e.fF.assertValue(u,"source"),e.fF.assertValue(i,"categoryLength");var a=u.values;e.fF.assert(function(){return i===a.length||0===i},"categoryLength === values.length || categoryLength === 0"),s.values=a;var n=u.highlights;n&&(e.fF.assert(function(){return i===n.length},"categoryLength === highlights.length"),s.highlights=n);var f,m=u.objects;m&&(e.fF.assert(function(){return i===m.length},"categoryLength === objects.length"),s.objects=m),void 0!==u.minLocal&&(f||(f={}),f.minLocal=u.minLocal),void 0!==u.maxLocal&&(f||(f={}),f.maxLocal=u.maxLocal),f&&(s.source.aggregates=f,_.extend(s,f))}},887909:function(Xe,H,t){t.d(H,{KH:function(){return V},PO:function(){return P}});var e=t(973188),l=t(979868),o=t(498342),d=t(781322),v=t(812454),S=t(512322),h=t(520469),c=t(38348),r=t(470081),s=t(778575),u=t(194994);function i(N){return new a(N)}var a=function(){function N(A){var I;this.dataView=A,o.fF.assertValue(A,"dataView"),this.columnsByRole={},this.valueSources=[];var B={};if(this.dataView.values)for(var U=0,W=this.dataView.values;U<W.length;U++){var j=W[U];this.valueSources.push(j.source);var K=j.source.rootSource;K&&(B[j.source.index]=K)}(I=this.valueSources).unshift.apply(I,_.values(B))}return N.prototype.getExprColumn=function(A,I){return(0,u.T5)(A,this.valueSources,I?void 0:this.groupName)},N.prototype.getScopedEvalExprValue=function(A){var I=A.decomposeGlobalAggregateOfScopedExpr();if(I){var B=_.chain(this.valueSources).filter(function(W){return null==W.groupName}).value(),U=(0,u.T5)(I.source,B);return U?(0,u._L)(U,I.func):void 0}if(A.hasInnerMostScope())return this.getExprValue(A.expression);A.hasGlobalScope()?o.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):o.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},N.prototype.getExprValue=function(A){var I=this.index;if(_.isNumber(I)){var B=this.dataView.values;if(B){var U=(0,u.T5)(A,this.valueSources,this.groupName),W=_.find(B,function(j){return j.source===U});if(W)return this.useHighlightValues?W.highlights[I]:W.values[I]}}},N.prototype.getRoleValues=function(A){var I=this,B=this.columnsByRole,U=B[A];if(U||(U=B[A]=function(N,A){return o.fF.assertValue(N,"dataViewCategorical"),m(N.values,A)||m(N.categories,A)}(this.dataView,A)),U&&null!=this.index)return _.map(U,function(j){return j.values[I.index]})},N.prototype.setCurrentRowIndex=function(A){o.fF.assertValue(A,"index"),this.index=A},N.prototype.resetCurrentRowIndex=function(){delete this.index},N.prototype.setCurrentColumnGroupName=function(A){o.fF.assertValue(void 0!==A,"groupName"),this.groupName=A},N.prototype.useHighlights=function(A){this.useHighlightValues=A},N}();function m(N,A){if(o.fF.assertAnyValue(N,"columns"),N){for(var I=[],B=0,U=N;B<U.length;B++){var W=U[B],j=W.source.roles;!j||!j[A]||I.push(W)}return I}}var f=t(568011);function V(N,A,I,B,U,W,j,K){o.fF.assertValue(N,"dataViewCategorical"),o.fF.assertAnyValue(A,"selectTransforms"),o.fF.assertValue(I,"objectDescriptors"),o.fF.assertValue(B,"objectDefnsForSelector");for(var ee=0,ie=B;ee<ie.length;ee++){var he=ie[ee],q=he.selector,Y=he.rules,G=he.objects;o.fF.assertValue(q,"selector"),o.fF.assertAnyValue(Y,"rules"),o.fF.assertValue(G,"objectDefns");var me=(0,v.GT)(q);q=x(N,q);var re=(0,f.U)(q,U);j&&(j.selector=q,j.targetExpr=(0,v.AV)(q,A)),p(N,I,q,me,G,re,W,j),D(N,I,q,me,G,re,W,j,K),E(N,I,q,G,W,j,K)}}function p(N,A,I,B,U,W,j,K){if(o.fF.assertValue(N,"dataViewCategorical"),o.fF.assertValue(A,"objectDescriptors"),o.fF.assertValue(I,"selector"),o.fF.assertValue(B,"containsWildcard"),o.fF.assertValue(U,"objectDefns"),N.categories&&0!==N.categories.length){var ee=function(N,A,I){o.fF.assertValue(N.categories[0],"dataViewCategorical.categories[0]");for(var B=N.categories[0].identity,U=[],W=0,j=N.categories;W<j.length;W++){var K=j[W];if(!K.identityFields||!I.matchesKeys([K.identityFields],1))return;U.push(K)}o.fF.assert(function(){return U.length===N.categories.length},"Column length mismatch");var ee=A.metadata;if(ee){var ie=N.values;if(ie)for(var he=0,q=ie.length;he<q;he++){var Y=ie[he];if(Y.source.queryName===ee){U=[Y];break}}}return{columns:U,identities:B}}(N,I,W);if(ee){var q,ie=function(N){return _.some(N.values,function(A){return!!A.highlights})}(N),he=ee.identities,Y=i(N);if(he){for(var G,me,re=0,le=he.length;re<le;re++)if(B||W.matches([he[re]])){switch(Y.setCurrentRowIndex(re),I.highlightMatching){case void 0:case 0:G=!0,me=!1;break;case 1:G=!0,me=ie;break;case 2:G=!ie,me=ie;break;default:o.fF.assertNever(I.highlightMatching)}if(G){Y.useHighlights(!1);var Ne=(0,s.PJ)(j,Y,A,U,K);if(Ne)for(var Ye=0,Je=ee.columns;Ye<Je.length;Ye++){var pe=(_e=Je[Ye]).objects;pe||(pe=_e.objects=new Array(le)),pe[re]||(pe[re]={}),(0,r.PM)(pe[re],Ne,I.id,I.order)}q=!0}if(me){Y.useHighlights(!0);var fe=(0,s.PJ)(j,Y,A,U,K);if(fe)for(var oe=0,ye=ee.columns;oe<ye.length;oe++){var _e,Ce=(_e=ye[oe]).highlightObjects;Ce||(Ce=_e.highlightObjects=new Array(le)),Ce[re]||(Ce[re]={}),(0,r.PM)(Ce[re],fe,I.id,I.order)}q=!0}if(!B)return q}return q}}}}function y(N,A,I){return o.fF.assertAnyValue(A,"propertyDefn"),!!(A instanceof S.Il&&(0,l.NH)(A)&&0===A.attributeKind)||function(N,A,I){return I.measureDrivenDataLabels&&"labels"===N&&null!=A}(N,A,I)||(0,h.ZG)(A)||function(N,A,I){var B,U,W=null===(U=null===(B=A.solid)||void 0===B?void 0:B.color)||void 0===U?void 0:U.kind;return I.categoricalSecondaryCF&&-1!==["labels","categoryLabels","totals"].indexOf(N)&&(24===W||42===W||4===W||3===W)}(N,A,I)}function D(N,A,I,B,U,W,j,K,ee){o.fF.assertValue(N,"dataViewCategorical"),o.fF.assertValue(A,"objectDescriptors"),o.fF.assertValue(I,"selector"),o.fF.assertValue(B,"containsWildcard"),o.fF.assertValue(U,"objectDefns");var ie=N.values;if(ie&&ie.identityFields&&W.matchesKeys([ie.identityFields],1)){var he=ie.grouped();if(he){for(var me,q=i(N),Y=I.metadata,G=L(U,y,ee),re=0,le=he;re<le.length;re++){var Ee=le[re];if(void 0!==Ee.name){_.isEmpty(G)||(q.setCurrentColumnGroupName(Ee.name),w(A,I,G,j,K,q,Ee,ee));var Ne=Ee.values;if(B||W.matches([Ee.identity])){var Ye=(0,s.PJ)(j,q,A,U,K);if(Ye)if(Y)for(var Je=0,_e=Ne.length;Je<_e;Je++){var pe=Ne[Je],fe=pe.source;if(fe.queryName===Y){var oe=(0,d.ED)(fe),ye=oe.objects;ye||(ye=oe.objects={}),(0,r.PM)(ye,Ye,I.id,I.order),pe.source=oe,me=!0;break}}else{var Ce=Ee.objects;Ce||(Ce=Ee.objects={}),(0,r.PM)(Ce,Ye,I.id,I.order),P(ie,he),me=!0}if(!B)return!0}}}return me}}}function P(N,A){N.grouped=A?function(){return A}:function(){return function(N){o.fF.assertValue(N,"values");for(var I,A=[],B=0,U=N.length;B<U;B++){var W=N[B];if(!I||I.identity!==W.identity){if(I={values:[]},W.identity){I.identity=W.identity;var j=W.source;void 0!==j.groupName?I.name=j.groupName:j.displayName&&(I.name=j.displayName)}A.push(I)}I.values.push(W)}return A}(N)}}function E(N,A,I,B,U,W,j){if(o.fF.assertValue(N,"dataViewCategorical"),o.fF.assertValue(A,"objectDescriptors"),o.fF.assertValue(I,"selector"),o.fF.assertValue(B,"objectDefns"),_.isEmpty(N.categories)){var K=N.values;if(!K||_.isEmpty(K.identityFields)){var ee=function(N,A){var I=A.metadata;if(void 0!==I&&N)return o.fF.assert(function(){return 1===_.filter(N,function(B){return B.source.queryName===I}).length},"Only one column has to match"),_.find(N,function(B){return B.source.queryName===I})}(N.values,I);if(ee){var ie=i(N),he=(0,v.N6)(I);if(B=L(B,y,j),!_.isEmpty(B)&&he){o.fF.assert(function(){return N.values.length>0},"dataViewCategorical.values.length > 0"),o.fF.assert(function(){return N.values[0].values.length<=1},"There has to be max 1 row since there are no category groupings"),ie.setCurrentRowIndex(0);var Y=(0,s.PJ)(U,ie,A,B,W);if(Y){var G=ee.objects;G||(G=ee.objects=[]),G[0]||(G[0]={}),(0,r.PM)(G[0],Y,I.id,I.order)}}}}}}function w(N,A,I,B,U,W,j,K){if(o.fF.assertValue(N,"objectDescriptors"),o.fF.assertValue(A,"selector"),o.fF.assertValue(I,"objectDefns"),o.fF.assertValue(W,"evalContext"),o.fF.assertValue(j,"valueGrouping"),(0,v.N6)(A))for(var ee=function(N,A,I){return void 0===(null==A?void 0:A.metadata)&&I.categoricalSecondaryCF?N:_.filter(N,function(B){return B.source.queryName===A.metadata})}(j.values,A,K),ie=0,he=ee;ie<he.length;ie++){var q=he[ie];o.fF.assertValue(q.source.groupName===j.name,"targetColumn.source.groupName");for(var Y=q.values.length,G=0;G<Y;G++){W.setCurrentRowIndex(G),W.useHighlights(!1);var me=(0,s.PJ)(B,W,N,I,U);if(me){var re=q.objects;re||(re=q.objects=new Array(Y)),re[G]||(re[G]={}),(0,r.PM)(re[G],me,A.id,A.order)}if(null!=q.highlights){W.useHighlights(!0);var le=(0,s.PJ)(B,W,N,I,U);if(le){var Ee=q.highlightObjects;Ee||(Ee=q.highlightObjects=new Array(Y)),Ee[G]||(Ee[G]={}),(0,r.PM)(Ee[G],le,A.id,A.order)}}W.resetCurrentRowIndex()}}}function x(N,A){return(0,v._Q)(A)&&(A=(0,c.w)(A,function(I){return function(N,A){if(A.categories)for(var I=0,B=A.categories;I<B.length;I++){var U=B[I];if(U.source&&(0,c.s)([U.source],N))return[U.identityFields]}}(I,N)})),A}function L(N,A,I){return o.fF.assertValue(N,"objectDefns"),_.chain(N).map(function(B){return(0,e.__assign)((0,e.__assign)({},B),{properties:_.pickBy(B.properties,function(U){return A(B.name,U,I)})})}).filter(function(B){return!_.isEmpty(Object.keys(B.properties))}).value()}},629081:function(Xe,H,t){t.d(H,{eC:function(){return s},pP:function(){return r},zq:function(){return u}});var e=t(498342),l=t(781322),o=t(686311),d=t(358246),v=t(225069),S=t(509607),h=t(916214),c=t(194994);function r(y,D,P,F,E){e.fF.assertValue(y,"dataView"),e.fF.assertAnyValue(D,"objectDescriptors"),e.fF.assertAnyValue(P,"applicableRoleMappings"),e.fF.assertAnyValue(F,"projectionActiveItems");var w=y,x=y.categorical;if(x){var R=function(y,D,P){e.fF.assertValue(y,"dataViewCategorical"),e.fF.assertAnyValue(D,"applicableRoleMappings");var F,E=_.chain(D).filter(function(L){return!(0,v.zY)(L)}).map(function(L){return L.categorical}).value(),w=!_.isEmpty(E)&&_.every(E,function(L){return!!L});if(w){var x=function(y){e.fF.assertNonEmpty(y,"categoricalRoleMappings"),e.fF.assert(function(){return _.every(y,function(P){return!!P})},"categoricalRoleMappings must not contain falsy element");var D=(0,v.y4)(y,v.O2);if(1===_.size(D))return _.head(D)}(E);if(x&&_.includes(P,x)&&function(y,D){e.fF.assertValue(y,"categoricalRoleName"),e.fF.assertNonEmpty(D,"roleMappings"),e.fF.assert(function(){return _.every(D,function(F){return F.categorical})},"All specified roleMappings are expected to target categorical");var P=_.every(D,function(F){return!_.isEmpty(F.conditions)&&_.every(F.conditions,function(E){return E[y]&&1===E[y].max})});return P}(x,D)){var R=_.filter(y.categories,function(L){return L.source.roles&&!!L.source.roles[x]});if(!_.isEmpty(R)){var g=_.every(R,function(L){return L.values.length===R[0].values.length});g&&(F={roleName:x,categories:R})}}}return F}(x,P,E),g=(0,c.dM)(y.metadata.columns);if(R&&(R.categories.length>=2||g)){var L=_.chain(F&&F[R.roleName]).filter(function(T){return T.suppressConcat}).map(function(T){return T.queryRef}).value();w=m(y,(0,S.$v)(D),R.roleName,R.categories,L,g)}}return w}function s(y,D,P,F,E){var w;if(void 0===E&&(E=!1),e.fF.assertValue(y,"metadata"),e.fF.assertAnyValue(D,"formatStringPropId"),e.fF.assertValue(F,"categorical"),!_.isEmpty(F.categories)&&F.categories.length>=2){var x=(0,l.ED)(y.columns);w=m({metadata:(0,l.ED)(y,function(L){L.columns=x}),categorical:F},D,P,F.categories,[],void 0,E)}else w={metadata:y,categorical:F};return w}function u(y){var D=Object.getPrototypeOf(y);return D&&D.categories?D.categories:y.categories}function m(y,D,P,F,E,w,x){void 0===x&&(x=!1),e.fF.assert(function(){return y&&y.categorical&&_.size(y.categorical.categories)>=1},"dataView && dataView.categorical && _.size(dataView.categorical.categories) >= 1"),e.fF.assertAnyValue(D,"formatStringPropId"),e.fF.assertValue(P,"roleName"),e.fF.assert(function(){return!_.isEmpty(F)},"!_.isEmpty(columnsSortedByProjectionOrdering)"),e.fF.assert(function(){return _.every(F,function(he){return _.includes(y.categorical.categories,he)})},"every column in columnsSortedByProjectionOrdering should exist in dataView.categorical.categories");var L,M,R=F.length-1,g=_.filter(F,function(he,q){return q===R||!_.includes(E,he.source.queryName)});1===F.length?(x||(L=g[0].values),M=g[0].source.type):(x||(L=function(y,D){e.fF.assertValue(y,"columnsSortedByProjectionOrdering"),e.fF.assertAnyValue(D,"formatStringPropId");for(var P=[],F=0,E=y;F<E.length;F++)for(var w=E[F],x=(0,o.EO)(w.source,D),R=0,g=w.values.length;R<g;R++){var M=(0,o.WU)(w.values&&w.values[R],x);P[R]=void 0===P[R]?M:P[R]+" "+M}return P}(g,D)),M=d.Ge.fromDescriptor({text:!0}));var O=function(y,D,P,F){var E;if(e.fF.assertValue(y,"roleName"),e.fF.assertNonEmpty(D,"sourceColumnsSortedByProjectionOrdering"),e.fF.assert(function(){return 1===_.chain(D).map(function(O){return O.isMeasure}).uniq().value().length},"pre-condition: caller code should not attempt to combine a mix of measure columns and non-measure columns"),F)E=function(y,D){return y+" "+D}(F,_.last(D).displayName);else for(var x=0,R=D;x<R.length;x++){var g=R[x];E=null==E?g.displayName:E+" "+g.displayName}var L={};L[y]=!0;var M={displayName:E,roles:L,type:P},T=_.last(D);return void 0!==T.isMeasure&&(M.isMeasure=T.isMeasure),M.queryName=T.queryName,M}(P,_.map(g,function(he){return he.source}),M,w),N=(0,l.qO)(y);if(function(y,D){e.fF.assertValue(y,"transformedDataView"),e.fF.assertValue(D,"newColumn");var P=(0,l.qO)(y.metadata.columns);P.push(D);var F=(0,l.qO)(y.metadata);F.columns=P,y.metadata=F}(N,O),!x){var A=y.categorical,B=function(y,D,P,F){e.fF.assert(function(){return y&&y.length>=1},"sourceColumnsSortedByProjectionOrdering && sourceColumnsSortedByProjectionOrdering.length >= 1"),e.fF.assertValue(D,"columnMetadata"),e.fF.assertValue(P,"concatenatedValues"),e.fF.assertAnyValue(F,"dataViewObjects");var E={source:D,values:P},w=y[0];return w.identity&&(E.identity=w.identity),w.identityFields&&(E.identityFields=w.identityFields),F&&(E.objects=F),E}(g,O,L,(0,h.OC)(A.categories)),U=_.last(F),W=_.findIndex(A.categories,function(he){return he===U}),j=(0,l.qO)(A.categories);j.splice(W,0,B);for(var K=function(q){_.find(F,function(Y){return Y===j[q]})&&j.splice(q,1)},ee=j.length-1;ee>=0;ee--)K(ee);var ie=(0,l.qO)(A);ie.categories=j,N.categorical=ie}return N}},38348:function(Xe,H,t){t.d(H,{s:function(){return d},w:function(){return o}});var e=t(812454),l=t(478226);function o(v,S){for(var h={data:[],id:v.id,metadata:v.metadata,order:v.order},c=0,r=v.data;c<r.length;c++){var s=r[c];if((0,e.j9)(s)){var u=S(s.roles);if(!_.isEmpty(u)){for(var i=0,a=u;i<a.length;i++)h.data.push((0,l.ms)(a[i]));continue}}else h.data.push(s)}return h}function d(v,S){for(var h=0,c=v;h<c.length;h++){var s=c[h].roles;if(!s||!_.some(S,function(u){return s[u]}))return!1}return!0}},225069:function(Xe,H,t){t.d(H,{G8:function(){return x},O2:function(){return s},Ti:function(){return m},V3:function(){return f},VO:function(){return h},VV:function(){return V},Xs:function(){return i},Xw:function(){return I},ZZ:function(){return S},_1:function(){return u},eD:function(){return A},mn:function(){return E},nG:function(){return v},oJ:function(){return w},u5:function(){return R},wj:function(){return P},y4:function(){return r},zY:function(){return d}});var e=t(365358),l=t(498342),o=t(869053);function d(B){return B&&B.usage&&B.usage.regression||void 0}var v=function(){function B(U){this.includeScopedValuesRoles=U,this.roleNames=[]}return B.prototype.visitRole=function(U,W){(this.includeScopedValuesRoles||"MatrixRowsScopedValue"!==W)&&this.roleNames.push(U)},B.fromMatrixRows=function(U,W){var j=new this(W);return(0,o.Ay)(U,j),j.roleNames},B.fromMatrixColumns=function(U){var W=new this;return(0,o.Ay)(U,W),W.roleNames},B.fromMatrixValues=function(U){var W=new this;return(0,o.hw)(U,W),W.roleNames},B}();function S(B){return!!(B&&B.usage&&B.usage.forecast)}function h(B){return!!(B&&B.usage&&B.usage.anomalyDetection)}function r(B,U){if(l.fF.assertValue(B,"categoricalRoleMappings"),l.fF.assertValue(U,"rolesGetter"),0!==_.size(B)){var W=_.map(B,function(K){return U(K)}),j=W[0];if(!(W.length>=2)||_.every(W,function(K){return(0,e.NF)(K,j,function(ee,ie){return ee===ie})}))return j}}function s(B){if(l.fF.assertValue(B,"categoricalRoleMapping"),!B.categories)return[];var U=[];return(0,o.Sr)(B.categories,{visitRole:function(j){U.push(j)}}),U}function u(B){if(l.fF.assertAnyValue(B,"roleMappings"),!B)return 0;for(var U=0,W=0,j=B;W<j.length;W++){var K=j[W];K.categorical&&(U|=1),K.matrix&&(U|=2),K.single&&(U|=8),K.table&&(U|=8),K.tree&&(U|=16)}return U}function i(B){if(B){if(B.top)return"top";if(B.window)return"window";if(B.bottom)return"bottom";if(B.binnedLineSample)return"binnedLineSample";if(B.overlappingPointsSample)return"overlappingPointsSample";if(B.sample)return"sample";if(B.topNPerLevel)return"topNPerLevel"}}function m(B){return!!B&&!!B.for}function f(B){return!!B&&!!B.composite}function V(B){return!!B&&!!B.select}function P(B){return!!B&&!!B.group}function E(B){return!!B&&!!B.for}function w(B){return!!B&&!!B.composite}function x(B){return!!B&&!!B.select}function R(B){return!!B&&!!B.scope}function A(B){return function(B){return!!B&&!!B.bind}(B)?B.bind.to:E(B)?B.for.in:void l.fF.assertNever(B)}function I(B){return l.fF.assertValue(B,"role"),_.isEmpty(B.items)?[]:_.isEmpty(B.activeItems)?B.items:_.filter(B.items,function(U){return _.includes(B.activeItems,U.queryName)})}},869053:function(Xe,H,t){t.d(H,{Ay:function(){return c},Jj:function(){return h},Sr:function(){return d},aU:function(){return o},fl:function(){return v},hw:function(){return s},oF:function(){return l},vS:function(){return y}});var e=t(498342);function l(F,E){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor");var w=F.categorical;w&&o(w,E);var x=F.table;x&&function(F,E){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor");var w=F.rows;f(w,E,"TableField"),V(w,E,"TableField"),C(w,E,"TableField"),D(w,E)}(x,E);var R=F.matrix;R&&h(R,E);var g=F.tree;g&&function(F,E){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor"),function(F,E){e.fF.assertAnyValue(F,"mapping"),e.fF.assertValue(E,"visitor"),F&&(V(F,E,"TreeNode"),D(F,E))}(F.nodes,E),function(F,E){e.fF.assertAnyValue(F,"mapping"),e.fF.assertValue(E,"visitor"),F&&V(F,E,"TreeValue")}(F.values,E)}(g,E);var L=F.single;L&&function(F,E){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor"),E.visitRole(F.role,"SingleField")}(L,E)}function o(F,E){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor"),d(F.categories,E);var w=F.values;v(w,E),y(w,E),D(F,E)}function d(F,E){e.fF.assertAnyValue(F,"mapping"),e.fF.assertValue(E,"visitor"),F&&(f(F,E,"CategoricalCategory"),V(F,E,"CategoricalCategory"),C(F,E,"CategoricalCategory"),D(F,E))}function v(F,E){if(e.fF.assertAnyValue(F,"mapping"),e.fF.assertValue(E,"visitor"),F){f(F,E,"CategoricalValue"),V(F,E,"CategoricalValue"),C(F,E,"CategoricalValue");var w=F.group;if(w)for(var x=0,R=w.select;x<R.length;x++){var g=R[x];f(g,E,"CategoricalValueGroup"),V(g,E,"CategoricalValueGroup")}}}function h(F,E){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor"),c(F.rows,E),function(F,E){i(F,E,"MatrixColumnsGroup")}(F.columns,E),s(F.values,E)}function c(F,E){!function(F,E,w){if(e.fF.assertAnyValue(F,"mapping"),e.fF.assertValue(E,"visitor"),F){V(F,E,w),function(F,E,w){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor");var x=F.select;if(x)for(var R=0,g=x;R<g.length;R++){var L=g[R];f(L,E,w),V(L,E,w),p(L,E,w)}}(F,E,w),D(F,E);var x=F.values;if(!x)return;V(x,E,"MatrixRowsScopedValue"),C(x,E,"MatrixRowsScopedValue")}}(F,E,"MatrixRowsGroup")}function s(F,E){i(F,E,"MatrixIntersection")}function i(F,E,w){e.fF.assertAnyValue(F,"mapping"),e.fF.assertValue(E,"visitor"),F&&(V(F,E,w),C(F,E,w),D(F,E))}function f(F,E,w){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor");var x=F.bind;x&&E.visitRole(x.to,w)}function V(F,E,w){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor");var x=F.for;x&&E.visitRole(x.in,w)}function p(F,E,w){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor");var x=F.composite;if(x){E.enterComposite&&E.enterComposite();for(var R=0,g=x;R<g.length;R++){var L=g[R];f(L,E,w),V(L,E,w)}E.exitComposite&&E.exitComposite()}}function C(F,E,w){e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor");var x=F.select;if(x)for(var R=0,g=x;R<g.length;R++){var L=g[R];f(L,E,w),V(L,E,w)}}function y(F,E){if(e.fF.assertAnyValue(F,"mapping"),e.fF.assertValue(E,"visitor"),F){var w=F.group;w&&(E.visitRole(w.by,"CategoricalSeries"),D(w,E))}}function D(F,E){if(e.fF.assertValue(F,"mapping"),e.fF.assertValue(E,"visitor"),E.visitReduction){var w=F.dataReductionAlgorithm;w&&E.visitReduction(w)}}},470081:function(Xe,H,t){t.d(H,{AO:function(){return v},NA:function(){return o},PM:function(){return s},RK:function(){return d},RR:function(){return S},W7:function(){return c},bC:function(){return r},t6:function(){return h}});var e=t(498342),l=t(85179);function o(i,a,n,m){return e.fF.assertAnyValue(i,"objects"),e.fF.assertValue(a,"propertyId"),e.fF.assert(function(){return"$"!==a.propertyName.charAt(0)},"Properties starting with $ are reserved."),i?(0,l.N)(i[a.objectName],a.propertyName,n,m):n}function d(i,a,n){return i&&i[a]?i[a]:n}function v(i,a){var n=d(i,a);if(n)return n.$instances}function S(i,a){var n=v(i,a);if(n){var m={};for(var f in n){var V=n[f].$order;null!=V&&(m[f]=V)}return m}}function h(i,a){var n,m,f,V;if(a)return null===(V=null===(f=null===(m=null===(n=null==i?void 0:i.metadata)||void 0===n?void 0:n.objectsRules)||void 0===m?void 0:m[a.objectName])||void 0===f?void 0:f[a.propertyName])||void 0===V?void 0:V.gradient}function c(i,a,n,m){var f=o(i,a,void 0,m);return f&&f.solid&&void 0!==f.solid.color?f.solid.color:n}function r(i,a,n){var m=o(i,a,void 0,n);return!(!m||!m.solid||!m.solid.color)}function s(i,a,n,m){var f;for(var V in e.fF.assertValue(i,"DataViewObjects.mergeObjects - destination"),e.fF.assertValue(a,"DataViewObjects.mergeObjects - source"),a){var p=a[V];if(null!=p){var C=i[V];if(!C){null==n?i[V]=p:(i[V]={$instances:(f={},f[n]=p,f)},null!=m&&(i[V].$instances[n].$order=m));continue}u(C,p,n,m)}}}function u(i,a,n,m){if(e.fF.assertValue(i,"DataViewObjects.mergeObject - destination"),e.fF.assertValue(a,"DataViewObjects.mergeObject - source"),e.fF.assert(function(){return null==a.$instances},"DataViewObjects.mergeObject - source should not include $instances"),n){var f=i.$instances;null==f&&(f=i.$instances={});var V=f[n];V||(V=f[n]={}),u(V,a,null),null!=m&&(V.$order=m)}else for(var p in a)"$instances"!==p&&"$order"!==p&&null!=a[p]&&(i[p]=a[p])}},85179:function(Xe,H,t){t.d(H,{N:function(){return l},y:function(){return o}});var e=t(498342);function l(d,v,S,h){if(e.fF.assertAnyValue(d,"object"),e.fF.assertValue(v,"propertyName"),!d)return S;if(h){var c=d.$instances;if(!c)return S;var r=c[h];if(!r)return S;d=r}var s=d[v];return void 0===s?S:s}function o(d,v,S,h,c){e.fF.assertAnyValue(d,"object"),e.fF.assertValue(v,"propertyName");var r=l(d,v,void 0,h);return r&&r.solid&&(r.solid.color||c&&null===r.solid.color)?r.solid.color:S}},204553:function(Xe,H,t){t.d(H,{AV:function(){return f},E2:function(){return D},ES:function(){return O},GQ:function(){return L},Gc:function(){return V},Lo:function(){return I},NA:function(){return w},On:function(){return E},Pg:function(){return N},Rc:function(){return q},TX:function(){return C},Vj:function(){return ie},d9:function(){return B},dM:function(){return F},dn:function(){return W},e4:function(){return K},er:function(){return Y},hO:function(){return R},hu:function(){return A},hz:function(){return M},l7:function(){return p},my:function(){return g},rQ:function(){return ee},sO:function(){return P},u4:function(){return he},ug:function(){return x},xb:function(){return U},xl:function(){return m},zx:function(){return n}});var e=t(973188),l=t(979868),o=t(669266),d=t(498342),v=t(756846),S=t(812454),h=t(114096),c=t(512322),r=t(864185),s=t(520469),u=t(267103),i=t(935167),a=t(509607);function n(G,me,re){d.fF.assertValue(G,"defns");var le=G[me];le||(G[me]=[],le=G[me]);for(var Ee=0,Ne=le.length;Ee<Ne;Ee++){var Ye=le[Ee];if((0,S.fS)(Ye.selector,re))return Ye}return le.push({selector:re,properties:{}}),le[le.length-1]}function m(G,me,re,le){d.fF.assertValue(G,"defns");var Ee=_.find(G[me],function(Ne){return(0,S.fS)(Ne.selector,re)});Ee&&(Ee.selector=le)}function f(G,me,re){d.fF.assertValue(G,"defns");var le=G[me];if(!le)return!1;var Ee=_.remove(le,function(Ne){return(0,S.fS)(Ne.selector,re)}).length>0;return _.isEmpty(le)&&delete G[me],Ee}function V(G,me){if(G&&me)for(var re in me)for(var Ee=0,Ne=me[re];Ee<Ne.length;Ee++){var Ye=Ne[Ee];for(var Je in Ye.properties)D(G,re,Ye.selector,Je)}}function p(G,me,re){if(d.fF.assertValue(G,"Trying to cascade into undefined DataViewObjectDefinitions"),G&&me)for(var le in me){var Ee=me[le];if(Ee){var Ne=G[le];Ne||(Ne=G[le]=[]),b(Ne,Ee,re)}}}function C(G,me,re,le,Ee){var Ne=g(G,me,re);if(Ne){var Ye=Ne.properties[le];Ye&&(n(G,Ee,re).properties[le]=Ye,delete Ne.properties[le])}}function b(G,me,re){var le;if(re)G.splice.apply(G,(0,e.__spreadArray)([0,0],me||[],!1));else for(var Ee=0,Ne=me;Ee<Ne.length;Ee++){var Ye=Ne[Ee];le=!1;for(var Je=0,_e=G;Je<_e.length;Je++){var pe=_e[Je];if((0,S.fS)(pe.selector,Ye.selector)){y(pe.properties,Ye.properties),le=!0;break}}if(!le){var fe={selector:Ye.selector,properties:{}};y(fe.properties,Ye.properties),G.push(fe)}}}function y(G,me){for(var re in me){var le=me[re];le&&(G[re]||(G[re]=le))}}function D(G,me,re,le){d.fF.assertValue(G,"defns");var Ee=L(G,me,re),Ne=_.sumBy(Ee,function(Ye){return(0,i.Ow)(Ye,le)?1:0});return F(G,{objectName:me,propertyName:le},re),Ne}function P(G,me,re,le){d.fF.assertValue(G,"defns"),d.fF.assertValue(me,"propertyId"),n(G,me.objectName,re).properties[me.propertyName]=le}function F(G,me,re){if(null==(null==re?void 0:re.order))return!1;var le=L(G,me.objectName,re,{skipId:!0,skipOrder:!0}).filter(function(oe){var ye;return null!=(null===(ye=oe.properties)||void 0===ye?void 0:ye[me.propertyName])}),Ee=_.map(le,function(oe){var ye;return null===(ye=oe.selector)||void 0===ye?void 0:ye.order}).filter(function(oe){return null!=oe}).sort();Ee=_.uniq(Ee);for(var Ne=function(ye,Ce){var Be;return null!=(null===(Be=ye.selector)||void 0===Be?void 0:Be.order)&&(ye.selector.order=Ce++),Ce},Ye=0,Je=function(ye){var Ce=_.filter(le,function(ve){var Re;return(null===(Re=ve.selector)||void 0===Re?void 0:Re.order)===ye});if(d.fF.assert(function(){return!!Ce.length},"should find definitions that match given order"),1===Ce.length)Ye=Ne(Ce[0],Ye);else{var Be=_.findIndex(Ce,function(ve){return(0,S.fS)(ve.selector,re)});Be>=0&&(Ye=Ne(Ce[Be],Ye),Ce.splice(Be,1));for(var be=0,Te=Ce;be<Te.length;be++)Ye=Ne(Te[be],Ye)}_.pullAll(le,Ce)},_e=0,pe=Ee;_e<pe.length;_e++)Je(pe[_e]);return 0!==Ee.length}function E(G,me,re,le,Ee){var Ne=T(me,re);Ne?Ee?P(G,Ne,le,Ee):D(G,Ne.objectName,le,Ne.propertyName):d.fF.assertFail("Property does not have an associated format string object")}function w(G,me,re){var le=x(G,me,re);if(le)return le[me.propertyName]}function x(G,me,re){var le=L(G,me.objectName,re);if(le)for(var Ee=0,Ne=le;Ee<Ne.length;Ee++){var Ye=Ne[Ee];if(Ye.properties[me.propertyName])return Ye.properties}}function R(G,me,re,le){var Ee=T(me,re);if(Ee){var Ne=w(G,Ee,le);if(Ne){if(q(Ne)&&(0,l.AW)(Ne))return Ne;d.fF.assertFail("Format value is not of the expected type")}}else d.fF.assertFail("Property does not have an associated format string object")}function g(G,me,re){if(d.fF.assertAnyValue(G,"defns"),d.fF.assertValue(me,"objectName"),d.fF.assertAnyValue(re,"selector"),G){var le=G[me];if(le)for(var Ee=0,Ne=le.length;Ee<Ne;Ee++){var Ye=le[Ee];if((0,S.fS)(Ye.selector,re))return Ye}}}function L(G,me,re,le){if(d.fF.assertAnyValue(G,"defns"),d.fF.assertValue(me,"objectName"),d.fF.assertAnyValue(re,"selector"),!G)return[];var Ee=G[me];return Ee?_.filter(Ee,function(Ne){return(0,S.fS)(Ne.selector,re,le)}):[]}function M(G,me,re){var le,Ne=me.propertyName,Ye=L(G,me.objectName,re,{skipId:!0,skipOrder:!0});if(Ye){var Je=_.filter(Ye,function(Ce){return!!Ce.properties[Ne]});if(!_.isEmpty(Je)){for(var _e={},pe=function(Be){var be=null===(le=Be.selector)||void 0===le?void 0:le.id;d.fF.assert(function(){return null!=be},"expected user-defined value"),_e[be]={selector:Be.selector,value:Be.properties[Ne]}},fe=0,oe=Je;fe<oe.length;fe++)pe(oe[fe]);return _e}}}function T(G,me){var re=(0,a.VM)(G,me);if(re)return re.formatStringProperty;d.fF.assertFail("Property is missing from the object descriptors")}function O(G,me){return G===me||(G instanceof h.yl&&me instanceof h.yl?h.yl.isSameFilter(G,me):G instanceof c.Il&&me instanceof c.Il?(0,o.fS)(G,me):(0,v.fS)(G,me))}function N(G,me){if(d.fF.assertValue(G,"a"),d.fF.assertValue(me,"b"),Object.keys(G).length!==Object.keys(me).length)return!1;for(var re in G)if(!O(G[re],me[re]))return!1;return!0}function A(G,me){d.fF.assertValue(G,"a"),d.fF.assertValue(me,"b");var re=[];for(var le in G)O(G[le],me[le])||re.push(le);for(var le in me)_.includes(re,le)||O(G[le],me[le])||re.push(le);return re}function I(G,me){d.fF.assertAnyValue(G,"value"),d.fF.assertValue(me,"DataViewObjectDefinition.encodePropertyValue - typeDescriptor should exist");var re=me,le=me;if(re.variantDeleteEmpty&&re.variant&&null==G)return G;if(re.bool||re.operations&&re.operations.searchEnabled)return"boolean"!=typeof G&&(G=!1),(0,c.O7)(!!G);if(re.text||re.duration||re.scripting&&re.scripting.source)return(0,c.fL)(G?G.toString():"");if(re.numeric){if($.isNumeric(G))return(0,c.tx)(+G)}else if(re.integer){if($.isNumeric(G))return(0,c.cA)(Math.floor(+G))}else if(le.fill){if(G){var Ee=G;return null==Ee.id||null==Ee.shade?{solid:{color:(0,c.fL)((Ee.value||G).toString())}}:{solid:{color:(0,c.e7)(Ee.id,Ee.shade)}}}if(null===G&&le.fill.solid&&le.fill.solid.color){var Ne=!1,Ye=le.fill.solid.color;if("boolean"!=typeof Ye&&(Ne=Ye.nullable),Ne)return{solid:{color:(0,c.IF)()}}}}else if(re.formatting){if(!(re.formatting.labelDisplayUnits||re.formatting.displayUnitsWithoutAuto||re.formatting.fontSize))return(0,c.fL)(G?G.toString():"");if(null!=G)return(0,c.tx)(+G)}else{if(re.enumeration||re.flagsEnumeration)return $.isNumeric(G)?(0,c.tx)(+G):(0,c.fL)(G?G.toString():"");if(re.misc)G=G?(0,c.fL)(G.toString()):null;else if(re.dateTime)G=G?(0,c.CQ)(G):null;else if(!re.variant)if(le.image){if(G){var Je=G,_e={name:(0,c.fL)(Je.name.toString()),url:(0,c.fL)(Je.url.toString())};return Je.scaling&&(_e.scaling=(0,c.fL)(Je.scaling.toString())),_e}}else if(le.geoJson){if(G){var pe=G;return{type:(0,c.fL)(pe.type.toString()),name:(0,c.fL)(pe.name.toString()),content:pe.content?(0,c.fL)(pe.content.toString()):(0,c.IF)()}}}else if(re.reference)(re.reference.bookmark||re.reference.section||re.reference.perspective||re.reference.bookmarkGroup||re.reference.rowRefText)&&(G=(0,c.fL)(G?G.toString():""));else if(le.filter)d.fF.assert(function(){return G instanceof h.yl},"DataViewObjectDefinition.encodePropertyValue - When encoding a filter it should be of type Semantic Filter");else{if(le.paragraphs){var oe=G,ye=[];if(_.isEmpty(oe))return ye;for(var Ce=0,Be=oe;Ce<Be.length;Ce++){var be=Be[Ce],Te=(0,e.__assign)((0,e.__assign)({},be),{textRuns:[]});if(_.isEmpty(be.textRuns))ye.push(Te);else{for(var ce=0,ve=be.textRuns;ce<ve.length;ce++){var Re=ve[ce];if((0,r.Y0)(Re))Te.textRuns.push(Re);else if((0,r.Zm)(Re)){var Ke=void 0;_.isNumber(Re.expression)?Ke=I(Re.expression,{integer:!0}):(0,u.U)(Re.expression)?Ke=Re.expression:d.fF.assertNever(Re.expression);var tt={cases:[],defaultCase:Re.defaultCase,expression:Ke};if(!_.isEmpty(Re.cases))for(var mt=0,He=Re.cases;mt<He.length;mt++){var ke=He[mt],ft={pattern:I(ke.pattern,{integer:!0}),textRuns:ke.textRuns};tt.cases.push(ft)}Te.textRuns.push(tt)}else d.fF.assertNever(Re)}ye.push(Te)}}return ye}if(!le.queryTransform){if(le.exprList){var Q={exprs:[],kind:"ExprList"};return Q.exprs=_.map(G.exprs,function(Se){return Se}),Q}if(le.itemLocation){var Ue=G,ae={kind:"ItemLocation",byReference:{itemId:(0,c.fL)(Ue.byReference.itemId)}};return Ue.byReference.workspaceId&&(ae.byReference.workspaceId=(0,c.fL)(Ue.byReference.workspaceId)),Ue.byReference.folderId&&(ae.byReference.folderId=(0,c.fL)(Ue.byReference.folderId)),ae}d.fF.assertFail("DataViewObjectDefinition.encodePropertyValue - The value couldn't be encoded, make sure that the descriptor is valid and handled in here.")}}}return G}function B(G){var me={};for(var re in G){var le=G[re];_.isEmpty(le)||(me[re]=W(le))}return me}function U(G){if(_.isEmpty(G))return!0;for(var me in G){var re=G[me];if(!_.isEmpty(re))for(var le=0,Ee=re;le<Ee.length;le++)if(!_.isEmpty(Ee[le].properties))return!1}return!0}function W(G){for(var me=[],re=0,le=G;re<le.length;re++){var Ee=le[re];me.push({properties:j(Ee.properties),selector:Ee.selector})}return me}function j(G){return d.fF.assertValue(G,"original"),_.clone(G)}function K(G){return!!G&&!!(G instanceof c.Il||(0,s.hl)(G))}function ee(G,me,re){for(var le in G){var Ee=G[le],Ne=me&&me[le];if(Ee&&(!me||Ne))for(var Ye=0,Je=Ee;Ye<Je.length;Ye++){var _e=Je[Ye];for(var pe in _e.properties)!_e.properties[pe]||me&&(!Ne||!Ne.properties[pe])||re(_e.properties,pe,_e.selector,le,Ne)}}}function ie(G){var me=G.definitions,re=G.descriptors,le=G.visitor,Ee=G.structuralObjectVisitor;d.fF.assertValue(me,"dataViewObjectDefinition.visitPropertyExprs - definitions"),d.fF.assertAnyValue(re,"dataViewObjectDefinition.visitPropertyExprs - if descriptors exist we only visit valid objects, otherwise everything"),d.fF.assertAnyValue(le,"dataViewObjectDefinition.visitPropertyExprs - visitor"),d.fF.assertAnyValue(Ee,"dataViewObjectDefinition.visitPropertyExprs - visitor"),d.fF.assert(function(){return!!le||!!Ee},"Either sqExprVisitor or structuralObjectVisitor are required");var Ne=[],Ye={stopVisiting:!1};function Je(Te,ce,ve){var Re=Te[ce];if(le&&Re instanceof c.Il)le(Re,Te,ce,ve,Ne,Ye);else if("object"==typeof Re&&(Ee&&Ee(Re,Te,ce,ve,Ne,Ye),le))for(var Ke in Re){if(Ye.stopVisiting)return;Ne.push(Ke),Je(Re,Ke,ve),Ne.pop()}}for(var _e in me){var pe=re&&re[_e];if(!_.isEmpty(me[_e])&&(pe||!re)){for(var fe=0,oe=me[_e];fe<oe.length;fe++){var Ce=oe[fe].properties;if(Ce)for(var Be in Ce){if(Ye.stopVisiting)return;var be=pe&&pe.properties[Be];(be||!re)&&Je(Ce,Be,be&&be.type)}}d.fF.assert(function(){return _.isEmpty(Ne)},"DataViewObjectDefinition.visitPropertyExprs - propertyPath should be empty after iterating through object properties")}}}function he(G){if(d.fF.assertAnyValue(G,"DataViewObjectDefinitions.reduce - objects can be undefined"),!_.isEmpty(G)){for(var me in G)if(G[me]){for(var re=[],le=0,Ee=G[me];le<Ee.length;le++){var Ye=(0,i.u4)(Ee[le]);Ye&&re.push(Ye)}_.isEmpty(re)?delete G[me]:G[me]=re}else delete G[me];if(!_.isEmpty(G))return G}}function q(G){return G instanceof c.Il}function Y(G){return G&&"ExprWithContext"===G.propertyDefinitionKind}},935167:function(Xe,H,t){t.d(H,{Ow:function(){return l},e4:function(){return o},u4:function(){return d}});var e=t(498342);function l(v,S){if(S in v.properties)return delete v.properties[S],!0}function o(v){return!_.startsWith(v,"$")}function d(v){e.fF.assertAnyValue(v,"DataViewObjectDefinition.reduce - defn can have any value.");var S=v&&v.properties;if(S){for(var h in S)_.isEmpty(S[h])&&l(v,h);if(!_.isEmpty(S))return v}}},509607:function(Xe,H,t){t.d(H,{$v:function(){return o},Cr:function(){return v},H_:function(){return h},Ln:function(){return c},MD:function(){return d},VM:function(){return r}});var e=t(498342),l=t(358246);function o(u){return s(u,function(i){var a=l.Ge.fromDescriptor(i.type).formatting;return a&&a.formatString})}function d(u){return s(u,function(i){var a=i.type;return a&&a.filter&&!a.filter.selfFilter})}function v(u){return s(u,S)}function S(u){var i=u&&u.type;return i&&i.filter&&i.filter.selfFilter}function h(u){return s(u,function(i){var a=i.type;return a&&a.operations&&a.operations.searchEnabled})}function c(u){return s(u,function(i){var a=i.type;return a&&!!a.expression&&a.expression.defaultValue})}function r(u,i){if(e.fF.assertValue(u,"descriptors"),e.fF.assertValue(i,"propertyId"),!_.isEmpty(u)){var a=u[i.objectName];if(a&&!_.isEmpty(a.properties))return a.properties[i.propertyName]}}function s(u,i){if(e.fF.assertAnyValue(u,"descriptors"),e.fF.assertAnyValue(i,"propPredicate"),u)for(var a in u){var n=u[a].properties;for(var m in n)if(i(n[m]))return{objectName:a,propertyName:m}}}},778575:function(Xe,H,t){t.d(H,{Me:function(){return h},PJ:function(){return S},UQ:function(){return r}});var e=t(498342),l=t(812454),o=t(512322),d=t(470081),v=t(509607);function S(p,C,b,y,D){var P;e.fF.assertValue(C,"evalContext"),e.fF.assertValue(b,"objectDescriptors"),e.fF.assertValue(y,"objectDefns");for(var F,E=0,w=y;E<w.length;E++){var x=w[E],R=x.name;D&&(D.objectName=R);var g=p.run(R,C,b[R],x.properties,D);g&&(F||(F={}),F[R]?(0,d.PM)(F,((P={})[R]=g,P)):F[R]=g)}return F}function h(p){e.fF.assertAnyValue(p,"objectDefinitions");var C={data:[]};if(p)for(var b in p)for(var y=p[b],D=0,P=y.length;D<P;D++){var F=y[D];c(C,F.selector).objects.push({name:b,properties:F.properties})}return C}function c(p,C){var b;e.fF.assertValue(p,"grouped"),e.fF.assertAnyValue(C,"selector"),C&&C.data?b=p.data:C&&C.metadata?(p.metadata||(p.metadata=[]),b=p.metadata):(p.metadataOnce||(p.metadataOnce=[]),b=p.metadataOnce),e.fF.assert(function(){return!!b},"GroupedObjects is not defined.  Indicates malformed selector.");for(var y=0,D=b;y<D.length;y++){var P=D[y];if((0,l.fS)(C,P.selector))return P}var F={selector:C,objects:[]};return b.push(F),F}function r(p,C,b,y){e.fF.assertValue(p,"objectsForAllSelectors"),e.fF.assertValue(C,"objectDescriptors"),e.fF.assertValue(b,"columns"),e.fF.assertAnyValue(y,"selectTransforms"),y&&(function(p,C,b,y){e.fF.assertValue(p,"objectsForAllSelectors"),e.fF.assertValue(C,"objectDescriptors"),e.fF.assertValue(b,"columns"),e.fF.assertValue(y,"selectTransforms");var D=(0,v.$v)(C);if(D)for(var P=0,F=y.length;P<F;P++){var E=y[P];E&&(e.fF.assertValue(E.queryName,"selectTransform.queryName"),a(p,D,E.queryName,E.format||i(b,P)))}}(p,C,b,y),function(p,C,b){e.fF.assertValue(p,"objectsForAllSelectors"),e.fF.assertValue(C,"objectDescriptors"),e.fF.assertValue(b,"selectTransforms");var y=(0,v.Ln)(C);if(y)for(var D=0,P=b;D<P.length;D++){var F=P[D];F&&(e.fF.assertValue(F.queryName,"selectTransform.queryName"),n(p,y,F.queryName,F.defaultValue))}}(p,C,y))}function i(p,C){for(var b=0,y=p.length;b<y;b++){var D=p[b];if(D&&D.index===C)return D.format}}function a(p,C,b,y){y&&m(p,C,{metadata:b},(0,o.fL)(y))}function n(p,C,b,y){y&&m(p,C,{metadata:b},y)}function m(p,C,b,y){var D;if(b){var P=p.metadata;P||(P=p.metadata=[]),D=P}else{var F=p.metadataOnce;F||(F=p.metadataOnce=[{selector:b,objects:[]}]),D=F}var w,E=function(p,C){e.fF.assertValue(p,"objects"),e.fF.assertAnyValue(C,"selector");for(var b=0,y=p.length;b<y;b++){var D=p[b];if((0,l.fS)(D.selector,C))return D}}(D,b);if(E){var x=E.objects;if(w=function(p,C){e.fF.assertValue(p,"objectDefns"),e.fF.assertValue(C,"objectName");for(var b=0,y=p.length;b<y;b++){var D=p[b];if(D.name===C)return D}}(x,C.objectName),w){if(w.properties[C.propertyName])return}else x.push(w={name:C.objectName,properties:{}})}else D.push({selector:b,objects:[w={name:C.objectName,properties:{}}]});w.properties[C.propertyName]=y}},265699:function(Xe,H,t){t.d(H,{Q:function(){return y}});var e=t(973188),l=t(437555),o=t(498342),d=t(11641),v=t(382088),S=t(512322),h=t(960514),c=t(912644),r=t(646517),s=t(864185),u=t(520469),i=t(267103),a=t(358246),n=t(766442),m=t(95486),V=function(){function P(){this.cache=[]}return P.prototype.get=function(F){o.fF.assertValue(F,"key");for(var E=0,w=this.cache;E<w.length;E++){var x=w[E];if(x.key===F)return x.allocator}},P.prototype.register=function(F,E){var w=this;return o.fF.assertValue(F,"key"),o.fF.assert(function(){return void 0!==E},"colorAllocator (it can be null, but not undefined)"),o.fF.assert(function(){return null==w.get(F)},"Trying to re-register for same key expr."),this.cache.push({key:F,allocator:E}),this},P}(),p=t(37541),C=t(156330),y=function(){function P(F,E){var w=this;this.featureSwitches=F,this.visualStyle=E,o.fF.assertValue(this.featureSwitches,"featureSwitches"),this.colorAllocatorCache=new V,this.expressionEvaluator=new D(function(x){return w.evaluateThemeDataColor(x)},function(x,R){return w.ensureColorAllocator(x,R)})}return P.prototype.getObjectsRules=function(){return this.objectsRules},P.prototype.run=function(F,E,w,x,R){if(o.fF.assertValue(E,"evalContext"),o.fF.assertAnyValue(w,"objectDescriptor"),o.fF.assertValue(x,"propertyDefinitions"),w){var g,L=w.properties;for(var M in x){this.propertyId={objectName:F,propertyName:M};var T=x[M],O=L[M];if(O){R&&(R.objectDescriptor=w,R.propertyName=M);var N=this.evaluateProperty(E,O,T);void 0!==N&&(g||(g={}),g[M]=N)}}return this.propertyId=void 0,g}},P.prototype.evaluateProperty=function(F,E,w,x){var R,g,L;o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"propertyDescriptor"),o.fF.assertValue(w,"propertyDefinition");var M=E.type;if(M&&M.expression)return w;var O,T=this.evaluateValue(F,w,a.Ge.fromDescriptor(E.type));return void 0!==T||w instanceof C.t?T:(M.fillRule?O=this.evaluateFillRule(w):null!==(g=null===(R=M.fill)||void 0===R?void 0:R.solid)&&void 0!==g&&g.color&&null!==(L=null==w?void 0:w.solid)&&void 0!==L&&L.color?O=this.evaluateSolidColorFill(F,w,M.fill.solid.color.nullable):M.dataBars&&(O=this.evaluateDataBars(F,w)),O?(x&&O.error&&x.warnings.push(new m.L(this.featureSwitches,0,{objectName:x.objectName,propertyName:x.propertyName},x.selector,x.objectDescriptor.displayName,E.displayName,O.error.expr,O.error.value,null,x.targetExpr)),O.value):M.image?this.evaluateImage(F,w):M.paragraphs?this.evaluateParagraphs(F,w):M.geoJson?this.evaluateGeoJson(F,w):M.filter?this.evaluateSemanticFilter(w):M.icon?this.evaluateIcon(F,w):M.exprList?this.evaluateExprList(w):M.errorRange?this.evaluateErrorRange(F,w):M.qnaVisualLink?this.evaluateQnaVisualLink(F,w):M.itemLocation?this.evaluateItemLocation(F,w):void 0)},P.prototype.evaluateSemanticFilter=function(F){return F},P.prototype.evaluateSolidColorFill=function(F,E,w){var x;if(null!==(x=null==E?void 0:E.solid)&&void 0!==x&&x.color){var R=this.evaluateColor(F,E.solid.color,w);if(R.error)return R;var g=R.value;if(g||null===g&&w)return{value:{solid:{color:g}}}}},P.prototype.ensureColorAllocator=function(F,E){var w=this.colorAllocatorCache.get(F);return void 0!==w||(w=this.createColorAllocator(F,E),this.colorAllocatorCache.register(F,w,this.propertyId),this.propertyId&&w&&this.addObjectRule(w)),w},P.prototype.addObjectRule=function(F){this.objectsRules||(this.objectsRules={});var E=this.objectsRules[this.propertyId.objectName];E||(E=this.objectsRules[this.propertyId.objectName]={}),E[this.propertyId.propertyName]={gradient:{options:F.getRule(),source:F.getSource()}}},P.prototype.createColorAllocator=function(F,E){var w=E.getExprColumn(F.input,this.featureSwitches.categoricalSecondaryCF);if(!w)return null;var x=this.evaluateFillRule(F.rule).value;return x?(0,n.V)().fromFillRule(x,w):null},P.prototype.evaluateFillRule=function(F){var w,E=(0,p.X)();if(F.linearGradient2){if((R=this.evaluateColorStop(E,(x=F.linearGradient2).min)).error)return R;if((g=this.evaluateColorStop(E,x.max)).error)return g;if(w={linearGradient2:{min:R.value,max:g.value}},L=this.evaluateNullStrategy(E,x.nullColoringStrategy)){if(L.error)return L;w.linearGradient2.nullColoringStrategy=L.value}}else if(F.linearGradient3){var x,R;if((R=this.evaluateColorStop(E,(x=F.linearGradient3).min)).error)return R;var g,L,T=this.evaluateColorStop(E,x.mid);if(T.error)return T;if((g=this.evaluateColorStop(E,x.max)).error)return g;if(w={linearGradient3:{min:R.value,mid:T.value,max:g.value}},L=this.evaluateNullStrategy(E,x.nullColoringStrategy)){if(L.error)return L;w.linearGradient3.nullColoringStrategy=L.value}}return{value:w}},P.prototype.evaluateColorStop=function(F,E){o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"colorStop");var w=this.evaluateColor(F,E.color,!1);if(w.error)return w;var x={color:w.value},R=this.evaluateValue(F,E.value,P.numericType);return null!=R&&(x.value=R),{value:x}},P.prototype.evaluateColor=function(F,E,w){o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"evaluateColor - color");var x=this.evaluateValue(F,E,P.colorValueType),R=null!=x?(0,d.pe)(this.visualStyle,x):x;if(null!=R)return{value:R};if(null===x&&w)return{value:null};if(!x)return{value:void 0};var g=x.toString();return g&&(g=g.replace(/\s+/g,""),g=(0,l.HS)(g)?g:(0,l.iC)(g)),void 0===g?{error:{expr:E,value:x}}:{value:g}},P.prototype.evaluateNullStrategy=function(F,E){if(E){o.fF.assertValue(F,"evaluateNullStrategy - undefined evalContext"),o.fF.assertValue(E.strategy,"evaluateNullStrategy - undefined strategy");var w={strategy:this.evaluateValue(F,E.strategy,P.nullStrategyType)};if(E.color){var x=this.evaluateColor(F,E.color,!1);if(x.error)return x;w.color=x.value}return{value:w}}},P.prototype.evaluateImage=function(F,E){if(o.fF.assertValue(F,"evalContext"),o.fF.assertAnyValue(E,"definition"),E){var w={name:this.evaluateValue(F,E.name,P.textType),url:this.evaluateValue(F,E.url,a.Ge.fromDescriptor(r.z))};return E.scaling&&(w.scaling=this.evaluateValue(F,E.scaling,P.textType)),w}},P.prototype.evaluateParagraphs=function(F,E){var w=this;if(o.fF.assertValue(F,"evalContext"),o.fF.assertAnyValue(E,"definition"),E)return this.evaluateArrayCopyOnChange(F,E,function(x,R){return w.evaluateParagraph(x,R)})},P.prototype.evaluateParagraph=function(F,E){var w=this;o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"definition");var x,R=E.textRuns,g=this.evaluateArrayCopyOnChange(F,R,function(L,M){return w.evaluateTextRun(L,M)});return R!==g&&((x=_.clone(E)).textRuns=g),x||E},P.prototype.evaluateTextRun=function(F,E){return o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"definition"),(0,s.IM)(E)?this.evaluateTextRunDefinition(F,E):(0,s.Kt)(E)?this.evaluateTextRunConditional(F,E):void o.fF.assertNever(E)},P.prototype.evaluateTextRunDefinition=function(F,E){var w,x;E.value instanceof S.Il?(w=E.value,x=this.evaluateValue(F,E.value,P.textType)):x=E.value;var R={value:x};return E.textStyle&&(R.textStyle=E.textStyle),E.url&&(R.url=E.url),E.mentionEmail&&(R.mentionEmail=E.mentionEmail),w&&(R.valueExpr=w),R},P.prototype.evaluateTextRunConditional=function(F,E){var w=this;return{cases:this.evaluateArrayCopyOnChange(F,E.cases,function(R,g){return w.evaluateTextRunConditionalCase(R,g)}),defaultCase:this.evaluateTextRunCaseValue(F,E.defaultCase),expression:this.evaluateTextRunConditionalExpression(F,E.expression)}},P.prototype.evaluateTextRunConditionalCase=function(F,E){return(0,e.__assign)({pattern:this.evaluateValue(F,E.pattern,P.textType)},this.evaluateTextRunCaseValue(F,E))},P.prototype.evaluateTextRunCaseValue=function(F,E){var w=this;return{textRuns:this.evaluateArrayCopyOnChange(F,E.textRuns,function(R,g){return w.evaluateTextRunDefinition(R,g)})}},P.prototype.evaluateTextRunConditionalExpression=function(F,E){return E instanceof S.Il?this.evaluateValue(F,E,P.textType):(0,i.U)(E)?E:void o.fF.assertNever(E)},P.prototype.evaluateGeoJson=function(F,E){if(o.fF.assertValue(F,"evalContext"),o.fF.assertAnyValue(E,"definition"),E)return{name:this.evaluateValue(F,E.name,P.textType),type:this.evaluateValue(F,E.type,P.textType),content:this.evaluateValue(F,E.content,P.textType)}},P.prototype.evaluateDataBars=function(F,E){var w=this.evaluateSolidColorFill(F,E.positiveColor,!1);if(w.error)return{error:w.error};var x=this.evaluateSolidColorFill(F,E.negativeColor,!1);if(x.error)return{error:x.error};var R=this.evaluateSolidColorFill(F,E.axisColor,!1);return R.error?{error:R.error}:{value:{minValue:this.evaluateValue(F,E.minValue,P.numericType),maxValue:this.evaluateValue(F,E.maxValue,P.numericType),positiveColor:w.value,negativeColor:x.value,axisColor:R.value,reverseDirection:this.evaluateValue(F,E.reverseDirection,P.boolType),hideText:this.evaluateValue(F,E.hideText,P.boolType)}}},P.prototype.evaluateIcon=function(F,E){var w;if(o.fF.assertValue(F,"evalContext"),o.fF.assertAnyValue(E,"definition"),(0,u.r)(E)){var x={kind:"Icon"};if(E.layout&&(x.layout=this.evaluateValue(F,E.layout,P.textType)),E.verticalAlignment&&(x.verticalAlignment=this.evaluateValue(F,E.verticalAlignment,P.textType)),E.value){var R=this.evaluateValue(F,E.value,P.textType);if(null===R)x.value=null;else if(void 0===R)x.value=null;else{var g=(0,d.lQ)(this.visualStyle,R);if(g)if(g.svgId){var L=null===(w=g.description)||void 0===w?void 0:w.resourceKey;x.value={svgId:g.svgId},L&&(x.value.descriptionKey=L)}else g.url?x.value={url:g.url}:o.fF.assertFail("incorrect themeIcon");else x.value={url:R}}}return x}},P.prototype.evaluateThemeDataColor=function(F){return(0,d.GK)(this.visualStyle,F)},P.prototype.evaluateExprList=function(F){if(o.fF.assertAnyValue(F,"definition"),(0,u.bA)(F))return{exprs:F.exprs,kind:"ExprList"}},P.prototype.evaluateArrayCopyOnChange=function(F,E,w){o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"definitions"),o.fF.assertValue(w,"evaluator");for(var x,R=0,g=E.length;R<g;R++){var L=E[R],M=w(F,L);!x&&L!==M&&(x=_.take(E,R)),x&&x.push(M)}return x||E},P.prototype.evaluateErrorRange=function(F,E){if(o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"definition"),(0,u.ZG)(E)){if(E.explicit)return this.evaluateExplicitErrorRange(F,E.explicit);if(E.symmetricalExplicit)return this.evaluateSymmetricalErrorRange(F,E.symmetricalExplicit);if(E.standardDeviation)return this.evaluateStandardDeviationErrorRange(F,E.standardDeviation);if(E.percentage)return this.evaluatePercentageErrorRange(F,E.percentage);if(E.percentile)return this.evaluatePercentileErrorRange(F,E.percentile)}},P.prototype.evaluateExplicitErrorRange=function(F,E){var w={isRelative:!0===this.evaluateValue(F,E.isRelative,P.boolType)};return E.lowerBound&&(w.lowerBound=this.evaluateValue(F,E.lowerBound,P.numericType)),E.upperBound&&(w.upperBound=this.evaluateValue(F,E.upperBound,P.numericType)),{explicit:w}},P.prototype.evaluateSymmetricalErrorRange=function(F,E){return{symmetricalExplicit:{delta:this.evaluateValue(F,E.delta,P.numericType)}}},P.prototype.evaluateStandardDeviationErrorRange=function(F,E){return{standardDeviation:{value:this.evaluateValue(F,E.value,P.numericType),multiplier:this.evaluateValue(F,E.multiplier,P.numericType)}}},P.prototype.evaluatePercentageErrorRange=function(F,E){return{percentage:{lowerBoundDelta:this.evaluateValue(F,E.lowerBoundDelta,P.numericType),upperBoundDelta:this.evaluateValue(F,E.upperBoundDelta,P.numericType)}}},P.prototype.evaluatePercentileErrorRange=function(F,E){return{percentile:{lowerBound:this.evaluateValue(F,E.lowerBound,P.numericType),upperBound:this.evaluateValue(F,E.upperBound,P.numericType)}}},P.prototype.evaluateQnaVisualLink=function(F,E){if(o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"definition"),(0,u.Xz)(E))return{suggestedUtterances:_.map(E.suggestedUtterances,function(w){return{utterance:w.utterance}})}},P.prototype.evaluateItemLocation=function(F,E){if(o.fF.assertValue(F,"evalContext"),o.fF.assertValue(E,"definition"),(0,u.DS)(E)&&E.byReference){var w={byReference:{itemId:this.evaluateValue(F,E.byReference.itemId,P.textType)}};return E.byReference.workspaceId&&(w.byReference.workspaceId=this.evaluateValue(F,E.byReference.workspaceId,P.textType)),E.byReference.folderId&&(w.byReference.folderId=this.evaluateValue(F,E.byReference.folderId,P.textType)),w}},P.prototype.evaluateValue=function(F,E,w){return E instanceof S.Il?this.expressionEvaluator.evaluate(E,F):E instanceof C.t?E.evaluate(F):void 0},P.boolType=a.Ge.fromDescriptor({bool:!0}),P.colorValueType=a.Ge.fromDescriptor({formatting:{color:!0}}),P.numericType=a.Ge.fromDescriptor({numeric:!0}),P.textType=a.Ge.fromDescriptor({text:!0}),P.nullStrategyType=a.Ge.fromDescriptor({enumeration:c.dt}),P}(),D=function(P){function F(E,w){var x=P.call(this)||this;return x.dataColorEvaluator=E,x.colorAllocatorGetter=w,x}return(0,e.__extends)(F,P),F.prototype.evaluate=function(E,w){if(null!=E)return E.accept(this,w)},F.prototype.visitColumnRef=function(E,w){return w.getExprValue(E)},F.prototype.visitConstant=function(E,w){return E.value},F.prototype.visitMeasureRef=function(E,w){return w.getExprValue(E)},F.prototype.visitArithmetic=function(E,w){return w.getExprValue(E)},F.prototype.visitNativeMeasure=function(E,w){return w.getExprValue(E)},F.prototype.visitAggr=function(E,w){return w.getExprValue(E)},F.prototype.visitScopedEval=function(E,w){return w.getScopedEvalExprValue(E)},F.prototype.visitFillRule=function(E,w){var x=this.colorAllocatorGetter(E,w);if(x){var R=this.evaluate(E.input,w);if(void 0!==R)return x.color(R)}},F.prototype.visitPercentile=function(E,w){return w.getExprValue(E)},F.prototype.visitRangePercent=function(E,w){var x=this.evaluate(E.min,w);if(_.isFinite(x)){var R=this.evaluate(E.max,w);if(_.isFinite(R)){var g=E.percent;return 0===g?x:1===g?R:x+g*(R-x)}}},F.prototype.visitSelectRef=function(E,w){return w.getExprValue(E)},F.prototype.visitThemeDataColor=function(E,w){var x=this.dataColorEvaluator(E.colorId);if(x)return(0,l.HO)(x,E.percent)},F.prototype.visitNot=function(E,w){return!this.evaluate(E.arg,w)},F.prototype.visitAnd=function(E,w){return E.left.accept(this,w)&&E.right.accept(this,w)},F.prototype.visitContains=function(E,w){if(!E.isOrdinalEvaluation())return o.fF.assertFail("Contains expression should be evaluated as ordinal"),!1;var x=this.getExprString(E.left,w),R=this.getExprString(E.right,w);return _.isString(x)?(0,v.r3)(x,R):(o.fF.warn("Contains expression should only be applied to string types"),!1)},F.prototype.visitStartsWith=function(E,w){if(!E.isOrdinalEvaluation())return o.fF.assertFail("StartsWith expression should be evaluated as ordinal"),!1;var x=this.getExprString(E.left,w),R=this.getExprString(E.right,w);return _.isString(x)?(0,v.Ny)(x,R):(o.fF.warn("StartsWith expression should only be applied to strings"),!1)},F.prototype.getExprString=function(E,w){var x;if(null!==E)return null!==(x=(0,S.Ls)(E))&&void 0!==x?x:this.evaluate(E,w)},F.prototype.visitCompare=function(E,w){var x=this.evaluate(E.left,w);if(_.isNaN(x))return!1;var R=this.evaluate(E.right,w);if(_.isNaN(R))return!1;var g=E.comparison;if(E.isOrdinalEvaluation())return 0===g?x===R:(o.fF.assertFail("An ordinal comparison with QueryExpressionKind other than 'Equal' is not supported"),!1);if(null===R||null===x)return R===x&&(0===g||2===g||4===g);switch(g){case 0:return x===R;case 1:return x>R;case 2:return x>=R;case 3:return x<R;case 4:return x<=R}},F.prototype.visitConditional=function(E,w){var x=E.cases;if(o.fF.assertNonEmpty(x,"ExpressionEvaluator.visitConditional - Empty cases"),!_.isEmpty(x))for(var R=0,g=x;R<g.length;R++){var L=g[R],T=L.value;if(!0===this.evaluate(L.condition,w))return this.evaluate(T,w)}return this.evaluate(E.defaultValue,w)},F}(h.Ml)},604520:function(Xe,H,t){t.d(H,{AR:function(){return s},wi:function(){return a}});var e=t(973188),l=t(365358),o=t(498342),d=t(781322),v=t(273269),S=t(414385),h=t(225069),c=t(869053),r=t(855661);function s(p,C,b,y,D,P){!C||1!==C.length||!b.categorical||!b.categorical.dataReductionAlgorithm||p&&function(p){return!(!u(p.Primary)||!u(p.Secondary)||1!==p.Secondary.Groupings[0].Projections.length||p.DataReduction&&(p.DataReduction.Primary||p.DataReduction.Secondary||p.DataReduction.Intersection))}(p)&&(p.Primary.Groupings=[p.Secondary.Groupings[0],p.Primary.Groupings[0]],p.Secondary=void 0,p.DataReduction={Primary:(0,S.P)(b.categorical.dataReductionAlgorithm,y),DataVolume:P||b.categorical.dataVolume||D})}function u(p){return p&&p.Groupings&&1===p.Groupings.length&&!_.isEmpty(p.Groupings[0].Projections)&&!p.Groupings[0].Subtotal&&_.isEmpty(p.Groupings[0].SuppressedProjections)}function a(p,C,b,y,D){if(!function(p,C,b,y,D){if(_.isEmpty(C)||!p||_.isEmpty(D))return!1;var P=_.filter(D,function(A){return!(0,h.zY)(A)});if(1!==P.length)return!1;var F=P[0].categorical;if(!F)return!1;var E=p.matrix;if(!E||!E.rows||!E.rows.levels||2!==E.rows.levels.length)return!1;var w=[],x=[],R=function(I,B){var U=y[I];if(U)for(var W=0,j=U.all();W<j.length;W++){var K=j[W];b[K.queryRef]===v.DW.Grouping&&B.push(K.queryRef)}};if((0,c.Sr)(F.categories,{visitRole:function(I){R(I,w)}}),(0,c.vS)(F.values,{visitRole:function(I){R(I,x)}}),(0,c.fl)(F.values,{visitRole:function(I){R(I,x)}}),_.isEmpty(w)||_.isEmpty(x))return!1;for(var g=0,L=E.columns.levels;g<L.length;g++)for(var T=0,O=L[g].sources;T<O.length;T++)if(!O[T].isMeasure)return!1;return!0}(p,C,b,y,D))return p;var P={metadata:{columns:(0,l.JG)(p.metadata.columns)}};if(p.single&&(P.single=p.single),p.table&&(P.table=p.table),p.matrix){var F=function(p){var pe,fe,C=p.rows,b=C.root,y=b.children,D=[],P=C.levels[0],F=b.childIdentityFields,E={},w=[],x=C.levels[1],R=_.isEmpty(y)?void 0:y[0].childIdentityFields,g=p.valueSources.length,L=function(pe){var fe=E[pe.key];return o.fF.assert(function(){return void 0!==fe},"findcat() !== undefined"),fe};if(y)for(var T=0,O=y;T<O.length;T++){D.push(N=O[T]);for(var A=0,I=N.children;A<I.length;A++)pe=B=I[A],fe=void 0,void 0,void 0===E[fe=pe.identity.key]&&(E[fe]=w.length,w.push(pe))}for(var U=new Array(w.length),W=0;W<D.length;++W)for(var N,j=0,K=(N=y[W]).children;j<K.length;j++){var B;U[ee=L((B=K[j]).identity)]||(U[ee]=new Array(D.length)),U[ee][W]=B.values}var ie={root:{children:_.map(D,function(_e){var pe=(0,d.qO)(_e);return pe.level=0,pe.children=void 0,pe.childIdentityFields=void 0,pe}),childIdentityFields:F},levels:[P]};if(g>0){for(var he=_.map(p.columns.root.children,function(_e){var pe={level:1};return _e.levelSourceIndex&&(pe.levelSourceIndex=_e.levelSourceIndex),pe}),q=0,Y=ie.root.children;q<Y.length;q++)Y[q].children=he;ie.levels.push(p.columns.levels[0])}var me={root:{children:_.map(w,function(_e){var pe=(0,d.qO)(_e);return pe.level=0,pe.children=void 0,pe.childIdentityFields=void 0,pe}),childIdentityFields:R},levels:[x]};if(g>0)for(var ee=0;ee<w.length;++ee){var re=me.root.children[ee],le={};for(W=0;W<D.length;++W)for(var Ee=U[ee]&&U[ee][W],Ne=0;Ne<g;++Ne)le[W*g+Ne]=Ee?Ee[Ne]:0===Ne?{value:null}:{value:null,valueSourceIndex:Ne};re.values=le}return{rows:me,columns:ie,valueSources:p.valueSources}}(p.matrix);_.isEmpty(F.valueSources)||(0,r.CF)(F.columns)||(P.categorical=function(p,C){for(var b=p.columns.root.children.length,y=p.valueSources,D=y.length,P=function(p){o.fF.assertValue(p,"unpivotedMatrix"),o.fF.assert(function(){return p&&p.rows&&p.rows.levels&&1===p.rows.levels.length},"pre-condition: unpivotedMatrix should have exactly one level in row hierarchy");for(var C=_.map(p.rows.root.children,function(w){return w.identity}),b=p.rows.root.childIdentityFields,y=p.rows.levels[0].sources,D=[],P=0,F=y.length;P<F;P++){var E=_.map(p.rows.root.children,function(w){var x=w.levelValues;if(void 0!==x)return o.fF.assert(function(){return x[P]&&x[P].levelSourceIndex===P},"pre-condition: DataViewMatrixNode.levelValues is expected to have one DataViewMatrixGroupValue node per level source column, sorted by levelSourceIndex."),x[P].value});D.push({source:y[P],values:E,identity:C,identityFields:b})}return D}(p),F=[],E=0;E<b;++E){var w=p.columns.root.children[E];F.push(x={values:[],identity:w.identity,name:null!=w.value?w.value:null});for(var R=0;R<D;++R){var L=(0,e.__assign)({},y[R]);L.groupName=x.name,C.push(L);var M={source:L,values:[],identity:x.identity};x.values.push(M);for(var T=R+E*D,O=0,N=p.rows.root.children;O<N.length;O++)M.values.push(N[O].values[T].value)}}for(var B=[],U=0,W=F;U<W.length;U++){var x=W[U];for(R=0;R<D;++R)B.push(x.values[R])}return B.grouped=function(){return F},B.identityFields=p.columns.root.childIdentityFields,B.source=p.columns.levels[0].sources[0],{categories:P,values:B}}(F,P.metadata.columns))}return P}},940070:function(Xe,H,t){t.d(H,{JM:function(){return y},KH:function(){return i}});var e=t(498342),l=t(512322),o=t(18883),d=t(225069),v=t(470081),S=t(915925),h=t(579486),c=t(493369),r="RegressionX",s="RegressionSeries",u="RegressionY";function i(P){e.fF.assertValue(P,"options");var F=P.visualDataViews,E=P.dataRoles,w=P.objectDescriptors,x=P.objectDefinitions,R=P.transformSelects,g=P.applicableDataViewMappings,L=P.roleKindByQueryRef,M=P.queryProjectionsByRole,T=P.visualStyle,O=P.featureSwitches;if(!_.isEmpty(F)&&R){if(!L||!M||_.isEmpty(g)||!w||!x)return F;var N=_.find(g,function(j){return!!(0,d.zY)(j)});if(N){for(var A=[],I=0,B=F;I<B.length;I++){var W=a(B[I],g,E,N,w,x,T,O);W&&A.push(W)}_.isEmpty(A)||F.push.apply(F,A||[])}}return F}function a(P,F,E,w,x,R,g,L){return e.fF.assertValue(F,"applicableDataViewMappings"),2===(0,d._1)(F)?function(){function P(L,M,T,O,N,A,I){e.fF.assertValue(L,"sourceDataView"),e.fF.assertValue(L.matrix,"sourceDataView.matrix"),e.fF.assertValue(M,"dataRoles"),e.fF.assertValue(O,"objectDescriptors"),e.fF.assertValue(N,"objectDefinitions");var B=L.matrix;if(B&&B.rows&&B.rows.root&&0!==_.size(B.rows.root.children)&&!(_.size(B.rows.levels)>2)){var U=F(0,B,M),W=F(1,B,M);if(void 0!==U&&void 0!==W){var j=U.valuesCol,K=W.valuesCol,ee=function(L,M,T){var O=L.matrix;if(O){var N=function(ee,ie){if(ee.children)for(var he=0,q=ee.children;he<q.length;he++){var Y=q[he];Y.isSubtotal||(ie.xValues.push(M(Y)),ie.yValues.push(T(Y)))}},A=[],I=O.rows;if(2===I.levels.length)for(var B=0,U=O.rows.root.children;B<U.length;B++){var W=U[B];W.isSubtotal||(A.push(j={xValues:[],yValues:[]}),N(W,j))}else if(1===I.levels.length){var j;A.push(j={xValues:[],yValues:[]}),N(I.root,j)}return A}}(L,U.getValues,W.getValues),ie=!0,he=(0,d.zY)(T);if(he&&L.metadata.objects){var q=he.combineSeries;q&&(ie=(0,v.NA)(L.metadata.objects,q,!0))}var Y=ee;ie&&(Y=function(L){for(var M,T,O=[],N=0,A=L;N<A.length;N++){var I=A[N];_.isEmpty(I.xValues)||_.isEmpty(I.yValues)||(O[0]||O.push({xValues:[],yValues:[]}),(M=O[0].xValues).push.apply(M,I.xValues||[]),(T=O[0].yValues).push.apply(T,I.yValues||[]))}return O}(ee));var G=V(Y);if(p(G)){for(var me=G.xMin,re=G.xMax,le=[],Ee=0,Ne=G.lineDefs;Ee<Ne.length;Ee++)le.push(D(Ne[Ee],+me,+re));return function(L,M,T,O,N,A,I,B,U,W){var j,K,ee;e.fF.assertValue(L,"xColumnSource"),e.fF.assertValue(M,"yColumnSource"),e.fF.assertValue(O,"categories"),e.fF.assertValue(N,"values"),e.fF.assertValue(I,"objectDescriptors"),e.fF.assertValue(B,"objectDefinitions");var le,he=A.matrix.rows.select[1].bind.to,q=A.matrix.values.select[0].for.in,Y=((j={})[A.matrix.rows.select[0].bind.to]=!0,j),G=((K={})[q]=!0,K),me=((ee={})[he]=!0,ee),re={columns:[]},Ee={levels:[],root:{children:[]}},Ne={metadata:re,matrix:{rows:Ee,columns:le,valueSources:[]}},Ye=f(L,r,!1,"",Y),Je=f(M,s,M.isMeasure,"Regression",me),_e=f(M,u,M.isMeasure,"",G);re.columns.push(Je),re.columns.push(Ye),re.columns.push(_e),Ee.levels.push({sources:[Je]}),Ee.levels.push({sources:[Ye]}),Ne.matrix.valueSources.push(_e);for(var pe=(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionSeries"),fe=(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionCategories"),oe=0;oe<T.length;oe++){var ye=T[oe],Ce={level:0,value:ye,levelValues:[{levelSourceIndex:0,value:ye}],children:[],childIdentityFields:[fe],identity:(0,S.TZ)((0,l.xD)(pe,(0,l.kQ)(ye,Je.type)))};_.isEmpty(Ee.root.childIdentityFields)&&(Ee.root.childIdentityFields=[pe]),Ee.root.children.push(Ce);for(var Be=0;Be<O.length;Be++){var be=O[Be],Te={level:1,value:be,levelValues:[{levelSourceIndex:1,value:be}],values:{},identity:(0,S.TZ)((0,l.xD)(fe,(0,l.kQ)(be,Ye.type)))};Te.values[0]={value:N[oe][Be]},Ce.children.push(Te)}}return(0,h.ni)(Ne,1,I,B,[],U,W),Ne}(j,K,ie?["combinedRegressionSeries"]:2===B.rows.levels.length?_.chain(B.rows.root.children).filter(function(pe){return!pe.isSubtotal}).map(function(pe){return pe.value}).value():["combinedRegressionSeries"],[me,re],le,T,O,N,A,I)}}}}function F(L,M,T){var N,A,O=M.valueSources,I=function(L,M,T){if(!_.isEmpty(M))return _.findIndex(M,function(O){var N=function(U){if(!O.roles[U])return"continue";var W=_.find(T,function(j){return j.name===U});return W&&W.cartesianKind===L?{value:!0}:void 0};for(var A in O.roles){var I=N(A);if("object"==typeof I)return I.value}})}(L,M.valueSources,T);if(I>=0&&void 0!==I)N=O[I],A=function(W){return W.values[I].value};else{var B=function(L,M,T){if(!_.isEmpty(M.root.children)){for(var O=-1,N=0,A=M.levels.length;N<A&&-1===(O=_.findIndex(M.levels[N].sources,function(B){var U=function(ee){if(!B.roles[ee])return"continue";var ie=_.find(T,function(he){return he.name===ee});return ie&&ie.cartesianKind===L?{value:!0}:void 0};for(var W in B.roles){var j=U(W);if("object"==typeof j)return j.value}}));N++);return{level:N,index:O}}}(L,M.rows,T);if(-1===(I=B?B.index:-1))return;N=M.rows.levels[B.level].sources[I],A=function(W){return W.levelValues[I].value}}return{valuesCol:N,getValues:A}}return{apply:function(M,T,O,N,A,I,B){return P(M,T,O,N,A,I,B)}}}().apply(P,E,w,x,R,g,L):function(){function P(M,T,O,N,A,I,B){if(e.fF.assertValue(M,"sourceDataView"),e.fF.assertValue(M.categorical,"sourceDataView.categorical"),e.fF.assertValue(T,"dataRoles"),e.fF.assertValue(N,"objectDescriptors"),e.fF.assertValue(A,"objectDefinitions"),M.categorical){var U=F(0,M.categorical,T),W=F(1,M.categorical,T);if(!_.isEmpty(U)&&!_.isEmpty(W)){var j=U[0].source,K=W[0].source,ee=!0,ie=(0,d.zY)(O);if(ie&&M.metadata.objects){var he=ie.combineSeries;he&&(ee=(0,v.NA)(M.metadata.objects,he,!0))}var Y=V(R(U,W,ee,!1));if(p(Y)){var le,pe,ye,G=Y.xMin,me=Y.xMax,re=L(W)||L(U);re&&(p(le=V(R(U,W,ee,!0)))?(G=_.min([G,le.xMin]),me=_.max([me,le.xMax])):re=!1);for(var Ne=[],Ye=0,Je=Y.lineDefs;Ye<Je.length;Ye++)Ne.push(D(Je[Ye],+G,+me));if(re){pe=[];for(var fe=0,oe=le.lineDefs;fe<oe.length;fe++)pe.push(D(oe[fe],+G,+me))}if(ee)ye=["combinedRegressionSeries"];else if(M.categorical.values.source){var Ce=M.categorical.values.grouped();ye=_.map(Ce,function(be){return be.name})}else ye=_.map(W,function(be){return be.source.queryName});return function(M,T,O,N,A,I,B,U,W,j,K){var ee,ie,he;e.fF.assertValue(M,"xColumnSource"),e.fF.assertValue(T,"yColumnSource"),e.fF.assertValue(N,"categories"),e.fF.assertValue(A,"values"),e.fF.assertValue(U,"objectDescriptors"),e.fF.assertValue(W,"objectDefinitions"),e.fF.assertAnyValue(I,"highlights"),e.fF.assert(function(){return!I||I.length===A.length},"highlights should have the same length as values");var G,me,q=B.categorical.categories.for.in,Y=B.categorical.values.group;if(Y&&!_.isEmpty(Y.select)&&(G=Y.select[0].for?Y.select[0].for.in:Y.select[0].bind.to,me=Y.by),G&&me){var re=((ee={})[q]=!0,ee),le=((ie={})[G]=!0,ie),Ee=((he={})[me]=!0,he),Ne=[];for(var Ye in A){var Je={values:A[Ye]};I&&(Je.highlights=I[Ye]),Ne.push([Je])}var _e=(0,o.h)().withCategory({source:f(M,r,!1,"",re),values:N,identityFrom:{fields:[(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionCategories")]}}).withGroupedValues({groupColumn:{source:f(T,s,T.isMeasure,"Regression",Ee),values:O,identityFrom:{fields:[(0,l.Oh)((0,l.nw)("s","RegressionEntity"),"RegressionSeries")]}},valueColumns:[{source:f(T,u,T.isMeasure,"",le)}],data:Ne}).build();return(0,h.ni)(_e,1,U,W,[],j,K),_e}}(j,K,ye,[G,me],Ne,pe,O,N,A,I,B)}}}}function F(M,T,O){e.fF.assertValue(M,"roleKind"),e.fF.assertValue(T,"categorical");var N=E(M,T.values,O);if(!_.isEmpty(N))return N;var A=T.categories;if(!_.isEmpty(A)){var I=A[0],B=E(M,[I],O);if(!_.isEmpty(B)&&(1===A.length||_.isEmpty(I.values)||!_.isEmpty(I.objects)&&void 0!==w(I.objects[0])))return B}}function E(M,T,O){if(!_.isEmpty(T))return _.filter(T,function(N){var A=function(W){if(!N.source.roles[W])return"continue";var j=_.find(O,function(K){return K.name===W});return j&&j.cartesianKind===M?{value:!0}:void 0};for(var I in N.source.roles){var B=A(I);if("object"==typeof B)return B.value}return!1})}function w(M){return(0,v.NA)(M,c.it)}function x(M,T){var O=_.head(M.objects);return O&&w(O)?_.map(M.objects,function(A){return w(A)}):T&&M.highlights?M.highlights:M.values}function R(M,T,O,N){for(var A=[],I=_.map(M,function(ee){return x(ee,N)}),B=_.map(T,function(ee){return x(ee,N)}),U=M.length>1,W=0;W<B.length;W++){var j=U?I[W]:I[0],K=B[W];O&&A.length>0?(A[0].xValues=A[0].xValues.concat(j),A[0].yValues=A[0].yValues.concat(K)):A.push({xValues:j,yValues:K})}return A}function L(M){return _.some(M,function(T){return null!=T.highlights})}return{apply:function(T,O,N,A,I,B,U){return P(T,O,N,A,I,B,U)}}}().apply(P,E,w,x,R,g,L)}function f(P,F,E,w,x){return{displayName:P.displayName+w,queryName:F,type:P.type,isMeasure:E,roles:x}}function V(P){for(var F,E,w=[],x=0,R=P;x<R.length;x++){var g=R[x],L=g.xValues,M=g.yValues;if(_.isEmpty(L)||_.isEmpty(M))w.push(null);else{var T=C(L),O=C(M);if(T&&O){var N=b(L,M);if(!N||_.isEmpty(N.xValues)||_.isEmpty(N.yValues))w.push(null);else{var A=N.xValues[0],I=N.xValues[N.xValues.length-1],B=y(N.xValues,N.yValues);F=_.min([F,A]),E=_.max([E,I]),w.push(B)}}else w.push(null)}}return{lineDefs:w,xMin:F,xMax:E}}function p(P){return P&&!_.isEmpty(P.lineDefs)&&_.some(P.lineDefs,function(F){return F})}function C(P){var F=_.find(P,function(w){return null!=w});if(null!=F){var E=typeof F;if(!_.some(P,function(w){return null!=w&&typeof w!==E}))return E}}function b(P,F){e.fF.assertValue(P,"unsortedXValues"),e.fF.assertValue(F,"unsortedYValues");var E=_.zip(P,F),w=_.chain(E).filter(function(g){return null!=g[0]&&null!=g[1]}).sortBy(function(g){return g[0]}).unzip().value(),x=w[0],R=w[1];return{xValues:x=_.map(x,_.toNumber),yValues:R=_.map(R,_.toNumber)}}function y(P,F,E){void 0===E&&(E=!1),e.fF.assertValue(P,"xValues"),e.fF.assertValue(F,"yValues");var w=_.sum(P),x=_.sum(F),R=w/P.length,g=x/F.length,L=_.chain(P).map(function(j){return Math.pow(j-R,2)}).sum().value();if(0!==L){var N,T=_.chain(P).map(function(j,K){return(j-R)*(F[K]-g)}).sum().value()/L,O=g-R*T;if(E){var A=_.size(P),I=_.chain(P).map(function(j,K){return j*F[K]}).sum().value(),B=_.chain(P).map(function(j){return j*j}).sum().value(),U=_.chain(F).map(function(j){return j*j}).sum().value(),W=Math.sqrt((A*B-Math.pow(w,2))*(A*U-Math.pow(x,2)));0!==W&&(N=Math.pow((A*I-w*x)/W,2))}return{incline:T,intercept:O,rSquared:N}}}function D(P,F,E){return P?[F*P.incline+P.intercept,E*P.incline+P.intercept]:[null,null]}},865001:function(Xe,H,t){t.d(H,{Yp:function(){return v},fS:function(){return S}});var e=t(365358),l=t(498342),o=t(871746),d=t(458441);function v(c){return new h(c)}function S(c,r){return c.key&&r.key&&c.key===r.key&&(0,e.NF)(c.roles,r.roles,function(s,u){return s===u})}var h=function(){function c(r){var s=this;this.kind=0,l.fF.assertNonEmpty(r,"roles"),this._roles=r,this._key=new o.o(function(){return JSON.stringify(s.roles)})}return Object.defineProperty(c.prototype,"roles",{get:function(){return this._roles},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),c}();(0,d.y)(h.prototype)},915925:function(Xe,H,t){t.d(H,{Lu:function(){return i},SN:function(){return u},TZ:function(){return a},fS:function(){return r},yz:function(){return s}});var e=t(498342),l=t(871746),o=t(458441),d=t(930550),v=t(114096),S=t(512322),h=t(36846),c=t(669266);function r(m,f,V){return(m=m||null)===(f=f||null)||!m==!f&&(e.fF.assertValue(m,"x"),e.fF.assertValue(f,"y"),(0,c.fS)(m.expr,f.expr,V))}function s(m,f,V){if(!(m=m||null)!=!(f=f||null))return!1;e.fF.assertValue(m,"thisComparisonExpr"),e.fF.assertValue(f,"otherComparisonIdentity");var C=m,b=(0,d.Dh)(f.expr),y=(0,d.Dh)(C);if(!b||!y)return r(a(C),f,V);for(var D=function(R){if(!_.some(b,function(g){return(0,c.fS)(R,g,V)}))return{value:!1}},P=0,F=y;P<F.length;P++){var w=D(F[P]);if("object"==typeof w)return w.value}return!0}function u(m,f){if(!_.isEmpty(m)){for(var V=[],p=0,C=m;p<C.length;p++)V.push(C[p].expr);return i(V,f)}}function i(m,f){if(!_.isEmpty(m)){for(var V,p=0,C=m;p<C.length;p++){var b=C[p],y=(0,d.FD)(b);V=V?(0,S.or)(V,y):y||b}return V&&f&&(V=(0,S.ff)(V)),(0,d.Cj)(V)?void e.fF.assertFail("SelectRef based identities can not be translated into a filter without additional context."):v.yl.fromSQExpr(V)}}function a(m){return new n(m)}var n=function(){function m(f){this.kind=1,e.fF.assertValue(f,"expr"),this._expr=f,this._key=new l.o(function(){return(0,h.qC)(f)})}return Object.defineProperty(m.prototype,"expr",{get:function(){return this._expr},enumerable:!1,configurable:!0}),Object.defineProperty(m.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),m}();(0,o.y)(n.prototype)},917791:function(Xe,H,t){t.d(H,{fS:function(){return h},ms:function(){return c},wB:function(){return S}});var e=t(498342),l=t(871746),o=t(458441),d=t(678776),v=t(36846);function S(s,u){return!_.isEmpty(u)&&d.m.sequenceEqual(s.exprs,u)}function h(s,u){return s===u||d.m.sequenceEqual(s.exprs,u.exprs)}function c(s){return new r(s)}var r=function(){function s(u){this.kind=2,e.fF.assertValue(u,"scopeExprs"),this._exprs=u,this._key=new l.o(function(){return(0,v.Gg)(u)})}return Object.defineProperty(s.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),s}();(0,o.y)(r.prototype)},478226:function(Xe,H,t){t.d(H,{fS:function(){return c},ms:function(){return r},wB:function(){return h}});var e=t(498342),l=t(871746),o=t(458441),d=t(930550),v=t(678776),S=t(36846);function h(u,i){var a=(0,d.RR)(i.expr);return!!a&&v.m.sequenceEqual(u.exprs,a)}function c(u,i){return u===i||v.m.sequenceEqual(u.exprs,i.exprs)}function r(u){return new s(u)}var s=function(){function u(i){this.kind=3,e.fF.assertValue(i,"exprs"),this._exprs=i,this._key=new l.o(function(){return(0,S.Gg)(i)})}return Object.defineProperty(u.prototype,"exprs",{get:function(){return this._exprs},enumerable:!1,configurable:!0}),Object.defineProperty(u.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),u}();(0,o.y)(s.prototype)},620743:function(Xe,H,t){t.d(H,{_v:function(){return h},bG:function(){return c},f_:function(){return u},ij:function(){return s}});var e=t(973188),l=t(979868),o=t(669266),d=t(498342),v=t(273269),S=t(147883);function h(i,a){if(d.fF.assertAnyValue(i,"selects"),d.fF.assertAnyValue(a,"projectionActiveItems"),_.isEmpty(i))return{};for(var n={},m=0,f=i;m<f.length;m++){var V=f[m];if(V){var p=V.roles;if(p)for(var C in p)if(p[C]){var b=n[C];b||(b=n[C]=new S.NQ([])),b.addProjection({queryRef:V.queryName}),a&&a[C]&&(b.activeProjectionRefs=_.map(a[C],function(y){return y.queryRef}))}}}return n}function c(i,a){for(var n={},m=0,f=a.columns;m<f.length;m++){var V=f[m];if(!(!V.index&&0!==V.index||V.index<0||V.index>=i.length)){var p=i[V.index];if(p){var C=p.queryName;C&&void 0===n[C]&&(n[C]=V.isMeasure?v.DW.Measure:v.DW.Grouping)}}}return n}function s(i,a,n){if(d.fF.assertValue(i,"expr"),d.fF.assertAnyValue(a,"selectTransforms"),!a)return-1;var m;(0,l.NH)(i)&&(m=i.expressionName);for(var f=n||0,V=a.length;f<V;f++){var p=a[f];if(p&&(!m||p.queryName))if(m){if(p.queryName===m)return f}else if((0,o.fS)(p.expr,i))return f}return-1}function u(i,a){if(!_.isEmpty(i)&&!_.isEmpty(a)){for(var n={},m=function(b){var y=i[b];if(!_.isEmpty(y.relatedSelects))for(var D=function(x){var R=x.queryName,g=_.findIndex(i,function(B){return B.queryName&&B.queryName===R});if(g>-1)for(var M=0,T=_.keys(i[g].roles);M<T.length;M++){var O=T[M],N=_.remove(a[O],function(B){return B===b});if(!_.isEmpty(N)){var A=n[g]=n[g]||{};(A[O]=A[O]||[]).push(b)}}},P=0,F=y.relatedSelects;P<F.length;P++)D(F[P])},f=0;f<i.length;f++)m(f);if(!_.isEmpty(n)){var V=function(b){var y=n[b];for(var D in y){var P=a[D],F=_.findIndex(P,function(E){return E===parseInt(b,10)});P.splice.apply(P,(0,e.__spreadArray)([F+1,0],y[D],!1))}};for(var p in n)V(p)}}}},325319:function(Xe,H,t){t.d(H,{nn:function(){return Gr},G3:function(){return dt},iZ:function(){return Qr}});var e=t(365358),l=t(498342),o=t(781322),d=t(768783),v=t(495130),S=t(930550),h=t(678776),c=t(358246),r=t(579486);function s(Ge){return void 0===Ge.source.index}function u(Ge){return _.some(Ge,s)}var a=t(916214);function n(Ge){l.fF.assertValue(Ge,"categorical");var ut=Ge.values;if(ut){var Dt;if(ut.source){Dt=(0,o.qO)(ut.grouped());var Mt=0===(0,a.Ed)(Ge),Ot=ut.length>=1&&(Mt||void 0!==_.head(ut).identity);if(!_.isEmpty(ut)&&Ot)for(var Xt,Wt=0,tr=function(Dr,jt){var Me=ut[Dr];if(s(Me))return"continue";if(!Xt||Me.identity!==Xt.identity){var Ct=Dt[Wt];Ct?Xt=(0,o.qO)(Ct):(l.fF.assert(function(){return!Me.identity},"!currentValueColumn.identity -- Extra valueGroup items should be statics (no identity)."),Xt=Ct=Dt[Wt]={values:null}),Dt[Wt]=Xt,Xt.values=[],Wt++,l.fF.assert(function(){return Me.identity===Xt.identity},"expecting the value columns are sequenced by series groups")}Xt.values.push(Me)},Lt=0,nr=ut.length;Lt<nr;Lt++)tr(Lt);else for(Lt=0,nr=Dt.length;Lt<nr;Lt++){var yr=Dt[Lt];_.isEmpty(yr.values)||(Dt[Lt]=yr=(0,o.qO)(yr),yr.values=[])}}else Dt=[{values:ut}];ut.grouped=function(){return Dt},Ge.values=ut}}var m=t(973188),f=t(225069),V=t(194994);function L(Ge,ut){l.fF.assertValue(Ge,"measureSources"),l.fF.assertValue(ut,"projectionOrder");var Vt=(0,V.jh)(Ge,ut);if(Vt=_.chain(Vt).filter(function(Mt){return void 0!==Mt.projectionOrderIndex}).sortBy(function(Mt){return Mt.projectionOrderIndex}).value(),!(0,e.NF)(Ge,Vt,function(Mt,Ot){return Mt.index===Ot.metadataColumn.index}))return Vt}function T(Ge){if(l.fF.assertValue(Ge,"groups"),!_.isEmpty(Ge))return _.chain(Ge[0].values).map(function(Vt){return Vt.source}).filter(function(Vt){return void 0!==Vt.index}).value()}var O=t(629081),N=t(447751),A=t(512322),I=t(292170),B=t(100112),U=t(915925),W=t(493369);function K(Ge,ut,Vt){if(l.fF.assertValue(ut,"Category type is not specified"),!_.isDate(Ge)||!ut||!ut.temporal)return null;var Dt=Ge;return ut.temporal.year?function(Ge){return l.fF.assertValue(Ge,"date"),Ge.getFullYear()}(Dt):ut.temporal.quarter?function(Ge,ut){l.fF.assertValue(Ge,"date");var Dt=Math.floor((Ge.getMonth()+3)/3);return(0,N.W)(ut,Dt.toLocaleString())}(Dt,Vt):ut.temporal.month?function(Ge){return l.fF.assertValue(Ge,"date"),B.dx.formatValue(Ge,"MMMM")}(Dt):ut.temporal.day?function(Ge){return l.fF.assertValue(Ge,"date"),Ge.getDate()}(Dt):void 0}function Y(Ge,ut){l.fF.assertValue(Ge,"dataViewMatrix"),ut.columnHierarchyRewritten||(Ge.columns=(0,o.ED)(Ge.columns));var Vt=Ge.columns;ut.rowHierarchyRewritten||(Ge.rows=(0,o.ED)(Ge.rows));var Dt=Ge.rows;if(!(Vt.levels.length>1)){var Mt={level:0},Ot=Vt.root.children,Wt=_.size(Ot),Xt=Dt.levels.length;if(Wt>0){var tr=0,Lt=function(Dr){if(Dr.values){Mt.values||(Mt.values={});for(var jt=0;jt<Wt;jt++)Mt.values[tr++]=Dr.values[jt];Dr.values=void 0}if(Wt>1){Dr.children||(Dr.children=[]);for(var Me=0;Me<Wt;Me++){var Ct={level:Xt};Ct.levelSourceIndex=Ot[Me].levelSourceIndex,Dr.isSubtotal&&(Ct.isSubtotal=!0),Dr.children.push(Ct)}}};ut.hierarchyTreesRewritten?G(Dt.root,Lt):Ge.columns.root=re(Dt.root,Lt)}else ut.hierarchyTreesRewritten||(Ge.columns.root=function(Ge){return re(Ge)}(Dt.root));if(Wt>1&&(Dt.levels.push({sources:Vt.levels[0].sources}),Vt.levels.length=0),ut.hierarchyTreesRewritten)Ge.columns.root=Dt.root,Ge.rows.root={children:[Mt]};else{var yr=(0,o.ED)(Ge.rows.root);yr.children=[Mt],Ge.rows.root=yr}Ge.columns.levels=Dt.levels,Ge.rows.levels=[]}}function G(Ge,ut){var Vt=Ge.children;if(Vt&&Vt.length>0)for(var Dt=0,Mt=Vt.length;Dt<Mt;Dt++)G(Vt[Dt],ut);else ut(Ge)}function re(Ge,ut){var Vt={};return ut&&(Vt.nodeProcessor=function(Dt){_.isEmpty(Dt.children)&&ut(Dt)}),le(Ge,Vt)}function le(Ge,ut){var Vt,Dt,Mt=(0,o.ED)(Ge),Ot=Ge.children;if(!(ut.nodeProcessor&&ut.nodeProcessor(Mt),_.isEmpty(Ot)||null!==(Dt=null===(Vt=ut.skipChildren)||void 0===Vt?void 0:Vt.call(ut,Ge))&&void 0!==Dt&&Dt))for(var Xt=Ot.length,tr=Mt.children=new Array(Xt),Lt=0;Lt<Xt;Lt++)tr[Lt]=le(Ot[Lt],ut);return Mt}var Ee=t(855661);function Ye(Ge,ut,Vt){if(_.isEmpty(Vt))return[];var Dt=f.nG.fromMatrixValues(ut);if(_.isEmpty(Dt))return[];var Mt=pe(Ge,Dt),Ot=(0,V.jh)(Vt,Mt,Dt);return _.chain(Ot).filter(function(Wt){return void 0!==Wt.projectionOrderIndex}).sortBy(function(Wt){return Wt.projectionOrderIndex}).value()}function pe(Ge,ut){l.fF.assertValue(Ge,"projectionOrdering"),l.fF.assertValue(ut,"roles");for(var Vt=[],Dt=0,Mt=ut;Dt<Mt.length;Dt++){var Wt=Ge[Mt[Dt]];_.isEmpty(Wt)||Vt.push.apply(Vt,Wt||[])}return Vt}function fe(Ge,ut){return l.fF.assertValue(Ge,"valueSources"),l.fF.assertValue(ut,"valueProjectionOrdering"),(0,e.NF)(Ge,ut,function(Vt,Dt){return Vt===Dt.metadataColumn})}function oe(Ge,ut,Vt,Dt,Mt){l.fF.assertValue(Ge,"prototypeRowHierarchy"),l.fF.assertNonEmpty(ut,"originalValueSources"),l.fF.assertValue(Vt,"projectedValueSourceEntries"),l.fF.assert(function(){return void 0===Mt||0===Dt.length},"staticValueSources are not supported with Scoped Measures");var Xt,Lt,Ot=ut.length,Wt=Vt.length,tr=(0,o.qO)(Ge),nr=function(Dr,jt){var Me=jt?Dr.values:(0,Ee.Lr)(Dr);if(Me&&0!==Ot){if(!Lt){Lt=0;var Ct={};for(var At in Me)Lt++,Ct[Me[At].valueSourceIndex||0]=!0;Ot=Object.keys(Ct).length}if(void 0===Xt){if(Ot>Wt&&Dt.length>0&&(Ot-=Dt.length,0==(Lt-=Dt.length)))return;l.fF.assert(function(){return Lt%Ot==0},"expecting the intersection values to have one value per measure column per column group instance"),Xt=Lt/Ot}else l.fF.assert(function(){return Xt===Lt/Ot},"expecting every interaction values collection to have the same length");var st;if(Wt>0){st={};for(var xt=0;xt<Xt;xt++)for(var _t=xt*Ot,Zt=xt*Wt,qt=0;qt<Wt;qt++)qt!==((Br=Me[_t+Vt[qt].sourceIndex]).valueSourceIndex||0)&&((Br=(0,o.qO)(Br)).valueSourceIndex=qt||void 0),st[Zt+qt]=Br;for(var ii=Wt,pi=Object.keys(st).length,si=Lt+Dt.length,Si=Lt;Si<si;Si++){var Br;(Br=Me[Si]).valueSourceIndex=ii++||void 0,st[pi++]=Br}}else st=void 0;jt?Dr.values=st:Dr.nodeValues=st?{0:st}:void 0}};return tr.root=void 0===Mt?re(tr.root,function(_r){return nr(_r,!0)}):le(tr.root,{nodeProcessor:function(Dr){Dr.level===Mt&&nr(Dr,!1)},skipChildren:function(Dr){return Dr.level>=Mt}}),tr}function Ce(Ge,ut){l.fF.assertValue(Ge,"matrixHierarchy"),l.fF.assertValue(ut,"projectionOrdering");var Dt,Vt=Ge.levels,Mt=_.chain(Vt).map(function(yr,_r){return _r}).filter(function(yr){var _r=Vt[yr];return _.size(_r.sources)>=2&&!(0,Ee.Ro)(_r)}).value();if(!_.isEmpty(Mt)){for(var Ot=_.uniq(ut),Wt=Mt.length-1;Wt>=0;Wt--){var Xt=Mt[Wt],tr=Ge.levels[Xt],Lt=Be(tr,Ot);if(!_.isEmpty(Lt)){void 0===Dt&&((Dt=(0,o.qO)(Ge)).levels=(0,o.qO)(Ge.levels),Dt.root=(0,Ee.no)(Ge.root,Xt,!0));var nr=(0,o.qO)(tr);Dt.levels[Xt]=be(nr,Lt),Te(Dt.root,Xt,Lt)}}return Dt}}function Be(Ge,ut){l.fF.assertValue(Ge,"hierarchyLevel"),l.fF.assertValue(ut,"hierarchyProjection");var Vt,Dt=Ge.sources;if(Dt&&Dt.length>=2){var Mt=(0,V.jh)(Dt,ut);l.fF.assert(function(){return _.every(Mt,function(Wt){return Wt.metadataColumn.isMeasure||void 0!==Wt.projectionOrderIndex||null==ut[Wt.sourceIndex]})},"Removed grouping during Matrix Projection ordering");var Ot=_.sortBy(Mt,function(Wt){return Wt.projectionOrderIndex});Vt=_.map(Ot,function(Wt,Xt){return{originalSourceIndex:Wt.sourceIndex,newSourceIndex:Xt}})}return Vt}function be(Ge,ut){l.fF.assertValue(Ge,"transformingHierarchyLevel"),l.fF.assertNonEmpty(ut,"levelSourceIndexMappings");var Vt=Ge.sources;Ge.sources=Vt.slice(0);for(var Dt=function(tr){l.fF.assert(function(){return tr.originalSourceIndex<Vt.length},"pre-condition: The value in every mapping in the specified levelSourceIndicesReorderingMap must be a valid index to the specified hierarchyLevel.sources array property"),Ge.sources[tr.newSourceIndex]=Vt[tr.originalSourceIndex]},Mt=0,Ot=ut;Mt<Ot.length;Mt++)Dt(Ot[Mt]);return Ge}function Te(Ge,ut,Vt){l.fF.assertValue(Ge,"transformingHierarchyRootNode"),l.fF.assertNonEmpty(Vt,"levelSourceIndexMappings"),l.fF.assert(function(){return Vt.length===_.uniqBy(Vt,function(Mt){return Mt.originalSourceIndex}).length},"levelSourceIndexMappings must not contain duplicate originalSourceIndex");var Dt=_.reduce(Vt,function(Mt,Ot){return Mt[Ot.originalSourceIndex]=Ot,Mt},{});return(0,Ee.X2)(Ge,ut,function(Mt){var Ot=Mt.levelValues;if(!_.isEmpty(Ot)){l.fF.assert(function(){return _.every(Ot,function(_r){return!!Dt[_r.levelSourceIndex]})},"Invalid levelSourceIndexMappings or transformingHierarchyRootNode: levelSourceIndexMappings should contain an entry for every levelSourceIndex in the matrix hierarchy.");for(var Wt=_.sortBy(Ot,function(_r){var Dr=Dt[_r.levelSourceIndex];return Dr&&Dr.newSourceIndex}),Xt=0,tr=Wt.length;Xt<tr;Xt++){var Lt=(0,o.qO)(Wt[Xt]),nr=Dt[Lt.levelSourceIndex];Lt.levelSourceIndex=nr&&nr.newSourceIndex,Wt[Xt]=Lt}Mt.levelValues=Wt;var yr=_.last(Wt);Mt.value!==yr.value&&(Mt.value=yr.value),(Mt.levelSourceIndex||0)!==yr.levelSourceIndex&&(Mt.levelSourceIndex=yr.levelSourceIndex)}}),Ge}function tt(Ge,ut){l.fF.assert(function(){return Ge&&_.every(Ge.children,function(Dt){return Dt.level===Ge.children[0].level})},"node must be defined and all of its child nodes must have the same level value."),l.fF.assertValue(ut,"measureHeadersLevelIndex");var Vt=Ge.children;return!_.isEmpty(Vt)&&Vt[0].level===ut}function mt(Ge,ut,Vt,Dt){for(var Mt=new Array(ut),Ot=0,Wt=ut;Ot<Wt;Ot++){var Xt=void 0,tr=Dt&&Dt[Ot].sourceIndex;null!=tr&&(Xt=Vt.children&&Vt.children[tr]);var Lt=Xt?(0,o.qO)(Xt):{};Lt.level=Ge,Vt.isSubtotal&&(Lt.isSubtotal=!0),Lt.levelSourceIndex=Ot>0?Ot:void 0,Mt[Ot]=Lt}return Mt}function He(Ge){l.fF.assertValue(Ge,"options");var ut=_.filter(Ge.dataRoles,function(Vt){return!_.isEmpty(Vt.requiredTypes)});!function(Ge,ut,Vt){if(l.fF.assertValue(Ge,"dataview"),!_.isEmpty(ut)&&!_.isEmpty(Vt)){for(var Dt=function(Ge,ut){if(!Ge||!ut)return function(){return!1};for(var Vt={},Dt=0,Mt=Ge;Dt<Mt.length;Dt++){var Ot=Mt[Dt],Wt=Ot.roles;if(Wt)for(var Xt=0,tr=ut;Xt<tr.length;Xt++)if(Wt[tr[Xt].name]){Vt[Ot.index]=!0;break}}return function(nr){return!isNaN(nr)&&!!Vt[nr]}}(Ge.metadata.columns,Vt),Mt=function(Ge,ut){if(!Ge||!ut)return function(){return!0};for(var Vt=[],Dt=0,Mt=Ge;Dt<Mt.length;Dt++){var Ot=Mt[Dt],Wt=Q(Ot,ut);Wt&&(Vt[Ot.index]=Wt)}return function(Xt,tr){return!Vt[Xt]||Vt[Xt](tr)}}(Ge.metadata.columns,Vt),Ot={},Wt=0,Xt=ut;Wt<Xt.length;Wt++){var tr=Xt[Wt];tr.table&&Ge.table&&(Ot.table=!0),tr.matrix&&Ge.matrix&&(Ot.matrix=!0),tr.categorical&&Ge.categorical&&(Ot.categorical=!0),tr.tree&&Ge.tree&&(Ot.tree=!0),tr.single&&Ge.single&&(Ot.single=!0)}Ot.categorical&&function(Ge,ut,Vt){var Dt=Ge&&Ge.values;if(Dt){var Mt=Dt.grouped();if(Mt)for(var Ot=0,Wt=Mt;Ot<Wt.length;Ot++)for(var Lt=0,nr=Wt[Ot].values;Lt<nr.length;Lt++){var yr=nr[Lt],_r=yr.source.index;if(ut(_r))for(var Dr=0,jt=yr.values.length;Dr<jt;Dr++)yr.values=te(yr.values,Dr,_r,Vt)}}}(Ge.categorical,Dt,Mt),Ot.table&&function(Ge,ut,Vt){var Dt=Ge&&Ge.columns;if(Dt){for(var Mt=[],Ot=0,Wt=Dt;Ot<Wt.length;Ot++){var Xt=Wt[Ot];ut(Xt.index)&&Mt.push(Xt.index)}for(var tr=Ge.rows,Lt=0,nr=tr.length;Lt<nr;Lt++)for(var yr=0,_r=Mt;yr<_r.length;yr++){var Dr=_r[yr];tr[Lt]=te(tr[Lt],Dr,Dr,Vt)}}}(Ge.table,Dt,Mt),Ot.tree&&nt(Ge.tree.root,Dt,Mt),Ot.matrix&&function(Ge,ut,Vt){var Dt=Ge&&Ge.rows&&Ge.rows.root;Dt&&We(Ge,Dt,ut,Vt)}(Ge.matrix,Dt,Mt),Ot.single&&function(Ge,ut,Vt,Dt){if(Ge.single){for(var Mt=[],Ot=0,Wt=Vt;Ot<Wt.length;Ot++){var Xt=Wt[Ot];Xt.name&&Mt.push(Xt.name)}for(var tr=Ge.metadata.columns,Lt=0,nr=ut;Lt<nr.length;Lt++){var _r=nr[Lt].single.role;if(-1!==Mt.indexOf(_r)){var Dr=xe(tr,_r);return void(Dr&&(Ge.single=te(Ge.single,"value",Dr.index,Dt)))}}}}(Ge,ut,Vt,Mt)}}(Ge.dataview,Ge.dataViewMappings,ut)}function Q(Ge,ut){var Vt=function(Ge,ut){var Vt=[],Dt=Ge&&Ge.roles;if(!Dt)return Vt;for(var Mt=0,Ot=ut;Mt<Ot.length;Mt++){var Wt=Ot[Mt];if(Dt[Wt.name])for(var Xt=0,tr=Wt.requiredTypes;Xt<tr.length;Xt++){var nr=c.Ge.fromDescriptor(tr[Xt]);Vt.push(nr)}}return Vt}(Ge,ut);if(!_.isEmpty(Vt))return function(Dt){return function(Ge,ut){for(var Vt=0,Dt=ut;Vt<Dt.length;Vt++){var Mt=Dt[Vt];if(Mt.numeric||Mt.integer)return"number"==typeof Ge}return!1}(Dt,Vt)}}function nt(Ge,ut,Vt){if(Ge.values)for(var Dt in Ge.values)ut(Dt)&&("object"==typeof Ge.values[Dt]&&"value"in Ge.values[Dt]?Ge.values[Dt]=te(Ge.values[Dt],"value",Dt,Vt):Ge.values=te(Ge.values,+Dt,+Dt,Vt));else if(Ge.children)for(var Mt=0,Ot=Ge.children;Mt<Ot.length;Mt++)nt(Ot[Mt],ut,Vt)}function We(Ge,ut,Vt,Dt){if(ut.values)for(var Mt in ut.values){var Ot=ut.values[Mt],Xt=Ge.valueSources[Ot.valueSourceIndex||0].index;_.isNumber(Xt)&&Vt(Xt)&&(ut.values[Mt]=te(Ot,"value",Xt,Dt))}else if(ut.children)for(var tr=0,Lt=ut.children;tr<Lt.length;tr++)We(Ge,Lt[tr],Vt,Dt)}function te(Ge,ut,Vt,Dt){if(Ge){var Mt=Ge[ut];return null!==Mt&&!Dt(Vt,Mt)&&((Ge=(0,o.qO)(Ge))[ut]=null),Ge}}function xe(Ge,ut){for(var Vt=0,Dt=Ge;Vt<Dt.length;Vt++){var Mt=Dt[Vt],Ot=Mt&&Mt.roles;if(Ot&&Ot[ut])return Mt}}var Z=t(470081),J=t(778575),Fe=t(265699),rt=function(){function Ge(){this.originalDynamicFormatColumns=[],this.categoryIndexToDynamicFormatColumn=[]}return Ge.prototype.trackOriginalDynamicFormatColumn=function(ut,Vt){this.originalDynamicFormatColumns.push({valueColumnIndex:ut,dynamicFormatStringColumn:Vt})},Ge.prototype.addPivotedDynamicFormatColumn=function(ut,Vt,Dt){var Mt=this;void 0===this.categoryIndexToDynamicFormatColumn[ut]&&(this.categoryIndexToDynamicFormatColumn[ut]=[]),l.fF.assert(function(){return void 0===Mt.categoryIndexToDynamicFormatColumn[ut][Vt]},"categoryIndexToDynamicFormatColumn[".concat(ut,"][").concat(Vt,"] === undefined")),this.categoryIndexToDynamicFormatColumn[ut][Vt]=Dt},Ge.prototype.getPivotedDynamicFormatColumn=function(ut,Vt){var Dt=this.getValueColumnIndex(ut);if(void 0!==Dt)return l.fF.assertValue(this.categoryIndexToDynamicFormatColumn[Dt][Vt],"categoryIndexToDynamicFormatColumn[".concat(Dt,"][").concat(Vt,"]")),this.categoryIndexToDynamicFormatColumn[Dt][Vt]},Ge.prototype.getValueColumnIndex=function(ut){var Vt=_.find(this.originalDynamicFormatColumns,function(Dt){return Dt.dynamicFormatStringColumn===ut});if(Vt)return Vt.valueColumnIndex},Ge}(),Oe=t(604520);var Ze=t(940070),et=t(18883);function Rt(Ge,ut,Vt){for(var Dt=(0,o.ED)(Ge),Mt=0,Ot=Vt;Mt<Ot.length;Mt++){var Wt=Ot[Mt];Dt[Wt]=ut[Wt]}return Dt}var zt=t(553474),Kt=t(620743),ir=["Series","Category"],lr=["Series","X","Y"];function pt(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"groupingLevelSelectIndices"),l.fF.assertValue(ut,"selectTransforms"),l.fF.assertAnyValue(Vt,"drillableRoles"),l.fF.assertValue(Dt,"rolesToMatch");for(var Mt=0,Ot=Ge.length,Wt=0,Xt=Dt;Wt<Xt.length;Wt++){var tr=Xt[Wt];if(Ot<=Mt)return!1;var Lt=Ut(Ge,ut,tr);if(0===Lt)return!1;if(Lt>=2&&!_.includes(Vt,tr))return!1;Mt+=Lt}return!(Mt<Ot)}function Ut(Ge,ut,Vt){l.fF.assertValue(Ge,"selectIndices"),l.fF.assertValue(ut,"selectTransforms"),l.fF.assertValue(Vt,"roleToMatch");for(var Dt=0,Mt=0,Ot=Ge;Mt<Ot.length;Mt++){var Wt=Ot[Mt];if((0,V.iN)(ut[Wt]&&ut[Wt].roles,Vt))Dt++;else if(Dt>0)break}return Dt}var mr=t(37541),gr=t(558943),xr=t(669266),Vr={quarterPrefix:"Qtr {0}"};function Qr(Ge){l.fF.assertValue(Ge,"options"),Vr=Ge}function Gr(Ge){l.fF.assertValue(Ge,"options");var ut=Ge.prototype,Vt=Ge.objectDescriptors,Dt=Ge.transforms,Mt=Ge.visualStyle,Ot=Ge.withWarnings?[]:void 0;if(!ut)return{dataViews:Yr(Vt,Dt,Mt,Ge.featureSwitches)};if(!Dt)return{dataViews:[ut]};var Wt=function(Ge,ut,Vt,Dt,Mt,Ot,Wt,Xt,tr,Lt){l.fF.assertValue(Ge,"queryDataViewMetadata"),l.fF.assertAnyValue(ut,"objectDescriptors"),l.fF.assertAnyValue(Vt,"dataViewMappings"),l.fF.assertAnyValue(Dt,"dataRoles"),l.fF.assertAnyValue(Mt,"drillCapabilities"),l.fF.assertValue(Wt,"transforms"),l.fF.assertValue(Xt,"DataViewTransformContext.create - visualStyle");var nr=Wt.selects,yr=Wt.roles&&Wt.roles.activeItems,_r=_.isEmpty(nr)?{}:(0,Kt.bG)(nr,Ge),Dr=(0,Kt._v)(nr,yr),Me=(0,zt.Lo)(Dr,Vt,_r,Lt,ut,Wt.objects).supportedMappings;return{queryDataViewMetadata:Ge,objectDescriptors:ut,dataRoles:Dt,drillCapabilities:Mt,expandCollapseCapabilities:Ot,transforms:Wt,selectTransforms:nr,projectionOrdering:Wt.roles&&Wt.roles.ordering,projectionActiveItems:yr,roleKindByQueryRef:_r,queryProjectionsByRole:Dr,visualCapabilitiesRoleMappings:Vt,visualCapabilitiesDataViewKinds:(0,f._1)(Vt),applicableRoleMappings:Me,applicableDataViewKinds:(0,f._1)(Me),visualStyle:Xt,visualCapabilitiesKeepAllMetadataColumns:tr}}(ut.metadata,Vt,Ge.dataViewMappings,Ge.dataRoles,Ge.drillCapabilities,Ge.expandCollapseCapabilties,Dt,Mt,Ge.keepAllMetadataColumnsCapability,Ge.featureSwitches),Xt=function(Ge,ut){var Vt,Dt;l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"transformContext");var Mt=ut.transforms,Ot=ut.applicableRoleMappings,Wt=(0,Oe.wi)(Ge,ut.selectTransforms,ut.roleKindByQueryRef,ut.queryProjectionsByRole,Ot),Xt=null===(Dt=null===(Vt=ut.transforms)||void 0===Vt?void 0:Vt.roles)||void 0===Dt?void 0:Dt.isDrillDisabled;return function(Ge,ut,Vt,Dt){if(!function(Ge,ut,Vt,Dt){if(_.isEmpty(ut)||!Ge||_.isEmpty(Vt))return!1;var Mt=Ge.matrix;if(!Mt||!Mt.rows||_.isEmpty(Mt.rows.levels)||!Mt.columns||_.isEmpty(Mt.columns.levels))return!1;for(var Ot=[],Wt=0,Xt=Mt.columns.levels;Wt<Xt.length;Wt++)for(var Lt=0,nr=Xt[Wt].sources;Lt<nr.length;Lt++)(yr=nr[Lt]).isMeasure||Ot.push(yr);for(var _r=[],Dr=0,jt=Mt.rows.levels;Dr<jt.length;Dr++)for(var Me=0,Ct=jt[Dr].sources;Me<Ct.length;Me++)(yr=Ct[Me]).isMeasure||_r.push(yr);for(var At=[],st=0,xt=Mt.rows.levels;st<xt.length;st++)for(var _t=0,Zt=xt[st].sources;_t<Zt.length;_t++){var yr;(yr=Zt[_t]).isMeasure&&At.push(yr)}if(!_.isEmpty(At)||1!==Ot.length||_r.length<1)return!1;var qt=_.filter(Vt,function(di){return!(0,f.zY)(di)});if(1!==qt.length)return!1;if(2!==(0,f._1)(qt))return!1;var Br=qt[0].matrix;if(!Br)return!1;var ii=f.nG.fromMatrixRows(Br.rows),pi=f.nG.fromMatrixColumns(Br.columns);if(_.size(ii)<2||0!==_.size(pi))return!1;var si=_.uniq([].concat.apply([],_.map(_r,function(di){return Object.keys(ut[di.index].roles)}))),Si=_.uniq([].concat.apply([],_.map(Ot,function(di){return Object.keys(ut[di.index].roles)})));return _.isEqual(ii,[].concat(Si,si))&&_.isEqual(Dt,si)}(Ge,ut,Dt,Vt))return Ge;var Mt={metadata:{columns:(0,m.__spreadArray)([],Ge.metadata.columns||[],!0)}};if(Ge.single&&(Mt.single=Ge.single),Ge.table&&(Mt.table=Ge.table),Ge.matrix){var Ot=function(Ge){var ut=Ge.rows,Vt=Ge.columns,Dt=ut.root,Mt=Dt.children;l.fF.assert(function(){return 1===ut.levels.length},"oldRows.levels.length ===1"),l.fF.assert(function(){return Vt.levels.length>=1},"oldColumns.levels.length >=1"),l.fF.assert(function(){return 1===Vt.levels[0].sources.length},"oldColumns.levels[0].sources.length === 1");var Ot={levels:[],root:{children:[]}},Xt={rows:Ot,columns:{levels:[],root:{children:[]}},valueSources:Ge.valueSources},tr=Ot.root.children;Ot.levels.push(Vt.levels[0]),Ot.root.childIdentityFields=Vt.root.childIdentityFields;for(var Lt=0,nr=Vt.root.children;Lt<nr.length;Lt++){var yr=nr[Lt];void 0!==yr.levelValues&&void 0!==yr.value&&tr.push({children:[],value:yr.value,levelValues:yr.levelValues,identity:yr.identity,level:0})}var _r=_.size(Ge.valueSources);if(Ot.levels.push(ut.levels[0]),_.isEmpty(tr))return Xt;for(var Dr in Mt){var jt=Mt[Dr];for(var Me in jt.values){var At=tr[Math.floor(Me/_r)];At.childIdentityFields||(At.childIdentityFields=Dt.childIdentityFields);var st=jt.values[Me];if(null!=st){var xt=At.children[Dr];xt||At.children.push(xt={level:At.level+1,value:jt.value,levelValues:jt.levelValues,values:{},identity:jt.identity}),xt.values[Me%_r]=st}}}return Xt}(Ge.matrix);_.isEmpty(Ot.valueSources)||(0,Ee.CF)(Ot.columns)||(Mt.matrix=Ot)}return Mt}(Wt=function(Ge,ut,Vt,Dt){if(l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"transformActions"),l.fF.assertAnyValue(Vt,"applicableRoleMappings"),l.fF.assertAnyValue(Dt,"drillableRoles"),!_.isEmpty(ut.splits))return Ge;var Mt=Ge.matrix;if(!Mt)return Ge;var Ot=_.chain(Vt).map(function(Lt){return function(Ge){l.fF.assertValue(Ge,"dataViewMapping");var ut=Ge.matrix;if(ut&&ut.rows&&!ut.columns&&!ut.values){var Vt=f.nG.fromMatrixRows(ut.rows);if((0,e.NF)(Vt,ir,function(Mt,Ot){return Mt===Ot})||(0,e.NF)(Vt,lr,function(Mt,Ot){return Mt===Ot}))return{primaryAxisRoles:Vt.slice(1),secondaryAxisRole:Vt[0]}}}(Lt)}).filter(function(Lt){return!!Lt}).value();if(1!==Ot.length)return Ge;if(!function(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"dataViewSelectIndices"),l.fF.assertValue(ut,"transformActions"),l.fF.assertAnyValue(Vt,"drillableRoles"),l.fF.assertValue(Dt,"matchingUpgradeSourceRolesStructure");var Mt=Ge.primaryAxis,Ot=Ge.secondaryAxis;if(!_.isEmpty(Ge.intersection)||1!==_.size(Mt)||1!==_.size(Ot))return!1;var Wt=ut.selects;return!(!pt(Mt[0].selectIndices,Wt,Vt,Dt.primaryAxisRoles)||!pt(Ot[0].selectIndices,Wt,Vt,[Dt.secondaryAxisRole]))}((0,Ee.GJ)(Mt),ut,Dt,Ot[0]))return Ge;var Xt=function(Ge){l.fF.assertValue(Ge,"dataViewMatrix"),l.fF.assert(function(){return 1===Ge.columns.levels.length},"dataViewMatrix.columns.levels.length === 1"),l.fF.assert(function(){return 1===Ge.rows.levels.length},"dataViewMatrix.rows.levels.length === 1"),l.fF.assert(function(){return _.isEmpty(Ge.valueSources)},"_.isEmpty(dataViewMatrix.valueSources)");var ut=(0,o.qO)(Ge),Vt=ut.rows=(0,o.qO)(Ge.rows),Dt=ut.columns=(0,o.qO)(Ge.columns),Ot=(Dt.levels=(0,o.qO)(Dt.levels)).splice(0,1)[0];(Vt.levels=(0,o.qO)(Vt.levels)).splice(0,0,Ot);var Xt=Ge.rows.root,tr=Vt.root=(0,o.qO)(Dt.root);Dt.root={children:[]};var Lt=(0,o.VW)(tr.children,function(nr){var yr=(0,o.qO)(nr);return yr.childIdentityFields=Xt.childIdentityFields,yr.children=function(Ge){if(l.fF.assertAnyValue(Ge,"nodes"),!Ge)return Ge;var ut=(0,o.VW)(Ge,function(Vt){var Dt=(0,o.ED)(Vt);return Dt.level+=1,Dt});return ut||(0,o.ED)(Ge)}(Xt.children),yr});return Lt&&(tr.children=Lt),ut}(Mt),tr=(0,o.qO)(Ge);return tr.matrix=Xt,tr}(Wt,Mt,Ot,Ar(ut.drillCapabilities,Xt)),ut.selectTransforms,Ar(ut.drillCapabilities,Xt),Ot)}(ut,Wt),tr=function(Ge,ut,Vt,Dt,Mt,Ot){l.fF.assertValue(ut,"transformContext");var Wt=[],Xt=ut.transforms.splits;if(_.isEmpty(Xt))Wt.push(Zr(Ge,ut,Vt,Dt,null,Mt,Ot));else for(var tr=0,Lt=Xt;tr<Lt.length;tr++){var yr=Zr(Ge,ut,Vt,Dt,Lt[tr].selects,null,Ot);Wt.push(yr)}return Wt}(Xt,Wt,Ge.featureSwitches,Ot,Ge.bypassConcatenation,Ge.orderIndependentSelectorMatching);return{dataViews:tr=(0,Ze.KH)({visualDataViews:tr,dataRoles:Wt.dataRoles,objectDescriptors:Vt,objectDefinitions:Dt.objects,transformSelects:Dt.selects,applicableDataViewMappings:Wt.applicableRoleMappings,roleKindByQueryRef:Wt.roleKindByQueryRef,queryProjectionsByRole:Wt.queryProjectionsByRole,visualStyle:Wt.visualStyle,featureSwitches:Ge.featureSwitches}),warnings:Ot}}function Yr(Ge,ut,Vt,Dt){if(ut&&ut.objects){var Mt={metadata:{columns:[]}};return(0,r.ni)(Mt,0,Ge,ut.objects,ut.selects,Vt,Dt),[Mt]}return[]}function Zr(Ge,ut,Vt,Dt,Mt,Ot,Wt){var Xt,tr;l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"transformContext"),l.fF.assert(function(){return!Mt||_.every(Mt,function(_t,Zt){var qt;return!_t||(null===(qt=ut.selectTransforms)||void 0===qt?void 0:qt[Zt])})},"If selectsToInclude is specified, every included Select must have a corresponding Select Transform.");var Lt=(0,o.ED)(Ge);Lt.metadata=(0,o.ED)(Ge.metadata),Lt=function(Ge,ut){if(l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"transformContext"),(0,d.Js)(ut.visualCapabilitiesDataViewKinds)<=1)return Ge;var Dt=ut.applicableDataViewKinds;if(0===(0,d.Js)(Dt))return Ge;var Ot=(0,o.qO)(Ge);return Ot.categorical&&!(0,d.yE)(Dt,1)&&(Ot.categorical=void 0),Ot.matrix&&!(0,d.yE)(Dt,2)&&(Ot.matrix=void 0),Ot.table&&!(0,d.yE)(Dt,8)&&(Ot.table=void 0),Ot.tree&&!(0,d.yE)(Dt,16)&&(Ot.tree=void 0),Ot.single&&!(0,d.yE)(Dt,4)&&(Ot.single=void 0),Ot}(Lt,ut);var nr=ut.visualCapabilitiesDataViewKinds,yr=ut.visualCapabilitiesRoleMappings,_r=ut.selectTransforms,Dr=ut.expandCollapseCapabilities,jt=ut.objectDescriptors,Me=ut.visualStyle,Ct=null===(Xt=ut.transforms)||void 0===Xt?void 0:Xt.roles,At=null==Ct?void 0:Ct.isDrillDisabled,st={rowHierarchyRewritten:!1,columnHierarchyRewritten:!1,hierarchyTreesRewritten:!1},xt=[];return Lt=function(Ge,ut,Vt,Dt,Mt,Ot,Wt,Xt,tr){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"targetDataViewKinds"),l.fF.assert(function(){return 0===ut||!_.isEmpty(Vt)},"if targetDataViewKinds !== None, then roleMappings must be non-empty"),l.fF.assertAnyValue(Dt,"selectTransforms"),l.fF.assertValue(Mt,"columnRewrites"),l.fF.assertValue(Ot,"matrixTransformationContext"),l.fF.assertValue(Wt,"DataViewTransform.transformSelects - visualStyle");var Lt=new Fe.Q(tr,Wt);return Mt.length=0,Dt&&(Ge.metadata.columns=function(Ge,ut,Vt,Dt){if(l.fF.assertValue(Ge,"columns"),!ut)return Ge;for(var Mt=(0,o.ED)(Ge),Ot={},Wt=function(Ct,At){var st=Ge[Ct],xt=ut[st.index];Ot[st.index]=!0;var _t=st;if(xt)_t=Mt[Ct]=ot(st,xt);else if(!_.some(Ge,function(Zt){return Zt.formatSource&&Zt.formatSource.formatString===st}))return"continue";Vt.push({from:st,to:_t})},Xt=0,tr=Ge.length;Xt<tr;Xt++)Wt(Xt);if(Dt)for(Xt=0;Xt<ut.length;Xt++)if(!Ot[Xt]){var Lt=ut[Xt];nr=it(Lt,nr={displayName:Lt.displayName,index:Xt,identityExprs:Lt.identityExprs}),Mt.push(nr)}for(var yr={},_r=0,Dr=Mt;_r<Dr.length;_r++){var nr;if((nr=Dr[_r]).roles&&!nr.groupName&&nr.index)for(var jt in nr.rolesIndex||(nr.rolesIndex={}),nr.roles)void 0===yr[jt]&&(yr[jt]=0),nr.roles[jt]&&(nr.rolesIndex[jt]=[yr[jt]++])}return l.fF.assert(function(){return _.every(Vt,function(Me){return Me.from.index===Me.to.index})},"post-condition: DataViewMetadataColumn.index is not expected to be rewritten by select transforms."),Mt}(Ge.metadata.columns,Dt,Mt,Xt),function(Ge,ut,Vt){if(l.fF.assertValue(Ge,"dataView"),l.fF.assertAnyValue(Vt,"selects"),Vt)for(var Mt,Dt=Ge.metadata.columns,Ot=0,Wt=Vt.length;Ot<Wt;Ot++){var Xt=Vt[Ot],tr=Xt&&Xt.aggregateSources;if(tr){Mt||(Mt=(0,gr._x)(Ge,Vt));var Lt=yt(Dt,Ot,Xt),nr=Lt.aggregates={},yr=c.Ge.fromDescriptor(Lt.type),_r=Ft(ut,Mt,Vt,yr,tr.min);void 0!==_r&&(nr.min=_r),void 0!==(_r=Ft(ut,Mt,Vt,yr,tr.max))&&(nr.max=_r)}}}(Ge,Lt,Dt)),Ge.categorical&&(0,d.yE)(ut,1)&&(Ge.categorical=function(Ge,ut){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"columnRewrites");var Vt=(0,o.ED)(Ge);function Dt(Xt){var tr=function(Ge,ut){for(var Vt={},Dt=Ge.source,Mt=Ge.source.rootSource,Ot=0,Wt=ut;Ot<Wt.length;Ot++){var Xt=Wt[Ot];Xt.from===Dt&&(Vt.source=Xt.to),Xt.from===Mt&&(Vt.rootSource=Xt.to)}return Vt}(Xt,ut),Lt=tr.source,nr=tr.rootSource;if(Lt){var yr=(0,o.ED)(Xt);return yr.source=Lt,nr&&(yr.source.rootSource=nr),yr}}var Mt=(0,o.VW)(Ge.categories,Dt);if(Mt&&(Vt.categories=Mt),Ge.values){var Ot=(0,o.VW)(Ge.values,Dt)||(0,o.qO)(Ge.values);if(Vt.values=Ot,Ot.source){var Wt=hr(Ot.source,ut);Wt&&(Ot.source=Wt)}}return n(Vt),Vt}(Ge.categorical,Mt),Ge=function(Ge,ut){l.fF.assertValue(Ge,"dataView");var Vt,Dt=function(Ge,ut){if(Ge&&!_.isEmpty(ut)){var Vt=Ge.categories;if(!_.isEmpty(Vt)){var Dt=Ge.values;if(!_.isEmpty(Dt)&&!Dt.grouped().some(function(tr){return!!tr.identity}))for(var Mt=function(Lt,nr){var yr=ut[Lt].categorical;if(!yr)return"continue";l.fF.assert(function(){return _.filter(Vt,function(st){return or(st.source.roles,yr.values)}).length<=1},"There should never be more than one column with the secondary axis group role in a DataViewCategorical, let alone columns in DataViewCategorical.categories.");for(var _r=0,Dr=Vt;_r<Dr.length;_r++){var jt=Dr[_r],Me=jt.source.roles;if(or(Me,yr.values)){var Ct=yr.categories;if($t(Me,Ct)||ur(Me,Ct))return{value:{type:2,selfCrossJoinCategory:jt}};if(1===Vt.length)return{value:{type:1}}}}},Ot=0,Wt=ut.length;Ot<Wt;Ot++){var Xt=Mt(Ot);if("object"==typeof Xt)return Xt.value}}}}(Ge.categorical,ut);if(Dt)switch(Dt.type){case 1:Vt=function(Ge){var ut;l.fF.assertValue(Ge,"dataView");var Vt=Ge.categorical;if(!Vt)return null;var Dt=Vt.categories;if(!Dt||1!==Dt.length)return null;var Mt=Vt.values;if(_.isEmpty(Mt)||Mt.source)return null;for(var Ot=Dt[0],Wt=Ot.identity,Xt=Ot.values,tr=[],Lt=[],nr=new rt,yr=0,_r=Xt.length;yr<_r;yr++)for(var Dr=Xt[yr],jt=Wt[yr],Me=0,Ct=Mt.length;Me<Ct;Me++){var At=Mt[Me],st=nr.getPivotedDynamicFormatColumn(At.source,yr);if(void 0===st&&(st=(0,o.ED)(At.source)),At.identity)return null;if(st.groupName=Dr,st.rootSource=At.source,null!==(ut=st.formatSource)&&void 0!==ut&&ut.formatString){var xt=st.formatSource.formatString;nr.trackOriginalDynamicFormatColumn(Me,xt);var _t=(0,o.ED)(xt);st.formatSource={formatString:_t},nr.addPivotedDynamicFormatColumn(Me,yr,_t)}var Zt={source:st,values:[At.values[yr]],identity:jt,min:At.min,max:At.max,subtotal:At.subtotal},qt=At.highlights;qt&&(Zt.highlights=[qt[yr]]),tr.push(st),Lt.push(Zt)}var Er=(0,o.ED)(Ge.metadata);return Er.columns=tr,{metadata:Er,categorical:{values:Mt=(0,r.Yv)(Lt,Ot.identityFields,Ot.source)},matrix:Ge.matrix}}(Ge);break;case 2:l.fF.assertValue(Dt.selfCrossJoinCategory,"selfCrossJoinCategory is expected to be defined when type is SelfCrossJoin"),Vt=function(Ge,ut){if(l.fF.assertValue(Ge,"dataView"),l.fF.assert(function(){return!ut||_.includes(Ge.categorical.categories,ut)},"!selfCrossJoinCategory || _.includes(dataView.categorical.categories, selfCrossJoinCategory)"),Ge.categorical&&ut){var Vt=Ge.categorical;if(!(_.isEmpty(Vt.categories)||Vt.values&&Vt.values.source)){var Dt=function(Ge,ut){return l.fF.assertValue(Ge,"dataViewCategorical"),l.fF.assertValue(ut,"selfCrossJoinCategory"),l.fF.assert(function(){return _.includes(Ge.categories,ut)},"_.includes(dataViewCategorical.categories, selfCrossJoinCategory)"),ut.source.identityExprs||(1===Ge.categories.length?ut.identityFields:void 0)}(Vt,ut);if(!_.isEmpty(Dt))return function(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"dataViewMetadata"),l.fF.assertValue(ut,"dataViewCategorical"),l.fF.assertValue(ut.categories,"dataViewCategorical.categories"),l.fF.assertValue(Vt,"selfCrossJoinCategory"),l.fF.assert(function(){return _.size(Vt.values)===_.size(Vt.identity)},"_.size(selfCrossJoinCategory.values) === _.size(selfCrossJoinCategory.identity)"),l.fF.assertValue(Dt,"seriesGroupIdentityFields");var Ot=Vt.values.length;if(0!==Ot){var Wt=ut.values?ut.values.grouped()[0].values:[],Xt=function(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"category"),l.fF.assertValue(ut,"categoryLength"),l.fF.assertValue(Vt,"measures"),l.fF.assertValue(Dt,"seriesGroupIdentityFields");var Mt=function(Ge){l.fF.assertValue(Ge,"length");for(var ut=new Array(Ge),Vt=0;Vt<Ge;Vt++)ut[Vt]=null;return ut}(ut),Ot=function(Ge,ut){l.fF.assertValue(Ge,"category"),l.fF.assert(function(){return _.size(Ge.values)===_.size(Ge.identity)},"_.size(category.values) === _.size(category.identity)"),l.fF.assertValue(!_.isEmpty(ut),"!_.isEmpty(seriesGroupIdentityFields)");for(var Vt=Ge.identity,Dt=Ge.values,Mt=[],Ot={},Wt=0,Xt=_.size(Vt);Wt<Xt;Wt++){var Lt=(0,S.J2)(Vt[Wt].expr,ut),nr=Lt&&(0,U.TZ)(Lt),yr=nr&&nr.key,_r=Ot[yr],Dr=void 0;void 0===_r?(Mt.push(Dr={identity:nr,groupValue:Dt[Wt],groupIndex:Mt.length,valueRowIndices:[]}),Ot[yr]=Dr.groupIndex):Dr=Mt[_r],Dr.valueRowIndices.push(Wt)}return l.fF.assert(function(){return(0,e.pT)(Mt,function(jt,Me){return jt.groupIndex-Me.groupIndex})},"post-condition: seriesGroups is sorted by group index"),Mt}(Ge,Dt);if(!_.isEmpty(Ot)){var Wt=_.map(Ot,function(Xt){var tr=Xt.valueRowIndices;return _.map(Vt,function(nr){var yr={values:Rt(Mt,nr.values,tr)};return nr.highlights&&(yr.highlights=Rt(Mt,nr.highlights,tr)),yr})});return{groupColumn:{source:Ge.source,identityFrom:{fields:Dt,identities:_.map(Ot,function(Xt){return Xt.identity})},values:_.map(Ot,function(Xt){return Xt.groupValue})},valueColumns:_.map(Vt,function(Xt){return{source:Xt.source}}),data:Wt}}}(Vt,Ot,Wt,Dt);if(Xt){var tr=(0,et.h)().withCategories(ut.categories).withGroupedValues(Xt).build();return(Ge=(0,o.ED)(Ge)).columns=tr.metadata.columns,{metadata:Ge,categorical:tr.categorical}}}}(Ge.metadata,Vt,ut,Dt)}}}(Ge,Dt.selfCrossJoinCategory)}return Vt||Ge}(Ge,Vt)),Ge.matrix&&(0,d.yE)(ut,2)&&(Ge.matrix=function(Ge,ut,Vt){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"columnRewrites");var Dt=(0,o.ED)(Ge),Mt=function(nr){return hr(nr,ut)};function Ot(Lt){var nr=null,yr=(0,o.VW)(Lt.levels,function(_r){var Dr=null,jt=(0,o.VW)(_r.sources,Mt);if(jt&&(Dr=Pt(Dr,_r,function(Ct){return Ct.sources=jt})),_r.valueSources){l.fF.assert(function(){return _.isEqual(_.keys(_r.valueSources),["0"])},"Scoped Measures with column groupings are not supported"),l.fF.assertValue(_r.valueSources[0],"Empty Scoped measures metadata");var Me=(0,o.VW)(_r.valueSources[0],Mt);Me&&(Dr=Pt(Dr,_r,function(Ct){return Ct.valueSources={0:Me}}))}return Dr});return yr&&(nr=Pt(nr,Lt,function(_r){return _r.levels=yr})),nr}var Wt=Ot(Dt.rows);Wt&&(Dt.rows=Wt,Vt.rowHierarchyRewritten=!0);var Xt=Ot(Dt.columns);Xt&&(Dt.columns=Xt,Vt.columnHierarchyRewritten=!0);var tr=(0,o.VW)(Dt.valueSources,Mt);return tr&&(Dt.valueSources=tr),Dt}(Ge.matrix,Mt,Ot)),Ge.table&&(0,d.yE)(ut,8)&&(Ge.table=function(Ge,ut){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"columnRewrites");var Vt=(0,o.ED)(Ge),Mt=(0,o.VW)(Ge.columns,function(Wt){return hr(Wt,ut)});return Mt&&(Vt.columns=Mt),Vt}(Ge.table,Mt)),Ge.single&&(0,d.yE)(ut,4)&&(Ge.single=function(Ge,ut){var Vt=hr(Ge.column,ut);return Vt&&((Ge=(0,o.qO)(Ge)).column=Vt),Ge}(Ge.single,Mt)),Ge}(Lt,nr,yr,_r,xt,st,Me,ut.visualCapabilitiesKeepAllMetadataColumns,Vt),(0,r.ni)(Lt,ut.visualCapabilitiesDataViewKinds,jt,ut.transforms.objects,_r,Me,Vt,Dt,Wt),Lt=function(Ge,ut,Vt,Dt,Mt){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"transformContext"),l.fF.assertValue(Dt,"matrixTransformationContext"),l.fF.assertAnyValue(Mt,"selectsToInclude");var Ot=ut.projectionOrdering,Wt=ut.applicableRoleMappings,Xt=(0,o.qO)(Ge);if(function(Ge,ut,Vt){if(ut){for(var Dt=new Array(Vt.length),Mt=0,Ot=Ge;Mt<Ot.length;Mt++)if(void 0!==(Wt=Ot[Mt]).index&&void 0!==Wt.roles&&null==Wt.groupName)for(var Xt in Dt[Wt.index]=Wt,Wt.rolesIndex=Wt.rolesIndex||{},Wt.roles)Wt.roles[Xt]&&(Wt.rolesIndex[Xt]=[]);for(var Xt in ut)for(var tr=ut[Xt],Lt=0;Lt<tr.length;Lt++){var Wt;(Wt=Dt[tr[Lt]])&&Wt.rolesIndex[Xt].push(Lt)}}}(Xt.metadata.columns,Ot,Vt),Xt.table&&(0,d.yE)(ut.applicableDataViewKinds,8)&&function(Ge,ut,Vt){if(!ut)return Ge;var Dt=function(Ge,ut){var Vt=Object.keys(Ge);if(1===Vt.length){var Dt=Vt[0],Mt=_.map(ut,function(Wt){return Wt.from.index});return function(Ge,ut){if(!(0,e.NF)(Ge,ut,function(Wt,Xt){return Wt===Xt})){for(var Vt=[],Dt=0,Mt=ut.length;Dt<Mt;++Dt)Vt[Dt]=Ge.indexOf(ut[Dt]);return Vt}}(Mt,Ge[Dt])}}(ut,Vt);if(!Dt)return Ge;var Mt=function(Xt){for(var tr=Dt.length,Lt=new Array(tr),nr=0;nr<tr;nr++)Lt[nr]=Xt[Dt[nr]];return Lt};if((Ge=(0,o.qO)(Ge)).columns=Mt(Ge.columns),_.isEmpty(Ge.rows)||(Ge.rows=(0,o.VW)(Ge.rows,function(Wt){var Xt=Mt(Wt);return Wt.objects&&(Xt.objects=Mt(Wt.objects)),Xt})),Ge.totals){var Ot=Mt(Ge.totals);Ge.totals.objects&&(Ot.objects=Mt(Ge.totals.objects)),Ge.totals=Ot}}(Xt.table,Ot,Vt),Xt.matrix&&(0,d.yE)(ut.applicableDataViewKinds,2)){var tr=_.filter(Wt,function(Lt){return!!Lt.matrix});l.fF.assertValue(0!==tr.length,"transformContext.applicableDataViewKinds should not have included Matrix if none of the applicableRoleMappings targets matrix."),l.fF.assertValue(tr.length<2,"This logic needs to be enhanced if there is more than one applicable DataViewMapping that targets matrix."),Xt.matrix=function(Ge,ut,Vt,Dt){var Mt;l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"matrixMapping"),l.fF.assertAnyValue(Vt,"projectionOrdering"),l.fF.assertValue(Dt,"context");var Ot=Ge;if(Vt){Ot=function(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"matrixRoleMapping"),l.fF.assertValue(Vt,"projectionOrdering"),l.fF.assertValue(Dt,"context");var Mt=Ge.valueSources,Ot=Ye(Vt,ut.values,Mt);if(fe(Mt,Ot))return Ge;l.fF.assert(function(){return Ot.length>0||!_.isEmpty(Mt)},"Nothing to re-order!");var Wt=(0,o.qO)(Ge),Xt=Wt.columns.levels,tr=[];Xt.length>0&&(tr=Xt[0].sources.filter(function(nr){return nr.isMeasure&&null!=nr.index&&!_.isEmpty(nr.roles)&&!_.find(Ot,function(yr){return yr.metadataColumn===nr})})),Wt.rows=oe(Wt.rows,Wt.valueSources,Ot,tr);var Lt=_.map(Ot,function(nr){return nr.metadataColumn});return Wt.valueSources=Lt,Wt.valueSources=Wt.valueSources.concat(tr),Wt.columns=function(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"prototypeColumnHierarchy"),l.fF.assertValue(ut,"newValueSources");var tr,Mt=Ge.levels,Ot=(0,Ee.Lt)(Mt),Xt=(Ot?_.size(Mt)>=2:_.size(Mt)>=1)?ut.length>=2:ut.length>=1;return tr=Ot?Xt?function(Ge,ut,Vt,Dt){l.fF.assert(function(){return Ge&&(0,Ee.Lt)(Ge.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),l.fF.assertValue(ut,"newValueSources");var Mt=(0,o.qO)(Ge),Ot=Mt.levels=(0,o.qO)(Mt.levels),Wt=Ot.length-1,Xt=Ot[Wt]=(0,o.qO)(Ot[Wt]);return Xt.sources=ut,Mt.root=(0,Ee.no)(Mt.root,Wt,!0),(0,Ee.w1)(Mt.root,function(tr){var Lt;if(tt(tr,Wt)){var nr=mt(Wt,ut.length,tr,Dt);if(0===Wt&&Vt.length>0){for(var yr=Xt.sources.length,_r=0;_r<Vt.length;_r++)nr.push({level:0,levelSourceIndex:yr+_r});tr.children=nr,(Lt=Xt.sources).push.apply(Lt,Vt||[])}else tr.children=nr;return 2}return 1}),Mt}(Ge,ut,Vt,Dt):function(Ge){l.fF.assert(function(){return Ge&&(0,Ee.Lt)(Ge.levels)},"prototypeColumnHierarchy && hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)");var ut=(0,o.qO)(Ge),Vt=ut.levels=(0,o.qO)(ut.levels),Dt=Vt.length-1;return Vt.splice(Dt,1),ut.root=(0,Ee.no)(ut.root,Dt,!0),(0,Ee.w1)(ut.root,function(Mt){return tt(Mt,Dt)?(Mt.children=void 0,2):1}),ut}(Ge):Xt?function(Ge,ut){l.fF.assert(function(){return Ge&&!(0,Ee.Lt)(Ge.levels)},"prototypeColumnHierarchy && !hasExistingMeasureHeadersLevel(prototypeColumnHierarchy.levels)"),l.fF.assertValue(ut,"newValueSources");var Vt=(0,o.qO)(Ge),Dt=Vt.levels=(0,o.qO)(Vt.levels);Dt.push({sources:ut});var Ot=Dt.length-1;return Vt.root=(0,Ee.no)(Vt.root,Ot,!0),(0,Ee.w1)(Vt.root,function(Wt){return(0,Ee.N9)(Wt)?(Wt.children=mt(Ot,ut.length,Wt),2):1}),Vt}(Ge,ut):Ge,tr}(Wt.columns,(0,m.__spreadArray)([],Lt||[],!0),tr,Ot),Dt.hierarchyTreesRewritten=!0,Wt}(Ot,ut,Vt,Dt),Ot=function(Ge,ut,Vt){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"applicableDataViewMapping"),l.fF.assertValue(Vt,"projectionOrdering");var Lt,Mt=pe(Vt,f.nG.fromMatrixRows(ut.rows)),Ot=Ce(Ge.rows,Mt),Xt=pe(Vt,f.nG.fromMatrixColumns(ut.columns)),tr=Ce(Ge.columns,Xt);return(Ot||tr)&&((Lt=(0,o.qO)(Ge)).rows=Ot||Lt.rows,Lt.columns=tr||Lt.columns),Lt||Ge}(Ot,ut,Vt);var Wt=null===(Mt=ut.rows)||void 0===Mt?void 0:Mt.values;_.isEmpty(Wt)||(Ot=function(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"scopedMeasuresRoleMapping"),l.fF.assertValue(Vt,"projectionOrdering"),l.fF.assertValue(Dt,"context");for(var Mt=Ge,Ot=0;Ot<Ge.rows.levels.length;Ot++){var Xt=(0,Ee.vC)(Ge.rows.levels[Ot]);if(!_.isEmpty(Xt)){var tr=[];Ot===Ge.rows.levels.length-1&&(l.fF.assert(function(){return(0,Ee.pr)(Ge.columns)>0},"Scoped measures at last row level aren't expected without Column grouping"),tr=Ye(Vt,ut,Xt)),fe(Xt,tr)||((Mt=(0,o.qO)(Mt)).rows=oe(Mt.rows,Xt,tr,[],Ot),Mt.rows.levels=(0,o.qO)(Mt.rows.levels),(Mt.rows.levels[Ot]=(0,o.qO)(Mt.rows.levels[Ot])).valueSources=tr.length>0?{0:_.map(tr,function(nr){return nr.metadataColumn})}:void 0,Dt.hierarchyTreesRewritten=!0)}}return Mt}(Ot,Wt,Vt,Dt))}return Ot}(Xt.matrix,tr[0].matrix,Ot,Dt),function(Ge,ut){if(Ge&&!_.isEmpty(ut)){var Vt=Ge.rows.levels;if(!(Vt.length<1)){var Dt=Ge.rows.root.children;if(Dt&&0!==Dt.length)for(var Mt=Vt[0].sources[0].roles,Ot=0,Wt=ut.length;Ot<Wt;Ot++){var Xt=ut[Ot].matrix;if(Xt&&!ur(Mt,Xt.rows)&&ur(Mt,Xt.columns))return!0}}}}(Xt.matrix,Wt)&&Y(Xt.matrix,Dt)}return function(Ge,ut,Vt,Dt,Mt){l.fF.assertValue(Ge,"prototype"),l.fF.assertAnyValue(ut,"applicableRoleMappings"),l.fF.assertAnyValue(Vt,"dataRoles"),l.fF.assertAnyValue(Dt,"projectionOrdering"),l.fF.assertAnyValue(Mt,"splitSelects");var Ot,Wt=_.chain(ut).filter(function(Lt){return Lt.categorical&&!(0,f.zY)(Lt)}).map(function(Lt){return Lt.categorical}).value();if(Ge.categorical&&Wt.length>=1){var Xt=Ge.categorical,tr=function(Ge,ut,Vt,Dt){if(l.fF.assertValue(Ge,"prototypeCategorical"),l.fF.assertValue(ut,"categoricalRoleMappingsWithoutRegression"),l.fF.assert(function(){return _.every(ut,function(Wt){return!!Wt})},"categoricalRoleMappingsWithoutRegression must not contain falsy elements"),l.fF.assertAnyValue(Vt,"projectionOrdering"),l.fF.assertAnyValue(Dt,"splitSelects"),!_.isEmpty(Ge.categories)){var Mt=(0,f.y4)(ut,f.O2);if(Mt){var Ot=function(Ge,ut,Vt){if(l.fF.assertValue(Ge,"roles"),l.fF.assertAnyValue(ut,"projectionOrdering"),l.fF.assertAnyValue(Vt,"splitSelects"),ut){var Dt=_.reduce(Ge,function(Mt,Ot){var Wt=_.filter(ut[Ot],function(Xt){return!Vt||Vt[Xt]});return Mt.push.apply(Mt,Wt||[]),Mt},[]);return Dt}}(Mt,Vt,Dt);if(Ot)return function(Ge,ut,Vt){l.fF.assertValue(Ge,"prototypeCategorical"),l.fF.assertValue(ut,"projectionOrder"),l.fF.assertValue(Vt,"categoryRoles");var Dt=Ge.categories;if(_.isEmpty(Dt))l.fF.assert(function(){return _.isEmpty(ut)},"If DataViewCategory.categories is empty but projectionOrder of primary axis is non-empty, then something went wrong when projectionOrder was getting deserialized or reconstructed.  If projectionOrder for primary axis is truly non-empty, then the DSR and DataView should have some data there.");else if(!function(Ge,ut){return l.fF.assertValue(Ge,"categories"),l.fF.assertValue(ut,"selectIndexOrder"),Ge.length===ut.length&&_.every(ut,function(Vt,Dt){return Ge[Dt].source.index===Vt})}(Dt,ut)){var Mt=_.map(Dt,function(nr){return nr.source}),Ot=(0,V.jh)(Mt,ut,Vt),Wt=_.chain(Ot).filter(function(nr){return void 0!==nr.projectionOrderIndex}).sortBy(function(nr){return nr.projectionOrderIndex}).value(),Xt=_.map(Wt,function(nr){return Dt[nr.sourceIndex]}),tr=(0,o.qO)(Ge);if(_.isEmpty(Xt))tr.categories=void 0;else{var Lt=(0,a.OC)(Dt);Lt&&(Xt=(0,a.gp)(Xt,Lt)||Xt),tr.categories=Xt}return tr}}(Ge,Ot,Mt)}}}(Xt,Wt,Dt,Mt);tr=function(Ge,ut,Vt,Dt){l.fF.assertValue(Ge,"prototypeCategorical"),l.fF.assertAnyValue(ut,"dataRoles"),l.fF.assertAnyValue(Vt,"projectionOrdering"),l.fF.assertAnyValue(Dt,"splitSelects");var Mt=Ge.values;if(Mt){var Ot=function(Ge){if(u(Ge)){var ut=(0,r.Yv)(Ge.filter(function(Vt){return!s(Vt)}),void 0,Ge.source);return ut.grouped=Ge.grouped.bind(ut),ut}}(Mt),Wt=function(Ge){l.fF.assertValue(Ge,"values"),l.fF.assert(function(){return!u(Ge)},"Dynamic format values should have already been removed");var Vt,Dt,Mt,Ot,ut=Ge.source,Wt=Ge.grouped();if(ut){Dt=T(Wt);var tr=(Vt=Wt.length)*_.size(Dt),Lt=Ge.length-tr;Lt>0&&(Mt=tr,Ot=_.chain(Ge).takeRight(Lt).map(function(nr){return nr.source}).value())}else Mt=0,Ot=T(Wt);return{secondaryAxisSource:ut,dynamicSeriesGroupCount:Vt,dynamicSeriesMeasureSources:Dt,staticSeriesMeasureStartingIndex:Mt,staticSeriesMeasureSources:Ot}}(Ot||Mt),Xt=function(Ge,ut,Vt,Dt){if(l.fF.assertValue(Ge,"valueColumnsInfo"),l.fF.assertAnyValue(ut,"dataRoles"),l.fF.assertAnyValue(Vt,"projectionOrdering"),l.fF.assertAnyValue(Dt,"splitSelects"),!Vt)return function(Ge,ut){l.fF.assertValue(Ge,"valueColumnsInfo"),l.fF.assertAnyValue(ut,"splitSelects");var Mt=(Ge.dynamicSeriesMeasureSources||[]).concat(Ge.staticSeriesMeasureSources||[]),Ot=_.chain(Mt).filter(function(Wt){return!ut||!!ut[Wt.index]}).map(function(Wt){return Wt.index}).uniq().value();return Ot}(Ge,Dt);var Mt=_.reduce(ut,function(nr,yr,_r){var Dr=yr.name;return void 0===nr[Dr]&&(nr[Dr]=_r),nr},{}),Xt=(Ge.dynamicSeriesMeasureSources||[]).concat(Ge.staticSeriesMeasureSources||[]),tr=_.chain(Xt).filter(function(nr){return!Dt||!!Dt[nr.index]}).uniqBy(function(nr){return nr.index}).map(function(nr){var yr=nr.roles;return yr?_.filter(Object.keys(yr),function(_r){return yr[_r]}):[]}).flatten().uniq().sortBy(function(nr){return Mt[nr]}).value(),Lt=_.chain(tr).map(function(nr){return Vt[nr]||[]}).flatten().filter(function(nr){return!Dt||!!Dt[nr]}).uniq().value();return Lt}(Wt,ut,Vt,Dt);if(Ot=function(Ge,ut,Vt){l.fF.assertValue(Ge,"prototypeValues"),l.fF.assertValue(ut,"prototypeValueColumnsInfo"),l.fF.assertValue(Vt,"measureRolesProjectionOrder"),l.fF.assert(function(){return!u(Ge)},"Dynamic format values should have already been removed");var Dt=function(Ge,ut,Vt){if(l.fF.assertValue(Ge,"prototypeValues"),l.fF.assertValue(ut,"prototypeValueColumnsInfo"),l.fF.assertValue(Vt,"measureRolesProjectionOrder"),ut.dynamicSeriesGroupCount&&!_.isEmpty(ut.dynamicSeriesMeasureSources)){var Dt=L(ut.dynamicSeriesMeasureSources,Vt);if(Dt){var Mt=Dt.length;if(0===Mt)return[];for(var Ot=ut.dynamicSeriesMeasureSources.length,Wt=ut.dynamicSeriesGroupCount,Xt=[],tr=0;tr<Wt;tr++)for(var Lt=tr*Ot,nr=0;nr<Mt;nr++)Xt.push(Ge[Lt+Dt[nr].sourceIndex]);return Xt}}}(Ge,ut,Vt),Mt=function(Ge,ut,Vt){if(l.fF.assertValue(Ge,"prototypeValues"),l.fF.assertValue(ut,"prototypeValueColumnsInfo"),l.fF.assertValue(Vt,"measureRolesProjectionOrder"),!_.isEmpty(ut.staticSeriesMeasureSources)){var Dt=L(ut.staticSeriesMeasureSources,Vt);if(Dt){var Mt=Dt.length;if(0===Mt)return[];for(var Ot=ut.staticSeriesMeasureStartingIndex,Wt=[],Xt=0;Xt<Mt;Xt++)Wt.push(Ge[Ot+Dt[Xt].sourceIndex]);return Wt}}}(Ge,ut,Vt);if(Dt||Mt){var Ot=(0,o.qO)(Ge);return Dt?Mt?(l.fF.assert(function(){return _.isEmpty(Dt)||_.isEmpty(Mt)},"At least one of the two arrays should be empty, because visual DataView should not have a mix of dynamic and static measures."),Ot.splice(0,Ot.length),Ot.push.apply(Ot,Dt||[]),Ot.push.apply(Ot,Mt||[])):(l.fF.assertValue(ut.dynamicSeriesGroupCount,"prototypeValueColumnsInfo.dynamicSeriesInstanceCount should have been populated if dynamic series measures got transformed"),l.fF.assertValue(ut.dynamicSeriesMeasureSources,"prototypeValueColumnsInfo.dynamicSeriesMeasureSources should have been populated if dynamic series measures got transformed"),Ot.splice.apply(Ot,(0,m.__spreadArray)([0,ut.dynamicSeriesMeasureSources.length*ut.dynamicSeriesGroupCount],Dt||[],!1))):Mt&&(l.fF.assertValue(ut.staticSeriesMeasureSources,"prototypeValueColumnsInfo.staticSeriesMeasureSources should have been populated if static series measures got transformed"),l.fF.assertValue(ut.staticSeriesMeasureStartingIndex,"prototypeValueColumnsInfo.staticSeriesMeasureStartingIndex should have been populated if static series measures got transformed"),Ot.splice.apply(Ot,(0,m.__spreadArray)([ut.staticSeriesMeasureStartingIndex,ut.staticSeriesMeasureSources.length],Mt||[],!1))),Ot}}(Ot||Mt,Wt,Xt)||Ot,Ot=function(Ge,ut){if(l.fF.assertValue(Ge,"prototypeValues"),l.fF.assertAnyValue(ut,"splitSelects"),ut&&Ge.source&&!ut[Ge.source.index]){var Dt=(0,o.qO)(Ge);return Dt.source=void 0,Dt.identityFields=void 0,Dt}}(Ot||Mt,Dt)||Ot,Ot){var tr=!!Ot.source,Lt=Ot.length>0,nr=(0,o.qO)(Ge);return tr||Lt?(nr.values=Ot,n(nr)):nr.values=void 0,nr}}}(tr||Xt,Vt,Dt,Mt),tr&&((Ot=(0,o.qO)(Ge)).categorical=tr)}return Ot||Ge}(Xt,Wt,ut.dataRoles,Ot,Mt)}(Lt,ut,xt,st,Mt),Lt=function(Ge,ut,Vt,Dt,Mt,Ot,Wt){if(_.isEmpty(Vt)||!Mt)return Ge;var Xt=Mt&&Mt.roles;if(_.isEmpty(Xt)||Wt)return Ge;l.fF.assertValue(Ge,"dataView"),l.fF.assertValue(ut,"targetDataViewKinds"),l.fF.assertNonEmpty(Dt,"selectTransforms"),l.fF.assertAnyValue(Ot,"expansionStates");var tr=Mt.addDataViewFlags;if(l.fF.assertValue(tr,"addDataViewFlags"),!0!==(tr.propertyIdentifier?(0,Z.NA)(Ge.metadata.objects,tr.propertyIdentifier,tr.defaultValue):tr.defaultValue))return Ge;var nr=_.find(Vt,function(Dr){return Dr.matrix}),yr=nr&&nr.matrix;if(yr&&Ge.matrix&&(0,d.yE)(ut,2)){var _r=function(Ge,ut,Vt,Dt,Mt,Ot,Wt){l.fF.assertNonEmpty(Dt,"Expand/Collapse is not supported");var Xt=f.nG.fromMatrixRows(ut.rows),tr=Mt&&(0,v.Vt)(Mt,Xt),Lt=function(Ge,ut,Vt,Dt,Mt,Ot,Wt){if(l.fF.assertAnyValue(Mt,"dataViewTransform.applyExpansionStatesToHierarchy - expansionState may not exist"),!_.some(ut,function(jt){return!_.includes(Dt,jt)})){for(var Xt=0,tr=function(Me){_.some(ut,function(Ct){return Me.roles[Ct]})&&Xt++},Lt=0,nr=Vt;Lt<nr.length;Lt++)tr(nr[Lt]);if(Xt>0){(Ge=(0,o.qO)(Ge)).levels=(0,o.qO)(Ge.levels),l.fF.assertValue(Ge.levels,"hierarchy.levels");for(var _r=0;_r<Ge.levels.length;_r++)_r<Xt-1&&(Ge.levels[_r]=(0,o.qO)(Ge.levels[_r]),Ge.levels[_r].canBeExpanded=!0);var Dr=Ae(Ge.root,Ge.levels,Mt&&Mt.root,Mt&&Mt.levels,Xt);return Dr&&(Ge.root=Dr),Wt&&Mt&&function(Ge,ut,Vt){l.fF.assertValue(Ge,"hierarchy"),l.fF.assertValue(ut,"metadataColumns"),l.fF.assertValue(Vt,"expansionState");var Dt=Vt.levels;if(!_.isEmpty(Dt)){for(var Mt={},Ot=0,Wt=ut;Ot<Wt.length;Ot++){var Xt=Wt[Ot];Mt[Xt.queryName]=Xt}for(var tr=new Array(Dt.length),Lt=Ge.levels,nr=0,yr=function(At){var st=At.queryRefs;if(!_.isEmpty(st)&&!_.isEmpty(Lt)&&Lt[nr])for(var xt=Lt[nr].sources,_t=function(ii){l.fF.assert(function(){return _.some(xt,function(pi){return pi.queryName===ii})},"ExpansionState levels should match matrix levels.")},Zt=0,qt=st;Zt<qt.length;Zt++)_t(qt[Zt]);tr[nr++]={isCollapsed:At.isCollapsed,isPinned:At.isPinned,isLocked:At.isLocked,AIInformation:_.cloneDeep(At.AIInformation),sources:_.map(st,function(Br){return Mt[Br]})}},_r=0,Dr=Dt;_r<Dr.length;_r++)yr(Dr[_r]);var Me=Et(Vt.root,tr,void 0,h.m.getPrimitiveValuesFromSQConstantExpr);Ge.expansionStates=[{levels:tr,root:Me}]}}(Ge,Ot,Mt),Ge}}}(Ge.rows,Xt,Vt,Dt,tr,Ot,Wt);if(Lt)return(Ge=(0,o.qO)(Ge)).rows=Lt,Ge}(Ge.matrix,yr,Dt,Xt,Ot,Ge.metadata.columns,Mt.addDataViewExpansionState);_r&&((Ge=(0,o.qO)(Ge)).matrix=_r)}return Ge}(Lt,nr,yr,_r,Dr,ut.transforms.expansionStates,!!At),Lt=function(Ge,ut){l.fF.assertValue(Ge,"prototype"),l.fF.assertValue(ut,"quarterPrefix");var Vt=Ge.categorical;if(!Vt||_.isEmpty(Vt.categories))return Ge;var Dt=Vt.categories,Mt=(0,W.A8)(Dt[0],W.it);if(!Mt||_.isEmpty(Mt.values))return Ge;for(var Ot,Wt,Xt,Lt,tr=[],nr=0,yr=Dt.length;nr<yr;nr++)for(var _r=Dt[nr],Dr=_r.source.type,jt=_r.values,Me=void 0,Ct=void 0,At=0,st=_.size(jt);At<st;At++){var _t=Mt.values[At];if(null==jt[At]&&null!=_t){Ot||(Wt=(Ot=(0,o.qO)(Ge)).categorical=(0,o.qO)(Vt),Xt=Wt.categories=(0,o.qO)(Dt)),Me||(Ct=(Me=Xt[nr]=(0,o.qO)(_r)).values=(0,o.qO)(jt));var Zt=K(_t.min,Dr,ut);Ct[At]=Zt,tr[At]||(Lt||(Lt=At),tr[At]=[]),tr[At][nr]=(0,A.kQ)(Zt,Dr)}}var qt=function(Br,ii){for(var pi=Xt[Br],si=function(Pi,Gi){var Mi=tr[Pi];Mi&&(l.fF.assert(function(){return Mi.length===pi.identityFields.length},"category values must match category identities"),pi.identity[Pi]=(0,U.TZ)((0,I.R)(pi.identityFields,Mi)))},Si=Lt,di=_.size(pi.identity);Si<di;Si++)si(Si)};for(nr=0,yr=_.size(Xt);nr<yr;nr++)qt(nr);return Ot||Ge}(Lt,Vr.quarterPrefix),Lt=function(Ge){var ut=Ge.table;if(ut&&1===ut.columns.length&&ut.columns[0].isMeasure&&1===ut.rows.length&&1===ut.rows[0].length){var Dt=ut.rows[0];return Ge.single={column:ut.columns[0],value:Dt[0]},Dt.objects&&(Ge.single.objects=Dt.objects[0]),Ge}return Ge}(Lt),Ot||(Lt=(0,O.pP)(Lt,jt,ut.applicableRoleMappings,ut.projectionActiveItems,Ar(ut.drillCapabilities,At))),He({dataview:Lt,dataViewMappings:yr,dataRoles:ut.dataRoles}),Lt.metadata&&!(null===(tr=null==ut?void 0:ut.transforms)||void 0===tr)&&tr.isDataFilterApplied&&(Lt.metadata.isDataFilterApplied=!0),Ct&&Lt.metadata&&(Ct.drillableRoles&&(Lt.metadata.dataRoles||(Lt.metadata.dataRoles={}),Lt.metadata.dataRoles.drillableRoles=Ct.drillableRoles),void 0!==At&&(Lt.metadata.dataRoles||(Lt.metadata.dataRoles={}),Lt.metadata.dataRoles.isDrillDisabled=At)),Lt}function ot(Ge,ut){return l.fF.assertValue(Ge,"prototypeColumn"),l.fF.assertValue(ut,"select"),it(ut,(0,o.ED)(Ge))}function it(Ge,ut){return Ge.roles&&(ut.roles=Ge.roles),Ge.type&&(ut.type=Ge.type),ut.format=function(Ge,ut){return Ge.format||ut.format}(Ge,ut),Ge.displayName&&(ut.displayName=Ge.displayName),Ge.queryName&&(ut.queryName=Ge.queryName),Ge.expr&&(ut.expr=Ge.expr),Ge.kpi&&Ge.kpi.graphic&&(ut.kpi=Ge.kpi),Ge.sort&&(ut.sort=Ge.sort),null!=Ge.sortOrder&&(ut.sortOrder=Ge.sortOrder),Ge.discourageAggregationAcrossGroups&&(ut.discourageAggregationAcrossGroups=Ge.discourageAggregationAcrossGroups),Ge.parameter&&(ut.parameter=Ge.parameter),Ge.relatedObjects&&(ut.relatedObjects=Ge.relatedObjects),ut}function yt(Ge,ut,Vt){l.fF.assertValue(Ge,"columns"),l.fF.assertValue(ut,"selectIdx"),l.fF.assertValue(Vt,"select");for(var Dt=0,Mt=Ge;Dt<Mt.length;Dt++){var Ot=Mt[Dt];if(Ot.index===ut&&void 0===Ot.groupName)return Ot}var Wt=ot({displayName:Vt.displayName},Vt);return Ge.push(Wt),Wt}function Ft(Ge,ut,Vt,Dt,Mt){l.fF.assertValue(ut,"evalContext"),l.fF.assertValue(Vt,"selects"),l.fF.assertValue(Dt,"type"),l.fF.assertValue(Mt,"source");var Ot=Vt[Mt.index];if(Ot)return Ge.evaluateValue(ut,Ot.expr,Dt)}function hr(Ge,ut){var Vt=_.find(ut,function(Dt){return Dt.from===Ge});if(Vt)return Vt.to}function Pt(Ge,ut,Vt){return Ge||(Ge=(0,o.ED)(ut)),Vt&&Vt(Ge),Ge}function dt(Ge,ut,Vt,Dt,Mt,Ot,Wt){var Xt,tr=(0,J.Me)(Ge);if(_.isEmpty(tr.metadataOnce))return{dataViewObjects:void 0};var Lt,nr,yr=new Fe.Q(Dt,Vt);nr=Ot&&Wt?(0,gr._x)(Ot,Wt):(0,mr.X)();for(var _r=Mt?{warnings:[]}:void 0,Dr=0,jt=tr.metadataOnce;Dr<jt.length;Dr++){var Me=jt[Dr],Ct=Me.selector&&Me.selector.id,At=null===(Xt=Me.selector)||void 0===Xt?void 0:Xt.order;_r&&(_r.selector=Me.selector);var st=(0,J.PJ)(yr,nr,ut,Me.objects,_r);st&&(Lt||(Lt={}),(0,Z.PM)(Lt,st,Ct,At))}return _r&&!_.isEmpty(_r.warnings)?{dataViewObjects:Lt,warnings:_r.warnings}:{dataViewObjects:Lt}}function Ae(Ge,ut,Vt,Dt,Mt){if(!Ge.isSubtotal&&Ge.level!==Mt-1){var Ot=!1;if(void 0!==Ge.level){if(Ge=(0,o.qO)(Ge),Dt){var Wt=Number(!(!Vt||!Vt.isToggled)),Xt=Dt[Ge.level],tr=Number(!(!Xt||!Xt.isCollapsed));Ge.isCollapsed=!!(tr^Wt)}else Ge.isCollapsed=_.isEmpty(Ge.children)||1===Ge.children.length&&!!Ge.children[0].isSubtotal;Ot=!0}if(!_.isEmpty(Ge.children))for(var Lt=function(_r){var Dr=Ge.children[_r],jt=Dr.identity,Me=jt&&(0,S.KX)(jt.expr),Ct=Me&&_.find(Vt&&Vt.children,function(st){return(0,e.NF)(st.identityValues,Me,xr.fS)}),At=Ae(Dr,ut,Ct,Dt,Mt);At&&((Ge=(0,o.qO)(Ge)).children=(0,o.qO)(Ge.children),Ge.children[_r]=At,Ot=!0)},nr=0;nr<Ge.children.length;nr++)Lt(nr);return Ot?Ge:void 0}l.fF.assert(function(){return _.isEmpty(Ge.children)},"Leaf node with children")}function Et(Ge,ut,Vt,Dt){if(Ge){var Ot,Wt,Mt=Ge.identityValues;if(_.isEmpty(Mt)||(Ot=_.map(Mt,Dt)),!_.isEmpty(Ge.children)){var Xt=Ge.children;Wt=new Array(Xt.length);for(var tr=0,Lt=0,nr=Xt;Lt<nr.length;Lt++){var _r=Et(nr[Lt],ut,void 0===Vt?0:Vt+1,Dt);Wt[tr++]=_r}}return{isExpanded:void 0===Vt?void 0:!!ut[Vt].isCollapsed==!!Ge.isToggled,values:Ot,children:Wt}}}function $t(Ge,ut){if(Ge&&ut&&ut.bind)return Ge[ut.bind.to]}function ur(Ge,ut){if(Ge&&ut&&ut.for)return Ge[ut.for.in]}function or(Ge,ut){if(Ge&&ut&&ut.group)return Ge[ut.group.by]}function Ar(Ge,ut){var Vt;return ut?[]:null!==(Vt=null==Ge?void 0:Ge.roles)&&void 0!==Vt?Vt:[]}},579486:function(Xe,H,t){t.d(H,{Yv:function(){return me},ni:function(){return re}});var e=t(498342),l=t(781322),o=t(768783),d=t(812454),v=t(512322),S=t(766442),h=t(887909),c=t(38348),r=t(470081),s=t(778575),u=t(921449),i=t(855661),a=t(194994),m=function(){function oe(ye,Ce){if(this.dataView=ye,e.fF.assertValue(ye,"dataView"),ye){this.columnLeavesPath=(0,i.sx)(ye.columns.root),this.hasColumnGrouping=(0,i.pr)(this.dataView.columns)>0,this.valueSourcesQueryNames=_.map(ye.valueSources,function(ce){return ce.queryName}),this.scopedValueSourcesByLevel={},this.scopedValuesQueryNamesByLevel={};var Be=ye.rows.levels;if(e.fF.assertAnyValue(Be,"A Matrix without Row groupings will not have a Row level"),!_.isEmpty(Be))for(var be=0;be<Be.length;be++){var Te=(0,i.vC)(Be[be]);this.scopedValueSourcesByLevel[be]=Te,Te&&(this.scopedValuesQueryNamesByLevel[be]=_.map(Te,function(ce){return ce.queryName}))}}}return oe.prototype.setAsRowNode=function(ye){e.fF.assertNonEmpty(ye,"Invalid context: Empty rowPath"),this.rowPath=ye,this.nodeValue=void 0,this.columnPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},oe.prototype.setAsColumnNode=function(ye){e.fF.assertNonEmpty(ye,"Invalid context: Empty columnPath"),this.columnPath=ye,this.nodeValue=void 0,this.rowPath=void 0,this.nodeValueIndex=void 0,this.forHighlight=void 0,this.isScopedValue=!1},oe.prototype.setAsIntersection=function(ye,Ce,Be,be,Te){void 0===Te&&(Te=!1),e.fF.assertValue(ye,"Invalid context: Undefined intersection"),e.fF.assertNonEmpty(Ce,"Intersection context must have a rowPath"),e.fF.assertNonEmpty(Be,"Intersection context must have a columnPath"),e.fF.assert(function(){return null!=be&&be>=0},"Intersection context must have a valid nodeValueIndex"),e.fF.assertAnyValue(Te,"By default, FALSE"),this.nodeValue=ye,this.rowPath=Ce,this.columnPath=Be,this.nodeValueIndex=be,this.forHighlight=!!Te,this.isScopedValue=!1},oe.prototype.setAsScopedValue=function(ye,Ce,Be,be){void 0===be&&(be=!1),e.fF.assertValue(ye,"Invalid context: Undefined intersection"),e.fF.assertNonEmpty(Ce,"Intersection context must have a rowPath"),e.fF.assertAnyValue(be,"By default, FALSE"),this.nodeValue=ye,this.rowPath=Ce,this.columnPath=void 0,this.nodeValueIndex=Be,this.forHighlight=!!be,this.isScopedValue=!0,e.fF.assert(function(){return _.isEqual(_.keys(_.last(Ce).nodeValues),["0"])},"Scoped Values are expected to be grouped by Rows only")},oe.prototype.getScopedEvalExprValue=function(ye){var Ce=ye.decomposeGlobalAggregateOfScopedExpr();if(Ce){var Be=(0,a.T5)(Ce.source,this.getContextValueSources());return Be?(0,a._L)(Be,Ce.func):void 0}if(ye.hasInnerMostScope())return this.getExprValue(ye.expression);ye.hasGlobalScope()?e.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):e.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},oe.prototype.getExprValue=function(ye){return e.fF.assertValue(ye,"matrixEvalContext - Undefined expr"),this.nodeValue?this.evaluateMatrixMeasure(ye):this.rowPath?this.evaluateRowHeader(ye):this.columnPath?this.evaluateColumnHeader(ye):void e.fF.assertFail("getExprValue - context is empty")},oe.prototype.getExprColumn=function(ye){return(0,a.T5)(ye,this.getContextValueSources())},oe.prototype.findExprValueSourceIndex=function(ye){var Ce=this.getContextValueSources();if(e.fF.assertAnyValue(Ce,"For ScopedValues, DataView may contain cached Data without Value Sources"),!Ce)return-1;var Be=(0,a.T5)(ye,Ce);return Be?Ce.indexOf(Be):-1},oe.prototype.evaluateMatrixMeasure=function(ye){e.fF.assertValue(this.rowPath,"matrixEvalContext.evaluateIntersection - Undefined this.rowNode"),e.fF.assertValue(this.isScopedValue||this.columnPath,"matrixEvalContext.evaluateIntersection - Undefined this.columnNode");var Ce=this.nodeValue.valueSourceIndex||0,Be=this.findExprValueSourceIndex(ye);if(!(Be<0)){var be;if(Be===Ce)be=this.nodeValue;else{var Te=Be-Ce+this.nodeValueIndex,ce=_.last(this.rowPath),ve=this.isScopedValue?(0,i.Lr)(ce):ce.values;if(!(be=null==ve?void 0:ve[Te]))return}return this.forHighlight?be.highlight:be.value}},oe.prototype.evaluateRowHeader=function(ye){var Ce=this;e.fF.assert(function(){return!Ce.columnPath},"matrixEvalContext.evaluateRowHeader - context has columnNode"),e.fF.assert(function(){return!Ce.nodeValue},"matrixEvalContext.evaluateRowHeader - context has value");var Be=this.findExprValueSourceIndex(ye);if(!(Be<0)){var Te,be=_.last(this.rowPath);if(be&&(Te=this.shouldConsiderScopedValues(be.level)?(0,i.Lr)(be):be.values,e.fF.assertAnyValue(Te,"node.values or node.nodeValues may be undefined (e.g. for Synchronized Nodes) even if ValueSources exist"),Te))return Te[Be].value}},oe.prototype.evaluateColumnHeader=function(ye){var Ce=this;e.fF.assert(function(){return!Ce.rowPath},"matrixEvalContext.evaluateColumnHeader - context has rowNode"),e.fF.assert(function(){return!Ce.nodeValue},"matrixEvalContext.evaluateColumnHeader - context has value"),e.fF.assertFail("matrixEvalContext.evaluateColumnHeader - only constant exprs are supported")},oe.prototype.getRoleValues=function(ye){var Ce=this;e.fF.assert(function(){return!Ce.columnPath||!Ce.nodeValue},"getRoleValues returns values for row groupings only"),e.fF.assert(function(){return!Ce.isScopedValue},"getRoleValues is unimplemented for ScopedMeasures");var Be=_.last(this.rowPath);if(Be&&!Be.isSubtotal){for(var be=this.dataView.valueSources,Te=[],ce=0,ve=be.length;ce<ve;ce++)(0,u.nu)(be[ce],ye)&&Te.push(Be.values[ce].value);if(Te.length>0)return Te}},oe.prototype.getDataView=function(){return this.dataView},oe.prototype.getValueSourcesQueryNames=function(){return this.valueSourcesQueryNames},oe.prototype.getScopedValueSourcesQueryNames=function(ye){return this.scopedValuesQueryNamesByLevel[ye]},oe.prototype.getContextValueSourcesQueryNames=function(){return this.isScopedValue?(e.fF.assertValue(this.nodeValue,"Checking for a Scoped Measure is only supported within a ScopedMeasure value"),this.scopedValuesQueryNamesByLevel[_.last(this.rowPath).level]):this.valueSourcesQueryNames},oe.prototype.getContextValueSources=function(){if(this.nodeValue)return e.fF.assertNonEmpty(this.rowPath,"Hierarchy Root doesn't have a scope"),this.isScopedValue?this.scopedValueSourcesByLevel[this.getRowLevelIndex()]:this.dataView.valueSources;if(this.rowPath){var ye=this.getRowLevelIndex();return this.shouldConsiderScopedValues(ye)?this.scopedValueSourcesByLevel[ye]:this.dataView.valueSources}e.fF.assertFail(this.columnPath?"Only constant exprs are supported":"Context is empty")},oe.prototype.shouldConsiderScopedValues=function(ye){return this.hasColumnGrouping||ye<this.dataView.rows.levels.length-1},oe.prototype.getRowLevelIndex=function(){return e.fF.assertValue(this.rowPath,"this.rowPath"),_.last(this.rowPath).level},oe}(),f=t(568011);function p(oe){if(_.isEmpty(oe))return[];for(var ye=[],Ce=0,Be=oe;Ce<Be.length;Ce++){for(var Te=[],ce=0,ve=Be[Ce].sources;ce<ve.length;ce++){var Re=ve[ce];Re.identityExprs&&Te.push.apply(Te,Re.identityExprs||[])}_.isEmpty(Te)||ye.push(Te)}return ye}function C(oe,ye){for(var Ce=[],Be=oe.length,be=0;be<Be;be++)if(Ce.push(oe[be]),ye.matchesKeys(Ce,Be))return!0;return!1}function y(oe,ye,Ce,Be,be,Te,ce,ve,Re){if(e.fF.assertAnyValue(Be,"dataViewMatrixHierarchy"),e.fF.assertValue(be,"objectDescriptors"),e.fF.assertValue(ce,"selector"),e.fF.assertValue(Te,"objectDefns"),Be){var Ke=Be.root;if(Ke){var tt=D(oe,ye,Ce,[Ke],be,Te,ce,ve,Re);if(tt){var mt=(0,l.qO)(Be);return mt.root=tt,mt}}}}function D(oe,ye,Ce,Be,be,Te,ce,ve,Re){e.fF.assertValue(ye,"evalContext"),e.fF.assertValue(Be,"nodePath"),e.fF.assertValue(be,"objectDescriptors"),e.fF.assertValue(ce,"selectorInfo"),e.fF.assertValue(Te,"objectDefns");var Ke=_.last(Be);return(0,i.N9)(Ke)?"Rows"===oe&&(ce.canMatchScopedValue||ce.canMatchIntersection)?function(oe,ye,Ce,Be,be,Te,ce,ve){e.fF.assertNonEmpty(Ce,"evaluateDataRepetitionMatrixNodeValues - no row leaves"),e.fF.assert(function(){return Te.canMatchIntersection||Te.canMatchScopedValue},"Unexpected Selector");var Re=_.last(Ce),Ke=(0,l.qO)(Re),tt=Te.canMatchScopedValue,mt=Te.selector,He=tt?(0,i.Lr)(Re):Re.values,ke=tt?oe.getScopedValueSourcesQueryNames(Re.level)||[]:oe.getValueSourcesQueryNames(),ft=tt?ke.length:oe.columnLeavesPath.length;if(!_.isEmpty(He)){He=(0,l.qO)(He);for(var Le=!1,Q=function(Se){var nt=He[Se];if(e.fF.assertAnyValue(nt,"By-Design, ValueCollection can be sparse"),!nt)return"continue";var de,vt=tt?void 0:oe.columnLeavesPath[Se];if(!function(oe,ye,Ce,Be,be,Te){if(ye!==oe.metadata)return!1;for(var ce=[],ve=[],Re=0,Ke=Ce;Re<Ke.length;Re++)(tt=Ke[Re]).identity&&ce.push(tt.identity);if(!be){for(var mt=0,He=Be;mt<He.length;mt++){var tt;(tt=He[mt]).identity&&ce.push(tt.identity)}_.last(Be).isSubtotal&&ve.push.apply(ve,w(Be)||[])}return _.last(Ce).isSubtotal&&ve.push.apply(ve,w(Ce)||[]),_.isEmpty(ve)&&(ve=void 0),Te.matches(ce,ve)}(Te.selector,ke[nt.valueSourceIndex||0],Ce,vt,tt,Te.selectorComparer))return"continue";ve&&(de={warnings:ve,selector:mt,targetExpr:(0,d.AV)(mt,ye)});var te=function(Z){tt?oe.setAsScopedValue(nt,Ce,Se,Z):oe.setAsIntersection(nt,Ce,vt,Se,Z);var J=(0,s.PJ)(ce,oe,Be,be,de);if(J){var Fe=(0,l.qO)(nt);Z&&!Fe.highlightObjects?Fe.highlightObjects={}:!Z&&!Fe.objects&&(Fe.objects={}),(0,r.PM)(Z?Fe.highlightObjects:Fe.objects,J,mt.id,mt.order),Le=!0,nt=He[Se]=Fe}},Ve=void 0!==nt.highlight;switch(mt.highlightMatching){case void 0:case 0:te(!1);break;case 1:te(!1),Ve&&te(!0);break;case 2:te(!!Ve);break;default:e.fF.assertNever(mt.highlightMatching)}},Ue=0;Ue<ft;Ue++)Q(Ue);if(Le)return tt?Ke.nodeValues={0:He}:Ke.values=He,Ke}}(ye,Ce,Be,be,Te,ce,ve,Re):void 0:function(oe,ye,Ce,Be,be,Te,ce,ve,Re){var He,Ke=ce.selector,tt=ce.selectorComparer,mt=ye.getDataView();Be[0]===mt.rows.root?He=mt.rows:Be[0]===mt.columns.root?He=mt.columns:e.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");var ke=_.last(Be),ft=ke.children;e.fF.assertNonEmpty(ft,"evaluateDataRepetitionMatrixNodeChildren - empty children list");var Le=!1,Q=!1,Ue=ke.childIdentityFields,ae=[],Se=ft[0].level;e.fF.assert(function(){return 0===Se||Se<He.levels.length},"evaluateDataRepetitionMatrixNodeChildren: childLevel exceeding hierarchy levels");var nt=mt.valueSources.length>1&&He===mt.columns,vt=nt&&Se===He.levels.length-1;if(!_.isEmpty(He.levels)){var We=He.levels[Se],de=We.sources;if(vt){ae=ye.getValueSourcesQueryNames();var te=_.compact(_.map(Be,function(ir){return ir.identity})),Ve=void 0;ke.isSubtotal&&Be.length>1&&(Ve=Be[Be.length-2].childIdentityFields),Le=null!=ce.selector.metadata&&_.some(ae,function(ir){return ir===Ke.metadata})&&tt.matches(te,Ve),Q=!1}else if(!_.isEmpty(Ue)){ae=_.map(de,function(ir){return ir.queryName});var xe=_.map(Be,function(ir){return ir.childIdentityFields});Le=null==Ke.metadata&&tt.matchesKeys(xe,He.levels.length-(nt?1:0));var J=(0,i.vC)(We);e.fF.assert(function(){return!J||He===mt.rows},"Scoped measures on Column nodes are not supported"),Q=J&&null!=Ke.metadata&&null!=_.find(J,function(ir){return ir.queryName===Ke.metadata}),e.fF.assert(function(){return!Le||!Q},"A Selector can't match nodes and Scoped measures")}}for(var Fe=!1,ze=x(ke),rt=0,Oe=ft.length;rt<Oe;rt++){var Pe=!1,X=ft[rt],we=x(X),Ze=Be.concat(we),et=!1;if(Le||Q){He===mt.rows?Le&&ye.setAsRowNode(Ze):He===mt.columns?ye.setAsColumnNode(Ze):e.fF.assertFail("dataViewTransform.evaluateDataRepetitionMatrixNodeChildren: incorrect nodePath");for(var at=[],St=0,Ie=Ze;St<Ie.length;St++){var qe=Ie[St];qe.identity&&at.push(qe.identity)}var bt=void 0;_.isEmpty(ae)||(bt=ae[X.levelSourceIndex||0]);var It=void 0;if(X.isSubtotal&&(vt?Be.length>1&&(It=Be[Be.length-2].childIdentityFields):It=Ue),(null==Ke.metadata||Ke.metadata===bt&&!ce.isWildcard)&&tt.matches(at,It)){et=!0;var zt=void 0;Re&&(zt={warnings:Re,selector:Ke,targetExpr:(0,d.AV)(Ke,Ce)});var Kt=(0,s.PJ)(ve,ye,be,Te,zt);Kt&&(Pe=!0,we.objects||(we.objects={}),(0,r.PM)(we.objects,Kt,Ke.id,Ke.order))}}if(et&&!ce.isWildcard||D(oe,ye,Ce,Ze,be,Te,ce,ve,Re)&&(Pe=!0),Pe&&(Fe=!0,ze.children[rt]=we,!ce.containsWildcard))break}if(Fe)return ze}(oe,ye,Ce,Be,be,Te,ce,ve,Re)}function w(oe){var ye=_.findLast(oe,function(Ce){return null!=Ce.childIdentityFields});return ye?ye.childIdentityFields:[]}function x(oe){if(Object.getPrototypeOf(oe)!==Object.prototype)return oe;var ye=(0,l.qO)(oe);return oe.children&&(ye.children=(0,l.qO)(oe.children)),ye}function L(oe,ye){if(!oe||!ye)return[];for(var Ce=[],Be=0,be=ye.levels;Be<be.length;Be++){for(var ce=[],ve=0,Re=be[Be].sources;ve<Re.length;ve++){var Ke=Re[ve];Ke.identityExprs&&(0,c.s)([Ke],oe)&&ce.push.apply(ce,Ke.identityExprs||[])}_.isEmpty(ce)||Ce.push(ce)}return Ce}var M=t(204553),T=t(509607),O=t(265699),N=t(865001),A=t(558943),B=t(973188);function U(oe,ye){return new W(oe,ye)}var W=function(){function oe(ye,Ce){this.dataView=ye,this.selectTransforms=Ce,e.fF.assertValue(ye,"dataView"),e.fF.assertValue(Ce,"selectTransforms")}return oe.prototype.getExprColumn=function(ye){return(0,a.T5)(ye,this.dataView.columns)},oe.prototype.getScopedEvalExprValue=function(ye){var Ce=ye.decomposeGlobalAggregateOfScopedExpr();if(Ce){var Be=(0,a.T5)(Ce.source,this.dataView.columns);return Be?(0,a._L)(Be,Ce.func):void 0}if(ye.hasInnerMostScope())return this.getExprValue(ye.expression);ye.hasGlobalScope()?e.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):e.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},oe.prototype.getExprValue=function(ye){e.fF.assertValue(ye,"expr");var Ce=this.row;if(null!=Ce)return(0,A.vR)(ye,this.selectTransforms,this.dataView.columns,Ce)},oe.prototype.getRoleValues=function(ye){},oe.prototype.setCurrentRow=function(ye){e.fF.assertValue(ye,"row"),this.row=ye},oe}();function K(oe,ye,Ce,Be,be,Te,ce,ve,Re,Ke,tt,mt,He){if(e.fF.assertValue(oe,"evalContext"),e.fF.assertValue(Ce,"columns"),e.fF.assertValue(Be,"rows"),e.fF.assertAnyValue(be,"identities"),e.fF.assertAnyValue(Te,"identityFields"),e.fF.assertValue(ce,"objectDescriptors"),e.fF.assertValue(ve,"selector"),e.fF.assertValue(Ke,"objectDefns"),ve.metadata&&!_.isEmpty(ve.data)){var ke=_.findIndex(Ce,function(te){return te.queryName===ve.metadata});if(!(ke<0)&&tt.matchesKeys([Te],1)){var ft;if(_.every(Ce,function(te){return te.isMeasure})){e.fF.assert(function(){return _.isEmpty(be)},"table identity mismatch with identityFields"),e.fF.assert(function(){return _.isEmpty(Te)},"table identity mismatch with identityFields"),e.fF.assert(function(){return 1===Be.length},"table without identity has incorrect row count");var Le=he(oe,ye,Ce,Be[0],Te,ce,ve,Ke,tt,mt,He);Le&&((ft=(0,l.qO)(Be))[0]=Le)}else{if(_.some(ve.data,function(te){return(0,d.qm)(te)&&2===te.matchingOption}))return;e.fF.assert(function(){return Be.length===be.length},"row length mismatch");for(var Q=Ce.length,Ue=0,ae=be.length;Ue<ae;Ue++)if(Re||tt.matches([be[Ue]])){oe.setCurrentRow(Be[Ue]);var nt=void 0;He&&(nt={warnings:He,selector:ve,targetExpr:(0,d.AV)(ve,ye)});var vt=(0,s.PJ)(mt,oe,ce,Ke,nt);if(vt){ft||(ft=(0,l.qO)(Be));var We=ft[Ue]=(0,l.qO)(ft[Ue]),de=We.objects;de||(We.objects=de=new Array(Q)),de[ke]||(de[ke]={}),(0,r.PM)(de[ke],vt,ve.id,ve.order)}if(!Re)break}}return ft}}}function ee(oe,ye){return(0,d._Q)(ye)&&(ye=(0,c.w)(ye,function(Ce){return function(oe,ye){if(!oe)return[];for(var Ce=[],Be=0,be=ye.columns;Be<be.length;Be++){var Te=be[Be];Te.identityExprs&&(0,c.s)([Te],oe)&&Ce.push((0,B.__spreadArray)([],Te.identityExprs||[],!0))}return Ce}(Ce,oe)})),ye}function he(oe,ye,Ce,Be,be,Te,ce,ve,Re,Ke,tt){e.fF.assertValue(oe,"evalContext"),e.fF.assertValue(Ce,"columns"),e.fF.assertValue(Be,"row"),e.fF.assertValue(Te,"objectDescriptors"),e.fF.assertValue(ce,"selector"),e.fF.assertValue(ve,"objectDefns");var mt=_.isEmpty(be)?void 0:be;if(ce.metadata&&Re.matches([],mt)){var He=_.findIndex(Ce,function(ae){return ae.queryName===ce.metadata});if(!(He<0)){var ft,Le,ke=Ce.length;oe.setCurrentRow(Be),tt&&(Le={warnings:tt,selector:ce,targetExpr:(0,d.AV)(ce,ye)});var Q=(0,s.PJ)(Ke,oe,Te,ve,Le);if(Q){var Ue=(ft=(0,l.qO)(Be)).objects;Ue||(ft.objects=Ue=new Array(ke)),Ue[He]||(Ue[He]={}),(0,r.PM)(Ue[He],Q)}return ft}}}var q=t(854883),G=function(oe){function ye(Ce,Be){var be=this;return e.fF.assertValue(Ce,"inputRole"),e.fF.assertValue(Be,"allocator"),(be=oe.call(this)||this).inputRole=Ce,be.allocator=Be,be}return(0,B.__extends)(ye,oe),ye.prototype.evaluate=function(Ce){e.fF.assertValue(Ce,"evalContext");var Be=Ce.getRoleValues(this.inputRole);e.fF.assert(function(){return _.size(Be)<=1},"Color Rule Evaluation can run with only one value");var be=_.head(Be);if(void 0!==be)return this.allocator.color(be)},ye}(t(156330).t);function me(oe,ye,Ce){void 0===oe&&(oe=[]);var Be=oe;return(0,h.PO)(Be),ye&&(Be.identityFields=ye),Ce&&(Be.source=Ce),Be}function re(oe,ye,Ce,Be,be,Te,ce,ve,Re){if(e.fF.assertValue(oe,"dataView"),e.fF.assertValue(ye,"targetDataViewKinds"),e.fF.assertAnyValue(Ce,"objectDescriptors"),e.fF.assertAnyValue(Be,"objectDefinitions"),e.fF.assertAnyValue(be,"selectTransforms"),Ce){var Ke=function(oe,ye,Ce,Be){var be;e.fF.assertValue(oe,"dataView"),e.fF.assertValue(ye,"objectDescriptors"),e.fF.assertAnyValue(Ce,"prototype");var Te=(0,T.$v)(ye);if(Te&&oe.metadata&&!_.isEmpty(oe.metadata.columns)){for(var ve,ce=!1,Re=0,Ke=oe.metadata.columns;Re<Ke.length;Re++){var tt=Ke[Re],mt=tt.queryName;if(tt.formatSource&&(null===(be=null==tt?void 0:tt.aggregates)||void 0===be||!be.single)){ce||(ve=Ce?(0,l.qO)(Ce):{},ce=!0);var He={metadata:tt.queryName,data:[q.Ue()],highlightMatching:1},ke=(0,v.xA)(mt,0);if((0,M.sO)(ve,Te,He,ke),null!=Be&&Be.cardReferenceLabels&&tt.relatedObjects)for(var ft=0,Le=Object.keys(tt.relatedObjects);ft<Le.length;ft++)for(var Q=Le[ft],Ue=tt.relatedObjects[Q],ae=0,Se=Object.keys(Ue);ae<Se.length;ae++){var nt=Se[ae],vt=(0,T.VM)(ye,{objectName:Q,propertyName:nt});if(null!=vt&&vt.formatStringProperty)for(var We=0,de=Ue[nt];We<de.length;We++)(0,M.sO)(ve,vt.formatStringProperty,de[We],ke)}}}return ve}}(oe,Ce,Be,ce);Ke&&(Be=Ke);var tt=(0,s.Me)(Be);(0,s.UQ)(tt,Ce,oe.metadata.columns,be);var mt=tt.metadataOnce,He=tt.data;mt&&function(oe,ye,Ce,Be,be,Te,ce,ve,Re){var Ke;e.fF.assertValue(oe,"dataView"),e.fF.assertAnyValue(ye,"selectTransforms"),e.fF.assertValue(Ce,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector"),e.fF.assertValue(be,"dataObjects"),e.fF.assertValue(Te,"targetDataViewKinds");for(var tt=new O.Q(ve,ce),mt=0,He=Be;mt<He.length;mt++){var ke=He[mt],ft=ke.selector&&ke.selector.id,Le=null===(Ke=ke.selector)||void 0===Ke?void 0:Ke.order,Q=ke.objects;e.fF.assertValue(!_.isEmpty(Q),"objectDefns");var Ue=(0,A._x)(oe,ye),ae=void 0;Re&&(ae={warnings:Re,selector:ke.selector,targetExpr:(0,d.AV)(ke.selector,ye)});var Se=(0,s.PJ)(tt,Ue,Ce,Q,ae);if(Se){var nt=oe.metadata.objects;for(var vt in nt||(nt=oe.metadata.objects={}),(0,r.PM)(nt,Se,ft,Le),Se){var We=Se[vt],de=Ce[vt];for(var te in We){var Ve=de.properties[te],xe=Ve.rule;if(xe){var Z=Ye(oe,xe,vt,We[te],Ve.type);_.isEmpty(Z)||be.push.apply(be,Z||[])}}}}}}(oe,be,Ce,mt,He,ye,Te,ce,ve);var ke=tt.metadata;_.isEmpty(ke)||function(oe,ye,Ce,Be,be,Te,ce){e.fF.assertValue(oe,"dataView"),e.fF.assertAnyValue(ye,"selectTransforms"),e.fF.assertValue(Ce,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");for(var ve=new O.Q(Te,be),Re=0,Ke=Be;Re<Ke.length;Re++){var tt=Ke[Re],mt=tt.selector,He=tt.objects;e.fF.assertValue(mt,"selector"),e.fF.assertValue(He,"objectDefns");for(var ke=oe.metadata.columns,ft=mt.metadata,Le=(0,A._x)(oe,ye),Q=0,Ue=ke.length;Q<Ue;Q++){var ae=ke[Q];if(ae.queryName===ft){var Se=void 0;ce&&(Se={warnings:ce,selector:mt,targetExpr:(0,d.AV)(mt,ye)});var nt=(0,s.PJ)(ve,Le,Ce,He,Se);nt&&(ae.objects||(ae.objects={}),(0,r.PM)(ae.objects,nt,mt.id,mt.order))}}}}(oe,be,Ce,ke,Te,ce,ve),_.isEmpty(He)||function(oe,ye,Ce,Be,be,Te,ce,ve,Re){e.fF.assertValue(oe,"dataView"),e.fF.assertValue(ye,"targetDataViewKinds"),e.fF.assertAnyValue(Ce,"selectTransforms"),e.fF.assertValue(Be,"objectDescriptors"),e.fF.assertValue(be,"dataViewObjectDefnsForSelector"),e.fF.assertValue(Te,"DataViewTransform.evaluateDataRepetition - visualStyle");var Ke=new O.Q(ve,Te);oe.categorical&&(0,o.yE)(ye,1)&&(0,h.KH)(oe.categorical,Ce,Be,be,ce,Ke,Re&&{warnings:Re},ve);var mt=oe.matrix;if(mt&&(0,o.yE)(ye,2)){var He=function(oe,ye,Ce,Be,be,Te,ce,ve){e.fF.assertValue(oe,"dataViewMatrix"),e.fF.assertValue(Ce,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");var Re=oe.valueSources,Ke=Re.length,tt=function(oe,ye){return new m(oe,ye)}(oe,Te),mt=oe.rows.levels;e.fF.assertAnyValue(mt,"A Matrix with no Row groupings has empty Row levels");var He=p(mt),ke=p(oe.columns.levels),ft=[];ft.push.apply(ft,He||[]),ft.push.apply(ft,ke||[]);for(var Le=!1,Q=(0,l.qO)(oe),Ue=function(We){e.fF.assertValue(We.selector,"selector"),e.fF.assertAnyValue(We.rules,"rules");var de=We.objects;e.fF.assertValue(de,"objectDefns");var te=function(oe,ye){return(0,d._Q)(ye)&&(ye=(0,c.w)(ye,function(Ce){return function(oe,ye){if(ye){var Ce=[];return Ce.push.apply(Ce,L(oe,ye.rows)||[]),Ce.push.apply(Ce,L(oe,ye.columns)||[]),Ce}}(Ce,oe)})),ye}(oe,We.selector),Ve=(0,f.U)(te,be),xe=(0,d.GT)(te),Z=(0,d.N6)(te),J=null==te.metadata&&C(He,Ve),Fe=function(oe,ye,Ce,Be){if(e.fF.assertAnyValue(oe,"A Matrix with no Row groupings has empty Row levels and can't hold ScopedValues"),_.isEmpty(oe)||(e.fF.assertValue(Ce,"selectorComparer"),e.fF.assertAnyValue(Be,"selectorMetadata"),e.fF.assert(function(){return oe.length===ye.length},"levels identity keys mismatch"),!Be))return!1;for(var be=0;be<oe.length;be++)if(Ce.matchesKeys(_.take(ye,be+1),be+1)){var Te=(0,i.vC)(oe[be]);if(!_.isEmpty(Te)&&_.find(Te,function(ce){return ce.queryName===Be}))return!0}return!1}(mt,He,Ve,te.metadata),ze=(Ke>1||Ke<=1&&null==te.metadata)&&C(ke,Ve),rt=null!=te.metadata&&Ke>0&&_.some(Re,function(we){return we.queryName===te.metadata})&&Ve.matchesKeys(ft,ft.length),Oe={selector:te,selectorComparer:Ve,containsWildcard:xe,isWildcard:Z,canMatchColumnNode:ze,canMatchRowNode:J,canMatchIntersection:rt,canMatchScopedValue:Fe},Pe=void 0,X=void 0;ze&&(X=y("Columns",tt,ye,Q.columns,Ce,de,Oe,ce,ve)),(rt||Fe||J)&&(Pe=y("Rows",tt,ye,Q.rows,Ce,de,Oe,ce,ve)),(Pe||X)&&(Le=!0,Pe&&(Q.rows=Pe),X&&(Q.columns=X))},ae=0,Se=Be;ae<Se.length;ae++)Ue(Se[ae]);if(Le)return Q}(mt,Ce,Be,be,ce,ve,Ke,Re);He&&(oe.matrix=He)}var ke=oe.table;if(ke&&(0,o.yE)(ye,8)){var ft=function(oe,ye,Ce,Be,be,Te,ce){e.fF.assertValue(oe,"dataViewTable"),e.fF.assertAnyValue(ye,"selectTransforms"),e.fF.assertValue(Ce,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");for(var ve=!1,Re=0,Ke=Be;Re<Ke.length;Re++){var tt=Ke[Re],mt=tt.selector,He=tt.objects;e.fF.assertValue(mt,"selector"),e.fF.assertValue(He,"objectDefns");var ke=(0,d.GT)(mt);mt=ee(oe,mt);var ft=(0,f.U)(mt,be),Le=U(oe,ye),Q=void 0;_.isEmpty(oe.rows)||(Q=K(Le,ye,oe.columns,oe.rows,oe.identity,oe.identityFields,Ce,mt,ke,He,ft,Te,ce));var Ue=void 0;oe.totals&&(Ue=he(Le,ye,oe.columns,oe.totals,oe.identityFields,Ce,mt,He,ft,Te,ce)),(Q||Ue)&&(ve=!0,oe=(0,l.qO)(oe),Q&&(oe.rows=Q),Ue&&(oe.totals=Ue))}if(ve)return oe}(ke,Ce,Be,be,ce,Ke,Re);ft&&(oe.table=ft)}var Le=oe.single;if(e.fF.assert(function(){return!Le||!!Le&&!!ke},"DataViewTable should be always present with DataViewSingle"),Le&&ke&&(0,o.yE)(ye,4)){var Q=function(oe,ye,Ce,Be,be,Te,ce){e.fF.assertValue(oe,"dataView"),e.fF.assertAnyValue(ye,"selectTransforms"),e.fF.assertValue(Ce,"objectDescriptors"),e.fF.assertValue(Be,"objectDefnsForSelector");for(var ve,Re=(0,A._x)(oe,ye),Ke=0,tt=Be;Ke<tt.length;Ke++){var mt=tt[Ke],He=mt.selector,ke=mt.objects,ft=(0,f.U)(He,be);if(e.fF.assertValue(He,"selector"),e.fF.assertValue(ke,"objectDefns"),He.metadata===oe.single.column.queryName&&ft.matches([])){var Le=void 0;ce&&(Le={warnings:ce,selector:He,targetExpr:(0,d.AV)(He,ye)});var Q=(0,s.PJ)(Te,Re,Ce,ke,Le);Q&&(ve||(ve=(0,l.qO)(oe.single)),ve.objects||(ve.objects={}),(0,r.PM)(ve.objects,Q,He.id,He.order))}}return ve}(oe,Ce,Be,be,ce,Ke,Re);Q&&(oe.single=Q)}oe.metadata.objectsRules=Ke.getObjectsRules()}(oe,ye,be,Ce,He,Te,Re,ce,ve)}}function Ye(oe,ye,Ce,Be,be){e.fF.assertValue(oe,"dataView"),e.fF.assertValue(ye,"ruleDesc"),e.fF.assertValue(Be,"propertyValue"),e.fF.assertValue(be,"ruleType");var Te=ye.output;if(Te){var ce=function(oe){return e.fF.assertValue(oe,"selectorRoles"),[{data:[(0,N.Yp)(oe)]}]}(Te.selector);if(be.fillRule)return function(oe,ye,Ce,Be,be){e.fF.assertValue(oe,"dataView"),e.fF.assertValue(ye,"ruleDesc"),e.fF.assertValue(Ce,"selectorsToCreate"),e.fF.assertValue(be,"propertyValue");var Te=function(oe,ye,Ce){e.fF.assertValue(oe,"dataView"),e.fF.assertValue(ye,"identifier"),e.fF.assertValue(1,"identifierKind");var Be=oe.metadata.columns;return _.find(Be,function(be){return be.roles&&be.roles[ye]})}(oe,ye.inputRole);if(Te){var ce=(0,S.V)().fromFillRule(be,Te);if(ce){var ve=new G(ye.inputRole,ce),Re={};Re[ye.output.property]={solid:{color:ve}};for(var Ke=[],tt=0,mt=Ce.length;tt<mt;tt++)Ke.push({selector:Ce[tt],rules:[ve],objects:[{name:Be,properties:Re}]});return Ke}}}(oe,ye,ce,Ce,Be)}}},854883:function(Xe,H,t){t.d(H,{Ue:function(){return S},fS:function(){return d},wB:function(){return v}});var e=t(498342),l=t(871746),o=t(458441);function d(c,r){return!c&&!r||!(!c||!r)&&(e.fF.assertValue(c,"x"),e.fF.assertValue(r,"y"),c===r||c.matchingOption===r.matchingOption)}function v(c,r){switch(e.fF.assertValue(c,"DataViewWildcard.matches - wildcard"),c.matchingOption){case 0:return!0;case 1:return!r;case 2:return r;default:e.fF.assertFail("DataViewWildcard.matches - Unsupported matchingOption")}}function S(c){return null==c&&(c=0),new h(c)}var h=function(){function c(r){var s=this;this.kind=4,e.fF.assertValue(r,"matchingOption"),this._matchingOption=r,this._key=new l.o(function(){return JSON.stringify(s._matchingOption)})}return Object.defineProperty(c.prototype,"matchingOption",{get:function(){return this._matchingOption},enumerable:!1,configurable:!0}),Object.defineProperty(c.prototype,"key",{get:function(){return this._key.getValue()},enumerable:!1,configurable:!0}),c}();(0,o.y)(h.prototype)},37541:function(Xe,H,t){function e(){var l=function(d){};return{getExprValue:l,getExprColumn:l,getScopedEvalExprValue:l,getRoleValues:l}}t.d(H,{X:function(){return e}})},156330:function(Xe,H,t){t.d(H,{t:function(){return l}});var e=t(498342),l=function(){function o(){}return o.prototype.evaluate=function(d){e.fF.assertFail("Abstract method RuleEvaluation.evaluate not implemented.")},o}()},558943:function(Xe,H,t){t.d(H,{_x:function(){return v},vR:function(){return h}});var e=t(979868),l=t(498342),o=t(620743),d=t(194994);function v(u,i){return new S(u,i)}var S=function(){function u(i,a){this.dataView=i,this.selectTransforms=a,l.fF.assertValue(i,"dataView"),l.fF.assertAnyValue(a,"selectTransforms")}return u.prototype.getExprColumn=function(i){var a=(0,o.ij)(i,this.selectTransforms);if(!(a<0))return _.find(this.dataView.metadata.columns,function(n){return n.index===a})},u.prototype.getScopedEvalExprValue=function(i){var a=i.decomposeGlobalAggregateOfScopedExpr();if(a){var n=(0,d.T5)(a.source,this.dataView.metadata.columns);return n?(0,d._L)(n,a.func):void 0}if(i.hasGlobalScope())return this.getExprValue(i.expression);i.hasInnerMostScope()?l.fF.assertFail("Attempt to evaluate a scoped expression within the Global scope"):l.fF.assertFail("Evaluation of Partial-Scope expressions is not supported")},u.prototype.getExprValue=function(i){var a=this.dataView,n=this.selectTransforms;if(a&&n){if((0,e.iV)(i)||(0,e.T5)(i)||(0,e.kb)(i)||(0,e.cY)(i)){var m=function(u,i,a){l.fF.assertValue(u,"expr"),l.fF.assertValue(i,"selectTransforms"),l.fF.assertValue(a,"columns");var n,m=-1;do{if((m=(0,o.ij)(u,i,m+1))<0)break;if(n=_.find(a,function(V){return V.index===m&&V.aggregates&&void 0!==V.aggregates.single}))return n.aggregates.single}while(m<i.length);if((0,e.iV)(u)||(0,e.T5)(u)){var f=u.arg;if((0,e.g5)(f)&&f.hasInnerMostScope()?m=(0,o.ij)(f.expression,i):((0,e.NH)(f)||(0,e.kb)(f)||(0,e.iV)(f)||(0,e.jk)(f))&&(m=(0,o.ij)(f,i)),!(m<0)&&(n=_.find(a,function(V){return V.index===m&&V.aggregates})))return function(u,i){var a,n;if(l.fF.assertValue(u,"aggregates"),l.fF.assertValue(i,"expr"),(0,e.T5)(i)){var m=_.find(u.percentiles,function(f){return f.k===i.k&&i.exclusive===!!f.exclusive});if(m)return m.value}else if((0,e.iV)(i))switch(l.fF.assertValue(i.func,"func"),i.func){case 3:return null!==(a=u.min)&&void 0!==a?a:u.minLocal;case 4:return null!==(n=u.max)&&void 0!==n?n:u.maxLocal;case 6:return u.median;case 1:return u.average}l.fF.assertFail("Only Percentile, Min, Max, Median, Average are supported as Aggregate of Aggregates")}(n.aggregates,u)}}(i,n,a.metadata.columns);if(void 0!==m)return m}if(a.table)return _.isEmpty(a.table.columns)||_.isEmpty(a.table.rows)||!_.isEmpty(a.table.identityFields)?void 0:(l.fF.assert(function(){return 1===a.table.rows.length},"A data view with no identity fields should have a single row"),h(i,n,a.table.columns,a.table.rows[0]));if(a.categorical&&!_.isEmpty(a.metadata.columns)&&!_.isEmpty(a.categorical.values))return function(u,i,a){l.fF.assertValue(u,"expr"),l.fF.assertValue(i,"selectTransforms"),l.fF.assertValue(a,"categorical");var n=a.values;if(l.fF.assertValue(n,"categorical.values"),1===n.grouped().length&&!a.categories){var m=(0,o.ij)(u,i);if(!(m<0)){var f=_.findIndex(n,function(p){return p.source.index===m});if(-1!==f){var V=n[f].values;if(V&&1===V.length)return V[0]}}}}(i,n,a.categorical);a.matrix||a.tree||l.fF.assert(function(){return _.isEqual(Object.getOwnPropertyNames(a),["metadata"])},"staticEvalContext.getExprValue received a dataView that is not currently supported (only table and categorical are implemented)")}},u.prototype.getRoleValues=function(i){},u}();function h(u,i,a,n){if(l.fF.assertValue(u,"expr"),l.fF.assertValue(i,"selectTransforms"),l.fF.assertNonEmpty(a,"tableColumns"),l.fF.assertValue(n,"tableRow"),1===n.length&&null===n[0])return null;var m=(0,o.ij)(u,i);if(!(m<0)){var f=_.findIndex(a,function(C){return C.index===m});if(!(f<0)){if((0,e.NH)(u)&&0===u.attributeKind){var V=a[f];if((f=a.indexOf(V.formatSource&&V.formatSource.formatString))<0)return}return l.fF.assert(function(){return f in n},"Cannot get expr value from table row. Row values don't contain an element for the matching data column"),n[f]}}}},423610:function(Xe,H,t){t.d(H,{$T:function(){return n},Hc:function(){return a},QB:function(){return m},Uo:function(){return y},oy:function(){return i}});var e=t(498342),l=t(236090),o=t(447751),d=t(382088),v=t(726501),S=t(411429),h=t(491697),c=t(470081),r=t(85179),s=t(204553);function i(E){if(e.fF.assertAnyValue(E,"dataViewMappings"),E&&1===E.length&&E[0])return E[0].scriptResult}function a(E){e.fF.assertAnyValue(E,"dataViewMappings");var w=i(E);if(w)return function(E,w){if(E&&E.script&&E.script.source&&E.script.provider&&w)return C((0,c.NA)(w,E.script.source),(0,c.NA)(w,E.script.provider),E.script.scriptOutputType)}(w,E[0].metadata&&E[0].metadata.objects)}function n(E,w){if(e.fF.assertAnyValue(E,"dataViewMappings"),e.fF.assertAnyValue(w,"objects"),w){var x=i(E);if(x&&x.script&&x.script.source&&x.script.provider){var R=(0,s.NA)(w,x.script.source,null),g=(0,s.NA)(w,x.script.provider,null);return C(R?R.value:null,g?g.value:null,x.script.scriptOutputType)}}}function m(E){return e.fF.assertAnyValue(E,"dataViewMappings"),function(E){return p(E&&E.script)}(i(E))}function p(E){if(e.fF.assertAnyValue(E,"scriptMapping"),E)return C(E.scriptSourceDefault,E.scriptProviderDefault,E.scriptOutputType)}function C(E,w,x){if(!(0,o.g)(E)&&!(0,o.g)(w))return{source:E,provider:w,outputType:x||"png"}}function y(E,w,x,R,g){e.fF.assertAnyValue(E,"projections"),e.fF.assertAnyValue(w,"selects"),e.fF.assertAnyValue(x,"schema"),e.fF.assertAnyValue(R,"scriptDefinition");var L=!!p(R),M={VariableName:"dataset",Columns:[],Parameters:[]};if(E&&w&&!_.isEmpty(w)){var T=[],O=[];for(var N in E)for(var A=0,I=E[N].all();A<I.length;A++){var U=w.withName(I[A].queryRef);if(U){var W={QueryName:U.name},j=(0,v.Vn)((0,S.Q)(U.expr),new F(x));L&&(W.Role=N,j=N+"."+j),O.push(W),T.push(j)}}T=(0,d.hM)(T);for(var K=0;K<T.length;K++)(W=O[K]).Name=T[K];M.Columns=O}return M.Parameters=function(E,w){var x=[];if(w)for(var R in w){var g=(0,c.RK)(w,R);if(g)for(var L in g){var M=P(E,g,R,L);M&&x.push({ObjectName:R,PropertyName:L,Value:M})}}return x}(R,g),M}function P(E,w,x,R){if(!(E&&E.source&&E.source.objectName===x&&E.source.propertyName===R||E&&E.provider&&E.provider.objectName===x&&E.provider.propertyName===R)){var g=(0,r.y)(w,R);if(g)return(0,h.fL)(g);var L=(0,r.N)(w,R);if(null!=L)switch(typeof L){case"string":return(0,h.fL)(L);case"number":var M=L;return(0,l.U)(M)?(0,h._L)(M):(0,h.tx)(M);case"boolean":return(0,h.O7)(L)}}}var F=function(){function E(w){this.federatedSchema=w}return E.prototype.visitNativeVisualCalc=function(w){},E.prototype.visitColumn=function(w){return E.getNameForProperty(w,this.federatedSchema)},E.prototype.visitColumnAggr=function(w){return E.getNameForProperty(w,this.federatedSchema)},E.prototype.visitGroupingColumn=function(w){return E.getNameForProperty(w,this.federatedSchema)},E.prototype.visitGroupingColumnAggr=function(w){return E.getNameForProperty(w,this.federatedSchema)},E.prototype.visitColumnHierarchyVariation=function(w){return E.getVariationHierarchyName(w,this.federatedSchema)},E.prototype.visitColumnHierarchyLevelVariation=function(w){return E.getVariationLevelName(w,this.federatedSchema)},E.prototype.visitColumnSubquery=function(w){},E.prototype.visitColumnAggrSubquery=function(w){},E.prototype.visitColumnTransformRef=function(w){},E.prototype.visitEntity=function(w){return w.entity},E.prototype.visitEntityAggr=function(w){return w.entity},E.prototype.visitHierarchy=function(w){return E.getNameForHierarchy(w,this.federatedSchema)},E.prototype.visitHierarchyLevel=function(w){return E.getNameForHierarchyLevel(w,this.federatedSchema)},E.prototype.visitHierarchyLevelAggr=function(w){return E.getNameForProperty(w,this.federatedSchema)},E.prototype.visitMeasure=function(w){return E.getNameForProperty(w,this.federatedSchema)},E.prototype.visitSelectRef=function(w){return(0,v.Vn)(w,this)},E.prototype.visitPercentile=function(w){return(0,v.Vn)(w.arg,this)},E.prototype.visitPercentOfGrandTotal=function(w){return(0,v.Vn)(w.baseExpr,this)},E.prototype.visitPercentOfRoleTotal=function(w){return(0,v.Vn)(w.baseExpr,this)},E.prototype.visitTransformOutputRoleRef=function(w){return(0,v.Vn)(w,this)},E.prototype.visitFilteredEval=function(w){return(0,v.Vn)(w,this)},E.prototype.visitArithmetic=function(w){},E.prototype.visitConstant=function(w){e.fF.assertFail("ScriptResultUtil - Not expecting to be called")},E.prototype.visitSparklineData=function(w){},E.getNameForHierarchy=function(w,x){e.fF.assertValue(w,"pattern");var g=x.schema(w.schema).findHierarchy(w.entity,w.name);if(g)return g.name},E.getNameForHierarchyLevel=function(w,x){e.fF.assertValue(w,"pattern");var g=x.schema(w.schema).findHierarchyLevel(w.entity,w.name,w.level);if(g)return g.column.name},E.getNameForProperty=function(w,x){e.fF.assertValue(w,"pattern");var g=x.schema(w.schema).findProperty(w.entity,w.name);if(g)return g.name},E.getVariationHierarchyName=function(w,x){e.fF.assertValue(w,"pattern"),e.fF.assertValue(x,"federatedSchema");var R=w.source,g=x.schema(R.schema).findProperty(R.entity,R.name);if(g)for(var M=0,T=g.column.variations;M<T.length;M++){var O=T[M];if(O.name===w.variationName&&w.hierarchy.name===O.defaultHierarchy.name)return w.hierarchy.name}},E.getVariationLevelName=function(w,x){e.fF.assertValue(w,"pattern");var R=w.source,g=x.schema(R.schema).findProperty(R.entity,R.name);if(g)for(var M=0,T=g.column.variations;M<T.length;M++){var O=T[M];if(O.name===w.variationName)for(var N=0,A=O.defaultHierarchy.levels;N<A.length;N++){var I=A[N];if(I.name===w.level.level)return I.column.name}}},E}()},568011:function(Xe,H,t){t.d(H,{U:function(){return s}});var e=t(669266),l=t(365358),o=t(498342),d=t(812454),v=t(930550),S=t(915925),h=t(917791),c=t(478226),r=t(854883);function s(a,n){return n?new u(a):new i(a)}var u=function(){function a(n){var m;if(o.fF.assertValue(n,"selector"),o.fF.assertValue(n.data,"selector.data"),this.dataParts=n.data,(0,d.N6)(n))this.isWildcard=!0;else{var f=_.last(n.data);this.totalIdentity=(0,d.tQ)(f)?f:null,this.totalIdentity&&(this.dataParts=this.dataParts.slice(0,n.data.length-1)),this.selectorDataExprs=a.flattenDataParts(this.dataParts),this.keys=_.map(this.selectorDataExprs,function(V){return V.key}),this.totalIdentity&&(m=this.keys).push.apply(m,this.totalIdentity.exprs||[])}}return a.prototype.matches=function(n,m){if(this.isWildcard)return(0,r.wB)(this.dataParts[0],!_.isEmpty(m));if(n.length!==this.dataParts.length||_.isEmpty(m)&&this.totalIdentity||!_.isEmpty(m)&&!this.totalIdentity||this.totalIdentity&&!(0,l.s_)(this.totalIdentity.exprs,m,e.fS))return!1;if(_.isEmpty(n)&&_.isEmpty(this.dataParts))return!0;var f=a.flattenDataParts(n);return!_.isEmpty(f)&&(0,l.s_)(this.selectorDataExprs,f,a.isDataExprsMatch)},a.prototype.matchesKeys=function(n,m){if(this.isWildcard)return n.length===m;var f=_.flatten(n);return 0!==this.keys.length&&0!==f.length&&this.keys.length===f.length&&(0,l.s_)(f,this.keys,e.fS)},a.flattenDataParts=function(n){for(var m=[],f=0,V=n;f<V.length;f++){var p=V[f];if((0,d.yN)(p)){var C=new v.aL;p.expr.accept(C);for(var b=0;b<C.pairs.length;b++)m.push({value:C.values[b],key:C.keys[b]})}else if((0,d.QV)(p))for(var y=0,D=p.exprs;y<D.length;y++)m.push({key:D[y]});else{if(!(0,d.tQ)(p))return o.fF.assertFail("unexpected Selector data item kind: "+p.kind.toString()),[];o.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements")}}return m},a.isDataExprsMatch=function(n,m){return o.fF.assert(function(){return null!=n.value||null!=m.value},"isDataExprsMatch cant have two dataExprs with values not defined. It means they are both wildcards."),n.value&&m.value?(0,e.fS)(n.key,m.key)&&(0,e.fS)(n.value,m.value):(0,e.fS)(n.key,m.key)},a}(),i=function(){function a(n){var m;if(this.selector=n,o.fF.assertValue(this.selector,"selector"),o.fF.assertValue(this.selector.data,"selector.data"),this.isWildcard=(0,d.N6)(this.selector),this.dataParts=this.selector.data,this.keys=[],!this.isWildcard)for(var f=0,V=this.dataParts;f<V.length;f++){var C=a.getDataRepetitionIdentityKeys(V[f]);if(!C){this.keys=[];break}(m=this.keys).push.apply(m,C)}}return a.prototype.matches=function(n,m){o.fF.assertValue(n,"identities");var f=this.dataParts,V=f.length,p=n.length,C=!_.isEmpty(m);if(C&&p++,this.isWildcard)return(0,r.wB)(f[0],C);if(V!==p)return!1;for(var b=0,y=n.length;b<y;b++){var P=n[b];if((0,d.j9)(D=f[b]))return o.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"),!1;if((0,d.yN)(D)){if(!(0,S.fS)(D,P))return!1}else{if(!(0,d.QV)(D))return(0,d.tQ)(D)?(_.isEmpty(m)||o.fF.assertFail("Selector.matchesData: ScopeTotal should appear at the end of Selector.Data elements"),!1):(o.fF.assertFail("unexpected Selector data item kind: "+D.kind.toString()),!1);if(!(0,c.wB)(D,P))return!1}}if(!_.isEmpty(m)){var D=_.last(f);return(0,d.tQ)(D)&&(0,h.wB)(D,m)}return!0},a.prototype.matchesKeys=function(n,m){if(o.fF.assertValue(n,"keysList"),o.fF.assert(function(){return n.length<=m},"expected keysList to be within the hierarchy levels"),this.isWildcard)return n.length===m;var f=_.flatten(n),V=this.keys.length;if(0===V||0===f.length||V!==f.length)return!1;for(var p=0;p<V;p++)if(!(0,e.fS)(f[p],this.keys[p]))return!1;return!0},a.getDataRepetitionIdentityKeys=function(n){return(0,d.yN)(n)?(0,v.RR)(n.expr):(0,d.QV)(n)||(0,d.tQ)(n)?n.exprs:void((0,d.j9)(n)?o.fF.assertFail("Selector.matchesData: RoleWildCard should be converted to ScopeWildCards before matching"):(0,d.qm)(n)?o.fF.assertFail("Selector.matchesData: Wildcard should match anything without identity check"):o.fF.assertNever(n))},a}()},916214:function(Xe,H,t){t.d(H,{Ed:function(){return v},OC:function(){return o},gp:function(){return d}});var e=t(498342),l=t(781322);function o(S){return e.fF.assertValue(S,"categories"),!_.isEmpty(S)&&S[0].objects}function d(S,h){if(e.fF.assertValue(S,"prototypeCategories"),e.fF.assertValue(h,"objects"),!_.isEmpty(S)){var c=(0,l.qO)(S);return(c[0]=(0,l.qO)(c[0])).objects=h,c}}function v(S){e.fF.assertValue(S,"dataViewCategorical");var h=_.isEmpty(S.categories)?_.isEmpty(S.values)?0:S.values[0].values.length:S.categories[0].values.length;return e.fF.assert(function(){return _.every(S.categories,function(c){return c.values.length===h})},"Invariant: every category column is expected to have the same number of values."),e.fF.assert(function(){return _.every(S.categories,function(c){return c.identity.length===h})},"Invariant: every category column is expected to have the same number of identities as there are values."),e.fF.assert(function(){return _.every(S.values,function(c){return c.values.length===h})},"Invariant: every value column is expected to have the same number of values."),h}},855661:function(Xe,H,t){t.d(H,{CF:function(){return u},GJ:function(){return i},Lr:function(){return y},Lt:function(){return f},N9:function(){return d},Ro:function(){return V},X2:function(){return r},be:function(){return n},no:function(){return s},pr:function(){return m},sx:function(){return C},vC:function(){return b},w1:function(){return v},y9:function(){return h}});var e=t(365358),l=t(498342),o=t(781322);function d(D){return l.fF.assertValue(D,"node"),_.isEmpty(D.children)}function v(D,P){if(l.fF.assertAnyValue(D,"rootNodes"),l.fF.assertValue(P,"callback"),D)if(function(D){return(0,e.rd)(D)}(D))for(var F=0,E=D;F<E.length;F++){var w=E[F];w&&S(w,[],P)}else S(D,[],P)}function S(D,P,F){l.fF.assertValue(D,"matrixNode"),l.fF.assertValue(P,"traversalPath"),l.fF.assertValue(F,"callback"),l.fF.assert(function(){return!_.includes(P,D)},"pre-condition: traversalPath must not already contain matrixNode"),P.push(D);var E=F(D,P),w=null!=E&&0!==E;if(1===E){var x=D.children;if(!_.isEmpty(x))for(var R=0,g=x;R<g.length;R++){var L=g[R];if(L&&!(w=S(L,P,F)))break}}return l.fF.assert(function(){return _.last(P)===D},"pre-condition: the callback given to forEachNodeDepthFirst() is not supposed to modify the traversalPath argument array."),P.pop(),w}function h(D,P){l.fF.assertAnyValue(D,"rootNodes"),l.fF.assertValue(P,"callback");var F=0;v(D,function(E,w){return d(E)&&(P(E,F,w),F++),1})}function r(D,P,F){if(l.fF.assertValue(D,"node"),l.fF.assert(function(){return P>=0},"targetLevel >= 0"),l.fF.assertValue(F,"callback"),D.level!==P){var E=D.children;if(E&&E.length>0)for(var w=0,x=E.length;w<x;w++)r(E[w],P,F)}else F(D)}function s(D,P,F){l.fF.assertValue(D,"node"),l.fF.assert(function(){return P>=0},"deepestLevelToInherit >= 0"),l.fF.assertValue(F,"useInheritSingle");var E=D,w=void 0===D.level;if(w||D.level<=P){var R=F?o.qO:o.ED,g=R(D);if((w||D.level<P)&&!_.isEmpty(D.children)){g.children=R(D.children);for(var M=0,T=g.children.length;M<T;M++)g.children[M]=s(g.children[M],P,F)}E=g}return E}function u(D){l.fF.assertAnyValue(D,"matrixOrHierarchy");var P=!1;if(D)if(function(D){return"rows"in D&&"columns"in D&&"valueSources"in D}(D))P=u(D.rows)||u(D.columns);else{var F=D.levels;if(!_.isEmpty(F))for(var E=0,w=F;E<w.length;E++){var x=w[E];if(x.sources&&x.sources.length>=2&&(l.fF.assert(function(){return _.every(x.sources,function(g){return g.isMeasure===x.sources[0].isMeasure})},"pre-condition: in a valid DataViewMatrix, the source columns in each of its hierarchy levels must either be all non-measure columns (i.e. a grouping level) or all measure columns (i.e. a measure headers level)"),!x.sources[0].isMeasure)){P=!0;break}}}return P}function i(D){l.fF.assertValue(D,"matrix");var P=D.rows&&D.rows.levels,F=D.columns&&D.columns.levels,E=D.valueSources;return{primaryAxis:!_.isEmpty(P)&&a(P),secondaryAxis:!_.isEmpty(F)&&a(F),intersection:!_.isEmpty(E)&&_.map(E,function(x){return x.index})}}function a(D){return l.fF.assertValue(D,"levels"),_.map(D,function(P){return{selectIndices:_.map(P.sources,function(w){return w.index})}})}function n(D){return D&&D.rows&&!_.isEmpty(D.rows.levels)?D.rows.levels.length:0}function m(D){return!D||_.isEmpty(D.levels)?0:D.levels.length-(f(D.levels)?1:0)}function f(D){return l.fF.assertAnyValue(D,"columnHierarchyLevels"),!_.isEmpty(D)&&V(_.last(D))}function V(D){return l.fF.assertAnyValue(D,"columnHierarchyLevel"),D&&_.every(D.sources,function(P){return P.isMeasure})}function C(D){if(l.fF.assertAnyValue(null==D?void 0:D.children,"A Matrix with Column Totals off and all data filtered out has undefined columns root"),!D||_.isEmpty(D.children))return[];var P=[];return h(D,function(F,E,w){P.push(_.clone(w))}),P}function b(D){l.fF.assertValue(D,"undefined Level");var P=D.valueSources;if(P)return l.fF.assert(function(){return _.isEqual(_.keys(P),["0"])},"There is no support for Measures with a Scope containing any column levels"),l.fF.assertValue(P[0],"Empty Scoped measures metadata"),P[0]}function y(D){if(l.fF.assertValue(D,"getNodeScopedValues called for an Undefined node"),l.fF.assertAnyValue(D.nodeValues,"Synchronized nodes have undefined nodeValues"),D.nodeValues)return l.fF.assert(function(){return _.isEqual(_.keys(D.nodeValues),["0"])},"There is no support for Measures with a Scope containing any column levels"),D.nodeValues[0]}},194994:function(Xe,H,t){t.d(H,{T5:function(){return s},_L:function(){return u},dM:function(){return c},iN:function(){return S},jh:function(){return h}});var e=t(979868),l=t(669266),o=t(498342);function v(i,a){o.fF.assertValue(i,"metadataColumn"),o.fF.assertValue(a,"targetRoles");var n=i.roles;return!!n&&_.some(a,function(m){return n[m]})}function S(i,a){if(o.fF.assertAnyValue(i,"roles"),o.fF.assertValue(a,"targetRole"),!i||!i[a])return!1;if(_.size(i)>=2)for(var n in i)if(n!==a&&i[n])return!1;return!0}function h(i,a,n){o.fF.assertAnyValue(i,"columnSources"),o.fF.assertValue(a,"projectionOrdering"),o.fF.assertAnyValue(n,"filterByRoles");var m=[];if(!_.isEmpty(i))for(var f=function(i){o.fF.assertValue(i,"selectIndicesByProjectionOrder");for(var a={},n=0,m=i.length;n<m;n++){var f=i[n],V=a[f];V||(V=a[f]=[]),V.push(n)}return a}(a),V=0,p=i.length;V<p;V++){var C=i[V];if(!n||v(C,n)){var b=f[C.index];if(_.isEmpty(b))m.push({metadataColumn:C,sourceIndex:V,projectionOrderIndex:void 0});else for(var y=0,D=b;y<D.length;y++)m.push({metadataColumn:C,sourceIndex:V,projectionOrderIndex:D[y]})}}return m}function c(i){var a=_.find(i,function(V){return V.expr&&(0,e.ez)(V.expr)});if(a){var m=a.expr.arg;if((0,e.y3)(m)){var f=m.arg;if((0,e.jc)(f))return f.property}}}function s(i,a,n){if(o.fF.assertValue(i,"expr"),o.fF.assertNonEmpty(a,"columns"),!(0,e.NH)(i))return _.find(a,function(f){return(0,l.fS)(f.expr,i)&&f.groupName===n});var m=_.find(a,function(f){return f.queryName===i.expressionName&&f.groupName===n});return m?0!==i.attributeKind?m:m.formatSource&&m.formatSource.formatString?m.formatSource.formatString:void 0:void 0}function u(i,a){o.fF.assertValue(i,"column"),o.fF.assertValue(a,"aggrFunc");var n=i.aggregates;if(n)switch(a){case 3:return n.min;case 4:return n.max;case 2:return n.count;case 1:return n.average;case 6:return n.median;default:return}}},981988:function(Xe,H,t){t.d(H,{C0:function(){return o},F:function(){return d},Mw:function(){return l},jR:function(){return S},rX:function(){return v}});var e=t(498342);function l(h,c){return!h&&!c||!(!h||!c||h.displayName!==c.displayName||h.queryName!==c.queryName||h.isMeasure!==c.isMeasure||h.type!==c.type||h.sort!==c.sort)}function o(h,c){if(!h&&!c)return!0;if(!h||!c)return!1;var s=c.columns.length;if(h.columns.length!==s)return!1;for(var u=0;u<s;u++)if(!l(h.columns[u],c.columns[u]))return!1;return!0}function d(h){return h&&h.values&&h.values[0]&&!!h.values[0].values}function v(h){return h&&void 0!==h.length}function S(h,c){return e.fF.assert(function(){return 0!==c}),!!h&&!!(1&c&&h.categorical||2&c&&h.matrix||4&c&&h.single||8&c&&h.table||16&c&&h.tree)}},658392:function(Xe,H,t){t.d(H,{SA:function(){return d},VZ:function(){return S},XP:function(){return o},r:function(){return v}});var e=t(498342),l=t(678776);function o(r,s,u){e.fF.assertValue(r,"query"),e.fF.assertValue(s,"projectionsByRole"),e.fF.assertValue(u,"roleName");var i=s[u];if(i){var a=i.all();return _.filter(_.map(a,function(n){return d(r,n)}),function(n){return n})}}function d(r,s){var u=h(r,s);if(u)return u}function v(r,s,u){var i,a=s[u];if(a){var n=a.getFieldParameters();if(_.isEmpty(n)){var m=o(r,s,u);return _.map(m,function(R){var g,L=null===(g=_.find(a.all(),function(M){return M.queryRef===R.name}))||void 0===g?void 0:g.hidden;return l.m.transformToVisualQueryField(R.expr,R.name,!1,R.nativeReferenceName,L)})}for(var f=[],V=a.all()||[],p=0,C=0,b=0,y=n=_.sortBy(n,function(R){return R.index});b<y.length;b++){var D=y[b],F=D.index+C,E=V.slice(p,F);f.push.apply(f,c(r,E)),f.push(l.m.transformToVisualQueryField(D.expr,void 0,!0));var w=null!==(i=D.length)&&void 0!==i?i:0;C+=w-1,p=F+w}var x=V.slice(p,V.length);return f.push.apply(f,c(r,x)),f}}function S(r,s){for(var u,i=_.filter(s,function(V){return V.index<r}),a=r,n=0,m=i;n<m.length;n++)a+=(null!==(u=m[n].length)&&void 0!==u?u:0)-1;return a}function h(r,s){if(e.fF.assertValue(r,"query"),s)return r.select().withName(s.queryRef)}function c(r,s){var u=_.filter(_.map(s,function(i){return h(r,i)}),function(i){return i});return _.map(u,function(i){var a,n=null===(a=_.find(s,function(m){return m.queryRef===i.name}))||void 0===a?void 0:a.hidden;return l.m.transformToVisualQueryField(i.expr,i.name,!1,i.nativeReferenceName,n)})}},493369:function(Xe,H,t){t.d(H,{A8:function(){return i},A9:function(){return a},YN:function(){return m},_T:function(){return n},it:function(){return u}});var e=t(498342),l=t(411429),o=t(512322),d=t(688215),v=t(678776),S=t(470756),h=t(473902),c=t(148782),r=t(470081),s=t(658392),u={objectName:"scalarKey",propertyName:"min"};function i(f,V){var p;if(f&&(p=f.objects),!_.isEmpty(p)){for(var C=void 0,b=p.length,y=0;y<b;y++){var P=(0,r.NA)(p[y],V);void 0!==P&&(C||(C={values:new Array(b)}),C.values[y]={min:P})}return C}}function a(f){var V=!1,p={visitRole:function(D){V=V||_.some(D.items,function(P){return P.scalarKeyInfo&&P.scalarKeyInfo.hasScalarKey})}};return f.categorical?(0,c.Sr)(f.categorical.categories,p):f.matrix&&(0,c.Ay)(f.matrix.rows,p),V}function n(f,V,p,C){var b,y,D;if(e.fF.assertValue(f,"schema"),e.fF.assertValue(V,"query"),e.fF.assertValue(p,"projections"),e.fF.assertValue(C,"roleName"),V.hasVisualCalculations())return!1;var P=(0,s.XP)(V,p,C);if(_.isEmpty(P)||!((null===(b=P[0])||void 0===b?void 0:b.expr)instanceof o.vD))return!1;var F=null===(y=P[0])||void 0===y?void 0:y.expr;if(1!==(0,d.q)(f,_.map(P,function(A){return A.expr}),{}).length)return!1;var w=(0,l.Q)(F,f),x=(0,S.S7)(f,w),R=x&&x.column;if(!R)return!1;var g=R.type;if(!g.temporal||!g.temporal.year||!m(null===(D=P[0])||void 0===D?void 0:D.expr,f))return!1;var L=p[C],M=L.getLastActiveQueryReference();if(M){var T=L.all(),O=_.findIndex(T,function(A){return A.queryRef===M});if(-1===O)return!1;for(var N=0;N<O;N++)if(!_.includes(L.activeProjectionRefs,T[N].queryRef))return!1}return!0}function m(f,V){if(e.fF.assertValue(V,"schema"),f){var p=(f=(0,h.K)(f,V)).getTargetEntity();if(p){var C=v.m.getConceptualEntity(p,V),b=_.filter(C.properties,function(y){return y.type.temporal&&y.type.temporal.paddedDateTableDate});if(1===b.length)return(0,o.Oh)(p,b[0].name)}}}},34119:function(Xe,H,t){t.d(H,{x9:function(){return o}});var e=t(498342),l=t(930550);function o(c){if(c&&c.matrix&&c.matrix.rows&&c.matrix.rows.root&&!_.isEmpty(c.matrix.rows.levels))return e.fF.assert(function(){return _.every(c.matrix.rows.levels,function(r){return 1===_.size(r.sources)})},"Composite groups are not supported"),{levels:_.map(c.matrix.rows.levels,function(r){return{identityKeys:r.sources[0].identityExprs}}),root:S(c.matrix.rows.root)}}function d(c,r){if(!_.isEmpty(c)){var s,u;switch(r){case 1:var i=_.findIndex(c,function(n){return n&&!n.isSubtotal&&n.identity});s=c[i],u=c[i+1];break;case 2:var a=_.findLastIndex(c,function(n){return n&&!n.isSubtotal&&n.identity});s=c[a],u=c[a-1];break;default:e.fF.assertFail("Unexpected restart kind "+r)}if(s&&s.restartKind===r)return s;if(u&&u.restartKind===r)return u}}function v(c){return{restartValues:c.restartValues,identityValues:(0,l.KX)(c.identity.expr),windowKind:h(c.restartKind)}}function S(c){var r=[],s=d(c.children,1);s&&r.push(v(s));var u=d(c.children,2);u&&r.push(v(u));var i=_.filter(c.children,function(a){return _.some(a.children,function(n){return n.identity&&!n.isSubtotal})});return{identityValues:c.identity&&c.identity.expr&&(0,l.KX)(c.identity.expr),children:_.map(i,function(a){return S(a)}),windowValues:r}}function h(c){switch(c){case 1:return 2;case 2:return 1}e.fF.assertFail("Invalid restartKind")}},572909:function(Xe,H,t){function e(o){return function(d){return d.get(o)}}function l(o,d){return"function"==typeof o?o(d):"string"==typeof o?o:void 0}t.d(H,{G:function(){return l},V:function(){return e}})},752135:function(Xe,H,t){t.d(H,{EP:function(){return c}});var e=t(498342),l=t(236090),o=t(762917),d=t(100112),v=function(){function y(){}return y.prototype._ensureIncludeZero=function(){this.includeZero&&(this.min>0&&!this.hasFixedMin&&(this.min=0),this.max<0&&!this.hasFixedMax&&(this.max=0))},y.prototype._ensureNotEmpty=function(){if(this.min===this.max)if(this.min){var D=this.min,P=(0,l.mv)(Math.abs(D)),F=void 0;P>=0&&P<4?(F=.5,this.forcedSingleStop=D):(F=(0,l.wA)(P)/2,this.forcedSingleStop=null),this.min=D-F,this.max=D+F}else this.min=0,this.max=y.DEFAULT_MAX,this.hasFixedMin=!0,this.hasFixedMax=!0},y.prototype._ensureDirection=function(){if(this.min>this.max){var D=this.min;this.min=this.max,this.max=D}},y.prototype.getSize=function(){return this.max-this.min},y.prototype.shrinkByStep=function(D,P){e.fF.assertValue(D,"range"),e.fF.assert(function(){return P>0},"step");var F=this.min/P,E=D.min/P,w=Math.floor(E-F);this.min+=w*P,F=this.max/P,E=D.max/P,w=Math.ceil(E-F),this.max+=w*P},y.calculate=function(D,P,F,E,w){e.fF.assert(function(){return D<=P},"dataMin should be less or equal to dataMax."),e.fF.assert(function(){return!F||!E||F<=E},"fixedMin should be less or equal to fixedMax.");var x=new y;return x.includeZero=!!w,x.hasDataRange=S(D)&&S(P),x.hasFixedMin=S(F),x.hasFixedMax=S(E),D=(0,l.QO)(D,y.MIN_SUPPORTED_DOUBLE,y.MAX_SUPPORTED_DOUBLE),P=(0,l.QO)(P,y.MIN_SUPPORTED_DOUBLE,y.MAX_SUPPORTED_DOUBLE),x.hasFixedMin&&x.hasFixedMax?(x.min=F,x.max=E):x.hasFixedMin?(x.min=F,x.max=P>F?P:F):x.hasFixedMax?(x.min=D<E?D:E,x.max=E):x.hasDataRange?(x.min=D,x.max=P):(x.min=0,x.max=0),x._ensureIncludeZero(),x._ensureNotEmpty(),x._ensureDirection(),0===x.min?x.hasFixedMin=!0:0===x.max&&(x.hasFixedMax=!0),x},y.calculateDataRange=function(D,P,F){return S(D)&&S(P)?y.calculate(D,P,null,null,F):y.calculateFixedRange(0,y.DEFAULT_MAX)},y.calculateFixedRange=function(D,P,F){e.fF.assertValue(D,"fixedMin"),e.fF.assertValue(P,"fixedMax");var E=new y;return E.hasDataRange=!1,E.includeZero=F,E.min=D,E.max=P,E._ensureIncludeZero(),E._ensureNotEmpty(),E._ensureDirection(),E.hasFixedMin=!0,E.hasFixedMax=!0,E},y.DEFAULT_MAX=10,y.MIN_SUPPORTED_DOUBLE=-1e307,y.MAX_SUPPORTED_DOUBLE=1e307,y}();function S(y){return null!=y}var h=function(){function y(){}return y.calculate=function(D,P,F,E,w,x){e.fF.assertValue(D,"range"),e.fF.assert(function(){return void 0===P||P>=y.MIN_COUNT&&P<=y.MAX_COUNT},"expectedCount"),e.fF.assert(function(){return void 0===E||E>=l.Xo&&E<=l.kg},"minPower"),e.fF.assert(function(){return void 0===F||F>=0},"maxAllowedMargin");var R=new y;if(P=void 0===P?10:(0,l.QO)(P,y.MIN_COUNT,y.MAX_COUNT),void 0===E&&(E=l.Xo),void 0===w&&(w=!1),void 0===F&&(F=1),void 0===x&&(x=[1,2,5]),D.forcedSingleStop)return R.interval=D.getSize(),R.intervalOffset=R.interval-(D.forcedSingleStop-D.min),R.min=D.min,R.max=D.max,R.sequence=[D.forcedSingleStop],R;var U,g=0,L=0,M=9,T=F>0&&!D.hasFixedMin,O=F>0&&!D.hasFixedMax,N=D.getSize(),A=(0,l.mv)(N),I=(0,l.mv)(x[0]);if(A-=I,A-=(0,l.mv)(P),A=Math.max(A,E-I+1),0!==g){var W=(0,l.wA)(A),j=(0,l.cT)(D.min,W),K=(0,l.iD)(D.max,W);(ee=v.calculateFixedRange(j,K)).shrinkByStep(D,g),L=ee.min,M=ee.max,U=Math.floor(ee.getSize()/g)}else{var ie=void 0;for(ie=0;ie<3;ie++){for(var he=A+ie,q=(W=(0,l.wA)(he),j=(0,l.cT)(D.min,W),K=(0,l.iD)(D.max,W),x.length),Y=(0,l.wA)(he-1),G=0;G<q;G++){var ee,me=x[G]*Y;if((ee=v.calculateFixedRange(j,K,w)).shrinkByStep(D,me),T&&D.min===ee.min&&F>=1&&(ee.min-=me),O&&D.max===ee.max&&F>=1&&(ee.max+=me),(U=(0,l.Eo)(ee.getSize()/me,l.qO))<=P||2===ie&&G===q-1||1===P&&2===U&&(me>D.getSize()||D.min<0&&D.max>0&&2*me>=D.getSize())){g=me,L=ee.min,M=ee.max;break}}if(0!==g)break}}(U>32*P||U>y.MAX_COUNT)&&(g=(M-L)/(U=Math.min(32*P,y.MAX_COUNT))),R.min=L,R.max=M,R.interval=g,R.intervalOffset=L-D.min,R.maxAllowedMargin=F,R.canExtendMin=T,R.canExtendMax=O;var re=(0,l.p8)(g,0);R.precision=re;var le=[],Ee=(0,l.W0)(L,re);for(le.push(Ee),G=0;G<U;G++)Ee=(0,l.W0)(Ee+g,re),le.push(Ee);return R.sequence=le,R.trimMinMax(D.min,D.max),R},y.calculateUnits=function(D,P,F,E){F=(0,l.QO)(F,y.MIN_COUNT,y.MAX_COUNT),D===P&&(P=D+1);for(var x=0,R=0,g=E;R<g.length&&!((0,l.Eo)(P/(x=g[R]))-(0,l.Uy)(D/x)<=F);R++);var T=-D;T%=x;var O=new y;O.sequence=[];for(var N=D+T;O.sequence.push(N),!(N>=P);N+=x);return O.interval=x,O.intervalOffset=T,O.min=O.sequence[0],O.max=O.sequence[O.sequence.length-1],O},y.prototype.trimMinMax=function(D,P){var F=(D-this.min)/this.interval,E=(this.max-P)/this.interval;(!this.canExtendMin||F>this.maxAllowedMargin&&F>.001)&&(this.min=D),(!this.canExtendMax||E>this.maxAllowedMargin&&E>.001)&&(this.max=P)},y.MIN_COUNT=1,y.MAX_COUNT=1e3,y}(),c=function(){function y(D){this.unit=D,this.sequence=[],this.min=new Date("9999-12-31T23:59:59.999Z"),this.max=new Date("0001-01-01T00:00:00.000Z")}return y.prototype.add=function(D){D<this.min&&(this.min=D),D>this.max&&(this.max=D),this.sequence.push(D)},y.prototype.moveToCover=function(D,P){var F=y.getDelta(D,P,this.unit),E=Math.floor(F/this.interval);for(this.min=y.addInterval(this.min,E*this.interval,this.unit),this.sequence=[],this.sequence.push(this.min),this.max=this.min;this.max<P;)this.max=y.addInterval(this.max,this.interval,this.unit),this.sequence.push(this.max)},y.calculate=function(D,P,F,E){switch(E||(E=y.getIntervalUnit(D,P,F)),E){case o.l.Year:return y.calculateYears(D,P,F);case o.l.Month:return y.calculateMonths(D,P,F);case o.l.Week:return y.calculateWeeks(D,P,F);case o.l.Day:return y.calculateDays(D,P,F);case o.l.Hour:return y.calculateHours(D,P,F);case o.l.Minute:return y.calculateMinutes(D,P,F);case o.l.Second:return y.calculateSeconds(D,P,F);case o.l.Millisecond:return y.calculateMilliseconds(D,P,F);default:e.fF.assertFail("Unsupported DateTimeUnit")}},y.calculateYears=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return!F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"Expected count is out of range");var E=v.calculateDataRange(D.getFullYear(),P.getFullYear(),!1),w=h.calculate(v.calculate(0,E.max-E.min),F,0,null,null,[1,2,5]),x=Math.floor(E.min/w.interval)*w.interval,R=d.y3.fromDateParts(x,0,1);return y.fromNumericSequence(R,w,o.l.Year)},y.calculateMonths=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return void 0===F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"expected count is out of range");var E=D.getFullYear(),w=P.getFullYear(),x=D.getMonth(),R=12*(w-E)+P.getMonth(),g=d.y3.fromDateParts(E,0,1),L=h.calculateUnits(x,R,F,[1,2,3,6,12]);return y.fromNumericSequence(g,L,o.l.Month)},y.calculateWeeks=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return void 0===F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"expected count is out of range");var x=(D.getDay()-0+7)%7,R=D.getDate()-x,g=d.y3.fromDateParts(D.getFullYear(),D.getMonth(),R),M=(0,l.Eo)(y.getDelta(g,P,o.l.Week)),T=h.calculateUnits(0,M,F,[1,2,4,8]);return y.fromNumericSequence(g,T,o.l.Week)},y.calculateDays=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return void 0===F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"expected count is out of range");var E=d.y3.fromDateParts(D.getFullYear(),D.getMonth(),D.getDate()),x=(0,l.Eo)(y.getDelta(D,P,o.l.Day)),R=h.calculateUnits(0,x,F,[1,2,7,14]);return y.fromNumericSequence(E,R,o.l.Day)},y.calculateHours=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return void 0===F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"expected count is out of range");var E=d.y3.fromDateParts(D.getFullYear(),D.getMonth(),D.getDate()),w=(0,l.Uy)(y.getDelta(E,D,o.l.Hour)),x=(0,l.Eo)(y.getDelta(E,P,o.l.Hour)),R=h.calculateUnits(w,x,F,[1,2,3,6,12,24]);return y.fromNumericSequence(E,R,o.l.Hour)},y.calculateMinutes=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return void 0===F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"expected count is out of range");var E=d.y3.fromDateParts(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours()),w=(0,l.Uy)(y.getDelta(E,D,o.l.Minute)),x=(0,l.Eo)(y.getDelta(E,P,o.l.Minute)),R=h.calculateUnits(w,x,F,[1,2,5,10,15,30,60,120,180,360,720,1440]);return y.fromNumericSequence(E,R,o.l.Minute)},y.calculateSeconds=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return void 0===F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"expected count is out of range");var E=d.y3.fromDateParts(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes()),w=(0,l.Uy)(y.getDelta(E,D,o.l.Second)),x=(0,l.Eo)(y.getDelta(E,P,o.l.Second)),R=h.calculateUnits(w,x,F,[1,2,5,10,15,30,60,120,300,600,900,1800,3600]);return y.fromNumericSequence(E,R,o.l.Second)},y.calculateMilliseconds=function(D,P,F){e.fF.assertValue(D,"dataMin"),e.fF.assertValue(P,"dataMax"),e.fF.assert(function(){return void 0===F||F>=y.MIN_COUNT&&F<=y.MAX_COUNT},"expected count is out of range");var E=d.y3.fromDateParts(D.getFullYear(),D.getMonth(),D.getDate(),D.getHours(),D.getMinutes(),D.getSeconds()),w=y.getDelta(E,D,o.l.Millisecond),x=y.getDelta(E,P,o.l.Millisecond),R=h.calculate(v.calculate(w,x),F,0);return y.fromNumericSequence(E,R,o.l.Millisecond)},y.addInterval=function(D,P,F){switch(P=Math.round(P),F){case o.l.Year:return function(y,D){var P=y.getFullYear(),F=y.getMonth(),E=y.getDate(),w=2===F&&29===E,x=d.y3.fromTimeValue(y.getTime());return P+=D,w&&!u(P)&&(E=28),x.setUTCFullYear(P,F,E),x}(D,P);case o.l.Month:return function(y,D){var P=y.getFullYear(),F=y.getMonth(),E=y.getDate(),w=d.y3.fromTimeValue(y.getTime());return P+=(D-D%12)/12,(F+=D%12)>11&&(F%=12,P++),E=Math.min(E,function(y,D){return u(y)?s[D]:r[D]}(P,F)),w.setUTCFullYear(P,F,E),w}(D,P);case o.l.Week:return function(y,D){return f(y,7*D)}(D,P);case o.l.Day:return f(D,P);case o.l.Hour:return function(y,D){return d.y3.fromTimeValue(y.getTime()+36e5*D)}(D,P);case o.l.Minute:return function(y,D){return d.y3.fromTimeValue(y.getTime()+6e4*D)}(D,P);case o.l.Second:return function(y,D){return d.y3.fromTimeValue(y.getTime()+1e3*D)}(D,P);case o.l.Millisecond:return function(y,D){return d.y3.fromTimeValue(y.getTime()+D)}(D,P)}},y.fromNumericSequence=function(D,P,F){for(var E=new y(F),w=0,x=P.sequence;w<x.length;w++){var g=y.addInterval(D,x[w],F);E.add(g)}return E.interval=P.interval,E.intervalOffset=P.intervalOffset,E},y.getDelta=function(D,P,F){var E=0;switch(F){case o.l.Year:E=P.getFullYear()-D.getFullYear();break;case o.l.Month:E=12*(P.getFullYear()-D.getFullYear())+P.getMonth()-D.getMonth();break;case o.l.Week:E=(P.getTime()-D.getTime())/6048e5;break;case o.l.Day:E=(P.getTime()-D.getTime())/864e5;break;case o.l.Hour:E=(P.getTime()-D.getTime())/36e5;break;case o.l.Minute:E=(P.getTime()-D.getTime())/6e4;break;case o.l.Second:E=(P.getTime()-D.getTime())/1e3;break;case o.l.Millisecond:E=P.getTime()-D.getTime()}return E},y.getIntervalUnit=function(D,P,F){F=Math.max(F,2);var E=y.getDelta(D,P,o.l.Day);if(E>356&&E>=180*F)return o.l.Year;if(E>60&&E>7*F)return o.l.Month;if(E>14&&E>2*F)return o.l.Week;var w=y.getDelta(D,P,o.l.Hour);if(E>2&&w>12*F)return o.l.Day;if(w>=24&&w>=F)return o.l.Hour;var x=y.getDelta(D,P,o.l.Minute);if(x>2&&x>=F)return o.l.Minute;var R=y.getDelta(D,P,o.l.Second);if(R>2&&R>=.8*F)return o.l.Second;if(y.getDelta(D,P,o.l.Millisecond)>0)return o.l.Millisecond;var L=D;return 0!==L.getMilliseconds()?o.l.Millisecond:0!==L.getSeconds()?o.l.Second:0!==L.getMinutes()?o.l.Minute:0!==L.getHours()?o.l.Hour:1!==L.getDate()?o.l.Day:0!==L.getMonth()?o.l.Month:o.l.Year},y.MIN_COUNT=1,y.MAX_COUNT=1e3,y}(),r=[31,28,31,30,31,30,31,31,30,31,30,31],s=[31,29,31,30,31,30,31,31,30,31,30,31];function u(y){return y%4==0&&y%100!=0||y%400==0}function f(y,D){var P=y.getFullYear(),F=y.getMonth(),E=y.getDate(),w=d.y3.fromTimeValue(y.getTime());return w.setUTCFullYear(P,F,E+D),w}},262852:function(Xe,H,t){t.d(H,{KO:function(){return o},Re:function(){return S},hU:function(){return d},t0:function(){return c},wj:function(){return v}});var e=t(498342),l=t(100112),o=function(r){return r[r.Last=0]="Last",r[r.Current=1]="Current",r[r.Next=2]="Next",r}({}),d=function(r){return r[r.Second=0]="Second",r[r.Minute=1]="Minute",r[r.Hour=2]="Hour",r[r.Day=3]="Day",r[r.Week=4]="Week",r[r.CalendarWeek=5]="CalendarWeek",r[r.Month=6]="Month",r[r.CalendarMonth=7]="CalendarMonth",r[r.Year=8]="Year",r[r.CalendarYear=9]="CalendarYear",r}({}),v=function(r){return r[r.Unsupported=0]="Unsupported",r[r.Time=1]="Time",r[r.Date=2]="Date",r}({});function S(r){switch(r){case d.Minute:case d.Hour:return!0;default:return!1}}var c=function(){function r(){}return r.convertRelativeDateUnitToRelativeFilterType=function(s){switch(s){case d.Second:case d.Minute:case d.Hour:return v.Time;case d.Day:case d.Week:case d.CalendarWeek:case d.Month:case d.CalendarMonth:case d.Year:case d.CalendarYear:return v.Date;default:return void e.fF.assertNever(s)}},r.convertTimeUnitToRelativeFilterType=function(s){switch(s){case 5:return v.Unsupported;case 6:case 7:return v.Time;case 0:case 1:case 2:case 3:case 4:return v.Date;default:return void e.fF.assertNever(s)}},r.getDateRange=function(s,u){switch(u.relativeUnit){case d.Minute:return this.getMinutesRange(s,u);case d.Hour:return this.getHoursRange(s,u);case d.Day:return this.getDaysRange(s,u);case d.Week:return this.getWeeksRange(s,u);case d.CalendarWeek:return this.getCalendarWeekRange(s,u);case d.Month:return this.getMonthRange(s,u);case d.CalendarMonth:return this.getCalendarMonthRange(s,u);case d.Year:return this.getYearRange(s,u);case d.CalendarYear:return this.getCalendarYearRange(s,u);default:return void e.fF.assertFail("Unexpected RelativeDateUnit: "+u.relativeUnit)}},r.getMinutesRange=function(s,u){var i={min:null,max:null};switch(u.relativeQualifier){case o.Last:i.min=new Date(s.valueOf()-6e4*u.duration),i.max=s;break;case o.Current:i.min=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),0)),i.max=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),s.getUTCMinutes(),59));break;case o.Next:i.min=s,i.max=new Date(s.valueOf()+6e4*u.duration)}return i},r.getHoursRange=function(s,u){var i={min:null,max:null},a=36e5;switch(u.relativeQualifier){case o.Last:i.min=new Date(s.valueOf()-u.duration*a),i.max=s;break;case o.Current:i.min=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),0,0)),i.max=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate(),s.getUTCHours(),59,59));break;case o.Next:i.min=s,i.max=new Date(s.valueOf()+u.duration*a)}return i},r.getDaysRange=function(s,u){var i={min:null,max:null};switch(u.relativeQualifier){case o.Last:i.max=u.includeToday?s:this.addDays(s,-1),i.min=this.addDays(i.max,1-u.duration);break;case o.Current:i.min=s,i.max=s;break;case o.Next:i.min=u.includeToday?s:this.addDays(s,1),i.max=this.addDays(i.min,u.duration-1)}return i},r.getWeeksRange=function(s,u){var i={min:null,max:null};switch(u.relativeQualifier){case o.Last:i.max=u.includeToday?s:this.addDays(s,-1),i.min=this.addDays(i.max,-7*u.duration+1);break;case o.Current:i=this.getCalendarWeek(s);break;case o.Next:i.min=u.includeToday?s:this.addDays(s,1),i.max=this.addDays(i.min,7*u.duration-1)}return i},r.getCalendarWeekRange=function(s,u){var i={min:null,max:null},a=s.getUTCDay();switch(u.relativeQualifier){case o.Last:var n=this.addDays(s,-a-1);i.min=this.addDays(n,-7*u.duration+1),i.max=n;break;case o.Current:i=this.getCalendarWeek(s);break;case o.Next:var m=this.addDays(s,7-a);i.min=m,i.max=this.addDays(m,7*u.duration-1)}return i},r.getMonthRange=function(s,u){var i={min:null,max:null};switch(u.relativeQualifier){case o.Last:i.max=u.includeToday?s:this.addDays(s,-1),i.min=this.addMonths(i.max,-u.duration);break;case o.Current:i=this.getCalendarMonth(s);break;case o.Next:i.min=u.includeToday?s:this.addDays(s,1),i.max=this.addMonths(i.min,u.duration)}return i},r.getCalendarMonthRange=function(s,u){var i={min:null,max:null};switch(u.relativeQualifier){case o.Last:i.min=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()-u.duration,1)),i.max=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),0));break;case o.Current:i=this.getCalendarMonth(s);break;case o.Next:i.min=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+1,1)),i.max=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+1+u.duration,0))}return i},r.getYearRange=function(s,u){var i={min:null,max:null};switch(u.relativeQualifier){case o.Last:i.max=u.includeToday?s:this.addDays(s,-1),i.min=this.addYears(i.max,-u.duration);break;case o.Current:i=this.getCalendarYear(s);break;case o.Next:i.min=u.includeToday?s:this.addDays(s,1),i.max=this.addYears(i.min,u.duration)}return i},r.getCalendarYearRange=function(s,u){var i={min:null,max:null};switch(u.relativeQualifier){case o.Last:i.min=new Date(Date.UTC(s.getUTCFullYear()-u.duration,0,1)),i.max=new Date(Date.UTC(s.getUTCFullYear()-1,11,31));break;case o.Current:i=this.getCalendarYear(s);break;case o.Next:i.min=new Date(Date.UTC(s.getUTCFullYear()+1,0,1)),i.max=new Date(Date.UTC(s.getUTCFullYear()+u.duration,11,31))}return i},r.getTimeRangeRestatement=function(s,u,i,a){return u?this.getDetailedTimeRestatement(i):this.getSimplifiedTimeRestatement(s,a)},r.getDetailedTimeRestatement=function(s){return Math.abs(s.max.valueOf()-s.min.valueOf())/864e5>1||s.max.getUTCDate()!==s.min.getUTCDate()?l.dx.format("{0} - {1}",[s.min,s.max]):l.dx.format("{0:T} - {1:T}",[s.min,s.max])},r.getSimplifiedTimeRestatement=function(s,u){switch(s.relativeQualifier){case o.Current:switch(s.relativeUnit){case d.Minute:return u("RelativeTimeRestatement_this_Minute");case d.Hour:return u("RelativeTimeRestatement_this_Hour");default:e.fF.assertFail("The following relative unit is not a relative time unit: ".concat(s.relativeUnit))}break;case o.Last:switch(s.relativeUnit){case d.Minute:return 1===s.duration?u("RelativeTimeRestatement_last_Minute"):u("RelativeTimeRestatement_last_Minutes",s.duration);case d.Hour:return 1===s.duration?u("RelativeTimeRestatement_last_Hour"):u("RelativeTimeRestatement_last_Hours",s.duration);default:e.fF.assertFail("The following relative unit is not a relative time unit: ".concat(s.relativeUnit))}break;case o.Next:switch(s.relativeUnit){case d.Minute:return 1===s.duration?u("RelativeTimeRestatement_next_Minute"):u("RelativeTimeRestatement_next_Minutes",s.duration);case d.Hour:return 1===s.duration?u("RelativeTimeRestatement_next_Hour"):u("RelativeTimeRestatement_next_Hours",s.duration);default:e.fF.assertFail("The following relative unit is not a relative time unit: ".concat(s.relativeUnit))}break;default:e.fF.assertFail("The following is an Unsupported relativeQualifer: ".concat(s.relativeQualifier))}return""},r.getDateRangeRestatement=function(s){return l.dx.format("{0:d} - {1:d}",[s.min,s.max])},r.getRestatement=function(s,u,i,a){var n;if(S(s.relativeUnit)?(e.fF.assert(function(){return!!a},"For Relative time restatement, anchor time should be defined"),n=a||new Date):n=new Date,s.anchorDate&&function(r){return!S(r)}(s.relativeUnit)){var m=s.anchorDate;n=new Date(Date.UTC(m.getFullYear(),m.getMonth(),m.getDate(),m.getHours(),m.getMinutes(),m.getSeconds(),m.getMilliseconds()))}var f=this.getDateRange(n,s);return f.min.epochTimeStamp=f.min.getTime(),f.max.epochTimeStamp=f.max.getTime(),S(s.relativeUnit)?this.getTimeRangeRestatement(s,u,f,i):r.getDateRangeRestatement(f)},r.addMinutes=function(s,u){return new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours(),s.getMinutes()+u,s.getSeconds())},r.addHours=function(s,u){return new Date(s.getFullYear(),s.getMonth(),s.getDate(),s.getHours()+u,s.getMinutes(),s.getSeconds())},r.addDays=function(s,u){return new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),s.getUTCDate()+u))},r.addMonths=function(s,u){if(0===u)return s;var n=s.getUTCDate()-(u>0?1:-1),m=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+u,n)),f=m.getUTCDate();if(n>0)if(f!==n&&u>0)m=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+u+1,0));else if(u<0){var V=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),n));(f!==n||V.getUTCMonth()!==s.getUTCMonth())&&(m=new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+u+1,1)))}return m},r.addYears=function(s,u){return this.addMonths(s,12*u)},r.getDurationMax=function(s,u){if(s===o.Current)return 1;switch(u){case d.Year:case d.CalendarYear:return 100;case d.Month:case d.CalendarMonth:case d.CalendarWeek:case d.Week:return 1e3;default:return 1e4}},r.getCalendarWeek=function(s){var u=s.getUTCDay(),i=this.addDays(s,-u);return{min:i,max:this.addDays(i,6)}},r.getCalendarMonth=function(s){return{min:new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth(),1)),max:new Date(Date.UTC(s.getUTCFullYear(),s.getUTCMonth()+1,0))}},r.getCalendarYear=function(s){return{min:new Date(Date.UTC(s.getUTCFullYear(),0,1)),max:new Date(Date.UTC(s.getUTCFullYear(),11,31))}},r}()},686311:function(Xe,H,t){t.d(H,{g:function(){return he},CH:function(){return g},J6:function(){return R},Ue:function(){return K},E3:function(){return j},Ym:function(){return q},WU:function(){return ee},aY:function(){return Je},KF:function(){return _e},kA:function(){return ie},v1:function(){return le},p$:function(){return Y},G2:function(){return U},EO:function(){return re},eU:function(){return Ne},h1:function(){return Ee},Z:function(){return M},X0:function(){return W}});var e=t(498342),l=t(236090),o=t(504898),d=t(447751),v=t(399663),S=t(470081),h=t(100112),c=t(358246),r=t(752135),s=t(973188),u=t(295577),a=1e15,n=1e-4,p=/^([0\#,]*\.[0\#]+|[0\#,]+|g)$/i,C=function(){function oe(){}return oe.prototype.project=function(ye){return this.value?(0,l.oI)(ye/this.value):ye},oe.prototype.isApplicableTo=function(ye){ye=Math.abs(ye);var Ce=(0,l.p8)(ye,3);return(0,l.bA)(ye,this.applicableRangeMin,Ce)&&(0,l.Po)(ye,this.applicableRangeMax,Ce)},oe.prototype.isScaling=function(){return this.value>1},oe}(),b=function(){function oe(ye){this.units=ye||[]}return oe.prototype.getUnits=function(ye){void 0===ye&&(ye=!1);var Ce=_.clone(this.units);return ye&&_.remove(Ce,function(Be){return 0===Be.value}),Ce},Object.defineProperty(oe.prototype,"title",{get:function(){return this.displayUnit?this.displayUnit.title:void 0},enumerable:!1,configurable:!0}),oe.prototype.update=function(ye){void 0!==ye&&(this.displayUnit=this.findApplicableDisplayUnit(ye))},oe.prototype.findApplicableDisplayUnit=function(ye){for(var Ce=0,Be=this.units;Ce<Be.length;Ce++){var be=Be[Ce];if(be.isApplicableTo(ye))return be}},oe.prototype.format=function(ye,Ce,Be,be){e.fF.assert(function(){return"number"==typeof ye},"value must be a number"),Be=this.getNumberOfDecimalsForFormatting(Be);var Te="";return this.isFormatSupported(Ce)&&!this.hasScientificFormat(Ce)&&this.isScalingUnit()&&this.shouldRespectScalingUnit()&&(ye=this.displayUnit.project(ye),Te=this.displayUnit.labelFormat),this.formatHelper(ye,Te,Ce,Be,be)},oe.prototype.isFormatSupported=function(ye){return!oe.UNSUPPORTED_FORMATS.test(ye)},oe.prototype.isPercentageFormat=function(ye){return ye&&ye.indexOf("%")>=0},oe.prototype.shouldRespectScalingUnit=function(){return!0},oe.prototype.getNumberOfDecimalsForFormatting=function(ye){return ye},oe.prototype.isScalingUnit=function(){return this.displayUnit&&this.displayUnit.isScaling()},oe.prototype.formatHelper=function(ye,Ce,Be,be,Te){if(("g"===Be||"G"===Be)&&null!=be&&(Be=u.Pe),(Be=(0,h.dc)(Be,be,Te))&&!h.dx.isStandardNumberFormat(Be))return h.dx.formatNumberWithCustomOverride(ye,Be,Ce);Be||(Be="G"),Ce||(Ce="{0}");var ce=h.dx.formatValue(ye,Be);return h.dx.format(Ce,[ce])},oe.prototype.formatSingleValue=function(ye,Ce,Be,be){return this.update(this.shouldUseValuePrecision(ye)?(0,l.p8)(ye,8):ye),this.format(ye,Ce,Be,be)},oe.prototype.shouldUseValuePrecision=function(ye){if(0===this.units.length)return!0;for(var Ce=0,Be=0,be=this.units;Be<be.length;Be++){var Te=be[Be];if(Te.isScaling()){Ce=Te.applicableRangeMin;break}}return Math.abs(ye)<Ce},oe.prototype.isScientific=function(ye){return ye<-a||ye>a||-n<ye&&ye<n&&0!==ye},oe.prototype.hasScientificFormat=function(ye){return ye&&(-1!==ye.toUpperCase().indexOf("E+")||-1!==ye.toUpperCase().indexOf("E-"))},oe.prototype.supportsScientificFormat=function(ye){return!ye||p.test(ye)},oe.prototype.shouldFallbackToScientific=function(ye,Ce){return!this.hasScientificFormat(Ce)&&this.supportsScientificFormat(Ce)&&this.isScientific(ye)},oe.prototype.getScientificFormat=function(ye,Ce,Be,be){if(this.isFormatSupported(Ce)&&this.shouldFallbackToScientific(ye,Ce)){var Te=(0,h.IE)(ye,Ce);return Be&&(Te=(0,h.dc)(Te||"0",Math.abs(Be),be)),Te?Te+"E+0":"0.##E+0"}return Ce},oe.UNSUPPORTED_FORMATS=/^(p\d*)|(e\d*)$/i,oe}(),y=function(oe){function ye(){return oe.call(this,[])||this}return(0,s.__extends)(ye,oe),ye}(b),D=function(oe){function ye(Ce){return oe.call(this,ye.getUnits(Ce))||this}return(0,s.__extends)(ye,oe),ye.prototype.format=function(Ce,Be,be,Te){return Be=this.getScientificFormat(Ce,Be,be,Te),oe.prototype.format.call(this,Ce,Be,be,Te)},ye.reset=function(){ye.units=null},ye.getUnits=function(Ce){return ye.units||((ye.units=E(Ce,function(Be,be,Te){return Be-be>=1e3?Be/10:Te}))[ye.units.length-1].applicableRangeMax=1/0),ye.units},ye}(b),P=function(oe){function ye(Ce){return oe.call(this,ye.getUnits(Ce))||this}return(0,s.__extends)(ye,oe),ye.reset=function(){ye.units=null},ye.getUnits=function(Ce){return ye.units||((ye.units=E(Ce))[ye.units.length-1].applicableRangeMax=1/0),ye.units},ye.prototype.format=function(Ce,Be,be,Te){return Be=this.getScientificFormat(Ce,Be,be,Te),oe.prototype.format.call(this,Ce,Be,be,Te)},ye}(b),F=function(oe){function ye(Ce){return oe.call(this,ye.getUnits(Ce))||this}return(0,s.__extends)(ye,oe),ye.prototype.isFormatSupported=function(Ce){return!ye.UNSUPPORTED_FORMATS.test(Ce)},ye.getUnits=function(Ce){if(!ye.units){var Be=[],be=function(ve,Re,Ke){return-1===ve&&ve-Re>=1e3?ve/10:Ke},Te=Ce(-1);w(Be,0,Te.title,Te.format,be),w(Be,1,(Te=Ce(0)).title,Te.format,be),(ye.units=Be.concat(E(Ce,be)))[ye.units.length-1].applicableRangeMax=1/0}return ye.units},ye.prototype.format=function(Ce,Be,be,Te){return Be=this.getScientificFormat(Ce,Be,be,Te),oe.prototype.format.call(this,Ce,Be,be,Te)},ye.UNSUPPORTED_FORMATS=/^(e\d*)$/i,ye}(b);function E(oe,ye){for(var Ce=[],Be=3;Be<24;Be++){var be=oe(Be);be&&w(Ce,(0,l.wA)(Be),be.title,be.format,ye)}return Ce}function w(oe,ye,Ce,Be,be){if(Ce||Be){var Te=ye;if(oe.length>0){var ce=oe[oe.length-1];be&&(Te=be(ye,ce.value,Te)),ce.applicableRangeMax=Te}var ve=new C;ve.value=ye,ve.applicableRangeMin=Te,ve.applicableRangeMax=1e3*Te,ve.title=Ce,ve.labelFormat=Be,oe.push(ve)}}function R(oe){g||(o.f.information("allowFormatBeautification used",void 0,{key:oe}),g=!0)}var g=!1;function M(oe){return u.um[oe]}var T={null:u.um.NullValue,true:u.um.BooleanTrue,false:u.um.BooleanFalse,NaN:u.um.NaNValue,infinity:u.um.InfinityValue,negativeInfinity:u.um.NegativeInfinityValue,beautify:function(ye){return function(oe){var ye=u.A0[oe];return ye?(R(ye),u.um[ye]||oe):oe}(ye)},describe:function(ye){return function(oe){var ye=-1===oe?"Auto":oe.toString(),be=u.um["DisplayUnitSystem_E"+ye+"_Title"],Te=oe<=0?"{0}":u.um["DisplayUnitSystem_E"+ye+"_LabelFormat"];if(be||Te)return{title:be,format:Te}}(ye)},restatementComma:u.um.RestatementComma,restatementCompoundAnd:u.um.RestatementCompoundAnd,restatementCompoundOr:u.um.RestatementCompoundOr},B={displayName:"",type:c.Ge.fromPrimitiveTypeAndCategory(7)};function U(oe){return(0,h.rH)(oe)}function W(oe){e.fF.assertValue(oe,"options"),T=oe,D.reset(),P.reset()}function j(oe,ye){void 0===ye&&(ye=!1);var Ce=ye?T.beautify(oe):oe;return{format:function(be){return null==be?T.null:pe(be,Ce)}}}function K(oe){e.fF.assertValue(oe,"options");var ye=oe.allowFormatBeautification?T.beautify(oe.format):oe.format;if(function(oe){var ye=oe.value,Ce=oe.value2,Be=oe.format,be=oe.columnType;if(oe.formatSingleValues&&Be&&Math.abs(ye)<1e4)if((0,h.iH)(Be)){if((0,l.U)(ye))return!1}else if((0,h.rH)(Be,!0).precision<2)return!1;if("number"==typeof ye||"number"==typeof Ce)return!(be&&be.temporal&&be.temporal.year)}(oe)){var Ce=q(oe.displayUnitSystemType),Be=!!oe.formatSingleValues;Ce.update(Math.max(Math.abs(oe.value||0),Math.abs(oe.value2||0)));var Te,be=null!=oe.precision;return be?Te=-oe.precision:Ce.displayUnit&&Ce.displayUnit.value>1&&(Te=-2),{format:function(Re){var Ke=fe(Re,!0);if(!(0,d.g)(Ke))return Ke;var tt=Number(Re);return tt&&!Ce.isScalingUnit()&&Math.abs(tt)<1e3&&!be&&(Re=(0,l.W0)(tt)),Be?Ce.formatSingleValue(tt,ye,Te,be):Ce.format(tt,ye,Te,be)},displayUnit:Ce.displayUnit,options:oe}}if(function(oe,ye,Ce){return oe instanceof Date&&ye instanceof Date&&null!=Ce}(oe.value,oe.value2,oe.tickCount)){var ce=r.EP.getIntervalUnit(oe.value,oe.value2,oe.tickCount);return{format:function(Re){return null==Re?T.null:pe(Re,h.dx.dateFormatString(ce))},options:oe}}return j(ye)}function ee(oe,ye,Ce){return null==oe?T.null:pe(oe,Ce?T.beautify(ye):ye)}function ie(oe,ye,Ce,Be,be){return!(Ce&&Ce.type&&Ce.type.dateTime)&&oe instanceof Date?pe(oe,re(B,null,!1),be):pe(oe,Ne(ye,Ce,Be),be)}var he=function(){function oe(ye){e.fF.assertValue(ye,"createVariantMeasureFormatter - options"),e.fF.assertValue(ye.column,"createVariantMeasureFormatter - options.column"),e.fF.assertValue(ye.formatStringPropId,"createVariantMeasureFormatter - options.formatStringPropId"),this.options=ye,this.columnFormatString=re(ye.column,ye.formatStringPropId,!1),this.isDateTimeColumn=ye.column&&ye.column.type&&ye.column.type.dateTime,(null!=ye.displayUnit&&1!==ye.displayUnit||null!=ye.precision)&&(this.displayUnitSystem=q(ye.displayUnitSystemType),this.displayUnitSystem.update(ye.displayUnit))}return oe.prototype.setDisplayUnitSystem=function(ye,Ce){null==ye&&null==Ce?this.displayUnitSystem=void 0:(this.displayUnitSystem=q(Ce),this.displayUnitSystem.update(ye))},oe.prototype.format=function(ye,Ce){var Be=this.options;if(!this.isDateTimeColumn&&ye instanceof Date)return pe(ye,re(B,null,!1),Be.nullsAreBlank);var Te=this.columnFormatString;if(Ce){var ce=(0,S.NA)(Ce,Be.formatStringPropId);null!=ce&&(Te=ce)}if(this.displayUnitSystem&&"number"==typeof ye&&null!=ye){var ve=Be.precision;return Be.defaultPrecisionForScaledValues&&null==(ve=Ee(ve,Te))&&Be.displayUnit>1&&(ve=2),Be.formatSingleValues?this.displayUnitSystem.formatSingleValue(ye,Te,ve,Be.trailingZeroes):this.displayUnitSystem.format(ye,Te,ve,Be.trailingZeroes)}return pe(ye,Te,Be.nullsAreBlank)},oe}();function q(oe){if(null==oe)return new D(T.describe);switch(oe){case v.V.Default:return new D(T.describe);case v.V.WholeUnits:return new P(T.describe);case v.V.Verbose:return new y;case v.V.DataLabels:return new F(T.describe);default:return e.fF.assertFail("Unknown display unit system type"),new D(T.describe)}}function Y(oe){return void 0===oe&&(oe=!1),new F(T.describe).getUnits(oe)}function re(oe,ye,Ce){if(oe){if(ye){var Be=(0,S.NA)(oe.objects,ye);if(Be)return Be}if(!Ce&&oe.type)return le(oe.type)}}function le(oe){return e.fF.assertValue(oe,"type must be defined"),oe.dateTime?u.eF:oe.integer?oe.temporal&&oe.temporal.year?"0":u.Bq:oe.numeric?u.Pe:void 0}function Ee(oe,ye){if(e.fF.assertAnyValue(ye,"format"),void 0!==oe)return oe;if("g"!==ye&&"G"!==ye){if(ye){var Ce=(0,h.OQ)(ye).positive,Be=(0,h.rH)(Ce,!0);if(Be.hasDots)return Be.optionalPrecision?void 0:Be.precision}return 0}}function Ne(oe,ye,Ce,Be){return(0,S.NA)(oe,Ce)||re(ye,Ce,Be)}function Ye(oe,ye){var Ce;if(!oe)return null;var Be=oe.length;if(Be>0){Ce=oe[0];for(var be=Be-1,Te=1,ce=be;Te<ce;Te++)Ce=(0,d.W)(T.restatementComma,Ce,oe[Te]);Be>1&&(Ce=(0,d.W)(ye,Ce,oe[be]))}else Ce=null;return Ce}function Je(oe){return Ye(oe,T.restatementCompoundAnd)}function _e(oe){return Ye(oe,T.restatementCompoundOr)}function pe(oe,ye,Ce){var Be=fe(oe,Ce||!1);return(0,d.g)(Be)?h.dx.formatValue(oe,ye):Be}function fe(oe,ye){return null==oe&&ye?T.null:!0===oe?T.true:!1===oe?T.false:"number"==typeof oe&&isNaN(oe)?T.NaN:oe===Number.NEGATIVE_INFINITY?T.negativeInfinity:oe===Number.POSITIVE_INFINITY?T.infinity:""}},295577:function(Xe,H,t){t.d(H,{A0:function(){return v},Bq:function(){return e},Pe:function(){return l},eF:function(){return o},um:function(){return d}});var e="g",l="#,0.00",o="d",d={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",RestatementComma:"{0}, {1}",RestatementCompoundAnd:"{0} and {1}",RestatementCompoundOr:"{0} or {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},v={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"}},762917:function(Xe,H,t){t.d(H,{l:function(){return e}});var e=function(l){return l[l.Year=0]="Year",l[l.Month=1]="Month",l[l.Week=2]="Week",l[l.Day=3]="Day",l[l.Hour=4]="Hour",l[l.Minute=5]="Minute",l[l.Second=6]="Second",l[l.Millisecond=7]="Millisecond",l}({})},484959:function(Xe,H,t){t.d(H,{$n:function(){return o},Iu:function(){return s},dp:function(){return r}});var e=t(498342),l=t(981988);function o(V,p){if(V.matrix||e.fF.assert(function(){return(0,l.C0)(V.metadata,p.metadata)},"Cannot merge data views with different metadata columns"),p.metadata.segment?V.metadata.segment=p.metadata.segment:delete V.metadata.segment,V.table&&p.table&&function(V,p){if(e.fF.assertValue(V,"source"),e.fF.assertValue(p,"segment"),!_.isEmpty(p.rows)){var C=p.lastMergeIndex+1;S(V.rows,p.rows,C),e.fF.assert(function(){return!V.identity==!p.identity},"The existence of identity in the new segment is different than the source"),p.identity&&S(V.identity,p.identity,C)}}(V.table,p.table),V.categorical&&p.categorical&&function(V,p){if(e.fF.assertValue(V,"source"),e.fF.assertValue(p,"segment"),e.fF.assert(function(){return _.size(V.categories)===_.size(p.categories)},"pre-condition: source categories and segment categories should have the same length"),e.fF.assert(function(){return _.every(V.categories,function(w){return V.categories[0].identity===w.identity})},"pre-condition: the identity property of all category columns are expected to be the same array object"),!_.isEmpty(V.categories)&&!_.isEmpty(p.categories)){for(var C=p.lastMergeIndex+1,b=p.categories.length,y=function(x){var R=p.categories[x],g=V.categories[x];e.fF.assert(function(){return(0,l.Mw)(g.source,R.source)},"Source and segment category have different sources."),e.fF.assert(function(){return void 0!==g.values||void 0===g.identity},"Source category is missing values but has identities."),R.values&&S(g.values,R.values,C)},D=0;D<b;D++)y(D);p.categories[0].identity&&S(V.categories[0].identity,p.categories[0].identity,C)}if(V.values&&p.values){var P=p.values.length;e.fF.assert(function(){return V.values.length===P},"Source and segment values have different lengths.");for(var F=function(x){var R=p.values[x],g=V.values[x];e.fF.assert(function(){return(0,l.Mw)(g.source,R.source)},"Source and segment value have different sources."),!g.values&&R.values&&(g.values=[]);var L=p.lastMergeIndex+1;R.values&&S(g.values,R.values,L),R.highlights&&S(g.highlights,R.highlights,L)},E=0;E<P;E++)F(E)}}(V.categorical,p.categorical),V.tree&&p.tree&&h(V.tree.root,p.tree.root,!0),V.matrix&&p.matrix){e.fF.assertValue(V.matrix.rows,"source.matrix.rows"),e.fF.assertValue(V.matrix.rows.levels,"source.matrix.rows.levels"),e.fF.assertValue(p.matrix.rows,"segment.matrix.rows"),e.fF.assertValue(p.matrix.rows.levels,"segment.matrix.rows.levels"),e.fF.assertValue(V.metadata,"source.metadata"),e.fF.assertValue(V.metadata.columns,"source.metadata.columns"),e.fF.assertValue(p.metadata,"segment.metadata"),e.fF.assertValue(p.metadata.columns,"segment.metadata.columns");var C=V.matrix.rows.levels.length,b=p.matrix.rows.levels.length;if(C>b)_.remove(V.metadata.columns,function(w){return null!=w.index&&!_.some(p.metadata.columns,function(x){return x.index===w.index})}),V.metadata.columns.length=p.metadata.columns.length,function(V,p){var C=p.levels.length;V.levels.length=C,e.fF.assert(function(){return _.isEqual(V.levels,p.levels)},"Segments have different levels");var b=[];m(V.root.children,C-1,b);for(var y=0,D=b;y<D.length;y++)i(D[y])}(V.matrix.rows,p.matrix.rows);else if(C<b){for(var D=0,P=0,F=_.filter(p.metadata.columns,function(w){return null!=w.index&&!_.some(V.metadata.columns,function(x){return x.index===w.index})});P<F.length;P++){for(var E=F[P];D<V.metadata.columns.length&&(null==V.metadata.columns[D].index||V.metadata.columns[D].index<E.index);)D++;V.metadata.columns.splice(D,0,E)}!function(V,p){for(var C=p.levels.length,b=V.levels.length,y=b;y<C;y++)V.levels.push(p.levels[y]);e.fF.assert(function(){return _.isEqual(V.levels,p.levels)},"Segments have different levels");var D=[];m(V.root.children,b-1,D);for(var P=0,F=D;P<F.length;P++)n(F[P],b);(function(V,p){for(var C=V.root,b=0;b<p;b++)if(_.isEmpty(C.children)||(e.fF.assertValue(C=C.children[0],"Segment has fewer levels than expected"),!C.isMerge||C.isSubtotal))return!1;return!0})(p,b)&&delete _.last(D).children}(V.matrix.rows,p.matrix.rows)}h(V.matrix.rows.root,p.matrix.rows.root,C!==b)}}function S(V,p,C){if(C>=p.length)return p;var b=[];return void 0!==C&&(b=p.splice(0,C)),Array.prototype.push.apply(V,p),b}function h(V,p,C){if(e.fF.assertValue(V,"sourceRoot"),e.fF.assertValue(p,"segmentRoot"),p.children&&0!==p.children.length){if(C&&(!V.children||0===V.children.length))return void(V.children=p.children);e.fF.assert(function(){return V.children&&V.children.length>=0},"Source tree has different structure than segment.");var b=c(p.children),y=V.children[V.children.length-1],D=S(V.children,p.children,b);D.length>0&&h(y,D[D.length-1],C)}}function c(V){if(0===V.length)return 0;for(var p=0;p<V.length&&V[p].isMerge;p++);return p}function r(V,p){e.fF.assertValue(V,"dataViewMerger.pruneTree - root"),e.fF.assertNonEmpty(p,"dataViewMerger.pruneTree - Zero-depth index");for(var C,b=0,y=p;b<y.length;b++){var D=y[b];if(C=V.children,_.isEmpty(C))return!0;if(D>=C.length)return!1;C.length=D+1,V=_.last(C)}return!0}function s(V,p){var C=V.children;e.fF.assertNonEmpty(V.children,"Empty segment");for(var b=0,y=!0;!_.isEmpty(C);){var D=c(C);if(D>=C.length)y=!0;else{var P=C.length-D;y?void 0===p[b]?p[b]=P-1:p[b]+=P:p[b]=P-1,y=!1}C=_.last(C).children,b++}b<p.length&&(p.length=b)}function i(V){if(!_.isEmpty(V.children)){var p=_.find(V.children,function(C){return C.isSubtotal});p&&(V.values=p.values),delete V.children,delete V.childIdentityFields}}function n(V,p){V.isSubtotal||(e.fF.assert(function(){return V.level===p-1},"Leaf was found on a non-last level"),e.fF.assert(function(){return 0===_.size(V.children)},"Node has children"),V.children=[{isSubtotal:!0,level:p,values:V.values}],delete V.values)}function m(V,p,C){e.fF.assertValue(V,"nodes");for(var b=0,y=V;b<y.length;b++){var D=y[b];D.isSubtotal||(D.level===p?C.push(D):!_.isEmpty(D.children)&&void 0!==D.level&&D.level<p&&m(D.children,p,C))}}},366735:function(Xe,H,t){t.d(H,{Y:function(){return r},dw:function(){return s},l0:function(){return c}});var e=t(973188),l=t(498342),o=t(871746),d=t(812454),v=t(915925),S=t(981988),h=t(686311),c=function(){function u(i,a,n){this.selector=u.ensureSelector(i),this.highlight=a,this._columnLevelKeys=new o.o(function(){if(i)return(0,d.AZ)(i,!1)}),this._identityLevelKeys=new o.o(function(){if(i)return(0,d.AZ)(i,!0)}),this.selectorsByColumn=n}return u.fromSelectorsByColumn=function(i){return new u((0,d.tV)(i),!1,i)},u.fromSelectorsByColumnAndRoles=function(i,a){var m=new u((0,d.tV)(i),!1,i);return m.role=a,m},u.prototype.equals=function(i){return this.selector&&i.selector?this.highlight===i.highlight&&(0,d.fS)(this.selector,i.selector):!this.selector==!i.selector&&this.highlight===i.highlight},u.isEqual=function(i,a){return i===a||null!=i&&null!=a&&i.equals(a)},u.prototype.includes=function(i,a,n){if(void 0===a&&(a=!1),void 0===n&&(n=!1),!i)return!1;var m=this.selector,f=i.selector;if(!m||!f)return!1;var V=m.data,p=f.data;if(!V&&m.metadata&&m.metadata!==f.metadata||!a&&this.highlight!==i.highlight)return!1;if(V){if(!p)return!1;if(V.length>0)for(var C=function(F,E){var w=V[F];if(n){var x=w.expr;if(!_.some(p,function(R){return(0,v.yz)(x,R)}))return{value:!1}}else if(!p.some(function(R){return(0,v.fS)(w,R)}))return{value:!1}},b=0,y=V.length;b<y;b++){var D=C(b);if("object"==typeof D)return D.value}}return!0},u.prototype.getKey=function(){return void 0===this._key&&(this._key="{selector: ".concat(this.selector?this.getSelectorKey():null,", highlight: ").concat(this.highlight,"}")),this._key},u.prototype.getDecomposedKeys=function(i){return i?this._identityLevelKeys.getValue():this._columnLevelKeys.getValue()},u.prototype.getKeyWithoutHighlight=function(){return void 0===this._keyWithoutHighlight&&(this._keyWithoutHighlight="{selector: ".concat(this.selector?this.getSelectorKey():null,"}")),this._keyWithoutHighlight},u.prototype.hasIdentity=function(){return this.selector&&!!this.selector.data},u.prototype.getSelector=function(){return this.selector},u.prototype.getSelectorsByColumn=function(){return this.selectorsByColumn},u.prototype.getSelectorKey=function(){return void 0===this._selectorKey&&(this._selectorKey=(0,d.km)(this.selector)),this._selectorKey},u.createNull=function(i){return void 0===i&&(i=!1),new u(null,i)},u.createWithId=function(i,a){void 0===a&&(a=!1);var n=null;return i&&(n={data:[i]}),new u(n,a)},u.createWithMeasure=function(i,a){void 0===a&&(a=!1),l.fF.assertValue(i,"measureId");var m=new u({metadata:i},a);return m.selectorsByColumn={metadata:[i]},m},u.createWithIdAndMeasure=function(i,a,n){void 0===n&&(n=!1);var m={};return i&&(m.data=[i]),a&&(m.metadata=a),!i&&!a&&(m=null),new u(m,n)},u.createWithIdAndMeasureAndCategory=function(i,a,n,m,f){void 0===m&&(m=!1),void 0===f&&(f=[]);var V=this.createWithIdAndMeasure(i,a,m);return V.selector&&(V.selectorsByColumn={},i&&n&&(V.selectorsByColumn.dataMap={},V.selectorsByColumn.dataMap[n]=[i]),a&&(V.selectorsByColumn.metadata=[a]),_.isEmpty(f)||(V.selectorsByColumn.valueDetails=f)),V},u.createWithIds=function(i,a,n){void 0===n&&(n=!1);var m=null,f=u.idArray(i,a);return f&&(m={data:f}),new u(m,n)},u.createWithIdsAndMeasure=function(i,a,n,m){void 0===m&&(m=!1);var f={},V=u.idArray(i,a);return V&&(f.data=V),n&&(f.metadata=n),!i&&!a&&!n&&(f=null),new u(f,m)},u.createWithSelectorForColumnAndMeasure=function(i,a,n,m){void 0===n&&(n=!1),void 0===m&&(m=[]);var f={};return _.isEmpty(i)||(f.dataMap=i),a&&(f.metadata=[a]),!i&&!a&&(f=null),_.isEmpty(m)||(f.valueDetails=m),new u((0,d.tV)(f),n,f)},u.createWithSelectorForColumnAndMeasures=function(i,a,n,m){void 0===m&&(m=!1);var f={};return _.isEmpty(i)||(f.dataMap=i),_.isEmpty(a)||(f.metadata=a),n&&(f.valueDetails=n),!i&&_.isEmpty(a)&&(f=null),new u((0,d.tV)(f),m,f)},u.createWithHighlight=function(i){l.fF.assertValue(i,"original"),l.fF.assert(function(){return!i.highlight},"!original.highlight");var a=new u(i.getSelector(),!0);return a.selectorsByColumn=i.selectorsByColumn,a},u.idArray=function(i,a){if(i||a){var n=[];return i&&n.push(i),a&&a!==i&&n.push(a),n}},u.ensureSelector=function(i){return i&&i.data&&(i.data=_.uniqWith(i.data,d.cY)),i},u}();function r(u,i,a){var m,n=u.format;return{expr:u.expr,get formattedValue(){return void 0===m&&(m=(0,h.WU)(i,n)),m},value:i,identity:a,queryName:u.queryName}}var s=function(){function u(){}return u.builder=function(){return new u},u.prototype.withColumnIdentity=function(i,a,n){var m;return this.addItemToDataMap(a,i),n&&(this.ensureValueDetails(),(m=this.valueDetails).push.apply(m,n)),this},u.prototype.withCategoryIdentity=function(i,a,n){return i&&i.source&&i.source.queryName&&(this.ensureValueDetails(),this.valueDetails.push(r(i.source,i.values[a],i.identity[a])),this.addItemToDataMap(i.source.queryName,n)),this},u.prototype.withCategory=function(i,a,n,m){if(void 0===m&&(m=!1),(0,S.rX)(i)){if(m&&n)for(var f=0,V=i;f<V.length;f++)this.addCategoryValueDetails(V[f],a);i[0]&&n&&i[0].identity&&this.addItemToDataMap(n,i[0].identity[a])}else m&&this.addCategoryValueDetails(i,a),i&&i.source&&i.source.queryName&&i.identity&&this.addItemToDataMap(i.source.queryName,i.identity[a]);return this},u.prototype.addCategoryValueDetails=function(i,a){i&&i.source&&i.source.queryName&&i.identity&&(this.ensureValueDetails(),this.valueDetails.push(r(i.source,i.values[a],i.identity[a])))},u.prototype.withSeries=function(i,a,n){return void 0===n&&(n=!1),i&&i.source&&i.source.queryName&&a&&(n&&(0,S.F)(a)&&(this.ensureValueDetails(),this.valueDetails.push(r(i.source,a.name,a.identity))),this.addItemToDataMap(i.source.queryName,a.identity)),this},u.prototype.withMeasure=function(i,a,n){if(this.ensureMeasures(),null!=i&&this.measures.push(i),a&&a.source.queryName===i)if(this.ensureValueDetails(),n>=0)this.valueDetails.push(r(a.source,a.values[n],void 0));else for(var m=0,f=a.values;m<f.length;m++)this.valueDetails.push(r(a.source,f[m],void 0));return this},u.prototype.withMeasures=function(i){this.ensureMeasures();for(var a=0,n=i;a<n.length;a++)this.measures.push(n[a]);return this},u.prototype.createSelectionId=function(){return c.createWithSelectorForColumnAndMeasures(this.dataMap,this.measures,this.valueDetails)},u.prototype.clone=function(){var i=new u,a=this.dataMap;if(a){var n=i.dataMap={};for(var m in this.dataMap)n[m]=(0,e.__spreadArray)([],a[m]||[],!0)}return this.measures&&(i.measures=(0,e.__spreadArray)([],this.measures||[],!0)),i},u.prototype.ensureMeasures=function(){void 0===this.measures&&(this.measures=[])},u.prototype.ensureValueDetails=function(){void 0===this.valueDetails&&(this.valueDetails=[])},u.prototype.addItemToDataMap=function(i,a){if(a){this.dataMap||(this.dataMap={});var n=this.dataMap,m=n[i];if(null==m)return void(n[i]=[a]);m.push(a)}},u}()},726501:function(Xe,H,t){t.d(H,{$s:function(){return be},$t:function(){return R},$x:function(){return f},Bn:function(){return F},Gk:function(){return i},Hp:function(){return ye},Ig:function(){return D},J1:function(){return ce},Mu:function(){return _e},R$:function(){return n},Sr:function(){return w},TI:function(){return a},U5:function(){return C},Um:function(){return tt},Vn:function(){return g},W2:function(){return V},_6:function(){return Te},_L:function(){return pe},a4:function(){return E},bO:function(){return fe},dR:function(){return r},fv:function(){return He},gz:function(){return Ce},jS:function(){return P},lH:function(){return y},pV:function(){return mt},qP:function(){return m},tg:function(){return s},uT:function(){return ke},vH:function(){return p},vf:function(){return b},ym:function(){return u}});var e=t(973188),l=t(979868),o=t(669266),d=t(498342),v=t(512322),S=t(446731),h=t(772308),c=t(411429);function r(ae){return(0,v.m_)(s(ae),ae.aggregate)}function s(ae){return(0,v.Oh)(a(ae),ae.name)}function u(ae){return(0,v.m_)((0,v.Wp)(ae.name,a(ae),x(ae.groupedColumns)),ae.aggregate)}function i(ae){return(0,v.Wp)(ae.name,a(ae),x(ae.groupedColumns))}function a(ae){return(0,v.nw)(ae.schema,ae.entity,ae.entityVar)}function n(ae){return(0,v.m_)(a(ae),ae.aggregate)}function m(ae){var Se=a(ae.source),nt=(0,v.yU)(Se,ae.variationName,ae.source.name);return(0,v.bT)(nt,ae.hierarchy.name)}function f(ae){var Se=a(ae.source),nt=(0,v.yU)(Se,ae.variationName,ae.source.name),vt=(0,v.bT)(nt,ae.level.name);return(0,v.os)(vt,ae.level.level)}function V(ae){return ae.subqueryRef?(0,v.Oh)((0,v.v5)(ae.subqueryRef),ae.name):ae.subquery?(0,v.Oh)((0,v.v5)(ae.subquery),ae.name):void 0}function p(ae){return(0,v.m_)((0,v.Oh)((0,v.v5)(ae.subqueryRef),ae.name),ae.aggregate)}function C(ae){return(0,v.Oh)((0,v.GB)(ae.transformTable.name),ae.name)}function b(ae){return(0,v.m_)(y(ae),ae.aggregate)}function y(ae){return(0,v.os)(D(ae),ae.level)}function D(ae){return(0,v.bT)(a(ae),ae.name)}function P(ae){return(0,v.Y8)((0,S.B)(ae.left),(0,S.B)(ae.right),ae.operator)}function F(ae){return(0,v.kQ)(ae.value,ae.type)}function E(ae){return(0,v.Zy)((0,S.B)(ae.measure),_.map(ae.grouping,function(Se){return(0,S.B)(Se)}))}function w(ae){return new v.Wr(ae.name,ae.language,ae.expression)}function x(ae){return _.map(ae,function(Se){return(0,S.B)(Se)})}var R=function(){function ae(){}return ae.prototype.visitColumn=function(Se){return s(Se)},ae.prototype.visitColumnAggr=function(Se){return r(Se)},ae.prototype.visitGroupingColumn=function(Se){return i(Se)},ae.prototype.visitGroupingColumnAggr=function(Se){return u(Se)},ae.prototype.visitColumnHierarchyVariation=function(Se){return m(Se)},ae.prototype.visitColumnHierarchyLevelVariation=function(Se){return f(Se)},ae.prototype.visitColumnSubquery=function(Se){return V(Se)},ae.prototype.visitColumnAggrSubquery=function(Se){return p(Se)},ae.prototype.visitColumnTransformRef=function(Se){return C(Se)},ae.prototype.visitEntity=function(Se){return a(Se)},ae.prototype.visitEntityAggr=function(Se){return n(Se)},ae.prototype.visitHierarchy=function(Se){return D(Se)},ae.prototype.visitHierarchyLevel=function(Se){return y(Se)},ae.prototype.visitHierarchyLevelAggr=function(Se){return b(Se)},ae.prototype.visitMeasure=function(Se){return(0,v.mv)(this.visitEntity(Se),Se.name)},ae.prototype.visitPercentile=function(Se){var nt=(0,S.B)(Se.arg);return(0,v.Pe)(nt,Se.k,Se.exclusive)},ae.prototype.visitPercentOfGrandTotal=function(Se){var nt=(0,S.B)(Se.baseExpr);return(0,v.Y8)(nt,(0,v.ed)(nt,[]),3)},ae.prototype.visitPercentOfRoleTotal=function(Se){var nt=(0,S.B)(Se.baseExpr);return(0,v.Y8)(nt,(0,v.ed)(nt,_.map(Se.roles,function(vt){return(0,v.Wu)(vt)})),3)},ae.prototype.visitSelectRef=function(Se){return(0,v.xA)(Se.expressionName)},ae.prototype.visitTransformOutputRoleRef=function(Se){return(0,v.hu)(Se.expressionName)},ae.prototype.visitFilteredEval=function(Se){return(0,v.Xw)((0,S.B)(Se.baseExpr),_.map(Se.filters,function(nt){return(0,h.SO)(nt)}))},ae.prototype.visitArithmetic=function(Se){return P(Se)},ae.prototype.visitConstant=function(Se){return F(Se)},ae.prototype.visitSparklineData=function(Se){return E(Se)},ae.prototype.visitNativeVisualCalc=function(Se){return w(Se)},ae.instance=new ae,ae}();function g(ae,Se){return d.fF.assertValue(ae,"expr"),d.fF.assertValue(Se,"visitor"),d.fF.assertValue(ae,"expected sqExpr to conform to a fieldExprPattern"),ae.column?function(ae,Se){return d.fF.assertValue(ae,"column"),d.fF.assertValue(Se,"visitor"),Se.visitColumn(ae)}(ae.column,Se):ae.columnAggr?function(ae,Se){return d.fF.assertValue(ae,"columnAggr"),d.fF.assertValue(Se,"visitor"),Se.visitColumnAggr(ae)}(ae.columnAggr,Se):ae.groupingColumn?function(ae,Se){return d.fF.assertValue(ae,"column"),d.fF.assertValue(Se,"visitor"),Se.visitGroupingColumn(ae)}(ae.groupingColumn,Se):ae.groupingColumnAggr?function(ae,Se){return d.fF.assertValue(ae,"columnAggr"),d.fF.assertValue(Se,"visitor"),Se.visitGroupingColumnAggr(ae)}(ae.groupingColumnAggr,Se):ae.columnHierarchyVariation?function(ae,Se){return d.fF.assertValue(ae,"columnHierarchyVariation"),d.fF.assertValue(Se,"visitor"),Se.visitColumnHierarchyVariation(ae)}(ae.columnHierarchyVariation,Se):ae.columnHierarchyLevelVariation?function(ae,Se){return d.fF.assertValue(ae,"columnHierarchyLevelVariation"),d.fF.assertValue(Se,"visitor"),Se.visitColumnHierarchyLevelVariation(ae)}(ae.columnHierarchyLevelVariation,Se):ae.columnSubquery?function(ae,Se){return d.fF.assertValue(ae,"columnSubquery"),d.fF.assertValue(Se,"visitor"),Se.visitColumnSubquery(ae)}(ae.columnSubquery,Se):ae.columnAggrSubquery?function(ae,Se){return d.fF.assertValue(ae,"columnAggrSubquery"),d.fF.assertValue(Se,"visitor"),Se.visitColumnAggrSubquery(ae)}(ae.columnAggrSubquery,Se):ae.columnTransformRef?function(ae,Se){return d.fF.assertValue(ae,"columnTransformRef"),d.fF.assertValue(Se,"visitor"),Se.visitColumnTransformRef(ae)}(ae.columnTransformRef,Se):ae.entity?function(ae,Se){return d.fF.assertValue(ae,"entity"),d.fF.assertValue(Se,"visitor"),Se.visitEntity(ae)}(ae.entity,Se):ae.entityAggr?function(ae,Se){return d.fF.assertValue(ae,"entityAggr"),d.fF.assertValue(Se,"visitor"),Se.visitEntityAggr(ae)}(ae.entityAggr,Se):ae.hierarchy?function(ae,Se){return d.fF.assertValue(ae,"hierarchy"),d.fF.assertValue(Se,"visitor"),Se.visitHierarchy(ae)}(ae.hierarchy,Se):ae.hierarchyLevel?function(ae,Se){return d.fF.assertValue(ae,"hierarchyLevel"),d.fF.assertValue(Se,"visitor"),Se.visitHierarchyLevel(ae)}(ae.hierarchyLevel,Se):ae.hierarchyLevelAggr?function(ae,Se){return d.fF.assertValue(ae,"hierarchyLevelAggr"),d.fF.assertValue(Se,"visitor"),Se.visitHierarchyLevelAggr(ae)}(ae.hierarchyLevelAggr,Se):ae.measure?function(ae,Se){return d.fF.assertValue(ae,"measure"),d.fF.assertValue(Se,"visitor"),Se.visitMeasure(ae)}(ae.measure,Se):ae.percentile?function(ae,Se){return d.fF.assertValue(ae,"percentile"),d.fF.assertValue(Se,"visitor"),Se.visitPercentile(ae)}(ae.percentile,Se):ae.percentOfGrandTotal?function(ae,Se){return d.fF.assertValue(ae,"percentOfGrandTotal"),d.fF.assertValue(Se,"visitor"),Se.visitPercentOfGrandTotal(ae)}(ae.percentOfGrandTotal,Se):ae.percentOfRoleTotal?function(ae,Se){return d.fF.assertValue(ae,"percentOfRoleTotal"),d.fF.assertValue(Se,"visitor"),Se.visitPercentOfRoleTotal(ae)}(ae.percentOfRoleTotal,Se):ae.selectRef?function(ae,Se){return d.fF.assertValue(ae,"selectRef"),d.fF.assertValue(Se,"visitor"),Se.visitSelectRef(ae)}(ae.selectRef,Se):ae.transformOutputRoleRef?function(ae,Se){return d.fF.assertValue(ae,"transformOutputRoleRef"),d.fF.assertValue(Se,"visitor"),Se.visitTransformOutputRoleRef(ae)}(ae.transformOutputRoleRef,Se):ae.filteredEval?function(ae,Se){return d.fF.assertValue(ae,"filteredEval"),d.fF.assertValue(Se,"visitor"),Se.visitFilteredEval(ae)}(ae.filteredEval,Se):ae.arithmetic?function(ae,Se){return d.fF.assertValue(ae,"arithmetic"),d.fF.assertValue(Se,"visitor"),Se.visitArithmetic(ae)}(ae.arithmetic,Se):ae.constant?function(ae,Se){return d.fF.assertValue(ae,"constant"),d.fF.assertValue(Se,"visitor"),Se.visitConstant(ae)}(ae.constant,Se):ae.sparklineData?function(ae,Se){return d.fF.assertValue(ae,"sparkline"),d.fF.assertValue(Se,"visitor"),Se.visitSparklineData(ae)}(ae.sparklineData,Se):ae.nativeVisualCalc?function(ae,Se){return d.fF.assertValue(ae,"nativeVisualCalc"),d.fF.assertValue(Se,"visitor"),Se.visitNativeVisualCalc(ae)}(ae.nativeVisualCalc,Se):void d.fF.assertFail("failed to visit a fieldExprPattern.")}function _e(ae){return(0,v.Oh)((0,v.nw)(ae.schema,ae.entity,ae.entityVar),ae.name)}function pe(ae){return d.fF.assertValue(ae,"fieldExpr"),g(ae,ft.instance)}function fe(ae){return d.fF.assertValue(ae,"fieldExpr"),g(ae,Le.instance)}function ye(ae){var Se=g(ae,Ue.instance);return d.fF.assert(function(){return!Se||1===_.size(Se)},"If there are more than 1 property names, then use getPropertyNames instead"),null==Se?void 0:Se[0]}function Ce(ae){return g(ae,Ue.instance)}function be(ae){return ae.columnHierarchyLevelVariation?ae.columnHierarchyLevelVariation.source:ae.column||ae.groupingColumn||ae.groupingColumnAggr||ae.measure||ae.columnAggr}function Te(ae){return ye(ae)||tt(ae).entity}function ce(ae){var Se=function(ae){d.fF.assertValue(ae,"fieldExpr");var Se=mt(ae);return d.fF.assertAnyValue(Se,"expected fieldExpr to be an entity item"),_.isEmpty(Se)?void 0:_.map(Se,function(nt){return nt.schema})}(ae);return d.fF.assert(function(){return!Se||1===_.size(Se)},"If there are more than 1 schema, then use getSchemas instead"),null==Se?void 0:Se[0]}function tt(ae){var Se=g(ae,Q.instance);return d.fF.assert(function(){return!Se||1===_.size(Se)},"If there are more than 1 entity, then use toFieldExprEntityItemPatterns instead"),null==Se?void 0:Se[0]}function mt(ae){return g(ae,Q.instance)}function He(ae){return d.fF.assertValue(ae,"expr"),(0,l.lF)(ae)&&(0,l.g5)(ae.right)&&!_.isEmpty(ae.right.scope)&&_.every(ae.right.scope,function(Se){return(0,l.yL)(Se)})}function ke(ae,Se){if(d.fF.assertValue(ae,"expr"),!(0,l.lF)(ae)||!(0,l.g5)(ae.right))return!1;var nt={percentOfGrandTotal:{baseExpr:ae.left.accept(new c.P(Se))}};return(0,o.fS)(ae,(0,S.B)(nt))}var ft=function(){function ae(){}return ae.prototype.visitColumn=function(Se){},ae.prototype.visitColumnAggr=function(Se){return Se.aggregate},ae.prototype.visitGroupingColumn=function(Se){},ae.prototype.visitGroupingColumnAggr=function(Se){return Se.aggregate},ae.prototype.visitColumnHierarchyVariation=function(Se){},ae.prototype.visitColumnHierarchyLevelVariation=function(Se){},ae.prototype.visitColumnSubquery=function(Se){},ae.prototype.visitColumnAggrSubquery=function(Se){return Se.aggregate},ae.prototype.visitColumnTransformRef=function(Se){},ae.prototype.visitEntity=function(Se){},ae.prototype.visitEntityAggr=function(Se){return Se.aggregate},ae.prototype.visitHierarchy=function(Se){},ae.prototype.visitHierarchyLevel=function(Se){},ae.prototype.visitHierarchyLevelAggr=function(Se){return Se.aggregate},ae.prototype.visitMeasure=function(Se){},ae.prototype.visitSelectRef=function(Se){},ae.prototype.visitPercentile=function(Se){},ae.prototype.visitPercentOfGrandTotal=function(Se){return(0,v._L)((0,S.B)(Se.baseExpr))},ae.prototype.visitPercentOfRoleTotal=function(Se){return(0,v._L)((0,S.B)(Se.baseExpr))},ae.prototype.visitTransformOutputRoleRef=function(Se){},ae.prototype.visitFilteredEval=function(Se){return(0,v._L)((0,S.B)(Se.baseExpr))},ae.prototype.visitArithmetic=function(Se){},ae.prototype.visitConstant=function(Se){d.fF.assertFail("FieldExprPattern - Not expecting to be called")},ae.prototype.visitSparklineData=function(Se){},ae.prototype.visitNativeVisualCalc=function(Se){},ae.instance=new ae,ae}(),Le=function(){function ae(){}return ae.prototype.visitColumn=function(Se){return s(Se)},ae.prototype.visitColumnAggr=function(Se){return r(Se)},ae.prototype.visitGroupingColumn=function(Se){return i(Se)},ae.prototype.visitGroupingColumnAggr=function(Se){return u(Se)},ae.prototype.visitColumnHierarchyVariation=function(Se){return m(Se)},ae.prototype.visitColumnHierarchyLevelVariation=function(Se){return f(Se)},ae.prototype.visitColumnSubquery=function(Se){return V(Se)},ae.prototype.visitColumnAggrSubquery=function(Se){return p(Se)},ae.prototype.visitColumnTransformRef=function(Se){return C(Se)},ae.prototype.visitEntity=function(Se){return a(Se)},ae.prototype.visitEntityAggr=function(Se){return n(Se)},ae.prototype.visitHierarchy=function(Se){return D(Se)},ae.prototype.visitHierarchyLevel=function(Se){return y(Se)},ae.prototype.visitHierarchyLevelAggr=function(Se){return b(Se)},ae.prototype.visitMeasure=function(Se){return(0,v.mv)(this.visitEntity(Se),Se.name)},ae.prototype.visitSelectRef=function(Se){return(0,v.xA)(Se.expressionName)},ae.prototype.visitPercentile=function(Se){return g((0,c.Q)((0,S.B)(Se.arg)),this)},ae.prototype.visitPercentOfGrandTotal=function(Se){return g((0,c.Q)((0,S.B)(Se.baseExpr)),this)},ae.prototype.visitPercentOfRoleTotal=function(Se){return g((0,c.Q)((0,S.B)(Se.baseExpr)),this)},ae.prototype.visitTransformOutputRoleRef=function(Se){return(0,v.hu)(Se.expressionName)},ae.prototype.visitFilteredEval=function(Se){return g((0,c.Q)((0,S.B)(Se.baseExpr)),this)},ae.prototype.visitArithmetic=function(Se){return P(Se)},ae.prototype.visitConstant=function(Se){d.fF.assertFail("FieldExprPattern - Not expecting to be called")},ae.prototype.visitSparklineData=function(Se){return E(Se)},ae.prototype.visitNativeVisualCalc=function(Se){return new v.Wr(Se.name,Se.language,Se.expression)},ae.instance=new ae,ae}(),Q=function(){function ae(){}return ae.prototype.visitColumn=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitColumnAggr=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitGroupingColumn=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitGroupingColumnAggr=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitColumnHierarchyVariation=function(Se){return[ae.toEntityItemExprPattern(Se.source)]},ae.prototype.visitColumnHierarchyLevelVariation=function(Se){return[ae.toEntityItemExprPattern(Se.source)]},ae.prototype.visitColumnSubquery=function(Se){},ae.prototype.visitColumnAggrSubquery=function(Se){},ae.prototype.visitColumnTransformRef=function(Se){},ae.prototype.visitEntity=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitEntityAggr=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitHierarchy=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitHierarchyLevel=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitHierarchyLevelAggr=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitMeasure=function(Se){return[ae.toEntityItemExprPattern(Se)]},ae.prototype.visitSelectRef=function(Se){},ae.prototype.visitPercentile=function(Se){return g(Se.arg,this)},ae.prototype.visitPercentOfGrandTotal=function(Se){return g(Se.baseExpr,this)},ae.prototype.visitPercentOfRoleTotal=function(Se){return g(Se.baseExpr,this)},ae.prototype.visitTransformOutputRoleRef=function(Se){},ae.prototype.visitFilteredEval=function(Se){return g(Se.baseExpr,this)},ae.prototype.visitArithmetic=function(Se){var nt=g(Se.left,this),vt=g(Se.right,this),We=nt&&vt?(0,e.__spreadArray)((0,e.__spreadArray)([],nt,!0),vt,!0):null!=nt?nt:vt;return _.isEmpty(We)?void 0:We},ae.prototype.visitConstant=function(Se){},ae.prototype.visitSparklineData=function(Se){var nt=this;return(0,e.__spreadArray)((0,e.__spreadArray)([],g(Se.measure,this),!0),_.chain(Se.grouping).map(function(vt){return g(vt,nt)}).flatten().value(),!0)},ae.prototype.visitNativeVisualCalc=function(Se){},ae.toEntityItemExprPattern=function(Se){d.fF.assertValue(Se,"exprPattern");var nt={schema:Se.schema,entity:Se.entity};return Se.entityVar&&(nt.entityVar=Se.entityVar),nt},ae.instance=new ae,ae}(),Ue=function(){function ae(){}return ae.prototype.visitColumn=function(Se){return[Se.name]},ae.prototype.visitColumnAggr=function(Se){return[Se.name]},ae.prototype.visitGroupingColumn=function(Se){return[Se.name]},ae.prototype.visitGroupingColumnAggr=function(Se){return[Se.name]},ae.prototype.visitColumnHierarchyVariation=function(Se){},ae.prototype.visitColumnHierarchyLevelVariation=function(Se){},ae.prototype.visitColumnSubquery=function(Se){return[Se.name]},ae.prototype.visitColumnAggrSubquery=function(Se){return[Se.name]},ae.prototype.visitColumnTransformRef=function(Se){return[Se.name]},ae.prototype.visitEntity=function(Se){},ae.prototype.visitEntityAggr=function(Se){},ae.prototype.visitHierarchy=function(Se){},ae.prototype.visitHierarchyLevel=function(Se){},ae.prototype.visitHierarchyLevelAggr=function(Se){},ae.prototype.visitMeasure=function(Se){return[Se.name]},ae.prototype.visitSelectRef=function(Se){},ae.prototype.visitPercentile=function(Se){return g(Se.arg,this)},ae.prototype.visitPercentOfGrandTotal=function(Se){return g(Se.baseExpr,this)},ae.prototype.visitPercentOfRoleTotal=function(Se){return g(Se.baseExpr,this)},ae.prototype.visitTransformOutputRoleRef=function(Se){},ae.prototype.visitFilteredEval=function(Se){return g(Se.baseExpr,this)},ae.prototype.visitArithmetic=function(Se){var nt=g(Se.left,this),vt=g(Se.right,this),We=nt&&vt?(0,e.__spreadArray)((0,e.__spreadArray)([],nt,!0),vt,!0):null!=nt?nt:vt;return _.isEmpty(We)?void 0:We},ae.prototype.visitConstant=function(Se){},ae.prototype.visitSparklineData=function(Se){var nt=this;return(0,e.__spreadArray)((0,e.__spreadArray)([],g(Se.measure,this),!0),_.chain(Se.grouping).map(function(vt){return g(vt,nt)}).flatten().value(),!0)},ae.prototype.visitNativeVisualCalc=function(Se){return[Se.name]},ae.instance=new ae,ae}()},446731:function(Xe,H,t){t.d(H,{B:function(){return o}});var e=t(498342),l=t(726501);function o(d){var v=(0,l.Vn)(d,l.$t.instance);return e.fF.assertValue(v,"Failed to convert FieldExprPattern into SQExpr"),v}},411429:function(Xe,H,t){t.d(H,{P:function(){return u},Q:function(){return s}});var e=t(973188),l=t(498342),o=t(114096),d=t(979868),v=t(960514),S=t(162320),h=t(669266),c=t(772308),r=t(446731);function s(n,m){return n.accept(new u(m))}var u=function(n){function m(f){var V=n.call(this)||this;return V.schema=f,V}return(0,e.__extends)(m,n),m.prototype.visitColumnRef=function(f){var V=f.source.accept(i.instance);if(V){if(V.entity){var p=V.entity;return p.name=f.ref,{column:p}}if(V.subquery)return V.subquery.variable?{columnSubquery:{name:f.ref,subqueryRef:V.subquery.variable}}:{columnSubquery:{name:f.ref,subquery:V.subquery.query}};if(V.transform)return{columnTransformRef:{name:f.ref,transformTable:V.transform}}}},m.prototype.visitMeasureRef=function(f){var V=f.source.accept(i.instance);if(V&&V.entity){var p=V.entity;return p.name=f.ref,{measure:p}}},m.prototype.visitEntity=function(f){var V={schema:f.schema,entity:f.entity};return f.variable&&(V.entityVar=f.variable),{entity:V}},m.prototype.visitAggr=function(f){var V=f.arg.accept(this);if(V){if(V.column)return(p=V.column).aggregate=f.func,{columnAggr:p};if(V.columnAggr)return(p=V.columnAggr).aggregate=f.func,{columnAggr:p};if(V.groupingColumn)return(p=V.groupingColumn).aggregate=f.func,{groupingColumnAggr:p};if(V.groupingColumnAggr)return(p=V.groupingColumnAggr).aggregate=f.func,{groupingColumnAggr:p};if(V.hierarchyLevel)return(p=V.hierarchyLevel).aggregate=f.func,{hierarchyLevelAggr:p};if(V.columnHierarchyLevelVariation)return(p=V.columnHierarchyLevelVariation.level).aggregate=f.func,{hierarchyLevelAggr:p};if(V.columnSubquery)return(p=V.columnSubquery).aggregate=f.func,{columnAggrSubquery:p}}var p,C=f.arg.accept(i.instance);if(C&&C.entity)return(p=C.entity).aggregate=f.func,{entityAggr:p}},m.prototype.visitPercentile=function(f){return{percentile:{arg:f.arg.accept(this),k:f.k,exclusive:f.exclusive}}},m.prototype.visitGroupRef=function(f){var V=f.source.accept(i.instance);if(V&&V.entity){var p=V.entity;p.name=f.ref,p.groupedColumns=[];for(var C=0,b=f.groupedExprs;C<b.length;C++){var D=b[C].accept(this);(D.column||D.groupingColumn||D.hierarchyLevel)&&p.groupedColumns.push(D)}return{groupingColumn:p}}},m.prototype.visitHierarchy=function(f){var V=f.arg.accept(i.instance);if(V){if(V.entity)return{hierarchy:{entity:V.entity.entity,name:f.hierarchy,schema:V.entity.schema}};if(V.variation&&V.variation.column){var p=V.variation;if((0,d.jc)(f.arg)){var C=f.arg;if((0,d.Lk)(C.arg)){var b=C.arg,y=this.schema.schema(p.column.schema).findTargetEntityOfVariation(b.entity,p.column.name,p.variationName);if(y)return{columnHierarchyVariation:{source:(0,e.__assign)({},p.column),hierarchy:{schema:p.column.schema,entity:y.name,name:f.hierarchy},variationName:V.variation.variationName}}}}}}},m.prototype.visitHierarchyLevel=function(f){var V=f.arg.accept(a.instance);if(V){var p;if(V.hierarchy&&(p={entity:V.hierarchy.entity,schema:V.hierarchy.schema,name:V.hierarchy.name,level:f.level}),V.variation){if(this.schema){var C=V.variation,b=this.schema.schema(V.variation.column.schema).findTargetEntityOfVariation(p.entity,C.column.name,C.variationName);b&&(p.entity=b.name)}return{columnHierarchyLevelVariation:{source:{entity:V.variation.column.entity,schema:V.variation.column.schema,name:V.variation.column.name},level:p,variationName:V.variation.variationName}}}return{hierarchyLevel:p}}},m.prototype.visitArithmetic=function(f){if(!(0,d.g5)(f.right))return{arithmetic:{left:f.left.accept(this),right:f.right.accept(this),operator:f.operator}};var V={percentOfGrandTotal:{baseExpr:f.left.accept(this)}};if((0,h.fS)(f,(0,r.B)(V)))return V;var p=f.right.scope;return!_.isEmpty(p)&&_.every(p,function(C){return(0,d.yL)(C)})?{percentOfRoleTotal:{baseExpr:f.left.accept(this),roles:_.map(p,function(C){return C.role})}}:void 0},m.prototype.visitSelectRef=function(f){return{selectRef:{expressionName:f.expressionName}}},m.prototype.visitTransformOutputRoleRef=function(f){return{transformOutputRoleRef:{expressionName:f.role}}},m.prototype.visitFilteredEval=function(f){var V=this,p=_.map(f.filters,function(C){var b=(0,c.zz)(o.yl.fromSQFromAndSQFilters(new S.cL,[C]),V.schema);if(b)return l.fF.assert(function(){return 1===b.length},"There are more than one filter pattern in this Semantic Filter"),b[0]});return{filteredEval:{baseExpr:f.expression.accept(this),filters:p}}},m.prototype.visitConstant=function(f){return{constant:{value:f.value,type:f.type}}},m.prototype.visitSparklineData=function(f){var V=this;return{sparklineData:{measure:f.measure.accept(this),grouping:_.map(f.grouping,function(p){return p.accept(V)})}}},m.prototype.visitNativeVisualCalc=function(f){return{nativeVisualCalc:{name:f.name,language:f.language,expression:f.expression}}},m}(v.vq),i=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return(0,e.__extends)(m,n),m.prototype.visitEntity=function(f){var V={schema:f.schema,entity:f.entity};return f.variable&&(V.entityVar=f.variable),{entity:V}},m.prototype.visitPropertyVariationSource=function(f){var V=f.arg;if((0,d.Lk)(V)){var p={schema:V.schema,entity:V.entity,name:f.property};return V.variable&&(p.entityVar=V.variable),{variation:{column:p,variationName:f.name}}}},m.prototype.visitSubqueryRef=function(f){return f.variable?{subquery:{variable:f.variable}}:{subquery:{query:f.query}}},m.prototype.visitTransformTableRef=function(f){return l.fF.assertValue(f,"expr"),l.fF.assertValue(f.source,"source"),{transform:{name:null==f?void 0:f.source}}},m.instance=new m,m}(v.vq),a=function(n){function m(){return null!==n&&n.apply(this,arguments)||this}return(0,e.__extends)(m,n),m.prototype.visitHierarchy=function(f){var p,C,V=f.arg.accept(i.instance);return V.variation?(p={name:f.hierarchy,schema:V.variation.column.schema,entity:V.variation.column.entity},C=V.variation):p={name:f.hierarchy,schema:V.entity.schema,entity:V.entity.entity},{hierarchy:p,variation:C}},m.instance=new m,m}(v.vq)},844722:function(Xe,H,t){t.d(H,{C:function(){return d},_:function(){return v}});var e=t(973188),l=t(498342);function d(h){l.fF.assertValue(h,"expr");var c=new S;return h.accept(c),c.analyze()}function v(h){l.fF.assertValue(h,"expr");var c=new S;return h.accept(c),c.analyze().filterKind}var S=function(h){function c(){var r=h.call(this)||this;return r.entityExprs={},r.filterKind=0,r.isSubquery=!1,r}return(0,e.__extends)(c,h),c.prototype.analyze=function(){return{entitiesByName:this.entityExprs,filterKind:this.isSubquery?3:this.filterKind}},c.prototype.visitMeasureRef=function(r){this.filterKind=1,r.source.accept(this)},c.prototype.visitExists=function(r){this.filterKind=2,r.arg.accept(this)},c.prototype.visitAggr=function(r){this.filterKind=1,r.arg.accept(this)},c.prototype.visitSubqueryRef=function(r){this.isSubquery=!0},c.prototype.visitEntity=function(r){this.entityExprs[r.entity]=!0},c}(t(960514).PA)},772308:function(Xe,H,t){t.d(H,{SO:function(){return i},Vn:function(){return f},kL:function(){return u},zz:function(){return n}});var e=t(979868),l=t(498342),o=t(262852),d=t(512322),v=t(678776),S=t(411429),h=t(446731),c=t(451319),r=t(224498),s=t(410695);function u(w){return void 0!==w.arg}function i(w){var x={condition:f(w,a.instance)};return _.isEmpty(w.target)||(x.target=_.map(w.target,function(R){return(0,h.B)(R)})),x}var a=function(){function w(){}return w.prototype.visitIn=function(x){return(0,d.Sh)(_.map(x.args,function(R){return(0,h.B)(R)}),_.map(x.values,function(R){return _.map(R,function(g){return(0,d.kQ)(g.value,g.type)})}))},w.prototype.visitBetween=function(x){if(x&&x.lower&&x.upper){var R=(0,d.uQ)(x.lower.unit,(0,d.CQ)(x.lower.value)),g=(0,d.uQ)(x.upper.unit,(0,d.CQ)(x.upper.value));return(0,d.vX)((0,h.B)(x.arg),R,g)}},w.prototype.visitRelativeDateRange=function(x){return(0,r.kW)({field:(0,h.B)(x.arg),options:x.options})},w.prototype.visitComposite=function(x){return null},w.prototype.visitTopN=function(x){return null},w.prototype.visitComplex=function(x){l.fF.assertFail("cannot recreate complex patterns as SQExprs")},w.prototype.visitAdvanced=function(x){},w.prototype.visitCompare=function(x){},w.prototype.visitHierarchical=function(x){},w.instance=new w,w}();function n(w,x){if(w){var R=w.where();if(R){var g=new m(x),L=w.from();return R.map(function(M){var T=g.tryMatchPattern(M,L);if(T){var O={condition:T};return _.isEmpty(M.target)||(O.target=_.map(M.target,function(N){return(0,S.Q)(N)})),O}})}}}var m=function(){function w(x){this.schema=x}return w.prototype.tryMatchPattern=function(x,R){var g;if(l.fF.assert(function(){return void 0!==x},"There is no SQFilter for this Semantic filter"),g=this.matchTopN(x,R))return g;var L=x&&x.condition;if(L){if((g=this.tryMatchExpr(L,2))||(g=this.tryMatchComplex(x,R)))return g;l.fF.assert(function(){return null==g},"There is no pattern that currently matches `expr`")}},w.prototype.tryMatchExpr=function(x,R){var g;if((g=this.matchBasicFilter(x))||(g=this.matchRelativeRange(x,o.wj.Date))||(g=this.matchRelativeRange(x,o.wj.Time))||(g=this.matchDateRange(x))||(g=this.matchAdvanced(x))||(g=this.matchCompareOperator(x))||1!==R&&(g=this.tryMatchHierarchical(x))||(g=this.matchComposite(x,R)))return g;l.fF.assert(function(){return null==g},"There is no pattern that currently matches `expr`")},w.prototype.tryMatchComplex=function(x,R){var g=(0,c.J_)(x,R);if(g)return{complex:{args:_.map(g.fieldsBeingFiltered,function(L){return(0,S.Q)(L)})}}},w.prototype.matchBasicFilter=function(x){var R=!1;if((0,e.Ym)(x)&&(R=!0,x=x.arg),(0,e.Hi)(x)&&!x.table&&x.values)return{in:{args:_.map(x.args,function(g){return(0,S.Q)(g)}),values:_.map(x.values,function(g){return _.map(g,function(L,M){return{value:L.value,type:L.type}})}),not:R}}},w.prototype.matchDateRange=function(x){if((0,e.Kh)(x)&&(0,e.dZ)(x.lower)&&(0,e.dZ)(x.upper))return{between:{arg:(0,S.Q)(x.arg),lower:{value:x.lower.arg.value,unit:x.lower.unit},upper:{value:x.upper.arg.value,unit:x.upper.unit}}}},w.prototype.matchTopN=function(x,R){if(x&&R){var g=(0,s.J_)(x,R);if(g)return{topN:{fieldBeingFiltered:(0,S.Q)(g.fieldBeingFiltered),isTop:g.isTop,itemCount:g.itemCount,orderByField:(0,S.Q)(g.orderByField)}}}},w.prototype.matchRelativeRange=function(x,R){var g=(0,r.ym)(x,R);if(g)return{relativeDateRange:{arg:(0,S.Q)(g.field),options:g.options}}},w.prototype.matchCompareOperator=function(x){var R=x,g=!1;if((0,e.Ym)(x)&&(R=x.arg,g=!0),(0,e.$Q)(R)||(0,e.IS)(R)||(0,e.f8)(R)){var L=this.getValuePattern(R.left,R.right);if(L)return{compareOperator:{arg:(0,S.Q)(R.left),filterOperator:this.mapFromSQExprKindToFilterOperator(R,g),condition:L}}}},w.prototype.getValuePattern=function(x,R){if((0,e.dZ)(R)){var g=R.arg;if((0,e.VC)(g))return{dateSpan:{value:g.value,unit:R.unit}}}if((0,e.VC)(R))return{constant:{value:R.value,type:R.type}};if((0,e.FU)(R)){var L=v.m.getDefaultValue(x,this.schema);return{defaultValue:{value:L.value,type:L.type}}}return(0,e.cw)(R)?{anyValue:{}}:void 0},w.prototype.matchAdvanced=function(x){if((0,e.un)(x)||(0,e.Z8)(x)){var R=(0,e.un)(x)?0:1,g=this.matchAdvanced(x.left)||this.matchCompareOperator(x.left);if(g){var L=this.matchAdvanced(x.right)||this.matchCompareOperator(x.right);if(L)return{advancedOperator:{logicalOperator:R,left:g.advancedOperator||g.compareOperator,right:L.advancedOperator||L.compareOperator}}}}},w.prototype.mapFromSQExprKindToFilterOperator=function(x,R){var L=0;switch(x.kind){case 12:L=R?6:5;break;case 14:L=R?8:7;break;case 13:var M=x;0===M.comparison?L=(0,e.VC)(M.right)&&null==M.right.value?R?12:11:(0,e.VC)(M.right)&&""===M.right.value?R?14:13:R?10:9:1===M.comparison?L=3:2===M.comparison?L=4:3===M.comparison?L=1:4===M.comparison&&(L=2);break;default:L=0}return L},w.prototype.tryMatchHierarchical=function(x){var M,T,R=[],g=[],L={hierarchical:{included:R,excluded:g}};if(x instanceof d.uV){if(M=this.tryGetHierarchicalNode(x.left,!1)||this.tryGetHierarchicalNode(x.right,!1),T=this.tryGetHierarchicalNode(x.left,!0)||this.tryGetHierarchicalNode(x.right,!0),!M||!T)return}else if(M=this.tryGetHierarchicalNode(x,!1),T=this.tryGetHierarchicalNode(x,!0),!M&&!T)return;return M&&!this.matchHierarchicalNode(M,!1,R)||T&&!this.matchHierarchicalNode(T,!0,g)?void 0:L},w.prototype.tryGetHierarchicalNode=function(x,R){if(R){if(x instanceof d.v3){if(x.arg instanceof d.Xg||x.arg instanceof d.uV)return x.arg}else if(x instanceof d.uV)return x}else if(x instanceof d.Cc||x instanceof d.Xg)return x},w.prototype.matchHierarchicalNode=function(x,R,g){if(x instanceof d.Xg)return this.matchHierarchicalExpr(x,R,g);var L=this.tryGetHierarchicalNode(x,R);if(!L)return!1;l.fF.assert(function(){return L instanceof d.Cc||L instanceof d.uV},".matchHierarchicalNode does not expect any other expr type");var M=L;return this.matchHierarchicalExpr(M.left,R,g)&&this.matchHierarchicalExpr(M.right,R,g)},w.prototype.matchHierarchicalExpr=function(x,R,g){if(x instanceof d.Xg){var L=this.matchBasicFilter(x);return!!L&&(g.push(L.in),L.in.not=R,!0)}return this.matchHierarchicalNode(x,R,g)},w.prototype.matchComposite=function(x,R){var g=!1;(0,e.Ym)(x)&&(g=!0,x=x.arg);var L=(0,e.Z8)(x);if((!L||0!==R)&&((0,e.Z8)(x)||(0,e.un)(x))){var M=L?1:0,T=this.tryMatchExpr(x.left,M),O=this.tryMatchExpr(x.right,M);if(T&&O)return{composite:{not:g,operator:M,filters:[T,O]}}}},w}();function f(w,x){l.fF.assertValue(w,"filterPattern"),l.fF.assertValue(x,"visitor");var R=w.condition;return R.in?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitIn(w)}(R.in,x):R.between?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitBetween(w)}(R.between,x):R.relativeDateRange?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitRelativeDateRange(w)}(R.relativeDateRange,x):R.compareOperator?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitCompare(w)}(R.compareOperator,x):R.advancedOperator?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitAdvanced(w)}(R.advancedOperator,x):R.composite?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitComposite(w)}(R.composite,x):R.topN?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitTopN(w)}(R.topN,x):R.complex?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitComplex(w)}(R.complex,x):R.hierarchical?function(w,x){return l.fF.assertValue(w,"pattern"),l.fF.assertValue(x,"visitor"),x.visitHierarchical(w)}(R.hierarchical,x):void l.fF.assertFail("Failed to visit filterPattern")}},377039:function(Xe,H,t){t.d(H,{F8:function(){return u},Gl:function(){return r},Qq:function(){return c},Xz:function(){return s}});var e=t(973188),l=t(669266),o=t(365358),d=t(498342),v=t(915925),S=t(512322),h=t(960514);function c(m,f){var V=r(m,f,!1);if(V)return{isNot:_.some(V,function(p){return!p.selected}),scopeIds:[_.map(V,function(p){return p.identity})]}}function r(m,f,V){void 0===V&&(V=!0),d.fF.assertValue(m,"filter"),d.fF.assertValue(f,"fieldSQExprs"),d.fF.assert(function(){return f.length>0},"There should be at least 1 field expression.");var p=m.conditions();d.fF.assert(function(){return 1===p.length},"There should be exactly 1 filter expression.");var C=p[0];if(C){var b=new i(f,V,C);if(C.accept(b))return b.getResult()}}function s(m){d.fF.assertValue(m,"identity");var f=m.expr.accept(new a);if(f)return f.value}function u(m){return d.fF.assertValue(m,"identity"),m.expr.accept(new n)}var i=function(m){function f(V,p,C){var b,y,D=m.call(this)||this;D.supportsMultiLevelFilters=p,D.filter=C,D.isNot=!1,D.isAnd=!1,D.keyIndex=0,D.valueIndex=0,D.fieldExprs=[],D.groups=[],D.supportedGroups={};var P=0,F=0;D.values=[];for(var E=0,w=V;E<w.length;E++){var x=w[E];if(d.fF.assertNonEmpty(x,"FilterScopeIdsCollectorVisitor identities should not be empty."),!_.isEmpty(x)){var R=_.map(x,function(g){return(0,S.p7)(g)});D.supportedGroups[F+=x.length]=!0,(b=D.fieldExprs).push.apply(b,R||[]),(y=D.groups).push.apply(y,_.map(x,function(g){return P})),P++}}return D}return(0,e.__extends)(f,m),f.prototype.getResult=function(){return this.addScopeId(),this.toFilterNode(this.values,{index:0})},f.prototype.toFilterNode=function(V,p){for(var C=[],b=0,y=V;b<y.length;b++){var D=y[b];C.push({identity:D.identity,selected:D.selected,checked:D.checked,children:_.isEmpty(D.children)?void 0:this.toFilterNode(D.children,p),index:D.checked?p.index++:void 0})}return C},f.getScopeIdentity=function(V,p){d.fF.assert(function(){return p.length>0},"valueExprs has at least one valueExpr"),d.fF.assert(function(){return p.length===V.length},"fieldExpr and valueExpr count should match");for(var C,b=0,y=V.length;b<y;b++){var D=(0,S.Dg)(V[b],p[b]);C=C?(0,S.xD)(C,D):D}return(0,v.TZ)(C)},f.prototype.visitOr=function(V){this.resetState();var p=V.left.accept(this);return this.resetState(),p&&V.right.accept(this)},f.prototype.visitAnd=function(V){if(this.supportsMultiLevelFilters){var p=!1;if((this.isNot&&(V.left instanceof S.uV||V.left instanceof S.Xg)&&(V.right instanceof S.Xg||V.right instanceof S.uV)||!this.isNot&&(V.left instanceof S.Cc||V.left instanceof S.Xg||V.left instanceof S.uV||V.left instanceof S.v3)&&(V.right instanceof S.Cc||V.right instanceof S.Xg||V.right instanceof S.uV||V.right instanceof S.v3)||(V.left instanceof S.wU||V.left instanceof S.uV)&&(V.right instanceof S.wU||V.right instanceof S.uV))&&(p=!0),p){var C=!1===this.isAnd;C&&this.resetState(),this.isAnd=!0;var b=V.left.accept(this)&&V.right.accept(this);return C&&(this.isAnd=!1),b}}return this.unsupportedSQExpr()},f.prototype.visitNot=function(V){this.isNot=!0;var p=V.arg.accept(this);return this.isNot=!1,p},f.prototype.visitConstant=function(V){return 0===this.keyIndex&&0===V.type.primitiveType?this.unsupportedSQExpr():(this.addValue(V),!0)},f.prototype.visitCompare=function(V){return this.keyIndex>0&&!this.supportsMultiLevelFilters||0!==V.comparison?this.unsupportedSQExpr():V.right instanceof S.iE||V.left.accept(this)&&V.right.accept(this)},f.prototype.visitIn=function(V){var p=this;if(!V.values)return!1;this.resetState();for(var C,b=0,y=V.args;b<y.length;b++)if(!(C=y[b].accept(this)))return this.unsupportedSQExpr();if(!this.supportedGroups[this.keyIndex])return this.unsupportedSQExpr();for(var F=function(M){d.fF.assert(function(){return M.length===p.keyIndex},"keys count and values count should match");for(var T=0,O=M;T<O.length;T++)if(!(C=O[T].accept(E)))return{value:E.unsupportedSQExpr()}},E=this,w=0,x=V.values;w<x.length;w++){var g=F(x[w]);if("object"==typeof g)return g.value}return C},f.prototype.visitColumnRef=function(V){var p=(0,S.p7)(V),C=(0,l.fS)(this.fieldExprs[this.keyIndex],p);return this.keyIndex++,C},f.prototype.visitDefaultValue=function(V){return this.addValue(V),!0},f.prototype.visitAnyValue=function(V){return!0},f.prototype.visitDefault=function(V){return this.unsupportedSQExpr()},f.prototype.unsupportedSQExpr=function(){return!1},f.prototype.addValue=function(V){var p=this.valueIndex%this.keyIndex,C=this.groups[p];0===p?(this.addScopeId(),this.parent=void 0,this.currentNode=this.createNode(V)):this.currentNode.groupIndex===C?(this.currentNode.values.push(V),this.currentNode.columns.push(this.fieldExprs[p])):(this.currentNode.checked=!1,this.parent=this.addScopeId(),this.currentNode=this.createNode(V)),this.valueIndex++},f.prototype.addScopeId=function(){if(this.currentNode){var V=this.currentNode,p=this.parent&&this.parent.children||this.values,C=_.find(p,function(b){return(0,o.NF)(b.values,V.values,l.fS)});return C?V.checked&&!C.checked&&(C.selected=V.selected,C.checked=V.checked):(V.identity=f.getScopeIdentity(V.columns,V.values),p.push(V)),C||V}},f.prototype.createNode=function(V){var p=this.valueIndex%this.keyIndex;return{children:[],selected:!this.isNot,checked:!0,values:[V],columns:[this.fieldExprs[p]],groupIndex:this.groups[p],identity:void 0}},f.prototype.resetState=function(){this.keyIndex=0,this.valueIndex=0},f}(h.vq),a=function(m){function f(){return null!==m&&m.apply(this,arguments)||this}return(0,e.__extends)(f,m),f.prototype.visitAnd=function(V){return V.left.accept(this)||V.right.accept(this)},f.prototype.visitCompare=function(V){if(0===V.comparison){if(V.right instanceof S.jz)return V.right;if(V.left instanceof S.jz)return V.left}},f}(h.vq),n=function(m){function f(){return null!==m&&m.apply(this,arguments)||this}return(0,e.__extends)(f,m),f.prototype.visitAnd=function(V){var p=[];return(p=p.concat(V.left.accept(this))).concat(V.right.accept(this))},f.prototype.visitCompare=function(V){if(0===V.comparison){var p=[];return V.right instanceof S.jz?p.push({expr:V.left,value:V.right.value}):V.left instanceof S.jz&&p.push({expr:V.right,value:V.left.value}),p}},f}(h.vq)},451319:function(Xe,H,t){t.d(H,{J_:function(){return c}});var e=t(973188),l=t(669266),o=t(498342),d=t(114096),v=t(960514),S=t(411429),h=t(965313);function c(u,i){if(u){if(u instanceof d.yl){var a=u.conditions();return _.isEmpty(a)||a.length>1?void 0:r(u.from(),a[0])}return r(i,u.condition)}}function r(u,i){var a=new s;i.accept(a);var n={fieldsBeingFiltered:_.uniqWith(a.fieldsBeingFiltered,l.fS),isSubquery:!1};if(a.subqueryName){n.isSubquery=!0;var m=u.sources(),V=(0,h.K)(m&&m[a.subqueryName]);V&&(n.orderByField=V.orderByField,n.itemCount=V.itemCount,n.isTop=V.isTop)}return n}var s=function(u){function i(){var a=u.call(this)||this;return a.fieldsBeingFiltered=[],a}return(0,e.__extends)(i,u),i.prototype.visitColumnRef=function(a){this.fieldsBeingFiltered.push(a)},i.prototype.visitHierarchyLevel=function(a){this.fieldsBeingFiltered.push(a)},i.prototype.visitGroupRef=function(a){this.fieldsBeingFiltered.push(a)},i.prototype.visitSubqueryRef=function(a){a.variable?this.subqueryName=a.variable:o.fF.assertFail("SubqueryRef with a inlined subquery not expected here")},i.prototype.visitAggr=function(a){(0,S.Q)(a)&&this.fieldsBeingFiltered.push(a)},i.prototype.visitPropertyVariationSource=function(a){this.fieldsBeingFiltered.push(a)},i.prototype.visitMeasureRef=function(a){this.fieldsBeingFiltered.push(a)},i}(v.PA)},798843:function(Xe,H,t){t.d(H,{VM:function(){return S},pi:function(){return d}});var e=t(979868),l=t(498342),o=t(957571);function d(u){if(u){var i=u.conditions();if(i&&1===i.length)return function(u){var i=new s;return i.tryParseCondition(u)?{field:i.field,options:i.options}:null}(i[0])}}function S(u){return r(u,1)}function r(u,i){var a={};if(null!=u.min){l.fF.assert(function(){return(0,o.M4)(u.min)},"Implementing DateWithEpochValue is needed for serialization");var n=(0,o.Fh)(u.min);n.setHours(0,0,0,0);var m=new Date(n.epochTimeStamp);m.setUTCHours(0,0,0,0),n.epochTimeStamp=m.getTime(),a.min=n}if(null!=u.max){l.fF.assert(function(){return(0,o.M4)(u.max)},"Implementing DateWithEpochValue is needed for serialization");var f=new Date(u.max.getFullYear(),u.max.getMonth(),u.max.getDate()+i);f.epochTimeStamp=Date.UTC(f.getFullYear(),f.getMonth(),f.getDate()),a.max=f}return a}var s=function(){function u(){}return u.prototype.tryParseCondition=function(i){return(0,e.un)(i)?this.tryParseAndCondition(i):!!(0,e.$Q)(i)&&this.tryParseCompareCondition(i)},u.prototype.tryParseAndCondition=function(i){var a=i;return!(!(0,e.$Q)(a.left)||!(0,e.$Q)(a.right))&&this.tryParseCompareCondition(a.left)&&this.tryParseCompareCondition(a.right)},u.prototype.tryParseCompareCondition=function(i){var a=i;return!(!(0,e.t3)(a.left)&&!(0,e.ez)(a.left))&&(this.field=a.left,this.options=this.options||{},this.tryParseNumericCompareCondition(a)||this.tryParseDateCompareCondition(a))},u.prototype.tryParseNumericCompareCondition=function(i){if(!(0,e.S9)(i.right))return!1;switch(i.comparison){case 0:this.options.min=i.right.value,this.options.max=i.right.value;break;case 1:case 2:this.options.min=i.right.value;break;case 3:case 4:this.options.max=i.right.value;break;default:return l.fF.assertNever(i.comparison),!1}return!0},u.prototype.tryParseDateCompareCondition=function(i){return(0,e.dZ)(i.right)&&i.right.arg&&(0,e.fU)(i.right.arg)?this.tryParseDateConstantCondition(i.comparison,i.right.arg):!!(0,e.fU)(i.right)&&this.tryParseDateConstantCondition(i.comparison,i.right)},u.prototype.parseDateValue=function(i){return(0,o.M4)(i)?i:(0,o.Fg)(new Date(i))},u.prototype.tryParseDateConstantCondition=function(i,a){switch(i){case 0:this.options.min=this.parseDateValue(a.value),this.options.max=this.parseDateValue(a.value);break;case 1:case 2:this.options.min=this.parseDateValue(a.value);break;case 3:this.options.max=this.parseDateValue(a.value),this.options=function(u){return r(u,-1)}(this.options);break;case 4:this.options.max=this.parseDateValue(a.value);break;default:return l.fF.assertNever(i),!1}return 3!==i&&(this.options=function(u){return r(u,0)}(this.options)),!0},u}()},224498:function(Xe,H,t){t.d(H,{UX:function(){return i},hN:function(){return f},kW:function(){return r},nh:function(){return c},pi:function(){return n},ym:function(){return m}});var e=t(979868),l=t(669266),o=t(498342),d=t(262852),v=t(114096),S=t(512322),h=t(939701);function c(b){var y=r(b);return v.yl.fromSQExpr(y)}function r(b,y){void 0===y&&(y=!1);var D=b.field,P=b.options,F=null,E=(0,S.zO)();if(b.options.anchorDate&&!(0,d.Re)(P.relativeUnit)){var w=b.options.anchorDate;w.epochTimeStamp=Date.UTC(w.getFullYear(),w.getMonth(),w.getDate(),w.getHours(),w.getMinutes(),w.getSeconds(),w.getMilliseconds()),E=(0,S.CQ)(b.options.anchorDate)}var x=function(b){switch(b){case d.hU.CalendarYear:case d.hU.Year:return 3;case d.hU.CalendarMonth:case d.hU.Month:return 2;case d.hU.CalendarWeek:case d.hU.Week:return 1;case d.hU.Day:return 0;case d.hU.Hour:return 7;case d.hU.Minute:return 6;case d.hU.Second:return 5;default:return void o.fF.assertFail("Unsupported RelativeDateUnit")}}(P.relativeUnit),R=i(P.relativeUnit,y);switch(P.relativeQualifier){case d.KO.Current:var g=(0,S.uQ)(x,E);F=(0,S.qu)(0,D,g);break;case d.KO.Last:if(R)F=s(-P.duration,-1,x,E,D);else if((0,d.Re)(P.relativeUnit)){var L=E,M=(0,S.sO)(x,-P.duration,E);F=(0,S.vX)(D,M,L)}else{var T=P.includeToday?E:(0,S.sO)(0,-1,E);L=(0,S.uQ)(0,T),M=(0,S.uQ)(0,(0,S.sO)(x,-P.duration,(0,S.sO)(0,1,T))),F=(0,S.vX)(D,M,L)}break;case d.KO.Next:if(R)F=s(1,P.duration,x,E,D);else if((0,d.Re)(P.relativeUnit))M=E,L=(0,S.sO)(x,P.duration,E),F=(0,S.vX)(D,M,L);else{var O=P.includeToday?E:(0,S.sO)(0,1,E);M=(0,S.uQ)(0,O),L=(0,S.uQ)(0,(0,S.sO)(x,P.duration,(0,S.sO)(0,-1,O))),F=(0,S.vX)(D,M,L)}}return F}function s(b,y,D,P,F){var E=(0,S.uQ)(D,(0,S.sO)(D,b,P)),w=(0,S.uQ)(D,(0,S.sO)(D,y,P));return(0,S.vX)(F,E,w)}function i(b,y){switch(void 0===y&&(y=!1),b){case d.hU.Second:case d.hU.Minute:case d.hU.Hour:case d.hU.Year:case d.hU.Month:case d.hU.Week:return!1;case d.hU.Day:return y;case d.hU.CalendarYear:case d.hU.CalendarMonth:case d.hU.CalendarWeek:return!0;default:return void o.fF.assertFail("Unsupported RelativeDateUnit")}}function a(b,y){switch(b){case 0:return d.hU.Day;case 1:return y?d.hU.CalendarWeek:d.hU.Week;case 2:return y?d.hU.CalendarMonth:d.hU.Month;case 3:return y?d.hU.CalendarYear:d.hU.Year;case 7:return d.hU.Hour;case 6:return d.hU.Minute;case 5:return d.hU.Second;default:return}}function n(b,y){if(b){var D=b.conditions();if(D&&1===D.length)return m(D[0],y)}}function m(b,y){var D=new C(y);if(D.tryExtractParametersFrom(b))return{field:D.field,options:D.options}}function f(b){return!!b&&(!(!b.where()||!function(b){for(var y=new C(d.wj.Time),D=0,P=b;D<P.length;D++){var F=P[D];if(F.condition&&y.tryExtractParametersFrom(F.condition))return!0}return!1}(b.where()))||function(b){var y=b.sources();if(!y)return!1;for(var D=0,P=b.keys();D<P.length;D++){var E=y[P[D]];if((0,h.y)(E)&&E.subquery&&f(E.subquery))return!0}return!1}(b.from()))}var C=function(){function b(y){this.relativeFilterType=y}return b.prototype.tryExtractParametersFrom=function(y){return this.tryExtractCurrent(y)||this.tryExtractLastOrNext(y)},b.prototype.tryExtractCurrent=function(y){if((0,e.$Q)(y)){var D=y;if(((0,e.t3)(D.left)||(0,e.ez)(D.left))&&(this.field=D.left,(0,e.dZ)(D.right))){var P=D.right,F=d.t0.convertTimeUnitToRelativeFilterType(P.unit);if(this.relativeFilterType!==F)return!1;if(void 0!==a(P.unit,!1)&&((0,e.jr)(P.arg)||(0,e.fU)(P.arg))&&(this.options={duration:1,includeToday:!0,includeTodayFromDefault:!0,relativeQualifier:d.KO.Current,relativeUnit:a(P.unit,!1)},(0,e.fU)(P.arg)&&(this.options.anchorDate=P.arg.value),this.validateOptions(y)))return!0}}return!1},b.prototype.tryExtractLastOrNext=function(y){if((0,e.Kh)(y)){var D=y;if((0,e.t3)(D.arg)||(0,e.ez)(D.arg))if(this.field=D.arg,(0,e.dZ)(D.upper)&&(0,e.dZ)(D.lower)){if(this.options=this.getOptionsFromDateSpan(D.lower,d.KO.Last),this.validateOptions(y)||(this.options=this.getOptionsFromDateSpan(D.upper,d.KO.Next),this.validateOptions(y)))return!0}else if((0,e.Ok)(D.upper)||(0,e.Ok)(D.lower)){var P=D.lower,F=D.upper;if(this.options=this.getOptionsFromDateAdd(P,P.unit,d.KO.Last),this.validateOptions(y)||(this.options=this.getOptionsFromDateAdd(F,F.unit,d.KO.Next),this.validateOptions(y)))return!0}}return!1},b.prototype.getOptionsFromDateSpan=function(y,D){if((0,e.dZ)(y))return this.getOptionsFromDateAdd(y.arg,y.unit,D)},b.prototype.getOptionsFromDateAdd=function(y,D,P){if((0,e.Ok)(y)){var F=y,E=d.t0.convertTimeUnitToRelativeFilterType(F.unit);if(this.relativeFilterType!==E)return;var w=D===F.unit&&0!==D,x=!!w||this.getIncludeToday(F.arg),R=this.getAnchorDate(F);switch(P){case d.KO.Last:if(F.amount<0)return{duration:-F.amount,includeToday:x,relativeQualifier:P,relativeUnit:a(F.unit,w),anchorDate:R};break;case d.KO.Next:if(F.amount>0)return{duration:F.amount,includeToday:x,relativeQualifier:P,relativeUnit:a(F.unit,w),anchorDate:R}}}},b.prototype.getAnchorDate=function(y){for(var D=y;(0,e.Ok)(D);)D=D.arg;if((0,e.fU)(D))return D.value},b.prototype.getIncludeToday=function(y){if((0,e.Ok)(y)){var D=y;return(0,e.jr)(D.arg)||(0,e.fU)(D.arg)}return!1},b.prototype.validateOptions=function(y){if(!this.field||!this.options)return!1;var D={field:this.field,options:this.options};return(0,l.fS)(y,r(D))||this.options.relativeUnit===d.hU.Day&&!this.options.includeToday&&(0,l.fS)(y,r(D,!0))},b}()},930550:function(Xe,H,t){t.d(H,{Cj:function(){return n},Dh:function(){return s},FD:function(){return u},J2:function(){return i},KX:function(){return r},RR:function(){return c},aL:function(){return m},lZ:function(){return a}});var e=t(973188),l=t(979868),o=t(669266),d=t(365358),v=t(498342),S=t(512322),h=t(960514);function c(C){var b=new m;return C.accept(b),b.malformed?null:(0,d.rm)(b.keys)}function r(C){var b=new m;return C.accept(b),b.malformed?null:(0,d.rm)(b.values)}function s(C){var b=new m;return C.accept(b),b.malformed?null:(0,d.rm)(b.pairs)}function u(C){if((0,l.Hi)(C))return C;var b=new m;if(C.accept(b),!b.malformed){var y=(0,d.rm)(b.keys),D=(0,d.rm)(b.values);if(y&&D)return(0,S.Sh)(y,[D])}}function i(C,b){v.fF.assertValue(C,"expr"),v.fF.assertNonEmpty(b,"subsetFieldExprs");var y=new f(b);return C.accept(y),y.getResult()}function a(C,b){if(!b||!C)return[];var y=new p(C);return b.accept(y),y.getValues()}function n(C){var b=new V;return C.accept(b),!!b.containsSelectRef}var m=function(C){function b(){var y=null!==C&&C.apply(this,arguments)||this;return y.keys=[],y.values=[],y.pairs=[],y}return(0,e.__extends)(b,C),b.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},b.prototype.visitCompare=function(y){0===y.comparison?(v.fF.assert(function(){return y.left instanceof S.Il&&y.right instanceof S.jz},"invalid compare expr operands"),this.pairs.push(y),y.left.accept(this),y.right.accept(this)):this.visitDefault(y)},b.prototype.visitIn=function(y){for(var D=0,P=y.args;D<P.length;D++)P[D].accept(this);for(var E=0,w=y.values;E<w.length;E++)for(var R=0,g=w[E];R<g.length;R++)g[R].accept(this)},b.prototype.visitSelectRef=function(y){this.keys.push(y)},b.prototype.visitColumnRef=function(y){this.keys.push(y)},b.prototype.visitGroupRef=function(y){this.keys.push(y)},b.prototype.visitHierarchyLevel=function(y){this.keys.push(y)},b.prototype.visitConstant=function(y){this.values.push(y)},b.prototype.visitArithmetic=function(y){this.keys.push(y)},b.prototype.visitDefault=function(y){this.malformed=!0},b}(h.vq),f=function(C){function b(y){var D=C.call(this)||this;return v.fF.assertNonEmpty(y,"identityFieldExprs"),D.identityFieldExprs=y,D.identityComparisonExprs=[],D.identityComparisonExprCount=0,D}return(0,e.__extends)(b,C),b.prototype.getResult=function(){var y=this;if(v.fF.assert(function(){return y.identityComparisonExprCount===_.filter(y.identityComparisonExprs,function(w){return!!w}).length},"invariant: this.identityComparisonExprCount should equal to the number of defined elements in this.identityComparisonExprs array"),!this.malformed&&this.identityComparisonExprCount===this.identityFieldExprs.length){for(var D,P=0,F=this.identityComparisonExprs;P<F.length;P++){var E=F[P];D=D?(0,S.xD)(D,E):E}return D}},b.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},b.prototype.visitCompare=function(y){if(0===y.comparison){var D=_.findIndex(this.identityFieldExprs,function(P){return(0,o.fS)(y.left,P)});D>=0&&!this.identityComparisonExprs[D]&&(this.identityComparisonExprs[D]=y,this.identityComparisonExprCount++)}else this.visitDefault(y)},b.prototype.visitDefault=function(y){this.malformed=!0},b}(h.vq),V=function(C){function b(){return null!==C&&C.apply(this,arguments)||this}return(0,e.__extends)(b,C),b.prototype.visitSelectRef=function(y){this.containsSelectRef=!0},b}(h.PA),p=function(C){function b(y){var D=C.call(this)||this;return D.targetExpr=y,D.orderedValues=[],D}return(0,e.__extends)(b,C),b.prototype.getValues=function(){return _.uniq(this.orderedValues)},b.prototype.visitAnd=function(y){y.left.accept(this),y.right.accept(this)},b.prototype.visitOr=function(y){y.left.accept(this),y.right.accept(this)},b.prototype.visitCompare=function(y){0===y.comparison&&(y.right instanceof S.Wh&&(0,o.fS)(y.right,this.targetExpr)&&y.left instanceof S.jz&&this.orderedValues.push(y.left.value),y.left instanceof S.Wh&&(0,o.fS)(y.left,this.targetExpr)&&y.right instanceof S.jz&&this.orderedValues.push(y.right.value))},b.prototype.visitIn=function(y){var D=-1;if(!y.table){for(var P=0;P<y.args.length;P++)if((0,o.fS)(y.args[P],this.targetExpr)){D=P;break}if(-1!==D)for(var F=0,E=y.values;F<E.length;F++){var x=E[F][D];x instanceof S.jz&&this.orderedValues.push(x.value)}}},b}(h.vq)},965313:function(Xe,H,t){t.d(H,{K:function(){return S}});var e=t(973188),l=t(939701),o=t(498342),d=t(960514),v=t(411429);function S(c){if(c&&(0,l.y)(c)){var r=c.subquery.orderBy();if(!r||1!==r.length)return;var s=r[0],u=new h;return u.visitOrderBy(s.expr)?{orderByField:u.orderByField,isTop:2===s.direction,itemCount:c.subquery.top()}:void 0}}var h=function(c){function r(){var s=c.call(this)||this;return s.orderByField=null,s}return(0,e.__extends)(r,c),r.prototype.visitOrderBy=function(s){return s.accept(this,0)},r.prototype.visitAggr=function(s,u){return 0===u&&(o.fF.assertValue((0,v.Q)(s),"expected field pattern"),this.orderByField=s,!0)},r.prototype.visitMeasureRef=function(s,u){return 0===u&&(this.orderByField=s,!0)},r}(d.Ml)},410695:function(Xe,H,t){t.d(H,{J_:function(){return r},VK:function(){return s}});var e=t(973188),l=t(498342),o=t(114096),d=t(512322),v=t(960514),S=t(162320),h=t(939701),c=t(965313);function r(n,m){if(n){if(n instanceof o.yl){var f=n.conditions();return l.fF.assertValue(f,"conditions"),l.fF.assert(function(){return 1===f.length},"should be exactly one filter condition for a TopN filter"),u(n.from(),f[0])}return u(m,n.condition)}}function s(n){var m=function(n){var m=new S.cL,f=o.cX.rewrite(n.fieldBeingFiltered,null,m),V=o.cX.rewrite(n.orderByField,null,m);return o.vQ.createWith({from:m,orderBy:[{expr:V,direction:n.isTop?2:1}],select:[{name:"field",expr:f}],top:n.itemCount})}(n),f=new S.vd(m),V=new S.cL,p=V.ensureSource(f,"subquery"),C=(0,d.dY)([n.fieldBeingFiltered],(0,d.v5)(p.name));return o.yl.fromSQFromAndSQExpr(V,C)}function u(n,m){l.fF.assertValue(n,"from"),l.fF.assertValue(m,"condition");var f=new a;if(f.visitCondition(m)){var V=n.sources(),p=V&&V[f.subqueryName],C=(0,c.K)(p);if(C&&(0,h.y)(p))return{fieldBeingFiltered:f.fieldBeingFiltered,isTop:C.isTop,itemCount:p.subquery.top(),orderByField:C.orderByField}}}var a=function(n){function m(){var f=n.call(this)||this;return f.fieldBeingFiltered=null,f.subqueryName=null,f}return(0,e.__extends)(m,n),m.prototype.visitCondition=function(f){return f.accept(this,0)},m.prototype.visitIn=function(f,V){return!!(0===V&&f.args&&1===f.args.length&&f.args[0].accept(this,1)&&f.table&&f.table.accept(this,2))},m.prototype.visitColumnRef=function(f,V){return 1===V&&(this.fieldBeingFiltered=f,!0)},m.prototype.visitHierarchyLevel=function(f,V){return 1===V&&(this.fieldBeingFiltered=f,!0)},m.prototype.visitGroupRef=function(f,V){return 1===V&&(this.fieldBeingFiltered=f,!0)},m.prototype.visitSubqueryRef=function(f,V){return 2===V&&(f.variable?this.subqueryName=f.variable:l.fF.assertFail("SubqueryRef with a direct subquery not expected here"),!0)},m}(v.Ml)},236211:function(Xe,H,t){t.d(H,{k:function(){return r}});var e=t(726501),l=t(411429),o=t(446731),d=t(973188),v=t(498342),S=t(512322),c=function(u){function i(a){var n=this;return v.fF.assertValue(a,"func"),(n=u.call(this)||this).func=a,n}return(0,d.__extends)(i,u),i.prototype.visitAggr=function(a){return a.func===this.func?a:new S.v0(a.arg,this.func)},i.prototype.visitColumnRef=function(a){return new S.v0(a,this.func)},i.prototype.visitGroupRef=function(a){return new S.v0(a,this.func)},i.prototype.visitHierarchyLevel=function(a){return new S.v0(a,this.func)},i.rewrite=function(a,n){v.fF.assertValue(a,"expr"),v.fF.assertValue(n,"func");var m=new i(n);return a.accept(m)},i}(t(91157).p);function r(u,i){return s.rewrite(u,i)}var s=function(){function u(i,a){this.sqExpr=i,this.aggregate=a}return u.rewrite=function(i,a){return(0,e.Vn)((0,l.Q)(i),new u(i,a))},u.prototype.visitPercentOfGrandTotal=function(i){return i.baseExpr=(0,l.Q)(c.rewrite((0,o.B)(i.baseExpr),this.aggregate)),(0,o.B)({percentOfGrandTotal:i})},u.prototype.visitPercentOfRoleTotal=function(i){return i.baseExpr=(0,l.Q)(c.rewrite((0,o.B)(i.baseExpr),this.aggregate)),(0,o.B)({percentOfRoleTotal:i})},u.prototype.visitFilteredEval=function(i){return i.baseExpr=(0,l.Q)(c.rewrite((0,o.B)(i.baseExpr),this.aggregate)),(0,o.B)({filteredEval:i})},u.prototype.visitColumn=function(i){return this.defaultRewrite()},u.prototype.visitColumnAggr=function(i){return this.defaultRewrite()},u.prototype.visitGroupingColumn=function(i){return this.defaultRewrite()},u.prototype.visitGroupingColumnAggr=function(i){return this.defaultRewrite()},u.prototype.visitColumnHierarchyVariation=function(i){return this.defaultRewrite()},u.prototype.visitColumnHierarchyLevelVariation=function(i){return this.defaultRewrite()},u.prototype.visitColumnSubquery=function(i){return this.defaultRewrite()},u.prototype.visitColumnAggrSubquery=function(i){return this.defaultRewrite()},u.prototype.visitColumnTransformRef=function(i){return this.defaultRewrite()},u.prototype.visitSelectRef=function(i){return this.defaultRewrite()},u.prototype.visitEntity=function(i){return this.defaultRewrite()},u.prototype.visitEntityAggr=function(i){return this.defaultRewrite()},u.prototype.visitHierarchy=function(i){return this.defaultRewrite()},u.prototype.visitHierarchyLevel=function(i){return this.defaultRewrite()},u.prototype.visitHierarchyLevelAggr=function(i){return this.defaultRewrite()},u.prototype.visitMeasure=function(i){return this.defaultRewrite()},u.prototype.visitPercentile=function(i){return this.defaultRewrite()},u.prototype.visitTransformOutputRoleRef=function(i){return this.defaultRewrite()},u.prototype.visitArithmetic=function(i){return this.defaultRewrite()},u.prototype.visitConstant=function(i){return this.defaultRewrite()},u.prototype.visitSparklineData=function(i){return this.defaultRewrite()},u.prototype.visitNativeVisualCalc=function(i){return this.defaultRewrite()},u.prototype.defaultRewrite=function(){return c.rewrite(this.sqExpr,this.aggregate)},u}()},817389:function(Xe,H,t){t.d(H,{n:function(){return h}});var e=t(973188),l=t(726501),o=t(411429),d=t(446731),v=t(91157),S=t(498342);function h(s,u){return r.rewrite(s,u)}var c=function(s){function u(){return null!==s&&s.apply(this,arguments)||this}return(0,e.__extends)(u,s),u.prototype.visitAggr=function(i){return i.arg},u.rewrite=function(i){return S.fF.assertValue(i,"expr"),i.accept(u.instance)},u.instance=new u,u}(v.p),r=function(){function s(u){this.sqExpr=u}return s.rewrite=function(u,i){return(0,l.Vn)((0,o.Q)(u,i),new s(u))},s.prototype.visitPercentOfGrandTotal=function(u){return s.rewrite((0,d.B)(u.baseExpr))},s.prototype.visitPercentOfRoleTotal=function(u){return s.rewrite((0,d.B)(u.baseExpr))},s.prototype.visitFilteredEval=function(u){return s.rewrite((0,d.B)(u.baseExpr))},s.prototype.visitColumn=function(u){return this.defaultRewrite()},s.prototype.visitColumnAggr=function(u){return this.defaultRewrite()},s.prototype.visitGroupingColumn=function(u){return this.defaultRewrite()},s.prototype.visitGroupingColumnAggr=function(u){return this.defaultRewrite()},s.prototype.visitColumnHierarchyVariation=function(u){return this.defaultRewrite()},s.prototype.visitColumnHierarchyLevelVariation=function(u){return this.defaultRewrite()},s.prototype.visitColumnSubquery=function(u){return this.defaultRewrite()},s.prototype.visitColumnAggrSubquery=function(u){return this.defaultRewrite()},s.prototype.visitColumnTransformRef=function(u){return this.defaultRewrite()},s.prototype.visitSelectRef=function(u){return this.defaultRewrite()},s.prototype.visitEntity=function(u){return this.defaultRewrite()},s.prototype.visitEntityAggr=function(u){return this.defaultRewrite()},s.prototype.visitHierarchy=function(u){return this.defaultRewrite()},s.prototype.visitHierarchyLevel=function(u){return this.defaultRewrite()},s.prototype.visitHierarchyLevelAggr=function(u){return this.defaultRewrite()},s.prototype.visitMeasure=function(u){return this.defaultRewrite()},s.prototype.visitPercentile=function(u){return this.defaultRewrite()},s.prototype.visitTransformOutputRoleRef=function(u){return this.defaultRewrite()},s.prototype.visitArithmetic=function(u){return this.defaultRewrite()},s.prototype.visitConstant=function(u){return this.defaultRewrite()},s.prototype.visitSparklineData=function(u){return this.defaultRewrite()},s.prototype.visitNativeVisualCalc=function(u){return this.defaultRewrite()},s.prototype.defaultRewrite=function(){return c.rewrite(this.sqExpr)},s}()},983369:function(Xe,H,t){t.d(H,{F:function(){return S}});var e=t(973188),l=t(603662),o=t(512322),d=t(162320),v=t(365358),S=function(h){function c(r){var s=h.call(this)||this;return s.query=r,s.hasRewrites=!1,s}return(0,e.__extends)(c,h),c.prototype.visitSubqueryRef=function(r){if(!r.query)return r;var u=new c(r.query).rewrite();this.mergedFrom||(this.mergedFrom=this.query.from());var i=new d.vd(u),a=this.mergedFrom.ensureSource(i);return this.hasRewrites=!0,(0,o.v5)(a.name)},Object.defineProperty(c.prototype,"didRewrite",{get:function(){return this.hasRewrites},enumerable:!1,configurable:!0}),c.prototype.rewrite=function(){var r=this,s=this.query.select(),u=(0,v.z8)((0,v.UU)(s,function(i){var a=i.expr.accept(r);return a===i.expr?i:{name:i.name,expr:a}}));return u===s?this.query:this.query.createModified({from:this.mergedFrom,select:u})},c}(l.b)},491697:function(Xe,H,t){t.d(H,{CI:function(){return u},O7:function(){return s},Wv:function(){return r},_L:function(){return h},fL:function(){return c},tx:function(){return S}});var e=t(498342),l=t(957571),o=/'/g,d=/\.000$/;function S(i){return e.fF.assertValue(i,"value"),i+"D"}function h(i){return e.fF.assertValue(i,"value"),i+"L"}function c(i){return e.fF.assertValue(i,"value"),"'"+i.replace(o,"''")+"'"}function r(){return"null"}function s(i){return i?"true":"false"}function u(i,a){if(null===i)return"null";switch(a.primitiveType){case 4:return e.fF.assert(function(){return _.isString(i)||_.isNumber(i)},"Expected either a string or number value to encode for type ".concat(a)),i+"L";case 2:return e.fF.assert(function(){return _.isString(i)||_.isNumber(i)},"Expected either a string or number value to encode for type ".concat(a)),i+"M";case 3:return e.fF.assert(function(){return _.isString(i)||_.isNumber(i)},"Expected either a string or number value to encode for type ".concat(a)),i+"D";case 7:case 6:var m=void 0;return i instanceof Date?(m=(0,l.M4)(i)?new Date(i.epochTimeStamp).toISOString():new Date(i.getTime()-6e4*i.getTimezoneOffset()).toISOString(),_.endsWith(m,"Z")&&(m=m.substr(0,m.length-1)),m=m.replace(d,"")):(e.fF.assert(function(){return _.isString(i)},"Expected a string or a Date value for type ".concat(a)),m=i),"datetime'".concat(m,"'");case 1:return e.fF.assert(function(){return _.isString(i)},"Expected a string value to encode for type ".concat(a)),c(i);case 5:return e.fF.assert(function(){return _.isBoolean(i)},"Expected boolean values for type ".concat(a)),s(i);case 13:return e.fF.assert(function(){return _.isString(i)},"Expected string values to encode for type ".concat(a)),i;default:e.fF.assertFail("unsupported dsrValue for type ".concat(a))}}},114096:function(Xe,H,t){t.d(H,{cX:function(){return w},yl:function(){return E},vQ:function(){return F},Je:function(){return P},RD:function(){return M},d3:function(){return T}});var e=t(973188),l=t(365358),o=t(498342),d=t(447751),v=t(844722),S=t(512322),h=t(603662),c=t(960514),r=t(162320),s=t(939701),i=t(979868),a=t(669266),n=t(684261),m=t(382088),f=t(216018);function V(N,A,I){o.fF.assertValue(N,"namedItems");for(var B={},U=0,W=N.length;U<W;U++)B[N[U].name]=!0;return(0,m.zE)(B,I||(0,f.L)(A))}var p=t(173818),b=function(N){function A(){return null!==N&&N.apply(this,arguments)||this}return(0,e.__extends)(A,N),A.prototype.visitCompare=function(I){return 0===I.comparison&&I.right.accept(this)},A.prototype.visitAnd=function(I){return I.left.accept(this)&&I.right.accept(this)},A.prototype.visitAnyValue=function(I){return!0},A.prototype.visitDefault=function(I){return!1},A.instance=new A,A}(c.vq),y=t(491346),D=t(292170),P=function(){function N(A){this.exprRewriter=A}return N.rewriteFrom=function(A,I){for(var B,U=A,W=U.keys(),j=0,K=W.length;j<K;j++){var ee=W[j],ie=U.source(ee),he=ie.accept(I,ee);(ie!==he||B)&&(B||(B=_.pick(U.sources(),W.slice(0,j))),B[ee]=he)}return B?new r.cL(B):U},N.prototype.rewriteFrom=function(A){return N.rewriteFrom(A,new r.Ww(this.exprRewriter))},N.prototype.rewriteSelect=function(A,I){return o.fF.assertValue(A,"selectItems"),o.fF.assertValue(I,"from"),this.rewriteNamedSQExpressions(A,I)},N.prototype.rewriteGroupBy=function(A,I){if(o.fF.assertAnyValue(A,"groupByitems"),o.fF.assertValue(I,"from"),!_.isEmpty(A))return this.rewriteNamedSQExpressions(A,I)},N.prototype.rewriteNamedSQExpressions=function(A,I){var B=this;return o.fF.assertValue(A,"expressions"),_.map(A,function(U){return{name:U.name,expr:w.rewrite(U.expr.accept(B.exprRewriter),I,I),nativeReferenceName:U.nativeReferenceName}})},N.prototype.rewriteOrderBy=function(A,I){if(o.fF.assertAnyValue(A,"orderByItems"),o.fF.assertValue(I,"from"),!_.isEmpty(A)){for(var B=[],U=0,W=A.length;U<W;U++){var j=A[U],K=w.rewrite(j.expr.accept(this.exprRewriter),I,I);B.push({direction:j.direction,expr:K})}return B}},N.prototype.rewriteWhere=function(A,I){var B=this;if(o.fF.assertAnyValue(A,"whereItems"),o.fF.assertValue(I,"from"),!_.isEmpty(A)){for(var U=[],W=0,j=A.length;W<j;W++){var K=A[W],ee={condition:w.rewrite(K.condition.accept(this.exprRewriter),I,I)};K.target&&(ee.target=_.map(K.target,function(ie){return w.rewrite(ie.accept(B.exprRewriter),I,I)})),K.annotations&&(ee.annotations=K.annotations),U.push(ee)}return U}},N.prototype.rewriteTransform=function(A,I){var B=this;if(o.fF.assertAnyValue(A,"transformItems"),o.fF.assertAnyValue(I,"from"),!_.isEmpty(A)){for(var U=[],W=0,j=A;W<j.length;W++){var K=j[W],ee=void 0;K.input.table&&!_.isEmpty(K.input.table.columns)&&(ee=_.map(K.input.table.columns,function(he){return{role:he.role,expression:{name:he.expression.name,expr:w.rewrite(he.expression.expr.accept(B.exprRewriter),I,I)}}}));var ie={name:K.name,algorithm:K.algorithm,input:{parameters:K.input.parameters},output:K.output};K.input.table&&(ie.input.table={name:K.input.table.name,columns:ee}),U.push(ie)}return U}},N}(),F=function(){function N(A,I,B,U,W,j,K){o.fF.assertValue(A,"from"),o.fF.assertValue(U,"select"),this.fromValue=A,this.whereItems=I,this.orderByItems=B,this.selectItems=U,this.groupByItems=W,this.transformItems=j,null!=K&&(this.topValue=K)}return N.create=function(){return N.empty||(N.empty=new N(new r.cL,null,null,[],null,null,null)),N.empty},N.createWith=function(A,I){return o.fF.assertValue(A,"clauses"),I||(A=N.normalize(A)),new N(A.from,A.where,A.orderBy,A.select,A.groupBy,A.transforms,A.top)},N.prototype.createModified=function(A){return N.createWith({from:void 0!==A.from?A.from:this.fromValue,where:void 0!==A.where?A.where:this.whereItems,transforms:void 0!==A.transforms?A.transforms:this.transformItems,orderBy:void 0!==A.orderBy?A.orderBy:this.orderByItems,select:void 0!==A.select?A.select:this.selectItems,groupBy:void 0!==A.groupBy?A.groupBy:this.groupByItems,top:void 0!==A.top?A.top:this.topValue})},N.normalize=function(A){var I={clauses:{from:A.from,where:A.where,orderBy:A.orderBy,select:A.select,groupBy:A.groupBy,transforms:A.transforms,top:A.top},usedSourceNames:{}};return N.removeUnreferencedKeys(I),N.renameSources(I),N.renameSourcesInSubqueries(I),I.clauses},N.removeUnreferencedKeys=function(A){var I=A.clauses,B=I.from,U=I.where,W=I.orderBy,j=I.select,K=I.groupBy,ee=I.transforms,ie=new x(B.keys());if(U)for(var he=0,q=U.length;he<q;he++){var Y=U[he];Y.condition.accept(ie);var G=Y.target;if(G)for(var me=0,re=G.length;me<re;me++)G[me]&&G[me].accept(ie)}if(ee)for(he=0,q=ee.length;he<q;he++){var le=ee[he].input.table;if(le&&!_.isEmpty(le.columns))for(var Ee=0,Ne=le.columns;Ee<Ne.length;Ee++)Ne[Ee].expression.expr.accept(ie)}if(W)for(he=0,q=W.length;he<q;he++)W[he].expr.accept(ie);for(he=0,q=j.length;he<q;he++)j[he].expr.accept(ie);if(K)for(he=0,q=K.length;he<q;he++)K[he].expr.accept(ie);var Je=ie.result();if(Je){for(var _e=B.clone(),pe=0,fe=Je;pe<fe.length;pe++)_e.remove(fe[pe]);A.clauses.from=_e}},N.renameSources=function(A){var I=A.clauses.from,B=I.renameSources(A.usedSourceNames);B!==I&&(A.clauses.from=B,N.rewriteClauses(A.clauses,new w(I,B)))},N.renameSourcesInSubqueries=function(A){A.clauses.from=g.renameSources(N.renameSourcesInQuery,A.clauses.from,A.usedSourceNames)},N.renameSourcesInQuery=function(A,I){var B={clauses:A.getClauses(),usedSourceNames:I},U=B.clauses.from;return N.renameSources(B),N.renameSourcesInSubqueries(B),B.clauses.from===U?A:N.createWith(B.clauses)},N.prototype.from=function(A){return A?this.createModified({from:A}):this.fromValue.clone()},N.prototype.select=function(A){return _.isEmpty(arguments)?this.getSelect():this.setSelect(A)},N.prototype.getSelect=function(){return N.createNamedExpressionArray(this.selectItems)},N.createNamedExpressionArray=function(A){return(0,l.z8)(_.map(A,function(I){return{name:I.name,expr:I.expr,nativeReferenceName:I.nativeReferenceName}}))},N.prototype.setSelect=function(A){var I=this.fromValue.clone(),B=N.rewriteExpressionsWithSourceRenames(A,I);return this.createModified({from:I,select:B})},N.rewriteExpressionsWithSourceRenames=function(A,I){for(var B=[],U=0,W=A.length;U<W;U++){var j=A[U];B.push({name:j.name,expr:w.rewrite(j.expr,null,I)})}return B},N.prototype.removeSelect=function(A){o.fF.assertValue(A,"expr");for(var I=this.selectItems,B=[],U=0,W=I.length;U<W;U++){var j=I[U];(0,a.fS)(j.expr,A)||B.push(j)}return this.createModified({select:B})},N.prototype.removeOrderBy=function(A){for(var I=this.orderBy(),B=I.length-1;B>=0;B--)(0,a.fS)(I[B].expr,A)&&I.splice(B,1);return this.createModified({orderBy:I})},N.prototype.removeTransform=function(A){for(var I=this.transforms(),B=0,U=I.length;B<U;B++)if(I[B].name===A.name){I.splice(B,1);break}return this.createModified({transforms:I})},N.prototype.selectNameOf=function(A){var I;return null===(I=this.getSelectFor(A))||void 0===I?void 0:I.name},N.prototype.selectNativeReferenceNameOf=function(A){var I;return null===(I=this.getSelectFor(A))||void 0===I?void 0:I.nativeReferenceName},N.prototype.getSelectFor=function(A){var I=(0,n.p)(this.selectItems,A);if(I>=0)return this.selectItems[I]},N.prototype.setSelectAt=function(A,I,B){if(o.fF.assertValue(I,"expr"),!(A>=this.selectItems.length)){var U=this.select(),W=this.fromValue.clone(),K=null!=B?B:U[A].nativeReferenceName;return U[A]={name:U[A].name,expr:w.rewrite(I,null,W),nativeReferenceName:K},this.createModified({from:W,select:U})}},N.prototype.addSelect=function(A,I,B){o.fF.assertValue(A,"expr");var U=this.select(),W=this.fromValue.clone();return U.push(this.createNamedExpr(U,W,A,I,B)),this.createModified({from:W,select:U})},N.prototype.setNativeReferenceNameAt=function(A,I){var B=this;o.fF.assert(function(){return 0<=A&&A<B.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[A].nativeReferenceName=I},N.prototype.getNativeReferenceNameAt=function(A){var I=this;return o.fF.assert(function(){return 0<=A&&A<I.selectItems.length},"index should be within the length of the selectedItems"),this.selectItems[A].nativeReferenceName},N.prototype.getNativeReferenceNames=function(A){var I=this.selectItems.map(function(B){return B.nativeReferenceName});return A?_.filter(I,function(B){return!(0,d.g)(B)}):I},N.prototype.createNamedExpr=function(A,I,B,U,W){return{name:V(A,B,U),expr:w.rewrite(B,I,I),nativeReferenceName:W}},N.prototype.groupBy=function(A){return _.isEmpty(arguments)?this.getGroupBy():this.setGroupBy(A)},N.prototype.getGroupBy=function(){return N.createNamedExpressionArray(this.groupByItems)},N.prototype.setGroupBy=function(A){var I=this.fromValue.clone(),B=N.rewriteExpressionsWithSourceRenames(A,I);return this.createModified({from:I,groupBy:B})},N.prototype.addGroupBy=function(A){o.fF.assertValue(A,"expr");var I=this.groupBy(),B=this.fromValue.clone();return I.push(this.createNamedExpr(I,B,A)),this.createModified({from:B,groupBy:I})},N.prototype.orderBy=function(A){return _.isEmpty(arguments)?this.getOrderBy():this.setOrderBy(A)},N.prototype.getOrderBy=function(){var A=[],I=this.orderByItems;if(I)for(var B=0,U=I.length;B<U;B++){var W=I[B];A.push({expr:W.expr,direction:W.direction})}return A},N.prototype.setOrderBy=function(A){o.fF.assertValue(A,"values");for(var I=[],B=this.fromValue.clone(),U=0,W=A.length;U<W;U++){var j=A[U];I.push({expr:w.rewrite(j.expr,B,B),direction:j.direction})}return this.createModified({from:B,orderBy:I})},N.prototype.where=function(A,I){return _.isEmpty(arguments)?this.getWhere():this.setWhere([],A,I)},N.prototype.getWhere=function(){var A=[],I=this.whereItems;if(I)for(var B=0,U=I.length;B<U;B++)A.push(I[B]);return A},N.prototype.setWhere=function(A,I,B){o.fF.assertValue(A,"existingFilters"),o.fF.assertValue(I,"newFilters");for(var U=_.clone(A),W=this.fromValue.clone(),j=0,K=I;j<K.length;j++){var ee=K[j],ie={condition:w.rewrite(ee.condition,B,W)};ee.target&&(ie.target=_.map(ee.target,function(he){return w.rewrite(he,B,W)})),ee.annotations&&(ie.annotations=ee.annotations),U.push(ie)}return this.createModified({from:W,where:U})},N.prototype.addWhere=function(A,I){return this.setWhere(this.where(),A,I)},N.prototype.addSemanticFilter=function(A){return o.fF.assertValue(A,"filter"),this.setWhere(this.where(),A.where(),A.from())},N.prototype.transforms=function(A){return _.isEmpty(arguments)?this.getTransforms():this.setTransforms(A)},N.prototype.getTransforms=function(){var A=[];if(!_.isEmpty(this.transformItems))for(var I=0,B=this.transformItems;I<B.length;I++)A.push(B[I]);return A},N.prototype.setTransforms=function(A){for(var I=this,B=this.fromValue.clone(),U=[],W=0,j=A;W<j.length;W++){var K=j[W],ee=void 0;K.input.table&&!_.isEmpty(K.input.table.columns)&&(ee=_.map(K.input.table.columns,function(he){return{role:he.role,expression:I.createNamedExpr((0,l.z8)([]),B,he.expression.expr,he.expression.name)}}));var ie={name:K.name,algorithm:K.algorithm,input:{parameters:K.input.parameters},output:K.output};K.input.table&&(ie.input.table={name:K.input.table.name,columns:ee}),U.push(ie)}return this.createModified({from:B,transforms:A})},N.prototype.top=function(A){return _.isEmpty(arguments)?this.topValue:this.setTop(A)},N.prototype.setTop=function(A){return o.fF.assert(function(){return null==A||A>0},"if top is specified, it must be positive"),this.createModified({top:A})},N.prototype.rewrite=function(A){var I=this.getClauses();return N.rewriteClauses(I,A),this.createModified(I)},N.prototype.hasVisualCalculations=function(){for(var A=0,I=this.selectItems;A<I.length;A++)if((0,i.jX)(I[A].expr))return!0;return!1},N.prototype.getClauses=function(){return{from:this.fromValue,where:this.whereItems,orderBy:this.orderByItems,select:this.selectItems,groupBy:this.groupByItems,transforms:this.transformItems,top:this.topValue}},N.rewriteClauses=function(A,I){var B=new P(I);A.from=B.rewriteFrom(A.from),A.where=B.rewriteWhere(A.where,A.from),A.orderBy=B.rewriteOrderBy(A.orderBy,A.from),A.select=B.rewriteSelect(A.select,A.from),A.groupBy=B.rewriteGroupBy(A.groupBy,A.from),A.transforms=B.rewriteTransform(A.transforms,A.from)},N.willFiltersAffectQuery=function(A){return o.fF.assertValue(A,"query"),new R(A).willFilterAffectQuery()},N}(),E=function(){function N(A,I){o.fF.assertValue(A,"from"),o.fF.assertValue(I,"where"),this.fromValue=A,this.whereItems=I}return N.fromSQExpr=function(A){return N.fromSQFromAndSQExpr(new r.cL,A)},N.fromSQFromAndSQExpr=function(A,I){return o.fF.assertValue(A,"from"),o.fF.assertValue(I,"condition"),new N(A,[{condition:w.rewrite(I,A,A)}])},N.fromSQFromAndSQFilters=function(A,I){return new N(A,I)},N.clone=function(A){return N.fromSQFromAndSQFilters(A.from(),A.where())},N.fromMeasureFilters=function(A,I,B){o.fF.assertValue(A,"query"),o.fF.assert(function(){return!_.isEmpty(I)},"measureFilters not empty"),o.fF.assert(function(){return _.every(I,function(le){return 1===(0,v._)(le.condition)})},"Require measure filter");for(var U,W=[],j=A.where(),K=function(Ee){var Ne=_.find(j,function(Ye){return(0,a.fS)(Ye.condition,Ee.condition)});if(!Ne||!Ne.target)return{value:void 0};U=U||Ne.target,o.fF.assert(function(){return function(){for(var Ye=0;Ye<U.length;Ye++)if(!(0,a.fS)(U[Ye],Ne.target[Ye]))return!1;return!0}()},"Expected targets to be the same."),W.push(Ne)},ee=0,ie=I;ee<ie.length;ee++){var q=K(ie[ee]);if("object"==typeof q)return q.value}var Y=_.filter(j,function(le){return 1!==(0,v._)(le.condition)}),G=_.map(U,function(le){return _.find(A.select(),function(Ee){return(0,a.fS)(le,Ee.expr)})});B&&G.push.apply(G,this.getMeasuresForJoinPredicates(A,B)||[]);var me=F.createWith({from:A.from(),select:G,where:(0,e.__spreadArray)((0,e.__spreadArray)([],Y||[],!0),W||[],!0)});return T(N.fromMeasuresQuery(me,U),A)},N.fromMeasuresQuery=function(A,I){var B=new r.vd(A),U=new r.cL,W=U.ensureSource(B,"subquery"),j=(0,S.dY)(I,(0,S.v5)(W.name)),K=w.rewrite(j,U,U),ee=[];return ee.push({condition:K}),N.fromSQFromAndSQFilters(U,ee)},N.getDefaultValueFilter=function(A){return N.getDataViewScopeIdentityComparisonFilters(A,(0,S.LS)())},N.getAnyValueFilter=function(A){return N.getDataViewScopeIdentityComparisonFilters(A,(0,S.n7)())},N.getDefaultAnyValueFilter=function(A,I){if(_.isEmpty(A))return N.getAnyValueFilter(I);if(_.isEmpty(I))return N.getDefaultValueFilter(A);var B=Array.apply(null,Array(A.length)).map(function(){return(0,S.LS)()}),U=Array.apply(null,Array(A.length)).map(function(){return(0,S.n7)()}),W=(0,D.R)(A,B),j=(0,D.R)(I,U),K=(0,S.xD)(W,j);return N.fromSQExpr(K)},N.getDataViewScopeIdentityComparisonFilters=function(A,I){if(o.fF.assertValue(A,"fieldSQExprs"),o.fF.assertValue(I,"value"),A instanceof Array){var B=Array.apply(null,Array(A.length)).map(function(){return I});return N.fromSQExpr((0,D.R)(A,B))}return N.fromSQExpr((0,S.Dg)(A,I))},N.prototype.from=function(){return this.fromValue.clone()},N.prototype.conditions=function(){for(var A=[],I=this.whereItems,B=0,U=I.length;B<U;B++)A.push(I[B].condition);return A},N.prototype.where=function(){for(var A=[],I=this.whereItems,B=0,U=I.length;B<U;B++)A.push(I[B]);return A},N.prototype.rewrite=function(A){var I=new P(A),B=I.rewriteFrom(this.fromValue);return new N(B,I.rewriteWhere(this.whereItems,B))},N.prototype.validate=function(A,I,B){var U=new S._R(A,I,B);return this.rewrite(U),U.errors},N.merge=function(A){if(_.isEmpty(A))return null;if(1===A.length)return A[0];for(var I=A[0],B=I.from(),U=(0,l.qn)(I.whereItems,I.whereItems.length),W=1,j=A.length;W<j;W++)N.applyFilter(A[W],B,U);return new N(B,U)},N.unmerge=function(A){for(var I=[],B=0,U=A.whereItems;B<U.length;B++){var j=new N(A.fromValue,[U[B]]);Object.keys(j.from().sources()).length>1&&(j=N.removeUnreferencedKeys(j)),I.push(j)}return I},N.removeUnreferencedKeys=function(A){var I=A.from(),B=A.where(),U=new x(I.keys());if(B)for(var W=0,j=B.length;W<j;W++){var K=B[W];K.condition.accept(U);var ee=K.target;if(ee)for(var ie=0,he=ee.length;ie<he;ie++)ee[ie]&&ee[ie].accept(U)}var q=U.result();if(q){for(var Y=0,G=q;Y<G.length;Y++)I.remove(G[Y]);return new N(I,B)}},N.getMeasuresForJoinPredicates=function(A,I){for(var B=A.select(),U=[],W=function(ie){var he=B[ie];if((0,p.k)(he.expr)){if(_.some(I.SuppressedJoinPredicates,function(q){return q===ie}))return"continue";(j.isSelectProjected(I.Primary,ie)||j.isSelectProjected(I.Secondary,ie))&&U.push(he)}},j=this,K=0;K<B.length;K++)W(K);return U},N.isSelectProjected=function(A,I){if(A&&A.Groupings)for(var B=0,U=A.Groupings;B<U.length;B++){var W=U[B];if(_.some(W.Projections,function(j){return j===I})&&!_.some(W.SuppressedProjections,function(j){return j===I}))return!0}return!1},N.isDefaultFilter=function(A){return!(!A||1!==A.where().length)&&(0,y.F)(A.where()[0].condition)},N.isAnyFilter=function(A){return!(!A||1!==A.where().length)&&function(N){return o.fF.assertValue(N,"expr"),N.accept(b.instance)}(A.where()[0].condition)},N.isSameFilter=function(A,I){return A===I||!!(A&&I&&A.from().equals(I.from())&&(0,l.NF)(A.where(),I.where(),function(B,U){return(0,a.Me)(B,U)}))&&!(N.isDefaultFilter(A)&&N.isAnyFilter(I)||N.isAnyFilter(A)&&N.isDefaultFilter(I))},N.isInFilter=function(A){return!(!A||1!==A.where().length)&&(0,i.Hi)(A.where()[0].condition)},N.applyFilter=function(A,I,B){o.fF.assertValue(A,"filter"),o.fF.assertValue(I,"from"),o.fF.assertValue(B,"where");for(var W=0,j=A.whereItems;W<j.length;W++){var K=j[W],ee={condition:w.rewrite(K.condition,A.fromValue,I)};K.target&&(ee.target=_.map(K.target,function(ie){return w.rewrite(ie,A.fromValue,I)})),B.push(ee)}},N.prototype.setIgnoreMParameter=function(){for(var I=0,B=this.whereItems;I<B.length;I++){var U=B[I];U.annotations||(U.annotations={}),U.annotations["PowerBI.MParameterBehavior"]=1}},N}(),w=function(N){function A(I,B){var U=this;return o.fF.assertValue(B,"destinationFrom"),(U=N.call(this)||this).sourceFrom=I,U.destinationFrom=B,U}return(0,e.__extends)(A,N),A.prototype.visitEntity=function(I){var B=this.destinationFrom.source(I.variable);if(B&&(0,r.$r)(B)&&B.schema===I.schema&&B.entity===I.entity)return I;var U=this.destinationFrom.ensureSource(new r.SX(I.schema,I.entity),I.variable);return U.name!==I.variable?new S.PN(I.schema,I.entity,U.name):I},A.prototype.visitSubqueryRef=function(I){if(!this.sourceFrom)return o.fF.assertFail("A source From clause must be provided to rewrite an expression containing a subquery reference."),I;var B=this.sourceFrom.source(I.variable);if(!B)return I;var U=this.destinationFrom.source(I.variable);if(U&&(0,s.y)(U)&&(0,a.C6)(B.subquery,U.subquery))return I;var W=this.destinationFrom.ensureSource(new r.vd(B.subquery),I.variable);return W.name!==I.variable?new S.wb(W.name):I},A.prototype.visitNamedQueryRef=function(I){var B=this.destinationFrom.source(I.variable);if(B&&(0,r.Ms)(B)&&(0,a.fS)(B.expr,I))return I;var W=this.destinationFrom.ensureSource(new r.Qo(I),I.variable);return W.name!==I.variable?new S.nz(I.queryName,W.name):void 0},A.rewrite=function(I,B,U){o.fF.assertValue(I,"expr"),o.fF.assertValue(U,"destinationFrom");var W=new A(B,U);return I.accept(W)},A}(h.b),x=function(N){function A(I){var B=this;return o.fF.assertValue(I,"keys"),(B=N.call(this)||this).keys=I,B}return(0,e.__extends)(A,N),A.prototype.visitEntity=function(I){this.removeKey(I.variable)},A.prototype.visitSubqueryRef=function(I){this.removeKey(I.variable)},A.prototype.visitNamedQueryRef=function(I){this.removeKey(I.variable)},A.prototype.removeKey=function(I){var B=this.keys.indexOf(I);B>=0&&this.keys.splice(B,1)},A.prototype.result=function(){return this.keys},A}(c.PA),R=function(N){function A(I){var B=N.call(this)||this;return B.query=I,B.containsEntityRefs=!1,B.containsSubqueries=!1,B}return(0,e.__extends)(A,N),A.prototype.visitEntity=function(I){this.containsEntityRefs=!0},A.prototype.visitPropertyVariationSource=function(I){this.containsEntityRefs=!0},A.prototype.visitSubqueryRef=function(I){this.containsSubqueries=!0},A.prototype.willFilterAffectQuery=function(){for(var B=0,U=this.query.select();B<U.length;B++)U[B].expr.accept(this);return!(!this.containsEntityRefs&&this.containsSubqueries)},A}(c.PA),g=function(){function N(A,I,B){this.renameSources=A,this.from=I,this.usedSourceNames=B,o.fF.assertValue(A,"renameSources"),o.fF.assertValue(I,"from"),o.fF.assertValue(B,"usedSourceNames")}return N.renameSources=function(A,I,B){var U=new N(A,I,B);return P.rewriteFrom(I,U)},N.prototype.visitEntity=function(A,I){return A},N.prototype.visitPod=function(A,I){return A},N.prototype.visitSubquery=function(A,I){var B=A.subquery,U=this.renameSources(B,this.usedSourceNames);return U===B?A:new r.vd(U)},N.prototype.visitExpr=function(A,I){return A},N}();function M(N,A){var I=N.from(),B=I,U=E.merge(A);return I===(B=O.ensureFiltersInSubqueries(B,U.where(),U.from()))?N:E.fromSQFromAndSQFilters(B,N.where())}function T(N,A){var I=_.filter(_.map(A.select(),function(j){return j.expr}),function(j){return!(0,p.k)(j)});if(_.isEmpty(I))return N;var B=_.map(I,function(j){return{condition:(0,S.Dg)(j,(0,S.n7)(!0))}}),U=N.from(),W=O.ensureFiltersInSubqueries(U,B,U);return U===W?N:E.fromSQFromAndSQFilters(W,N.where())}var O=function(){function N(A,I){this.filtersToEnsure=A,this.filtersToEnsureFrom=I,this.modifiedSubquery=!1,o.fF.assertNonEmpty(A,"expected filters to ensure exist in each subquery")}return N.ensureFiltersInSubqueries=function(A,I,B){var U=new N(I,B),W=P.rewriteFrom(A,U);return o.fF.assert(function(){return W!==A===U.modifiedSubquery},"expected to rewrite the from clause if and only if we modified a subquery"),W},N.prototype.visitEntity=function(A,I){return A},N.prototype.visitPod=function(A,I){return A},N.prototype.visitSubquery=function(A,I){for(var B=A.subquery.where(),U=[],W=function(he){_.find(B,function(q){return(0,a.Me)(he,q)})||U.push(he)},j=0,K=this.filtersToEnsure;j<K.length;j++)W(K[j]);return 0===U.length?A:(this.modifiedSubquery=!0,new r.vd(A.subquery.addWhere(U,this.filtersToEnsureFrom)))},N.prototype.visitExpr=function(A,I){return A},N}()},512322:function(Xe,H,t){t.d(H,{X1:function(){return Ir},v0:function(){return I},uV:function(){return he},iE:function(){return ye},MH:function(){return w},I6:function(){return q},Wh:function(){return T},wU:function(){return me},c8:function(){return re},jz:function(){return Je},ev:function(){return le},YB:function(){return pe},AC:function(){return _e},ex:function(){return tt},PN:function(){return D},eX:function(){return Ne},Il:function(){return y},F0:function(){return Mr},_R:function(){return Gt},DJ:function(){return Ce},Gv:function(){return g},UG:function(){return x},qg:function(){return j},jE:function(){return K},vD:function(){return ee},Xg:function(){return Y},UY:function(){return O},Jm:function(){return mt},nz:function(){return E},F1:function(){return A},$f:function(){return N},Wr:function(){return P},v3:function(){return Ye},Cc:function(){return G},_n:function(){return B},c7:function(){return W},LE:function(){return U},nd:function(){return be},kC:function(){return R},GF:function(){return He},fw:function(){return Ee},wb:function(){return F},m_:function(){return nt},lI:function(){return et},xD:function(){return at},n7:function(){return mr},Y8:function(){return te},vX:function(){return St},O7:function(){return gr},$_:function(){return ht},Oh:function(){return Q},qu:function(){return Rt},u7:function(){return zt},r3:function(){return Kt},sO:function(){return xr},uQ:function(){return Qr},CQ:function(){return Vr},gH:function(){return Gr},LS:function(){return Pr},h5:function(){return ot},tx:function(){return Jr},$t:function(){return Ut},nw:function(){return ke},Dg:function(){return ir},Gg:function(){return Yt},x5:function(){return lt},Xw:function(){return Z},GW:function(){return Ve},f7:function(){return Or},_L:function(){return Ft},Ls:function(){return kt},Wp:function(){return Fe},bT:function(){return ze},os:function(){return Oe},dY:function(){return qe},Sh:function(){return Ie},cA:function(){return Hr},mv:function(){return Ue},fP:function(){return it},kD:function(){return Le},sl:function(){return Se},PB:function(){return ae},YU:function(){return yt},ff:function(){return lr},zO:function(){return er},IF:function(){return Cr},or:function(){return bt},Pe:function(){return We},yU:function(){return rt},Mj:function(){return de},p7:function(){return zr},nF:function(){return Tt},Wu:function(){return we},ed:function(){return xe},xA:function(){return vt},eu:function(){return ai},Zy:function(){return Ur},Ny:function(){return dr},v5:function(){return ft},bO:function(){return Ze},fL:function(){return Yr},e7:function(){return ct},hu:function(){return X},GB:function(){return Pe},kQ:function(){return Zr},Oe:function(){return J}});var e=t(973188),l=t(236090),o=t(458441),d=t(437555),v=t(498342),S=t(100112),h=t(358246),c=t(726501),r=t(411429),s=t(491697),u=t(689819),i=function(dt){return null!=dt&&1===dt[u.L]},a=t(603662),n=t(669266),m=t(979868),f=t(678776),V=t(960514),p=t(470756),C=t(91157),b=t(173818),y=function(){function Pt(dt,ue){v.fF.assertValue(dt,"kind"),v.fF.assertAnyValue(ue,"annotations"),this._kind=dt,this._annotations=ue}return Pt.prototype.validate=function(dt,ue,k,se){var Ae=new Gt(dt,ue,k,se);return this.accept(Ae),Ae.errors},Pt.prototype.accept=function(dt,ue){v.fF.assertFail("abstract method")},Object.defineProperty(Pt.prototype,"kind",{get:function(){return this._kind},enumerable:!1,configurable:!0}),Pt.prototype.getMetadata=function(dt,ue){v.fF.assertValue(dt,"federatedSchema");var k=(0,r.Q)(this,dt);if(k)return k.column||k.columnAggr||k.groupingColumn||k.groupingColumnAggr||k.measure?this.getMetadataForProperty(k,dt):k.hierarchyLevel||k.hierarchyLevelAggr?this.getMetadataForHierarchyLevel(k,dt):k.columnHierarchyLevelVariation?this.getMetadataForVariation(k,dt):k.columnSubquery||k.columnAggrSubquery?this.getMetadataForSubqueryColumn(k,dt,ue):k.columnTransformRef?this.getMetadataForColumnTransformRef():Pt.getMetadataForEntity(k,dt)},Pt.prototype.isOrdinalEvaluation=function(){return!1},Pt.prototype.getAnnotations=function(){return this._annotations},Pt.prototype.getKeyColumns=function(dt){var ue=sr.getColumnRefSQExpr(dt,this);if(ue){var k=[],se=this.getPropertyKeys(dt);if(se&&se.length>0)for(var Ae=0,$e=se.length;Ae<$e;Ae++)k.push(Q(ue.source,se[Ae].name));else k.push(ue);return k}},Pt.prototype.hasGroupOnKeys=function(dt){var ue=this.getTargetColumnRef(dt);if(ue){var k=this.getPropertyKeys(dt);if(!k||k.length<1)return!1;if(k.length>1)return!0;var se=Q(ue.source,k[0].name);return!(0,n.fS)(se,this)}},Pt.prototype.getPropertyKeys=function(dt){var ue=this.getConceptualProperty(dt,!0);if(ue)return ue.column?ue.column.keys:void 0},Pt.prototype.getOrderByColumns=function(dt){var ue=this.getTargetColumnRef(dt);if(ue){var k=ue.getConceptualProperty(dt,!0),se=k&&k.column&&k.column.orderBy;if(_.isEmpty(se))return[];for(var Ae=new Array(se.length),$e=0,Et=se.length;$e<Et;$e++)Ae[$e]=Q(ue.source,se[$e].name);return Ae}},Pt.prototype.getConceptualProperty=function(dt,ue){var k=(0,r.Q)(this,dt);if(k){var se=(0,c.pV)(k);if(se&&1===_.size(se)){var Ae=(0,c.Hp)(k);if(Ae){var $e=dt.schema(se[0].schema);return $e?$e.findProperty(se[0].entity,Ae):void 0}if(ue){var Nt,Et=void 0;if(k.columnHierarchyLevelVariation)(Et=k.columnHierarchyLevelVariation.level)&&(Nt=dt.schema(Et.schema).findHierarchy(Et.entity,Et.name));else if(Et=k.hierarchyLevel||k.hierarchyLevelAggr){var Bt=(0,c.Um)(k);Nt=dt.schema(Bt.schema).findHierarchy(Bt.entity,Et.name)}if(Nt){var Qt=Nt.levels.withName(Et.level);if(Qt)return Qt.column}}}}},Pt.prototype.getTargetEntityForVariation=function(dt,ue){var k=this.getConceptualProperty(dt);if(k&&k.column&&!_.isEmpty(k.column.variations))for(var Ae=0,$e=k.column.variations;Ae<$e.length;Ae++){var Et=$e[Ae];if(Et.name===ue)return Et.navigationProperty.targetEntity.name}},Pt.prototype.getTargetEntity=function(){return pr.getEntityExpr(this)},Pt.prototype.getTargetSchemaName=function(){return fr.getSchemaName(this)},Pt.prototype.getTargetColumnRef=function(dt){return v.fF.assertValue(dt,"schema"),sr.getColumnRefSQExpr(dt,this)},Pt.prototype.getMetadataForVariation=function(dt,ue){v.fF.assertValue(dt,"field"),v.fF.assertValue(ue,"federatedSchema");var k=dt.columnHierarchyLevelVariation,se=(0,c.Um)(dt),Ae=ue.schema(se.schema).findProperty(se.entity,k.source.name);if(Ae&&Ae.column&&Ae.column.variations)for(var $e=0,Et=Ae.column.variations;$e<Et.length;$e++){var Nt=Et[$e];if(Nt.defaultHierarchy&&Nt.defaultHierarchy.levels)for(var Bt=0,Qt=Nt.defaultHierarchy.levels;Bt<Qt.length;Bt++){var $t=Qt[Bt];if($t.name===k.level.level){var ur=$t.column;return{kind:1===ur.kind?1:0,type:ur.type,format:ur.format,idOnEntityKey:!!ur.column&&ur.column.idOnEntityKey,defaultAggregate:ur.column?ur.column.defaultAggregate:null}}}}},Pt.prototype.getMetadataForHierarchyLevel=function(dt,ue){v.fF.assertValue(dt,"field"),v.fF.assertValue(ue,"federatedSchema");var k=this.getConceptualProperty(ue,!0);if(k)return this.getPropertyMetadata(dt,k)},Pt.prototype.getPropertyMetadata=function(dt,ue){var k=dt.columnAggr||dt.groupingColumnAggr||dt.hierarchyLevelAggr,se=k?this.getFormatAndTypeForAggregate(k.aggregate,ue.format,ue.type):ue;return{kind:1===ue.kind||k&&void 0!==k.aggregate?1:0,type:se.type,format:se.format,idOnEntityKey:!!ue.column&&ue.column.idOnEntityKey,aggregate:k?k.aggregate:void 0,defaultAggregate:ue.column?ue.column.defaultAggregate:null}},Pt.prototype.getMetadataForProperty=function(dt,ue){v.fF.assertValue(dt,"field"),v.fF.assertValue(ue,"federatedSchema");var k=this.getConceptualProperty(ue);if(k)return this.getPropertyMetadata(dt,k)},Pt.prototype.getFormatAndTypeForAggregate=function(dt,ue,k){var se=ue,Ae=k;switch(dt){case 2:case 5:Ae=h.Ge.fromExtendedType(260),se=void 0;break;case 1:case 7:case 8:Ae.integer&&(Ae=h.Ge.fromExtendedType(259),se=(0,S.SU)(se))}return{format:se,type:Ae}},Pt.prototype.getMetadataForSubqueryColumn=function(dt,ue,k){v.fF.assertValue(dt,"field"),v.fF.assertValue(ue,"federatedSchema"),v.fF.assert(function(){return!(!k||!k.sources)},"context sources should be available for evaluating subquery source");var se=f.m.getSubqueryExpression(this,k);v.fF.assertValue(se,"could not find original select expr of subquery from context");var Ae=se.getMetadata(ue,k);if(Ae){if(Ae.kind=0,dt.columnAggrSubquery){var $e=this.getFormatAndTypeForAggregate(dt.columnAggrSubquery.aggregate,Ae.format,Ae.type);Ae.type=$e.type,Ae.format=$e.format,Ae.aggregate=dt.columnAggrSubquery.aggregate}else dt.columnSubquery?Ae.aggregate=void 0:v.fF.assertFail("invalid field expression for subquery column");return Ae}},Pt.prototype.getMetadataForColumnTransformRef=function(){return{idOnEntityKey:!1,kind:0,type:h.Ge.fromVariant([h.Ge.fromPrimitiveTypeAndCategory(5),h.Ge.fromPrimitiveTypeAndCategory(7),h.Ge.fromPrimitiveTypeAndCategory(2),h.Ge.fromPrimitiveTypeAndCategory(3),h.Ge.fromPrimitiveTypeAndCategory(4),h.Ge.fromPrimitiveTypeAndCategory(1)])}},Pt.getMetadataForEntity=function(dt,ue){v.fF.assertValue(dt,"field"),v.fF.assertValue(ue,"federatedSchema");var k=(0,c.Um)(dt);if(ue.schema(k.schema).entities.withName(k.entity)&&dt.entityAggr)switch(dt.entityAggr.aggregate){case 2:case 5:return{kind:1,type:h.Ge.fromExtendedType(260),format:void 0,idOnEntityKey:!1,aggregate:dt.entityAggr.aggregate}}},Pt}();(0,o.y)(y.prototype);var D=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(k,"entity"),($e=Pt.call(this,0,Ae)||this).schema=ue,$e.entity=k,se&&($e.variable=se),$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitEntity(this,k)},dt.prototype.as=function(ue,k){return new dt(this.schema,this.entity,ue,k)},dt}(y),P=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"name"),($e=Pt.call(this,47,Ae)||this).name=ue,$e.language=k,$e.expression=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitNativeVisualCalc(this,k)},dt.prototype.getMetadata=function(ue){return v.fF.assertValue(ue,"federatedSchema"),{kind:1,type:h.Ge.fromPrimitiveTypeAndCategory(3)}},dt}(y),F=function(Pt){function dt(ue,k){var se=this;return v.fF.assertValue(ue,"source"),v.fF.assertAnyValue(k,"annotations"),se=Pt.call(this,1,k)||this,_.isString(ue)?se.variable=ue:se.query=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitSubqueryRef(this,k)},dt.prototype.as=function(ue,k){return new dt(ue,k)},dt}(y),E=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"source"),(Ae=Pt.call(this,39,se)||this).queryName=ue,k&&(Ae.variable=k),Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitNamedQueryRef(this,k)},dt.prototype.as=function(ue,k){return new dt(this.queryName,ue,k)},dt}(y),w=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"left"),v.fF.assertValue(k,"right"),v.fF.assertValue(se,"operator"),($e=Pt.call(this,23,Ae)||this).left=ue,$e.right=k,$e.operator=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitArithmetic(this,k)},dt.prototype.getMetadata=function(ue){var k=this,se=this.left.getMetadata(ue);if((0,m.g5)(this.right))return se?(v.fF.assert(function(){return 3===k.operator},"unexpected usage of scoped eval with arithmetic"),se.format="#,##0.00%",se.type=h.Ge.fromExtendedType(259),se):void 0;var Nt,Ae=this.right.getMetadata(ue),$e=null==se?void 0:se.type,Et=null==Ae?void 0:Ae.type;Nt=$e&&Et?this.getArithmeticResultType($e,Et):null!=$e?$e:Et,v.fF.assertValue(Nt,"SQExpr - cannot get proper type for arithmetic expression");var $t,Bt=null==se?void 0:se.format;return(0===this.operator||1===this.operator)&&($t=Bt===(null==Ae?void 0:Ae.format)?Bt:void 0),{format:$t,type:Nt,kind:1}},dt.prototype.getArithmeticResultType=function(ue,k){return 0!==this.operator&&1!==this.operator&&2!==this.operator&&3!==this.operator&&v.fF.assertNever(this.operator),2===ue.primitiveType?h.Ge.fromPrimitiveTypeAndCategory(3===this.operator&&2===k.primitiveType?3:2):3===ue.primitiveType?h.Ge.fromPrimitiveTypeAndCategory(3!==this.operator&&2===k.primitiveType?2:3):4===ue.primitiveType?3===this.operator&&4===k.primitiveType?h.Ge.fromPrimitiveTypeAndCategory(3):k:void v.fF.assertFail("unsupported arithmetic expression type")},dt}(y),x=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"arg"),v.fF.assertValue(k,"size"),($e=Pt.call(this,35,Ae)||this).arg=ue,$e.size=k,null!=se&&($e.timeUnit=se),$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitFloor(this,k)},dt}(y),R=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"expression"),v.fF.assertValue(k,"scope"),(Ae=Pt.call(this,26,se)||this).expression=ue,Ae.scope=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitScopedEval(this,k)},dt.prototype.getMetadata=function(ue){return this.expression.getMetadata(ue)},dt.prototype.hasGlobalScope=function(){return v.fF.assertValue(this.scope,"scope"),0===this.scope.length},dt.prototype.hasInnerMostScope=function(){return v.fF.assertValue(this.scope,"scope"),1===this.scope.length&&(0,m.LX)(this.scope[0])},dt.createGlobalAggregateOfScopedExpr=function(ue,k){var se=new dt(ue,[new Ke]);return new dt(new I(se,k),[])},dt.prototype.decomposeGlobalAggregateOfScopedExpr=function(){if(this.hasGlobalScope()){var ue=this.expression;if((0,m.iV)(ue)){var k=ue.arg;if((0,m.g5)(k)&&k.hasInnerMostScope())return{source:k.expression,func:ue.func}}}},dt}(y),g=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"expression"),v.fF.assertValue(k,"filters"),(Ae=Pt.call(this,41,se)||this).expression=ue,Ae.filters=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitFilteredEval(this,k)},dt.prototype.getMetadata=function(ue){return this.expression.getMetadata(ue)},dt}(y),L=function(Pt){function dt(ue,k){var se=this;return v.fF.assertValue(ue,"expressionName"),(se=Pt.call(this,27,k)||this).expressionName=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitWithRef(this,k)},dt}(y),M=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"kind"),v.fF.assertValue(k,"source"),v.fF.assertValue(se,"ref"),($e=Pt.call(this,ue,Ae)||this).source=k,$e.ref=se,$e}return(0,e.__extends)(dt,Pt),dt}(y),T=function(Pt){function dt(ue,k,se,Ae){return Pt.call(this,se||2,ue,k,Ae)||this}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitColumnRef(this,k)},dt}(M),O=function(Pt){function dt(ue,k,se){return Pt.call(this,3,ue,k,se)||this}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitMeasureRef(this,k)},dt}(M),N=function(Pt){function dt(ue,k,se,Ae,$e,Et,Nt){var Bt=Pt.call(this,43,Nt)||this;return v.fF.assertValue(ue,"language"),v.fF.assertValue(k,"expression"),v.fF.assertValue(se,"dataType"),v.fF.assertAnyValue(Ae,"proposedName"),v.fF.assertAnyValue($e,"expressionContentCache"),v.fF.assertAnyValue(Et,"format"),Bt.language=ue,Bt.expression=k,Bt.dataType=se,Bt.proposedName=Ae,Bt.expressionContentCache=$e,Bt.format=Et,Bt}return(0,e.__extends)(dt,Pt),dt.prototype.getMetadata=function(ue){return v.fF.assertValue(ue,"federatedSchema"),{kind:1,type:h.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},dt.prototype.accept=function(ue,k){return ue.visitNativeMeasure(this,k)},dt}(y),A=function(Pt){function dt(ue,k,se,Ae,$e,Et,Nt,Bt){var Qt=Pt.call(this,44,Bt)||this;return v.fF.assertValue(ue,"language"),v.fF.assertValue(k,"expression"),v.fF.assertValue(se,"dataType"),v.fF.assertValue(Ae,"source"),v.fF.assertAnyValue($e,"proposedName"),v.fF.assertAnyValue(Et,"expressionContentCache"),v.fF.assertAnyValue(Nt,"format"),Qt.language=ue,Qt.expression=k,Qt.dataType=se,Qt.source=Ae,Qt.proposedName=$e,Qt.expressionContentCache=Et,Qt.format=Nt,Qt}return(0,e.__extends)(dt,Pt),dt.prototype.getMetadata=function(ue){return v.fF.assertValue(ue,"federatedSchema"),{kind:0,type:h.Ge.fromPrimitiveTypeAndCategory(this.dataType),format:this.format}},dt.prototype.accept=function(ue,k){return ue.visitNativeColumn(this,k)},dt}(y),I=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"arg"),v.fF.assertValue(k,"func"),($e=Pt.call(this,4,Ae)||this).arg=ue,$e.func=k,$e.includeAllTypes=se,v.fF.assert(function(){return _.isNil($e.includeAllTypes)||3===$e.func||4===$e.func},"includeAllTypes has a value and the aggregate is not min/max - not a valid combination."),$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitAggr(this,k)},dt.prototype.getMetadata=function(ue,k){if(v.fF.assertValue(ue,"federatedSchema"),(0,m.jk)(this.arg)){var se=this.getFormatAndTypeForAggregate(this.func,this.arg.format,h.Ge.fromPrimitiveTypeAndCategory(this.arg.dataType));return{kind:1,type:se.type,format:se.format}}return Pt.prototype.getMetadata.call(this,ue,k)},dt}(y),B=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"arg"),v.fF.assertValue(k,"k"),v.fF.assert(function(){return 0<=k&&k<=1},"0 <= k && k <= 1"),v.fF.assertValue(se,"exclusive"),($e=Pt.call(this,28,Ae)||this).arg=ue,$e.k=k,$e.exclusive=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.getMetadata=function(ue){v.fF.assertValue(ue,"federatedSchema");var k=this.arg.getMetadata(ue);if(k)return{kind:1,type:k.type}},dt.prototype.accept=function(ue,k){return ue.visitPercentile(this,k)},dt}(y),U=function(Pt){function dt(ue,k,se,Ae){var $e=Pt.call(this,29,Ae)||this;return $e.min=ue,$e.max=k,$e.percent=se,v.fF.assert(function(){return se>=0&&se<=1},"Invalid percent value. Valid values are 0 to 1"),$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitRangePercent(this,k)},dt.overRangeOf=function(ue,k){return new dt(R.createGlobalAggregateOfScopedExpr(ue,3),R.createGlobalAggregateOfScopedExpr(ue,4),k)},dt.prototype.decomposeOverRangePattern=function(){var ue=this.min,k=this.max;if((0,m.g5)(ue)&&(0,m.g5)(k)){var se=ue.decomposeGlobalAggregateOfScopedExpr(),Ae=k.decomposeGlobalAggregateOfScopedExpr();if(se&&Ae&&3===se.func&&4===Ae.func&&(0,n.fS)(se.source,Ae.source))return{sourceExpr:se.source,percent:this.percent}}},dt}(y),W=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"arg"),v.fF.assertValue(k,"name"),v.fF.assertValue(se,"property"),($e=Pt.call(this,5,Ae)||this).arg=ue,$e.name=k,$e.property=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitPropertyVariationSource(this,k)},dt}(y),j=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"name"),v.fF.assertValue(se,"groupedExprs"),v.fF.assert(function(){return se.length>0},"groupedExprs.length > 0"),($e=Pt.call(this,k,ue,34,Ae)||this).groupedExprs=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitGroupRef(this,k)},dt}(T),K=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"arg"),v.fF.assertValue(k,"hierarchy"),(Ae=Pt.call(this,6,se)||this).arg=ue,Ae.hierarchy=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitHierarchy(this,k)},dt}(y),ee=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"arg"),v.fF.assertValue(k,"level"),(Ae=Pt.call(this,7,se)||this).arg=ue,Ae.level=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitHierarchyLevel(this,k)},dt}(y),ie=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"expressionName"),(Ae=Pt.call(this,30,se)||this).expressionName=ue,Ae.attributeKind=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitSelectRef(this,k)},dt}(y),he=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"left"),v.fF.assertValue(k,"right"),(Ae=Pt.call(this,8,se)||this).left=ue,Ae.right=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitAnd(this,k)},dt}(y),q=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"arg"),v.fF.assertValue(k,"lower"),v.fF.assertValue(se,"upper"),($e=Pt.call(this,9,Ae)||this).arg=ue,$e.lower=k,$e.upper=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitBetween(this,k)},dt}(y),Y=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"args"),v.fF.assert(function(){return null==k!=(null==se)},"values or table"),($e=Pt.call(this,10,Ae)||this).args=ue,k&&($e.values=k),se&&($e.table=se),$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitIn(this,k)},dt}(y),G=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"left"),v.fF.assertValue(k,"right"),(Ae=Pt.call(this,11,se)||this).left=ue,Ae.right=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitOr(this,k)},dt}(y),me=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"kind"),v.fF.assertValue(k,"left"),v.fF.assertValue(se,"right"),($e=Pt.call(this,13,Ae)||this).comparison=ue,$e.left=k,$e.right=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitCompare(this,k)},dt.prototype.isOrdinalEvaluation=function(){return i(this.getAnnotations())},dt}(y),re=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertNonEmpty(ue,"cases"),v.fF.assertAnyValue(k,"defaultValue"),(Ae=Pt.call(this,42,se)||this).cases=ue,Ae.defaultValue=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitConditional(this,k)},dt}(y),le=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"left"),v.fF.assertValue(k,"right"),(Ae=Pt.call(this,12,se)||this).left=ue,Ae.right=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitContains(this,k)},dt.prototype.isOrdinalEvaluation=function(){return i(this.getAnnotations())},dt}(y),Ee=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"left"),v.fF.assertValue(k,"right"),(Ae=Pt.call(this,14,se)||this).left=ue,Ae.right=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitStartsWith(this,k)},dt.prototype.isOrdinalEvaluation=function(){return i(this.getAnnotations())},dt}(y),Ne=function(Pt){function dt(ue,k){var se=this;return v.fF.assertValue(ue,"arg"),v.fF.assert(function(){return ue instanceof D},"Exists only supports Entity argument"),(se=Pt.call(this,15,k)||this).arg=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitExists(this,k)},dt}(y),Ye=function(Pt){function dt(ue,k){var se=this;return v.fF.assertValue(ue,"arg"),(se=Pt.call(this,16,k)||this).arg=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitNot(this,k)},dt}(y),Je=function(Pt){function dt(ue,k,se,Ae,$e){var Et=this;return v.fF.assertValue(ue,"type"),(Et=Pt.call(this,17,$e)||this).type=ue,Et.value=k,Et.typeEncodedValue=se,Ae&&(Et.rawValue=Ae),Et}return(0,e.__extends)(dt,Pt),Object.defineProperty(dt.prototype,"valueEncoded",{get:function(){return void 0===this.typeEncodedValue&&(this.typeEncodedValue=(0,s.CI)(this.rawValue||this.value,this.type)),this.typeEncodedValue},enumerable:!1,configurable:!0}),dt.prototype.accept=function(ue,k){return ue.visitConstant(this,k)},dt.prototype.getMetadata=function(){return{kind:1,type:this.type}},dt.getNumericValue=function(ue){if((0,m.S9)(ue)&&_.isNumber(ue.value))return ue.value;v.fF.assertFail("SQConstantExpr.getNumericValue - Unexpected SQExpr kind/value")},dt.getTextValue=function(ue){if((0,m.AW)(ue)&&_.isString(ue.value))return ue.value;v.fF.assertFail("SQConstantExpr.getTextValue - Unexpected SQExpr kind/value")},dt.getBooleanValue=function(ue){if((0,m.g)(ue)&&_.isBoolean(ue.value))return ue.value;v.fF.assertFail("SQConstantExpr.getBooleanValue - Unexpected SQExpr kind/value")},dt.getDateValue=function(ue){if((0,m.fU)(ue)&&_.isDate(ue.value))return ue.value;v.fF.assertFail("SQConstantExpr.getDateValue - Unexpected SQExpr kind/value")},dt}(y);(0,o.y)(Je.prototype);var _e=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"unit"),v.fF.assertValue(k,"arg"),(Ae=Pt.call(this,18,se)||this).unit=ue,Ae.arg=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitDateSpan(this,k)},dt}(y),pe=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"unit"),v.fF.assertValue(k,"amount"),v.fF.assertValue(se,"arg"),($e=Pt.call(this,19,Ae)||this).unit=ue,$e.arg=se,$e.amount=k,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitDateAdd(this,k)},dt.prototype.getMetadata=function(ue){return this.arg.getMetadata(ue)},dt}(y),fe=function(Pt){function dt(ue){return Pt.call(this,20,ue)||this}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitNow(this,k)},dt.prototype.getMetadata=function(){return{kind:1,type:h.Ge.fromExtendedType(519)}},dt}(y),oe=function(Pt){function dt(ue){return Pt.call(this,22,ue)||this}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitDefaultValue(this,k)},dt}(y),ye=function(Pt){function dt(ue,k){var se=this;return v.fF.assertAnyValue(ue,"defaultValueOverridesAncestors"),(se=Pt.call(this,21,k)||this).defaultValueOverridesAncestors=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitAnyValue(this,k)},dt}(y),Ce=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"input"),v.fF.assertValue(k,"fillRule"),(Ae=Pt.call(this,24,se)||this).input=ue,Ae.rule=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitFillRule(this,k)},dt}(y),Be=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"SQThemeDataColorExpr - colorId"),v.fF.assertValue(k,"SQThemeDataColorExpr - percent"),v.fF.assertValue(-1<=k&&k<=1,"percent"),(Ae=Pt.call(this,33,se)||this).colorId=ue,Ae.percent=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitThemeDataColor(this,k)},dt}(y),be=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"packageName"),v.fF.assertValue(se,"itemName"),($e=Pt.call(this,25,Ae)||this).packageName=ue,$e.packageType=k,$e.itemName=se,$e}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitResourcePackageItem(this,k)},dt}(y),Te=function(Pt){function dt(ue,k){var se=this;return v.fF.assertValue(ue,"source"),(se=Pt.call(this,31,k)||this).source=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitTransformTableRef(this,k)},dt}(y),ce=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"role"),(Ae=Pt.call(this,32,se)||this).role=ue,k&&(Ae.transform=k),Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitTransformOutputRoleRef(this,k)},dt.prototype.getMetadata=function(ue){},dt}(y),ve=function(Pt){function dt(ue,k){var se=this;return v.fF.assertValue(ue,"role"),(se=Pt.call(this,36,k)||this).role=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitRoleRef(this,k)},dt}(y),Re=function(Pt){function dt(ue,k){var se=this;return v.fF.assert(function(){return!_.isEmpty(ue)},"name"),v.fF.assertAnyValue(k,"annotations"),(se=Pt.call(this,45,k)||this).name=ue,se}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitSummaryValueRef(this,k)},dt}(y),Ke=function(Pt){function dt(ue){return Pt.call(this,37,ue)||this}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitAllRolesRef(this,k)},dt}(y),tt=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"source"),(Ae=Pt.call(this,38,se)||this).source=ue,Ae.count=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitDiscretize(this,k)},dt}(y),mt=function(Pt){function dt(ue,k,se){var Ae=this;return v.fF.assertValue(ue,"source"),v.fF.assertValue(k,"member"),(Ae=Pt.call(this,40,se)||this).source=ue,Ae.member=k,Ae}return(0,e.__extends)(dt,Pt),dt.prototype.accept=function(ue,k){return ue.visitMember(this,k)},dt}(y),He=function(Pt){function dt(ue,k,se,Ae,$e,Et){var Nt=Pt.call(this,46,Et)||this;return v.fF.assertValue(ue,"measure"),v.fF.assertValue(k,"grouping"),v.fF.assertAnyValue(se,"scalarKey"),v.fF.assert(function(){return 1===_.size(k)},"exactly 1 grouping is allowed"),Nt.measure=ue,Nt.grouping=k,Nt.scalarKey=se,Nt.pointsPerSparkline=Ae,Nt.includeMinGroupingInterval=$e,Nt}return(0,e.__extends)(dt,Pt),dt.prototype.getMetadata=function(ue){var se,k=this;return v.fF.assertValue(ue,"federatedSchema"),v.fF.assert(function(){return 1===_.size(k.grouping)},"exactly 1 grouping is allowed"),{kind:1,type:h.Ge.fromDescriptor({misc:{sparkline:{groupingType:null===(se=this.grouping[0].getMetadata(ue))||void 0===se?void 0:se.type}}})}},dt.prototype.accept=function(ue,k){return ue.visitSparklineData(this,k)},dt}(y);function ke(Pt,dt,ue,k){return new D(Pt,dt,ue,k)}function ft(Pt,dt){return _.isString(Pt),new F(Pt,dt)}function Le(Pt,dt,ue){return new E(Pt,dt,ue)}function Q(Pt,dt,ue){return new T(Pt,dt,null,ue)}function Ue(Pt,dt,ue){return new O(Pt,dt,ue)}function ae(Pt,dt,ue,k,se,Ae,$e){return new N(Pt,dt,ue,k,se,Ae,$e)}function Se(Pt,dt,ue,k,se,Ae,$e,Et){return new A(Pt,dt,ue,k,se,Ae,$e,Et)}function nt(Pt,dt,ue,k){return new I(Pt,dt,ue,k)}function vt(Pt,dt,ue){return new ie(Pt,dt,ue)}function We(Pt,dt,ue,k){return new B(Pt,dt,ue,k)}function de(Pt,dt,ue,k){return new U(Pt,dt,ue,k)}function te(Pt,dt,ue,k){return new w(Pt,dt,ue,k)}function Ve(Pt,dt,ue,k){return new x(Pt,dt,ue,k)}function xe(Pt,dt,ue){return new R(Pt,dt,ue)}function Z(Pt,dt,ue){return new g(Pt,dt,ue)}function J(Pt,dt){return new L(Pt,dt)}function Fe(Pt,dt,ue,k){return new j(Pt,dt,ue,k)}function ze(Pt,dt,ue){return new K(Pt,dt,ue)}function rt(Pt,dt,ue,k){return new W(Pt,dt,ue,k)}function Oe(Pt,dt,ue){return new ee(Pt,dt,ue)}function Pe(Pt,dt){return new Te(Pt,dt)}function X(Pt,dt,ue){return new ce(Pt,dt,ue)}function we(Pt,dt){return new ve(Pt,dt)}function Ze(Pt,dt){return new Re(Pt,dt)}function et(Pt){return new Ke(Pt)}function at(Pt,dt,ue){return Pt?dt?new he(Pt,dt,ue):Pt:dt}function St(Pt,dt,ue,k){return new q(Pt,dt,ue,k)}function Ie(Pt,dt,ue){return new Y(Pt,dt,null,ue)}function qe(Pt,dt,ue){return new Y(Pt,null,dt,ue)}function bt(Pt,dt,ue){if(!Pt)return dt;if(!dt)return Pt;if((0,m.Hi)(Pt)&&(0,m.Hi)(dt)){var k=function(Pt,dt,ue){if(Pt.args&&dt.args&&Pt.values&&dt.values){var k=Pt.args.length;if(k===dt.args.length){for(var Ae=0;Ae<k;++Ae)if(!(0,n.fS)(Pt.args[Ae],dt.args[Ae]))return;var $e=Pt.values.concat(dt.values);return Ie(Pt.args,$e,ue)}}}(Pt,dt,ue);if(k)return k}return new G(Pt,dt,ue)}function Rt(Pt,dt,ue,k){return new me(Pt,dt,ue,k)}function zt(Pt,dt,ue){return new re(Pt,dt,ue)}function Kt(Pt,dt,ue){return new le(Pt,dt,ue)}function Yt(Pt,dt){return new Ne(Pt,dt)}function ir(Pt,dt,ue){return Rt(0,Pt,dt,ue)}function lr(Pt,dt){return new Ye(Pt,dt)}function dr(Pt,dt,ue){return new Ee(Pt,dt,ue)}var br=new Je(h.Ge.fromExtendedType(0),null,(0,s.Wv)());function Cr(){return br}var pt=new Je(h.Ge.fromExtendedType(1),"");function Ut(){return pt}function er(Pt){return new fe(Pt)}function Pr(Pt){return new oe(Pt)}function mr(Pt,dt){return new ye(Pt,dt)}function gr(Pt,dt){return new Je(h.Ge.fromExtendedType(5),Pt,(0,s.O7)(Pt),void 0,dt)}function xr(Pt,dt,ue,k){return new pe(Pt,dt,ue,k)}function Vr(Pt,dt,ue){return new Je(h.Ge.fromExtendedType(519),Pt,dt,void 0,ue)}function Qr(Pt,dt,ue){return new _e(Pt,dt,ue)}function Gr(Pt,dt,ue){return new Je(h.Ge.fromExtendedType(258),Pt,dt,void 0,ue)}function Jr(Pt,dt,ue){return new Je(h.Ge.fromExtendedType(259),Pt,dt,void 0,ue)}function Hr(Pt,dt,ue){return new Je(h.Ge.fromExtendedType(260),Pt,dt,void 0,ue)}function Yr(Pt,dt,ue){return v.fF.assert(function(){return!dt||dt===(0,s.fL)(Pt)},"Incorrect encoded value specified."),new Je(h.Ge.fromExtendedType(1),Pt,dt,void 0,ue)}function Zr(Pt,dt){return null==Pt?Cr():_.isBoolean(Pt)?gr(Pt):_.isString(Pt)?Yr(Pt):_.isNumber(Pt)?dt.integer&&(0,l.U)(Pt)?Hr(Pt):Jr(Pt):Pt instanceof Date?Vr(Pt):void 0}function Or(Pt,dt,ue,k){return new Je(h.Ge.fromExtendedType(Pt),dt,void 0,ue,k)}function Ur(Pt,dt,ue,k,se,Ae){return new He(Pt,dt,ue,k,se,Ae)}function zr(Pt){return Mr.rewrite(Pt)}function ai(Pt,dt,ue){if((0,m.jX)(Pt))return hr.rewrite(Pt,dt,ue)}function lt(Pt,dt,ue){return v.fF.assertValue(Pt,"expr"),v.fF.assertValue(dt,"rule"),new Ce(Pt,dt,ue)}function ct(Pt,dt,ue){return v.fF.assertValue(Pt,"themeDataColor - colorId"),v.fF.assertValue(dt,"themeDataColor - percent"),new Be(Pt,dt,ue)}function Tt(Pt,dt,ue,k){return new be(Pt,dt,ue,k)}function ot(Pt,dt,ue){return new tt(Pt,dt,ue)}function it(Pt,dt,ue){return new mt(Pt,dt,ue)}function ht(Pt,dt,ue){return v.fF.assertValue(null==Pt||(0,d.A7)(Pt),"SQExprBuilder.color - hexCode has to either not exist or be a valid hex code"),v.fF.assertValue(dt,"SQExprBuilder.color - colorName has to exist"),Yr(Pt||dt,void 0,ue)}function yt(Pt,dt,ue){return new P(Pt,"dax",dt,ue)}function Ft(Pt){return ar.getAggregate(Pt)}function kt(Pt){if(v.fF.assertValue(Pt,"expr"),(0,m.VC)(Pt)&&Pt.type.text)return Pt.value}var Gt=function(Pt){function dt(ue,k,se,Ae){var $e=this;return v.fF.assertValue(ue,"schema"),v.fF.assertValue(k,"aggrUtils"),($e=Pt.call(this)||this).schema=ue,$e.aggrUtils=k,$e.context=Ae,se&&($e.errors=se),$e}return(0,e.__extends)(dt,Pt),dt.prototype.visitIn=function(ue){var k=Pt.prototype.visitIn.call(this,ue),se=k.args,Ae=k.values;if(Ae){v.fF.assert(function(){return!k.table},"values and table cannot both be specified for the In operator");for(var $e=function(or){v.fF.assert(function(){return or.length===se.length},"args and value tuple are not the same length");for(var Ar=0,Ge=or.length;Ar<Ge;++Ar)Et.validateCompatibleType(se[Ar],or[Ar])},Et=this,Nt=0,Bt=Ae;Nt<Bt.length;Nt++)$e(Bt[Nt])}else{var $t=k.table;v.fF.assert(function(){return!!$t},"either values or table must be non-null for an In operator"),this.validateIsTableRef($t)}return k},dt.prototype.visitCompare=function(ue){var k=Pt.prototype.visitCompare.call(this,ue);return this.validateCompatibleType(k.left,k.right),k},dt.prototype.visitColumnRef=function(ue){if((0,m.jv)(ue.source))return f.m.getSubqueryExpression(ue,this.context)||this.register(18),ue;var se=(0,r.Q)(ue);return se&&this.validateColumnExpr(se),ue},dt.prototype.visitMeasureRef=function(ue){var k=(0,r.Q)(ue);if(k){var se=(0,c.Um)(k),Ae=this.validateEntity(se.schema,se.entity);if(Ae){var $e=Ae.properties.withName(k.measure.name);(!$e||1!==$e.kind||!this.isQueryable(k))&&this.register(5)}}return ue},dt.prototype.visitAggr=function(ue){var k=Pt.prototype.visitAggr.call(this,ue);return sr.getColumnRefSQExpr(this.schema,k.arg)&&(this.aggrUtils.isSupportedAggregate(ue,this.schema,ue.func,null,this.context)||this.register(0)),k},dt.prototype.visitGroupRef=function(ue){var k=(0,r.Q)(ue);if(k){var se=(0,c.Um)(k),Ae=this.validateEntity(se.schema,se.entity);if(Ae){var $e=Ae.properties.withName(k.groupingColumn.name);(!$e||0!==$e.kind||!this.validateExprSequence(ue.groupedExprs)||!$e.column.groupingMetadata||!this.isQueryable(k))&&this.register(4)}}return ue},dt.prototype.visitHierarchy=function(ue){var k=(0,r.Q)(ue);if(k){var se=k.hierarchy;se?this.validateHierarchy(se.schema,se.entity,se.name):this.register(6)}return ue},dt.prototype.visitHierarchyLevel=function(ue){var k=(0,r.Q)(ue);if(k){var se=k.hierarchyLevel,Ae=k.columnHierarchyLevelVariation;se?this.validateHierarchyLevel(se.schema,se.entity,se.name,se.level):Ae?this.validateHierarchyLevelVariation(Ae):this.register(7)}return ue},dt.prototype.visitPercentile=function(ue){if(ue.arg.accept(this),_.isEmpty(this.errors)){var k=ue.arg.getMetadata(this.schema,this.context);(!k||0!==k.kind||!k.type||!k.type.integer&&!k.type.numeric)&&this.register(12)}return ue},dt.prototype.visitRangePercent=function(ue){return(ue.percent>1||ue.percent<0)&&this.register(13),ue.min.accept(this),ue.max.accept(this),ue},dt.prototype.visitDiscretize=function(ue){return ue.source.accept(this),ue.count<=0&&this.register(16),ue},dt.prototype.visitEntity=function(ue){return this.validateEntity(ue.schema,ue.entity),ue},dt.prototype.visitSubqueryRef=function(ue){return ue},dt.prototype.visitNamedQueryRef=function(ue){return ue},dt.prototype.visitContains=function(ue){return this.validateStartOrContainsArgs(ue.left,ue.right),ue},dt.prototype.visitStartsWith=function(ue){return this.validateStartOrContainsArgs(ue.left,ue.right),ue},dt.prototype.visitArithmetic=function(ue){return this.validateArithmeticTypes(ue.operator,ue.left,ue.right),ue},dt.prototype.visitScopedEval=function(ue){if(ue.hasGlobalScope()||ue.hasInnerMostScope())return ue;for(var k=0,se=ue.scope;k<se.length;k++){var Ae=se[k];(0,m.DB)(Ae)||(0,m.t3)(Ae)||this.register(14)}return ue},dt.prototype.visitFilteredEval=function(ue){ue.expression.accept(this),0===_.size(ue.filters)&&this.register(17);for(var k=0,se=ue.filters;k<se.length;k++){var Ae=se[k];if(!_.isEmpty(Ae.target))for(var $e=0,Et=Ae.target;$e<Et.length;$e++)Et[$e].accept(this);Ae.condition.accept(this)}return ue},dt.prototype.visitWithRef=function(ue){return ue},dt.prototype.visitTransformTableRef=function(ue){return ue},dt.prototype.visitTransformOutputRoleRef=function(ue){return ue},dt.prototype.visitRoleRef=function(ue){return ue},dt.prototype.visitSummaryValueRef=function(ue){return ue},dt.prototype.visitAllRolesRef=function(ue){return ue},dt.prototype.visitSparklineData=function(ue){if((0,b.k)(ue.measure)){var k=ue.measure.getMetadata(this.schema),se=null==k?void 0:k.type;(null==se||!se.numeric)&&(null==se||!se.integer)&&this.register(5)}else this.register(5);v.fF.assert(function(){return 1===_.size(ue.grouping)},"Only support 1 grouping for now"),_.some(ue.grouping,function(Nt){return(0,b.k)(Nt)})&&this.register(3),ue.measure.accept(this);for(var Ae=0,$e=ue.grouping;Ae<$e.length;Ae++)$e[Ae].accept(this);return ue.scalarKey&&ue.scalarKey.accept(this),ue},dt.prototype.visitNativeVisualCalc=function(ue){return ue},dt.prototype.validateExprSequence=function(ue){var k=this;return _.reduce(ue,function(se,Ae){return se&&_.isEmpty(Ae.validate(k.schema,k.aggrUtils,k.errors,k.context))},!0)},dt.prototype.validateStartOrContainsArgs=function(ue,k){ue.accept(this),k.accept(this),_.isEmpty(this.errors)&&((0,m.VC)(k)&&k.type.text?this.validateCompatibleType(ue,k,!0):this.register(10))},dt.prototype.validateArithmeticTypes=function(ue,k,se){f.m.supportsArithmetic(ue,k,this.schema)||this.register(9),f.m.supportsArithmetic(ue,se,this.schema)||this.register(10)},dt.prototype.validateCompatibleType=function(ue,k,se){var Ae=ue.getMetadata(this.schema,this.context),$e=Ae&&Ae.type,Et=k.getMetadata(this.schema,this.context),Nt=Et&&Et.type;(se?!$e||!Nt||!$e.isCompatibleFrom(Nt):$e&&Nt&&!$e.isCompatibleFrom(Nt))&&this.register(11)},dt.prototype.validateEntity=function(ue,k){var se=this.schema.schema(ue);if(se){var Ae=se.entities.withName(k);if(Ae)return Ae;this.register(2)}else this.register(1)},dt.prototype.validateIsTableRef=function(ue){1!==ue.kind&&0!==ue.kind&&this.register(15)},dt.prototype.validateHierarchy=function(ue,k,se){var Ae=this.validateEntity(ue,k);if(Ae){var $e=Ae.hierarchies.withName(se);if($e)return $e;this.register(6)}},dt.prototype.validateHierarchyLevel=function(ue,k,se,Ae){var $e=this.validateHierarchy(ue,k,se);if($e){var Et=$e.levels.withName(Ae);if(Et)return Et;this.register(7)}},dt.prototype.validateHierarchyLevelVariation=function(ue){var k=ue.source,se=this.schema.schema(k.schema),Ae=se.findProperty(k.entity,k.name);if(this.validateColumnExpr({column:ue.source}),Ae&&Ae.column){var Et=Ae.column.variations.withName(ue.variationName);if(Et){var Nt=se.findHierarchyByVariation(k.entity,k.name,ue.variationName,ue.level.name);if(Nt&&Nt.levels.withName(ue.level.level))return Et}this.register(8)}},dt.prototype.validateColumnExpr=function(ue){var k=ue.column,se=this.validateEntity(k.schema,k.entity);if(se){var Ae=se.properties.withName(k.name);if(Ae&&0===Ae.kind&&this.isQueryable(ue))return Ae;this.register(3)}},dt.prototype.register=function(ue){this.errors||(this.errors=[]),this.errors.push(ue)},dt.prototype.isQueryable=function(ue){var k=(0,c.Um)(ue);if(ue.hierarchyLevel||ue.hierarchyLevelAggr){var se=(0,p.S7)(this.schema,ue);return se&&1!==se.column.queryable}return 1!==this.schema.schema(k.schema).findProperty(k.entity,(0,c.Hp)(ue)).queryable},dt}(a.b),ar=function(Pt){function dt(){return null!==Pt&&Pt.apply(this,arguments)||this}return(0,e.__extends)(dt,Pt),dt.prototype.visitAggr=function(ue){return ue.func},dt.prototype.visitDefault=function(ue){},dt.getAggregate=function(ue){var k=new dt;return ue.accept(k)},dt}(V.vq),sr=function(Pt){function dt(ue){var k=Pt.call(this)||this;return k.schema=ue,k}return(0,e.__extends)(dt,Pt),dt.prototype.visitColumnRef=function(ue){return ue},dt.prototype.visitGroupRef=function(ue){return ue},dt.prototype.visitHierarchyLevel=function(ue){var k=ue.level,se=ue.arg,Ae=se.accept(this);if(se&&(0,m.jc)(se.arg)){var Et=Ae.getTargetEntityForVariation(this.schema,se.arg.name);if(Ae&&Et){var Nt=Ae.source.schema,Bt=ke(Nt,Et),Qt=this.schema.schema(Nt).findHierarchy(Et,se.hierarchy);if(Qt)for(var $t=0,ur=Qt.levels;$t<ur.length;$t++){var or=ur[$t];if(or.name===k)return new T(Bt,or.column.name)}}}else{var Ar=se.arg,Ge=(0,p.g8)(this.schema,Ar.schema,Ar.entity,se.hierarchy,ue.level);if(Ge)return new T(se.arg,Ge.column.name)}},dt.prototype.visitHierarchy=function(ue){return ue.arg.accept(this)},dt.prototype.visitPropertyVariationSource=function(ue){return new T(ue.arg,ue.property)},dt.prototype.visitAggr=function(ue){return ue.arg.accept(this)},dt.prototype.visitDefault=function(ue){},dt.getColumnRefSQExpr=function(ue,k){var se=new dt(ue);return k.accept(se)},dt}(V.vq),pr=function(Pt){function dt(){return null!==Pt&&Pt.apply(this,arguments)||this}return(0,e.__extends)(dt,Pt),dt.prototype.visitEntity=function(ue){var k=this.result;this.result=void 0===k||(0,n.fS)(k,ue)?ue:null},dt.prototype.visitFilteredEval=function(ue){ue.expression.accept(this)},dt.getEntityExpr=function(ue){var k=new dt;return ue.accept(k),k.result||void 0},dt}(V.PA),fr=function(Pt){function dt(){return null!==Pt&&Pt.apply(this,arguments)||this}return(0,e.__extends)(dt,Pt),dt.prototype.visitNativeVisualCalc=function(ue){},dt.prototype.visitDefault=function(ue){return ue.getTargetEntity().schema},dt.getSchemaName=function(ue){return ue.accept(dt.instance)},dt.instance=new dt,dt}(V.vq),Mr=function(Pt){function dt(){return null!==Pt&&Pt.apply(this,arguments)||this}return(0,e.__extends)(dt,Pt),dt.prototype.visitEntity=function(ue){return ue.variable?ke(ue.schema,ue.entity):ue},dt.rewrite=function(ue){return v.fF.assertValue(ue,"expr"),ue.accept(dt.instance)},dt.instance=new dt,dt}(a.b),hr=function(Pt){function dt(){return null!==Pt&&Pt.apply(this,arguments)||this}return(0,e.__extends)(dt,Pt),dt.rewrite=function(ue,k,se){return v.fF.assertValue(ue,"expr"),v.fF.assert(function(){return(0,m.jX)(ue)},"should be a native visual calc"),ue.accept(dt.instance,{expression:k,name:se})},dt.prototype.visitNativeVisualCalc=function(ue,k){return yt(k.name,k.expression,ue.getAnnotations())},dt.instance=new dt,dt}(C.p),Ir=function(Pt){function dt(){return null!==Pt&&Pt.apply(this,arguments)||this}return(0,e.__extends)(dt,Pt),dt.prototype.visitHierarchyLevel=function(ue){return ue.arg.accept(this)},dt.prototype.visitHierarchy=function(ue){return ue.arg.accept(this)},dt.prototype.visitPropertyVariationSource=function(ue){return ue.property},dt.getProperty=function(ue){var k=new dt;return ue.accept(k)},dt}(V.vq)},669266:function(Xe,H,t){t.d(H,{C6:function(){return V},FK:function(){return c},Me:function(){return h},fS:function(){return v},ll:function(){return s},qV:function(){return r}});var e=t(382088),l=t(365358),o=t(498342),d=t(979868);function v(p,C,b,y,D){return S.run(p,C,b,y,D)}var S=function(){function p(C,b,y){this.ignoreCase=C,this.ignoreVariables=b,this.ignoreAnnotations=y}return p.getInstance=function(C,b,y){C||(C=!1),b||(b=!1),y||(y=!1);var D=[+C,+b,+y].reduce(function(F,E){return F<<1|E}),P=p.instances[D];return P||(P=new p(C,b,y)),P},p.run=function(C,b,y,D,P){return(C=C||null)===(b=b||null)||!C==!b&&(o.fF.assertValue(C,"x"),o.fF.assertValue(b,"y"),C.accept(p.getInstance(y,D,P),b))},p.prototype.visitColumnRef=function(C,b){return!(!(0,d.t3)(b)&&!(0,d.wD)(b))&&C.ref===b.ref&&this.equals(C.source,b.source)&&this.equalAnnotations(C,b)},p.prototype.visitMeasureRef=function(C,b){return!(!(0,d.kb)(b)||!this.equalAnnotations(C,b))&&C.ref===b.ref&&this.equals(C.source,b.source)},p.prototype.visitNativeMeasure=function(C,b){if(!(0,d.cY)(b)||C.language!==b.language||C.expression!==b.expression||C.dataType!==b.dataType||C.format!==b.format||C.proposedName!==b.proposedName||!this.equalAnnotations(C,b))return!1;var y=C.expressionContentCache,D=b.expressionContentCache;return!y&&!D||!(!y||!D)&&y.unrecognizedIdentifiers===D.unrecognizedIdentifiers&&this.equalsAll(y.dependencies,D.dependencies)},p.prototype.visitNativeColumn=function(C,b){if(!(0,d.jk)(b)||C.language!==b.language||C.expression!==b.expression||C.dataType!==b.dataType||C.proposedName!==b.proposedName||C.format!==b.format||!this.equals(C.source,b.source)||!this.equalAnnotations(C,b))return!1;var y=C.expressionContentCache,D=b.expressionContentCache;return!y&&!D||!(!y||!D)&&y.unrecognizedIdentifiers===D.unrecognizedIdentifiers&&this.equalsAll(y.dependencies,D.dependencies)},p.prototype.visitAggr=function(C,b){return(0,d.iV)(b)&&this.equalAnnotations(C,b)&&C.func===b.func&&this.equals(C.arg,b.arg)},p.prototype.visitPercentile=function(C,b){return!(!(0,d.T5)(b)||!this.equalAnnotations(C,b))&&C.exclusive===b.exclusive&&C.k===b.k&&this.equals(C.arg,b.arg)},p.prototype.visitRangePercent=function(C,b){return!(!(0,d.YF)(b)||!this.equalAnnotations(C,b))&&C.percent===b.percent&&this.equals(C.min,b.min)&&this.equals(C.max,b.max)},p.prototype.visitGroupRef=function(C,b){var y=!1;return((0,d.wD)(b)||(0,d.t3)(b))&&(y=C.ref===b.ref&&this.equals(C.source,b.source)&&this.equalAnnotations(C,b)),(0,d.wD)(b)&&this.equalAnnotations(C,b)&&(y=y&&this.equalsAll(C.groupedExprs,b.groupedExprs)),y},p.prototype.visitHierarchy=function(C,b){return!(!(0,d.y3)(b)||!this.equalAnnotations(C,b))&&C.hierarchy===b.hierarchy&&this.equals(C.arg,b.arg)},p.prototype.visitHierarchyLevel=function(C,b){return!(!(0,d.ez)(b)||!this.equalAnnotations(C,b))&&C.level===b.level&&this.equals(C.arg,b.arg)},p.prototype.visitPropertyVariationSource=function(C,b){return!(!(0,d.jc)(b)||!this.equalAnnotations(C,b))&&C.name===b.name&&C.property===b.property&&this.equals(C.arg,b.arg)},p.prototype.visitSelectRef=function(C,b){return!(!(0,d.NH)(b)||!this.equalAnnotations(C,b)||C.expressionName!==b.expressionName||C.attributeKind!==b.attributeKind&&this.isNullOrUndefined(C.attributeKind)!==this.isNullOrUndefined(b.attributeKind))},p.prototype.isNullOrUndefined=function(C){return null==C},p.prototype.visitBetween=function(C,b){return!(!(0,d.Kh)(b)||!this.equalAnnotations(C,b))&&this.equals(C.arg,b.arg)&&this.equals(C.lower,b.lower)&&this.equals(C.upper,b.upper)},p.prototype.visitIn=function(C,b){if(!(0,d.Hi)(b)||!this.equalsAll(C.args,b.args)||!this.equalAnnotations(C,b))return!1;var y=b,D=C.values;if(D){var P=y.values;if(!P||D.length!==P.length)return!1;for(var F=0,E=D.length;F<E;F++)if(!this.equalsAll(D[F],P[F]))return!1}else if(o.fF.assert(function(){return!!C.table},"either values or table must be non-null for an In operator"),!y.table||!this.equals(C.table,y.table))return!1;return!0},p.prototype.visitEntity=function(C,b){return!(!(0,d.Lk)(b)||!this.equalAnnotations(C,b))&&C.schema===b.schema&&C.entity===b.entity&&(this.ignoreVariables||this.optionalEqual(C.variable,b.variable))},p.prototype.visitSubqueryRef=function(C,b){return!(!(0,d.jv)(b)||!this.equalAnnotations(C,b)||!C.query&&b.query||C.query&&!b.query)&&(C.query&&b.query?C.variable===b.variable&&V(C.query,b.query):C.variable===b.variable)},p.prototype.visitNamedQueryRef=function(C,b){return!(!(0,d.Il)(b)||!this.equalAnnotations(C,b))&&C.queryName===b.queryName&&(this.ignoreVariables||this.optionalEqual(C.variable,b.variable))},p.prototype.visitAnd=function(C,b){return!(!(0,d.un)(b)||!this.equalAnnotations(C,b))&&this.equals(C.left,b.left)&&this.equals(C.right,b.right)},p.prototype.visitOr=function(C,b){return!(!(0,d.Z8)(b)||!this.equalAnnotations(C,b))&&this.equals(C.left,b.left)&&this.equals(C.right,b.right)},p.prototype.visitCompare=function(C,b){return!(!(0,d.$Q)(b)||!this.equalAnnotations(C,b))&&C.comparison===b.comparison&&this.equals(C.left,b.left)&&this.equals(C.right,b.right)},p.prototype.visitConditional=function(C,b){var y=this;return!(!(0,d.Gs)(b)||!this.equalAnnotations(C,b))&&(0,l.NF)(C.cases,b.cases,function(D,P){return y.visitCase(D,P)})&&this.equalsNullableObject(C.defaultValue,b.defaultValue,function(D,P){return y.equals(D,P)})},p.prototype.visitCase=function(C,b){return this.equals(C.condition,b.condition)&&this.equals(C.value,b.value)},p.prototype.visitContains=function(C,b){return!(!(0,d.IS)(b)||!this.equalAnnotations(C,b))&&this.equals(C.left,b.left)&&this.equals(C.right,b.right)},p.prototype.visitDateSpan=function(C,b){return!(!(0,d.dZ)(b)||!this.equalAnnotations(C,b))&&C.unit===b.unit&&this.equals(C.arg,b.arg)},p.prototype.visitDateAdd=function(C,b){return!(!(0,d.Ok)(b)||!this.equalAnnotations(C,b))&&C.unit===b.unit&&C.amount===b.amount&&this.equals(C.arg,b.arg)},p.prototype.visitExists=function(C,b){return!(!(0,d.hV)(b)||!this.equalAnnotations(C,b))&&this.equals(C.arg,b.arg)},p.prototype.visitNot=function(C,b){return!(!(0,d.Ym)(b)||!this.equalAnnotations(C,b))&&this.equals(C.arg,b.arg)},p.prototype.visitNow=function(C,b){return!!this.equalAnnotations(C,b)&&(0,d.jr)(b)},p.prototype.visitDefaultValue=function(C,b){return!!this.equalAnnotations(C,b)&&(0,d.FU)(b)},p.prototype.visitAnyValue=function(C,b){return!!this.equalAnnotations(C,b)&&(0,d.cw)(b)},p.prototype.visitResourcePackageItem=function(C,b){return!(!(0,d.MI)(b)||!this.equalAnnotations(C,b))&&C.packageName===b.packageName&&C.packageType===b.packageType&&C.itemName===b.itemName},p.prototype.visitStartsWith=function(C,b){return!(!(0,d.f8)(b)||!this.equalAnnotations(C,b))&&this.equals(C.left,b.left)&&this.equals(C.right,b.right)},p.prototype.visitConstant=function(C,b){return!!((0,d.VC)(b)&&C.type.equals(b.type)&&this.equalAnnotations(C,b))&&(C.type.text&&this.ignoreCase?(0,e.vr)(C.valueEncoded,b.valueEncoded):C.valueEncoded===b.valueEncoded)},p.prototype.visitFillRule=function(C,b){var y=this;if(!(0,d.Tu)(b)||!this.equals(C.input,b.input)||!this.equalAnnotations(C,b))return!1;var D=C.rule,P=b.rule;return D===P||this.equalsNullableObject(D.linearGradient2,P.linearGradient2,function(F,E){return y.visitLinearGradient2(F,E)})&&this.equalsNullableObject(D.linearGradient3,P.linearGradient3,function(F,E){return y.visitLinearGradient3(F,E)})},p.prototype.visitLinearGradient2=function(C,b){var y=this;return o.fF.assertValue(C,"left"),o.fF.assertValue(b,"right"),this.equalsFillRuleStop(C.min,b.min)&&this.equalsFillRuleStop(C.max,b.max)&&this.equalsNullableObject(C.nullColoringStrategy,b.nullColoringStrategy,function(D,P){return y.equalsNullStrategy(D,P)})},p.prototype.visitLinearGradient3=function(C,b){var y=this;return o.fF.assertValue(C,"left"),o.fF.assertValue(b,"right"),this.equalsFillRuleStop(C.min,b.min)&&this.equalsFillRuleStop(C.mid,b.mid)&&this.equalsFillRuleStop(C.max,b.max)&&this.equalsNullableObject(C.nullColoringStrategy,b.nullColoringStrategy,function(D,P){return y.equalsNullStrategy(D,P)})},p.prototype.visitThemeDataColor=function(C,b){return o.fF.assertValue(C,"expr"),o.fF.assertValue(b,"comparand"),(0,d.wt)(b)&&C.colorId===b.colorId&&C.percent===b.percent},p.prototype.equalsFillRuleStop=function(C,b){return o.fF.assertValue(C,"stop1"),o.fF.assertValue(b,"stop2"),this.equals(C.color,b.color)&&this.equalsNullable(C.value,b.value)},p.prototype.equalsNullStrategy=function(C,b){return o.fF.assertValue(C,"equalsNullStrategy - left"),o.fF.assertValue(b,"equalsNullStrategy - right"),this.equals(C.strategy,b.strategy)&&this.equalsNullable(C.color,b.color)},p.prototype.visitArithmetic=function(C,b){return!(!(0,d.lF)(b)||!this.equalAnnotations(C,b))&&C.operator===b.operator&&this.equals(C.left,b.left)&&this.equals(C.right,b.right)},p.prototype.visitFloor=function(C,b){return!(!(0,d.xb)(b)||!this.equalAnnotations(C,b))&&C.timeUnit===b.timeUnit&&C.size===b.size&&this.equals(C.arg,b.arg)},p.prototype.visitScopedEval=function(C,b){return!(!(0,d.g5)(b)||!this.equalAnnotations(C,b))&&this.equals(C.expression,b.expression)&&this.equalsAll(C.scope,b.scope)},p.prototype.visitFilteredEval=function(C,b){return!(!(0,d.ZG)(b)||!this.equalAnnotations(C,b))&&this.equals(C.expression,b.expression)&&C.filters.length===b.filters.length&&_.every(C.filters,function(y,D){return h(y,b.filters[D])})},p.prototype.visitWithRef=function(C,b){return!(!(0,d.DB)(b)||!this.equalAnnotations(C,b))&&C.expressionName===b.expressionName},p.prototype.visitTransformTableRef=function(C,b){return!(!(0,d.PA)(b)||!this.equalAnnotations(C,b))&&C.source===b.source},p.prototype.visitTransformOutputRoleRef=function(C,b){return!(!(0,d.Im)(b)||!this.equalAnnotations(C,b))&&C.role===b.role&&C.transform===b.transform},p.prototype.visitRoleRef=function(C,b){return!(!(0,d.yL)(b)||!this.equalAnnotations(C,b))&&C.role===b.role},p.prototype.visitSummaryValueRef=function(C,b){return!(!(0,d.Bm)(b)||!this.equalAnnotations(C,b))&&C.name===b.name},p.prototype.visitAllRolesRef=function(C,b){return(0,d.LX)(b)},p.prototype.visitDiscretize=function(C,b){return!(!(0,d.P4)(b)||!this.equalAnnotations(C,b))&&C.count===b.count&&this.equals(C.source,b.source)},p.prototype.visitMember=function(C,b){return!(!(0,d.RN)(b)||!this.equalAnnotations(C,b))&&C.member===b.member&&this.equals(C.source,b.source)},p.prototype.visitSparklineData=function(C,b){return!!(0,d.tO)(b)&&this.equals(C.measure,b.measure)&&this.equalsAll(C.grouping,b.grouping)&&!!(!C.scalarKey&&!b.scalarKey||C.scalarKey&&b.scalarKey&&this.equals(C.scalarKey,b.scalarKey))&&C.pointsPerSparkline===b.pointsPerSparkline&&C.includeMinGroupingInterval===b.includeMinGroupingInterval},p.prototype.optionalEqual=function(C,b){return!C||!b||C===b},p.prototype.equals=function(C,b){return C.accept(this,b)},p.prototype.equalsNullable=function(C,b){var y=this;return this.equalsNullableObject(C,b,function(D,P){return y.equals(D,P)})},p.prototype.equalsNullableObject=function(C,b,y){return null==C&&null==b||null!=C&&null!=b&&y(C,b)},p.prototype.equalsAll=function(C,b){var y=this;return(0,l.NF)(C,b,function(D,P){return y.equals(D,P)})},p.prototype.equalAnnotations=function(C,b){return!(!this.ignoreAnnotations&&!_.isEqual(C.getAnnotations(),b.getAnnotations()))},p.prototype.visitNativeVisualCalc=function(C,b){return!(!this.ignoreAnnotations&&!_.isEqual(C.getAnnotations(),b.getAnnotations()))&&C.language===b.language&&C.expression===b.expression&&C.name===b.name},p.instances=[],p}();function h(p,C){return o.fF.assertAnyValue(p,"leftFilter"),o.fF.assertAnyValue(C,"rightFilter"),p||(p=null),C||(C=null),p===C||!(!!p!=!!C||!c(p,C))&&v(p.condition,C.condition)}function c(p,C){return o.fF.assertValue(p,"leftFilter"),o.fF.assertValue(C,"rightFilter"),(0,l.NF)(p.target,C.target,v)}function r(p,C){return o.fF.assertAnyValue(p,"filters"),o.fF.assertValue(C,"searchTarget"),!_.isEmpty(p)&&_.some(p,function(b){return h(b,C)})}function s(p,C){return!p&&!C||!(!p||!C)&&p.direction===C.direction&&v(p.expr,C.expr)}function u(p,C){return!p&&!C||!(!p||!C)&&v(p.expr,C.expr)}function a(p,C){return!p&&!C||!(!p||!C)&&(0,l.NF)(p.columns,C.columns,function(b,y){return function(p,C){return!p&&!C||!(!p||!C)&&p.role===C.role&&u(p.expression,C.expression)}(b,y)})}function f(p,C){return!p&&!C||!(!p||!C)&&p.algorithm===C.algorithm&&function(p,C){return!p&&!C||!(!p||!C)&&(0,l.NF)(p.parameters,C.parameters,function(b,y){return u(b,y)})&&a(p.table,C.table)}(p.input,C.input)&&function(p,C){return!p&&!C||!(!p||!C)&&a(p.table,C.table)}(p.output,C.output)}function V(p,C){return o.fF.assertValue(p,"x SemanticQuery"),o.fF.assertValue(C,"y SemanticQuery"),p.from().equals(C.from())&&(0,l.NF)(p.where(),C.where(),h)&&(0,l.NF)(p.orderBy(),C.orderBy(),s)&&(0,l.NF)(p.select(),C.select(),u)&&(0,l.NF)(p.groupBy(),C.groupBy(),u)&&(0,l.NF)(p.transforms(),C.transforms(),f)&&p.top()===C.top()}},688215:function(Xe,H,t){t.d(H,{q:function(){return S}});var e=t(498342),l=t(979868),o=t(669266),d=t(678776),v=t(470756);function S(c,r,s){var n,u=s.disableHierarchyLevelGrouping,i=s.useNativeReferenceNames,a=[];if(0===r.length)return a;for(var m=0,f=(n=d.m.isSQExprArray(r)?r.map(function(b){return d.m.transformToVisualQueryField(b)}):r).length;m<f;m++){var V=n[m],p=V.expr,C=V.isFieldParameter;e.fF.assertValue(p,"Expression not found"),i||!(0,l.ez)(p)?a.push({expr:p,children:null,selectQueryIndex:m,isHierarchyLevelsGroup:!1,isFieldParameter:C}):h(c,a,p,m,u)}return a}function h(c,r,s,u,i){var a=!0,n=(0,v.ZB)(s)||(0,v.uW)(s),m=_.last(r);if(!i&&m&&m.children&&(0,o.fS)(m.expr,n)){var f=(0,v.wA)(c,s.arg);f instanceof Array&&(a=!(0,v.hG)(f,_.last(m.children),s))}a||i?r.push({expr:n,children:[s],selectQueryIndex:u,isHierarchyLevelsGroup:!0,isFieldParameter:!1}):(e.fF.assertValue(m,"There should be a group to add the variation to"),e.fF.assertValue(m.children,"The group should have children to add the variation to"),m.children.push(s))}},373973:function(Xe,H,t){t.d(H,{H:function(){return S}});var e=t(973188),l=t(498342),o=t(411429),d=t(91157),v=t(446731);function S(c){return h.rewrite(c)}var h=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return(0,e.__extends)(r,c),r.rewrite=function(s){return l.fF.assertValue(s,"expr"),s.accept(r.instance)},r.prototype.visitDefault=function(s){var u=(0,o.Q)(s);return u&&u.percentOfGrandTotal&&(s=(0,v.B)(u.percentOfGrandTotal.baseExpr)),s},r.instance=new r,r}(d.p)},155167:function(Xe,H,t){t.d(H,{E:function(){return S}});var e=t(973188),l=t(498342),o=t(411429),d=t(91157),v=t(446731);function S(c){return h.rewrite(c)}var h=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return(0,e.__extends)(r,c),r.rewrite=function(s){return l.fF.assertValue(s,"expr"),s.accept(r.instance)},r.prototype.visitDefault=function(s){var u=(0,o.Q)(s);return u&&u.percentOfRoleTotal&&(s=(0,v.B)(u.percentOfRoleTotal.baseExpr)),s},r.instance=new r,r}(d.p)},603662:function(Xe,H,t){t.d(H,{b:function(){return S}});var e=t(973188),l=t(365358),o=t(498342),d=t(512322),v=t(669266),S=function(){function c(){}return c.prototype.visitColumnRef=function(r){var s=r.source,u=s.accept(this);return s===u?r:new d.Wh(u,r.ref,void 0,r.getAnnotations())},c.prototype.visitMeasureRef=function(r){var s=r.source,u=s.accept(this);return s===u?r:new d.UY(u,r.ref,r.getAnnotations())},c.prototype.visitNativeMeasure=function(r){var s=r.expressionContentCache&&r.expressionContentCache.dependencies,u=s&&this.rewriteAll(s);return s===u?r:new d.$f(r.language,r.expression,r.dataType,r.proposedName,(0,e.__assign)((0,e.__assign)({},r.expressionContentCache),{dependencies:u}),r.format,r.getAnnotations())},c.prototype.visitNativeColumn=function(r){var s=r.expressionContentCache&&r.expressionContentCache.dependencies,u=s&&this.rewriteAll(s),i=r.source.accept(this);if(s===u&&r.source===i)return r;var a=r.expressionContentCache?(0,e.__assign)((0,e.__assign)({},r.expressionContentCache),{dependencies:u}):void 0;return new d.F1(r.language,r.expression,r.dataType,i,r.proposedName,a,r.format,r.getAnnotations())},c.prototype.visitAggr=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.v0(u,r.func,r.includeAllTypes,r.getAnnotations())},c.prototype.visitSelectRef=function(r){return r},c.prototype.visitPercentile=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d._n(u,r.k,r.exclusive,r.getAnnotations())},c.prototype.visitRangePercent=function(r){var s=r.min,u=s.accept(this),i=r.max,a=i.accept(this);return s===u&&i===a?r:new d.LE(u,a,r.percent,r.getAnnotations())},c.prototype.visitGroupRef=function(r){for(var s=r.source,u=r.source.accept(this),i=r.groupedExprs,a=new Array(i.length),n=0;n<i.length;n++)a[n]=i[n].accept(this);return s===u&&function(c,r){o.fF.assertValue(c,"x"),o.fF.assertValue(r,"y");var s=c.length;if(s!==r.length)return!1;for(var u=0;u<s;u++)if(!(0,v.fS)(c[u],r[u]))return!1;return!0}(i,a)?r:new d.qg(r.ref,u,a,r.getAnnotations())},c.prototype.visitHierarchy=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.jE(u,r.hierarchy,r.getAnnotations())},c.prototype.visitHierarchyLevel=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.vD(u,r.level,r.getAnnotations())},c.prototype.visitPropertyVariationSource=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.c7(u,r.name,r.property,r.getAnnotations())},c.prototype.visitEntity=function(r){return r},c.prototype.visitSubqueryRef=function(r){return r},c.prototype.visitNamedQueryRef=function(r){return r},c.prototype.visitAnd=function(r){var s=r.left,u=s.accept(this),i=r.right,a=i.accept(this);return s===u&&i===a?r:new d.uV(u,a,r.getAnnotations())},c.prototype.visitBetween=function(r){var s=r.arg,u=s.accept(this),i=r.lower,a=i.accept(this),n=r.upper,m=n.accept(this);return s===u&&i===a&&n===m?r:new d.I6(u,a,m,r.getAnnotations())},c.prototype.visitIn=function(r){var a,s=r.args,u=this.rewriteAll(s),i=r.values,n=r.table,m=n;if(i){o.fF.assert(function(){return!n},"values and table cannot be both specified for the In operator");for(var f=0,V=i.length;f<V;f++){var p=i[f],C=this.rewriteAll(p);p!==C&&!a&&(a=(0,l.qn)(i,f)),a&&a.push(C)}}return n&&(o.fF.assert(function(){return!i},"values and table cannot be both specified for the In operator"),m=n.accept(this)),s!==u||a||n!==m?new d.Xg(u,a||i,m,r.getAnnotations()):r},c.prototype.rewriteAll=function(r){var s=this;return o.fF.assertValue(r,"origExprs"),(0,l.UU)(r,function(u){return u.accept(s)})},c.prototype.visitOr=function(r){var s=r.left,u=s.accept(this),i=r.right,a=i.accept(this);return s===u&&i===a?r:new d.Cc(u,a,r.getAnnotations())},c.prototype.visitCompare=function(r){var s=r.left,u=s.accept(this),i=r.right,a=i.accept(this);return s===u&&i===a?r:new d.wU(r.comparison,u,a,r.getAnnotations())},c.prototype.visitConditional=function(r){o.fF.assertNonEmpty(r.cases,"orig.cases");for(var a,s=r.defaultValue,u=s&&s.accept(this),i=r.cases,n=0,m=i.length;n<m;n++){var f=i[n],V=this.visitCase(f);f!==V&&!a&&(a=(0,l.qn)(i,n)),a&&a.push(V)}return a||(a=i),u===s&&a===i?r:new d.c8(a,u,r.getAnnotations())},c.prototype.visitCase=function(r){var s=r.condition,u=s.accept(this),i=r.value,a=i.accept(this);return s===u&&i===a?r:{condition:u,value:a}},c.prototype.visitContains=function(r){var s=r.left,u=s.accept(this),i=r.right,a=i.accept(this);return s===u&&i===a?r:new d.ev(u,a,r.getAnnotations())},c.prototype.visitExists=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.eX(u,r.getAnnotations())},c.prototype.visitNot=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.v3(u,r.getAnnotations())},c.prototype.visitStartsWith=function(r){var s=r.left,u=s.accept(this),i=r.right,a=i.accept(this);return s===u&&i===a?r:new d.fw(u,a,r.getAnnotations())},c.prototype.visitConstant=function(r){return r},c.prototype.visitFloor=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.UG(u,r.size,r.timeUnit,r.getAnnotations())},c.prototype.visitDateSpan=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.AC(r.unit,u,r.getAnnotations())},c.prototype.visitDateAdd=function(r){var s=r.arg,u=s.accept(this);return s===u?r:new d.YB(r.unit,r.amount,u,r.getAnnotations())},c.prototype.visitNow=function(r){return r},c.prototype.visitDefaultValue=function(r){return r},c.prototype.visitAnyValue=function(r){return r},c.prototype.visitArithmetic=function(r){var s=r.left,u=s.accept(this),i=r.right,a=i.accept(this);return s===u&&i===a?r:new d.MH(u,a,r.operator,r.getAnnotations())},c.prototype.visitScopedEval=function(r){var s=r.expression,u=s.accept(this),i=r.scope,a=this.rewriteAll(i);return s===u&&i===a?r:new d.kC(u,a,r.getAnnotations())},c.prototype.visitFilteredEval=function(r){for(var s=r.expression,u=s.accept(this),i=!1,a=[],n=0,m=r.filters;n<m.length;n++){var f=m[n],V=f.target,p=void 0;_.isEmpty(V)||(p=this.rewriteAll(V));var C=f.condition,b=f.condition.accept(this);(V!==p||C!==b)&&(i=!0),a.push({target:p,condition:b})}return s!==u||i?new d.Gv(u,a,r.getAnnotations()):r},c.prototype.visitWithRef=function(r){return r},c.prototype.visitTransformTableRef=function(r){return r},c.prototype.visitTransformOutputRoleRef=function(r){return r},c.prototype.visitRoleRef=function(r){return r},c.prototype.visitSummaryValueRef=function(r){return r},c.prototype.visitAllRolesRef=function(r){return r},c.prototype.visitFillRule=function(r){var s=r.input,u=s.accept(this),i=r.rule,a=i.linearGradient2,n=a;a&&(n=this.visitLinearGradient2(a));var m=i.linearGradient3,f=m;if(m&&(f=this.visitLinearGradient3(m)),s!==u||a!==n||m!==f){var V={};return n&&(V.linearGradient2=n),f&&(V.linearGradient3=f),new d.DJ(u,V,r.getAnnotations())}return r},c.prototype.visitLinearGradient2=function(r){o.fF.assertValue(r,"origGradient");var s=r.min,u=this.visitFillRuleStop(s),i=r.max,a=this.visitFillRuleStop(i),n=r.nullColoringStrategy,m=this.visitFillNullStrategy(n);if(s!==u||i!==a||n!==m){var f={min:u,max:a};return m&&(f.nullColoringStrategy=m),f}return r},c.prototype.visitLinearGradient3=function(r){o.fF.assertValue(r,"origGradient");var s=r.min,u=this.visitFillRuleStop(s),i=r.mid,a=this.visitFillRuleStop(i),n=r.max,m=this.visitFillRuleStop(n),f=r.nullColoringStrategy,V=this.visitFillNullStrategy(f);if(s!==u||i!==a||n!==m||f!==V){var p={min:u,mid:a,max:m};return V&&(p.nullColoringStrategy=V),p}return r},c.prototype.visitFillRuleStop=function(r){o.fF.assertValue(r,"stop");var s=r.color,u=r.color.accept(this),i=r.value,a=i;if(i&&(a=i.accept(this)),s!==u||i!==a){var n={color:u};return a&&(n.value=a),n}return r},c.prototype.visitFillNullStrategy=function(r){if(r){var s=r.strategy,u=s.accept(this),i=r.color,a=i;if(i&&(a=i.accept(this)),s!==u||i!==a){var n={strategy:u};return a&&(n.color=a),n}return r}},c.prototype.visitThemeDataColor=function(r){return r},c.prototype.visitResourcePackageItem=function(r){return r},c.prototype.visitDiscretize=function(r){var s=r.source.accept(this);return s===r.source?r:new d.ex(s,r.count,r.getAnnotations())},c.prototype.visitMember=function(r){var s=r.source.accept(this);return s===r.source?r:new d.Jm(s,r.member,r.getAnnotations())},c.prototype.visitSparklineData=function(r){var s,u=r.measure.accept(this),i=this.rewriteAll(r.grouping),a=null===(s=r.scalarKey)||void 0===s?void 0:s.accept(this),n=r.pointsPerSparkline,m=r.includeMinGroupingInterval;return u===r.measure&&i===r.grouping&&r.scalarKey===a&&r.pointsPerSparkline===n&&r.includeMinGroupingInterval===m?r:new d.GF(u,i,a,n,m)},c.prototype.visitNativeVisualCalc=function(r){return r},c}()},91157:function(Xe,H,t){t.d(H,{p:function(){return e}});var e=function(){function l(){}return l.prototype.visitEntity=function(o,d){return this.visitDefault(o,d)},l.prototype.visitSubqueryRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitColumnRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitMeasureRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitAggr=function(o,d){return this.visitDefault(o,d)},l.prototype.visitPercentile=function(o,d){return this.visitDefault(o,d)},l.prototype.visitRangePercent=function(o,d){return this.visitDefault(o,d)},l.prototype.visitGroupRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitHierarchy=function(o,d){return this.visitDefault(o,d)},l.prototype.visitHierarchyLevel=function(o,d){return this.visitDefault(o,d)},l.prototype.visitPropertyVariationSource=function(o,d){return this.visitDefault(o,d)},l.prototype.visitSelectRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitAnd=function(o,d){return this.visitDefault(o,d)},l.prototype.visitBetween=function(o,d){return this.visitDefault(o,d)},l.prototype.visitIn=function(o,d){return this.visitDefault(o,d)},l.prototype.visitOr=function(o,d){return this.visitDefault(o,d)},l.prototype.visitCompare=function(o,d){return this.visitDefault(o,d)},l.prototype.visitConditional=function(o,d){return this.visitDefault(o,d)},l.prototype.visitContains=function(o,d){return this.visitDefault(o,d)},l.prototype.visitExists=function(o,d){return this.visitDefault(o,d)},l.prototype.visitNot=function(o,d){return this.visitDefault(o,d)},l.prototype.visitStartsWith=function(o,d){return this.visitDefault(o,d)},l.prototype.visitConstant=function(o,d){return this.visitDefault(o,d)},l.prototype.visitDateSpan=function(o,d){return this.visitDefault(o,d)},l.prototype.visitDateAdd=function(o,d){return this.visitDefault(o,d)},l.prototype.visitNow=function(o,d){return this.visitDefault(o,d)},l.prototype.visitDefaultValue=function(o,d){return this.visitDefault(o,d)},l.prototype.visitAnyValue=function(o,d){return this.visitDefault(o,d)},l.prototype.visitArithmetic=function(o,d){return this.visitDefault(o,d)},l.prototype.visitFloor=function(o,d){return this.visitDefault(o,d)},l.prototype.visitFillRule=function(o,d){return this.visitDefault(o,d)},l.prototype.visitThemeDataColor=function(o,d){return this.visitDefault(o,d)},l.prototype.visitResourcePackageItem=function(o,d){return this.visitDefault(o,d)},l.prototype.visitScopedEval=function(o,d){return this.visitDefault(o,d)},l.prototype.visitFilteredEval=function(o,d){return this.visitDefault(o,d)},l.prototype.visitWithRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitTransformTableRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitTransformOutputRoleRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitRoleRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitAllRolesRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitDiscretize=function(o,d){return this.visitDefault(o,d)},l.prototype.visitMember=function(o,d){return this.visitDefault(o,d)},l.prototype.visitNamedQueryRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitNativeMeasure=function(o,d){return this.visitDefault(o,d)},l.prototype.visitNativeColumn=function(o,d){return this.visitDefault(o,d)},l.prototype.visitSummaryValueRef=function(o,d){return this.visitDefault(o,d)},l.prototype.visitSparklineData=function(o,d){return this.visitDefault(o,d)},l.prototype.visitNativeVisualCalc=function(o,d){return this.visitDefault(o,d)},l.prototype.visitDefault=function(o,d){return o},l}()},466120:function(Xe,H,t){t.d(H,{F:function(){return S}});var e=t(973188),l=t(498342),o=t(411429),d=t(91157),v=t(446731);function S(c){return h.rewrite(c)}var h=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return(0,e.__extends)(r,c),r.rewrite=function(s){return l.fF.assertValue(s,"expr"),s.accept(r.instance)},r.prototype.visitDefault=function(s){var u=(0,o.Q)(s);return u&&!u.percentOfGrandTotal&&(s=(0,v.B)({percentOfGrandTotal:{baseExpr:u}})),s},r.instance=new r,r}(d.p)},89322:function(Xe,H,t){t.d(H,{z:function(){return S}});var e=t(973188),l=t(498342),o=t(411429),d=t(91157),v=t(446731);function S(c,r){return h.rewrite(c,r)}var h=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return(0,e.__extends)(r,c),r.rewrite=function(s,u){return l.fF.assertValue(s,"expr"),s.accept(r.instance,u)},r.prototype.visitDefault=function(s,u){var i=(0,o.Q)(s);return i&&!i.percentOfRoleTotal&&(s=(0,v.B)({percentOfRoleTotal:{baseExpr:i,roles:u}})),s},r.instance=new r,r}(d.p)},979868:function(Xe,H,t){t.d(H,{$Q:function(){return ie},AW:function(){return r},Az:function(){return Be},Bm:function(){return B},DB:function(){return L},FU:function(){return Ee},Gs:function(){return he},Hi:function(){return n},IS:function(){return q},Il:function(){return W},Im:function(){return T},Kh:function(){return j},LX:function(){return U},Lk:function(){return u},MI:function(){return O},NH:function(){return w},Ny:function(){return p},Ok:function(){return G},P4:function(){return pe},PA:function(){return M},Pe:function(){return N},RN:function(){return fe},S9:function(){return S},T5:function(){return P},Tu:function(){return Je},VC:function(){return v},WC:function(){return ye},X5:function(){return f},Xx:function(){return C},YF:function(){return F},Ym:function(){return re},Z8:function(){return ee},ZG:function(){return R},cY:function(){return y},cw:function(){return Ne},dZ:function(){return Y},ez:function(){return a},f8:function(){return Ye},fU:function(){return c},g:function(){return h},g5:function(){return x},hV:function(){return me},iV:function(){return m},jX:function(){return Ce},jc:function(){return E},jk:function(){return D},jr:function(){return le},jv:function(){return g},kb:function(){return b},lF:function(){return l},lg:function(){return V},t3:function(){return d},tO:function(){return oe},uR:function(){return s},un:function(){return K},wD:function(){return A},wt:function(){return _e},xb:function(){return o},y3:function(){return i},yL:function(){return I}});var e=t(498342);function l(be){return e.fF.assertValue(be,"expr"),23===be.kind}function o(be){return e.fF.assertValue(be,"expr"),35===be.kind}function d(be){return e.fF.assertValue(be,"expr"),2===be.kind}function v(be){return e.fF.assertValue(be,"expr"),17===be.kind}function S(be){return e.fF.assertValue(be,"expr"),v(be)&&be.type.numeric}function h(be){return e.fF.assertValue(be,"expr"),v(be)&&be.type.bool}function c(be){return e.fF.assertValue(be,"expr"),v(be)&&be.type.dateTime}function r(be){return e.fF.assertValue(be,"expr"),v(be)&&be.type.text}function s(be){return e.fF.assertValue(be,"expr"),v(be)&&0===be.type.primitiveType&&null===be.value}function u(be){return e.fF.assertValue(be,"expr"),0===be.kind}function i(be){return e.fF.assertValue(be,"expr"),6===be.kind}function a(be){return e.fF.assertValue(be,"expr"),7===be.kind}function n(be){return e.fF.assertValue(be,"expr"),10===be.kind}function m(be){return e.fF.assertValue(be,"expr"),4===be.kind}function f(be){return e.fF.assertValue(be,"expr"),m(be)&&3===be.func}function V(be){return e.fF.assertValue(be,"expr"),m(be)&&4===be.func}function p(be){return e.fF.assertValue(be,"expr"),m(be)&&1===be.func}function C(be){return e.fF.assertValue(be,"expr"),m(be)&&6===be.func}function b(be){return e.fF.assertValue(be,"expr"),3===be.kind}function y(be){return e.fF.assertValue(be,"expr"),43===be.kind}function D(be){return e.fF.assertValue(be,"expr"),44===be.kind}function P(be){return e.fF.assertValue(be,"expr"),28===be.kind}function F(be){return e.fF.assertValue(be,"expr"),29===be.kind}function E(be){return e.fF.assertValue(be,"expr"),5===be.kind}function w(be){return e.fF.assertValue(be,"expr"),30===be.kind}function x(be){return e.fF.assertValue(be,"expr"),26===be.kind}function R(be){return e.fF.assertValue(be,"expr"),41===be.kind}function g(be){return e.fF.assertValue(be,"expr"),1===be.kind}function L(be){return e.fF.assertValue(be,"expr"),27===be.kind}function M(be){return e.fF.assertValue(be,"expr"),31===be.kind}function T(be){return e.fF.assertValue(be,"expr"),32===be.kind}function O(be){return e.fF.assertValue(be,"expr"),25===be.kind}function N(be){return e.fF.assertValue(be,"expr"),13===be.kind}function A(be){return e.fF.assertValue(be,"expr"),34===be.kind}function I(be){return e.fF.assertValue(be,"expr"),36===be.kind}function B(be){return e.fF.assertValue(be,"expr"),45===be.kind}function U(be){return e.fF.assertValue(be,"expr"),37===be.kind}function W(be){return e.fF.assertValue(be,"expr"),39===be.kind}function j(be){return e.fF.assertValue(be,"expr"),9===be.kind}function K(be){return e.fF.assertValue(be,"expr"),8===be.kind}function ee(be){return e.fF.assertValue(be,"expr"),11===be.kind}function ie(be){return e.fF.assertValue(be,"expr"),13===be.kind}function he(be){return e.fF.assertValue(be,"expr"),42===be.kind}function q(be){return e.fF.assertValue(be,"expr"),12===be.kind}function Y(be){return e.fF.assertValue(be,"expr"),18===be.kind}function G(be){return e.fF.assertValue(be,"expr"),19===be.kind}function me(be){return e.fF.assertValue(be,"expr"),15===be.kind}function re(be){return e.fF.assertValue(be,"expr"),16===be.kind}function le(be){return e.fF.assertValue(be,"expr"),20===be.kind}function Ee(be){return e.fF.assertValue(be,"expr"),22===be.kind}function Ne(be){return e.fF.assertValue(be,"expr"),21===be.kind}function Ye(be){return e.fF.assertValue(be,"expr"),14===be.kind}function Je(be){return e.fF.assertValue(be,"expr"),24===be.kind}function _e(be){return e.fF.assertValue(be,"expr"),33===be.kind}function pe(be){return e.fF.assertValue(be,"expr"),38===be.kind}function fe(be){return e.fF.assertValue(be,"expr"),40===be.kind}function oe(be){return e.fF.assertValue(be,"expr"),46===be.kind}function ye(be){return e.fF.assertValue(be,"expr"),0===be.comparison&&(s(be.right)||s(be.left))}function Ce(be){return e.fF.assertValue(be,"expr"),47===be.kind}function Be(be){return e.fF.assertValue(be,"expr"),m(be)&&5===be.func}},689819:function(Xe,H,t){t.d(H,{L:function(){return e},Q:function(){return l}});var e="PowerBI.SQExprEvaluationKind",l="PowerBI.SQExprTextOperatorOption"},678776:function(Xe,H,t){t.d(H,{m:function(){return m}});var e=t(973188),l=t(365358),o=t(498342),d=t(915925),v=t(726501),S=t(411429),h=t(930550),c=t(512322),r=t(960514),s=t(162320),u=t(939701),i=t(979868),a=t(669266),n=t(292170),m=function(){function b(){}return b.supportsArithmetic=function(y,D,P){var F=D.getMetadata(P),E=F&&F.type;return!(!F||!E)&&(2===y||3===y?E.numeric:E.numeric||E.dateTime||E.duration)},b.indexOfExpr=function(y,D){o.fF.assertValue(y,"items"),o.fF.assertValue(D,"searchElement");for(var P=0,F=y.length;P<F;P++)if((0,a.fS)(y[P],D))return P;return-1},b.sequenceEqual=function(y,D){o.fF.assertValue(y,"x"),o.fF.assertValue(D,"y");var P=y.length;if(P!==D.length)return!1;for(var F=0;F<P;F++)if(!(0,a.fS)(y[F],D[F]))return!1;return!0},b.isSubset=function(y,D){o.fF.assertValue(y,"x"),o.fF.assertValue(D,"y");for(var P=function(g){if(-1===_.findIndex(D,function(M){return(0,a.fS)(M,g)}))return{value:!1}},F=0,E=y;F<E.length;F++){var x=P(E[F]);if("object"==typeof x)return x.value}return!0},b.isFromVariation=function(y){return o.fF.assertValue(y,"expr"),(0,i.y3)(y)&&(0,i.jc)(y.arg)||(0,i.ez)(y)&&this.isFromVariation(y.arg)},b.discourageAggregation=function(y,D){var P=this.getSchemaCapabilities(y,D);return _.some(P,function(F){return F.discourageQueryAggregateUsage})},b.getAggregateBehavior=function(y,D){o.fF.assertValue(y,"expr"),o.fF.assertValue(D,"schema");var P=this.getConceptualColumn(y,D);if(P)return P.aggregateBehavior},b.getSchemaCapabilities=function(y,D){o.fF.assertValue(y,"expr"),o.fF.assertValue(D,"schema");var P=(0,S.Q)(y,D);if(P){var F=(0,v.pV)(P);return _.chain(F).map(function(E){var w;return null===(w=D.schema(E.schema))||void 0===w?void 0:w.capabilities}).filter(function(E){return!!E}).value()}},b.getKpiMetadata=function(y,D){var P=this.getKpiStatusProperty(y,D);if(P)return P.kpiValue.measure.kpi.statusMetadata;var F=this.getKpiTrendProperty(y,D);return F?F.kpiValue.measure.kpi.trendMetadata:void 0},b.getParameterMetadata=function(y,D){var P=y.getConceptualProperty(D,!0),F=P&&P.column&&P.column.parameterMetadata;return F&&this.getDataViewParameterColumnMetadata(F)},b.getWhatIfParameterMetadata=function(y){if(y&&y.parameterMetadata&&0===y.parameterMetadata.kind)return y.parameterMetadata},b.getFieldParameterQuerySelects=function(y,D){var P;if(!_.isEmpty(y)){var F=y.getConceptualProperty(D);if(F){var E=F.column;if(E&&2===y.kind&&2===(null===(P=E.parameterMetadata)||void 0===P?void 0:P.kind)){var w=y.getTargetEntity(),x=D.schema(w.schema).entities.withName(w.entity),R=_.some(x.properties,function(O){return O.column&&O.column.keys});o.fF.assert(function(){return R},"A key should always exist within the fieldParameter entity");for(var g=0,L=x.properties;g<L.length;g++){var M=L[g];if(M.column&&M.column.keys&&1===M.column.keys.length){var T=M.column.keys[0];if(T===F)return{parameterColumn:y,labelColumn:(0,c.Oh)(w,M.name)};if(F===M)return{labelColumn:y,parameterColumn:(0,c.Oh)(w,T.name)}}}return{parameterColumn:y}}}}},b.getFieldParameters=function(y){var D=[];for(var P in y){var E=y[P].getFieldParameters();D.push({role:P,parameters:E})}return D},b.getParameterValuesOrder=function(y,D){if(!_.isEmpty(y))for(var P=0,F=y;P<F.length;P++){var E=F[P],w=null==E?void 0:E.conditions();if(!_.isEmpty(w)){var x=(0,h.lZ)(D,w[0]);if(!_.isEmpty(x))return x}}return[]},b.isFilterForFieldParameter=function(y,D,P){if(y)for(var E=0,w=b.getFieldParameters(y);E<w.length;E++)for(var R=0,g=w[E].parameters;R<g.length;R++){var M=b.getFieldParameterQuerySelects(g[R].expr,P);if(M&&!_.isEmpty(b.getParameterValuesOrder([D],M.parameterColumn)))return!0}return!1},b.shouldUseAsFieldParameter=function(y,D,P,F,E){return!(!y||E||!F||(0,i.ez)(P)||!b.getFieldParameterQuerySelects(P,D))},b.getDataViewParameterColumnMetadata=function(y){return{kind:this.getDataViewParameterKind(y),mappedMParameterNames:y.mappedMParameterNames,supportsMultipleValues:y.supportsMultipleValues,supportsSelectAll:y.supportsSelectAll}},b.getDataViewParameterKind=function(y){if(null!=y){var D=y.kind;if(null==D)return 0;switch(D){case 0:return 0;case 1:return 1;case 2:return 2;default:return void o.fF.assertNever(D)}}},b.hasMappedMParameter=function(y,D){var P=this.getConceptualParameterMetadata(y,D);return 1===(null==P?void 0:P.kind)},b.isSupportMulitpleValuesEnabled=function(y,D){var P=this.getConceptualParameterMetadata(y,D);return null==P?void 0:P.supportsMultipleValues},b.getConceptualParameterMetadata=function(y,D){var P=this.getConceptualColumn(y,D);return null==P?void 0:P.parameterMetadata},b.getConceptualEntity=function(y,D){return o.fF.assertValue(y,"entityExpr"),D.schema(y.schema).entities.withName(y.entity)},b.hasMappedColumn=function(y,D){return f.hasMappedColumn(y,D)},b.getColumnnsWithKey=function(y,D){o.fF.assertValue(y,"keyExpr"),o.fF.assertValue(D,"schema");var P=y.getTargetColumnRef(D);if(P){var F=P.getConceptualProperty(D);if(F&&F.column){var E=P.getTargetEntity();if(E){var w=this.getConceptualEntity(E,D);if(w){for(var x=[],R=0,g=w.properties;R<g.length;R++){var L=g[R];L.column&&L.column.keys&&_.includes(L.column.keys,F)&&x.push((0,c.Oh)(E,L.name))}return x}}}}},b.tryGetExprFromFilter=function(y){if((0,i.Hi)(y.condition)&&1===_.size(y.condition.args))return y.condition.args[0];if((0,i.$Q)(y.condition)){if((0,i.VC)(y.condition.left))return y.condition.right;if((0,i.VC)(y.condition.right))return y.condition.left}},b.checkExprForValidMParameters=function(y,D){return this.checkExprForMapped(y,D).isValidSQExpr},b.checkExprForMapped=function(y,D){return(0,i.$Q)(y)?this.checkComparsionForMapped(y,D):(0,i.Hi)(y)?this.checkInForMapped(y,D):(0,i.Z8)(y)?this.checkOrForMapped(y,D):{isValidSQExpr:!b.hasMappedColumn(y,D)}},b.checkComparsionForMapped=function(y,D){if(!(0,i.t3)(y.left))return{isValidSQExpr:!0};var E,P=b.getConceptualParameterMetadata(y.left,D);if(1===(null==P?void 0:P.kind)){if(0!==y.comparison||(0,i.uR)(y.right))return{isValidSQExpr:!1};if(!P.supportsSelectAll&&(0,i.cw)(y.right))return{isValidSQExpr:!1};E=y.left}return{isValidSQExpr:!0,columnExpr:E}},b.checkInForMapped=function(y,D){for(var F,P=y.args,E=!1,w=!1,x=0,R=P;x<R.length;x++){var g=R[x];if((0,i.t3)(g)){var L=b.getConceptualParameterMetadata(g,D);if(E=1===(null==L?void 0:L.kind)){F=g,w=null==L?void 0:L.supportsMultipleValues;break}}}if(E){if(P.length>1||y.table&&(0,i.jv)(y.table)||y.values.length>1&&!w)return{isValidSQExpr:!1};if(_.some(y.values,function(T){return _.some(T,function(O){return(0,i.uR)(O)})}))return{isValidSQExpr:!1}}return{isValidSQExpr:!0,columnExpr:F}},b.checkOrForMapped=function(y,D){var P=this.checkExprForMapped(y.left,D),F=this.checkExprForMapped(y.right,D),E=P.columnExpr,w=F.columnExpr;return(0,a.fS)(E,w)?E&&!b.isSupportMulitpleValuesEnabled(E,D)||w&&!b.isSupportMulitpleValuesEnabled(w,D)?{isValidSQExpr:!1}:{isValidSQExpr:P.isValidSQExpr&&F.isValidSQExpr,columnExpr:E}:{isValidSQExpr:!1}},b.getKpiStatusProperty=function(y,D){var P=y.getConceptualProperty(D);if(P){var F=P.kpiValue;if(F&&F.measure.kpi.status===P)return P}},b.getKpiTrendProperty=function(y,D){var P=y.getConceptualProperty(D);if(P){var F=P.kpiValue;if(F&&F.measure.kpi.trend===P)return P}},b.getDefaultValue=function(y,D){var P=this.getConceptualColumn(y,D);if(P)return P.defaultValue},b.getConceptualColumn=function(y,D){if(y&&D){var P=(0,S.Q)(y);if(P){var F=P.column||P.groupingColumn;if(F){if(D.schema(F.schema)&&F.name){var E=D.schema(F.schema).findProperty(F.entity,F.name);if(E)return E.column}}else{var w=P.hierarchyLevel;if(w){var x=(0,v.Um)(P),R=x.schema;if(D.schema(R)){var g=D.schema(R).findHierarchy(x.entity,w.name);if(g){var L=g.levels.withName(w.level);if(L&&L.column)return L.column.column}}}}}}},b.getDefaultValues=function(y,D){if(!_.isEmpty(y)&&D){for(var P=[],F=0,E=y;F<E.length;F++){var x=this.getDefaultValue(E[F],D);x&&P.push(x)}return P}},b.getPrimitiveValuesFromSQConstantExpr=function(y){if((0,i.VC)(y)){if((0,i.AW)(y))return c.jz.getTextValue(y);if((0,i.fU)(y))return c.jz.getDateValue(y);if((0,i.S9)(y))return c.jz.getNumericValue(y);if((0,i.g)(y))return c.jz.getBooleanValue(y)}},b.convertSemanticFilterToDataViewScopeIdentity=function(y){var D=[],P=y.conditions();if(P)for(var F=0,E=P;F<E.length;F++){var w=E[F],x=new h.aL;if(w.accept(x),x.keys&&x.values&&x.values.length>0&&x.keys.length>0&&x.values.length%x.keys.length==0)for(var R=0;R<x.values.length;R+=x.keys.length){for(var g=[],L=[],M=0;M<x.keys.length;M++)g.push(x.keys[M]),L.push(x.values[R+M]);var T=(0,n.R)(g,L),O=(0,d.TZ)(T);D.push(O)}}return D},b.getActiveTablesNames=function(y){var P=new s.Nh;if(y){var F=y.from();if(void 0!==F)for(var E=0,w=F.keys();E<w.length;E++)F.source(w[E]).accept(P,null)}return _.map(P.entities,function(R){return R.entity})},b.isRelatedToMany=function(y,D,P,F){return this.isRelated(y,D,P,0,2,F)||this.isRelated(y,P,D,2,0,F)},b.isRelatedToOne=function(y,D,P,F){return this.isRelated(y,D,P,2,0,F)||this.isRelated(y,P,D,0,2,F)},b.isRelated=function(y,D,P,F,E,w){var x=b.getConceptualEntity(D,y);if(o.fF.assertValue(x,"could not resolve conceptual entity form sourceExpr."),_.isEmpty(x.navigationProperties))return!1;var R=b.getConceptualEntity(P,y);o.fF.assertValue(R,"could not resolve conceptual entity form targetExpr.");var g=[];for(g.push(x);!_.isEmpty(g);){var M=g.shift().navigationProperties;if(!_.isEmpty(M))for(var T=0,O=M;T<O.length;T++){var N=O[T];if(N.isActive&&(null==w||N.behavior===w)&&N.targetMultiplicity===E&&N.sourceMultiplicity===F){if(N.targetEntity===R)return!0;g.push(N.targetEntity)}}}return!1},b.isRelatedOneToOne=function(y,D,P,F){var E=b.getConceptualEntity(D,y);o.fF.assertValue(E,"could not resolve conceptual entity form sourceExpr.");var w=b.getConceptualEntity(P,y);o.fF.assertValue(w,"could not resolve conceptual entity form targetExpr.");var x=E.navigationProperties,R=w.navigationProperties;return(!_.isEmpty(x)||!_.isEmpty(R))&&(this.hasOneToOneNavigation(x,w,F)||this.hasOneToOneNavigation(R,E,F))},b.haveTheSameSchema=function(y){o.fF.assertNonEmpty(y,"exprs should not be null, undefined, or empty");var D=y[0].schema;return _.chain(y).drop(1).every(function(P){return P.schema===D}).value()},b.areHierarchicallyRelated=function(y,D){if(_.isEmpty(D)||!this.haveTheSameSchema(D))return!1;if(1===(D=_.values(_.keyBy(D,function(U){return U.entity}))).length)return!0;var P=D[0].schema,F=_.find(y.schemas,function(U){return U.name===P});if(!F)return!1;var E=D.map(function(U){return b.getConceptualEntity(U,y)});if(_.some(E,function(U){return!U}))return!1;var x=b.buildEntityGraph(F,this.allowedHierarchicalMultiplicityPairForTraversal,0),R=[].concat(E),g=R.shift(),L=this.findEntityPath([g],R,x,!0);if(1===L.length&&0===L[0].unableToVisit.length)return!0;var M=_.values(_.keyBy(_.flatten(L.map(function(U){return U.unableToVisit})),function(U){return U.name})),T=this.findEntityPath([g],M,x,!1);if(1===T.length&&0===T[0].unableToVisit.length)return!0;for(var O=function(W){if(_.find(T,function(K){for(var ee=!0,ie=0,he=W.unableToVisit;ie<he.length;ie++)if(K.unableToVisit.indexOf(he[ie])>=0){ee=!1;break}return ee}))return{value:!0}},N=0,A=L;N<A.length;N++){var B=O(A[N]);if("object"==typeof B)return B.value}return!1},b.buildEntityGraph=function(y,D,P){for(var F={},E=y.entities.map(function(B){return B}),w=0,x=E;w<x.length;w++)F[(R=x[w]).name]={entity:R};for(var g=0,L=E;g<L.length;g++){var R,M=(R=L[g]).navigationProperties;if(!_.isEmpty(M))for(var T=F[R.name],O=0,N=M;O<N.length;O++){var A=N[O];if(A.isActive&&(void 0===A.behavior||void 0===P||A.behavior===P)){var I=F[A.targetEntity.name];I&&(this.multiplicityPairMatches([A.targetMultiplicity,A.sourceMultiplicity],D)&&this.addTraversalNodes(I,T),1===A.crossFilterDirection&&this.multiplicityPairMatches([A.sourceMultiplicity,A.targetMultiplicity],D)&&this.addTraversalNodes(T,I))}}}return F},b.addTraversalNodes=function(y,D){y.forwardNodes=y.forwardNodes||[],_.find(y.forwardNodes,function(P){return P.entity.name===D.entity.name})||y.forwardNodes.push(D),D.backwardNodes=D.backwardNodes||[],_.find(D.backwardNodes,function(P){return P.entity.name===y.entity.name})||D.backwardNodes.push(y)},b.multiplicityPairMatches=function(y,D){if(y&&2===y.length&&!_.isEmpty(D))for(var P=0,F=D;P<F.length;P++){var E=F[P];if(2===E.length&&y[0]===E[0]&&y[1]===E[1])return!0}return!1},b.findEntityPath=function(y,D,P,F){if(D=D||[],0===(y=y||[]).length||0===D.length||!P)return[{path:y,unableToVisit:D}];for(var E=0,w=y;E<w.length;E++)if(!P[w[E].name])return[{path:y,unableToVisit:D}];var g=P[y[y.length-1].name],L=F?g.forwardNodes:g.backwardNodes;if(!L||0===L.length)return[{path:y,unableToVisit:D}];for(var M=this.getEntityLoopPatterns(y),T=[],O=0,N=L;O<N.length;O++){var I=N[O].entity,B=[].concat(y);B.push(I);for(var U=!1,W=0,j=M;W<j.length;W++)if(this.endsWith(B,j[W])){U=!0;break}if(!U){var ee=D,ie=D.indexOf(I);ie>=0&&(ee=[].concat(D)).splice(ie,1);var he=this.findEntityPath(B,ee,P,F);if(1===he.length&&0===he[0].unableToVisit.length){T=he;break}for(var q=0,Y=he;q<Y.length;q++)T.push(Y[q])}}return 0===T.length&&(T=[{path:y,unableToVisit:D}]),T},b.getEntityLoopPatterns=function(y){for(var D=[],F=function(g){if(y.filter(function(A){return A===g}).length>=2)for(var L=g,M=void 0,T=0,O=y;T<O.length;T++){var N=O[T];N===L?(M&&(M.push(N),D.push(M)),M=[N]):M&&M.push(N)}},E=0,w=_.values(_.keyBy(y,function(R){return R.name}));E<w.length;E++)F(w[E]);return D},b.endsWith=function(y,D){if(D.length>y.length)return!1;for(var P=!0,F=y.length-1,E=D.length-1;E>=0;--E){if(D[E]!==y[F]){P=!1;break}F--}return P},b.hasOneToOneNavigation=function(y,D,P){if(_.isEmpty(y))return!1;for(var F=0,E=y;F<E.length;F++){var w=E[F];if(w.isActive&&(null==P||w.behavior===P)&&w.targetEntity===D&&0===w.sourceMultiplicity&&0===w.targetMultiplicity)return!0}return!1},b.concatUnique=function(y,D){o.fF.assertValue(y,"leftExprs"),o.fF.assertValue(D,"rightExprs");for(var P=(0,l.JG)(y),F=0,E=D;F<E.length;F++){var w=E[F];-1===this.indexOfExpr(P,w)&&P.push(w)}return P},b.detectTransformExpr=function(y){o.fF.assertValue(y,"expr");var D=new V;return y.accept(D),D.sawTransformOutputRoleRef},b.isExprValidForAggregation=function(y){return o.fF.assertValue(y,"expr"),!this.isFromVariation(y)&&!(0,i.y3)(y)},b.isExprValidForSorting=function(y){return o.fF.assertValue(y,"expr"),!(0,i.ZG)(y)},b.isExprValidForFiltering=function(y){return o.fF.assertValue(y,"expr"),!((0,i.ZG)(y)||(0,i.Im)(y)||(0,i.tO)(y)||(0,i.jX)(y))},b.isExprValidForClustering=function(y){return o.fF.assertValue(y,"expr"),!((0,i.ZG)(y)||(0,i.y3)(y)||(0,i.ez)(y)||(0,i.tO)(y)||(0,i.jX)(y))},b.isExprValidForAnalysisTransform=function(y){return o.fF.assertValue(y,"expr"),!(0,i.ZG)(y)},b.getSubqueryExpression=function(y,D){var F,E,P=(0,S.Q)(y);if(P.columnSubquery)P.columnSubquery.subqueryRef?F=P.columnSubquery.subqueryRef:P.columnSubquery.subquery?E=new s.vd(P.columnSubquery.subquery):o.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query");else{if(!P.columnAggrSubquery)return void o.fF.assertFail("invalid fieldExpr in subquery");P.columnAggrSubquery.subqueryRef?F=P.columnAggrSubquery.subqueryRef:P.columnAggrSubquery.subquery?E=new s.vd(P.columnAggrSubquery.subquery):o.fF.assertFail("fieldExpr needs to contain either a subquery reference or an inlined query")}E||(o.fF.assert(function(){return!(!D||!D.sources)},"context sources should be available for evaluating subquery source"),D.sources[F]?(E=D.sources[F],o.fF.assert(function(){return E&&(0,u.y)(E)},"column referencing source should be available and be a subquery source")):o.fF.assertFail("No context for the subquery ref.  Cannot construct SQFromSubquerySource without underlying reference."));var w=E;if(w){var x=(0,v._6)(P),R=void 0;if(w.subquery&&(R=w.subquery.select().withName(x)),R)return R.expr}},b.buildExprEvaluationContext=function(y){o.fF.assertValue(y,"from");var D=y.sources();if(D)return{sources:D}},b.transformToVisualQueryField=function(y,D,P,F,E){return{expr:y,queryName:D,isFieldParameter:!!P,nativeReferenceName:F,isHidden:E}},b.isSQExprArray=function(y){return y[0]instanceof c.Il},b.syncSQExprWithFilterIdenities=function(y,D){var P=new C(y,(0,i.Ym)(D)),F=D.accept(P);if(F)return F.accept(new p)},b.validate=function(y,D,P){o.fF.assertValue(D,"schema");var F=[];if(y&&(F=y.validate(D,P,F)),!_.isEmpty(F))return F},b.allowedHierarchicalMultiplicityPairForTraversal=[[0,2],[0,0]],b}(),f=function(b){function y(D){var P=b.call(this)||this;return P.schema=D,P.detectedMappedColumn=!1,P}return(0,e.__extends)(y,b),y.prototype.visitIn=function(D){for(var P=0,F=D.args;P<F.length;P++)if(F[P].accept(this),this.detectedMappedColumn)return},y.prototype.visitColumnRef=function(D){m.hasMappedMParameter(D,this.schema)&&(this.detectedMappedColumn=!0)},y.hasMappedColumn=function(D,P){var F=new y(P);return D.accept(F),F.detectedMappedColumn},y}(r.PA),V=function(b){function y(){var D=b.call(this)||this;return D.sawTransformOutputRoleRef=!1,D}return(0,e.__extends)(y,b),y.prototype.visitTransformOutputRoleRef=function(D){this.sawTransformOutputRoleRef=!0},y}(r.PA),p=function(b){function y(){return null!==b&&b.apply(this,arguments)||this}return(0,e.__extends)(y,b),y.prototype.visitIn=function(D){return(0,c.Sh)(D.args,this.removeDuplicates(D.values),D.getAnnotations())},y.prototype.visitAnd=function(D){var P=D.right.accept(this),F=D.left.accept(this);return(0,c.xD)(F,P,D.getAnnotations())},y.prototype.visitOr=function(D){var P=D.right.accept(this),F=D.left.accept(this);return(0,c.or)(F,P,D.getAnnotations())},y.prototype.visitDefault=function(D){return D},y.prototype.removeDuplicates=function(D){return _.uniqWith(D,function(P,F){for(var E=P.length,w=0;w<E;w++)if(!(0,a.fS)(P[w],F[w]))return!1;return!0})},y}(r.vq),C=function(b){function y(D,P){var F=b.call(this)||this;return F.isRootNotExpr=!1,F.hasBeenModified=!1,F.isSupportedSQExpr=!1,F.filterIdentities=D,F.isRootNotExpr=P,F}return(0,e.__extends)(y,b),y.prototype.visitIn=function(D){if(this.verifyIsSupportedSQExpr(D),!this.shouldDropWholeSQExpr()){if(this.noChangeRequired(D.args))return D;var P=this.tryToRemoveColumnsToMatchVisual(D),F=P.newArgs,E=P.newValues;if(!this.shouldDropWholeSQExpr()&&0!==F.length)return(0,c.Sh)(F,E,D.getAnnotations())}},y.prototype.visitDefault=function(D){if(this.verifyIsSupportedSQExpr(D),!this.shouldDropWholeSQExpr()){var P=D.left,F=D.right;if(P&&_.some(this.filterIdentities,function(E){return(0,a.fS)(E,P)})||F&&_.some(this.filterIdentities,function(E){return(0,a.fS)(E,F)}))return D;this.hasBeenModified=!0}},y.prototype.visitAnd=function(D){if(this.verifyIsSupportedSQExpr(D),!this.shouldDropWholeSQExpr()){var P=D.right.accept(this),F=D.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(F&&P)return(0,c.xD)(F,P,D.getAnnotations());if(F)return F;if(P)return P}}},y.prototype.visitOr=function(D){if(this.verifyIsSupportedSQExpr(D),!this.shouldDropWholeSQExpr()){var P=D.right.accept(this),F=D.left.accept(this);if(!this.shouldDropWholeSQExpr()){if(F&&P)return(0,c.or)(F,P,D.getAnnotations());if(F)return F;if(P)return P}}},y.prototype.visitNot=function(D){if(this.verifyIsSupportedSQExpr(D),!this.shouldDropWholeSQExpr()){var P=D.arg.accept(this);if(P&&(this.isRootNotExpr||!this.hasBeenModified))return(0,c.ff)(P,D.getAnnotations())}},y.prototype.verifyIsSupportedSQExpr=function(D){this.isSupportedSQExpr=(0,i.Z8)(D)?(0,i.Hi)(D.right)&&((0,i.Z8)(D.left)||(0,i.Hi)(D.left)):(0,i.un)(D)?(0,i.Ym)(D.right)&&((0,i.Hi)(D.left)||(0,i.Z8)(D.left)):(0,i.Ym)(D)?(0,i.Z8)(D.arg)||(0,i.Ym)(D.arg):!(0,i.Hi)(D)||!!D.values&&D.values.length>0},y.prototype.shouldDropWholeSQExpr=function(){return this.hasBeenModified&&!this.isSupportedSQExpr},y.prototype.noChangeRequired=function(D){var P=this,F=D.map(function(E){return{expr:[E],index:_.findIndex(P.filterIdentities,function(x){return(0,a.fS)(x,E)})}});return 0===F[0].index&&F.every(function(E,w){return E.index>-1&&(w===F.length-1||E.index+1===F[w+1].index)})},y.prototype.tryToRemoveColumnsToMatchVisual=function(D){var P=this,F=[],E=[],x=D.values,R=D.args.map(function(O){return{expr:[O],index:_.findIndex(P.filterIdentities,function(A){return(0,a.fS)(A,O)})}});if(R[0].index>0)return this.hasBeenModified=!0,{newArgs:F,newValues:E};x=_.unzip(x);var g=R.map(function(O,N){return{expr:x[N],index:O.index}});F=R.filter(function(O){return O.index>-1}).map(function(O){return O.expr[0]}),E=g.filter(function(O){return O.index>-1}).map(function(O){return O.expr}),R=R.filter(function(O){return O.index>-1});for(var L=0;L<R.length-1;L++)if(R[L].index+1<R[L+1].index){F=F.splice(0,L+1),E=E.splice(0,L+1);break}return E=_.unzip(E),this.hasBeenModified=!0,{newArgs:F,newValues:E}},y}(r.vq)},216018:function(Xe,H,t){t.d(H,{L:function(){return d}});var e=t(973188),l=t(269865);function d(S,h){return void 0===h&&(h="select"),S?S.accept(v.instance,h):h}var v=function(S){function h(){return null!==S&&S.apply(this,arguments)||this}return(0,e.__extends)(h,S),h.prototype.visitEntity=function(c){return c.entity},h.prototype.visitNamedQueryRef=function(c){return"QueryRef(".concat(c.queryName,")")},h.prototype.visitColumnRef=function(c){return c.source.accept(this)+"."+c.ref},h.prototype.visitGroupRef=function(c){return c.source.accept(this)+"."+c.ref},h.prototype.visitMeasureRef=function(c){return c.source.accept(this)+"."+c.ref},h.prototype.visitNativeMeasure=function(c){return"NativeMeasure(".concat(c.proposedName,")")},h.prototype.visitNativeColumn=function(c){return"NativeColumn(".concat(c.proposedName,")")},h.prototype.visitHierarchy=function(c){return c.arg.accept(this)+"."+c.hierarchy},h.prototype.visitHierarchyLevel=function(c){return c.arg.accept(this)+"."+c.level},h.prototype.visitPropertyVariationSource=function(c){return c.arg.accept(this)+"."+c.property+"."+c.name},h.prototype.visitAggr=function(c){return(0,l.b)(c.func)+"("+c.arg.accept(this)+")"},h.prototype.visitPercentile=function(c){return(c.exclusive?"Percentile.Exc(":"Percentile.Inc(")+c.arg.accept(this)+", "+c.k+")"},h.prototype.visitRangePercent=function(c){return"RangePercent("+c.min.accept(this)+", "+c.max.accept(this)+", "+c.percent.toString()+")"},h.prototype.visitArithmetic=function(c){return(0,l.K)(c.operator)+"("+c.left.accept(this)+", "+c.right.accept(this)+")"},h.prototype.visitConstant=function(c){return"const"},h.prototype.visitTransformOutputRoleRef=function(c){var r=c.role;return c.transform&&(r+="."+c.transform),r},h.prototype.visitScopedEval=function(c){var r=this;return"ScopedEval("+c.expression.accept(this)+", ["+_.map(c.scope,function(s){return s.accept(r)}).join(", ")+"])"},h.prototype.visitFilteredEval=function(c){var r=this;return"FilteredEval(".concat(c.expression.accept(this),", [").concat(_.map(c.filters,function(u){return i=u,a="{",_.isEmpty(i.target)||(a+="Target(".concat(_.map(i.target,function(n){return n.accept(r)}).join(", "),"), ")),a+"Condition(".concat(i.condition.accept(r),")}");var i,a}).join(", "),"])")},h.prototype.visitRoleRef=function(c){return"Role."+c.role},h.prototype.visitSummaryRef=function(c){return"SummaryValueRef."+c.name},h.prototype.visitAllRolesRef=function(c){return"AllRoles"},h.prototype.visitDiscretize=function(c){return"Discretize(".concat(c.source.accept(this),", ").concat(c.count,")")},h.prototype.visitMember=function(c){return"Member(".concat(c.source.accept(this),", ").concat(c.member,")")},h.prototype.visitCompare=function(c){var r=c.left.accept(this),s=c.right.accept(this),u="";switch(c.comparison){case 0:u="=";break;case 1:u=">";break;case 2:u=">=";break;case 3:u="<";break;case 4:u="<="}return"".concat(r).concat(u).concat(s)},h.prototype.visitSparklineData=function(c){var r=this;return"SparklineData(".concat(c.measure.accept(this),"_[").concat(_.map(c.grouping,function(s){return s.accept(r)}).join(","),"])")},h.prototype.visitDefault=function(c,r){return r||"expr"},h.instance=new h,h}(t(960514).Ml)},292170:function(Xe,H,t){t.d(H,{R:function(){return o}});var e=t(498342),l=t(512322);function o(d,v){e.fF.assert(function(){return d.length===v.length},"fileds and values need to be the same size");for(var S=[],h=0;h<d.length;h++)S.push((0,l.qu)(0,d[h],v[h]));if(!_.isEmpty(S)){for(var c,r=0,s=S;r<s.length;r++)c=(0,l.xD)(c,s[r]);return c}}},684261:function(Xe,H,t){t.d(H,{p:function(){return o}});var e=t(498342),l=t(669266);function o(d,v){e.fF.assertValue(d,"items"),e.fF.assertValue(v,"searchElement");for(var S=0,h=d.length;S<h;S++){var c=d[S];if(c&&(0,l.fS)(c.expr,v))return S}return-1}},491346:function(Xe,H,t){t.d(H,{F:function(){return d}});var e=t(973188),l=t(498342);function d(S){return l.fF.assertValue(S,"expr"),S.accept(v.instance)}var v=function(S){function h(){return null!==S&&S.apply(this,arguments)||this}return(0,e.__extends)(h,S),h.prototype.visitCompare=function(c){return 0===c.comparison&&c.right.accept(this)},h.prototype.visitAnd=function(c){return c.left.accept(this)&&c.right.accept(this)},h.prototype.visitDefaultValue=function(c){return!0},h.prototype.visitDefault=function(c){return!1},h.instance=new h,h}(t(960514).vq)},173818:function(Xe,H,t){t.d(H,{k:function(){return d}});var e=t(973188),l=t(498342);function d(S){return l.fF.assertValue(S,"expr"),S.accept(v.instance)}var v=function(S){function h(){return null!==S&&S.apply(this,arguments)||this}return(0,e.__extends)(h,S),h.prototype.visitMeasureRef=function(c){return!0},h.prototype.visitNativeMeasure=function(c){return!0},h.prototype.visitNativeVisualCalc=function(c){return!0},h.prototype.visitAggr=function(c){return!0},h.prototype.visitArithmetic=function(c){return!0},h.prototype.visitFilteredEval=function(c){return c.expression.accept(this)},h.prototype.visitSparklineData=function(c){return!0},h.prototype.visitDefault=function(c){return!1},h.instance=new h,h}(t(960514).vq)},960514:function(Xe,H,t){t.d(H,{Ml:function(){return v},PA:function(){return h},vq:function(){return S}});var e=t(973188),l=t(498342),o=t(912644),d=t(19757),v=function(){function c(){}return c.prototype.visitEntity=function(r,s){return this.visitDefault(r,s)},c.prototype.visitSubqueryRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitNamedQueryRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitColumnRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitMeasureRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitAggr=function(r,s){return this.visitDefault(r,s)},c.prototype.visitPercentile=function(r,s){return this.visitDefault(r,s)},c.prototype.visitRangePercent=function(r,s){return this.visitDefault(r,s)},c.prototype.visitGroupRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitHierarchy=function(r,s){return this.visitDefault(r,s)},c.prototype.visitHierarchyLevel=function(r,s){return this.visitDefault(r,s)},c.prototype.visitPropertyVariationSource=function(r,s){return this.visitDefault(r,s)},c.prototype.visitSelectRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitBetween=function(r,s){return this.visitDefault(r,s)},c.prototype.visitIn=function(r,s){return this.visitDefault(r,s)},c.prototype.visitAnd=function(r,s){return this.visitDefault(r,s)},c.prototype.visitOr=function(r,s){return this.visitDefault(r,s)},c.prototype.visitCompare=function(r,s){return this.visitDefault(r,s)},c.prototype.visitConditional=function(r,s){return this.visitDefault(r,s)},c.prototype.visitContains=function(r,s){return this.visitDefault(r,s)},c.prototype.visitExists=function(r,s){return this.visitDefault(r,s)},c.prototype.visitNot=function(r,s){return this.visitDefault(r,s)},c.prototype.visitStartsWith=function(r,s){return this.visitDefault(r,s)},c.prototype.visitConstant=function(r,s){return this.visitDefault(r,s)},c.prototype.visitDateSpan=function(r,s){return this.visitDefault(r,s)},c.prototype.visitDateAdd=function(r,s){return this.visitDefault(r,s)},c.prototype.visitNow=function(r,s){return this.visitDefault(r,s)},c.prototype.visitDefaultValue=function(r,s){return this.visitDefault(r,s)},c.prototype.visitAnyValue=function(r,s){return this.visitDefault(r,s)},c.prototype.visitArithmetic=function(r,s){return this.visitDefault(r,s)},c.prototype.visitFloor=function(r,s){return this.visitDefault(r,s)},c.prototype.visitFillRule=function(r,s){return this.visitDefault(r,s)},c.prototype.visitThemeDataColor=function(r,s){return this.visitDefault(r,s)},c.prototype.visitResourcePackageItem=function(r,s){return this.visitDefault(r,s)},c.prototype.visitScopedEval=function(r,s){return this.visitDefault(r,s)},c.prototype.visitFilteredEval=function(r,s){return this.visitDefault(r,s)},c.prototype.visitWithRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitTransformTableRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitTransformOutputRoleRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitRoleRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitSummaryValueRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitAllRolesRef=function(r,s){return this.visitDefault(r,s)},c.prototype.visitDiscretize=function(r,s){return this.visitDefault(r,s)},c.prototype.visitMember=function(r,s){return this.visitDefault(r,s)},c.prototype.visitNativeMeasure=function(r,s){return this.visitDefault(r,s)},c.prototype.visitNativeColumn=function(r,s){return this.visitDefault(r,s)},c.prototype.visitSparklineData=function(r,s){return this.visitDefault(r,s)},c.prototype.visitNativeVisualCalc=function(r,s){return this.visitDefault(r,s)},c.prototype.visitDefault=function(r,s){},c}(),S=function(c){function r(){return null!==c&&c.apply(this,arguments)||this}return(0,e.__extends)(r,c),r}(v),h=function(){function c(){}return c.prototype.visitEntity=function(r){this.visitDefault(r)},c.prototype.visitSubqueryRef=function(r){this.visitDefault(r)},c.prototype.visitNamedQueryRef=function(r){this.visitDefault(r)},c.prototype.visitColumnRef=function(r){r.source.accept(this)},c.prototype.visitMeasureRef=function(r){r.source.accept(this)},c.prototype.visitAggr=function(r){r.arg.accept(this)},c.prototype.visitPercentile=function(r){r.arg.accept(this)},c.prototype.visitRangePercent=function(r){r.min.accept(this),r.max.accept(this)},c.prototype.visitGroupRef=function(r){r.source.accept(this);for(var s=0,u=r.groupedExprs;s<u.length;s++)u[s].accept(this)},c.prototype.visitHierarchy=function(r){r.arg.accept(this)},c.prototype.visitHierarchyLevel=function(r){r.arg.accept(this)},c.prototype.visitPropertyVariationSource=function(r){r.arg.accept(this)},c.prototype.visitSelectRef=function(r){this.visitDefault(r)},c.prototype.visitBetween=function(r){r.arg.accept(this),r.lower.accept(this),r.upper.accept(this)},c.prototype.visitIn=function(r){for(var s=r.args,u=0,i=s.length;u<i;u++)s[u].accept(this);var a=r.values;if(a)for(u=0,i=a.length;u<i;u++)for(var n=a[u],m=0,f=n.length;m<f;m++)n[m].accept(this);else r.table.accept(this)},c.prototype.visitAnd=function(r){r.left.accept(this),r.right.accept(this)},c.prototype.visitOr=function(r){r.left.accept(this),r.right.accept(this)},c.prototype.visitCompare=function(r){r.left.accept(this),r.right.accept(this)},c.prototype.visitConditional=function(r){l.fF.assertValue(r,"expr"),l.fF.assertNonEmpty(r.cases,"expr.cases");for(var s=0,u=r.cases;s<u.length;s++){var i=u[s];i.condition.accept(this),i.value.accept(this)}r.defaultValue&&r.defaultValue.accept(this)},c.prototype.visitContains=function(r){r.left.accept(this),r.right.accept(this)},c.prototype.visitExists=function(r){r.arg.accept(this)},c.prototype.visitNot=function(r){r.arg.accept(this)},c.prototype.visitStartsWith=function(r){r.left.accept(this),r.right.accept(this)},c.prototype.visitConstant=function(r){this.visitDefault(r)},c.prototype.visitDateSpan=function(r){r.arg.accept(this)},c.prototype.visitDateAdd=function(r){r.arg.accept(this)},c.prototype.visitNow=function(r){this.visitDefault(r)},c.prototype.visitDefaultValue=function(r){this.visitDefault(r)},c.prototype.visitAnyValue=function(r){this.visitDefault(r)},c.prototype.visitArithmetic=function(r){r.left.accept(this),r.right.accept(this)},c.prototype.visitFloor=function(r){r.arg.accept(this)},c.prototype.visitFillRule=function(r){r.input.accept(this),(0,o.RL)(r.rule,new d._(this,null))},c.prototype.visistExists=function(r){r.arg.accept(this)},c.prototype.visitThemeDataColor=function(r){this.visitDefault(r)},c.prototype.visitResourcePackageItem=function(r){this.visitDefault(r)},c.prototype.visitScopedEval=function(r){r.expression.accept(this);for(var s=0,u=r.scope;s<u.length;s++)u[s].accept(this)},c.prototype.visitFilteredEval=function(r){r.expression.accept(this);for(var s=0,u=r.filters;s<u.length;s++){var i=u[s];if(!_.isEmpty(i.target))for(var a=0,n=i.target;a<n.length;a++)n[a].accept(this);i.condition.accept(this)}},c.prototype.visitWithRef=function(r){this.visitDefault(r)},c.prototype.visitTransformTableRef=function(r){this.visitDefault(r)},c.prototype.visitTransformOutputRoleRef=function(r){this.visitDefault(r)},c.prototype.visitRoleRef=function(r){this.visitDefault(r)},c.prototype.visitSummaryValueRef=function(r){this.visitDefault(r)},c.prototype.visitAllRolesRef=function(r){this.visitDefault(r)},c.prototype.visitDiscretize=function(r){this.visitDefault(r)},c.prototype.visitMember=function(r){this.visitDefault(r)},c.prototype.visitNativeMeasure=function(r){this.visitDefault(r)},c.prototype.visitNativeColumn=function(r){this.visitDefault(r)},c.prototype.visitSparklineData=function(r){var s;r.measure.accept(this);for(var u=0,i=r.grouping;u<i.length;u++)i[u].accept(this);null===(s=r.scalarKey)||void 0===s||s.accept(this)},c.prototype.visitNativeVisualCalc=function(r,s){this.visitDefault(r)},c.prototype.visitDefault=function(r){},c}()},162320:function(Xe,H,t){t.d(H,{$r:function(){return a},Ms:function(){return m},Nh:function(){return V},QS:function(){return c},Qo:function(){return s},SX:function(){return h},Ww:function(){return p},Yg:function(){return n},cL:function(){return u},vd:function(){return r}});var e=t(365358),l=t(498342),o=t(382088),d=t(512322),v=t(669266),S=t(939701),h=function(){function C(b,y){this.schema=b,this.entity=y}return C.prototype.accept=function(b,y){return b.visitEntity(this,y)},C.prototype.equals=function(b){return b&&this.entity===b.entity&&this.schema===b.schema},C}(),c=function(){function C(b,y){this.schema=b,this.pod=y}return C.prototype.accept=function(b,y){return b.visitPod(this,y)},C.prototype.equals=function(b){return b&&this.pod===b.pod&&this.schema===b.schema},C}(),r=function(){function C(b){this.subquery=b}return C.prototype.accept=function(b,y){return b.visitSubquery(this,y)},C.prototype.equals=function(b){return b&&(0,v.C6)(this.subquery,b.subquery)},C}(),s=function(){function C(b){this.expr=b}return C.prototype.accept=function(b,y){return b.visitExpr(this,y)},C.prototype.equals=function(b){return b&&(0,v.fS)(this.expr,b.expr)},C}(),u=function(){function C(b,y){if(this.items=b||{},this.usedNames=y||{},!_.isEmpty(this.items))for(var D=0,P=this.keys();D<P.length;D++)this.usedNames[P[D]]=!0}return C.prototype.keys=function(){return Object.keys(this.items)},C.prototype.source=function(b){return this.items[b]},C.prototype.sources=function(){return this.items},C.prototype.usedSourceNames=function(){return this.usedNames},C.prototype.ensureSource=function(b,y){l.fF.assertValue(b,"source");var D=this.getSourceKeyFromItems(b);return D?{name:D}:{name:this.addSource(b,y),new:!0}},C.prototype.remove=function(b){this.items[b]&&delete this.usedNames[b],delete this.items[b]},C.prototype.getSourceKeyFromItems=function(b){var y=this.keys();for(var D in y){var P=y[D];if(i(this.items[P],b))return P}},C.prototype.addSource=function(b,y){var P=y||b.accept(new f,null);return P=(0,o.zE)(this.usedNames,P),this.items[P]=b,this.usedNames[P]=!0,P},C.prototype.clone=function(){var b=new C(null,_.clone(this.usedNames));return $.extend(b.items,this.items),b},C.prototype.equals=function(b){var y=this;if(!b)return!1;var D=this.keys(),P=b.keys();return D.length===P.length&&(0,e.NF)(D,P,function(F,E){return i(y.source(F),b.source(E))})},C.prototype.renameSources=function(b){for(var D,y=this.items,P=Object.keys(y),F=0,E=P.length;F<E;F++){var w=P[F],x=w;if(b[w]&&(x=(0,o.zE)(b,w),!D)){D={};for(var R=0;R<F;R++){var g=P[R];D[g]=y[g]}}b[x]=!0,D&&(D[x]=y[w])}return D?new C(D):this},C}();function i(C,b){if(C===b)return!0;if(C&&b){if(a(C)&&a(b)||n(C)&&n(b))return C.equals(b);if((0,S.y)(C)&&(0,S.y)(b))return C.equals(b);if(m(C)&&m(b))return C.equals(b)}return!1}function a(C){return l.fF.assertValue(C,"source"),null!=C.entity}function n(C){return l.fF.assertValue(C,"source"),null!=C.pod}function m(C){return l.fF.assertValue(C,"source"),null!=C.expr}var f=function(){function C(){}return C.prototype.visitEntity=function(b){return this.getShortName(b.entity)},C.prototype.visitPod=function(b){return this.getShortName(b.pod)},C.prototype.visitSubquery=function(b){return"q"},C.prototype.visitExpr=function(b){return"x"},C.prototype.getShortName=function(b){var y=b,D=y.lastIndexOf(".");return D>=0&&D!==y.length-1&&(y=y.substr(D+1)),(0,o.Nx)(y.charCodeAt(0))?y.charAt(0).toLowerCase():"a"},C}(),V=function(){function C(){this.entities=[]}return C.prototype.visitEntity=function(b,y){this.entities.push(new d.PN(b.schema,b.entity,y))},C.prototype.visitPod=function(b,y){},C.prototype.visitSubquery=function(b,y){},C.prototype.visitExpr=function(b,y){},C}(),p=function(){function C(b){this.exprRewriter=b}return C.prototype.visitEntity=function(b,y){var P=(0,d.nw)(b.schema,b.entity,y).accept(this.exprRewriter);return new h(P.schema,P.entity)},C.prototype.visitPod=function(b,y){var P=(0,d.nw)(b.schema,b.pod,y).accept(this.exprRewriter);return new c(P.schema,P.entity)},C.prototype.visitSubquery=function(b,y){var P=b.subquery.rewrite(this.exprRewriter);return new r(P)},C.prototype.visitExpr=function(b,y){var P=b.expr.accept(this.exprRewriter);return new s(P)},C}()},939701:function(Xe,H,t){t.d(H,{y:function(){return l}});var e=t(498342);function l(o){return e.fF.assertValue(o,"source"),null!=o.subquery}},470756:function(Xe,H,t){t.d(H,{hG:function(){return V},OQ:function(){return b},wA:function(){return i},g8:function(){return s},S7:function(){return r},cH:function(){return f},u8:function(){return p},uW:function(){return m},ZB:function(){return n},K8:function(){return a}});var e=t(498342),l=t(411429),o=t(512322),d=t(669266),v=t(678776),S=t(726501);function r(y,D){var P=function(y){return y.hierarchyLevel||y.hierarchyLevelAggr||y.columnHierarchyLevelVariation&&y.columnHierarchyLevelVariation.level}(D);if(P)return s(y,P.schema,P.entity,P.name,P.level)}function s(y,D,P,F,E){var x=y.schema(D).findHierarchy(P,F);if(x)return x.levels.withName(E)}function i(y,D,P){return b(D,y)||function(y,D){e.fF.assertValue(y,"sqExpr"),e.fF.assertValue(D,"federatedSchema");var P,F=y.getConceptualProperty(D);if(F){var E=F.column;if(E&&E.variations&&E.variations.length>0){var w=E.variations;e.fF.assert(function(){return 1===w.length},"variations.length");var x=w[0],R=(0,l.Q)(y),g=(0,S.Um)(R);if(P=[],x.defaultHierarchy)for(var L=(0,o.bT)((0,o.yU)((0,o.nw)(g.schema,g.entity,g.entityVar),x.name,F.name),x.defaultHierarchy.name),M=0,T=x.defaultHierarchy.levels;M<T.length;M++)P.push((0,o.os)(L,T[M].name))}}return P}(D,y)||!P&&function(y,D){e.fF.assertValue(y,"sqExpr"),e.fF.assertValue(D,"federatedSchema");var P=[];if(y instanceof o.vD){var F=(0,l.Q)(y);if(F.hierarchyLevel){var E=(0,S.Um)(F),w=D.schema(E.schema).findHierarchy(E.entity,F.hierarchyLevel.name);if(w)for(var R=0,g=w.levels;R<g.length;R++){var L=g[R];if(L.name===F.hierarchyLevel.level){P.push(y);break}P.push((0,o.os)((0,o.bT)((0,o.nw)(E.schema,E.entity,E.entityVar),w.name),L.name))}}}if(!_.isEmpty(P))return P}(D,y)||D}function a(y,D){if(D instanceof o.jE||D instanceof o.vD)return!0;var P=D.getConceptualProperty(y);if(P){var F=P.column;if(F&&F.variations&&F.variations.length>0)return!0}return!1}function n(y){var D=(0,l.Q)(y);if(D.columnHierarchyLevelVariation){var P=(0,o.nw)(D.columnHierarchyLevelVariation.source.schema,D.columnHierarchyLevelVariation.source.entity);return(0,o.Oh)(P,D.columnHierarchyLevelVariation.source.name)}}function m(y){var P=(0,l.Q)(y).hierarchyLevel;if(P){var F=(0,o.nw)(P.schema,P.entity,P.entityVar);return(0,o.bT)(F,P.name)}}function f(y){if(y.arg instanceof o.jE){var D=y.arg;if(D.arg instanceof o.c7)return D.arg}}function V(y,D,P){if(!(D instanceof o.vD&&P instanceof o.vD))return!1;var F=D,E=P;if(!(0,d.fS)(F.arg,E.arg))return!1;var w=v.m.indexOfExpr(y,F),x=v.m.indexOfExpr(y,E);return-1!==w&&-1!==x&&w<x}function p(y,D,P){for(var F=0;F<D.length&&V(y,D[F],P);)F++;return F}function b(y,D){if(e.fF.assertValue(y,"sqExpr"),e.fF.assertValue(D,"federatedSchema"),y instanceof o.jE){var F=function(y,D){if(y instanceof o.jE){var P=y;if(y.arg instanceof o.PN){var F=y.arg;return D.schema(F.schema).findHierarchy(F.entity,P.hierarchy)}if(y.arg instanceof o.c7){var E=y.arg,w=E.arg;return D.schema(w.schema).findHierarchyByVariation(w.entity,E.property,E.name,P.hierarchy)}}}(y,D);if(F)return _.map(F.levels,function(E){return(0,o.os)(y,E.name)})}}},473902:function(Xe,H,t){t.d(H,{K:function(){return v}});var e=t(973188),l=t(498342),o=t(512322);function v(h,c){return l.fF.assertValue(h,"expr"),l.fF.assertValue(c,"schema"),h.accept(new S(c))}var S=function(h){function c(r){var s=h.call(this)||this;return s.schema=r,s}return(0,e.__extends)(c,h),c.prototype.visitPropertyVariationSource=function(r){var s=r.arg.getTargetEntity();if(!s)return r;var u=s.schema,i=this.schema.schema(u).findTargetEntityOfVariation(s.entity,r.property,r.name);return i?(0,o.nw)(u,i.name):r},c}(t(603662).b)},100112:function(Xe,H,t){t.d(H,{y3:function(){return f},dc:function(){return re},dx:function(){return ft},OQ:function(){return Ne},rH:function(){return be},SU:function(){return _e},IE:function(){return G},iH:function(){return Je},JN:function(){return b}});var v,e=t(973188),l=t(498342),o=t(236090),d=t(860931),c=t(504898),r=t(569978),s=t(957571),u=t(756846),i=t(382088),a=t(762917),n=function(){function Le(){}return Le.canFormat=function(Q){return Q instanceof Date},Le.format=function(Q,Ue,ae){Ue=Ue||"G",(0,s.M4)(Q)&&(Q=f.fromTimeValue(Q.epochTimeStamp));var vt=1===Ue.length;try{return vt?M(Q,Ue,ae):function(Le,Q,Ue){var ae,Se=[];if((Q=b(Q,Se)).indexOf("F")>-1){Q=(0,i.ko)(Q,"FFFF","FFF");var nt=Le.getMilliseconds();if(nt%10>=1&&(Q=(0,i.ko)(Q,"FFF","fff")),Q=(0,i.ko)(Q,"FFF","FF"),nt%100/10>=1&&(Q=(0,i.ko)(Q,"FF","ff")),Q=(0,i.ko)(Q,"FF","F"),nt%1e3/100>=1&&(Q=(0,i.ko)(Q,"F","f")),""===(Q=(0,i.ko)(Q,"F",""))||"%"===Q)return""}var vt=function(Le){return null!=Le.match(/gg/)}(Q);Q=function(Le){return Le===g?L:(g=Le,Le=function(Le){if(Le=(Le=(Le=(Le=(Le=(Le=(Le=(Le=Le.replace(/%K/g,"zzz")).replace(/K/g,"zzz")).replace(/fffffff/g,"fff0000")).replace(/ffffff/g,"fff000")).replace(/fffff/g,"fff00")).replace(/ffff/g,"fff0")).replace(/yyyyy/g,"0yyyy")).replace(/(^y|^)yyy(^y|$)/g,"yyyy"),v||(v=["d","f","F","g","h","H","K","m","M","s","t","y","z",":","/"].map(function(Se){return{r:new RegExp("%"+Se+"(?!"+Se+")","g"),s:Se}})),-1!==Le.indexOf("%")&&Le.length>2)for(var Q=0,Ue=v;Q<Ue.length;Q++){var ae=Ue[Q];Le=Le.replace(ae.r,ae.s)}return Le}(Le),L=Le,Le)}(Q);var We=Ue.calendar;return vt&&(Ue.calendar=Ue.calendars.Japanese),ae=Globalize.format(Le,Q,Ue),vt&&(Ue.calendar=We),y(ae=n.localize(ae,Ue.calendar),Se,!1)}(Q,Ue,ae)}catch(We){return M(Q,"G",ae)}},Le.localize=function(Q,Ue){var ae=Ue[":"];if(":"===ae)return Q;for(var Se="",nt=Q.length,vt=0;vt<nt;vt++){var We=Q.charAt(vt);Se+=":"===We?ae:We}return Se},Le}(),m=function(){function Le(){}return Le.canFormat=function(Q){return"number"==typeof Q},Le.format=function(Q,Ue,ae){Ue=Ue||"G";try{return Je(Ue)?function(Le,Q,Ue){var ae,Se=Q.length>1?parseInt(Q.substr(1,Q.length-1),10):void 0,nt=Ue.numberFormat,vt=Q.charAt(0);switch(vt){case"e":case"E":void 0===Se&&(Se=6);var We=_.repeat("0",Se);ae=oe(Le,Q="0."+We+vt+"+000",Ue);break;case"f":case"F":ae=Le.toFixed(void 0!==Se?Se:nt.decimals),ae=m.localize(ae,nt);break;case"g":case"G":var de=Math.abs(Le);if(0===de||1e-4<=de&&de<1e15)ae=void 0!==Se?Le.toPrecision(Se):Le.toString();else{if(l.fF.assert(function(){return"number"==typeof Le},"value must be a number"),"number"!=typeof Le)return String(Le);ae=(ae=void 0!==Se?Le.toExponential(Se):Le.toExponential()).replace("e","E")}ae=m.localize(ae,nt);break;case"r":case"R":ae=Le.toString(),ae=m.localize(ae,nt);break;case"x":case"X":if(ae=Le.toString(16),"X"===vt&&(ae=ae.toUpperCase()),void 0!==Se){var te=ae.length,Ve=Le<0;Ve&&te--;var xe=Se-te,Z=void 0;xe>0&&(Z=_.repeat("0",xe)),ae=Ve?"-"+Z+ae.substr(1):Z+ae}ae=m.localize(ae,nt);break;default:ae=Globalize.format(Le,Q,Ue)}return ae}(Q,Ue,ae):oe(Q,Ue,ae)}catch(Se){return Globalize.format(Q,void 0,ae)}},Le.localize=function(Q,Ue){var ae=Ue["+"],Se=Ue["-"],nt=Ue["."],vt=Ue[","];if("+"===ae&&"-"===Se&&"."===nt&&","===vt)return Q;for(var We=Q.length,de="",te=0;te<We;te++){var Ve=Q.charAt(te);switch(Ve){case"+":de+=ae;break;case"-":de+=Se;break;case".":de+=nt;break;case",":de+=vt;break;default:de+=Ve}}return de},Le}(),f=function(Le){function Q(){return null!==Le&&Le.apply(this,arguments)||this}return(0,e.__extends)(Q,Le),Q.prototype.setInternalDate=function(Ue){this.date=Ue},Q.fromTimeValue=function(Ue){var ae=new Q(Ue);return"function"!=typeof ae.setInternalDate&&c.f.information("epochTimeStamp is '".concat(Ue,"' of type '").concat(typeof Ue,"'")),ae.setInternalDate(new Date(Ue)),ae},Q.fromDateParts=function(Ue,ae,Se,nt,vt,We,de){void 0===ae&&(ae=0),void 0===Se&&(Se=1),void 0===nt&&(nt=0),void 0===vt&&(vt=0),void 0===We&&(We=0),void 0===de&&(de=0);var te=Date.UTC(Ue,ae,Se,nt,vt,We,de),Ve=new Q(te);return Ve.setInternalDate(new Date(te)),Ve},Q.fromString=function(Ue){l.fF.assert(function(){return/^[\+-]?\d{4}-\d{2}-\d{2}(T\d{2}\:\d{2}\:\d{2}(\.\d{3})?Z)?$/.test(Ue)},"Only ISO 8601 is guaranteed to be parsed as UTC");var ae=new Date(Ue),Se=new Q(ae.getTime());return Se.setInternalDate(ae),Se},Q.fromDateWithEpochValue=function(Ue){return Q.fromTimeValue(Ue.epochTimeStamp)},Q.isDate=function(Ue){return Ue instanceof Date},Q.prototype.getDate=function(){return this.date.getUTCDate()},Q.prototype.getDay=function(){return this.date.getUTCDay()},Q.prototype.getFullYear=function(){return this.date.getUTCFullYear()},Q.prototype.getHours=function(){return this.date.getUTCHours()},Q.prototype.getMilliseconds=function(){return this.date.getUTCMilliseconds()},Q.prototype.getMinutes=function(){return this.date.getUTCMinutes()},Q.prototype.getMonth=function(){return this.date.getUTCMonth()},Q.prototype.getSeconds=function(){return this.date.getUTCSeconds()},Q.prototype.setDate=function(Ue){return this.date.setUTCDate.apply(this.date,arguments)},Q.prototype.setFullYear=function(Ue,ae,Se){return this.date.setUTCFullYear.apply(this.date,arguments)},Q.prototype.setHours=function(Ue,ae,Se,nt){return this.date.setUTCHours.apply(this.date,arguments)},Q.prototype.setMilliseconds=function(Ue){return this.date.setUTCMilliseconds.apply(this.date,arguments)},Q.prototype.setMinutes=function(Ue,ae,Se){return this.date.setUTCMinutes.apply(this.date,arguments)},Q.prototype.setMonth=function(Ue,ae){return this.date.setUTCMonth.apply(this.date,arguments)},Q.prototype.setSeconds=function(Ue,ae){return this.date.setUTCSeconds.apply(this.date,arguments)},Q.prototype.toString=function(){var Ue=this.date.toUTCString(),ae=Ue.length-4;return Ue.indexOf(" GMT")===ae&&(Ue=Ue.substr(0,ae)),Ue},Q.prototype.getTime=function(){return this.date.getTime()},Q.prototype.getTimezoneOffset=function(){return this.date.getTimezoneOffset()},Q.prototype.getUTCDate=function(){return this.date.getUTCDate()},Q.prototype.getUTCDay=function(){return this.date.getUTCDay()},Q.prototype.getUTCFullYear=function(){return this.date.getUTCFullYear()},Q.prototype.getUTCHours=function(){return this.date.getUTCHours()},Q.prototype.getUTCMilliseconds=function(){return this.date.getUTCMilliseconds()},Q.prototype.getUTCMinutes=function(){return this.date.getUTCMinutes()},Q.prototype.getUTCMonth=function(){return this.date.getUTCMonth()},Q.prototype.getUTCSeconds=function(){return this.date.getUTCSeconds()},Q.prototype.setUTCDate=function(Ue){return this.date.setUTCDate.apply(this.date,arguments)},Q.prototype.setUTCFullYear=function(Ue,ae,Se){return this.date.setUTCFullYear.apply(this.date,arguments)},Q.prototype.setUTCHours=function(Ue,ae,Se,nt){return this.date.setUTCHours.apply(this.date,arguments)},Q.prototype.setUTCMilliseconds=function(Ue){return this.date.setUTCMilliseconds.apply(this.date,arguments)},Q.prototype.setUTCMinutes=function(Ue,ae,Se){return this.date.setUTCMinutes.apply(this.date,arguments)},Q.prototype.setUTCMonth=function(Ue,ae){return this.date.setUTCMonth.apply(this.date,arguments)},Q.prototype.setUTCSeconds=function(Ue,ae){return this.date.setUTCSeconds.apply(this.date,arguments)},Q.prototype.toDateString=function(){return this.date.toDateString()},Q.prototype.toISOString=function(){return this.date.toISOString()},Q.prototype.toJSON=function(){return this.date.toJSON()},Q.prototype.toLocaleDateString=function(){return this.date.toLocaleDateString()},Q.prototype.toLocaleString=function(){return this.date.toLocaleString()},Q.prototype.toLocaleTimeString=function(){return this.date.toLocaleTimeString()},Q.prototype.toTimeString=function(){return this.date.toTimeString()},Q.prototype.toUTCString=function(){return this.date.toUTCString()},Q.prototype.valueOf=function(){return this.date.valueOf()},Q}(Date),p=new RegExp(["'[^']*'",'"[^"]*"',"\\\\.","'[^']*$",'"[^"]*$',"\\\\$"].join("|"),"g");function C(Le){return p.lastIndex=0,Le.replace(p,"\ue100")}function b(Le,Q){for(p.lastIndex=0;;){var Ue=p.exec(Le);if(!Ue)break;var ae=Ue[0],Se=p.lastIndex-ae.length,nt=String.fromCharCode(57600+Q.length);Q.push(ae),Le=Le.substr(0,Se)+nt+Le.substr(p.lastIndex),p.lastIndex=Se+1}return Le}function y(Le,Q,Ue){void 0===Ue&&(Ue=!0);for(var ae=Q.length,Se=0;Se<ae;Se++){var nt=String.fromCharCode(57600+Se),vt=Q[Se];if(!Ue){var We=vt[0];vt="\\"===We||1===vt.length||vt[vt.length-1]!==We?vt.substring(1):vt.substring(1,vt.length-1)}Le=Le.replace(nt,vt)}return Le}var g,L,D=/({{)|(}})|{(\d+[^}]*)}/g,P="0",F="#",x=new RegExp([P,F].join("|"),"g"),R=function(){function Le(){}return Le.prototype.formatValue=function(Q,Ue,ae){if(null==Q)return"";var Se=this.getCulture(ae);return n.canFormat(Q)?n.format(Q,Ue,Se):m.canFormat(Q)?m.format(Q,Ue,Se):Q.toString()},Le.prototype.format=function(Q,Ue,ae){var Se=this;return Q?Q.replace(D,function(vt,We,de,te){if(We)return"{";if(de)return"}";var Ve=te.split(":"),xe=parseInt(Ve[0],10);return Se.formatValue(Ue[xe],Ve[1],ae)}):""},Le.prototype.isStandardNumberFormat=function(Q){return Je(Q)},Le.prototype.formatNumberWithCustomOverride=function(Q,Ue,ae,Se){return function(Le,Q,Ue,ae){return l.fF.assertValue(Le,"value"),l.fF.assert(function(){return"number"==typeof Le},"value must be a number"),l.fF.assertValue(Q,"format"),l.fF.assertValue(Ue,"nonScientificOverrideFormat"),l.fF.assertValue(ae,"culture"),l.fF.assert(function(){return!Je(Q)},"Standard format"),oe(Le,Q,ae,Ue)}(Q,Ue,ae,this.getCulture(Se))},Le.prototype.dateFormatString=function(Q){return this._dateTimeScaleFormatInfo||this.initialize(),this._dateTimeScaleFormatInfo.getFormatString(Q)},Le.prototype.setCurrentCulture=function(Q){this._currentCultureSelector!==Q&&(this._currentCulture=this.getCulture(Q),this._currentCultureSelector=Q,this._dateTimeScaleFormatInfo=new ke(this._currentCulture))},Le.prototype.normalizeCultureSelector=function(Q){var Ue=Q.split("-");return 2===Ue.length&&2===Ue[1].length&&(Q=Ue[0]+"-"+Ue[1].toUpperCase()),Q},Le.prototype.getCulture=function(Q){if(null==Q)return null==this._currentCulture&&this.initialize(),this._currentCulture;Q=this.normalizeCultureSelector(Q);var Ue=Globalize.findClosestCulture(Q);return Ue||(Ue=Globalize.culture("en-US")),Ue},Le.prototype.parseFloat=function(Q){return Globalize.parseFloat(Q,this.getCulture())},Le.prototype.parseDate=function(Q){var Ue=Globalize.parseDate(Q,null,this.getCulture());return Ue&&(0,s.Fg)(Ue)},Le.prototype.getCurrentCulture=function(){return this.getCulture()},Le.prototype.initialize=function(){var Q=this.getCurrentLocale();this.setCurrentCulture(Q);var Ue=this.getUrlParam("calendar");if(Ue){var ae=this._currentCulture,Se=ae.calendars[Ue];Se&&(ae.calendar=Se)}},Le.prototype.getCurrentLocale=function(){var Q=r.M.getLanguage()||Globalize.culture().name,Ue=(0,d.hG)().cultureInfo;return Q=(0,d.hG)().formattingLocale||Ue||Q,this.getUrlParam("formatLocale")||this.getUrlParam("language")||Q},Le.prototype.getUrlParam=function(Q){var Ue=window.location.search.match(RegExp("[?&]"+Q+"=([^&]*)"));return Ue?Ue[1]:void 0},Le}();function M(Le,Q,Ue){var ae=Ue.calendar.patterns;!function(Le){var Q=Le.patterns;void 0===Q.g&&(Q.g=Q.f.replace(Q.D,Q.d),Q.G=Q.F.replace(Q.D,Q.d))}(Ue.calendar);var Se=function(Le,Q,Ue){switch(Q){case"m":Q="M";break;case"O":case"o":Q="yyyy'-'MM'-'dd'T'HH':'mm':'ss'.'fff'0000'";break;case"R":case"r":Le=new Date(Le.getUTCFullYear(),Le.getUTCMonth(),Le.getUTCDate(),Le.getUTCHours(),Le.getUTCMinutes(),Le.getUTCSeconds(),Le.getUTCMilliseconds()),Q="ddd, dd MMM yyyy HH':'mm':'ss 'GMT'";break;case"s":Q="S";break;case"u":Le=new Date(Le.getUTCFullYear(),Le.getUTCMonth(),Le.getUTCDate(),Le.getUTCHours(),Le.getUTCMinutes(),Le.getUTCSeconds(),Le.getUTCMilliseconds()),Q="yyyy'-'MM'-'dd HH':'mm':'ss'Z'";break;case"U":Le=new Date(Le.getUTCFullYear(),Le.getUTCMonth(),Le.getUTCDate(),Le.getUTCHours(),Le.getUTCMinutes(),Le.getUTCSeconds(),Le.getUTCMilliseconds()),Q="F";break;case"y":case"Y":switch(Ue){case"default":case"en":case"en-US":Q="MMMM, yyyy";break;default:Q="Y"}}return{value:Le,format:Q}}(Le,Q,Ue.name);return Q=1===Se.format.length?ae[Se.format]:Se.format,Globalize.format(Se.value,Q,Ue)}var Ye,I=/^\{.+\}.*/,B=/\{.+\}/,U=/e[+-]*[0#]+/i,W=/^[a-z]\d{0,2}$/i,j=/0+$/,K=/([,]*)\.([0#]*)/g,ee=/[0#,\.]+[0,#]*/g,ie=/([0#])(?=[^0#]*$)/;function G(Le,Q){if(null==Q)return Q;if(Ee(Q)){var Ue=Ne(Q);return me(Le>0?Ue.positive:0===Le?Ue.zero:Ue.negative)}return me(Q)}function me(Le){var Q=(0,u.KH)(ee,Le);return Q?Q[0]:Le}function re(Le,Q,Ue){if(null==Q)return Le;if(null==Le&&(Le=P),Ee(Le)){for(var ae=Ne(Le),We=[ae.positive,ae.negative,ae.zero],de=0;de<We.length;de++)We[de]=le(We[de],Q,Ue);return We.join(";")}return le(Le,Q,Ue)}function le(Le,Q,Ue){if((Q=Math.abs(Q))>=0){var ae=[];Le=b(Le,ae);var nt=_.repeat(Ue?P:F,Math.abs(Q)),vt=(0,u.KH)(K,Le);if(vt){var We=Le.substr(0,vt.index+vt[1].length),de=Le.substr(vt.index+vt[1].length+1,vt[2].length),te=vt[1],Ve=Le.substr(vt.index+vt[0].length);if(Ue)de=nt;else{var xe=nt.length-de.length;xe>0?de+=nt.slice(-xe):xe<0&&(de=de.slice(0,xe))}de.length>0?de="."+de:te.length>0&&(de="."),Le=We+de+Ve}else nt.length>0&&(Le=Le.replace(ie,"$1."+nt));0!==ae.length&&(Le=y(Le,ae))}return Le}function Ee(Le){return-1!==C(Le).indexOf(";")}function Ne(Le){var Q={hasNegative:!1,positive:Le,negative:Le,zero:Le},Ue=[],ae=(Le=b(Le,Ue)).split(";"),Se=ae.length;return Se>1&&(0!==Ue.length&&(ae=_.map(ae,function(nt){return y(nt,Ue)})),Q.hasNegative=!0,Q.positive=Q.zero=ae[0],Q.negative=ae[1],Se>2&&(Q.zero=ae[2])),Q}function Je(Le){return l.fF.assertValue(Le,"format"),W.test(Le)}function _e(Le){return!Le||Je(Le)||be(Le).hasDots?Le:re(Le,2,!0)}function oe(Le,Q,Ue,ae){var Se,nt=Ue.numberFormat;if(!isFinite(Le))return Globalize.format(Le,void 0);var vt=Ne(Q);Q=Le>0?vt.positive:0===Le?vt.zero:vt.negative,vt.hasNegative&&(Le=Math.abs(Le));var We=be(Q,!0),de=[];if(We.hasLiterals&&(Q=b(Q,de)),We.hasE&&!ae){var te=(0,u.KH)(U,Q);if(te){var Ve=Q.substr(0,te.index),xe=Q.substr(te.index+2),Z=Te(Ve,We);if(1!==(J=Ke(Ve,We))&&(Le*=J),l.fF.assert(function(){return"number"==typeof Le},"value must be a number"),"number"!=typeof Le)return String(Le);var Fe=Le.toExponential(Z),ze=Fe.indexOf("e"),rt=Fe.substr(0,ze),Oe=Fe.substr(ze+1),Pe=tt(rt,Ve,nt),X=tt(Oe,xe,nt);"+"===X.charAt(0)&&"+"!==te[0].charAt(1)&&(X=X.substr(1)),Se=Pe+te[0].charAt(0)+X}}if(void 0===Se){var J,Ze=void 0,et=!1;if(Z=Te(Q,We),1!==(J=Ke(Q,We))&&(Le*=J),Le=parseFloat(Ce(Le,Z)),!isFinite(Le))return Globalize.format(Le,void 0);ae?(ae=function(Le,Q){return Q&&void 0!==Le?Le.replace("{0}","{0:"+Q+"}"):Le}(ae,G(Le,Q)),Ze=ft.format(ae,[Le],Ue.name),et=!0):(Ze=Ce(Le,Z),Ze=function(Le,Q,Ue,ae){if(0===ae)return Q;var Se=Q.indexOf(".");if(-1===Se)return Q;for(var nt=Se+1,We=nt+(Ue-ae);We<Q.length;++We){var de=Q[We];if("0"===de||"9"===de){var te=Ce(Le,We-nt);if(parseFloat(te)===Le)return te}}return Q}(Le,Ze,Z,function(Le,Q){return ve(Le,Q),Q.optionalPrecision}(Q,We))),Se=tt(Ze,Q,nt,ae,et)}return We.hasLiterals&&(Se=y(Se,de,!1)),Ye=We,Se}function Ce(Le,Q){var Ue="",ae=0;Q>16&&(ae=Q-16,Q=16);var Se=(0,o.mv)(Math.abs(Le))+1;if(Se<16){if(Se>0){var nt=16-Se;Q>nt&&(ae+=Q-nt,Q=nt)}Ue=function(Le,Q){if(!Le||isFinite(Le)){var Ue=Le<0;Ue&&(Le=-Le);var ae=Math.pow(2,Math.floor(Math.log(Le)/Math.LN2)-52),Se=Math.pow(10,Q);1/Se>10*ae&&(Le=Math.round((Le+ae)*Se)/Se),Ue&&(Le=-Le)}return Le.toFixed(Q)}(Le,Q)}else if(16===Se)Ue=Le.toFixed(0),(ae+=Q)>0&&(Ue+=".");else{if(l.fF.assert(function(){return"number"==typeof Le},"value must be a number"),"number"!=typeof Le)return String(Le);var vt=(Ue=Le.toExponential(15)).indexOf("e");if(vt>0){var We=Ue.indexOf("."),de=Ue.substr(0,vt),te=Ue.substr(vt+1),Ve=parseInt(te,10)-(de.length-We-1);Ue=de.replace(".","")+_.repeat("0",Ve),Q>0&&(Ue=Ue+"."+_.repeat("0",Q))}}return ae>0&&(Ue+=_.repeat("0",ae)),Ue}function be(Le,Q,Ue,ae){if(void 0!==Ye&&Le===Ye.format)return Ye;for(var Se=[],nt=b(Le,Se),vt={format:Le,hasLiterals:0!==Se.length,hasE:!1,hasCommas:!1,hasDots:!1,hasPercent:!1,hasPermile:!1,precision:void 0,optionalPrecision:void 0,scale:void 0,partsPerScale:void 0},We=0,de=nt.length;We<de;We++)switch(nt.charAt(We)){case"e":case"E":vt.hasE=!0;break;case",":vt.hasCommas=!0;break;case".":vt.hasDots=!0;break;case"%":vt.hasPercent=!0;break;case"\u2030":vt.hasPermile=!0}var Ve=Ne(Le);return Q&&(vt.precision=Te(Ve.positive,vt)),ae&&(vt.partsPerScale=Re(Ve.positive,vt)),Ue&&(vt.scale=Ke(Ve.positive,vt)),vt}function Te(Le,Q){return ve(Le,Q),Q.precision}function ve(Le,Q){if(!(Q.precision>-1)){var Ue=0,ae=0;if(Q.hasDots){Q.hasLiterals&&(Le=C(Le));var Se=Le.indexOf(".");if(Se>-1){for(var nt=Le.length,vt=Se;vt<nt;vt++){var We=Le.charAt(vt);if(We.match(x)&&++Ue,We===F?++ae:ae=0,"E"===We)break}Ue>19&&(ae=Math.max(0,ae-(Ue-19)),Ue=19)}}Q.precision=Ue,Q.optionalPrecision=ae}}function Re(Le,Q){if(null!=Q.partsPerScale)return Q.partsPerScale;var Ue=1;return Q.hasPercent&&Le.indexOf("%")>-1&&(Ue*=100),Q.hasPermile&&Le.indexOf("\u2030")>-1&&(Ue*=1e3),Q.partsPerScale=Ue,Ue}function Ke(Le,Q){if(Q.scale>-1)return Q.scale;var Ue=Re(Le,Q);if(Q.hasCommas){var ae=Le.indexOf(".");if(-1===ae)for(ae=Le.length;ae>0&&")"===Le.charAt(ae-1);)ae--;for(var Se=ae-1;Se>-1&&","===Le.charAt(Se);Se--)Ue/=1e3}return Q.scale=Ue,Ue}function tt(Le,Q,Ue,ae,Se){var nt=!!ae,vt=Q.split(".",2);if(2===vt.length){var We=vt[0],de=vt[1],te="";ae&&(l.fF.assert(function(){return I.test(ae)},"Number should always precede the display unit"),te=ae.replace(B,""),Le=Le.replace(te,""));var Ve=Ue["."],Z=Le.split(Se?Ve:".",2),J=1===Z.length?Z[0]+te:Z[0],Fe=2===Z.length?Z[1]+te:"";Fe=Fe.replace(j,"");var ze=mt(J,We,Ue,nt),rt=function(Le,Q,Ue){var ae=0,Se=Q.length,nt=Le.length;if(Ue){l.fF.assert(function(){return Se>0},"Empty formatting string");var vt=Q.charAt(Se-1);return vt.match(x)?{value:Le,fmtOnly:""===Le}:{value:Le+vt,fmtOnly:""===Le}}for(var We="",de=!0,te=0;te<Se;te++){var Ve=Q.charAt(te);if(ae<nt)switch(Ve){case P:case F:We+=Le[ae++],de=!1;break;default:We+=Ve}else Ve!==F&&(We+=Ve,de=de&&Ve!==P)}return{value:We,fmtOnly:de}}(Fe,de,nt);return rt.fmtOnly||""===rt.value?ze+rt.value:ze+Ve+rt.value}return mt(Le,Q,Ue,nt)}function mt(Le,Q,Ue,ae){var Se=Q.indexOf(","),nt=Se>-1&&Se<Math.max(Q.lastIndexOf("0"),Q.lastIndexOf("#"))&&Ue[","],vt=0,We=0,de=Ue.groupSizes||[3],te=de[0],Ve=Ue[","],xe="",Z=Le.charAt(0);("+"===Z||"-"===Z)&&(xe=Ue[Z],Le=Le.substr(1));for(var J="0"===Le,Fe="",ze="",rt=Le.length-1,Oe=!0,Pe=Q.length-1;Pe>-1;Pe--){var X=Q.charAt(Pe);switch(X){case P:case F:Oe=!1,""!==ze&&(Fe=ze+Fe,ze=""),ae||((rt>-1||X===P)&&nt&&(vt===te?(Fe=Ve+Fe,++We<de.length&&(te=de[We]),vt=1):vt++),rt>-1?(J&&X===F||(Fe=Le.charAt(rt)+Fe),rt--):X!==F&&(Fe=X+Fe));break;case",":break;default:ze=X+ze}}if(!ae){if(rt>-1&&""!==Fe)if(nt)for(;rt>-1;)vt===te?(Fe=Ve+Fe,++We<de.length&&(te=de[We]),vt=1):vt++,Fe=Le.charAt(rt)+Fe,rt--;else Fe=Le.substr(0,rt+1)+Fe;return xe+ze+Fe}return Oe?xe+ze+Fe:xe+ze+Le+Fe}var ke=function(){function Le(Q){var Ue,ae,Se=Q.calendar,nt=Se.patterns,vt=null!=(null===(ae=null===(Ue=Se.months)||void 0===Ue?void 0:Ue.namesAbbr)||void 0===ae?void 0:ae[0]),We=nt.Y,de=nt.M,te=nt.f,Ve=nt.T,xe=nt.t,Z=te.indexOf(",")>-1?", ":" ",J=0===We.indexOf("yyyy'")&&We.length>6&&"'"===We[6];this.YearPattern=J?We.substr(0,7):"yyyy";var Fe=te.indexOf("yy"),ze=te.indexOf("MMMM");this.MonthPattern=vt&&ze>-1?Fe>ze?"MMM yyyy":"yyyy MMM":We,this.DayPattern=vt?de.replace("MMMM","MMM"):de;var rt=te.indexOf("mm"),Pe=te.indexOf("tt")>-1?xe.replace(":mm ",""):xe;"fi-FI"===(this.HourPattern=Fe<rt?this.DayPattern+Z+Pe:Pe+Z+this.DayPattern,this.MinutePattern=xe,this.SecondPattern=Ve,this.MillisecondPattern=Ve.replace("ss","ss.fff"),Q.name)&&(this.DayPattern=this.DayPattern.replace("'ta'",""),this.HourPattern=this.HourPattern.replace("'ta'",""))}return Le.prototype.getFormatString=function(Q){switch(Q){case a.l.Year:return this.YearPattern;case a.l.Month:return this.MonthPattern;case a.l.Week:case a.l.Day:return this.DayPattern;case a.l.Hour:return this.HourPattern;case a.l.Minute:return this.MinutePattern;case a.l.Second:return this.SecondPattern;case a.l.Millisecond:return this.MillisecondPattern}l.fF.assertFail("Unexpected unit: "+Q)},Le}(),ft=new R},36846:function(Xe,H,t){t.d(H,{Gg:function(){return h},qC:function(){return S}});var e=t(973188),l=t(498342),o=t(957571),d=t(960514),v=t(100112);function S(s){return JSON.stringify(s.accept(c.instance))}function h(s){for(var u="[",i=0,a=s.length;i<a;i++)i>0&&(u+=","),u+=S(s[i]);return u+"]"}var c=function(s){function u(){return null!==s&&s.apply(this,arguments)||this}return(0,e.__extends)(u,s),u.prototype.visitColumnRef=function(i){return{col:{s:i.source.accept(this),r:i.ref}}},u.prototype.visitMeasureRef=function(i){return{measure:{s:i.source.accept(this),r:i.ref}}},u.prototype.visitNativeMeasure=function(i){var a={l:i.language,e:i.expression,t:i.dataType};return i.proposedName&&(a.p=i.proposedName),i.expressionContentCache&&(a.c={}),i.expressionContentCache.dependencies&&(a.c.d=h(i.expressionContentCache.dependencies)),null!=i.expressionContentCache.unrecognizedIdentifiers&&(a.c.u=i.expressionContentCache.unrecognizedIdentifiers),{nativeMeasure:a}},u.prototype.visitNativeColumn=function(i){var a={l:i.language,e:i.expression,t:i.dataType,s:i.source.accept(this),f:i.format};return i.proposedName&&(a.p=i.proposedName),i.expressionContentCache&&(a.c={}),i.expressionContentCache.dependencies&&(a.c.d=h(i.expressionContentCache.dependencies)),null!=i.expressionContentCache.unrecognizedIdentifiers&&(a.c.u=i.expressionContentCache.unrecognizedIdentifiers),{nativeColumn:a}},u.prototype.visitAggr=function(i){return{agg:{a:i.arg.accept(this),f:i.func}}},u.prototype.visitEntity=function(i){return l.fF.assertValue(i,"expr"),l.fF.assertValue(i.entity,"expr.entity"),{e:i.entity}},u.prototype.visitHierarchyLevel=function(i){return{h:i.arg.accept(this),l:i.level}},u.prototype.visitHierarchy=function(i){return{e:i.arg.accept(this),h:i.hierarchy}},u.prototype.visitPropertyVariationSource=function(i){return{e:i.arg.accept(this),n:i.name,p:i.property}},u.prototype.visitAnd=function(i){return l.fF.assertValue(i,"expr"),{and:{l:i.left.accept(this),r:i.right.accept(this)}}},u.prototype.visitCompare=function(i){return l.fF.assertValue(i,"expr"),{comp:{k:i.comparison,l:i.left.accept(this),r:i.right.accept(this)}}},u.prototype.visitConstant=function(i){return l.fF.assertValue(i,"expr"),{const:{t:i.type.primitiveType,v:r(i.value)}}},u.prototype.visitArithmetic=function(i){return l.fF.assertValue(i,"expr"),{arithmetic:{o:i.operator,l:i.left.accept(this),r:i.right.accept(this)}}},u.prototype.visitScopedEval=function(i){return l.fF.assertValue(i,"expr"),{scopedEval:{e:i.expression.accept(this),s:h(i.scope)}}},u.prototype.visitFilteredEval=function(i){var a=this;return l.fF.assertValue(i,"expr"),{filteredEval:{e:i.expression.accept(this),f:"[".concat(_.map(i.filters,function(m){return JSON.stringify((f=m,V={},_.isEmpty(f.target)||(V.t=_.map(f.target,function(p){return p.accept(a)})),V.c=f.condition.accept(a),V));var f,V}).join(", "),"]")}}},u.prototype.visitWithRef=function(i){return l.fF.assertValue(i,"expr"),{withRef:{e:i.expressionName}}},u.prototype.visitTransformTableRef=function(i){return l.fF.assertValue(i,"expr"),{transformTableRef:{source:i.source}}},u.prototype.visitTransformOutputRoleRef=function(i){l.fF.assertValue(i,"expr");var a={transformOutputRoleRef:{role:i.role}};return i.transform&&(a.transformOutputRoleRef.transform=i.transform),a},u.prototype.visitFloor=function(i){l.fF.assertValue(i,"expr");var a={floor:{a:i.arg.accept(this),s:i.size}};return null!=i.timeUnit&&(a.floor.timeunit=i.timeUnit),a},u.prototype.visitRoleRef=function(i){return l.fF.assertValue(i,"expr"),{roleRef:{role:i.role}}},u.prototype.visitSummaryValueRef=function(i){return l.fF.assertValue(i,"expr"),{summaryValueRef:{name:i.name}}},u.prototype.visitAllRolesRef=function(i){return l.fF.assertValue(i,"expr"),{allRolesRef:{}}},u.prototype.visitNot=function(i){return l.fF.assertValue(i,"expr"),{not:i.arg.accept(this)}},u.prototype.visitIn=function(i){return l.fF.assertValue(i,"expr"),{in:{c:h(i.args),v:_.map(i.values,function(a){return h(a)})}}},u.prototype.visitSelectRef=function(i){return l.fF.assertValue(i,"expr"),{n:i.expressionName}},u.prototype.visitSparklineData=function(i){var a;return l.fF.assertValue(i,"expr"),{sparklineData:{m:i.measure.accept(this),g:h(i.grouping),s:null===(a=i.scalarKey)||void 0===a?void 0:a.accept(this)}}},u.prototype.visitDefault=function(i){l.fF.assertFail("Unexpected expression type found in DataViewScopeIdentity.")},u.instance=new u,u}(d.vq);function r(s){return(0,o.M4)(s)?v.y3.fromDateWithEpochValue(s):s}},352453:function(Xe,H,t){t.d(H,{C:function(){return d},J:function(){return o}});var e=t(498342),l=t(588376);function o(v,S){if(e.fF.assertValue(v,"getStylePreset called with undefined stylePresets"),v){_.isEmpty(S)&&(S=v.defaultPresetName);var h=v.presets[S];return h||(h=v.presets[v.defaultPresetName]),e.fF.assertValue(h,"VisualStylePreset not found and no valid default exists"),h}}function d(v,S){var h=[];if(v){var c=v.presets;if(c)for(var r in c){var s=c[r];s.isDeprecated&&s.name!==S||h.push({value:s.name,displayName:s.displayName})}}return(0,l.i)(h)}},588376:function(Xe,H,t){t.d(H,{i:function(){return l}});var e=t(498342);function l(d){return new o(d)}var o=function(){function d(v){e.fF.assertValue(v,"allMembers"),this.allMembers=v}return d.prototype.members=function(v){var S=this.allMembers;if(!v)return S;for(var h=[],c=0,r=S;c<r.length;c++){var s=r[c];_.includes(v,s.value)&&h.push(s)}return h},d}()},149305:function(Xe,H,t){t.d(H,{AG:function(){return S},EV:function(){return v},Gl:function(){return o},RL:function(){return d}});var e=t(498342),l=t(512322);function o(h){return h&&(void 0!==h.solid&&void 0!==h.solid.color||void 0!==h.gradient&&(void 0!==h.gradient.startColor||void 0!==h.gradient.endColor)||void 0!==h.pattern&&(void 0!==h.pattern.patternKind||void 0!==h.pattern.color))}function d(h,c){e.fF.assertValue(h,"fill"),h.solid&&h.solid.color?c.visitExpr(h.solid.color):e.fF.assertFail("Unsupported FillDefinition")}function v(h,c){return c?{solid:{color:(0,l.$_)(h,c)}}:null===h?{solid:{color:(0,l.IF)()}}:h?{solid:{color:(0,l.fL)(h)}}:void 0}function S(h){return e.fF.assertValue(h,"descriptor"),!0!==h&&!!h.nullable}},912644:function(Xe,H,t){t.d(H,{LX:function(){return o},RL:function(){return h},Sx:function(){return v},TJ:function(){return d},dt:function(){return S}});var e=t(498342),l=t(588376),o="asZero",d="noColor",v="specificColor",S=(0,l.i)([{value:o,displayName:function(a){return a.get("ConditionalFormattingDialog_FormatNull_AsZero")}},{value:d,displayName:function(a){return a.get("ConditionalFormattingDialog_FormatNull_NoFormat")}},{value:v,displayName:function(a){return a.get("ConditionalFormattingDialog_FormatNull_SpecificColor")}}]);function h(i,a){e.fF.assertValue(i,"fillRule"),i.linearGradient2?function(i,a){e.fF.assertValue(i,"gradient2"),s(i.min,a),s(i.max,a),u(i.nullColoringStrategy,a)}(i.linearGradient2,a):i.linearGradient3?function(i,a){e.fF.assertValue(i,"gradient3"),s(i.min,a),s(i.mid,a),s(i.max,a),u(i.nullColoringStrategy,a)}(i.linearGradient3,a):e.fF.assertFail("Unsupported FillRuleDefinition")}function s(i,a){e.fF.assertValue(i,"stop"),a.visitExpr(i.color);var n=i.value;n&&a.visitExpr(n)}function u(i,a){i&&(a.visitExpr(i.strategy),i.color&&a.visitExpr(i.color))}},73673:function(Xe,H,t){t.d(H,{BD:function(){return l},Ms:function(){return o},c1:function(){return e},t_:function(){return d}});var e="shared",l="packaged",o="geojson",d="topojson"},646517:function(Xe,H,t){t.d(H,{z:function(){return e}});var e={misc:{imageUrl:!0}}},864185:function(Xe,H,t){t.d(H,{IM:function(){return v},Kt:function(){return c},RL:function(){return d},Y0:function(){return S},Zm:function(){return r}});var e=t(498342),l=t(512322),o=t(267103);function d(n,m){e.fF.assertValue(n,"paragraphs");for(var f=0,V=n;f<V.length;f++)s(V[f],m)}function v(n){var m=n;return e.fF.assertValue(m,"textRunDefinition"),_.isString(m.value)||(0,o.U)(m.value)||m.value instanceof l.Il}function S(n){var m=n;return e.fF.assertValue(m,"textRunDefinitionGeneric"),_.isString(m.value)||function(n){return n&&n.expr}(m.value)||(0,o.U)(m.value)}function c(n){var m=n;return e.fF.assertValue(m,"textRunConditionalDefinition"),_.isArray(m.cases)&&void 0!==m.defaultCase&&_.isArray(m.defaultCase.textRuns)&&(0,o.U)(m.expression)}function r(n){var m=n;return e.fF.assertValue(m,"conditionalDefinitionGeneric"),_.isArray(m.cases)&&void 0!==m.defaultCase&&void 0!==m.expression}function s(n,m){if(e.fF.assertValue(n,"paragraph"),!_.isEmpty(n.textRuns))for(var f=0,V=n.textRuns;f<V.length;f++){var p=V[f];v(p)?u(p,m):c(p)?a(p,m):e.fF.assertNever(p)}}function u(n,m){e.fF.assertValue(n,"textRun"),e.fF.assertValue(n.value,"textRun.value"),!_.isString(n.value)&&i(n.value,m)}function i(n,m){if((0,o.U)(n))return m.visitValueRef(n);m.visitExpr(n)}function a(n,m){e.fF.assertValue(n,"textRunConditional"),e.fF.assertValue(n.expression,"expression"),e.fF.assertValue(n.defaultCase,"defaultCase"),e.fF.assertValue(n.cases,"cases");for(var f=0,V=n.cases;f<V.length;f++)for(var C=0,b=V[f].textRuns;C<b.length;C++)u(b[C],m);for(var D=0,P=n.defaultCase.textRuns;D<P.length;D++)u(P[D],m);(0,o.U)(n.expression)&&i(n.expression,m)}},19757:function(Xe,H,t){t.d(H,{_:function(){return l}});var e=t(498342),l=function(){function o(d,v){this.exprVisitor=d,this.valueRefVisitor=v}return o.prototype.visitExpr=function(d){return e.fF.assertValue(d,"expr"),e.fF.assertValue(this.exprVisitor,"exprVisitor"),d.accept(this.exprVisitor)},o.prototype.visitValueRef=function(d){return e.fF.assertValue(this.valueRefVisitor,"valueRefVisitor"),this.valueRefVisitor.accept(d)},o}()},520469:function(Xe,H,t){t.d(H,{DS:function(){return V},Fq:function(){return r},Hr:function(){return u},JY:function(){return y},RL:function(){return p},TS:function(){return b},X2:function(){return v},Xz:function(){return f},ZG:function(){return m},bA:function(){return n},gO:function(){return S},hl:function(){return d},r:function(){return a}});var e=t(498342),l=t(114096),o=t(512322);function d(D){return!!D&&(D instanceof l.yl||v(D)||S(D)||function(D){return!!D.identityFieldsValues}(D)||function(D){return D.name instanceof o.Il&&D.url instanceof o.Il}(D)||r(D)||function(D){return D.name instanceof o.Il&&D.content instanceof o.Il&&D.type instanceof o.Il}(D)||u(D)||i(D)||a(D)||n(D)||m(D)||f(D)||V(D))}function v(D){return!!(D.gradient||D.solid||D.pattern)}function S(D){return!(!D.linearGradient2&&!D.linearGradient3)}function r(D){var P=D;if(!_.isArray(P))return!1;for(var F=0,E=P;F<E.length;F++)if(!E[F].textRuns)return!1;return!0}function u(D){return!(!D.algorithm||!D.parameters)}function i(D){return!!(D.axisColor&&D.negativeColor&&D.negativeColor)}function a(D){return"Icon"===D.kind}function n(D){return"ExprList"===D.kind}function m(D){return null!=D&&"ErrorRange"===D.kind}function f(D){return null!=(null==D?void 0:D.suggestedUtterances)}function V(D){return null!=D&&"ItemLocation"===D.kind}function p(D,P){v(D)?P.visitFillDefinition(D):S(D)?P.visitFillRuleDefinition(D):r(D)?P.visitParagraphs(D):i(D)?P.visitDataBarsDefinition(D):a(D)?P.visitIconDefinition(D):m(D)&&P.visitErrorRangeDefinition(D)}function b(D,P){return P?D?"Icon"===D.kind&&"Icon"===P.kind?{kind:"Icon",layout:null!=P.layout?P.layout:D.layout,verticalAlignment:null!=P.verticalAlignment?P.verticalAlignment:D.verticalAlignment,value:void 0!==P.value?P.value:D.value}:void e.fF.assertFail("unsupported StructuralObjectValues merging"):P:D}function y(D){return e.fF.assertValue(D,"type"),!!(D.fill||D.fillRule||D.filter||D.expression||D.image||D.paragraphs||D.geoJson||D.queryTransform||D.dataBars||D.icon||D.exprList||D.errorRange||D.qnaVisualLink||D.itemLocation)}},267103:function(Xe,H,t){function e(o){return!!o&&(void 0!==o.selector&&void 0!==o.propertyIdentifier)}t.d(H,{S:function(){return l},U:function(){return e}});var l=function(){function o(){this.references=[]}return o.prototype.accept=function(d){this.references.push(d)},o}()},358246:function(Xe,H,t){t.d(H,{Ep:function(){return a},Ge:function(){return S},yf:function(){return n}});var d,v,e=t(498342),l=t(458441),o=t(768783),S=function(){function F(E,w,x,R,g,L){e.fF.assert(function(){return!!E&&null!=n[E]||0===E},"type"),e.fF.assert(function(){return!!w||null===w},"category"),e.fF.assert(function(){return 26214401!==E||!!x},"enumType"),e.fF.assert(function(){return 26280196!==E||!!R},"flagsEnumType"),this.underlyingType=E,this.category=w,(0,o.yE)(E,512)&&(this.temporalType=new c(E)),(0,o.yE)(E,1024)&&(this.geographyType=new r(E)),(0,o.yE)(E,2048)&&(this.miscType=new s(E,L)),(0,o.yE)(E,4096)&&(this.formattingType=new i(E)),(0,o.yE)(E,26214401)&&(this.enumType=x),(0,o.yE)(E,26280196)&&(this.flagsEnumType=R),(0,o.yE)(E,8192)&&(this.scriptingType=new h(E)),(0,o.yE)(E,16384)&&(this.referenceType=new u(E)),(0,o.yE)(E,13)&&(this.variationTypes=g)}return F.isValueTypeDescriptor=function(E){return 0!==F.fromDescriptor(E).primitiveType},F.fromDescriptor=function(E){if((E=E||{}).scripting&&E.scripting.source)return F.fromExtendedType(32776193);if(E.enumeration)return F.fromEnum(E.enumeration);if(E.flagsEnumeration)return F.fromFlagsEnum(E.flagsEnumeration);if(E.temporal){if(E.temporal.year)return F.fromExtendedType(66308);if(E.temporal.quarter)return F.fromExtendedType(262916);if(E.temporal.month)return F.fromExtendedType(131844);if(E.temporal.day)return F.fromExtendedType(328452);if(E.temporal.paddedDateTableDate)return F.fromExtendedType(197127)}if(E.geography){if(E.geography.address)return F.fromExtendedType(6554625);if(E.geography.city)return F.fromExtendedType(6620161);if(E.geography.continent)return F.fromExtendedType(6685697);if(E.geography.country)return F.fromExtendedType(6751233);if(E.geography.county)return F.fromExtendedType(6816769);if(E.geography.region)return F.fromExtendedType(6882305);if(E.geography.postalCode)return F.fromExtendedType(6947841);if(E.geography.stateOrProvince)return F.fromExtendedType(7013377);if(E.geography.place)return F.fromExtendedType(7078913);if(E.geography.latitude)return F.fromExtendedType(7144707);if(E.geography.longitude)return F.fromExtendedType(7210243)}if(E.misc){if(E.misc.image)return F.fromExtendedType(13109259);if(E.misc.imageUrl)return F.fromExtendedType(13174785);if(E.misc.webUrl)return F.fromExtendedType(13240321);if(E.misc.barcode)return F.fromExtendedType(13305857);if(E.misc.sparkline)return F.fromSparklineType(E.misc.sparkline)}if(E.formatting){if(E.formatting.color)return F.fromExtendedType(19664897);if(E.formatting.formatString)return F.fromExtendedType(19730433);if(E.formatting.alignment)return F.fromExtendedType(20058113);if(E.formatting.labelDisplayUnits)return F.fromExtendedType(20123649);if(E.formatting.displayUnitsWithoutAuto)return F.fromExtendedType(20516865);if(E.formatting.fontFamily)return F.fromExtendedType(20385793);if(E.formatting.fontSize)return F.fromExtendedType(20189443);if(E.formatting.altText)return F.fromExtendedType(20451329);if(E.formatting.stylePreset)return F.fromExtendedType(20582401)}if(E.text)return F.fromExtendedType(1);if(E.integer)return F.fromExtendedType(260);if(E.numeric)return F.fromExtendedType(259);if(E.bool)return F.fromExtendedType(5);if(E.dateTime)return F.fromExtendedType(519);if(E.duration)return F.fromExtendedType(10);if(E.binary)return F.fromExtendedType(11);if(E.json)return F.fromExtendedType(14);if(E.none)return F.fromExtendedType(12);if(E.extendedType)return F.fromExtendedType(E.extendedType);if(E.operations&&E.operations.searchEnabled)return F.fromExtendedType(65541);if(E.reference){if(E.reference.bookmark)return F.fromExtendedType(39337985);if(E.reference.bookmarkGroup)return F.fromExtendedType(39534593);if(E.reference.section)return F.fromExtendedType(39403521);if(E.reference.perspective)return F.fromExtendedType(39469057);if(E.reference.rowRefText)return F.fromExtendedType(39600129)}if(E.variant){var w=_.map(E.variant,function(x){return F.fromDescriptor(x)});return F.fromVariant(w)}return F.fromExtendedType(0)},F.fromExtendedType=function(E){var w=C(E=E||0),x=function(F){if(function(F){return(65535&F)===F}(F))return null;var E=n[F];if(!E)return null;var w=E.lastIndexOf("_");if(w>0){var x=E.slice(0,w);x in m&&(e.fF.assert(function(){return(F&p)==(F&p)},"Unexpected value for ExtendedType base member of "+F),E=x)}return E}(E);return e.fF.assert(function(){return 0!==w||0===E},"Cannot create ValueType for abstract extended type. Consider using fromDescriptor instead."),F.fromPrimitiveTypeAndCategory(w,x)},F.fromPrimitiveTypeAndCategory=function(E,w){w=w||null;var x=(E=E||0).toString();return w&&(x+="|"+w),F.typeCache[x]||(F.typeCache[x]=new F(function(F,E){var w=a[F],x=m[w];if(null==x&&(e.fF.assertFail("Unexpected primitiveType "+F),x=0),F&&E){var R=m[E];if(R){var g=C(R);0===g?n[R|=x]&&(e.fF.assert(function(){return n[R]===E+"_"+w},"Unexpected name for ExtendedType member "+R),x=R):g===F&&(x=R)}}return x}(E,w),w))},F.fromEnum=function(E){return e.fF.assertValue(E,"enumType"),new F(26214401,null,E)},F.fromFlagsEnum=function(E){return e.fF.assertValue(E,"enumType"),new F(26280196,null,null,E)},F.fromVariant=function(E){return e.fF.assertValue(E,"variantTypes"),new F(13,null,null,null,E)},F.fromSparklineType=function(E){return new F(13371406,"Sparkline",null,null,null,E)},F.isCompatibleFromAny=function(E,w,x){e.fF.assertValue(E,"type"),e.fF.assertValue(w,"otherType");var R=F.fromDescriptor(E);return!!F.isCompatibleTo(R,[w],x)||R&&R.isCompatibleFrom(F.fromDescriptor(w),x)},F.isCompatibleTo=function(E,w,x){e.fF.assertValue(E,"type"),e.fF.assertValue(w,"otherTypes");for(var R=F.fromDescriptor(E),g=0,L=w;g<L.length;g++)if(F.fromDescriptor(L[g]).isCompatibleFrom(R,x))return!0;return!1},F.prototype.isCompatibleFrom=function(E,w){if(e.fF.assertValue(E,"other"),this===E)return!0;if(E.variant)for(var x=0,R=E.variant;x<R.length;x++)if(!this.isCompatibleFrom(R[x],w))return!1;if(this.variant)for(var L=0,M=this.variant;L<M.length;L++)if(M[L].isCompatibleFrom(E,w))return!0;var O=E.primitiveType;return this.primitiveType===O||0===O||this.numeric&&E.numeric&&(!w||!this.integer||E.integer)},F.prototype.equals=function(E){return _.isEqual(this,E)},Object.defineProperty(F.prototype,"primitiveType",{get:function(){return C(this.underlyingType)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"extendedType",{get:function(){return this.underlyingType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"categoryString",{get:function(){return this.category},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"text",{get:function(){return 1===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"numeric",{get:function(){return(0,o.yE)(this.underlyingType,256)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"integer",{get:function(){return 4===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"bool",{get:function(){return 5===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"dateTime",{get:function(){return 7===this.primitiveType||6===this.primitiveType||9===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"duration",{get:function(){return 10===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"binary",{get:function(){return 11===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"json",{get:function(){return 14===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"none",{get:function(){return 12===this.primitiveType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"temporal",{get:function(){return this.temporalType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"geography",{get:function(){return this.geographyType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"misc",{get:function(){return this.miscType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"formatting",{get:function(){return this.formattingType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"enum",{get:function(){return this.enumType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"flagsEnum",{get:function(){return this.flagsEnumType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"scripting",{get:function(){return this.scriptingType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"reference",{get:function(){return this.referenceType},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"variant",{get:function(){return this.variationTypes},enumerable:!1,configurable:!0}),F.typeCache={},F}();(0,l.y)(S.prototype);var h=function(){function F(E){e.fF.assert(function(){return!!E&&(0,o.yE)(E,8192)},"type"),this.underlyingType=E}return Object.defineProperty(F.prototype,"source",{get:function(){return P(this.underlyingType,32776193)},enumerable:!1,configurable:!0}),F}(),c=function(){function F(E){e.fF.assert(function(){return!!E&&(0,o.yE)(E,512)},"type"),this.underlyingType=E}return Object.defineProperty(F.prototype,"year",{get:function(){return P(this.underlyingType,66048)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"quarter",{get:function(){return P(this.underlyingType,262656)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"month",{get:function(){return P(this.underlyingType,131584)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"day",{get:function(){return P(this.underlyingType,328192)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"paddedDateTableDate",{get:function(){return P(this.underlyingType,197127)},enumerable:!1,configurable:!0}),F}(),r=function(){function F(E){e.fF.assert(function(){return!!E&&(0,o.yE)(E,1024)},"type"),this.underlyingType=E}return Object.defineProperty(F.prototype,"address",{get:function(){return P(this.underlyingType,6554625)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"city",{get:function(){return P(this.underlyingType,6620161)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"continent",{get:function(){return P(this.underlyingType,6685697)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"country",{get:function(){return P(this.underlyingType,6751233)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"county",{get:function(){return P(this.underlyingType,6816769)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"region",{get:function(){return P(this.underlyingType,6882305)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"postalCode",{get:function(){return P(this.underlyingType,6947840)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"stateOrProvince",{get:function(){return P(this.underlyingType,7013377)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"place",{get:function(){return P(this.underlyingType,7078913)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"latitude",{get:function(){return P(this.underlyingType,7144448)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"longitude",{get:function(){return P(this.underlyingType,7209984)},enumerable:!1,configurable:!0}),F}(),s=function(){function F(E,w){e.fF.assert(function(){return!!E&&(0,o.yE)(E,2048)},"type"),this.underlyingType=E,this.sparklineType=w}return Object.defineProperty(F.prototype,"image",{get:function(){return P(this.underlyingType,13109259)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"imageUrl",{get:function(){return P(this.underlyingType,13174785)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"webUrl",{get:function(){return P(this.underlyingType,13240321)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"barcode",{get:function(){return P(this.underlyingType,13305856)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"sparkline",{get:function(){if(P(this.underlyingType,13371406))return this.sparklineType},enumerable:!1,configurable:!0}),F}();Object.getOwnPropertyNames(s.prototype).forEach(function(F){"constructor"!==F&&Object.defineProperty(s.prototype,F,{enumerable:!0})});var u=function(){function F(E){e.fF.assert(function(){return!!E&&(0,o.yE)(E,16384)},"type"),this.underlyingType=E}return Object.defineProperty(F.prototype,"bookmark",{get:function(){return P(this.underlyingType,39337985)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"bookmarkGroup",{get:function(){return P(this.underlyingType,39534593)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"section",{get:function(){return P(this.underlyingType,39403521)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"perspective",{get:function(){return P(this.underlyingType,39469057)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"rowRefText",{get:function(){return P(this.underlyingType,39600129)},enumerable:!1,configurable:!0}),F}(),i=function(){function F(E){e.fF.assert(function(){return!!E&&(0,o.yE)(E,4096)},"type"),this.underlyingType=E}return Object.defineProperty(F.prototype,"color",{get:function(){return P(this.underlyingType,19664897)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"formatString",{get:function(){return P(this.underlyingType,19730433)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"alignment",{get:function(){return P(this.underlyingType,20058113)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"labelDisplayUnits",{get:function(){return P(this.underlyingType,20123649)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"displayUnitsWithoutAuto",{get:function(){return P(this.underlyingType,20516865)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"fontFamily",{get:function(){return P(this.underlyingType,20385793)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"fontSize",{get:function(){return P(this.underlyingType,20189443)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"altText",{get:function(){return P(this.underlyingType,20451329)},enumerable:!1,configurable:!0}),Object.defineProperty(F.prototype,"stylePreset",{get:function(){return P(this.underlyingType,20582401)},enumerable:!1,configurable:!0}),F}();Object.getOwnPropertyNames(i.prototype).forEach(function(F){"constructor"!==F&&Object.defineProperty(i.prototype,F,{enumerable:!0})});var a=((d={})[0]="Null",d[1]="Text",d[2]="Decimal",d[3]="Double",d[4]="Integer",d[5]="Boolean",d[6]="Date",d[7]="DateTime",d[8]="DateTimeZone",d[9]="Time",d[10]="Duration",d[11]="Binary",d[12]="None",d[13]="Variant",d[14]="Json",d),n=((v={})[256]="Numeric",v[512]="Temporal",v[1024]="Geography",v[2048]="Miscellaneous",v[4096]="Formatting",v[8192]="Scripting",v[0]="Null",v[1]="Text",v[258]="Decimal",v[259]="Double",v[260]="Integer",v[5]="Boolean",v[518]="Date",v[519]="DateTime",v[520]="DateTimeZone",v[521]="Time",v[10]="Duration",v[11]="Binary",v[12]="None",v[13]="Variant",v[66048]="Years",v[66049]="Years_Text",v[66308]="Years_Integer",v[66054]="Years_Date",v[66055]="Years_DateTime",v[131584]="Months",v[131585]="Months_Text",v[131844]="Months_Integer",v[131590]="Months_Date",v[131591]="Months_DateTime",v[197127]="PaddedDateTableDates",v[262656]="Quarters",v[262657]="Quarters_Text",v[262916]="Quarters_Integer",v[262662]="Quarters_Date",v[262663]="Quarters_DateTime",v[328192]="DayOfMonth",v[328193]="DayOfMonth_Text",v[328452]="DayOfMonth_Integer",v[328198]="DayOfMonth_Date",v[328199]="DayOfMonth_DateTime",v[6554625]="Address",v[6620161]="City",v[6685697]="Continent",v[6751233]="Country",v[6816769]="County",v[6882305]="Region",v[6947840]="PostalCode",v[6947841]="PostalCode_Text",v[6948100]="PostalCode_Integer",v[7013377]="StateOrProvince",v[7078913]="Place",v[7144448]="Latitude",v[7144706]="Latitude_Decimal",v[7144707]="Latitude_Double",v[7209984]="Longitude",v[7210242]="Longitude_Decimal",v[7210243]="Longitude_Double",v[13109259]="Image",v[13174785]="ImageUrl",v[13240321]="WebUrl",v[13305856]="Barcode",v[13305857]="Barcode_Text",v[13306116]="Barcode_Integer",v[19664897]="Color",v[19730433]="FormatString",v[20058113]="Alignment",v[20123649]="LabelDisplayUnits",v[20516865]="DisplayUnitsWithoutAuto",v[20385793]="FontFamily",v[20451329]="AltText",v[20189443]="FontSize",v[26214401]="Enumeration",v[26280196]="FlagsEnumeration",v[32776193]="ScriptSource",v[65541]="SearchEnabled",v[39337985]="BookmarkRef",v[39534593]="BookmarkGroupRef",v[39403521]="SectionRef",v[20582401]="StylePreset",v[39469057]="PerspectiveRef",v[16384]="Reference",v[14]="Json",v[13371406]="Sparkline",v[39600129]="RowRefText",v),m={Numeric:256,Temporal:512,Geography:1024,Miscellaneous:2048,Formatting:4096,Scripting:8192,Null:0,Text:1,Decimal:258,Double:259,Integer:260,Boolean:5,Date:518,DateTime:519,DateTimeZone:520,Time:521,Duration:10,Binary:11,None:12,Variant:13,Years:66048,Years_Text:66049,Years_Integer:66308,Years_Date:66054,Years_DateTime:66055,Months:131584,Months_Text:131585,Months_Integer:131844,Months_Date:131590,Months_DateTime:131591,PaddedDateTableDates:197127,Quarters:262656,Quarters_Text:262657,Quarters_Integer:262916,Quarters_Date:262662,Quarters_DateTime:262663,DayOfMonth:328192,DayOfMonth_Text:328193,DayOfMonth_Integer:328452,DayOfMonth_Date:328198,DayOfMonth_DateTime:328199,Address:6554625,City:6620161,Continent:6685697,Country:6751233,County:6816769,Region:6882305,PostalCode:6947840,PostalCode_Text:6947841,PostalCode_Integer:6948100,StateOrProvince:7013377,Place:7078913,Latitude:7144448,Latitude_Decimal:7144706,Latitude_Double:7144707,Longitude:7209984,Longitude_Decimal:7210242,Longitude_Double:7210243,Image:13109259,ImageUrl:13174785,WebUrl:13240321,Barcode:13305856,Barcode_Text:13305857,Barcode_Integer:13306116,Color:19664897,FormatString:19730433,Alignment:20058113,LabelDisplayUnits:20123649,DisplayUnitsWithoutAuto:20516865,FontFamily:20385793,AltText:20451329,FontSize:20189443,Enumeration:26214401,FlagsEnumeration:26280196,ScriptSource:32776193,SearchEnabled:65541,BookmarkRef:39337985,BookmarkGroupRef:39534593,SectionRef:39403521,StylePreset:20582401,PerspectiveRef:39469057,Reference:16384,Json:14,Sparkline:13371406,RowRefText:39600129},p=4294901760;function C(F){return 255&F}function P(F,E){return(F&p)==(E&p)}},276510:function(Xe,H,t){t.d(H,{Mb:function(){return o},dt:function(){return l},r5:function(){return d}});var l=1e3;function o(v,S){return S||!v?0:v.getDuration()}var d=function(){function v(S){S&&S.duration&&(this.animationDuration=S.duration),this.animationDuration=this.animationDuration>=0?this.animationDuration:250}return v.prototype.getDuration=function(){return this.animationDuration},v.prototype.animate=function(S){return null},v.prototype.getEasing=function(){return d3.easeCubicInOut},v}()},845173:function(Xe,H,t){t.d(H,{B9:function(){return C},EK:function(){return u},aH:function(){return i},k6:function(){return s},kx:function(){return a},mx:function(){return r}});var h,c,e=t(973188),l=t(572909),o=t(695823),d=t(495570),v=t(320234),S=t(830173);function r(b){return b&&b.buttonTileFormatting?f:p}var s={fill:S.OV.fill,outline:S.OV.outline,text:v.nm.text,icon:v.nm.icon,shape:S.OV.shape,shadow:S.OV.shadow,glow:S.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},u={fill:S.eM.fill,outline:S.eM.outline,text:v.Vz.text,icon:v.Vz.icon,shape:S.eM.shape,shadow:S.eM.shadow,glow:S.eM.glow,rotation:"rotation"},i=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},S.Mn),v.WI),{rotation:"angle"}),a={default:"default",hover:"hover",selected:"selected",disabled:"disabled"},n=((h={})[i.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},h[i.shapeRotation]={displayName:(0,l.V)("Visual_ShapeRotation"),type:{integer:!0}},h[i.textRotation]={displayName:(0,l.V)("Visual_TextRotation"),type:{integer:!0}},h),f={objects:((c={})[u.fill]=S.zC.fill,c[u.outline]=S.zC.outline,c[u.text]=v.p.text,c[u.icon]=v.p.icon,c[u.shape]=S.zC.shape,c[u.shadow]=S.zC.shadow,c[u.glow]=S.zC.glow,c[u.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),properties:n},c),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},p={objects:{text:{displayName:(0,l.V)("ActionButton_Text"),properties:{show:d.iD.show,text:{displayName:(0,l.V)("ActionButton_Text"),type:{text:!0},suppressFormatPainterCopy:!0},fontColor:d.iD.fontColor,padding:{displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,l.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},fontSize:d.iD.fontSize,fontFamily:d.iD.fontFamily,italic:d.iD.italic,bold:d.iD.bold,underline:d.iD.underline}},icon:{displayName:(0,l.V)("Icon"),properties:{show:d.iD.show,shapeType:{displayName:(0,l.V)("BasicShape_ToolTip"),type:{enumeration:o.dt}},padding:{displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},verticalAlignment:{displayName:(0,l.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},lineColor:{displayName:(0,l.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineWeight:{displayName:(0,l.V)("Visual_BasicShape_Weight"),type:{integer:!0}},lineTransparency:d.iD.lineTransparency}},outline:{displayName:(0,l.V)("Visual_Outline"),properties:{show:d.iD.show,lineColor:d.iD.outlineColor,transparency:d.iD.lineTransparency,weight:d.iD.outlineWeight,roundEdge:{displayName:(0,l.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,l.V)("Visual_Fill"),properties:{show:d.iD.show,fillColor:{displayName:(0,l.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:d.iD.transparency,image:d.iD.image}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"button",disableFormatMode:!0},C={text:{show:{objectName:"text",propertyName:"show"},text:{objectName:"text",propertyName:"text"},fontColor:{objectName:"text",propertyName:"fontColor"},padding:{objectName:"text",propertyName:"padding"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},bold:{objectName:"text",propertyName:"bold"},italic:{objectName:"text",propertyName:"italic"},underline:{objectName:"text",propertyName:"underline"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},padding:{objectName:"icon",propertyName:"padding"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},fillColor:{objectName:"icon",propertyName:"fillColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},transparency:{objectName:"outline",propertyName:"transparency"},weight:{objectName:"outline",propertyName:"weight"},roundEdge:{objectName:"outline",propertyName:"roundEdge"}},fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}}}},158049:function(Xe,H,t){t.d(H,{B0:function(){return m},R9:function(){return f},d1:function(){return E},u9:function(){return D},yD:function(){return P}});var r,s,u,i,a,n,w,x,e=t(273269),l=t(572909),o=t(782054),d=t(871879),v=t(495570),S=t(999738),h=t(830173),c=t(935232),m={Tooltips:"Tooltips"},f={accentBar:"accentBar",altText:"altText",textRotation:"textAngle",field:"field",fill:h.eM.fillCustom,fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",outline:h.eM.outline,shapeCustomRectangle:h.eM.shapeCustomRectangle,layout:"layout",shadowCustom:h.eM.shadowCustom,glowCustom:h.eM.glowCustom,verticalAlignment:"verticalAlignment",overFlow:"overFlow",Rotation:"textAngle",rotation:"rotation",cards:"cards",icon:"icon",image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",isHorizontal:"isHorizontal",isPaginated:"isPaginated",iconType:"iconType",iconUrl:"iconUrl",ignorePadding:"ignorePadding",imageFit:"imageFit",angle:"angle",position:"position",padding:"padding",setAsBackGround:"setAsBackGround",shapeRotation:"shapeAngle",color:"color",width:"width",size:"size",spacing:"spacing",transparency:"transparency",saturation:"saturation",blur:"blur",background:"background",wrapContent:"wrapContent"},V={icon:{show:{objectName:"icon",propertyName:"show"},iconType:{objectName:"icon",propertyName:"iconType"},icon:{objectName:"icon",propertyName:"icon"},iconUrl:{objectName:"icon",propertyName:"iconUrl"},transparency:{objectName:"icon",propertyName:"transparency"},position:{objectName:"icon",propertyName:"position"},padding:{objectName:"icon",propertyName:"padding"},size:{objectName:"icon",propertyName:"size"},altText:{objectName:"icon",propertyName:"altText"}},image:{image:{objectName:"image",propertyName:"image"},imageFit:{objectName:"image",propertyName:"imageFit"},transparency:{objectName:"image",propertyName:"transparency"},saturation:{objectName:"image",propertyName:"saturation"},blur:{objectName:"image",propertyName:"blur"},position:{objectName:"image",propertyName:"position"},ignorePadding:{objectName:"image",propertyName:"ignorePadding"},setAsBackGround:{objectName:"image",propertyName:"setAsBackGround"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},overFlow:{isHorizontal:{objectName:"overFlow",propertyName:"isHorizontal"},isPaginated:{objectName:"overFlow",propertyName:"isPaginated"}},background:{show:{objectName:"background",propertyName:"show"},transparency:{objectName:"background",propertyName:"transparency"},color:{objectName:"background",propertyName:"color"},wrapContent:{objectName:"background",propertyName:"wrapContent"}}},p=((r={})[f.angle]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},r[f.shapeRotation]={displayName:(0,l.V)("Visual_ShapeRotation"),type:{integer:!0}},r[f.textRotation]={displayName:(0,l.V)("Visual_TextRotation"),type:{integer:!0}},r),C=((s={show:v.iD.show})[f.iconType]={displayName:(0,l.V)("Button_Icon_Type"),type:{enumeration:o.dt}},s[f.icon]=v.iD.image,s[f.iconUrl]={displayName:(0,l.V)("Image_Url"),type:{text:!0}},s[f.transparency]=v.iD.transparency,s[f.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:d.u0}},s[f.padding]={displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},s[f.size]={displayName:(0,l.V)("Visual_BubbleSize"),type:{integer:!0}},s[f.altText]={displayName:(0,l.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},s),b=((u={show:v.iD.show})[f.color]=v.iD.fill,u[f.transparency]=v.iD.transparency,u[f.wrapContent]={displayName:(0,l.V)("ButtonSlicer_Objects_WrapContent"),type:{bool:!0}},u),y=((i={})[f.image]={displayName:(0,l.V)("Field"),type:{variant:[{text:!0}]}},i[f.imageFit]={displayName:(0,l.V)("PagePropertyPane_PageBackgroundImageFit"),type:{enumeration:c.Zt}},i[f.transparency]=v.iD.transparency,i[f.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:d.u0}},i[f.saturation]={displayName:(0,l.V)("Visual_Saturation"),type:{integer:!0}},i[f.blur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{integer:!0}},i[f.ignorePadding]={displayName:(0,l.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},i[f.setAsBackGround]={displayName:(0,l.V)("Visual_SetAsBackGround"),type:{bool:!0}},i[f.padding]={displayName:(0,l.V)("Visual_Space_Between_Image"),type:{integer:!0}},i[f.imageAreaSize]={displayName:(0,l.V)("Visual_Image_Area_Size"),type:{integer:!0}},i),D={dataRoles:[{name:S.CT.value,kind:e.DW.Grouping,displayName:(0,l.V)("Field"),description:(0,l.V)("Role_DisplayName_FieldDescription")},{name:m.Tooltips,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description")}],objects:(a={general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:v.iD.formatString,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}}},a[f.fill]=h.zC.fillCustom,a[f.outline]=h.zC.outline,a[h.eM.value]=h.zC.value,a[h.eM.label]=(w=h.zC.label,x=_.cloneDeep(w),delete x.properties[h.Mn.text],x.properties[f.field]={displayName:(0,l.V)("Field"),type:{variant:[{text:!0},{integer:!0},{dateTime:!0}]}},x),a[f.shapeCustomRectangle]=h.zC.shapeCustomRectangle,a[f.layout]=h.zC.layout,a[h.eM.overFlow]=h.zC.overFlow,a[f.shadowCustom]=h.zC.shadowCustom,a[f.glowCustom]=h.zC.glowCustom,a[f.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),properties:p},a[f.spacing]=h.zC.spacing,a[f.padding]=h.zC.padding,a[f.accentBar]=h.zC.accentBar,a[f.icon]={displayName:(0,l.V)("Icon"),properties:C},a[f.image]={displayName:(0,l.V)("Image"),properties:y},a[f.background]={displayName:(0,l.V)("Visual_Background"),properties:b},a.selection={displayName:(0,l.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,l.V)("Visual_SelectAll"),description:(0,l.V)("Visual_SelectAll_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,l.V)("Visual_ForceSelection"),description:(0,l.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0},singleSelect:{displayName:(0,l.V)("Visual_StrictSingleSelect"),description:(0,l.V)("Visual_StrictSingleSelect"),type:{bool:!0}}}},a.data={suppressFormatPainterCopy:!0,properties:{isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},a),dataViewMappings:[{conditions:[(n={},n[S.CT.value]={max:1,min:1},n)],matrix:{rows:{select:[{for:{in:S.CT.value}}],dataReductionAlgorithm:{window:{count:100}}},values:{select:[{for:{in:m.Tooltips}}]},includeEmptyGroups:!0}}],tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:[m.Tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0,hasFilterOptions:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,disableFocusMode:!0,supportsFilterClearButton:!0,suppressVisualCalc:!0},P={general:{formatString:v.e0.formatString},fillCustom:h.OV.fillCustom,outline:h.OV.outline,value:h.OV.value,label:h.OV.label,shapeCustomRectangle:h.OV.shapeCustomRectangle,layout:h.OV.layout,shadowCustom:h.OV.shadowCustom,glowCustom:h.OV.glowCustom,spacing:h.OV.spacing,padding:h.OV.padding,accentBar:h.OV.accentBar,icon:V.icon,image:V.image,overFlow:h.OV.overFlow,background:V.background},E={default:"default",hover:"hover",press:"press",selected:"selected"}},889408:function(Xe,H,t){t.d(H,{Tf:function(){return d},w$:function(){return S}});var e=t(406057),l=t(572909),o=t(495570);function d(){return v}var v={objects:{userPrompt:{properties:{text:{displayName:(0,l.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},selectedVisualsJson:{displayName:(0,l.V)("ExplorationBookmarks_SelectedVisuals"),type:{text:!0}},useAllVisuals:{type:{bool:!0}}}},text:{displayName:"Text",properties:{fontColor:o.iD.fontColor,fontSize:o.iD.fontSize,fontFamily:o.iD.fontFamily,textAlignment:o.iD.textAlignment}},narrativeSelection:{properties:{dismissSelectionScreen:{type:{bool:!0}}}}},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsSelection:!1},S=(0,e.wZ)(v.objects)},977691:function(Xe,H,t){t.d(H,{$E:function(){return p},DQ:function(){return V},Do:function(){return f},MC:function(){return D},Wx:function(){return c},a:function(){return r}});var e=t(273269),l=t(572909),o=t(588376),d=t(73673),v=t(833126),S=t(214123),h=t(495570),c={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",tooltips:"Tooltips"},r={road:"road",satellite:"satellite",satelliteRoadLabels:"satellite_road_labels",grayscaleDark:"grayscale_dark",night:"night",grayscaleLight:"grayscale_light",roadShadedRelief:"road_shaded_relief",blank:"blank",blankAccessible:"blank_accessible",highContrastDark:"high_contrast_dark",highContrastLight:"high_contrast_light"},s=(0,o.i)([{value:r.road,displayName:(0,l.V)("Visual_MapThemeRoad")},{value:r.satellite,displayName:(0,l.V)("Visual_AzureMapsSatelliteStyle")},{value:r.satelliteRoadLabels,displayName:(0,l.V)("ContentList_Datasets_Hybrid")},{value:r.grayscaleDark,displayName:(0,l.V)("Visual_AzureMapsGrayScaleDarkStyle")},{value:r.night,displayName:(0,l.V)("Visual_AzureMapsNightStyle")},{value:r.grayscaleLight,displayName:(0,l.V)("Visual_AzureMapsGrayScaleLightStyle")},{value:r.roadShadedRelief,displayName:(0,l.V)("Visual_AzureMapsTerraStyle")},{value:r.blank,displayName:(0,l.V)("ReportAppBar_Blank")},{value:r.blankAccessible,displayName:(0,l.V)("Visual_AzureMapsBlankAccessibleStyle")},{value:r.highContrastDark,displayName:(0,l.V)("Visual_AzureMapsHighContrastDarkStyle")},{value:r.highContrastLight,displayName:(0,l.V)("Visual_AzureMapsHighContrastLightStyle")}]),u=(0,o.i)([{value:0,displayName:(0,l.V)("Visual_AzureMapsBoxShape")},{value:1,displayName:(0,l.V)("Visual_AzureMapsCylinderShape")}]),i=(0,o.i)([{value:0,displayName:(0,l.V)("Visual_Axis_Linear")},{value:1,displayName:(0,l.V)("Visual_Axis_Log")},{value:2,displayName:(0,l.V)("Visual_AzureMapsCubicBezier")}]),a=(0,o.i)([{value:"map",displayName:(0,l.V)("Visual_ShapeMap_Map")},{value:"viewport",displayName:(0,l.V)("Visual_AzureMapsViewport")}]),n=(0,o.i)([{value:"",displayName:(0,l.V)("Visual_AzureMapsLayerAboveLabels")},{value:"labels",displayName:(0,l.V)("Visual_AzureMapsLayerBelowLabels")},{value:"transit",displayName:(0,l.V)("Visual_AzureMapsLayerBelowRoads")}]),m=(0,o.i)([{value:"pixels",displayName:function(F){return F.get("Generic_Pixels")}},{value:"meters",displayName:function(F){return F.get("Visual_MapUnitMeters")}}]),f={mapControls:"mapControls",traffic:"traffic",tileLayer:"tileLayer",bubbleLayer:"bubbleLayer",categoryLabels:"categoryLabels",heatMapLayer:"heatMapLayer",barChart:"barChart",commonDataOptions:"commonDataOptions",referenceLayer:"referenceLayer",filledMap:"filledMap"},V={defaultStyle:"defaultStyle",showStylePicker:"showStylePicker",showLabels:"showLabels",showNavigationControls:"showNavigationControls",zoom:"zoom",centerLatitude:"centerLatitude",centerLongitude:"centerLongitude",heading:"heading",pitch:"pitch",showIncidents:"showIncidents",showTrafficControl:"showTrafficControl",tileLayerUrl:"tileLayerUrl",tileSize:"tileSize",northBounds:"northBounds",southBounds:"southBounds",eastBounds:"eastBounds",westBounds:"westBounds",mapTransparency:"mapTransparency",isTMS:"isTMS",minZoom:"minZoom",maxZoom:"maxZoom",barShape:"barShape",height:"barHeight",scaleHeightOnZoom:"scaleHeightOnZoom",thickness:"thickness",scaleThicknessOnZoom:"scaleThicknessOnZoom",unselectedTransparency:"unselectedTransparency",show:"show",bubbleRadius:"bubbleRadius",minBubbleRadius:"minBubbleRadius",markerRangeType:"markerRangeType",radiusScalingMethod:"radiusScalingMethod",maxRadius:"maxRadius",showZeros:"showZeros",showNegatives:"showNegatives",defaultColor:"defaultColor",strokeColor:"strokeColor",autoStrokeColor:"autoStrokeColor",strokeTransparency:"strokeTransparency",bubbleStrokeWidth:"bubbleStrokeWidth",strokeWidth:"strokeWidth",blur:"blur",pitchAlignment:"pitchAlignment",layerPosition:"layerPosition",minDataValue:"minDataValue",maxDataValue:"maxDataValue",zoomScaleFactor:"zoomScaleFactor",logScale:"logScale",x1:"x1",x2:"x2",y1:"y1",y2:"y2",autoZoom:"autoZoom",worldWrap:"worldWrap",additionalDatasource:"additionalDatasource",showSelectionControl:"showSelectionControl",geocodingCulture:"geocodingCulture",heatMapRadius:"heatMapRadius",heatMapRadiusUnit:"heatMapRadiusUnit",heatMapIntensity:"heatMapIntensity",heatMapColorLow:"heatMapColorLow",heatMapColorCenter:"heatMapColorCenter",heatMapColorHigh:"heatMapColorHigh",heatMapUseSize:"heatMapUseSize",clusteringEnabled:"clusteringEnabled",clusteredBubbleRadius:"clusteredBubbleRadius",clusteredBubbleFillColor:"clusteredBubbleFillColor",clusteredBubbleFontSize:"clusteredBubbleFontSize",clusteredBubbleFontColor:"clusteredBubbleFontColor",clusteredBubbleStrokeColor:"clusteredBubbleStrokeColor",clusteredBubbleStrokeWidth:"clusteredBubbleStrokeWidth"};function p(P){return{dataRoles:C(P),objects:b(P),dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{min:1,max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{min:1,max:1,kind:e.DW.Measure},Size:{max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{min:1,max:1}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1}}],matrix:{rows:{select:[{composite:[{for:{in:c.category}}]}],dataReductionAlgorithm:{top:{}}},columns:{for:{in:c.series},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:c.y}},{bind:{to:c.x}},{bind:{to:c.size}},{for:{in:c.tooltips}}]},dataVolume:6}},{conditions:[{Category:{min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:c.series}},{composite:[{for:{in:c.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:6}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:1}}],matrix:{rows:{select:[{bind:{to:c.series}},{composite:[{bind:{to:c.x}},{bind:{to:c.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:c.size}},{bind:{to:c.tooltips}}]},dataVolume:6}}],sorting:{custom:{},implicit:{clauses:[{role:c.size,direction:2}]}},drilldown:{roles:[c.category]},tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[c.tooltips],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsLandingPage:!0,supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function C(P){var F=[{name:c.y,kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Latitude"),description:(0,l.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:c.x,kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Longitude"),description:(0,l.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:c.series,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:c.size,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Size"),description:(0,l.V)("Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:c.tooltips,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}];return null!=P&&P.azureMapsGeocoding&&F.unshift({name:c.category,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Location"),description:(0,l.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]}),F}function b(P){var F,E,w,x,R,g,L,M,T,O,N=((F={general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:h.iD.formatString}},legend:h.TQ.legend,dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor}},labels:{displayName:(0,l.V)("Visual_DataPointsLabels"),properties:{show:h.iD.show,color:h.iD.dataColor,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision}}})[f.mapControls]={displayName:(0,l.V)("Visual_AzureMapsMapSettings"),description:(0,l.V)("Visual_MapControlsDescription"),properties:(E={},E[V.defaultStyle]={displayName:(0,l.V)("Visual_AzureMapsDefaultStyle"),description:(0,l.V)("Visual_AzureMapsDefaultStyleDescription"),type:{enumeration:s}},E[V.showStylePicker]={displayName:(0,l.V)("Visual_AzureMapsStylePicker"),description:(0,l.V)("Visual_AzureMapsStylePickerDescription"),type:{bool:!0}},E[V.showLabels]={displayName:(0,l.V)("Visual_MapShowLabels"),description:(0,l.V)("Visual_AzureMapsShowLabelsDescription"),type:{bool:!0}},E[V.showNavigationControls]={displayName:(0,l.V)("Visual_AzureMapsNavigationControls"),description:(0,l.V)("Visual_AzureMapsNavigationControlsDescription"),type:{bool:!0}},E[V.zoom]={displayName:(0,l.V)("Visual_ShapeMap_Zoom"),description:(0,l.V)("Visual_AzureMapsZoomDescription"),type:{numeric:!0}},E[V.centerLatitude]={displayName:(0,l.V)("Visual_AzureMapsCenterLatitude"),description:(0,l.V)("Visual_AzureMapsCenterLatitudeDescription"),type:{numeric:!0}},E[V.centerLongitude]={displayName:(0,l.V)("Visual_AzureMapsCenterLongitude"),description:(0,l.V)("Visual_AzureMapsCenterLongitudeDescription"),type:{numeric:!0}},E[V.heading]={displayName:(0,l.V)("Visual_AzureMapsHeading"),description:(0,l.V)("Visual_AzureMapsHeadingDescription"),type:{numeric:!0}},E[V.pitch]={displayName:(0,l.V)("Visual_AzureMapsPitch"),description:(0,l.V)("Visual_AzureMapsPitchDescription"),type:{numeric:!0}},E[V.autoZoom]={displayName:(0,l.V)("Visual_AutoZoom"),description:(0,l.V)("Visual_AzureMapsAutoZoomDescription"),type:{bool:!0}},E[V.worldWrap]={displayName:(0,l.V)("Visual_AzureMapsWorldWrap"),description:(0,l.V)("Visual_AzureMapsWorldWrapDescription"),type:{bool:!0}},E[V.showSelectionControl]={displayName:(0,l.V)("Visual_AzureMapsSelectionControl"),description:(0,l.V)("Visual_AzureMapsSelectionControlDescription"),type:{bool:!0}},E)},F[f.filledMap]={displayName:(0,l.V)("FilledMap_ToolTip"),description:(0,l.V)("Visual_AzureMapsFilledMapDescription"),properties:(w={show:h.iD.show},w[V.defaultColor]={displayName:(0,l.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},w[V.mapTransparency]={displayName:(0,l.V)("Visual_Fill_Transparency"),type:{numeric:!0}},w[V.strokeColor]={displayName:(0,l.V)("Visual_OutlineColor"),type:{fill:{solid:{color:!0}}}},w[V.strokeTransparency]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeTransparency"),type:{numeric:!0}},w[V.strokeWidth]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeWidth"),type:{integer:!0}},w[V.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},w[V.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},w[V.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:n}},w)},F[f.bubbleLayer]={displayName:(0,l.V)("Visual_Bubbles"),description:(0,l.V)("Visual_BubblesDescription"),properties:(x={show:h.iD.show},x[V.mapTransparency]={displayName:(0,l.V)("Visual_Fill_Transparency"),description:(0,l.V)("Visual_AzureMapsBubbleTransparencyDescription"),type:{numeric:!0}},x[V.bubbleRadius]={displayName:(0,l.V)("Visual_BubbleSize"),description:(0,l.V)("Visual_AzureMapsBubbleRadiusDescription"),type:{integer:!0}},x[V.minBubbleRadius]={displayName:(0,l.V)("Visual_AzureMapsMinBubbleRadius"),description:(0,l.V)("Visual_AzureMapsMinBubbleRadiusDescription"),type:{integer:!0}},x[V.markerRangeType]={displayName:(0,l.V)("Visual_MarkerRangeType"),description:(0,l.V)("Visual_MarkerRangeType"),type:{enumeration:v.zo}},x[V.radiusScalingMethod]={displayName:(0,l.V)("Visual_AzureMapsBubbleRadiusScalingMethod"),description:(0,l.V)("Visual_AzureMapsBubbleRadiusScalingMethodDescription"),type:{enumeration:i}},x[V.maxRadius]={displayName:(0,l.V)("Visual_AzureMapsBubbleMaxRadius"),description:(0,l.V)("Visual_AzureMapsBubbleMaxRadiusDescription"),type:{integer:!0}},x[V.logScale]={displayName:(0,l.V)("Visual_AzureMapsLogScale"),description:(0,l.V)("Visual_AzureMapsLogScaleDescription"),type:{integer:!0}},x[V.x1]={displayName:(0,l.V)("Visual_AzureMapsX1"),description:(0,l.V)("Visual_AzureMapsX1Description"),type:{numeric:!0}},x[V.x2]={displayName:(0,l.V)("Visual_AzureMapsX2"),description:(0,l.V)("Visual_AzureMapsX2Description"),type:{numeric:!0}},x[V.y1]={displayName:(0,l.V)("Visual_AzureMapsY1"),description:(0,l.V)("Visual_AzureMapsY1Description"),type:{numeric:!0}},x[V.y2]={displayName:(0,l.V)("Visual_AzureMapsY2"),description:(0,l.V)("Visual_AzureMapsY2Description"),type:{numeric:!0}},x[V.strokeColor]={displayName:(0,l.V)("Visual_OutlineColor"),description:(0,l.V)("Visual_AzureMapsBubbleStrokeColorDescription"),type:{fill:{solid:{color:!0}}}},x[V.autoStrokeColor]={displayName:(0,l.V)("Visual_AzureMapsBubbleAutoStrokeColor"),description:(0,l.V)("Visual_AzureMapsBubbleAutoStrokeColorDescription"),type:{bool:!0}},x[V.strokeTransparency]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeTransparency"),description:(0,l.V)("Visual_AzureMapsBubbleStrokeTransparencyDescription"),type:{numeric:!0}},x[V.bubbleStrokeWidth]={displayName:(0,l.V)("Visual_AzureMapsBubbleStrokeWidth"),description:(0,l.V)("Visual_AzureMapsBubbleStrokeWidthDescription"),type:{integer:!0}},x[V.blur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),description:(0,l.V)("Visual_AzureMapsBubbleBlurDescription"),type:{numeric:!0}},x[V.pitchAlignment]={displayName:(0,l.V)("Visual_AzureMapsBubblePitchAlignment"),description:(0,l.V)("Visual_AzureMapsBubblePitchAlignmentDescription"),type:{enumeration:a}},x[V.zoomScaleFactor]={displayName:(0,l.V)("Visual_AzureMapsZoomScaleFactor"),description:(0,l.V)("Visual_AzureMapsZoomScaleFactorDescription"),type:{integer:!0}},x[V.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},x[V.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},x[V.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:n}},x)},F[f.categoryLabels]={displayName:(0,l.V)("Visual_CategoryLabels"),description:(0,l.V)("Visual_CategoryLabelsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},F[f.heatMapLayer]={displayName:(0,l.V)("Visual_HeatMap"),description:(0,l.V)("Visual_HeatMapDescription"),properties:(R={show:h.iD.show},R[V.heatMapRadius]={displayName:(0,l.V)("Visual_Radius"),description:(0,l.V)("Visual_AzureMapsHeatMapRadiusDescription"),type:{numeric:!0}},R[V.heatMapRadiusUnit]={displayName:(0,l.V)("Visual_Forecast_Parameter_Units"),description:(0,l.V)("Visual_AzureMapsHeatMapRadiusUnitDescription"),type:{enumeration:m}},R[V.mapTransparency]={displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_AzureMapsHeatMapTransparencyDescription"),type:{numeric:!0}},R[V.heatMapIntensity]={displayName:(0,l.V)("Visual_AzureMapsHeatMapIntensity"),description:(0,l.V)("Visual_AzureMapsHeatMapIntensityDescription"),type:{numeric:!0}},R[V.heatMapColorLow]={displayName:(0,l.V)("Visual_Color0"),description:(0,l.V)("Visual_AzureMapsHeatMapColorLowDescription"),type:{fill:{solid:{color:!0}}}},R[V.heatMapColorCenter]={displayName:(0,l.V)("Visual_Color50"),description:(0,l.V)("Visual_AzureMapsHeatMapColorCenterDescription"),type:{fill:{solid:{color:!0}}}},R[V.heatMapColorHigh]={displayName:(0,l.V)("Visual_Color100"),description:(0,l.V)("Visual_AzureMapsHeatMapColorHighDescription"),type:{fill:{solid:{color:!0}}}},R[V.heatMapUseSize]={displayName:(0,l.V)("Visual_AzureMapsHeatMapUseSize"),description:(0,l.V)("Visual_AzureMapsHeatMapUseSizeDescription"),type:{bool:!0}},R[V.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},R[V.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},R[V.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:n}},R)},F[f.barChart]={displayName:(0,l.V)("Visual_AzureMapsBarChart"),description:(0,l.V)("Visual_AzureMapsBarChartDescription"),properties:(g={show:h.iD.show},g[V.barShape]={displayName:(0,l.V)("Visual_AzureMapsBarShape"),description:(0,l.V)("Visual_AzureMapsBarShapeDescription"),type:{enumeration:u}},g[V.height]={displayName:(0,l.V)("Visual_General_Properties_Height"),description:(0,l.V)("Visual_AzureMapsBarHeightDescription"),type:{integer:!0}},g[V.scaleHeightOnZoom]={displayName:(0,l.V)("Visual_AzureMapsScaleBarHeight"),description:(0,l.V)("Visual_AzureMapsScaleBarHeightDescription"),type:{bool:!0}},g[V.thickness]={displayName:(0,l.V)("Visual_General_Properties_Width"),description:(0,l.V)("Visual_AzureMapsBarThicknessDescription"),type:{integer:!0}},g[V.scaleThicknessOnZoom]={displayName:(0,l.V)("Visual_AzureMapsScaleBarThickness"),description:(0,l.V)("Visual_AzureMapsScaleBarThicknessDescription"),type:{bool:!0}},g[V.defaultColor]={displayName:(0,l.V)("Visual_FillColor"),description:(0,l.V)("Visual_AzureMapsBarChartDefaultColorDescription"),type:{fill:{solid:{color:!0}}}},g[V.mapTransparency]={displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_AzureMapsBarTransparencyDescription"),type:{numeric:!0}},g[V.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},g[V.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},g[V.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:n}},g)},F[f.commonDataOptions]={displayName:(0,l.V)("Visual_AzureMapsCommonDataLayer"),description:(0,l.V)("Visual_AzureMapsCommonDataLayerDescription"),properties:(L={},L[V.unselectedTransparency]={displayName:(0,l.V)("Visual_AzureMapsUnselectedTransparency"),description:(0,l.V)("Visual_AzureMapsUnselectedTransparencyDescription"),type:{numeric:!0}},L[V.showZeros]={displayName:(0,l.V)("Visual_AzureMapsShowZeros"),description:(0,l.V)("Visual_AzureMapsShowZerosDescription"),type:{bool:!0}},L[V.showNegatives]={displayName:(0,l.V)("Visual_AzureMapsShowNegatives"),description:(0,l.V)("Visual_AzureMapsShowNegativesDescription"),type:{bool:!0}},L[V.minDataValue]={displayName:(0,l.V)("Visual_AzureMapsMinDataValue"),description:(0,l.V)("Visual_AzureMapsMinDataValueDescription"),type:{numeric:!0}},L[V.maxDataValue]={displayName:(0,l.V)("Visual_AzureMapsMaxDataValue"),description:(0,l.V)("Visual_AzureMapsMaxDataValueDescription"),type:{numeric:!0}},L)},F[f.referenceLayer]={displayName:(0,l.V)("Visual_AzureMapsReferenceLayer"),description:(0,l.V)(null!=P&&P.azureMapsMultiDataFormats?"Visual_AzureMapsReferenceLayerDescriptionMultiDataFormats":"Visual_AzureMapsReferenceLayerDescription"),properties:(M={},M[V.additionalDatasource]={displayName:null!=P&&P.azureMapsMultiDataFormats?"":(0,l.V)("Visual_AzureMapsReferenceLayerDatasource"),type:{geoJson:{contentType:d.Ms}}},M)},F[f.traffic]={displayName:(0,l.V)("Visual_AzureMapsTrafficLayer"),description:(0,l.V)("Visual_AzureMapsTrafficLayerDescription"),properties:(T={show:h.iD.show},T[V.showIncidents]={displayName:(0,l.V)("Visual_AzureMapsShowIncidents"),description:(0,l.V)("Visual_AzureMapsShowIncidentsDescription"),type:{bool:!0}},T[V.showTrafficControl]={displayName:(0,l.V)("Visual_AzureMapsShowTrafficControl"),description:(0,l.V)("Visual_AzureMapsShowTrafficControlDescription"),type:{bool:!0}},T)},F[f.tileLayer]={displayName:(0,l.V)("Visual_AzureMapsTileLayer"),description:(0,l.V)("Visual_AzureMapsTileLayerDescription"),properties:(O={},O[V.tileLayerUrl]={displayName:(0,l.V)("Url"),description:(0,l.V)("Visual_AzureMapsTileUrlDescription"),type:{text:!0},suppressFormatPainterCopy:!0},O[V.tileSize]={displayName:(0,l.V)("Visual_AzureMapsTileSize"),description:(0,l.V)("Visual_AzureMapsTileSizeDescription"),type:{numeric:!0}},O[V.northBounds]={displayName:(0,l.V)("Visual_AzureMapsTileNorthBounds"),description:(0,l.V)("Visual_AzureMapsTileNorthBoundsDescription"),type:{numeric:!0}},O[V.southBounds]={displayName:(0,l.V)("Visual_AzureMapsTileSouthBounds"),description:(0,l.V)("Visual_AzureMapsTileSouthBoundsDescription"),type:{numeric:!0}},O[V.eastBounds]={displayName:(0,l.V)("Visual_AzureMapsTileEastBounds"),description:(0,l.V)("Visual_AzureMapsTileEastBoundsDescription"),type:{numeric:!0}},O[V.westBounds]={displayName:(0,l.V)("Visual_AzureMapsTileWestBounds"),description:(0,l.V)("Visual_AzureMapsTileWestBoundsDescription"),type:{numeric:!0}},O[V.mapTransparency]={displayName:(0,l.V)("Transparency"),description:(0,l.V)("Visual_AzureMapsTileTransparencyDescription"),type:{numeric:!0}},O[V.isTMS]={displayName:(0,l.V)("Visual_AzureMapsTileIsTMS"),description:(0,l.V)("Visual_AzureMapsTileIsTMSDescription"),type:{bool:!0}},O[V.minZoom]={displayName:(0,l.V)("Visual_AzureMapsMinZoom"),description:(0,l.V)("Visual_AzureMapsMinZoomDescription"),type:{integer:!0}},O[V.maxZoom]={displayName:(0,l.V)("Visual_AzureMapsMaxZoom"),description:(0,l.V)("Visual_AzureMapsMaxZoomDescription"),type:{integer:!0}},O[V.layerPosition]={displayName:(0,l.V)("Visual_AzureMapsLayerPosition"),description:(0,l.V)("Visual_AzureMapsLayerPositionDescription"),type:{enumeration:n}},O)},F);return null!=P&&P.azureMapsGeocoding&&(N[f.mapControls].properties[V.geocodingCulture]={displayName:(0,l.V)("Visual_MapGeocodingCulture"),type:{enumeration:S.dt}}),null!=P&&P.azureMapsBubbleCluster&&(N[f.bubbleLayer].properties[V.clusteringEnabled]={displayName:(0,l.V)("Visual_AzureMapsClusterBubbles"),description:(0,l.V)("Visual_AzureMapsClusterBubbles_Description"),type:{bool:!0}},N[f.bubbleLayer].properties[V.clusteredBubbleRadius]={displayName:(0,l.V)("Visual_AzureMapsClusterSize"),type:{integer:!0}},N[f.bubbleLayer].properties[V.clusteredBubbleFillColor]={displayName:(0,l.V)("Visual_AzureMapsClusterColor"),type:{fill:{solid:{color:!0}}}},N[f.bubbleLayer].properties[V.clusteredBubbleFontSize]=h.iD.fontSize,N[f.bubbleLayer].properties[V.clusteredBubbleFontColor]={displayName:(0,l.V)("Text_Color"),type:{fill:{solid:{color:!0}}}},N[f.bubbleLayer].properties[V.clusteredBubbleStrokeColor]=h.iD.borderColor,N[f.bubbleLayer].properties[V.clusteredBubbleStrokeWidth]={displayName:(0,l.V)("Visual_DonutBorderWidth"),type:{integer:!0}}),N}var D={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},mapControls:{defaultStyle:{objectName:"mapControls",propertyName:"defaultStyle"},showStylePicker:{objectName:"mapControls",propertyName:"showStylePicker"},showLabels:{objectName:"mapControls",propertyName:"showLabels"},showNavigationControls:{objectName:"mapControls",propertyName:"showNavigationControls"},zoom:{objectName:"mapControls",propertyName:"zoom"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},heading:{objectName:"mapControls",propertyName:"heading"},pitch:{objectName:"mapControls",propertyName:"pitch"},autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},worldWrap:{objectName:"mapControls",propertyName:"worldWrap"},showSelectionControl:{objectName:"mapControls",propertyName:"showSelectionControl"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},traffic:{showTraffic:{objectName:"traffic",propertyName:"show"},showIncidents:{objectName:"traffic",propertyName:"showIncidents"},showTrafficControl:{objectName:"traffic",propertyName:"showTrafficControl"}},tileLayer:{tileLayerUrl:{objectName:"tileLayer",propertyName:"tileLayerUrl"},tileSize:{objectName:"tileLayer",propertyName:"tileSize"},northBounds:{objectName:"tileLayer",propertyName:"northBounds"},southBounds:{objectName:"tileLayer",propertyName:"southBounds"},eastBounds:{objectName:"tileLayer",propertyName:"eastBounds"},westBounds:{objectName:"tileLayer",propertyName:"westBounds"},transparency:{objectName:"tileLayer",propertyName:"mapTransparency"},isTMS:{objectName:"tileLayer",propertyName:"isTMS"},minZoom:{objectName:"tileLayer",propertyName:"minZoom"},maxZoom:{objectName:"tileLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"}},filledMap:{show:{objectName:"filledMap",propertyName:"show"},defaultColor:{objectName:"filledMap",propertyName:"defaultColor"},transparency:{objectName:"filledMap",propertyName:"mapTransparency"},strokeColor:{objectName:"filledMap",propertyName:"strokeColor"},strokeTransparency:{objectName:"filledMap",propertyName:"strokeTransparency"},strokeWidth:{objectName:"filledMap",propertyName:"strokeWidth"},minZoom:{objectName:"filledMap",propertyName:"minZoom"},maxZoom:{objectName:"filledMap",propertyName:"maxZoom"},layerPosition:{objectName:"filledMap",propertyName:"layerPosition"}},bubbleLayer:{show:{objectName:"bubbleLayer",propertyName:"show"},transparency:{objectName:"bubbleLayer",propertyName:"mapTransparency"},radius:{objectName:"bubbleLayer",propertyName:"bubbleRadius"},minRadius:{objectName:"bubbleLayer",propertyName:"minBubbleRadius"},markerRangeType:{objectName:"bubbleLayer",propertyName:"markerRangeType"},radiusScalingMethod:{objectName:"bubbleLayer",propertyName:"radiusScalingMethod"},maxRadius:{objectName:"bubbleLayer",propertyName:"maxRadius"},strokeColor:{objectName:"bubbleLayer",propertyName:"strokeColor"},autoStrokeColor:{objectName:"bubbleLayer",propertyName:"autoStrokeColor"},strokeTransparency:{objectName:"bubbleLayer",propertyName:"strokeTransparency"},strokeWidth:{objectName:"bubbleLayer",propertyName:"bubbleStrokeWidth"},blur:{objectName:"bubbleLayer",propertyName:"blur"},pitchAlignment:{objectName:"bubbleLayer",propertyName:"pitchAlignment"},zoomScaleFactor:{objectName:"bubbleLayer",propertyName:"zoomScaleFactor"},logScale:{objectName:"bubbleLayer",propertyName:"logScale"},x1:{objectName:"bubbleLayer",propertyName:"x1"},x2:{objectName:"bubbleLayer",propertyName:"x2"},y1:{objectName:"bubbleLayer",propertyName:"y1"},y2:{objectName:"bubbleLayer",propertyName:"y2"},minZoom:{objectName:"bubbleLayer",propertyName:"minZoom"},maxZoom:{objectName:"bubbleLayer",propertyName:"maxZoom"},layerPosition:{objectName:"bubbleLayer",propertyName:"layerPosition"},clusteringEnabled:{objectName:"bubbleLayer",propertyName:"clusteringEnabled"},clusteredBubbleRadius:{objectName:"bubbleLayer",propertyName:"clusteredBubbleRadius"},clusteredBubbleFillColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFillColor"},clusteredBubbleFontSize:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontSize"},clusteredBubbleFontColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleFontColor"},clusteredBubbleStrokeColor:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeColor"},clusteredBubbleStrokeWidth:{objectName:"bubbleLayer",propertyName:"clusteredBubbleStrokeWidth"}},heatMapLayer:{show:{objectName:"heatMapLayer",propertyName:"show"},heatMapRadius:{objectName:"heatMapLayer",propertyName:"heatMapRadius"},heatMapRadiusUnit:{objectName:"heatMapLayer",propertyName:"heatMapRadiusUnit"},heatMapTransparency:{objectName:"heatMapLayer",propertyName:"mapTransparency"},heatMapIntensity:{objectName:"heatMapLayer",propertyName:"heatMapIntensity"},heatMapColorLow:{objectName:"heatMapLayer",propertyName:"heatMapColorLow"},heatMapColorCenter:{objectName:"heatMapLayer",propertyName:"heatMapColorCenter"},heatMapColorHigh:{objectName:"heatMapLayer",propertyName:"heatMapColorHigh"},heatMapUseSize:{objectName:"heatMapLayer",propertyName:"heatMapUseSize"},minZoom:{objectName:"heatMapLayer",propertyName:"minZoom"},maxZoom:{objectName:"heatMapLayer",propertyName:"maxZoom"},layerPosition:{objectName:"heatMapLayer",propertyName:"layerPosition"}},barChart:{show:{objectName:"barChart",propertyName:"show"},barShape:{objectName:"barChart",propertyName:"barShape"},height:{objectName:"barChart",propertyName:"barHeight"},scaleHeightOnZoom:{objectName:"barChart",propertyName:"scaleHeightOnZoom"},thickness:{objectName:"barChart",propertyName:"thickness"},scaleThicknessOnZoom:{objectName:"barChart",propertyName:"scaleThicknessOnZoom"},defaultColor:{objectName:"barChart",propertyName:"defaultColor"},transparency:{objectName:"barChart",propertyName:"mapTransparency"},unselectedTransparency:{objectName:"barChart",propertyName:"unselectedTransparency"},minZoom:{objectName:"barChart",propertyName:"minZoom"},maxZoom:{objectName:"barChart",propertyName:"maxZoom"},layerPosition:{objectName:"barChart",propertyName:"layerPosition"}},commonDataOptions:{unselectedTransparency:{objectName:"commonDataOptions",propertyName:"unselectedTransparency"},showZeros:{objectName:"commonDataOptions",propertyName:"showZeros"},showNegatives:{objectName:"commonDataOptions",propertyName:"showNegatives"},minDataValue:{objectName:"commonDataOptions",propertyName:"minDataValue"},maxDataValue:{objectName:"commonDataOptions",propertyName:"maxDataValue"}},referenceLayer:{additionalDatasource:{objectName:"referenceLayer",propertyName:"additionalDatasource"}}}},635414:function(Xe,H,t){t.d(H,{O:function(){return d},T:function(){return o}});var e=t(572909),l=t(495570),o={objects:{line:{displayName:(0,e.V)("Visual_BasicShape_Line"),properties:{lineColor:{displayName:(0,e.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},transparency:l.iD.transparency,weight:{displayName:(0,e.V)("Visual_BasicShape_Weight"),type:{numeric:!0}},roundEdge:{displayName:(0,e.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}}}},fill:{displayName:(0,e.V)("Visual_Fill"),properties:{show:l.iD.show,fillColor:{displayName:(0,e.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},transparency:l.iD.transparency}},rotation:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),properties:{angle:{displayName:(0,e.V)("Visual_BasicShape_Rotate"),type:{numeric:!0}}}},general:{properties:{shapeType:{type:{text:!0},suppressFormatPainterCopy:!0}}}},suppressDefaultTitle:!0,suppressDefaultPadding:!0,canRotate:!1,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img"},d={general:{shapeType:{objectName:"general",propertyName:"shapeType"}},line:{transparency:{objectName:"line",propertyName:"transparency"},weight:{objectName:"line",propertyName:"weight"},roundEdge:{objectName:"line",propertyName:"roundEdge"},lineColor:{objectName:"line",propertyName:"lineColor"}},fill:{transparency:{objectName:"fill",propertyName:"transparency"},fillColor:{objectName:"fill",propertyName:"fillColor"},show:{objectName:"fill",propertyName:"show"}},rotation:{angle:{objectName:"rotation",propertyName:"angle"}}}},159682:function(Xe,H,t){t.d(H,{C:function(){return d},d:function(){return v}});var e=t(273269),l=t(572909),o=t(495570),d={dataRoles:[{name:"Values",kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Fields"),description:(0,l.V)("Role_DisplayName_FieldsDescription")}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:o.iD.formatString}},labels:{displayName:(0,l.V)("Visual_DataPointLabel"),properties:{color:o.iD.dataColor,labelDisplayUnits:o.iD.labelDisplayUnits,labelPrecision:o.iD.labelPrecision,fontSize:o.iD.fontSize,bold:o.iD.bold,italic:o.iD.italic,underline:o.iD.underline,fontFamily:o.iD.fontFamily,preserveWhitespace:{displayName:(0,l.V)("Visual_LabelPreserveWhitespace"),description:(0,l.V)("Visual_LabelPreserveWhitespace_Description"),type:{bool:!0}}}},categoryLabels:{displayName:(0,l.V)("Visual_CategoryLabel"),properties:{show:o.iD.show,color:o.iD.dataColor,fontSize:o.iD.fontSize,bold:o.iD.bold,italic:o.iD.italic,underline:o.iD.underline,fontFamily:o.iD.fontFamily,preserveWhitespace:{displayName:(0,l.V)("Visual_LabelPreserveWhitespace"),description:(0,l.V)("Visual_CategoryLabelPreserveWhitespace_Description"),type:{bool:!0}}}},wordWrap:{displayName:(0,l.V)("Visual_Word_Wrap"),properties:{show:o.iD.show}}},dataViewMappings:[{conditions:[{Values:{max:1}}],single:{role:"Values"}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0,analyze:{supportsAnalyzeHighLowValues:!0},supportsOnObjectFormatting:!0},v={categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"categoryLabels",propertyName:"preserveWhitespace"}},labels:{color:{objectName:"labels",propertyName:"color"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},preserveWhitespace:{objectName:"labels",propertyName:"preserveWhitespace"}},wordWrap:{show:{objectName:"wordWrap",propertyName:"show"}}}},803273:function(Xe,H,t){t.d(H,{NX:function(){return L},LS:function(){return ee},pz:function(){return M},L$:function(){return O}});var y,D,P,F,E,w,x,R,g,e=t(973188),l=t(273269),o=t(572909),d=t(782054),v=t(871879),S=t(495570),h=t(830173),c=t(588376),u=(0,c.i)([{value:"below",displayName:function(he){return he.get("Visual_CallOutRelative_Below")}},{value:"right",displayName:function(he){return he.get("Visual_CallOutRelative_Right")}}]),i=t(366582),a=t(919876),f=(0,c.i)([{value:"rows",displayName:function(he){return he.get("Small_Multiples_Layout_Rows")}},{value:"columns",displayName:function(he){return he.get("Small_Multiples_Layout_Columns")}}]),C=(0,c.i)([{value:"sentence",displayName:function(he){return he.get("Visual_LabelLayout_Sentence")}},{value:"tabular",displayName:function(he){return he.get("Visual_LabelLayout_Tabular")}}]),b=t(613218),L={Data:"Data",Tooltips:"Tooltips"},M={accentBar:"accentBar",altText:"altText",backgroundColor:"backgroundColor",backgroundShow:"backgroundShow",backgroundTransparency:"backgroundTransparency",angle:"angle",cards:"cards",color:"color",customFormatString:"customFormatString",detailFontColor:"detailFontColor",detailFontSize:"detailFontSize",detailFontFamily:"detailFontFamily",detailItalic:"detailItalic",detailBold:"detailBold",detailUnderline:"detailUnderline",detailTransparency:"detailTransparency",detailPrecision:"detailPrecision",detailDisplayUnits:"detailDisplayUnits",detailValue:"detailValue",detailBackgroundColor:"detailBackgroundColor",dividerColor:"dividerColor",dividerLineStyle:"dividerLineStyle",dividerWidth:"dividerWidth",dividerIgnorePadding:"dividerIgnorePadding",dividerTransparency:"dividerTransparency",fill:h.eM.fillCustom,fixedSize:"fixedSize",fontSize:"fontSize",fontFamily:"fontFamily",fontColor:"fontColor",glowCustom:h.eM.glowCustom,image:"image",imageType:"imageType",imageUrl:"imageUrl",imageAreaSize:"imageAreaSize",layout:"layout",outline:h.eM.outline,padding:"padding",position:"position",Rotation:"textAngle",referenceLabel:"referenceLabel",referenceLabelDetail:"referenceLabelDetail",referenceLabelLayout:"referenceLabelLayout",referenceLabelTitle:"referenceLabelTitle",referenceLabelValue:"referenceLabelValue",divider:"divider",rotation:"rotation",spacing:"spacing",size:"size",shapeCustomRectangle:h.eM.shapeCustomRectangle,shadowCustom:h.eM.shadowCustom,shapeRotation:"shapeAngle",title:"title",titleFontFamily:"titleFontFamily",titleFontSize:"titleFontSize",titleContentType:"titleContentType",titleText:"titleText",titleTransparency:"titleTransparency",titleUnderline:"titleUnderline",titleItalic:"titleItalic",titleFontColor:"titleFontColor",titleBold:"titleBold",textRotation:"textAngle",transparency:"transparency",verticalAlignment:"verticalAlignment",value:"value",valueFontColor:"valueFontColor",valueFontSize:"valueFontSize",valueFontFamily:"valueFontFamily",valueItalic:"valueItalic",valueBold:"valueBold",valueUnderline:"valueUnderline",valueTransparency:"valueTransparency",valuePrecision:"valuePrecision",valueDisplayUnits:"valueDisplayUnits",showBlankAs:"showBlankAs",width:"width"},T={image:{show:{objectName:"image",propertyName:"show"},imageType:{objectName:"image",propertyName:"imageType"},image:{objectName:"image",propertyName:"image"},imageUrl:{objectName:"image",propertyName:"imageUrl"},transparency:{objectName:"image",propertyName:"transparency"},position:{objectName:"image",propertyName:"position"},padding:{objectName:"image",propertyName:"padding"},size:{objectName:"image",propertyName:"size"},altText:{objectName:"image",propertyName:"altText"},fixedSize:{objectName:"image",propertyName:"fixedSize"},imageAreaSize:{objectName:"image",propertyName:"imageAreaSize"}},referenceLabel:{value:{objectName:"referenceLabel",propertyName:"value"},formatString:{objectName:"referenceLabel",propertyName:"formatString"},backgroundShow:{objectName:"referenceLabel",propertyName:"backgroundShow"},backgroundColor:{objectName:"referenceLabel",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"referenceLabel",propertyName:"backgroundTransparency"}},referenceLabelTitle:{show:{objectName:"referenceLabelTitle",propertyName:"show"},titleContentType:{objectName:"referenceLabelTitle",propertyName:"titleContentType"},titleText:{objectName:"referenceLabelTitle",propertyName:"titleText"},titleFontColor:{objectName:"referenceLabelTitle",propertyName:"titleFontColor"},titleFontSize:{objectName:"referenceLabelTitle",propertyName:"titleFontSize"},titleFontFamily:{objectName:"referenceLabelTitle",propertyName:"titleFontFamily"},titleItalic:{objectName:"referenceLabelTitle",propertyName:"titleItalic"},titleBold:{objectName:"referenceLabelTitle",propertyName:"titleBold"},titleUnderline:{objectName:"referenceLabelTitle",propertyName:"titleUnderline"},titleTransparency:{objectName:"referenceLabelTitle",propertyName:"titleTransparency"}},referenceLabelValue:{show:{objectName:"referenceLabelValue",propertyName:"show"},valueFontColor:{objectName:"referenceLabelValue",propertyName:"valueFontColor"},valueFontSize:{objectName:"referenceLabelValue",propertyName:"valueFontSize"},valueFontFamily:{objectName:"referenceLabelValue",propertyName:"valueFontFamily"},valueItalic:{objectName:"referenceLabelValue",propertyName:"valueItalic"},valueBold:{objectName:"referenceLabelValue",propertyName:"valueBold"},valueUnderline:{objectName:"referenceLabelValue",propertyName:"valueUnderline"},valueTransparency:{objectName:"referenceLabelValue",propertyName:"valueTransparency"},valuePrecision:{objectName:"referenceLabelValue",propertyName:"valuePrecision"},valueDisplayUnits:{objectName:"referenceLabelValue",propertyName:"valueDisplayUnits"},showBlankAs:{objectName:"referenceLabelValue",propertyName:"showBlankAs"},customFormatString:{objectName:"referenceLabelValue",propertyName:"customFormatString"}},referenceLabelDetail:{show:{objectName:"referenceLabelDetail",propertyName:"show"},detailFontColor:{objectName:"referenceLabelDetail",propertyName:"detailFontColor"},detailFontSize:{objectName:"referenceLabelDetail",propertyName:"detailFontSize"},detailFontFamily:{objectName:"referenceLabelDetail",propertyName:"detailFontFamily"},detailItalic:{objectName:"referenceLabelDetail",propertyName:"detailItalic"},detailBold:{objectName:"referenceLabelDetail",propertyName:"detailBold"},detailUnderline:{objectName:"referenceLabelDetail",propertyName:"detailUnderline"},detailTransparency:{objectName:"referenceLabelDetail",propertyName:"detailTransparency"},detailPrecision:{objectName:"referenceLabelDetail",propertyName:"detailPrecision"},detailDisplayUnits:{objectName:"referenceLabelDetail",propertyName:"detailDisplayUnits"},showBlankAs:{objectName:"referenceLabelDetail",propertyName:"showBlankAs"},detailValue:{objectName:"referenceLabelDetail",propertyName:"detailValue"},detailBackgroundColor:{objectName:"referenceLabelDetail",propertyName:"detailBackgroundColor"},customFormatString:{objectName:"referenceLabelDetail",propertyName:"customFormatString"},formatString:{objectName:"referenceLabelDetail",propertyName:"formatString"}},referenceLabelLayout:{position:{objectName:"referenceLabelLayout",propertyName:"position"},arrangement:{objectName:"referenceLabelLayout",propertyName:"arrangement"},style:{objectName:"referenceLabelLayout",propertyName:"style"},horizontalAlignment:{objectName:"referenceLabelLayout",propertyName:"horizontalAlignment"},verticalAlignment:{objectName:"referenceLabelLayout",propertyName:"verticalAlignment"},valueArea:{objectName:"referenceLabelLayout",propertyName:"valueArea"},textWrap:{objectName:"referenceLabelLayout",propertyName:"textWrap"},labelSpace:{objectName:"referenceLabelLayout",propertyName:"labelSpace"},outerPadding:{objectName:"referenceLabelLayout",propertyName:"outerPadding"},customizePadding:{objectName:"referenceLabelLayout",propertyName:"customizePadding"},paddingBeforeDivider:{objectName:"referenceLabelLayout",propertyName:"paddingBeforeDivider"},paddingAfterDivider:{objectName:"referenceLabelLayout",propertyName:"paddingAfterDivider"}},divider:{show:{objectName:"divider",propertyName:"show"},dividerColor:{objectName:"divider",propertyName:"dividerColor"},dividerLineStyle:{objectName:"divider",propertyName:"dividerLineStyle"},dividerWidth:{objectName:"divider",propertyName:"dividerWidth"},dividerIgnorePadding:{objectName:"divider",propertyName:"dividerIgnorePadding"},dividerTransparency:{objectName:"divider",propertyName:"dividerTransparency"}}},O={general:{formatString:S.e0.formatString},fillCustom:h.OV.fillCustom,outline:h.OV.outline,value:h.OV.value,label:h.OV.label,referenceLabel:T.referenceLabel,shapeCustomRectangle:h.OV.shapeCustomRectangle,layout:h.OV.layout,overFlow:h.OV.overFlow,shadowCustom:h.OV.shadowCustom,glowCustom:h.OV.glowCustom,spacing:h.OV.spacing,padding:h.OV.padding,accentBar:h.OV.accentBar,image:T.image,referenceLabelTitle:T.referenceLabelTitle,referenceLabelValue:T.referenceLabelValue,referenceLabelDetail:T.referenceLabelDetail,referenceLabelLayout:T.referenceLabelLayout,divider:T.divider},N=((y={})[M.angle]={displayName:(0,o.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},y[M.shapeRotation]={displayName:(0,o.V)("Visual_ShapeRotation"),type:{integer:!0}},y[M.textRotation]={displayName:(0,o.V)("Visual_TextRotation"),type:{integer:!0}},y),A=((D={show:S.iD.show})[M.imageType]={displayName:(0,o.V)("Visual_ImageType"),type:{enumeration:d.dt}},D[M.image]=S.iD.image,D[M.imageUrl]={displayName:(0,o.V)("Image_Url"),type:{text:!0}},D[M.transparency]=S.iD.transparency,D[M.position]={displayName:(0,o.V)("Visual_Position"),type:{enumeration:v.zq}},D[M.padding]={displayName:(0,o.V)("Visual_Space_Between_Image"),type:{integer:!0}},D[M.size]={displayName:(0,o.V)("Visual_BubbleSize"),type:{integer:!0}},D[M.altText]={displayName:(0,o.V)("Visual_General_Properties_Description"),type:{formatting:{altText:!0}}},D[M.fixedSize]={displayName:(0,o.V)("Visual_FixSize"),type:{bool:!0}},D[M.imageAreaSize]={displayName:(0,o.V)("Visual_Image_Area_Size"),type:{integer:!0}},D),I=((P={})[M.value]={displayName:(0,o.V)("Visual_Add_Label"),formatStringProperty:O.referenceLabel.formatString,type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},P.formatString=S.iD.formatString,P[M.backgroundColor]={displayName:(0,o.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},P[M.backgroundTransparency]=S.iD.transparency,P[M.backgroundShow]=S.iD.show,P),B=((F={show:S.iD.show})[M.titleText]={displayName:(0,o.V)("Text"),type:{text:!0}},F[M.titleFontColor]=S.iD.fontColor,F[M.titleFontSize]=S.iD.fontSize,F[M.titleFontFamily]=S.iD.fontFamily,F[M.titleUnderline]=S.iD.underline,F[M.titleItalic]=S.iD.italic,F[M.titleBold]=S.iD.bold,F[M.titleFontColor]={displayName:(0,o.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},F[M.titleTransparency]=S.iD.transparency,F[M.titleContentType]={displayName:(0,o.V)("Content"),type:{enumeration:i.FH}},F),U=((E={show:S.iD.show})[M.valueFontColor]=S.iD.fontColor,E[M.valueFontSize]=S.iD.fontSize,E[M.valueFontFamily]=S.iD.fontFamily,E[M.valueUnderline]=S.iD.underline,E[M.valueBold]=S.iD.bold,E[M.valueItalic]=S.iD.italic,E[M.valueTransparency]=S.iD.transparency,E[M.valuePrecision]=S.iD.labelPrecision,E[M.valueDisplayUnits]=(0,e.__assign)((0,e.__assign)({},S.iD.labelDisplayUnits),{type:{enumeration:a.d}}),E[M.showBlankAs]=S.iD.showBlankAs,E[M.customFormatString]={displayName:(0,o.V)("Visual_FormatCode"),description:(0,o.V)("Visual_FormatCode_Description"),type:{text:!0}},E),W=((w={show:S.iD.show})[M.detailFontColor]=S.iD.fontColor,w[M.detailFontSize]=S.iD.fontSize,w[M.detailFontFamily]=S.iD.fontFamily,w[M.detailUnderline]=S.iD.underline,w[M.detailBold]=S.iD.bold,w[M.detailItalic]=S.iD.italic,w[M.detailTransparency]=S.iD.transparency,w[M.detailPrecision]=S.iD.labelPrecision,w[M.detailDisplayUnits]=(0,e.__assign)((0,e.__assign)({},S.iD.labelDisplayUnits),{type:{enumeration:a.d}}),w[M.showBlankAs]=S.iD.showBlankAs,w[M.detailValue]=(0,e.__assign)((0,e.__assign)({},S.iD.dynamicLabelValue),{formatStringProperty:O.referenceLabel.formatString}),w.formatString=S.iD.formatString,w[M.detailBackgroundColor]={displayName:(0,o.V)("Generic_Color"),type:{fill:{solid:{color:{nullable:!0}}}}},w[M.customFormatString]={displayName:(0,o.V)("Visual_FormatCode"),description:(0,o.V)("Visual_FormatCode_Description"),type:{text:!0}},w),j=((x={show:S.iD.show})[M.dividerColor]={displayName:(0,o.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},x[M.dividerLineStyle]={displayName:(0,o.V)("Style"),type:{enumeration:b.dt}},x[M.dividerWidth]={displayName:(0,o.V)("Visual_General_Properties_Width"),type:{numeric:!0}},x[M.dividerIgnorePadding]={displayName:(0,o.V)("Visual_Divider_IgnorePadding"),type:{bool:!0}},x[M.dividerTransparency]=S.iD.transparency,x),K={position:{displayName:(0,o.V)("Visual_Position"),type:{enumeration:u}},arrangement:{displayName:(0,o.V)("Visual_Arrangement"),type:{enumeration:f}},style:{displayName:(0,o.V)("Visual_Axis_Style"),type:{enumeration:C}},horizontalAlignment:{displayName:(0,o.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},verticalAlignment:{displayName:(0,o.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},valueArea:{displayName:(0,o.V)("Visual_Label_ValueArea"),type:{numeric:!0}},textWrap:S.iD.textWrap,labelSpace:{displayName:(0,o.V)("Visual_LabelSpacing"),type:{numeric:!0}},outerPadding:{displayName:(0,o.V)("Visual_OuterPadding"),type:{numeric:!0}},customizePadding:{displayName:(0,o.V)("Visual_OuterPadding_Custom"),type:{bool:!0}},paddingBeforeDivider:{displayName:(0,o.V)("Visual_LabelPadding_DividerBefore"),type:{numeric:!0}},paddingAfterDivider:{displayName:(0,o.V)("Visual_LabelPadding_DividerAfter"),type:{numeric:!0}}},ee={dataRoles:[{name:L.Data,kind:l.DW.Measure,displayName:(0,o.V)("Data")},{name:L.Tooltips,kind:l.DW.Measure,displayName:(0,o.V)("Role_DisplayName_Tooltips"),description:(0,o.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(R={general:{displayName:(0,o.V)("Visual_General"),properties:{formatString:S.iD.formatString}}},R[M.fill]=h.zC.fillCustom,R[M.outline]=h.zC.outline,R[h.eM.value]=h.zC.value,R[h.eM.label]=h.zC.label,R[M.shapeCustomRectangle]=h.zC.shapeCustomRectangle,R[M.layout]=h.zC.layout,R[h.eM.overFlow]=h.zC.overFlow,R[M.shadowCustom]=h.zC.shadowCustom,R[M.glowCustom]=h.zC.glowCustom,R[M.rotation]={displayName:(0,o.V)("Visual_BasicShape_Rotate"),properties:N},R[M.spacing]=h.zC.spacing,R[M.padding]=h.zC.padding,R[M.accentBar]=h.zC.accentBar,R[M.image]={displayName:(0,o.V)("Images"),properties:A},R[M.referenceLabel]={displayName:(0,o.V)("Visual_Reference_Labels"),properties:I},R[M.referenceLabelTitle]={displayName:(0,o.V)("Title"),properties:B},R[M.referenceLabelValue]={displayName:(0,o.V)("Value"),properties:U},R[M.referenceLabelDetail]={displayName:(0,o.V)("Visual_Label_DetailLabelName"),properties:W},R[M.referenceLabelLayout]={displayName:(0,o.V)("Small_Multiples_LayoutGroup"),properties:K},R[M.divider]={displayName:(0,o.V)("Visual_Divider"),properties:j},R),dataViewMappings:[{conditions:[(g={},g[L.Data]={min:1},g)],matrix:{values:{select:[{for:{in:L.Data}},{for:{in:L.Tooltips}}]}}}],suppressDefaultTitle:!0,supportsSelection:!1,disableFocusMode:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}},637916:function(Xe,H,t){t.d(H,{p:function(){return o},x:function(){return l}});var e=t(493369),l={category:"Category",series:"Series",x:"X",y:"Y",y2:"Y2",gradient:"Gradient",tooltips:"Tooltips",rows:"Rows"},o={scalarKey:{scalarKeyMin:e.it},filters:{filteredToUniqueValue:{objectName:"filters",propertyName:"filteredToUniqueValue"}},categoryAxis:{show:{objectName:"categoryAxis",propertyName:"show"},fontFamily:{objectName:"categoryAxis",propertyName:"fontFamily"},fontSize:{objectName:"categoryAxis",propertyName:"fontSize"},bold:{objectName:"categoryAxis",propertyName:"bold"},italic:{objectName:"categoryAxis",propertyName:"italic"},underline:{objectName:"categoryAxis",propertyName:"underline"},showAxisTitle:{objectName:"categoryAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"categoryAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"categoryAxis",propertyName:"titleFontSize"},titleBold:{objectName:"categoryAxis",propertyName:"titleBold"},titleItalic:{objectName:"categoryAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"categoryAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"categoryAxis",propertyName:"concatenateLabels"},start:{objectName:"categoryAxis",propertyName:"start"},end:{objectName:"categoryAxis",propertyName:"end"},position:{objectName:"categoryAxis",propertyName:"position"},axisType:{objectName:"categoryAxis",propertyName:"axisType"},axisScale:{objectName:"categoryAxis",propertyName:"axisScale"},axisStyle:{objectName:"categoryAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"categoryAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"categoryAxis",propertyName:"labelPrecision"},labelColor:{objectName:"categoryAxis",propertyName:"labelColor"},logAxisScale:{objectName:"categoryAxis",propertyName:"logAxisScale"},titleText:{objectName:"categoryAxis",propertyName:"titleText"},titleColor:{objectName:"categoryAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},gridlineShow:{objectName:"categoryAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"categoryAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"categoryAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"categoryAxis",propertyName:"gridlineStyle"},maxMarginFactor:{objectName:"categoryAxis",propertyName:"maxMarginFactor"},innerPadding:{objectName:"categoryAxis",propertyName:"innerPadding"},invertAxis:{objectName:"categoryAxis",propertyName:"invertAxis"},switchAxisPosition:{objectName:"categoryAxis",propertyName:"switchAxisPosition"}},valueAxis:{show:{objectName:"valueAxis",propertyName:"show"},fontFamily:{objectName:"valueAxis",propertyName:"fontFamily"},fontSize:{objectName:"valueAxis",propertyName:"fontSize"},bold:{objectName:"valueAxis",propertyName:"bold"},italic:{objectName:"valueAxis",propertyName:"italic"},underline:{objectName:"valueAxis",propertyName:"underline"},showAxisTitle:{objectName:"valueAxis",propertyName:"showAxisTitle"},titleFontFamily:{objectName:"valueAxis",propertyName:"titleFontFamily"},titleFontSize:{objectName:"valueAxis",propertyName:"titleFontSize"},titleBold:{objectName:"valueAxis",propertyName:"titleBold"},titleItalic:{objectName:"valueAxis",propertyName:"titleItalic"},titleUnderline:{objectName:"valueAxis",propertyName:"titleUnderline"},concatenateLabels:{objectName:"valueAxis",propertyName:"concatenateLabels"},start:{objectName:"valueAxis",propertyName:"start"},end:{objectName:"valueAxis",propertyName:"end"},invertAxis:{objectName:"valueAxis",propertyName:"invertAxis"},sharedAxis:{objectName:"valueAxis",propertyName:"sharedAxis"},scaleToFit:{objectName:"valueAxis",propertyName:"scaleToFit"},totalsEnabled:{objectName:"valueAxis",propertyName:"totalsEnabled"},position:{objectName:"valueAxis",propertyName:"position"},axisType:{objectName:"valueAxis",propertyName:"axisType"},axisScale:{objectName:"valueAxis",propertyName:"axisScale"},axisStyle:{objectName:"valueAxis",propertyName:"axisStyle"},labelDisplayUnits:{objectName:"valueAxis",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"valueAxis",propertyName:"labelPrecision"},labelColor:{objectName:"valueAxis",propertyName:"labelColor"},logAxisScale:{objectName:"valueAxis",propertyName:"logAxisScale"},titleText:{objectName:"valueAxis",propertyName:"titleText"},titleColor:{objectName:"valueAxis",propertyName:"titleColor"},preferredCategoryWidth:{objectName:"valueAxis",propertyName:"preferredCategoryWidth"},axisLabel:{objectName:"valueAxis",propertyName:"axisLabel"},gridlineShow:{objectName:"valueAxis",propertyName:"gridlineShow"},gridlineColor:{objectName:"valueAxis",propertyName:"gridlineColor"},gridlineThickness:{objectName:"valueAxis",propertyName:"gridlineThickness"},gridlineStyle:{objectName:"valueAxis",propertyName:"gridlineStyle"},secShow:{objectName:"valueAxis",propertyName:"secShow"},alignZeros:{objectName:"valueAxis",propertyName:"alignZeros"},secShowAxisTitle:{objectName:"valueAxis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"valueAxis",propertyName:"secFontFamily"},secFontSize:{objectName:"valueAxis",propertyName:"secFontSize"},secBold:{objectName:"valueAxis",propertyName:"secBold"},secItalic:{objectName:"valueAxis",propertyName:"secItalic"},secUnderline:{objectName:"valueAxis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"valueAxis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"valueAxis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"valueAxis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"valueAxis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"valueAxis",propertyName:"secTitleUnderline"},secStart:{objectName:"valueAxis",propertyName:"secStart"},secEnd:{objectName:"valueAxis",propertyName:"secEnd"},secInvertAxis:{objectName:"valueAxis",propertyName:"secInvertAxis"},secPosition:{objectName:"valueAxis",propertyName:"secPosition"},secAxisScale:{objectName:"valueAxis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"valueAxis",propertyName:"secAxisStyle"},secLogAxisScale:{objectName:"valueAxis",propertyName:"secLogAxisScale"},secLabelDisplayUnits:{objectName:"valueAxis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"valueAxis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"valueAxis",propertyName:"secLabelColor"},secTitleText:{objectName:"valueAxis",propertyName:"secTitleText"},secTitleColor:{objectName:"valueAxis",propertyName:"secTitleColor"},switchAxisPosition:{objectName:"valueAxis",propertyName:"switchAxisPosition"}},y2Axis:{show:{objectName:"y2Axis",propertyName:"show"},secShowAxisTitle:{objectName:"y2Axis",propertyName:"secShowAxisTitle"},secFontFamily:{objectName:"y2Axis",propertyName:"secFontFamily"},secFontSize:{objectName:"y2Axis",propertyName:"secFontSize"},secBold:{objectName:"y2Axis",propertyName:"secBold"},secItalic:{objectName:"y2Axis",propertyName:"secItalic"},secUnderline:{objectName:"y2Axis",propertyName:"secUnderline"},secTitleFontFamily:{objectName:"y2Axis",propertyName:"secTitleFontFamily"},secTitleFontSize:{objectName:"y2Axis",propertyName:"secTitleFontSize"},secTitleBold:{objectName:"y2Axis",propertyName:"secTitleBold"},secTitleItalic:{objectName:"y2Axis",propertyName:"secTitleItalic"},secTitleUnderline:{objectName:"y2Axis",propertyName:"secTitleUnderline"},secStart:{objectName:"y2Axis",propertyName:"secStart"},secEnd:{objectName:"y2Axis",propertyName:"secEnd"},secInvertAxis:{objectName:"y2Axis",propertyName:"secInvertAxis"},secAxisScale:{objectName:"y2Axis",propertyName:"secAxisScale"},secAxisStyle:{objectName:"y2Axis",propertyName:"secAxisStyle"},secLabelDisplayUnits:{objectName:"y2Axis",propertyName:"secLabelDisplayUnits"},secLabelPrecision:{objectName:"y2Axis",propertyName:"secLabelPrecision"},secLabelColor:{objectName:"y2Axis",propertyName:"secLabelColor"},secLogAxisScale:{objectName:"y2Axis",propertyName:"secLogAxisScale"},secTitleText:{objectName:"y2Axis",propertyName:"secTitleText"},secTitleColor:{objectName:"y2Axis",propertyName:"secTitleColor"},invertAxis:{objectName:"y2Axis",propertyName:"invertAxis"}},general:{responsive:{objectName:"general",propertyName:"responsive"},responsiveLegacy:{objectName:"general",propertyName:"responsiveLegacy"}}}},861344:function(Xe,H,t){t.d(H,{gE:function(){return n},mi:function(){return V},au:function(){return a},nn:function(){return f},Ns:function(){return m}});var e=t(973188),l=t(406057),o=t(273269),v=(0,t(588376).i)([{value:"Percent of total",displayName:function(C){return C.get("Visual_LabelStyle_Percent")}},{value:"Custom",displayName:function(C){return C.get("Custom")}}]),S=t(572909),h=t(262351),c=t(355853),r=t(52825),s=t(874186),u=t(637916),i=t(495570),a={category:"Category",series:"Series",rows:u.x.rows,y:"Y",gradient:"Gradient",tooltips:"Tooltips"},n=(0,l.wZ)(m(!1,!1,!1,!1,!0));function m(p,C,b,y,D,P){var F;return void 0===p&&(p=!1),void 0===C&&(C=!1),void 0===b&&(b=!1),void 0===y&&(y=!1),void 0===D&&(D=!1),void 0===P&&(P=!1),(0,e.__assign)((0,e.__assign)((0,e.__assign)((0,e.__assign)(((F={general:{displayName:(0,S.V)("Visual_General"),properties:{formatString:i.iD.formatString,responsive:i.iD.responsive,responsiveLegacy:i.iD.responsiveLegacy}},legend:b&&!D?i.TQ.legend:{displayName:i.TQ.legend.displayName,description:i.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},i.TQ.legend.properties),{showGradientLegend:i.iD.showGradientLegend})},subheader:(0,e.__assign)({},i.TQ.subheader)})[h.Xi]=(0,e.__assign)({},i.TQ.smallMultiplesLayout),F.categoryAxis={displayName:(0,S.V)(p?"Visual_YAxis":"Visual_XAxis"),properties:(0,e.__assign)((0,e.__assign)({show:i.iD.show,start:i.iD.axisStart,end:i.iD.axisEnd,axisType:i.iD.axisType,showAxisTitle:p?i.iD.showAxisTitle_Y:i.iD.showAxisTitle_X,axisStyle:i.iD.axisStyle,labelColor:i.iD.labelColor,fontFamily:i.iD.fontFamily,fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,invertAxis:i.iD.invertAxis,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision,concatenateLabels:i.iD.concatenateLabels,preferredCategoryWidth:i.iD.preferredCategoryWidth,maxMarginFactor:i.iD.maxMarginFactor,titleColor:i.iD.titleColor,titleFontFamily:i.iD.fontFamily,titleFontSize:i.iD.titleFontSize,titleBold:i.iD.bold,titleItalic:i.iD.italic,titleUnderline:i.iD.underline,titleText:i.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},i.iD.show),{displayName:(0,S.V)("Visual_Gridline_Show")}),gridlineColor:i.iD.lineColor,gridlineThickness:i.iD.strokeWidth,gridlineStyle:i.iD.lineStyle,innerPadding:i.iD.innerPadding},(C||D)&&{reverseStackOrder:i.iD.reverseStackOrder}),{logAxisScale:i.iD.logAxisScale,switchAxisPosition:i.iD.switchAxisPosition})},F.valueAxis={displayName:(0,S.V)(p?"Visual_XAxis":"Visual_YAxis"),properties:{show:i.iD.show,start:i.iD.axisStart,end:i.iD.axisEnd,invertAxis:i.iD.invertAxis,sharedAxis:i.iD.sharedAxis,scaleToFit:i.iD.scaleToFit,showAxisTitle:p?i.iD.showAxisTitle_X:i.iD.showAxisTitle_Y,axisStyle:i.iD.axisStyle,labelColor:i.iD.labelColor,fontFamily:i.iD.fontFamily,fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,labelDisplayUnits:i.iD.labelDisplayUnits,labelPrecision:i.iD.labelPrecision,titleColor:i.iD.titleColor,titleFontFamily:i.iD.fontFamily,titleFontSize:i.iD.titleFontSize,titleBold:i.iD.bold,titleItalic:i.iD.italic,titleUnderline:i.iD.underline,titleText:i.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},i.iD.show),{displayName:(0,S.V)("Visual_Gridline_Show")}),gridlineColor:i.iD.lineColor,gridlineThickness:i.iD.strokeWidth,gridlineStyle:i.iD.lineStyle,logAxisScale:i.iD.logAxisScale,switchAxisPosition:i.iD.switchAxisPosition}},F.zoom={displayName:i.TQ.zoom.displayName,properties:{show:i.TQ.zoom.properties.show,showOnCategoryAxis:{displayName:(0,S.V)(p?"Visual_YAxis":"Visual_XAxis"),type:{bool:!0}},categoryMin:i.TQ.zoom.properties.categoryMin,categoryMax:i.TQ.zoom.properties.categoryMax,categorySize:i.TQ.zoom.properties.categorySize,showOnValueAxis:{displayName:(0,S.V)(p?"Visual_XAxis":"Visual_YAxis"),type:{bool:!0}},valueMin:i.TQ.zoom.properties.valueMin,valueMax:i.TQ.zoom.properties.valueMax,valueSize:i.TQ.zoom.properties.valueSize,showLabels:i.TQ.zoom.properties.showLabels,showTooltip:i.TQ.zoom.properties.showTooltip}},F.dataPoint={displayName:(0,S.V)("Visual_DataPoint"),description:(0,S.V)("Visual_DataPointDescription"),properties:(0,e.__assign)((0,e.__assign)((0,e.__assign)({defaultColor:(0,e.__assign)((0,e.__assign)({},i.iD.defaultColor),y&&{displayName:(0,S.V)("Visual_DefaultColumnColor")}),fill:i.iD.fillColor,fillRule:{displayName:(0,S.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:a.gradient,output:{property:"fill",selector:[a.category]}}},fillTransparency:i.iD.fillTransparency},i.sz),(C||D)&&{borderOutlineOnly:i.iD.borderOutlineOnly}),{showAllDataPoints:i.iD.showAllDataPoints})},F.layout={displayName:(0,S.V)("Small_Multiples_LayoutGroup"),properties:(0,e.__assign)((0,e.__assign)((0,e.__assign)({seriesOrderReversed:i.iD.seriesOrderReversed,seriesOrderSorted:i.iD.seriesOrderSorted},(C||D)&&(0,e.__assign)({stackedGapSize:i.iD.stackedGapSize},(!y||D)&&{stackedGapExplodes:i.iD.stackedGapExplodes})),(!C||D)&&{clusteredGapSize:i.iD.clusteredGapSize,clusteredGapOverlaps:i.iD.clusteredGapOverlaps,clusteredGapOverlapReverse:i.iD.clusteredGapOverlapReverse}),(b||D)&&{ribbonGapSize:i.iD.ribbonGapSize})},F.labels={displayName:(0,S.V)("Visual_DataPointsLabels"),description:(0,S.V)("Visual_DataPointsLabelsDescription"),properties:{show:i.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,S.V)("Visual_Show"),type:{bool:!0}},color:i.iD.dataColor,labelDisplayUnits:P?i.iD.dataLabelDisplayUnitsWithCustom:i.iD.dataLabelDisplayUnits,valueCustomFormatString:i.iD.dataLabelCustomFormatString,labelPrecision:(0,e.__assign)((0,e.__assign)({},i.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,S.V)("Visual_LabelOrientation"),type:{enumeration:c.d}},labelPosition:{displayName:(0,S.V)("Visual_Position"),type:{enumeration:r.dt}},enableBackground:i.iD.labelEnableBackground,backgroundColor:i.iD.labelBackgroundColor,backgroundTransparency:i.iD.labelBackgroundTransparency,labelOverflow:{displayName:(0,S.V)("Visual_LabelOverflow"),description:(0,S.V)("Visual_LabelOverflow_Description"),type:{bool:!0}},showAll:{displayName:(0,S.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:i.iD.fontSize,bold:i.iD.bold,italic:i.iD.italic,underline:i.iD.underline,fontFamily:i.iD.fontFamily,labelDensity:{displayName:(0,S.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:i.iD.showDynamicLabels,dynamicLabelValue:i.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:i.iD.showBlankAs,transparency:i.iD.transparency,wordWrap:i.iD.wordWrap,titleBold:i.iD.bold,titleColor:i.iD.dataColor,titleContentType:{displayName:(0,S.V)("Content"),type:{enumeration:s.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:i.iD.fontFamily,titleFontSize:i.iD.fontSize,dynamicLabelTitle:i.iD.dynamicLabelValue,titleItalic:i.iD.italic,titleTransparency:i.iD.transparency,titleLabelDisplayUnits:i.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:i.iD.dataLabelCustomFormatString,titleLabelPrecision:i.iD.labelPrecision,titleUnderline:i.iD.underline,titleShowBlankAs:i.iD.showBlankAs,detailBold:i.iD.bold,detailColor:i.iD.dataColor,dynamicLabelDetail:i.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:i.iD.fontFamily,detailFontSize:i.iD.fontSize,detailItalic:i.iD.italic,detailTransparency:i.iD.transparency,detailUnderline:i.iD.underline,detailShowBlankAs:i.iD.showBlankAs,detailLabelDisplayUnits:i.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:i.iD.dataLabelCustomFormatString,detailLabelPrecision:i.iD.labelPrecision,detailContentType:{displayName:(0,S.V)("Content"),type:{enumeration:v}},labelContentLayout:i.iD.labelContentLayout,optimizeLabelDisplay:i.iD.optimizeLabelDisplay,labelContainerMaxWidth:i.iD.labelContainerMaxWidth}},F),(C&&!b||D)&&{totals:i.TQ.totalsWithNet}),{plotArea:{displayName:(0,S.V)("Visual_Plot"),properties:{transparency:i.iD.transparency,image:i.iD.image}},y1AxisReferenceLine:{displayName:(0,S.V)("Visual_Reference_Line"),description:(0,S.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:i.iD.show,displayName:i.iD.referenceLineDisplayName,value:i.iD.referenceLineValue,lineColor:i.iD.referenceLineColor,transparency:i.iD.referenceLineTransparency,style:i.iD.lineStyle,position:i.iD.referenceLinePosition,dataLabelShow:i.iD.dataLabelShow,dataLabelText:i.iD.dataLabelText,dataLabelColor:i.iD.dataLabelColor,dataLabelDecimalPoints:i.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:i.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:i.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:i.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,S.V)("Visual_Reference_Line_X"),description:(0,S.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:i.iD.show,displayName:i.iD.referenceLineDisplayName,value:i.iD.referenceLineValueWithDateTime,lineColor:i.iD.lineColor,transparency:i.iD.referenceLineTransparency,style:i.iD.lineStyle,position:i.iD.referenceLinePosition,shadeRegion:i.iD.shadeRegion,shadeColor:i.iD.shadeColor,shadeTransparency:i.iD.shadeTransparency,dataLabelShow:i.iD.dataLabelShow,dataLabelColor:i.iD.dataLabelColor,dataLabelText:i.iD.dataLabelText,dataLabelDecimalPoints:i.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:i.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:i.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:i.iD.dataLabelDisplayUnits}},trend:{displayName:(0,S.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:{type:{bool:!0}},displayName:i.iD.trendlineDisplayName,lineColor:i.iD.trendlineColor,transparency:i.iD.trendlineTransparency,style:i.iD.trendlineStyle,combineSeries:i.iD.trendlineCombineSeries,useHighlightValues:i.iD.trendlineUseHighlightValues}},error:{displayName:i.TQ.error.displayName,objectCategory:i.TQ.error.objectCategory,suppressFormatPainterCopy:i.TQ.error.suppressFormatPainterCopy,properties:{enabled:i.TQ.error.properties.enabled,errorRange:i.TQ.error.properties.errorRange,barShow:i.TQ.error.properties.barShow,barMatchSeriesColor:i.TQ.error.properties.barMatchSeriesColor,barColor:i.TQ.error.properties.barColor,barWidth:i.TQ.error.properties.barWidth,barBorderColor:i.TQ.error.properties.barBorderColor,barBorderSize:i.TQ.error.properties.barBorderSize,markerShape:i.TQ.error.properties.markerShape,markerSize:i.TQ.error.properties.markerSize,labelShow:i.TQ.error.properties.labelShow,labelFontFamily:i.TQ.error.properties.labelFontFamily,labelFontSize:i.TQ.error.properties.labelFontSize,labelBold:i.TQ.error.properties.labelBold,labelItalic:i.TQ.error.properties.labelItalic,labelUnderline:i.TQ.error.properties.labelUnderline,labelColor:i.TQ.error.properties.labelColor,labelMatchSeriesColor:i.TQ.error.properties.labelMatchSeriesColor,labelFormat:i.TQ.error.properties.labelFormat,labelBackground:i.TQ.error.properties.labelBackground,labelBackgroundColor:i.TQ.error.properties.labelBackgroundColor,labelBackgroundTransparency:i.TQ.error.properties.labelBackgroundTransparency,tooltipShow:i.TQ.error.properties.tooltipShow,tooltipFormat:i.TQ.error.properties.tooltipFormat}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}}),(!C||D)&&{referenceLine:{displayName:(0,S.V)("Visual_Reference_Line"),description:(0,S.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:i.iD.show,displayName:i.iD.referenceLineDisplayName,value:i.iD.referenceLineValue,lineColor:i.iD.referenceLineColor,transparency:i.iD.referenceLineTransparency,style:i.iD.lineStyle,position:i.iD.referenceLinePosition,dataLabelShow:i.iD.dataLabelShow,dataLabelText:i.iD.dataLabelText,dataLabelColor:i.iD.dataLabelColor,dataLabelDecimalPoints:i.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:i.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:i.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:i.iD.dataLabelDisplayUnits}}}),(b||D)&&{ribbonChart:{displayName:(0,S.V)("RibbonChart"),description:(0,S.V)("RibbonChart_Description"),properties:{colorBands:{displayName:(0,S.V)("RibbonChart_Color"),description:(0,S.V)("RibbonChart_ColorDescription"),type:{bool:!0}},showBorder:{displayName:(0,S.V)("Visual_Border"),description:(0,S.V)("RibbonChart_BorderDescription"),type:{bool:!0}},seriesGapRatio:{displayName:(0,S.V)("RibbonChart_SeriesGapWidth"),description:(0,S.V)("RibbonChart_SeriesGapWidthDescription"),type:{integer:!0}},bandsTransparency:{displayName:(0,S.V)("Transparency"),description:(0,S.V)("RibbonChart_ColorTransparencyDescription"),type:{integer:!0}}}},ribbonBands:{displayName:(0,S.V)("RibbonChart"),description:(0,S.V)("RibbonChart_Description"),properties:(0,e.__assign)({fillMatchColor:{displayName:(0,S.V)("RibbonChart_Color"),description:(0,S.V)("RibbonChart_ColorDescription"),type:{bool:!0}},fillColor:i.iD.fillColor,fillTransparency:i.iD.fillTransparency},i.sz)}})}function f(p,C,b,y){var D,P,F,E;void 0===p&&(p=!1),void 0===C&&(C=!1),void 0===b&&(b=!1);var N,A,I,B,U,R=null==y?void 0:y.labelEnhancementsM0;return{dataRoles:(N=p,A=b,I=null==y?void 0:y.cartesianConditionalFormatting,B=null==y?void 0:y.useModernFormatPane,U=[{name:a.category,kind:o.DW.Grouping,displayName:(0,S.V)(B?N?"Visual_YAxis_Hyphen":"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,S.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:a.series,kind:o.DW.Grouping,displayName:(0,S.V)("Role_DisplayName_Legend"),displayOrder:B?3:2,description:(0,S.V)("Role_DisplayName_LegendDescription")},{name:a.y,kind:o.DW.Measure,displayName:(0,S.V)(B?N?"Visual_XAxis_Hyphen":"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:B?2:3,description:(0,S.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],!I&&!A&&U.push({name:a.gradient,kind:o.DW.Measure,displayName:(0,S.V)("Role_DisplayName_Gradient"),displayOrder:4,description:(0,S.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),U.push({name:a.rows,kind:o.DW.Grouping,displayName:(0,S.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,S.V)("Role_DisplayName_SmallMultiples_Description")}),U.push({name:a.tooltips,kind:o.DW.Measure,displayName:(0,S.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,S.V)("Role_Tooltips_Description"),joinPredicate:0}),U),objects:m(p,C,b,void 0,void 0,R),dataViewMappings:[function(){var N,A,I;return{conditions:[(N={},N[a.rows]={min:1},N[a.series]={max:0},N),(A={},A[a.rows]={min:1},A[a.series]={min:1,max:1},A[a.y]={max:1},A),(I={},I[a.rows]={min:1},I[a.series]={min:1,max:1},I[a.y]={max:0},I)],matrix:{rows:{select:[{composite:[{for:{in:a.rows}}],dataReductionAlgorithm:{window:{count:h.QS}}},{composite:[{for:{in:a.category}}],synchronized:!0,dataReductionAlgorithm:{top:{}}}]},columns:{for:{in:a.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:a.y}},{for:{in:a.tooltips}}]},dataVolume:6}}}(),function(){var N,A,I;return{conditions:[(N={},N[a.rows]={max:0},N[a.series]={max:0},N[a.gradient]={max:0},N),(A={},A[a.rows]={max:0},A[a.series]={min:1,max:1},A[a.y]={max:1},A[a.gradient]={max:0},A),(I={},I[a.rows]={max:0},I[a.series]={max:0},I[a.y]={min:0,max:1},I[a.gradient]={max:1},I)],categorical:{categories:{for:{in:a.category},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:a.series,select:[{for:{in:a.y}},{bind:{to:a.gradient}},{for:{in:a.tooltips}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}}}(),function(){var N,A,I;return{conditions:[(N={},N[u.x.rows]={max:0},N[a.series]={max:0},N[a.gradient]={max:0},N),(A={},A[u.x.rows]={max:0},A[a.series]={min:1,max:1},A[a.y]={max:1},A[a.gradient]={max:0},A),(I={},I[u.x.rows]={max:0},I[a.series]={max:0},I[a.y]={min:0,max:1},I[a.gradient]={max:1},I)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}()],supportsHighlight:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[a.tooltips],supportEnhancedTooltips:!0},sorting:{default:{}},drilldown:{roles:[a.category]},grouping:{groupingRules:[{condition:(D={},D[a.category]={min:1,max:1},D[a.y]={min:1,max:1},D[a.series]={max:0},D[a.gradient]={max:0},D),groupingTargetRole:a.series,kind:0},{condition:(P={},P[a.category]={min:1,max:1},P[a.y]={min:1},P[a.series]={max:0},P[a.gradient]={max:0},P),groupingTargetRole:a.category,kind:1},{condition:(F={},F[a.category]={min:1,max:1},F[a.y]={min:0,max:1},F[a.series]={max:0},F[a.gradient]={max:1},F),groupingTargetRole:a.category,kind:1},{condition:(E={},E[a.category]={max:0},E[a.y]={min:1,max:1},E[a.series]={max:1},E[a.gradient]={max:0},E),groupingTargetRole:a.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,expandAndSort:p?[]:[a.category],supportsOnObjectFormatting:!0}}var V={dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},general:{formatString:{objectName:"general",propertyName:"formatString"}},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"},preferredCategoryWidth:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"},innerPadding:{objectName:"categoryAxis",propertyName:"preferredCategoryWidth"}},labels:{show:{objectName:"labels",propertyName:"show"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showSeries:{objectName:"labels",propertyName:"showSeries"},color:{objectName:"labels",propertyName:"color"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},labelOrientation:{objectName:"labels",propertyName:"labelOrientation"},labelPosition:{objectName:"labels",propertyName:"labelPosition"},enableBackground:{objectName:"labels",propertyName:"enableBackground"},backgroundColor:{objectName:"labels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"labels",propertyName:"backgroundTransparency"},labelOverflow:{objectName:"labels",propertyName:"labelOverflow"},showAll:{objectName:"labels",propertyName:"showAll"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},labelDensity:{objectName:"labels",propertyName:"labelDensity"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},transparency:{objectName:"labels",propertyName:"transparency"},wordWrap:{objectName:"labels",propertyName:"wordWrap"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},detailContentType:{objectName:"labels",propertyName:"detailContentType"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},totals:{show:{objectName:"totals",propertyName:"show"},color:{objectName:"totals",propertyName:"color"},labelDisplayUnits:{objectName:"totals",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"totals",propertyName:"labelPrecision"},enableBackground:{objectName:"totals",propertyName:"enableBackground"},backgroundColor:{objectName:"totals",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"totals",propertyName:"backgroundTransparency"},fontSize:{objectName:"totals",propertyName:"fontSize"},fontFamily:{objectName:"totals",propertyName:"fontFamily"},bold:{objectName:"totals",propertyName:"bold"},italic:{objectName:"totals",propertyName:"italic"},underline:{objectName:"totals",propertyName:"underline"},showPositiveAndNegative:{objectName:"totals",propertyName:"showPositiveAndNegative"}}}},772034:function(Xe,H,t){t.d(H,{OA:function(){return a},p5:function(){return n},rJ:function(){return i}});var e=t(973188),l=t(406057),o=t(273269),d=t(572909),v=t(262351),S=t(355853),h=t(52825),c=t(795594),r=t(861344),s=t(495570),u=t(874186),i={category:"Category",series:"Series",y:"Y",y2:"Y2",tooltips:"Tooltips",rows:"Rows"},a=(0,l.wZ)(n(!0).objects);function n(f,V){var p,C,b,y,D,P,F,E,w,x=(0,r.Ns)(!1,f,!1,!0);return{dataRoles:[{name:i.category,kind:o.DW.Grouping,displayName:(0,d.V)(null!=V&&V.useModernFormatPane?"Visual_XAxis_Hyphen":"Role_ComboChart_Category"),displayOrder:1,description:(0,d.V)("Role_ComboChart_CategoryDescription"),cartesianKind:0},{name:i.series,kind:o.DW.Grouping,displayName:(0,d.V)(null!=V&&V.useModernFormatPane?"Role_ComboChart_Legend":"Role_ComboChart_Series"),displayOrder:null!=V&&V.useModernFormatPane?4:2},{name:i.y,kind:o.DW.Measure,displayName:(0,d.V)(null!=V&&V.useModernFormatPane?"Role_ComboChart_Y_Axis":"Role_ComboChart_Y"),displayOrder:null!=V&&V.useModernFormatPane?2:3,description:(0,d.V)("Role_ComboChart_YDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:i.y2,kind:o.DW.Measure,displayName:(0,d.V)(null!=V&&V.useModernFormatPane?"Role_ComboChart_Y2_Axis":"Role_ComboChart_Y2"),displayOrder:null!=V&&V.useModernFormatPane?3:4,description:(0,d.V)("Role_ComboChart_Y2Description"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:i.rows,kind:o.DW.Grouping,displayName:(0,d.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,d.V)("Role_DisplayName_SmallMultiples_Description")},{name:i.tooltips,kind:o.DW.Measure,displayName:(0,d.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,d.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:(0,e.__assign)((0,e.__assign)((p={general:{displayName:(0,d.V)("Visual_General"),properties:{formatString:s.iD.formatString,visualType1:{type:{text:!0}},visualType2:{type:{text:!0}},responsive:s.iD.responsive,responsiveLegacy:s.iD.responsiveLegacy}},legend:{displayName:s.TQ.legend.displayName,description:s.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},s.TQ.legend.properties),{legendMarkerRendering:s.iD.legendMarkerRendering,defaultToCircle:s.iD.defaultToCircle,matchLineColor:s.iD.matchLineColor})},subheader:(0,e.__assign)({},s.TQ.subheader)},p[v.Xi]=(0,e.__assign)({},s.TQ.smallMultiplesLayout),p.categoryAxis={displayName:(0,d.V)("Visual_XAxis"),properties:{show:s.iD.show,start:s.iD.axisStart,end:s.iD.axisEnd,axisType:s.iD.axisType,showAxisTitle:s.iD.showAxisTitle_X,axisStyle:s.iD.axisStyle,labelColor:s.iD.labelColor,fontFamily:s.iD.fontFamily,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,invertAxis:s.iD.invertAxis,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,concatenateLabels:s.iD.concatenateLabels,preferredCategoryWidth:s.iD.preferredCategoryWidth,maxMarginFactor:s.iD.maxMarginFactor,titleColor:s.iD.titleColor,titleFontFamily:s.iD.fontFamily,titleFontSize:s.iD.titleFontSize,titleBold:s.iD.bold,titleItalic:s.iD.italic,titleUnderline:s.iD.underline,titleText:s.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},s.iD.show),{displayName:(0,d.V)("Visual_Gridline_Show")}),gridlineColor:s.iD.lineColor,gridlineThickness:s.iD.strokeWidth,gridlineStyle:s.iD.lineStyle,innerPadding:s.iD.innerPadding,logAxisScale:s.iD.logAxisScale,reverseStackOrder:s.iD.reverseStackOrder}},p.valueAxis={displayName:(0,d.V)("Visual_YAxis"),properties:(0,e.__assign)({show:s.iD.show,axisLabel:{displayName:(0,d.V)("Visual_YAxis_ColumnTitle"),type:{none:!0}},start:s.iD.axisStart,end:s.iD.axisEnd,invertAxis:s.iD.invertAxis,sharedAxis:s.iD.sharedAxis,scaleToFit:s.iD.scaleToFit,showAxisTitle:s.iD.showAxisTitle_Y,axisStyle:s.iD.axisStyle,labelColor:s.iD.labelColor,fontFamily:s.iD.fontFamily,fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,labelDisplayUnits:s.iD.labelDisplayUnits,labelPrecision:s.iD.labelPrecision,titleColor:s.iD.titleColor,titleFontFamily:s.iD.fontFamily,titleFontSize:s.iD.titleFontSize,titleBold:s.iD.bold,titleItalic:s.iD.italic,titleUnderline:s.iD.underline,titleText:s.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},s.iD.show),{displayName:(0,d.V)("Visual_Gridline_Show")}),gridlineColor:s.iD.lineColor,gridlineThickness:s.iD.strokeWidth,gridlineStyle:s.iD.lineStyle,logAxisScale:s.iD.logAxisScale,switchAxisPosition:s.iD.switchAxisPosition},s.sJ)},p.zoom={displayName:s.TQ.zoom.displayName,properties:(0,e.__assign)((0,e.__assign)({},s.TQ.zoom.properties),s.DW.zoom.properties)},p.dataPoint=x.dataPoint,p.layout=x.layout,p.labels={displayName:(0,d.V)("Visual_DataPointsLabels"),description:(0,d.V)("Visual_DataPointsLabelsDescription"),properties:{show:s.iD.show,showSeries:{displayName:(0,d.V)("Visual_Show"),type:{bool:!0}},color:s.iD.dataColor,labelDisplayUnits:s.iD.dataLabelDisplayUnits,valueCustomFormatString:s.iD.dataLabelCustomFormatString,labelPrecision:(0,e.__assign)((0,e.__assign)({},s.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelOrientation:{displayName:(0,d.V)("Visual_LabelOrientation"),type:{enumeration:S.d}},labelPosition:{displayName:(0,d.V)("Visual_Position"),type:{enumeration:h.dt}},fontSize:s.iD.fontSize,bold:s.iD.bold,italic:s.iD.italic,underline:s.iD.underline,fontFamily:s.iD.fontFamily,labelDensity:{displayName:(0,d.V)("Visual_LabelDensity"),type:{integer:!0}},enableBackground:s.iD.labelEnableBackground,backgroundColor:s.iD.labelBackgroundColor,backgroundTransparency:s.iD.labelBackgroundTransparency,showAll:{displayName:(0,d.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},showByDefault:{type:{bool:!0}},showDynamicLabels:s.iD.showDynamicLabels,dynamicLabelValue:s.iD.dynamicLabelValue,enableValueDataLabel:{type:{bool:!0}},showBlankAs:s.iD.showBlankAs,transparency:s.iD.transparency,titleBold:s.iD.bold,titleColor:s.iD.dataColor,titleContentType:{displayName:(0,d.V)("Content"),type:{enumeration:u.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:s.iD.fontFamily,titleFontSize:s.iD.fontSize,dynamicLabelTitle:s.iD.dynamicLabelValue,titleItalic:s.iD.italic,titleTransparency:s.iD.transparency,titleLabelDisplayUnits:s.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:s.iD.dataLabelCustomFormatString,titleLabelPrecision:s.iD.labelPrecision,titleUnderline:s.iD.underline,titleShowBlankAs:s.iD.showBlankAs,detailBold:s.iD.bold,detailColor:s.iD.dataColor,dynamicLabelDetail:s.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:s.iD.fontFamily,detailFontSize:s.iD.fontSize,detailItalic:s.iD.italic,detailTransparency:s.iD.transparency,detailUnderline:s.iD.underline,detailShowBlankAs:s.iD.showBlankAs,detailLabelDisplayUnits:s.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:s.iD.dataLabelCustomFormatString,detailLabelPrecision:s.iD.labelPrecision}},p.seriesLabels=s.TQ.seriesLabels,p.error=s.TQ.error,p.lineStyles={displayName:(0,d.V)("Visual_Shapes"),description:(0,d.V)("Visual_ShapesDescription"),properties:{shadeArea:{displayName:(0,d.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},strokeWidth:s.iD.strokeWidth,strokeLineJoin:s.iD.strokeLineJoin,lineStyle:s.iD.lineStyle,showMarker:s.iD.showMarker,markerShape:s.iD.markerShape,markerSize:s.iD.markerSize,markerColor:s.iD.markerColor,stepped:s.iD.stepped,showSeries:{displayName:(0,d.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},showMarkerByDefault:{type:{bool:!0}},lineChartType:{displayName:(0,d.V)("Visual_Line_Type"),description:(0,d.V)("Visual_Line_Type_Description"),type:{enumeration:c.dt}}}},p.plotArea={displayName:(0,d.V)("Visual_Plot"),properties:{transparency:s.iD.transparency,image:s.iD.image}},p.filters={properties:{filteredToUniqueValue:{type:{bool:!0}}}},p.xAxisReferenceLine={displayName:(0,d.V)("Visual_Reference_Line_X"),description:(0,d.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:s.iD.show,displayName:s.iD.referenceLineDisplayName,value:{displayName:(0,d.V)("Visual_Reference_Line_Value"),description:(0,d.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},lineColor:s.iD.lineColor,transparency:s.iD.referenceLineTransparency,style:s.iD.lineStyle,position:s.iD.referenceLinePosition,shadeRegion:s.iD.shadeRegion,shadeColor:s.iD.shadeColor,shadeTransparency:s.iD.shadeTransparency,dataLabelShow:s.iD.dataLabelShow,dataLabelColor:s.iD.dataLabelColor,dataLabelText:s.iD.dataLabelText,dataLabelDecimalPoints:s.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:s.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:s.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:s.iD.dataLabelDisplayUnits}},p),f&&{totals:s.TQ.totalsWithNet}),!f&&{trend:{displayName:(0,d.V)("Visual_Trend_Line"),objectCategory:2,properties:{show:{type:{bool:!0}},displayName:{type:{text:!0}},lineColor:s.iD.trendlineColor,transparency:s.iD.trendlineTransparency,style:s.iD.trendlineStyle,combineSeries:s.iD.trendlineCombineSeries,useHighlightValues:s.iD.trendlineUseHighlightValues}}}),dataViewMappings:[{conditions:[(C={Series:{max:0}},C[i.rows]={max:0},C),(b={Series:{min:1,max:1},Y:{max:1}},b[i.rows]={max:0},b)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{group:{by:"Series",select:[{for:{in:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{count:60}}}},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(y={Series:{max:0},Y2:{min:1}},y[i.rows]={max:0},y),(D={Series:{min:1,max:1},Y:{max:1},Y2:{min:1}},D[i.rows]={max:0},D)],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{window:{count:200}}},values:{select:[{for:{in:"Y2"}}]},rowCount:{preferred:{min:2},supported:{min:0}}}},{conditions:[(P={Series:{max:0}},P[i.rows]={max:0},P),(F={Series:{min:1,max:1},Y:{max:1}},F[i.rows]={max:0},F)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}},{conditions:[(E={},E[i.series]={max:0},E[i.rows]={min:1},E)],matrix:m(!1)},{conditions:[(w={},w[i.series]={min:1,max:1},w[i.y]={max:1},w[i.rows]={min:1},w)],matrix:m(!0)}],supportsHighlight:!0,sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:0}},groupingTargetRole:"Series",kind:0},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{min:1,max:1},Gradient:{max:0}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,expandAndSort:[r.au.category],supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function m(f){var V={rows:{select:[{composite:[{for:{in:i.rows}}],dataReductionAlgorithm:{window:{count:v.QS}}},{composite:[{for:{in:i.category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:i.series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:i.y}},{for:{in:i.tooltips}}]},dataVolume:6};return f?V.rows.values={select:[{for:{in:i.y2}}]}:V.values.select.push({for:{in:i.y2}}),V}},384195:function(Xe,H,t){t.d(H,{KK:function(){return o},Qw:function(){return v},Te:function(){return S},YE:function(){return h},iu:function(){return d}});var e=t(273269),l=t(495570),o={values:"Values"},d={objectName:"general",propertyName:"formatString"},v={objectName:"overrideDataReduction",propertyName:"count"},S={objectName:"columnOptions",propertyName:"suppressJoinPredicate"},h={dataRoles:[{name:"Values",kind:e.DW.GroupingOrMeasure}],objects:{general:{properties:{formatString:l.iD.formatString}},overrideDataReduction:{properties:{count:{type:{numeric:!0}}}},columnOptions:{properties:{suppressJoinPredicate:{type:{bool:!0}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{count:2}}}}}]}},495570:function(Xe,H,t){t.d(H,{sz:function(){return B},sJ:function(){return N},DW:function(){return K},TQ:function(){return U},N_:function(){return W},iD:function(){return O},e0:function(){return j}});var e=t(973188),l=t(406057),o=t(572909),d=t(773659),v=t(175680),S=t(588376),r=(0,S.i)([{value:"Number of bins",displayName:function(ie){return ie.get("BinsDialog_ModeByCount")}},{value:"Bin size",displayName:function(ie){return ie.get("BinsDialog_ModeBySize")}}]),s=t(806009),u=t(692773),i=t(199220),a=t(24513),n=t(761235),m=t(35589),f=t(409200),V=t(871879),p=t(613218),C=t(833126),b=t(771711),y=t(25788),D=t(535903),P=t(503545),F=t(626714),E=t(638988),w=t(17469),x=t(895404),R=t(434906),g=t(222029),L=t(919876),M=t(725840),T=(0,S.i)([{value:"MultiLine",displayName:function(ie){return ie.get("Visual_LabelContentLayout_MultiLine")}},{value:"SingleLine",displayName:function(ie){return ie.get("Visual_LabelContentLayout_SingleLine")}}]),O={axisEnd:{displayName:(0,o.V)("Visual_Axis_End"),description:(0,o.V)("Visual_Axis_EndDescription"),placeHolderText:(0,o.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStart:{displayName:(0,o.V)("Visual_Axis_Start"),description:(0,o.V)("Visual_Axis_StartDescription"),placeHolderText:(0,o.V)("Visual_Auto"),type:{variant:[{numeric:!0},{dateTime:!0}]},suppressFormatPainterCopy:!0},axisStyle:{displayName:(0,o.V)("Visual_Axis_Style"),type:{enumeration:d.dt}},axisType:{displayName:(0,o.V)("Type"),type:{enumeration:v.dt}},backColor:{displayName:(0,o.V)("Background_Color"),description:(0,o.V)("Visual_Tablix_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},binType:{displayName:(0,o.V)("BinsDialog_BinType"),type:{enumeration:r}},bold:{displayName:(0,o.V)("Bold"),type:{bool:!0}},borderColor:{displayName:(0,o.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},borderColor2:{displayName:(0,o.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},borderPreset:{displayName:(0,o.V)("Style"),type:{enumeration:M.dt}},borderShow:{displayName:(0,o.V)("Visual_Border"),type:{bool:!0}},borderSize:{displayName:(0,o.V)("Visual_General_Properties_Width"),type:{numeric:!0}},borderTransparency:{displayName:(0,o.V)("Transparency"),type:{numeric:!0}},borderIntensity:{displayName:(0,o.V)("Visual_Color_Intensity"),type:{numeric:!0}},borderOutlineOnly:{displayName:(0,o.V)("Visual_Border_OutlineOnly"),type:{bool:!0}},numOfBins:{displayName:(0,o.V)("BinsDialog_ModeByCount"),type:{numeric:!0}},binSize:{displayName:(0,o.V)("BinsDialog_ModeBySize"),type:{numeric:!0}},dataColor:{displayName:(0,o.V)("Visual_LabelsFill"),description:(0,o.V)("Visual_LabelsFillDescription"),type:{fill:{solid:{color:!0}}}},categoryColor:{displayName:(0,o.V)("Visual_LabelsFill"),description:(0,o.V)("Visual_LabelStyle_CategoryDescription"),type:{fill:{solid:{color:!0}}}},color:{displayName:(0,o.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},dataLabelCustomFormatString:{displayName:(0,o.V)("Visual_FormatCode"),description:(0,o.V)("Visual_FormatCode_Description"),type:{text:!0}},dataLabelColor:{displayName:(0,o.V)("Visual_Reference_Line_Data_Label_Color"),description:(0,o.V)("Visual_Reference_Line_Data_Label_Color_Description"),type:{fill:{solid:{color:!0}}}},dataLabelDecimalPoints:{displayName:(0,o.V)("Visual_Precision"),placeHolderText:(0,o.V)("Visual_Auto"),type:{numeric:!0}},dataLabelDisplayUnits:{displayName:(0,o.V)("Visual_DisplayUnits"),description:(0,o.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}},suppressFormatPainterCopy:!0},dataLabelDisplayUnitsWithCustom:{displayName:(0,o.V)("Visual_DisplayUnits"),description:(0,o.V)("Visual_DisplayUnitsDescription"),type:{enumeration:L.d},suppressFormatPainterCopy:!0},dataLabelHorizontalPosition:{displayName:(0,o.V)("Visual_Reference_Line_Data_Horizontal_Position"),description:(0,o.V)("Visual_Reference_Line_Data_Label_Horizontal_Position_Description"),type:{enumeration:P.dt}},dataLabelText:{displayName:(0,o.V)("Text"),description:(0,o.V)("Visual_Reference_Line_Data_Label_Text_Description"),type:{enumeration:m.dt}},dataLabelShow:{displayName:(0,o.V)("Visual_Reference_Line_Data_Label"),description:(0,o.V)("Visual_Reference_Line_Data_Label_Show_Description"),type:{bool:!0}},dataLabelVerticalPosition:{displayName:(0,o.V)("Visual_Reference_Line_Data_Vertical_Position"),description:(0,o.V)("Visual_Reference_Line_Data_Label_Vertical_Position_Description"),type:{enumeration:F.dt}},defaultColor:{displayName:(0,o.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultCategoryColor:{displayName:(0,o.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},defaultDataPointColor:{displayName:(0,o.V)("DataPointColorTitle"),type:{fill:{solid:{color:!0}}}},defaultToCircle:{displayName:(0,o.V)("Visual_LegendDefaultToCircle"),description:(0,o.V)("Visual_LegendDefaultToCircleDescription"),type:{bool:!0}},dynamicLabelValue:{displayName:(0,o.V)("Field"),type:{variantDeleteEmpty:!0,variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},errorFormat:{displayName:(0,o.V)("Visual_Error_Format"),type:{enumeration:u.dt}},fill:{displayName:(0,o.V)("Visual_FillColor"),type:{fill:{solid:{color:!0}}}},fillColor:{displayName:(0,o.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},fillTransparency:{displayName:(0,o.V)("Transparency"),type:{numeric:!0}},fontColor:{displayName:(0,o.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}},fontSize:{displayName:(0,o.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},fontFamily:{displayName:(0,o.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},formatString:{type:{formatting:{formatString:!0}}},iconSize:{displayName:(0,o.V)("Visual_IconSize"),type:{formatting:{fontSize:!0}}},italic:{displayName:(0,o.V)("Italic"),type:{bool:!0}},image:{type:{image:{}}},invertAxis:{displayName:(0,o.V)("Visual_InvertAxis"),type:{bool:!0}},labelBackgroundColor:{displayName:(0,o.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},labelBackgroundTransparency:{displayName:(0,o.V)("Visual_Reference_Line_Transparency"),type:{integer:!0}},innerPadding:{displayName:(0,o.V)("Visual_Axis_InnerPadding"),description:(0,o.V)("Visual_Axis_InnerPaddingDescription"),type:{integer:!0}},concatenateLabels:{displayName:(0,o.V)("Visual_Axis_ConcatenateLabels"),description:(0,o.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},labelColor:{displayName:(0,o.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},labelContentLayout:{displayName:(0,o.V)("Small_Multiples_LayoutGroup"),type:{enumeration:T}},optimizeLabelDisplay:{displayName:(0,o.V)("Visual_Label_OptimizeLabelDisplay"),type:{bool:!0}},labelDisplayUnits:{displayName:(0,o.V)("Visual_DisplayUnits"),description:(0,o.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},labelEnableBackground:{displayName:(0,o.V)("Visual_LabelEnableBackground"),type:{bool:!0}},labelPrecision:{displayName:(0,o.V)("Visual_Precision"),description:(0,o.V)("Visual_PrecisionDescription"),placeHolderText:(0,o.V)("Visual_Auto"),type:{integer:!0}},labelContainerMaxWidth:{displayName:(0,o.V)("Visual_Max_Width"),type:{numeric:!0}},leaderLines:{displayName:(0,o.V)("Visual_LeaderLines"),type:{bool:!0}},logAxisScale:{displayName:(0,o.V)("Visual_LogarithmicScale"),type:{bool:!0}},matchLineColor:{displayName:(0,o.V)("Visual_LegendMatchLineColor"),description:(0,o.V)("Visual_LegendMatchLineColorDescription"),type:{bool:!0}},maximumOffset:{displayName:(0,o.V)("Visual_Label_Maximum_Offset"),placeHolderText:(0,o.V)("Visual_Auto"),type:{numeric:!0}},minimumOffset:{displayName:(0,o.V)("Visual_Label_Minimum_Offset"),placeHolderText:(0,o.V)("Visual_Auto"),type:{numeric:!0}},preferredCategoryWidth:{displayName:(0,o.V)("Visual_Category_Width"),type:{numeric:!0}},maxMarginFactor:{displayName:(0,o.V)("Visual_MaxMarginFactor"),description:(0,o.V)("Visual_MaxMarginFactorDescription"),type:{integer:!0}},percentageLabelPrecision:{displayName:(0,o.V)("Visual_Percentage_Precision"),description:(0,o.V)("Visual_Percentage_PrecisionDescription"),placeHolderText:(0,o.V)("Visual_Auto"),type:{integer:!0}},legendMarkerRendering:{displayName:(0,o.V)("Visual_Axis_Style"),description:(0,o.V)("Visual_LegendStyleDescription"),type:{enumeration:f.dt}},legendPosition:{displayName:(0,o.V)("Visual_LegendPosition"),description:(0,o.V)("Visual_LegendPositionDescription"),type:{enumeration:V.dt}},legendTitle:{displayName:(0,o.V)("Visual_LegendName"),description:(0,o.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},lineColor:{displayName:(0,o.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},lineStyle:{displayName:(0,o.V)("Visual_LineStyle"),type:{enumeration:p.dt}},textWrap:{displayName:(0,o.V)("TextWrap"),type:{bool:!0}},titleColor:{displayName:(0,o.V)("Visual_AxisTitleColor"),type:{fill:{solid:{color:!0}}}},titleFontSize:{displayName:(0,o.V)("Visual_AxisTitleTextSize"),type:{formatting:{fontSize:!0}}},titleText:{displayName:(0,o.V)("Visual_AxisTitleText"),placeHolderText:(0,o.V)("Visual_Auto"),type:{text:!0},suppressFormatPainterCopy:!0},outline:{displayName:(0,o.V)("Visual_Outline"),type:{enumeration:y.dt}},outlineStyle:{displayName:(0,o.V)("Visual_Outline"),type:{flagsEnumeration:y.Ob}},outlineColor:{displayName:(0,o.V)("Visual_OutlineColor"),description:(0,o.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,o.V)("Visual_OutlineWeight"),description:(0,o.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},referenceLineDisplayName:{displayName:(0,o.V)("Name"),description:(0,o.V)("Visual_Reference_Line_DisplayName_Description"),type:{text:!0}},referenceLinePosition:{displayName:(0,o.V)("Visual_Reference_Line_Arrange"),description:(0,o.V)("Visual_Reference_Line_Arrange_Description"),type:{enumeration:D.dt}},referenceLineTransparency:{displayName:(0,o.V)("Visual_Reference_Line_Transparency"),description:(0,o.V)("Visual_Reference_Line_Transparency_Description"),type:{numeric:!0}},referenceLineValue:{displayName:(0,o.V)("Visual_Reference_Line_Value"),description:(0,o.V)("Visual_Reference_Line_Value_Description"),type:{numeric:!0}},referenceLineValueWithDateTime:{displayName:(0,o.V)("Visual_Reference_Line_Value"),description:(0,o.V)("Visual_Reference_Line_Value_Numeric_DateTime_Description"),type:{variant:[{numeric:!0},{dateTime:!0}]}},reverseStackOrder:{displayName:(0,o.V)("Visual_ReverseStackOrder"),type:{bool:!0}},scaleToFit:{displayName:(0,o.V)("ScaleToFit"),type:{bool:!0}},sharedAxis:{displayName:(0,o.V)("Visual_Shared_YAxis"),type:{bool:!0}},show:{displayName:(0,o.V)("Visual_Show"),type:{bool:!0}},showAllDataPoints:{displayName:(0,o.V)("ShowAll"),type:{bool:!0}},showBlankAs:{displayName:(0,o.V)("Visual_ShowBlankAs"),type:{text:!0}},showDynamicLabels:{displayName:(0,o.V)("Visual_ShowCustomLabel"),type:{bool:!0}},showLegendTitle:{displayName:(0,o.V)("Visual_LegendShowTitle"),description:(0,o.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},seriesOrderReversed:{displayName:(0,o.V)("Visual_SeriesOrderReversed"),description:(0,o.V)("Visual_SeriesOrderReversed_Description"),type:{bool:!0}},seriesOrderSorted:{displayName:(0,o.V)("Visual_SeriesOrderSorted"),description:(0,o.V)("Visual_SeriesOrderSorted_Description"),type:{bool:!0}},stackedGapSize:{displayName:(0,o.V)("Visual_Space_Between_Series"),type:{numeric:!0}},stackedGapExplodes:{displayName:(0,o.V)("Visual_Spacing_Explode"),type:{bool:!0}},clusteredGapSize:{displayName:(0,o.V)("Visual_Space_Between_Series"),type:{numeric:!0}},clusteredGapOverlaps:{displayName:(0,o.V)("Visual_Overlap_ClusteredSeries"),type:{bool:!0}},clusteredGapOverlapReverse:{displayName:(0,o.V)("Visual_Overlap_ClusteredSeries_Flip"),type:{bool:!0}},strokeWidth:{displayName:(0,o.V)("Visual_StrokeWidth"),type:{integer:!0}},strokeLineJoin:{displayName:(0,o.V)("Visual_StrokeLineJoin"),type:{enumeration:x.dt}},switchAxisPosition:{displayName:(0,o.V)("Visual_SwitchAxisPosition"),type:{bool:!0}},lineDashType:{displayName:(0,o.V)("Visual_LineDashType"),type:{enumeration:p.dt}},showIcon:{displayName:(0,o.V)("Visual_ShowIcon"),type:{bool:!0}},showMarker:{displayName:(0,o.V)("Visual_ShowMarker"),type:{bool:!0}},markerShape:{displayName:(0,o.V)("Visual_MarkerShape"),type:{enumeration:b.dt}},fillPointStyle:{displayName:(0,o.V)("Style"),type:{enumeration:i.oB}},markerSize:{displayName:(0,o.V)("Visual_MarkerSize"),type:{numeric:!0}},markerRangeType:{displayName:(0,o.V)("Visual_MarkerRangeType"),type:{enumeration:C.zo}},markerColor:{displayName:(0,o.V)("Visual_MarkerColor"),type:{fill:{solid:{color:!0}}}},matchFillColor:{displayName:(0,o.V)("Visual_MatchFillColor"),description:(0,o.V)("Visual_MatchFillColor_Description"),type:{bool:!0}},matchSeriesColor:{displayName:(0,o.V)("RibbonChart_Color"),type:{bool:!0}},ribbonGapSize:{displayName:(0,o.V)("Visual_Space_Around_RibbonBands"),type:{numeric:!0}},transparency:{displayName:(0,o.V)("Transparency"),description:(0,o.V)("Visual_Background_TransparencyDescription"),type:{numeric:!0}},lineTransparency:{displayName:(0,o.V)("Transparency"),description:(0,o.V)("Visual_Background_TransparencyLineDescription"),type:{numeric:!0}},referenceLineColor:{displayName:(0,o.V)("Visual_Reference_Line_Color"),description:(0,o.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},responsive:{displayName:(0,o.V)("Visual_General_ResponsiveLabel"),description:(0,o.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},responsiveLegacy:{type:{bool:!0}},shadeRegion:{displayName:(0,o.V)("Visual_ShadeRegion"),type:{enumeration:E.dt}},shadeColor:{displayName:(0,o.V)("Visual_ShadeColor"),type:{fill:{solid:{color:!0}}}},shadeTransparency:{displayName:(0,o.V)("Visual_ShadeTransparency"),type:{numeric:!0}},showAxisTitle_Y:{displayName:(0,o.V)("Visual_Axis_Title"),description:(0,o.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},showAxisTitle_X:{displayName:(0,o.V)("Visual_Axis_Title"),description:(0,o.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},showGradientLegend:{displayName:(0,o.V)("Visual_Show"),type:{bool:!0}},stepped:{displayName:(0,o.V)("Visual_SteppedLine"),description:(0,o.V)("Visual_SteppedLineDescription"),type:{bool:!0}},tablixFontColor:{displayName:(0,o.V)("Visual_FontColor"),description:(0,o.V)("Visual_Tablix_FontColor_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},textAlignment:{displayName:(0,o.V)("Visual_TextAlignment"),type:{enumeration:R.dt}},trendlineColor:{displayName:(0,o.V)("Visual_Trend_Line_Color"),description:(0,o.V)("Visual_Trend_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},trendlineDisplayName:{displayName:(0,o.V)("Name"),description:(0,o.V)("Visual_Trend_Line_DisplayName_Description"),type:{text:!0}},trendlineTransparency:{displayName:(0,o.V)("Visual_Trend_Line_Transparency"),description:(0,o.V)("Visual_Trend_Line_Transparency_Description"),type:{numeric:!0}},trendlineStyle:{displayName:(0,o.V)("Style"),description:(0,o.V)("Visual_Trend_Line_Style_Description"),type:{enumeration:p.dt}},trendlineCombineSeries:{displayName:(0,o.V)("Visual_Trend_Line_Combine_Series"),description:(0,o.V)("Visual_Trend_Line_Combine_Series_Description"),type:{bool:!0}},trendlineUseHighlightValues:{displayName:(0,o.V)("Visual_Trend_Line_UseHighlightValues"),description:(0,o.V)("Visual_Trend_Line_UseHighlightValues_Description"),type:{bool:!0}},totalsEnabled:{displayName:(0,o.V)("Visual_Axis_Total"),description:(0,o.V)("Visual_Axis_TotalDescription"),type:{bool:!0}},underline:{displayName:(0,o.V)("Underline"),type:{bool:!0}},width:{displayName:(0,o.V)("Visual_General_Properties_Width"),type:{integer:!0}},wordWrap:{displayName:(0,o.V)("Visual_Word_Wrap"),type:{bool:!0}}},N={secShow:{displayName:(0,o.V)("Visual_YAxis_ShowSecondary"),type:{bool:!0}},alignZeros:{displayName:(0,o.V)("Visual_YAxis_AlignZeros"),description:(0,o.V)("Visual_YAxis_AlignZeros_Description"),type:{bool:!0}},secLogAxisScale:{displayName:(0,o.V)("Visual_LogarithmicScale"),type:{bool:!0}},secAxisLabel:{displayName:(0,o.V)("Visual_YAxis_LineTitle"),type:{none:!0}},secStart:{displayName:(0,o.V)("Visual_Axis_Start"),description:(0,o.V)("Visual_Axis_StartDescription"),placeHolderText:(0,o.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secEnd:{displayName:(0,o.V)("Visual_Axis_End"),description:(0,o.V)("Visual_Axis_EndDescription"),placeHolderText:(0,o.V)("Visual_Auto"),type:{numeric:!0},suppressFormatPainterCopy:!0},secShowAxisTitle:O.showAxisTitle_Y,secAxisStyle:O.axisStyle,secLabelColor:O.labelColor,secFontFamily:O.fontFamily,secFontSize:O.fontSize,secBold:O.bold,secItalic:O.italic,secUnderline:O.underline,secLabelDisplayUnits:O.labelDisplayUnits,secLabelPrecision:O.labelPrecision,secTitleColor:O.titleColor,secTitleFontFamily:O.fontFamily,secTitleFontSize:O.titleFontSize,secTitleBold:O.bold,secTitleItalic:O.italic,secTitleUnderline:O.underline,secTitleText:O.titleText},A={displayName:(0,o.V)("Visual_DataTotalLabels"),description:(0,o.V)("Visual_DataTotalLabelsDescription"),properties:{show:O.show,color:O.dataColor,labelDisplayUnits:O.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},O.labelPrecision),{suppressFormatPainterCopy:!0}),enableBackground:O.labelEnableBackground,backgroundColor:O.labelBackgroundColor,backgroundTransparency:O.labelBackgroundTransparency,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,fontFamily:O.fontFamily}},I=_.cloneDeep(A);I.properties.showPositiveAndNegative={displayName:(0,o.V)("Visual_LabelPosAndNeg"),description:(0,o.V)("Visual_LabelPosAndNeg_Description"),type:{bool:!0}};var B={borderShow:O.borderShow,borderSize:O.borderSize,borderPreset:O.borderPreset,borderColorMatchFill:O.matchFillColor,borderColor:O.borderColor2,borderTransparency:O.borderTransparency,borderIntensity:O.borderIntensity},U={legend:{displayName:(0,o.V)("Visual_Legend"),description:(0,o.V)("Visual_LegendDescription"),properties:{show:{displayName:(0,o.V)("Visual_Show"),type:{bool:!0}},position:{displayName:(0,o.V)("Visual_LegendPosition"),description:(0,o.V)("Visual_LegendPositionDescription"),type:{enumeration:V.dt}},showTitle:{displayName:(0,o.V)("Visual_LegendShowTitle"),description:(0,o.V)("Visual_LegendShowTitleDescription"),type:{bool:!0}},titleText:{displayName:(0,o.V)("Visual_LegendName"),description:(0,o.V)("Visual_Title_Text"),type:{text:!0},suppressFormatPainterCopy:!0},labelColor:{displayName:(0,o.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},fontFamily:{displayName:(0,o.V)("Visual_FontFamily"),type:{formatting:{fontFamily:!0}}},fontSize:{displayName:(0,o.V)("Visual_TextSize"),type:{formatting:{fontSize:!0}}},bold:{displayName:(0,o.V)("Bold"),type:{bool:!0}},italic:{displayName:(0,o.V)("Italic"),type:{bool:!0}},underline:{displayName:(0,o.V)("Underline"),type:{bool:!0}}}},totals:A,totalsWithNet:I,zoom:{displayName:(0,o.V)("Visual_ZoomSlider"),properties:{show:{displayName:(0,o.V)("Visual_Show"),type:{bool:!0}},showOnCategoryAxis:{displayName:(0,o.V)("Visual_XAxis"),type:{bool:!0}},categoryMin:{type:{numeric:!0},captureState:!0},categoryMax:{type:{numeric:!0},captureState:!0},categorySize:{type:{numeric:!0},captureState:!0},showOnValueAxis:{displayName:(0,o.V)("Visual_YAxis"),type:{bool:!0}},valueMin:{type:{numeric:!0},captureState:!0},valueMax:{type:{numeric:!0},captureState:!0},valueSize:{type:{numeric:!0},captureState:!0},showLabels:{displayName:(0,o.V)("Visual_ZoomLabels"),type:{bool:!0}},showTooltip:{displayName:(0,o.V)("Visual_ZoomTooltips"),type:{bool:!0}}}},subheader:{displayName:(0,o.V)("Small_Multiples_Title"),description:(0,o.V)("Small_Multiples_Title_Description"),properties:{show:O.show,fontFamily:O.fontFamily,fontSize:O.fontSize,bold:O.bold,italic:O.italic,underline:O.underline,fontColor:O.fontColor,alignment:{displayName:(0,o.V)("Visual_Title_Alignment"),description:(0,o.V)("Visual_Title_AlignmentDescription"),type:{formatting:{alignment:!0}}},position:{displayName:(0,o.V)("Visual_Position"),type:{enumeration:g.dt}},titleWrap:O.wordWrap}},smallMultiplesLayout:{displayName:(0,o.V)("Small_Multiples_Layout"),description:(0,o.V)("Small_Multiples_Layout_Description"),properties:{layoutType:{displayName:(0,o.V)("Small_Multiples_Layout"),type:{enumeration:w.dt}},rowCount:{displayName:(0,o.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},columnCount:{displayName:(0,o.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},backgroundColor:{displayName:(0,o.V)("Background_Color"),description:(0,o.V)("Small_Multiples_Layout_Background_Desc"),type:{fill:{solid:{color:{nullable:!0}}}}},backgroundTransparency:(0,e.__assign)((0,e.__assign)({},O.transparency),{displayName:(0,o.V)("Small_Multiples_Layout_Background_Transparency")}),gridLineType:{displayName:(0,o.V)("Visual_Gridline_Show"),description:(0,o.V)("Small_Multiples_Layout_Grid_Line_Type_Desc"),type:{enumeration:a.dt}},gridLineColor:(0,e.__assign)({},O.lineColor),gridLineWidth:(0,e.__assign)((0,e.__assign)({},O.strokeWidth),{displayName:(0,o.V)("Visual_Line_Width")}),gridLineStyle:O.lineStyle,gridPadding:{displayName:(0,o.V)("Small_Multiples_Grid_Padding"),type:{numeric:!0}},advancedPaddingOptions:{displayName:(0,o.V)("Small_Multiples_Advanced_Padding"),type:{bool:!0}},columnPaddingInner:{displayName:(0,o.V)("Small_Multiples_Column_Padding_Inner"),type:{numeric:!0}},columnPaddingOuter:{displayName:(0,o.V)("Small_Multiples_Column_Padding_Outer"),type:{numeric:!0}},rowPaddingInner:{displayName:(0,o.V)("Small_Multiples_Row_Padding_Inner"),type:{numeric:!0}},rowPaddingOuter:{displayName:(0,o.V)("Small_Multiples_Row_Padding_Outer"),type:{numeric:!0}}}},error:{displayName:(0,o.V)("Visual_Error_Bars"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{enabled:{displayName:(0,o.V)("Enabled"),type:{bool:!0}},errorRange:{displayName:(0,o.V)("Desktop_FileMenu_Options"),type:{errorRange:{}}},barShow:O.show,barMatchSeriesColor:O.matchSeriesColor,barColor:{displayName:(0,o.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWidth:O.width,barBorderColor:O.borderColor,barBorderSize:{displayName:(0,o.V)("Visual_Border_Size"),type:{integer:!0}},shadeShow:O.show,shadeBandStyle:{displayName:(0,o.V)("Visual_Axis_Style"),type:{enumeration:s.uv}},shadeColor:{displayName:(0,o.V)("Visual_Error_BandColor"),type:{fill:{solid:{color:!0}}}},shadeMatchSeriesColor:O.matchSeriesColor,shadeTransparency:O.transparency,markerShape:{displayName:(0,o.V)("Visual_MarkerShape"),type:{enumeration:b.OE}},showMarkerByDefault:{type:{bool:!0}},markerSize:O.markerSize,labelShow:O.show,labelFontFamily:O.fontFamily,labelFontSize:O.fontSize,labelBold:O.bold,labelItalic:O.italic,labelUnderline:O.underline,labelColor:O.color,labelMatchSeriesColor:O.matchSeriesColor,labelFormat:O.errorFormat,labelBackground:O.labelEnableBackground,labelBackgroundColor:O.labelBackgroundColor,labelBackgroundTransparency:O.labelBackgroundTransparency,tooltipShow:(0,e.__assign)((0,e.__assign)({},O.show),{displayName:(0,o.V)("Visual_ShowInTooltip")}),tooltipFormat:O.errorFormat}},seriesLabels:{displayName:(0,o.V)("Visual_SeriesLabels"),description:(0,o.V)("Visual_SeriesDescription"),properties:{show:{displayName:(0,o.V)("Visual_SeriesLabels"),type:{bool:!0}},showByDefault:{type:{bool:!0}},seriesColor:{displayName:(0,o.V)("Visual_SeriesColor"),type:{fill:{solid:{color:!0}}}},seriesPosition:{displayName:(0,o.V)("Visual_SeriesPosition"),type:{enumeration:n.dt}},enableBackground:O.labelEnableBackground,backgroundColor:O.labelBackgroundColor,backgroundTransparency:O.labelBackgroundTransparency,showAll:{displayName:(0,o.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},textSize:{displayName:(0,o.V)("Visual_SeriesSize"),type:{formatting:{fontSize:!0}}},bold:O.bold,italic:O.italic,underline:O.underline,seriesFontFamily:{displayName:(0,o.V)("Visual_SeriesFontFamily"),type:{formatting:{fontFamily:!0}}},seriesWordWrap:{displayName:(0,o.V)("Visual_WordWrap"),type:{bool:!0}},seriesMaximumWidth:{displayName:(0,o.V)("Visual_Max_Width"),placeHolderText:(0,o.V)("Visual_Auto"),type:{integer:!0}}}}},W=(0,l.wZ)(U),j={formatString:{objectName:"general",propertyName:"formatString"},smallMultiplesBackgroundColor:{objectName:"smallMultiplesLayout",propertyName:"backgroundColor"},smallMultiplesGridLineColor:{objectName:"smallMultiplesLayout",propertyName:"gridLineColor"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},dynamicLabelEnabled:{objectName:"labels",propertyName:"showDynamicLabels"}},K={zoom:{properties:{showOnValueSecAxis:{displayName:(0,o.V)("Visual_Y2Axis"),type:{bool:!0}},valueSecMin:{type:{numeric:!0},captureState:!0},valueSecMax:{type:{numeric:!0},captureState:!0},valueSecSize:{type:{numeric:!0},captureState:!0}}}}},38488:function(Xe,H,t){t.d(H,{Fw:function(){return v},I8:function(){return S},Sd:function(){return r},bR:function(){return c},hq:function(){return h}});var e=t(273269),l=t(572909),o=t(588376),d=t(495570),v={analyze:"Analyze",explainBy:"ExplainBy",tooltips:"Tooltips"},S={analysis:"analysis",tree:"tree",categoryLabels:"categoryLabels",dataBars:"dataBars",dataLabels:"dataLabels",levelHeader:"levelHeader",insights:"insights"},h={aiEnabled:"aiEnabled",aiMode:"aiMode",axisEnd:"axisEnd",axisStart:"axisStart",barsPerLevel:"barsPerLevel",categoryLabelFontColor:"categoryLabelFontColor",categoryLabelFontFamily:"categoryLabelFontFamily",categoryLabelFontSize:"categoryLabelFontSize",categoryLabelBold:"categoryLabelBold",categoryLabelItalic:"categoryLabelItalic",categoryLabelUnderline:"categoryLabelUnderline",dataLabelFontColor:"dataLabelFontColor",dataLabelFontFamily:"dataLabelFontFamily",dataLabelFontSize:"dataLabelFontSize",dataLabelDisplayUnits:"dataLabelDisplayUnits",dataLabelPrecision:"dataLabelPrecision",dataLabelBold:"dataLabelBold",dataLabelItalic:"dataLabelItalic",dataLabelUnderline:"dataLabelUnderline",defaultClickAction:"defaultClickAction",density:"density",connectorType:"connectorType",dataBarScalingType:"dataBarScalingType",dataBarBackgroundColor:"dataBarBackgroundColor",dataBarWidthPercent:"dataBarWidthPercent",isAINode:"isAINode",levelHeaderBackgroundColor:"levelHeaderBackgroundColor",levelTitleFontColor:"levelTitleFontColor",levelTitleFontFamily:"levelTitleFontFamily",levelTitleFontSize:"levelTitleFontSize",levelTitleBold:"levelTitleBold",levelTitleItalic:"levelTitleItalic",levelTitleUnderline:"levelTitleUnderline",levelSubtitleFontColor:"levelSubtitleFontColor",levelSubtitleFontFamily:"levelSubtitleFontFamily",levelSubtitleFontSize:"levelSubtitleFontSize",levelSubtitleBold:"levelSubtitleBold",levelSubtitleItalic:"levelSubtitleItalic",levelSubtitleUnderline:"levelSubtitleUnderline",showSubtitles:"showSubtitles",positiveBarColor:"positiveBarColor",negativeBarColor:"negativeBarColor",accentColor:"accentColor",connectorDefaultColor:"connectorDefaultColor",responsiveLayout:"responsiveLayout",dataBarColor:"dataBarColor",effectiveBarsPerLevel:"effectiveBarsPerLevel"},c={defaultValue:10,minValue:3,maxValue:30};function r(s){var u,i,a,n,m,f,V,p,C,b=[{name:v.analyze,kind:e.DW.Measure,kindPreference:0,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,l.V)("Role_DisplayName_Target"),description:(0,l.V)("DecompositionTree_Analyze_Tooltip")},{name:v.explainBy,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_ExplainBy"),description:(0,l.V)("DecompositionTree_ExplainBy_Tooltip"),noDuplicates:!0},{name:v.tooltips,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}],y={select:[{for:{in:v.analyze}},{for:{in:v.tooltips}}]};return{dataRoles:b,dataViewMappings:[{conditions:[(u={},u[v.analyze]={max:1},u)],matrix:{rows:{for:{in:v.explainBy},dataReductionAlgorithm:{topNPerLevel:{count:10,fallbackTopCount:500}}},values:y}}],tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[v.tooltips],supportEnhancedTooltips:!1},objects:(i={general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:d.iD.formatString}}},i[S.analysis]={displayName:(0,l.V)("Analysis"),description:(0,l.V)("Analysis"),properties:(a={},a[h.aiEnabled]={displayName:(0,l.V)("DecompositionTree_Formatting_EnableAI"),description:(0,l.V)("DecompositionTree_Formatting_EnableAI_Tooltip"),type:{bool:!0}},a[h.aiMode]={displayName:(0,l.V)("DecompositionTree_AnalysisType"),description:(0,l.V)("DecompositionTree_AnalysisTypeDescription"),type:{enumeration:(0,o.i)([{displayName:(0,l.V)("DecompositionTree_AnalysisType_Absolute"),value:"absolute"},{displayName:(0,l.V)("DecompositionTree_AnalysisType_Relative"),value:"relative"}])}},a)},i[S.tree]={displayName:(0,l.V)("DecompositionTree_Formatting_Tree"),description:(0,l.V)("DecompositionTree_Formatting_Tree"),properties:(n={},n[h.density]={displayName:(0,l.V)("DecompositionTree_Density"),description:(0,l.V)("DecompositionTree_Density_Description"),type:{enumeration:(0,o.i)([{displayName:(0,l.V)("DecompositionTree_Density_Dense"),value:"dense"},{displayName:(0,l.V)("Default"),value:"default"},{displayName:(0,l.V)("DecompositionTree_Density_Sparse"),value:"sparse"}])}},n[h.accentColor]={displayName:(0,l.V)("DecompositionTree_Formatting_Selected_Line"),description:(0,l.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},n[h.connectorDefaultColor]={displayName:(0,l.V)("DecompositionTree_Formatting_Unselected_Line"),description:(0,l.V)("DecompositionTree_Formatting_Deselected_Connectors_Description"),type:{fill:{solid:{color:!0}}}},n[h.connectorType]={displayName:(0,l.V)("Style"),description:(0,l.V)("DecompositionTree_Formatting_ConnectorShape_Tooltip"),type:{enumeration:(0,o.i)([{displayName:(0,l.V)("Default"),value:"curve"},{displayName:(0,l.V)("Visual_StrokeLineJoin_Round"),value:"round"}])}},n[h.responsiveLayout]={displayName:(0,l.V)("Visual_General_ResponsiveLabel"),description:(0,l.V)("Visual_General_ResponsiveLabelDescription"),type:{bool:!0}},n[h.effectiveBarsPerLevel]={type:{integer:!0}},n[h.barsPerLevel]={displayName:(0,l.V)("DecompositionTree_BarsPerLevel"),description:(0,l.V)("DecompositionTree_BarsPerLevel_Description"),type:{integer:!0}},n[h.defaultClickAction]={displayName:(0,l.V)("DecompositionTree_DefaultAction"),description:(0,l.V)("DecompositionTree_DefaultAction_Description"),type:{enumeration:(0,o.i)([{displayName:(0,l.V)("DecompositionTree_DefaultAction_Filter"),value:"select"},{displayName:(0,l.V)("Collapse"),value:"toggle"}])}},n)},i[S.dataBars]={displayName:(0,l.V)("Visual_Bars_Title"),description:(0,l.V)("Visual_ConditionalFormatting_DataBars"),properties:(m={},m[h.positiveBarColor]={displayName:(0,l.V)("DataBarsDialog_PositiveBar"),description:(0,l.V)("DecompositionTree_Formatting_PositiveBar_Tooltip"),type:{fill:{solid:{color:!0}}}},m[h.negativeBarColor]={displayName:(0,l.V)("DataBarsDialog_NegativeBar"),description:(0,l.V)("DecompositionTree_Formatting_NegativeBar_Tooltip"),type:{fill:{solid:{color:!0}}}},m[h.dataBarBackgroundColor]={displayName:(0,l.V)("DecompositionTree_Formatting_BarBackground"),description:(0,l.V)("DecompositionTree_Formatting_BarBackground_Description"),type:{fill:{solid:{color:!0}}}},m[h.dataBarColor]={displayName:(0,l.V)("DecompositionTree_DataBarColor"),description:(0,l.V)("DecompositionTree_Formatting_DataBarColor_Tooltip"),type:{fill:{solid:{color:!0}}}},m[h.dataBarWidthPercent]={displayName:(0,l.V)("DecompositionTree_Formatting_DataBarSize"),description:(0,l.V)("DecompositionTree_Formatting_DataBarSize"),type:{integer:!0}},m[h.dataBarScalingType]={displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType"),description:(0,l.V)("DecompositionTree_Formatting_ScaleType_Tooltip"),type:{enumeration:(0,o.i)([{displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType_TopNode"),value:"topNode"},{displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType_ParentNode"),value:"parentNode"},{displayName:(0,l.V)("DecompositionTree_Formatting_ScaleType_LevelMaximum"),value:"levelMaximum"}])}},m[h.axisStart]=d.iD.axisStart,m[h.axisEnd]=d.iD.axisEnd,m)},i[S.categoryLabels]={displayName:(0,l.V)("Visual_CategoryLabels"),description:(0,l.V)("DecompositionTree_Formatting_CategoryLabels_Description"),properties:(f={},f[h.categoryLabelFontFamily]=d.iD.fontFamily,f[h.categoryLabelFontSize]=d.iD.fontSize,f[h.categoryLabelBold]=d.iD.bold,f[h.categoryLabelItalic]=d.iD.italic,f[h.categoryLabelUnderline]=d.iD.underline,f[h.categoryLabelFontColor]=d.iD.fontColor,f)},i[S.dataLabels]={displayName:(0,l.V)("Visual_Tablix_Values"),description:(0,l.V)("DecompositionTree_Formatting_ValueLabels_Description"),properties:(V={},V[h.dataLabelFontFamily]=d.iD.fontFamily,V[h.dataLabelFontSize]=d.iD.fontSize,V[h.dataLabelBold]=d.iD.bold,V[h.dataLabelItalic]=d.iD.italic,V[h.dataLabelUnderline]=d.iD.underline,V[h.dataLabelFontColor]=d.iD.fontColor,V[h.dataLabelDisplayUnits]=d.iD.labelDisplayUnits,V[h.dataLabelPrecision]=d.iD.labelPrecision,V)},i[S.levelHeader]={displayName:(0,l.V)("Header_Plural"),description:(0,l.V)("DecompositionTree_Formatting_TreeHeader_Description"),properties:(p={},p[h.levelHeaderBackgroundColor]={displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("VisualGroup_Background_ColorDescription"),type:{fill:{solid:{color:!0}}}},p[h.levelTitleFontFamily]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),description:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontFamily"),type:{formatting:{fontFamily:!0}}},p[h.levelTitleFontSize]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),description:(0,l.V)("DecompositionTree_Formatting_LevelTitle_FontSize"),type:{formatting:{fontSize:!0}}},p[h.levelTitleBold]=d.iD.bold,p[h.levelTitleItalic]=d.iD.italic,p[h.levelTitleUnderline]=d.iD.underline,p[h.levelTitleFontColor]={displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},p[h.showSubtitles]={displayName:(0,l.V)("DecompositionTree_Formatting_ShowSubtitles"),description:(0,l.V)("DecompositionTree_Formatting_ShowSubtitles"),type:{bool:!0}},p[h.levelSubtitleFontFamily]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),description:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontFamily"),type:{formatting:{fontFamily:!0}}},p[h.levelSubtitleFontSize]={displayName:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),description:(0,l.V)("DecompositionTree_Formatting_LevelSubtitle_FontSize"),type:{formatting:{fontSize:!0}}},p[h.levelSubtitleBold]=d.iD.bold,p[h.levelSubtitleItalic]=d.iD.italic,p[h.levelSubtitleUnderline]=d.iD.underline,p[h.levelSubtitleFontColor]={displayName:(0,l.V)("Generic_Color"),description:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},p)},i[S.insights]={properties:(C={},C[h.isAINode]={type:{bool:!0}},C)},i),drilldown:{suppresDrillOperations:!0},expandCollapse:{roles:[v.explainBy],addDataViewFlags:{defaultValue:!0},supportsMerge:!0,restoreProjectionsOrderFromBookmark:!0,addDataViewExpansionState:!0,collapseParentAfterRemovingChildLevel:!0},filterMappings:{measureFilter:{targetRoles:[v.explainBy]}},sorting:{default:{}},suppressDefaultTitle:!0,supportsHighlight:!0,supportsSelection:!0,supportsKeyboardFocus:!0,noDefaultProjections:!0,keepAllMetadataColumns:!0,insights:{decomposition:{analyzeRole:v.analyze,explainByRole:v.explainBy,enableAIProperty:{objectName:S.analysis,propertyName:h.aiEnabled},highlightedAIMatrixNode:{objectName:S.insights,propertyName:h.isAINode},analysisType:{objectName:S.analysis,propertyName:h.aiMode}},ignoreHighlightFilter:!0},suppressVisualCalc:!0}}},933346:function(Xe,H,t){t.d(H,{Ag:function(){return r},V9:function(){return s},cw:function(){return u}});var e=t(973188),l=t(406057),o=t(273269),d=t(572909),v=t(725867),S=t(941242),h=t(425854),c=t(495570),r={category:"Category",series:"Series",y:"Y",tooltips:"Tooltips"},s=(0,l.wZ)(u().objects);function u(i){return{dataRoles:[{name:r.category,kind:o.DW.Grouping,displayName:(0,d.V)("Role_DisplayName_Legend"),displayOrder:1,description:(0,d.V)("Role_DisplayName_LegendDescription")},{name:r.series,kind:o.DW.Grouping,displayName:(0,d.V)("Details"),displayOrder:null!=i&&i.useModernFormatPane?3:2,description:(0,d.V)("Role_DisplayName_DetailsDonutChartDescription")},{name:r.y,kind:o.DW.Measure,displayName:(0,d.V)("Role_DisplayName_Values"),displayOrder:null!=i&&i.useModernFormatPane?2:3,description:(0,d.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:r.tooltips,kind:o.DW.Measure,displayName:(0,d.V)("Role_DisplayName_Tooltips"),displayOrder:4,description:(0,d.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,d.V)("Visual_General"),properties:{formatString:c.iD.formatString}},legend:c.TQ.legend,dataPoint:{displayName:(0,d.V)("Visual_DataPoint"),description:(0,d.V)("Visual_DataPointDescription"),properties:{defaultColor:c.iD.defaultColor,fill:c.iD.fill}},labels:{displayName:(0,d.V)("Visual_DetailLabels"),properties:{show:c.iD.show,color:c.iD.dataColor,labelDisplayUnits:c.iD.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},c.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,e.__assign)((0,e.__assign)({},c.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,fontFamily:c.iD.fontFamily,labelStyle:{displayName:(0,d.V)("Visual_LabelStyle"),type:{enumeration:h.dt}},position:{displayName:(0,d.V)("Visual_DonutLabelPosition"),type:{enumeration:S.dt}},overflow:{displayName:(0,d.V)("Visual_LabelOverflow"),type:{bool:!0}},background:{displayName:(0,d.V)("Visual_Background"),type:{enumeration:v.dt}}}},slices:{displayName:(0,d.V)("Visual_Shapes"),description:(0,d.V)("Visual_ShapesDescription"),properties:{innerRadiusRatio:{displayName:(0,d.V)("Visual_DonutInnerRadius"),type:{integer:!0}},startAngle:{displayName:(0,d.V)("Visual_DonutStartAngle"),type:{integer:!0}},borderWidth:{displayName:(0,d.V)("Visual_DonutBorderWidth"),type:{integer:!0}},borderColor:{displayName:(0,d.V)("Visual_ShapeMap_BorderColor"),type:{fill:{solid:{color:!0}}}},explode:{displayName:(0,d.V)("Visual_DonutExplode"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2},supported:{min:1}}}}],sorting:{default:{}},supportsHighlight:!0,drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1},Series:{max:0}},groupingTargetRole:"Category",groupSourceTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},Y:{min:1},Series:{max:0}},groupingTargetRole:"Category",kind:1},{condition:{Category:{max:0},Y:{min:1,max:1},Series:{max:1}},groupingTargetRole:"Series",kind:0}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}},505078:function(Xe,H,t){t.d(H,{Vh:function(){return r},XN:function(){return h}});var e=t(273269),l=t(572909),o=t(842631),d=t(214123),v=t(495570);function h(s){return{dataRoles:c(s&&s.cartesianConditionalFormatting),objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:v.iD.formatString}},legend:v.TQ.legend,dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{defaultColor:v.iD.defaultColor,showAllDataPoints:v.iD.showAllDataPoints,fill:v.iD.defaultCategoryColor,fillRule:{displayName:(0,l.V)("Role_DisplayName_Values"),description:(0,l.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:"Size",output:{property:"fill",selector:["Category"]}}},transparency:v.iD.transparency}},labels:{displayName:(0,l.V)("Visual_DataPointsLabels"),properties:{show:v.iD.show,color:v.iD.dataColor,labelDisplayUnits:v.iD.labelDisplayUnits,labelPrecision:v.iD.labelPrecision}},categoryLabels:{displayName:(0,l.V)("Visual_CategoryLabels"),properties:{show:v.iD.show}},mapControls:{displayName:(0,l.V)("Visual_MapControls"),description:(0,l.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,l.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,l.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,l.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,l.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,l.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,l.V)("Visual_MapGeocodingCulture"),type:{enumeration:d.dt}}}},mapStyles:{displayName:(0,l.V)("Visual_MapStyles"),description:(0,l.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,l.V)("Visual_MapTheme"),type:{enumeration:o.dt}},showLabels:{displayName:(0,l.V)("Visual_MapShowLabels"),type:{bool:!0}}}},stroke:{displayName:"Shape outline",properties:{show:v.iD.show,strokeColor:{displayName:(0,l.V)("Visual_LabelsFill"),type:{fill:{solid:{color:!0}}}},strokeWidth:v.iD.strokeWidth}}},dataViewMappings:[{conditions:[{Category:{},Series:{max:1},X:{min:1,max:1},Y:{max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{min:1,max:1},Size:{max:0}},{Category:{},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Tooltips:{min:1}},{Category:{},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:"Size",direction:2}]}},drilldown:{roles:["Category"]},supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}function c(s){var u=[{name:"Category",kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Location"),description:(0,l.V)("Role_DisplayName_LocationFilledMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:"Series",kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Latitude"),description:(0,l.V)("Role_DisplayName_LatitudeFilledMapDescription"),preferredTypes:[{geography:{latitude:!0}}]},{name:"X",kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Longitude"),description:(0,l.V)("Role_DisplayName_LongitudeFilledMapDescription"),preferredTypes:[{geography:{longitude:!0}}]}];return s||u.push({name:"Size",kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Gradient"),description:(0,l.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}),u.push({name:"Tooltips",kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}),u}var r={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},stroke:{show:{objectName:"stroke",propertyName:"show"},color:{objectName:"stroke",propertyName:"strokeColor"},width:{objectName:"stroke",propertyName:"strokeWidth"}}}},412627:function(Xe,H,t){t.d(H,{IW:function(){return c},jP:function(){return r},qW:function(){return s}});var e=t(973188),l=t(406057),o=t(273269),d=t(572909),v=t(626673),S=t(52825),h=t(495570),c={category:"Category",y:"Y",gradient:"Gradient",tooltips:"Tooltips"},r=(0,l.wZ)(s().objects);function s(u){return{dataRoles:[{name:c.category,kind:o.DW.Grouping,displayName:(0,d.V)(null!=u&&u.useModernFormatPane?"Role_DisplayName_Category":"Group"),description:(0,d.V)("Role_DisplayName_GroupFunnelDescription")},{name:c.y,kind:o.DW.Measure,displayName:(0,d.V)("Role_DisplayName_Values"),description:(0,d.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},!(null!=u&&u.cartesianConditionalFormatting)&&{name:c.gradient,kind:o.DW.Measure,displayName:(0,d.V)("Role_DisplayName_Gradient"),description:(0,d.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0},{name:c.tooltips,kind:o.DW.Measure,displayName:(0,d.V)("Role_DisplayName_Tooltips"),description:(0,d.V)("Role_Tooltips_Description"),joinPredicate:0}].filter(function(i){return i}),dataViewMappings:[{conditions:[{Category:{max:0},Gradient:{max:0}},{Category:{max:1},Y:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:"Y"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},rowCount:{preferred:{min:1}}}}],objects:{general:{displayName:(0,d.V)("Visual_General"),properties:{formatString:h.iD.formatString}},categoryAxis:{displayName:(0,d.V)("Visual_CategoryLabels"),description:(0,d.V)("Visual_CategoryLabelOptionsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily}},dataPoint:{displayName:(0,d.V)("Visual_DataPoint"),description:(0,d.V)("Visual_DataPointDescription"),properties:{defaultColor:h.iD.defaultColor,showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor,fillRule:{displayName:(0,d.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category"]}}}}},labels:{displayName:(0,d.V)("Visual_DataPointsLabels"),description:(0,d.V)("Visual_DataPointsLabelsDescription"),properties:{show:h.iD.show,color:h.iD.dataColor,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency,labelPosition:{displayName:(0,d.V)("Visual_Position"),type:{enumeration:S.dt},suppressFormatPainterCopy:!0},labelDisplayUnits:h.iD.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},h.iD.labelPrecision),{suppressFormatPainterCopy:!0}),percentageLabelPrecision:(0,e.__assign)((0,e.__assign)({},h.iD.percentageLabelPrecision),{suppressFormatPainterCopy:!0}),fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,funnelLabelStyle:{displayName:(0,d.V)("Visual_LabelStyle"),type:{enumeration:v.dt}}}},percentBarLabel:{displayName:(0,d.V)("Visual_PercentBarLabel"),description:(0,d.V)("Visual_PercentBarLabelDescription"),properties:{show:h.iD.show,color:h.iD.dataColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily}}},supportsHighlight:!0,supportsKeyboardFocus:!0,sorting:{default:{}},drilldown:{roles:["Category"]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0}}},307477:function(Xe,H,t){t.d(H,{J1:function(){return v},Vd:function(){return d},qJ:function(){return S}});var e=t(273269),l=t(572909),o=t(495570),d={y:"Y",minValue:"MinValue",maxValue:"MaxValue",targetValue:"TargetValue",tooltips:"Tooltips"},v={dataRoles:[{name:d.y,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Value"),description:(0,l.V)("Role_DisplayName_ValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:d.minValue,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_MinValue"),description:(0,l.V)("Role_DisplayName_MinValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:d.maxValue,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_MaxValue"),description:(0,l.V)("Role_DisplayName_MaxValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:d.targetValue,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_TargetValue"),description:(0,l.V)("Role_DisplayName_TargetValueDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:"Tooltips",kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{properties:{formatString:o.iD.formatString}},axis:{displayName:(0,l.V)("Visual_Gauge_Axis"),properties:{min:{displayName:(0,l.V)("Min"),placeHolderText:(0,l.V)("Visual_Auto"),type:{numeric:!0}},max:{displayName:(0,l.V)("Max"),placeHolderText:(0,l.V)("Visual_Auto"),type:{numeric:!0}},target:{displayName:(0,l.V)("Visual_Gauge_Axis_Target"),placeHolderText:(0,l.V)("Visual_Auto"),type:{numeric:!0}}}},dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),properties:{fill:o.iD.fill,target:{displayName:(0,l.V)("Visual_Gauge_Axis_TargetColor"),type:{fill:{solid:{color:!0}}}}}},labels:{displayName:(0,l.V)("Visual_DataPointsLabels"),properties:{show:o.iD.show,color:o.iD.dataColor,labelDisplayUnits:o.iD.labelDisplayUnits,labelPrecision:o.iD.labelPrecision,fontSize:o.iD.fontSize,bold:o.iD.bold,italic:o.iD.italic,underline:o.iD.underline,fontFamily:o.iD.fontFamily}},target:{displayName:(0,l.V)("Visual_Gauge_Axis_Target"),properties:{show:o.iD.show,color:o.iD.dataColor,labelDisplayUnits:o.iD.labelDisplayUnits,labelPrecision:o.iD.labelPrecision,fontSize:o.iD.fontSize,bold:o.iD.bold,italic:o.iD.italic,underline:o.iD.underline,fontFamily:o.iD.fontFamily}},calloutValue:{displayName:(0,l.V)("Visual_Gauge_CalloutValue"),properties:{show:o.iD.show,color:o.iD.dataColor,fontFamily:o.iD.fontFamily,bold:o.iD.bold,italic:o.iD.italic,underline:o.iD.underline,labelDisplayUnits:o.iD.labelDisplayUnits,labelPrecision:o.iD.labelPrecision,showDynamicLabels:o.iD.showDynamicLabels,dynamicLabelValue:o.iD.dynamicLabelValue}}},dataViewMappings:[{conditions:[{Y:{max:1},MinValue:{max:1},MaxValue:{max:1},TargetValue:{max:1}}],categorical:{values:{select:[{bind:{to:"Y"}},{bind:{to:"MinValue"}},{bind:{to:"MaxValue"}},{bind:{to:"TargetValue"}},{for:{in:"Tooltips"}}]}}}],supportsSelection:!1,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0},S={general:{formatString:{objectName:"general",propertyName:"formatString"}},axis:{min:{objectName:"axis",propertyName:"min"},max:{objectName:"axis",propertyName:"max"},target:{objectName:"axis",propertyName:"target"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"},target:{objectName:"dataPoint",propertyName:"target"}},target:{show:{objectName:"target",propertyName:"show"},labelDisplayUnits:{objectName:"target",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"target",propertyName:"labelPrecision"},fontSize:{objectName:"target",propertyName:"fontSize"},fontFamily:{objectName:"target",propertyName:"fontFamily"},color:{objectName:"target",propertyName:"color"},bold:{objectName:"target",propertyName:"bold"},italic:{objectName:"target",propertyName:"italic"},underline:{objectName:"target",propertyName:"underline"}},labels:{show:{objectName:"labels",propertyName:"show"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},fontFamily:{objectName:"labels",propertyName:"fontFamily"},color:{objectName:"labels",propertyName:"color"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"}},calloutValue:{show:{objectName:"calloutValue",propertyName:"show"},color:{objectName:"calloutValue",propertyName:"color"},labelDisplayUnits:{objectName:"calloutValue",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"calloutValue",propertyName:"labelPrecision"},fontFamily:{objectName:"calloutValue",propertyName:"fontFamily"},bold:{objectName:"calloutValue",propertyName:"bold"},italic:{objectName:"calloutValue",propertyName:"italic"},underline:{objectName:"calloutValue",propertyName:"underline"},showDynamicLabels:{objectName:"calloutValue",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"calloutValue",propertyName:"dynamicLabelValue"}}}},857017:function(Xe,H,t){t.d(H,{Jz:function(){return S},_g:function(){return v}});var e=t(406057),l=t(572909),o=t(935232),d={general:{properties:{imageUrl:{type:{misc:{imageUrl:!0}},suppressFormatPainterCopy:!0}}},imageScaling:{displayName:(0,l.V)("Visual_Image_Scaling_Type"),properties:{imageScalingType:{displayName:(0,l.V)("Visual_Image_Scaling_Type"),type:{enumeration:o.dt}}}}},v=(0,e.wZ)(d),S={objects:d,suppressDefaultTitle:!0,supportsSelection:!1,supportsVisualLink:!0,disableFormatMode:!0}},790012:function(Xe,H,t){t.d(H,{ml:function(){return s},qG:function(){return c},yM:function(){return u}});var e=t(406057),l=t(273269),o=t(572909),d=t(593223),v=t(97233),S=t(852320),h=t(639616),c={target:"Target",explainBy:"ExplainBy",details:"Details"},r={keyDrivers:{displayName:(0,o.V)("Analysis"),description:(0,o.V)("Visual_KeyDriversDescription"),properties:{allowKeyDrivers:{displayName:(0,o.V)("Visual_KeyDrivers_AllowKeyDrivers"),description:(0,o.V)("Visual_KeyDrivers_AllowKeyDriversDescription"),type:{bool:!0}},allowProfiles:{displayName:(0,o.V)("Visual_KeyDrivers_AllowProfiles"),description:(0,o.V)("Visual_KeyDrivers_AllowProfilesDescription"),type:{bool:!0}},selectedNumericAnalysis:{displayName:(0,o.V)("Visual_KeyDrivers_NumericAnalysis"),description:(0,o.V)("Visual_KeyDrivers_NumericAnalysisDescription"),type:{enumeration:S.dt},suppressFormatPainterCopy:!0},allowKeyDriversCounting:{displayName:(0,o.V)("Visual_KeyDrivers_AllowKeyDriversCounting"),description:(0,o.V)("Visual_KeyDrivers_AllowKeyDriversCountingDescription"),type:{bool:!0}},countType:{displayName:(0,o.V)("KeyDriver_CountType"),description:(0,o.V)("KeyDriver_CountType_Description"),type:{enumeration:v.dt}},selectedAnalysis:{type:{enumeration:d.dt},suppressFormatPainterCopy:!0},selectedSort:{type:{enumeration:h.dt},suppressFormatPainterCopy:!0},targetValue:{type:{text:!0},suppressFormatPainterCopy:!0},numericTargetSelectedKind:{type:{numeric:!0},suppressFormatPainterCopy:!0}}},keyInfluencersVisual:{displayName:(0,o.V)("Visual_KeyDriversVisualColors"),description:(0,o.V)("Visual_KeyDriversVisualColors_Description"),properties:{primaryColor:{displayName:(0,o.V)("Visual_KeyDriversVisualColors_PrimaryColor"),description:(0,o.V)("Visual_KeyDriversVisualColors_PrimaryColor_Description"),type:{fill:{solid:{color:!0}}}},primaryFontColor:{displayName:(0,o.V)("Visual_KeyDriversVisualColors_PrimaryFontColor"),description:(0,o.V)("Visual_KeyDriversVisualColors_PrimaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryColor:{displayName:(0,o.V)("Visual_KeyDriversVisualColors_SecondaryColor"),description:(0,o.V)("Visual_KeyDriversVisualColors_SecondaryColor_Description"),type:{fill:{solid:{color:!0}}}},secondaryFontColor:{displayName:(0,o.V)("Visual_KeyDriversVisualColors_SecondaryFontColor"),description:(0,o.V)("Visual_KeyDriversVisualColors_SecondaryFontColor_Description"),type:{fill:{solid:{color:!0}}}},canvasColor:{displayName:(0,o.V)("Background_Color"),description:(0,o.V)("Visual_KeyDriversVisualColors_CanvasColor_Description"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,o.V)("Visual_FontColor"),description:(0,o.V)("Visual_FontColor"),type:{fill:{solid:{color:!0}}}}}},keyDriversDrillVisual:{displayName:(0,o.V)("Visual_KeyDriversDrillVisualColors"),description:(0,o.V)("Visual_KeyDriversDrillVisualColors_Description"),properties:{defaultColor:{displayName:(0,o.V)("Visual_DefaultColor"),description:(0,o.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},referenceLineColor:{displayName:(0,o.V)("Visual_KeyDriversDrillVisualColors_ReferenceLineColor"),description:(0,o.V)("Visual_Reference_Line_Color_Description"),type:{fill:{solid:{color:!0}}}}}}},s=(0,e.wZ)(r);function u(){var i;return{dataRoles:[{name:c.target,kind:l.DW.GroupingOrMeasure,kindPreference:1,displayName:(0,o.V)("Role_DisplayName_Target"),description:(0,o.V)("Role_DisplayName_TargetDescription")},{name:c.explainBy,kind:l.DW.GroupingOrMeasure,displayName:(0,o.V)("Role_DisplayName_ExplainBy"),description:(0,o.V)("Role_DisplayName_ExplainByDescription")},{name:c.details,kind:l.DW.Grouping,displayName:(0,o.V)("Role_DisplayName_Details"),description:(0,o.V)("Role_DisplayName_DetailsKeyDriversDescription")}],objects:r,suppressDefaultTitle:!0,dataViewMappings:[{conditions:[(i={},i[c.target]={min:1,max:1},i)],table:{rows:{select:[{bind:{to:c.target}},{for:{in:c.explainBy}}],dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],supportsKeyboardFocus:!0,supportsSelection:!1,tooltips:{supportEnhancedTooltips:!0}}}},635019:function(Xe,H,t){t.d(H,{Pn:function(){return c},Te:function(){return u},pW:function(){return s},xg:function(){return i}});var e=t(406057),l=t(273269),o=t(572909),d=t(248620),v=t(913963),S=t(664652),h=t(495570),c={indicator:"Indicator",trendLine:"TrendLine",goal:"Goal"};function r(a){var n=a&&a.useModernFormatPane;return[{name:c.indicator,kind:l.DW.Measure,displayName:(0,o.V)(n?"KpiValueFieldListDisplayName":"Role_DisplayName_KPI_Indicator"),description:(0,o.V)("Role_DisplayName_KPI_IndicatorDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:c.trendLine,kind:l.DW.Grouping,displayName:(0,o.V)("Role_DisplayName_KPI_TrendLine"),description:(0,o.V)("Role_DisplayName_KPI_Trendline_Description")},{name:c.goal,kind:l.DW.Measure,displayName:(0,o.V)(n?"Target":"Role_DisplayName_KPI_Goal"),description:(0,o.V)("Role_DisplayName_KPI_GoalDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}]}function s(a){return{dataRoles:r(a),dataViewMappings:[{conditions:[{Indicator:{max:1},TrendLine:{max:1},Goal:{max:2}}],categorical:{categories:{for:{in:"TrendLine"},dataReductionAlgorithm:{bottom:{}}},values:{select:[{bind:{to:"Indicator"}},{bind:{to:"Goal"}}]}}}],objects:{general:{displayName:(0,o.V)("Visual_General"),properties:{formatString:h.iD.formatString}},indicator:{displayName:(0,o.V)("Role_DisplayName_KPI_Indicator"),description:(0,o.V)("Role_DisplayName_KPI_IndicatorDescription"),properties:{indicatorDisplayUnits:{displayName:(0,o.V)("Visual_DisplayUnits"),description:(0,o.V)("Visual_DisplayUnitsDescription"),type:{formatting:{labelDisplayUnits:!0}}},indicatorPrecision:h.iD.labelPrecision,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,fontColor:h.iD.fontColor,showIcon:h.iD.showIcon,iconSize:h.iD.iconSize,verticalAlignment:{displayName:(0,o.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},horizontalAlignment:{displayName:(0,o.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}}}},trendline:{displayName:(0,o.V)("Role_DisplayName_KPI_TrendLine"),description:(0,o.V)("Role_DisplayName_KPI_Trendline_Description"),properties:{show:h.iD.show,transparency:h.iD.transparency}},goals:{displayName:(0,o.V)("Role_DisplayName_KPI_Goals"),description:(0,o.V)("Role_DisplayName_KPI_Goals"),properties:{showGoal:{displayName:(0,o.V)("Role_DisplayName_KPI_Show_Goal"),type:{bool:!0}},goalText:{displayName:(0,o.V)("Role_DisplayName_Label"),type:{text:!0}},fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,goalFontFamily:h.iD.fontFamily,goalFontColor:h.iD.fontColor,showDistance:{displayName:(0,o.V)("Distance"),type:{bool:!0}},distanceLabel:{displayName:(0,o.V)("Role_DisplayName_Label"),type:{enumeration:S.dt}},labelPrecision:h.iD.labelPrecision,titleFontSize:h.iD.fontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,distanceFontFamily:h.iD.fontFamily,distanceFontColor:h.iD.fontColor,direction:{displayName:(0,o.V)("Visual_KPI_DistanceDirection"),type:{enumeration:v.dt}}}},status:{displayName:(0,o.V)("Role_DisplayName_KPI_Color_Coding"),description:(0,o.V)("Role_DisplayName_KPI_Color_Coding"),properties:{direction:{displayName:(0,o.V)("Visual_KPI_Direction"),type:{enumeration:d.dt}},goodColor:{displayName:(0,o.V)("Visual_KPI_Good_Color"),type:{fill:{solid:{color:!0}}}},neutralColor:{displayName:(0,o.V)("Visual_KPI_Neutral_Color"),type:{fill:{solid:{color:!0}}}},badColor:{displayName:(0,o.V)("Visual_KPI_Bad_Color"),type:{fill:{solid:{color:!0}}}}}},lastDate:{displayName:(0,o.V)("ConditionalFormattingDialog_Date"),description:(0,o.V)("Role_DisplayName_KPI_Date_Description"),properties:{show:h.iD.show,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,lastDateFontFamily:h.iD.fontFamily,lastDateFontColor:h.iD.fontColor}}},sorting:{custom:{},implicit:{clauses:[{role:"TrendLine",direction:1}]}},supportsKeyboardFocus:!0,supportsDataDrivenAlerts:!0}}var u=(0,e.wZ)(s().objects),i={directionTypeStringProp:{objectName:"status",propertyName:"direction"},goodColorProp:{objectName:"status",propertyName:"goodColor"},neutralColorProp:{objectName:"status",propertyName:"neutralColor"},badColorProp:{objectName:"status",propertyName:"badColor"},showKPIGoal:{objectName:"goals",propertyName:"showGoal"},showKPIDistance:{objectName:"goals",propertyName:"showDistance"},showKPITrendLine:{objectName:"trendline",propertyName:"show"},showKPILastDate:{objectName:"lastDate",propertyName:"show"},indicatorDisplayUnitsProp:{objectName:"indicator",propertyName:"indicatorDisplayUnits"},indicatorPrecisionProp:{objectName:"indicator",propertyName:"indicatorPrecision"},indicatorFontSizeProp:{objectName:"indicator",propertyName:"fontSize"},indicatorBoldProp:{objectName:"indicator",propertyName:"bold"},indicatorItalicProp:{objectName:"indicator",propertyName:"italic"},indicatorUnderlineProp:{objectName:"indicator",propertyName:"underline"},indicatorFontFamilyProp:{objectName:"indicator",propertyName:"fontFamily"},indicatorFontColorProp:{objectName:"indicator",propertyName:"fontColor"},indicatorIconSizeProp:{objectName:"indicator",propertyName:"iconSize"},indicatorIconShowIconProp:{objectName:"indicator",propertyName:"showIcon"},indicatorTransparencyProp:{objectName:"trendline",propertyName:"transparency"},indicatorHorizontalAlignmentProp:{objectName:"indicator",propertyName:"horizontalAlignment"},indicatorVerticalAlignmentProp:{objectName:"indicator",propertyName:"verticalAlignment"},goalTextProp:{objectName:"goals",propertyName:"goalText"},goalFontSizeProp:{objectName:"goals",propertyName:"fontSize"},goalBoldProp:{objectName:"goals",propertyName:"bold"},goalItalicProp:{objectName:"goals",propertyName:"italic"},goalUnderlineProp:{objectName:"goals",propertyName:"underline"},goalFontFamilyProp:{objectName:"goals",propertyName:"goalFontFamily"},goalFontColorProp:{objectName:"goals",propertyName:"goalFontColor"},distanceLabelProp:{objectName:"goals",propertyName:"distanceLabel"},distancePrecisionProp:{objectName:"goals",propertyName:"labelPrecision"},distanceFontSizeProp:{objectName:"goals",propertyName:"titleFontSize"},distanceBoldProp:{objectName:"goals",propertyName:"titleBold"},distanceItalicProp:{objectName:"goals",propertyName:"titleItalic"},distanceUnderlineProp:{objectName:"goals",propertyName:"titleUnderline"},distanceFontFamilyProp:{objectName:"goals",propertyName:"distanceFontFamily"},distanceFontColorProp:{objectName:"goals",propertyName:"distanceFontColor"},distanceDirectionTypeStringProp:{objectName:"goals",propertyName:"direction"},lastDateFontSizeProp:{objectName:"lastDate",propertyName:"fontSize"},lastDateBoldProp:{objectName:"lastDate",propertyName:"bold"},lastDateItalicProp:{objectName:"lastDate",propertyName:"italic"},lastDateUnderlineProp:{objectName:"lastDate",propertyName:"underline"},lastDateFontFamilyProp:{objectName:"lastDate",propertyName:"lastDateFontFamily"},lastDateFontColorProp:{objectName:"lastDate",propertyName:"lastDateFontColor"}}},380073:function(Xe,H,t){t.d(H,{BX:function(){return D},qn:function(){return V},yg:function(){return p},zK:function(){return b}});var e=t(973188),l=t(498342),o=t(406057),d=t(273269),v=t(572909),S=t(262351),h=t(817611),c=t(140168),r=t(806009),s=t(52825),u=t(795594),i=t(637916),a=t(495570),n=t(319124),m=t(874186);function f(F,E,w,x){var R;return void 0===w&&(w=!1),void 0===x&&(x=!1),(0,e.__assign)((0,e.__assign)(((R={general:{displayName:(0,v.V)("Visual_General"),properties:{formatString:a.iD.formatString,responsive:a.iD.responsive,responsiveLegacy:a.iD.responsiveLegacy}},legend:{displayName:a.TQ.legend.displayName,description:a.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},a.TQ.legend.properties),{legendMarkerRendering:a.iD.legendMarkerRendering,defaultToCircle:a.iD.defaultToCircle,matchLineColor:a.iD.matchLineColor})},subheader:(0,e.__assign)({},a.TQ.subheader)})[S.Xi]=(0,e.__assign)({},a.TQ.smallMultiplesLayout),R.categoryAxis={displayName:(0,v.V)("Visual_XAxis"),properties:(0,e.__assign)((0,e.__assign)({show:a.iD.show,start:a.iD.axisStart,end:a.iD.axisEnd,axisType:a.iD.axisType,showAxisTitle:{displayName:(0,v.V)("Visual_Axis_Title"),description:(0,v.V)("Visual_Axis_XTitleDescription"),type:{bool:!0}},axisStyle:a.iD.axisStyle,labelColor:a.iD.labelColor,fontFamily:a.iD.fontFamily,fontSize:a.iD.fontSize,bold:a.iD.bold,italic:a.iD.italic,underline:a.iD.underline,invertAxis:a.iD.invertAxis,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision,logAxisScale:a.iD.logAxisScale,concatenateLabels:{displayName:(0,v.V)("Visual_Axis_ConcatenateLabels"),description:(0,v.V)("Visual_Axis_ConcatenateLabelsDescription"),type:{bool:!0}},preferredCategoryWidth:a.iD.preferredCategoryWidth,maxMarginFactor:a.iD.maxMarginFactor},(F&&E||w)&&{reverseStackOrder:a.iD.reverseStackOrder}),{titleColor:a.iD.titleColor,titleFontFamily:a.iD.fontFamily,titleFontSize:a.iD.titleFontSize,titleBold:a.iD.bold,titleItalic:a.iD.italic,titleUnderline:a.iD.underline,titleText:a.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},a.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:a.iD.lineColor,gridlineThickness:a.iD.strokeWidth,gridlineStyle:a.iD.lineStyle})},R.valueAxis={displayName:(0,v.V)("Visual_YAxis"),properties:{show:a.iD.show,start:a.iD.axisStart,end:a.iD.axisEnd,invertAxis:a.iD.invertAxis,sharedAxis:a.iD.sharedAxis,scaleToFit:a.iD.scaleToFit,showAxisTitle:{displayName:(0,v.V)("Visual_Axis_Title"),description:(0,v.V)("Visual_Axis_YTitleDescription"),type:{bool:!0}},axisStyle:a.iD.axisStyle,labelColor:a.iD.labelColor,fontFamily:a.iD.fontFamily,fontSize:a.iD.fontSize,bold:a.iD.bold,italic:a.iD.italic,underline:a.iD.underline,labelDisplayUnits:a.iD.labelDisplayUnits,labelPrecision:a.iD.labelPrecision,logAxisScale:a.iD.logAxisScale,titleColor:a.iD.titleColor,titleFontFamily:a.iD.fontFamily,titleFontSize:a.iD.titleFontSize,titleBold:a.iD.bold,titleItalic:a.iD.italic,titleUnderline:a.iD.underline,titleText:a.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},a.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:a.iD.lineColor,gridlineThickness:a.iD.strokeWidth,gridlineStyle:a.iD.lineStyle,switchAxisPosition:a.iD.switchAxisPosition}},R.y2Axis={displayName:(0,v.V)("Visual_Y2Axis"),properties:(0,e.__assign)({show:a.iD.show},_.omit(a.sJ,["alignZeros","switchAxisPosition","secShow"]))},R.zoom={displayName:a.TQ.zoom.displayName,properties:(0,e.__assign)((0,e.__assign)({},a.TQ.zoom.properties),a.DW.zoom.properties)},R.dataPoint={displayName:(0,v.V)("Visual_DataPoint"),description:(0,v.V)("Visual_DataPointDescription"),properties:{transparency:{displayName:(0,v.V)("Visual_AreaTransparency"),type:{numeric:!0}},defaultColor:a.iD.defaultColor,fill:a.iD.defaultDataPointColor,showAllDataPoints:a.iD.showAllDataPoints}},R.layout={displayName:(0,v.V)("Small_Multiples_LayoutGroup"),properties:(0,e.__assign)({},(F&&E||w)&&{seriesOrderReversed:a.iD.seriesOrderReversed})},R.labels={displayName:(0,v.V)("Visual_DataPointsLabels"),description:(0,v.V)("Visual_DataPointsLabelsDescription"),properties:{show:a.iD.show,showByDefault:{type:{bool:!0}},showSeries:{displayName:(0,v.V)("Visual_Show"),type:{bool:!0}},color:a.iD.dataColor,labelDisplayUnits:x?a.iD.dataLabelDisplayUnitsWithCustom:a.iD.dataLabelDisplayUnits,valueCustomFormatString:a.iD.dataLabelCustomFormatString,labelPrecision:(0,e.__assign)((0,e.__assign)({},a.iD.labelPrecision),{suppressFormatPainterCopy:!0}),labelPosition:{displayName:(0,v.V)("Visual_Position"),type:{enumeration:s.dt}},enableBackground:a.iD.labelEnableBackground,backgroundColor:a.iD.labelBackgroundColor,backgroundTransparency:a.iD.labelBackgroundTransparency,showAll:{displayName:(0,v.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},fontSize:a.iD.fontSize,bold:a.iD.bold,italic:a.iD.italic,underline:a.iD.underline,fontFamily:a.iD.fontFamily,labelDensity:{displayName:(0,v.V)("Visual_LabelDensity"),type:{integer:!0}},showDynamicLabels:a.iD.showDynamicLabels,dynamicLabelValue:a.iD.dynamicLabelValue,leaderLines:a.iD.leaderLines,maximumOffset:a.iD.maximumOffset,minimumOffset:a.iD.minimumOffset,enableValueDataLabel:{type:{bool:!0}},showBlankAs:a.iD.showBlankAs,transparency:a.iD.transparency,titleBold:a.iD.bold,titleColor:a.iD.dataColor,titleContentType:{displayName:(0,v.V)("Content"),type:{enumeration:m.D}},enableTitleDataLabel:{type:{bool:!0}},titleFontFamily:a.iD.fontFamily,titleFontSize:a.iD.fontSize,dynamicLabelTitle:a.iD.dynamicLabelValue,titleItalic:a.iD.italic,titleTransparency:a.iD.transparency,titleLabelDisplayUnits:a.iD.dataLabelDisplayUnitsWithCustom,titleCustomFormatString:a.iD.dataLabelCustomFormatString,titleLabelPrecision:a.iD.labelPrecision,titleUnderline:a.iD.underline,titleShowBlankAs:a.iD.showBlankAs,detailBold:a.iD.bold,detailColor:a.iD.dataColor,dynamicLabelDetail:a.iD.dynamicLabelValue,enableDetailDataLabel:{type:{bool:!0}},detailFontFamily:a.iD.fontFamily,detailFontSize:a.iD.fontSize,detailItalic:a.iD.italic,detailTransparency:a.iD.transparency,detailUnderline:a.iD.underline,detailShowBlankAs:a.iD.showBlankAs,detailLabelDisplayUnits:a.iD.dataLabelDisplayUnitsWithCustom,detailCustomFormatString:a.iD.dataLabelCustomFormatString,detailLabelPrecision:a.iD.labelPrecision,labelContentLayout:a.iD.labelContentLayout,optimizeLabelDisplay:a.iD.optimizeLabelDisplay,labelContainerMaxWidth:a.iD.labelContainerMaxWidth}},R),(F||w)&&{totals:a.TQ.totals}),{seriesLabels:a.TQ.seriesLabels,lineStyles:{displayName:(0,v.V)("Visual_Shapes"),description:(0,v.V)("Visual_ShapesDescription"),properties:{strokeWidth:a.iD.strokeWidth,strokeLineJoin:a.iD.strokeLineJoin,lineStyle:a.iD.lineStyle,showMarker:a.iD.showMarker,showMarkerByDefault:{type:{bool:!0}},markerShape:a.iD.markerShape,markerSize:a.iD.markerSize,markerColor:a.iD.markerColor,stepped:a.iD.stepped,showSeries:{displayName:(0,v.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}},lineChartType:{displayName:(0,v.V)("Visual_Line_Type"),description:(0,v.V)("Visual_Line_Type_Description"),type:{enumeration:u.dt}}}},plotArea:{displayName:(0,v.V)("Visual_Plot"),properties:{transparency:a.iD.transparency,image:a.iD.image}},trend:{displayName:(0,v.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.trendlineDisplayName,lineColor:a.iD.trendlineColor,transparency:a.iD.trendlineTransparency,style:a.iD.trendlineStyle,combineSeries:a.iD.trendlineCombineSeries,useHighlightValues:a.iD.trendlineUseHighlightValues}},scalarKey:{properties:{min:{type:{dateTime:!0}}}},y1AxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_Y"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.referenceLineDisplayName,value:a.iD.referenceLineValue,lineColor:a.iD.referenceLineColor,transparency:a.iD.referenceLineTransparency,style:a.iD.lineStyle,position:a.iD.referenceLinePosition,dataLabelShow:a.iD.dataLabelShow,dataLabelColor:a.iD.dataLabelColor,dataLabelText:a.iD.dataLabelText,dataLabelDecimalPoints:a.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:a.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:a.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:a.iD.dataLabelDisplayUnits}},xAxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_X"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.referenceLineDisplayName,value:a.iD.referenceLineValueWithDateTime,lineColor:a.iD.lineColor,transparency:a.iD.referenceLineTransparency,style:a.iD.lineStyle,position:a.iD.referenceLinePosition,shadeRegion:a.iD.shadeRegion,shadeColor:a.iD.shadeColor,shadeTransparency:a.iD.shadeTransparency,dataLabelShow:a.iD.dataLabelShow,dataLabelColor:a.iD.dataLabelColor,dataLabelText:a.iD.dataLabelText,dataLabelDecimalPoints:a.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:a.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:a.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:a.iD.dataLabelDisplayUnits}},filters:{properties:{filteredToUniqueValue:{type:{bool:!0}}}}})}var V=(0,o.wZ)(f(!0,!0,!0));function p(F,E,w){var x,R=w&&w.useModernFormatPane;l.fF.assert(function(){return!F||E},"Non-area stacked line is not supported");var L=f(F,E,void 0,null==w?void 0:w.labelEnhancementsM0),M=[{name:n.R.Category,kind:d.DW.Grouping,displayName:(0,v.V)(R?"Visual_XAxis_Hyphen":"Role_DisplayName_Axis"),displayOrder:1,description:(0,v.V)("Role_DisplayName_AxisDescription"),cartesianKind:0},{name:n.R.Series,kind:d.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_Legend"),displayOrder:R?4:2,description:(0,v.V)("Role_DisplayName_LegendDescription")},{name:n.R.Y,kind:d.DW.Measure,displayName:(0,v.V)(R?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),displayOrder:R?2:3,description:(0,v.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}];F||M.push({name:n.R.Y2,kind:d.DW.Measure,displayName:(0,v.V)(R?"Visual_Y2Axis_Hyphen":"Role_DisplayName_Y2"),displayOrder:R?3:4,description:(0,v.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}),M.push({name:n.R.Rows,kind:d.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_SmallMultiples"),displayOrder:5,description:(0,v.V)("Role_DisplayName_SmallMultiples_Description")}),M.push({name:n.R.Tooltips,kind:d.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Tooltips"),displayOrder:6,description:(0,v.V)("Role_Tooltips_Description"),joinPredicate:0});var U,W,j,K,T={dataRoles:M,objects:L,dataViewMappings:[(K={conditions:[(U={},U[n.R.Series]={max:0},U[n.R.Rows]={min:1},U),(W={},W[n.R.Series]={min:1,max:1},W[n.R.Y]={max:1},W[n.R.Rows]={min:1},W),(j={},j[n.R.Series]={min:1,max:1},j[n.R.Y]={max:0},j[n.R.Rows]={min:1},j)],matrix:{rows:{select:[{composite:[{for:{in:n.R.Rows}}],dataReductionAlgorithm:{window:{count:S.QS}}},{composite:[{for:{in:n.R.Category}}],synchronized:!0,dataReductionAlgorithm:{sample:{}}}]},columns:{for:{in:n.R.Series},dataReductionAlgorithm:{top:{}}},values:{select:[{for:{in:n.R.Y}},{for:{in:n.R.Tooltips}}]},dataVolume:6}},F||C(K),K),function(){var U,W,j,K={conditions:[(U={},U[n.R.Series]={max:0},U[n.R.Rows]={max:0},U),(W={},W[n.R.Series]={min:1,max:1},W[n.R.Y]={max:1},W[n.R.Rows]={max:0},W),(j={},j[n.R.Series]={min:1,max:1},j[n.R.Y]={max:0},j[n.R.Rows]={max:0},j)],categorical:{categories:{for:{in:n.R.Category}},values:{group:{by:n.R.Series,select:[{for:{in:n.R.Y}},{for:{in:n.R.Tooltips}}]}}}};return F?function(F){l.fF.assertValue(F,"mapping"),l.fF.assertValue(F.categorical,"categorical mapping");var E=F.categorical;E.dataReductionAlgorithm=void 0,E.categories.dataReductionAlgorithm={sample:{}},E.values.group.dataReductionAlgorithm={top:{}}}(K):function(F){if(l.fF.assertValue(F,"mapping"),F.categorical){var E=F.categorical;E.dataReductionAlgorithm={binnedLineSample:{}},E.categories.dataReductionAlgorithm=void 0,E.values.group.dataReductionAlgorithm=void 0}else F.matrix&&l.fF.assertFail("Binned sampling not supported in this configuration")}(K),F||C(K),K}(),function(){var U,W,j;return{conditions:[(U={},U[i.x.rows]={max:0},U[n.R.Series]={max:0},U),(W={},W[i.x.rows]={max:0},W[n.R.Series]={min:1,max:1},W[n.R.Y]={max:1},W[n.R.Y2]={max:0},W),(j={},j[i.x.rows]={max:0},j[n.R.Series]={min:1,max:1},j[n.R.Y]={max:0},j[n.R.Y2]={max:1},j)],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},categorical:{categories:{for:{in:"regression.X"}},values:{group:{by:"regression.Series",select:[{for:{in:"regression.Y"}}]}}}}}(),function(){var U;return{conditions:[(U={},U[i.x.rows]={max:0},U[n.R.Series]={max:0},U[n.R.Category]={min:1},U[n.R.Y]={min:1,max:1},U[n.R.Y2]={max:0},U)],requiredProperties:[{objectName:"forecast",propertyName:"show"}],usage:{forecast:{}},categorical:{categories:{for:{in:n.R.Category}},values:{group:{by:n.R.Series,select:[{for:{in:"forecast.ForecastValue"}},{for:{in:"forecast.ConfidenceHighBound"}},{for:{in:"forecast.ConfidenceLowBound"}}]}}}}}(),function(){var U;return{conditions:[(U={},U[n.R.Rows]={max:0},U[n.R.Series]={max:0},U[n.R.Category]={min:1},U[n.R.Y]={min:1,max:1},U[n.R.Y2]={max:0},U)],requiredProperties:[{objectName:h.xn,propertyName:"show"}],usage:{anomalyDetection:{}},categorical:{categories:{for:{in:n.R.Category}},values:{group:{by:n.R.Series,select:[{for:{in:h.rj.ExpectedValue}},{for:{in:h.rj.ExpectedLow}},{for:{in:h.rj.ExpectedHigh}},{for:{in:h.rj.RawScore}},{for:{in:h.rj.Anomaly}},{for:{in:h.rj.BatchStart}},{for:{in:h.rj.BatchEnd}}]}}}}}()],sorting:{default:{}},drilldown:{roles:[n.R.Category]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0,roles:[n.R.Tooltips]},supportsDataDrivenAlerts:!0,insights:{explainAnomalies:{anomalyDataPointObjectName:h.rH}},expandAndSort:[n.R.Category],supportsOnObjectFormatting:!0};return F||(T.objects.referenceLine={displayName:(0,v.V)("Visual_Reference_Line"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:a.iD.referenceLineDisplayName,value:a.iD.referenceLineValue,lineColor:a.iD.referenceLineColor,transparency:a.iD.referenceLineTransparency,style:a.iD.lineStyle,position:a.iD.referenceLinePosition,dataLabelShow:a.iD.dataLabelShow,dataLabelColor:a.iD.dataLabelColor,dataLabelText:a.iD.dataLabelText,dataLabelDecimalPoints:a.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:a.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:a.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:a.iD.dataLabelDisplayUnits}}),!F&&!E&&(T.objects.error=(0,e.__assign)({},a.TQ.error),T.objects.forecast={displayName:(0,v.V)("Visual_Forecast"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:a.iD.show,displayName:{displayName:(0,v.V)("Name"),description:(0,v.V)("Visual_Forecast_DisplayName_Description"),type:{text:!0}},confidenceBandStyle:{displayName:(0,v.V)("Visual_Forecast_Confidence_Band_Style"),description:(0,v.V)("Visual_Forecast_Confidence_Band_Style_Description"),type:{enumeration:r.dt}},lineColor:{displayName:(0,v.V)("Visual_Forecast_Line_Color"),description:(0,v.V)("Visual_Forecast_Line_Color_Description"),type:{fill:{solid:{color:!0}}}},transparency:a.iD.transparency,style:a.iD.lineStyle,transform:{type:{queryTransform:{}}}}},w&&w.daxTransformEnabled&&(T.objects[h.xn]={displayName:(0,v.V)("Visual_AnomalyDetection"),objectCategory:2,suppressFormatPainterCopy:!0,properties:(x={},x[h.MA.show]=a.iD.show,x[h.MA.displayName]={displayName:(0,v.V)("Name"),description:(0,v.V)("Visual_AnomalyDetection_DisplayName_Description"),type:{text:!0}},x[h.MA.markerShape]={displayName:(0,v.V)("Visual_AnomalyDetection_AnomalyShape"),description:(0,v.V)("Visual_AnomalyDetection_AnomalyShape_Description"),type:{enumeration:c.dt}},x[h.MA.markerShapeSize]={displayName:(0,v.V)("Visual_AnomalyDetection_AnomalyShapeSize"),description:(0,v.V)("Visual_AnomalyDetection_AnomalyShapeSize_Description"),type:{numeric:!0}},x[h.MA.markerColor]={displayName:(0,v.V)("Visual_AnomalyDetection_AnomalyColor"),description:(0,v.V)("Visual_AnomalyDetection_AnomalyColor_Description"),type:{fill:{solid:{color:!0}}}},x[h.MA.confidenceBandStyle]={displayName:(0,v.V)("Visual_AnomalyDetection_RangeStyle"),description:(0,v.V)("Visual_AnomalyDetection_RangeStyle_Description"),type:{enumeration:r.dt}},x[h.MA.transparency]={displayName:(0,v.V)("Visual_AnomalyDetection_RangeTransparency"),description:(0,v.V)("Visual_AnomalyDetection_RangeTransparency_Description"),type:{numeric:!0}},x[h.MA.confidenceBandColor]={displayName:(0,v.V)("Visual_AnomalyDetection_RangeColor"),description:(0,v.V)("Visual_AnomalyDetection_RangeColor_Description"),type:{fill:{solid:{color:!0}}}},x[h.K1.CategoryValue]={type:{dateTime:!0}},x[h.K1.Value]={type:{numeric:!0}},x[h.K1.ExpectedValue]={type:{numeric:!0}},x[h.K1.ExpectedLow]={type:{numeric:!0}},x[h.K1.ExpectedHigh]={type:{numeric:!0}},x[h.K1.BatchStart]={type:{dateTime:!0}},x[h.K1.BatchEnd]={type:{dateTime:!0}},x.transform={type:{queryTransform:{}}},x[h.Bx]={type:{exprList:{}}},x[h.It]={type:{bool:!0}},x)})),T}function C(F){var E;_.find(F.conditions,function(w){return _.isEqual(w[n.R.Series],{min:1,max:1})&&_.isEqual(w[n.R.Y],{max:1})})[n.R.Y2]={max:0},_.find(F.conditions,function(w){return _.isEqual(w[n.R.Series],{min:1,max:1})&&_.isEqual(w[n.R.Y],{max:0})})[n.R.Y2]={max:1},F.categorical?E=F.categorical.values.group.select:F.matrix&&(E=F.matrix.values.select),E.splice(1,0,{for:{in:n.R.Y2}})}var b={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{transparency:{objectName:"dataPoint",propertyName:"transparency"},defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"}},trend:{show:{objectName:"trend",propertyName:"show"}},forecast:{show:{objectName:"forecast",propertyName:"show"}},anomalyDetection:{show:h.Ne},categoryAxis:{axisType:{objectName:"categoryAxis",propertyName:"axisType"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"},legendMarkerRendering:{objectName:"legend",propertyName:"legendMarkerRendering"},defaultToCircle:{objectName:"legend",propertyName:"defaultToCircle"},matchLineColor:{objectName:"legend",propertyName:"matchLineColor"}},labels:{labelDensity:{objectName:"labels",propertyName:"labelDensity"},showByDefault:{objectName:"labels",propertyName:"showByDefault"},showDynamicLabels:{objectName:"labels",propertyName:"showDynamicLabels"},dynamicLabelValue:{objectName:"labels",propertyName:"dynamicLabelValue"},leaderLines:{objectName:"labels",propertyName:"leaderLines"},minimumOffset:{objectName:"labels",propertyName:"minimumOffset"},maximumOffset:{objectName:"labels",propertyName:"maximumOffset"},enableValueDataLabel:{objectName:"labels",propertyName:"enableValueDataLabel"},valueCustomFormatString:{objectName:"labels",propertyName:"valueCustomFormatString"},showBlankAs:{objectName:"labels",propertyName:"showBlankAs"},titleFontSize:{objectName:"labels",propertyName:"titleFontSize"},titleBold:{objectName:"labels",propertyName:"titleBold"},titleItalic:{objectName:"labels",propertyName:"titleItalic"},titleUnderline:{objectName:"labels",propertyName:"titleUnderline"},titleFontFamily:{objectName:"labels",propertyName:"titleFontFamily"},titleColor:{objectName:"labels",propertyName:"titleColor"},titleTransparency:{objectName:"labels",propertyName:"titleTransparency"},titleLabelDisplayUnits:{objectName:"labels",propertyName:"titleLabelDisplayUnits"},titleCustomFormatString:{objectName:"labels",propertyName:"titleCustomFormatString"},titleLabelPrecision:{objectName:"labels",propertyName:"titleLabelPrecision"},titleShowBlankAs:{objectName:"labels",propertyName:"titleShowBlankAs"},titleContentType:{objectName:"labels",propertyName:"titleContentType"},enableTitleDataLabel:{objectName:"labels",propertyName:"enableTitleDataLabel"},dynamicLabelTitle:{objectName:"labels",propertyName:"dynamicLabelTitle"},detailFontSize:{objectName:"labels",propertyName:"detailFontSize"},detailBold:{objectName:"labels",propertyName:"detailBold"},detailItalic:{objectName:"labels",propertyName:"detailItalic"},dynamicLabelDetail:{objectName:"labels",propertyName:"dynamicLabelDetail"},detailUnderline:{objectName:"labels",propertyName:"detailUnderline"},detailFontFamily:{objectName:"labels",propertyName:"detailFontFamily"},detailColor:{objectName:"labels",propertyName:"detailColor"},detailTransparency:{objectName:"labels",propertyName:"detailTransparency"},enableDetailDataLabel:{objectName:"labels",propertyName:"enableDetailDataLabel"},detailLabelDisplayUnits:{objectName:"labels",propertyName:"detailLabelDisplayUnits"},detailCustomFormatString:{objectName:"labels",propertyName:"detailCustomFormatString"},detailLabelPrecision:{objectName:"labels",propertyName:"detailLabelPrecision"},detailShowBlankAs:{objectName:"labels",propertyName:"detailShowBlankAs"},labelContentLayout:{objectName:"labels",propertyName:"labelContentLayout"},optimizeLabelDisplay:{objectName:"labels",propertyName:"optimizeLabelDisplay"},labelContainerMaxWidth:{objectName:"labels",propertyName:"labelContainerMaxWidth"}},seriesLabels:{show:{objectName:"seriesLabels",propertyName:"showSeries"},showByDefault:{objectName:"seriesLabels",propertyName:"showByDefault"},seriesColor:{objectName:"seriesLabels",propertyName:"seriesColor"},seriesPosition:{objectName:"seriesLabels",propertyName:"seriesPosition"},enableBackground:{objectName:"seriesLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"seriesLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"seriesLabels",propertyName:"backgroundTransparency"},showAll:{objectName:"seriesLabels",propertyName:"showAll"},textSize:{objectName:"seriesLabels",propertyName:"textSize"},seriesFontFamily:{objectName:"seriesLabels",propertyName:"seriesFontFamily"},seriesWordWrap:{objectName:"seriesLabels",propertyName:"seriesWordWrap"},seriesMaximumWidth:{objectName:"seriesLabels",propertyName:"seriesMaximumWidth"},bold:{objectName:"seriesLabels",propertyName:"bold"},italic:{objectName:"seriesLabels",propertyName:"italic"},underline:{objectName:"seriesLabels",propertyName:"underline"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},lineStyles:{shadeArea:{objectName:"lineStyles",propertyName:"shadeArea"},strokeWidth:{objectName:"lineStyles",propertyName:"strokeWidth"},strokeLineJoin:{objectName:"lineStyles",propertyName:"strokeLineJoin"},lineStyle:{objectName:"lineStyles",propertyName:"lineStyle"},showMarkerByDefault:{objectName:"lineStyles",propertyName:"showMarkerByDefault"},showMarker:{objectName:"lineStyles",propertyName:"showMarker"},markerShape:{objectName:"lineStyles",propertyName:"markerShape"},markerSize:{objectName:"lineStyles",propertyName:"markerSize"},markerColor:{objectName:"lineStyles",propertyName:"markerColor"},showSeries:{objectName:"lineStyles",propertyName:"showSeries"},stepped:{objectName:"lineStyles",propertyName:"stepped"},lineChartType:{objectName:"lineStyles",propertyName:"lineChartType"}}};function D(F,E){if(l.fF.assertValue(F,"mapping"),F.categorical){var w=F.categorical;if(!w)return;w.dataReductionAlgorithm=void 0,w.categories.dataReductionAlgorithm={window:{count:200}},w.values.group.dataReductionAlgorithm={top:{count:60}}}else E&&(0,S.qO)(F)&&(F.matrix.rows.select[1].dataReductionAlgorithm={top:{}})}},319124:function(Xe,H,t){t.d(H,{R:function(){return l}});var l={Rows:t(637916).x.rows,Category:"Category",Series:"Series",Y:"Y",Y2:"Y2",Tooltips:"Tooltips"}},442137:function(Xe,H,t){t.d(H,{NC:function(){return r},aX:function(){return c},jM:function(){return i}});var e=t(273269),l=t(572909),o=t(842631),d=t(247382),v=t(214123),S=t(833126),h=t(495570),c={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",tooltips:"Tooltips"};function r(a){return{dataRoles:s(a&&a.cartesianConditionalFormatting,a&&a.useModernFormatPane),objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:h.iD.formatString}},legend:h.TQ.legend,dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{defaultColor:h.iD.defaultColor,showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor,fillRule:{displayName:(0,l.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:c.gradient,output:{property:"fill",selector:[c.category,c.x,c.y]}}},transparency:h.iD.transparency}},categoryLabels:{displayName:(0,l.V)("Visual_CategoryLabels"),description:(0,l.V)("Visual_CategoryLabelsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},bubbles:{displayName:(0,l.V)("Visual_Bubbles"),description:(0,l.V)("Visual_BubblesDescription"),properties:{bubbleSize:{displayName:(0,l.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,l.V)("Visual_MarkerRangeType"),type:{enumeration:S.zo}}}},mapControls:{displayName:(0,l.V)("Visual_MapControls"),description:(0,l.V)("Visual_MapControlsDescription"),properties:{autoZoom:{displayName:(0,l.V)("Visual_AutoZoom"),type:{bool:!0}},zoomLevel:{type:{numeric:!0}},centerLatitude:{type:{numeric:!0}},centerLongitude:{type:{numeric:!0}},showZoomButtons:{displayName:(0,l.V)("Visual_MapZoomButtons"),type:{bool:!0}},showLassoButton:{displayName:(0,l.V)("Visual_MapLassoButton"),type:{bool:!0}},minZoom:{displayName:(0,l.V)("Visual_MapMinZoomLevel"),type:{numeric:!0}},maxZoom:{displayName:(0,l.V)("Visual_MapMaxZoomLevel"),type:{numeric:!0}},geocodingCulture:{displayName:(0,l.V)("Visual_MapGeocodingCulture"),type:{enumeration:v.dt}}}},mapStyles:{displayName:(0,l.V)("Visual_MapStyles"),description:(0,l.V)("Visual_MapStylesDescription"),properties:{mapTheme:{displayName:(0,l.V)("Visual_MapTheme"),type:{enumeration:o.dt}},showLabels:{displayName:(0,l.V)("Visual_MapShowLabels"),type:{bool:!0}}}},heatMap:{displayName:(0,l.V)("Visual_HeatMap"),properties:{show:h.iD.show,filterRadius:{displayName:(0,l.V)("Visual_Radius"),type:{numeric:!0}},transparency:h.iD.transparency,unit:{displayName:(0,l.V)("Visual_Forecast_Parameter_Units"),type:{enumeration:d.dt}},color0:{displayName:(0,l.V)("Visual_Color0"),type:{fill:{solid:{color:!0}}}},color50:{displayName:(0,l.V)("Visual_Color50"),type:{fill:{solid:{color:!0}}}},color100:{displayName:(0,l.V)("Visual_Color100"),type:{fill:{solid:{color:!0}}}}}}},dataViewMappings:[{conditions:[{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1,min:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,min:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,min:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:0}},{Category:{min:1},Series:{max:1},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:0},Tooltips:{min:1}},{Category:{min:1},Series:{max:0},X:{max:1,kind:e.DW.Measure},Y:{max:1,kind:e.DW.Measure},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{for:{in:c.category},dataReductionAlgorithm:{top:{}}},values:{group:{by:c.series,select:[{bind:{to:c.x}},{bind:{to:c.y}},{bind:{to:c.size}},{bind:{to:c.gradient}},{for:{in:c.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:1,min:1},Gradient:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:1},Gradient:{max:1}}],categorical:{categories:{select:[{bind:{to:c.x}},{bind:{to:c.y}}],dataReductionAlgorithm:{top:{}}},values:{group:{by:c.series,select:[{bind:{to:c.size}},{bind:{to:c.gradient}},{for:{in:c.tooltips}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}},{conditions:[{Category:{max:1,min:1},Series:{max:1,min:1},X:{max:0},Y:{max:0},Size:{max:0},Gradient:{max:0},Tooltips:{max:0}}],matrix:{rows:{select:[{bind:{to:c.series}},{composite:[{for:{in:c.category}}]}],dataReductionAlgorithm:{top:{}}},dataVolume:4}},{conditions:[{Category:{max:0},Series:{max:1,min:1},X:{max:1,kind:e.DW.Grouping},Y:{max:1,kind:e.DW.Grouping},Size:{max:0},Gradient:{max:0},Tooltips:{}}],matrix:{rows:{select:[{bind:{to:c.series}},{composite:[{bind:{to:c.x}},{bind:{to:c.y}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{for:{in:c.tooltips}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:c.size,direction:2}]}},drilldown:{roles:[c.category]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Gradient:{max:0}},groupingTargetRole:c.series,kind:0}]},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:[c.tooltips],supportEnhancedTooltips:!0},suppressVisualCalc:!0}}function s(a,n){var m=[{name:c.category,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Location"),description:(0,l.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:c.series,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:c.y,kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Latitude"),description:(0,l.V)("Role_DisplayName_LatitudeMapDescription"),preferredTypes:[{geography:{latitude:!0}}],cartesianKind:1},{name:c.x,kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Longitude"),description:(0,l.V)("Role_DisplayName_LongitudeMapDescription"),preferredTypes:[{geography:{longitude:!0}}],cartesianKind:0},{name:c.size,kind:e.DW.Measure,displayName:(0,l.V)(n?"Visual_BubbleSize_Fieldwell":"Role_DisplayName_Size"),description:(0,l.V)(n?"Role_DisplayName_SizeDescription_Bubble":"Role_DisplayName_SizeDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return a||m.push({name:c.gradient,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Gradient"),description:(0,l.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),m.push({name:c.tooltips,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Tooltips"),description:(0,l.V)("Role_Tooltips_Description"),joinPredicate:0}),m}var i={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},defaultCategoryColor:{objectName:"dataPoint",propertyName:"defaultCategoryColor"},fill:{objectName:"dataPoint",propertyName:"fill"},showAllDataPoints:{objectName:"dataPoint",propertyName:"showAllDataPoints"},transparency:{objectName:"dataPoint",propertyName:"transparency"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"},enableBackground:{objectName:"categoryLabels",propertyName:"enableBackground"},backgroundColor:{objectName:"categoryLabels",propertyName:"backgroundColor"},backgroundTransparency:{objectName:"categoryLabels",propertyName:"backgroundTransparency"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"}},mapControls:{autoZoom:{objectName:"mapControls",propertyName:"autoZoom"},zoomLevel:{objectName:"mapControls",propertyName:"zoomLevel"},centerLatitude:{objectName:"mapControls",propertyName:"centerLatitude"},centerLongitude:{objectName:"mapControls",propertyName:"centerLongitude"},showZoomButtons:{objectName:"mapControls",propertyName:"showZoomButtons"},showLassoButton:{objectName:"mapControls",propertyName:"showLassoButton"},minZoom:{objectName:"mapControls",propertyName:"minZoom"},maxZoom:{objectName:"mapControls",propertyName:"maxZoom"},geocodingCulture:{objectName:"mapControls",propertyName:"geocodingCulture"}},mapStyles:{mapTheme:{objectName:"mapStyles",propertyName:"mapTheme"},showLabels:{objectName:"mapStyles",propertyName:"showLabels"}},heatMap:{show:{objectName:"heatMap",propertyName:"show"},filterRadius:{objectName:"heatMap",propertyName:"filterRadius"},transparency:{objectName:"heatMap",propertyName:"transparency"},unit:{objectName:"heatMap",propertyName:"unit"},color0:{objectName:"heatMap",propertyName:"color0"},color50:{objectName:"heatMap",propertyName:"color50"},color100:{objectName:"heatMap",propertyName:"color100"}}}},384275:function(Xe,H,t){t.d(H,{N6:function(){return d},Wj:function(){return l},eT:function(){return o}});var e=t(284524);function l(v){var S=v.dataViewMappings[0];if(S.categorical){var h=S.categorical.categories,c=void 0;if(h.select&&(c=S.categorical.values,_.isEmpty(c.group.select[0].bind.to.items))){h.dataReductionAlgorithm=void 0,c.group.dataReductionAlgorithm=void 0;var s={},u=_.find(h.select,function(n){return"X"===n.bind.to.role}),i=_.find(h.select,function(n){return"Y"===n.bind.to.role});s.x=u?{role:u.bind.to}:void 0,s.y=i?{role:i.bind.to}:void 0,S.categorical.dataReductionAlgorithm={overlappingPointsSample:s}}(!c||_.isEmpty(c.group.by.items))&&S.metadata&&S.metadata.objects&&S.metadata.objects.heatMap&&S.metadata.objects.heatMap.show&&(S.categorical.dataVolume=5)}}function o(v,S){if(v&&S)for(var h=0,c=S;h<c.length;h++){var r=c[h];if(r.categorical&&r.categorical.categories&&r.categorical.categories.select&&!v.Size&&v.Series)return!0}}function d(v){return(0,e.T6)(v,1)}},586245:function(Xe,H,t){t.d(H,{d:function(){return v},r:function(){return d}});var e=t(273269),l=t(572909),o=t(495570),d={rows:"Rows",columns:"Columns",values:"Values"},v={dataRoles:[{name:d.rows,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Rows"),description:(0,l.V)("Role_DisplayName_RowsDescription")},{name:d.columns,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Columns"),description:(0,l.V)("Role_DisplayName_ColumnsDescription")},{name:d.values,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:o.iD.formatString,columnWidth:{type:{numeric:!0}},rowSubtotals:{type:{bool:!0},displayName:(0,l.V)("Visual_TotalRow"),suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,l.V)("Visual_TotalColumn"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,l.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,l.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,l.V)("Visual_Grid"),properties:{outlineColor:o.iD.outlineColor,outlineWeight:o.iD.outlineWeight,gridVertical:{displayName:(0,l.V)("Visual_GridVertical"),description:(0,l.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,l.V)("Visual_GridVertical_Color"),description:(0,l.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,l.V)("Visual_GridVertical_Weight"),description:(0,l.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,l.V)("Visual_GridHorizontal"),description:(0,l.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,l.V)("Visual_GridHorizontal_Color"),description:(0,l.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,l.V)("Visual_GridHorizontal_Weight"),description:(0,l.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,l.V)("Visual_RowPadding"),description:(0,l.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,l.V)("Visual_Tablix_ImageHeight"),description:(0,l.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,l.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:o.iD.outline,fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor}},rowHeaders:{displayName:(0,l.V)("Visual_Tablix_RowHeaders"),properties:{outline:o.iD.outline,fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor,wordWrap:o.iD.wordWrap}},values:{displayName:(0,l.V)("Visual_Tablix_Values"),properties:{outline:o.iD.outline,backColor:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,l.V)("Visual_FontColor"),description:(0,l.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,l.V)("Visual_Tablix_FontColorSecondary"),description:(0,l.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,l.V)("Visual_Tablix_BackColorSecondary"),description:(0,l.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}}}},subTotals:{displayName:(0,l.V)("Visual_Tablix_TotalSub"),properties:{outline:o.iD.outline,fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor}},total:{displayName:(0,l.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:o.iD.outline,fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor,applyToHeaders:{displayName:(0,l.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor,styleHeader:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],filterMappings:{measureFilter:{targetRoles:[d.rows]}},sorting:{custom:{}},dataRoleTotals:[{roles:[d.columns],displayName:(0,l.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,l.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,l.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[d.rows],displayName:(0,l.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,l.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,l.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],suppressDefaultTitle:!0,supportsSelection:!1,supportsMultiVisualSelection:!0}},259967:function(Xe,H,t){t.d(H,{Mb:function(){return S},Pt:function(){return c},_i:function(){return h}});var e=t(406057),l=t(273269),o=t(572909),d=t(495570),v={general:{properties:{formatString:d.iD.formatString}},dataLabels:{displayName:(0,o.V)("Visual_DataPointsLabels"),description:(0,o.V)("Visual_DataPointsLabelsDescription"),properties:{color:d.iD.dataColor,fontSize:d.iD.fontSize,bold:d.iD.bold,italic:d.iD.italic,underline:d.iD.underline,fontFamily:d.iD.fontFamily}},categoryLabels:{displayName:(0,o.V)("Visual_CategoryLabels"),description:(0,o.V)("Visual_CategoryLabelsDescription"),properties:{show:d.iD.show,color:d.iD.categoryColor,fontSize:d.iD.fontSize,bold:d.iD.bold,italic:d.iD.italic,underline:d.iD.underline,fontFamily:d.iD.fontFamily}},cardTitle:{displayName:(0,o.V)("Visual_CardTitle"),description:(0,o.V)("Visual_CardTitleDescription"),properties:{color:d.iD.dataColor,fontSize:d.iD.fontSize,bold:d.iD.bold,italic:d.iD.italic,underline:d.iD.underline,fontFamily:d.iD.fontFamily}},card:{displayName:(0,o.V)("Card_ToolTip"),properties:{outline:d.iD.outline,outlineStyle:d.iD.outlineStyle,outlineColor:{displayName:(0,o.V)("Visual_OutlineColor"),description:(0,o.V)("Visual_OutlineColor_Desc"),type:{fill:{solid:{color:!0}}}},outlineWeight:{displayName:(0,o.V)("Visual_OutlineWeight"),description:(0,o.V)("Visual_OutlineWeight_Desc"),type:{numeric:!0}},barShow:{displayName:(0,o.V)("Visual_MultiRowCard_BarShow"),description:(0,o.V)("Visual_MultiRowCard_BarShow_Desc"),type:{bool:!0}},barColor:{displayName:(0,o.V)("Visual_MultiRowCard_BarColor"),type:{fill:{solid:{color:!0}}}},barWeight:{displayName:(0,o.V)("Visual_MultiRowCard_BarWeight"),description:(0,o.V)("Visual_MultiRowCard_BarWeight_Desc"),type:{numeric:!0}},cardPadding:{displayName:(0,o.V)("Visual_Padding"),description:(0,o.V)("Visual_MultiRowCard_CardBackground"),type:{numeric:!0}},cardBackground:{displayName:(0,o.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}}},S=(0,e.wZ)(v),h={dataRoles:[{name:"Values",kind:l.DW.GroupingOrMeasure,displayName:(0,o.V)("Role_DisplayName_Fields"),description:(0,o.V)("Role_DisplayName_FieldsDescription")}],objects:v,dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{}},suppressDefaultTitle:!0,supportsSelection:!1,disableVisualDetails:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0},c={card:{outline:{objectName:"card",propertyName:"outline"},outlineStyle:{objectName:"card",propertyName:"outlineStyle"},outlineColor:{objectName:"card",propertyName:"outlineColor"},outlineWeight:{objectName:"card",propertyName:"outlineWeight"},barShow:{objectName:"card",propertyName:"barShow"},barColor:{objectName:"card",propertyName:"barColor"},barWeight:{objectName:"card",propertyName:"barWeight"},cardPadding:{objectName:"card",propertyName:"cardPadding"},cardBackground:{objectName:"card",propertyName:"cardBackground"}}}},284524:function(Xe,H,t){t.d(H,{DS:function(){return c},T6:function(){return s},YW:function(){return m},gY:function(){return i},hK:function(){return v},vx:function(){return r}});var e=t(396898),l=t(637916),o=t(635019),d=t(277231);function v(f){return(0,d.uS)(f)&&f.for?h(f.for.in,3):(0,d.Ci)(f)&&f.bind?h(f.bind.to,3):void 0}function S(f){return f&&f.scalarKeyInfo&&f.scalarKeyInfo.hasScalarKey||(0,e.Hx)(f&&f.type)?2:1}function h(f,V){var p=[];if(!f||f.role===l.x.tooltips||_.isEmpty(f.items))return p;for(var C=f.activeItems,b=0,y=f.items;b<y.length;b++){var D=y[b];if(!_.some(C)||_.includes(C,D.queryName)){var P=0;f.role===o.Pn.goal&&(P=6),p.push({selectName:D.queryName,kind:V,roleKind:P})}}return p}function c(f){var C,V=[],p=f.categorical.categories;(0,d.uS)(p)&&p.for&&p.for.in&&(C=S(_.first(p.for.in.items)),V.push.apply(V,h(p.for.in,C)));return V}function r(f){var V=[],p=f.categorical.values;if(p&&p.group){var C=p.group;if(V.push.apply(V,h(C.by,1)),C.select)for(var b=0,y=C.select;b<y.length;b++){var P=v(y[b]);_.isEmpty(P)||V.push.apply(V,P)}}if(p&&p.select)for(var F=0,E=p.select;F<E.length;F++)P=v(E[F]),_.isEmpty(P)||V.push.apply(V,P);return V}function s(f,V){var p=_.first(f.dataViewMappings);if(!p||!p.categorical||!p.categorical.categories)return{subjectKind:V,error:2,bindings:void 0};var C=c(p);return C.push.apply(C,r(p)),_.isEmpty(C)?{subjectKind:V,error:2,bindings:void 0}:{subjectKind:V,error:void 0,bindings:C}}function i(f,V){var p=function(f){for(var V=[],C=[],b=[],y=0,D=f.rows.select;y<D.length;y++){var P=D[y];if((0,d.Ci)(P)&&P.bind&&P.bind.to){var E=S(_.first(P.bind.to.items));b.push.apply(b,h(P.bind.to,E))}else if((0,d.k2)(P)&&P.composite&&P.composite)for(var w=0,x=P.composite;w<x.length;w++){var R=x[w];(0,d.uS)(R)&&R.for&&R.for.in&&(E=S(_.first(R.for.in.items)),C.push.apply(C,h(R.for.in,E)))}}V.push.apply(V,C),V.push.apply(V,b);var g=f.values;if(g&&g.select)for(var L=0,M=g.select;L<M.length;L++){var O=v(M[L]);_.isEmpty(O)||V.push.apply(V,O)}return V}(f);return _.isEmpty(p)?{subjectKind:V,error:2,bindings:void 0}:{subjectKind:V,error:void 0,bindings:p}}function a(f){for(var V=[],p=f.activeItems,C=0,b=f.items;C<b.length;C++){var y=b[C];if(!_.some(p)||_.includes(p,y.queryName)){var D=0;switch(f.role){case"MinValue":D=8;break;case"MaxValue":D=9;break;case"TargetValue":D=6}V.push({selectName:y.queryName,kind:3,roleKind:D})}}return V}function n(f,V){var p=[];if(!f||!V)return p;var C,b=0,y=0;switch(f.role){case"MinValue":V.min&&(C=V.min.toString(),b=4,y=8);break;case"MaxValue":V.max&&(C=V.max.toString(),b=4,y=9);break;case"TargetValue":V.target&&(C=V.target.toString(),b=4,y=6)}return C&&p.push({selectName:C,kind:b,roleKind:y}),p}function m(f){var V=[];if(!f||!f.categorical||!f.categorical.values)return V;var p=f.categorical.values;if(!p||!p.select)return V;for(var C=0,b=p.select;C<b.length;C++){var y=b[C];if((0,d.Ci)(y)&&y.bind){var D=y.bind.to;D&&D.items?V.push.apply(V,a(D)):D&&void 0===D.items&&f.metadata&&f.metadata.objects&&f.metadata.objects.axis&&V.push.apply(V,n(D,f.metadata.objects.axis))}}return V}},187545:function(Xe,H,t){t.d(H,{JT:function(){return y},LU:function(){return M},QP:function(){return O},RI:function(){return p},Uo:function(){return D},a5:function(){return C},h:function(){return F},hx:function(){return V},j0:function(){return N},mr:function(){return b},tP:function(){return P},tp:function(){return f}});var h,c,r,s,u,i,a,n,m,e=t(973188),l=t(572909),o=t(100674),d=t(495570),v=t(320234),S=t(830173),f={fill:S.OV.fill,outline:S.OV.outline,text:v.nm.text,shape:S.OV.shape,layout:{orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"}},shadow:S.OV.shadow,glow:S.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},V=(0,e.__assign)((0,e.__assign)({},f),{pages:{showHiddenPages:{objectName:"pages",propertyName:"showHiddenPages"},showTooltipPages:{objectName:"pages",propertyName:"showTooltipPages"},showByDefault:{objectName:"pages",propertyName:"showByDefault"},showPage:{objectName:"pages",propertyName:"showPage"}}}),p=(0,e.__assign)((0,e.__assign)({},f),{bookmarks:{bookmarkGroup:{objectName:"bookmarks",propertyName:"bookmarkGroup"},allowDeselectionBookmark:{objectName:"bookmarks",propertyName:"allowDeselectionBookmark"},deselectionBookmark:{objectName:"bookmarks",propertyName:"deselectionBookmark"},hideDeselectedBookmark:{objectName:"bookmarks",propertyName:"hideDeselectedBookmark"},selectedBookmark:{objectName:"bookmarks",propertyName:"selectedBookmark"}}}),C={fill:S.eM.fill,outline:S.eM.outline,text:v.Vz.text,shape:S.eM.shape,layout:"layout",shadow:S.eM.shadow,glow:S.eM.glow,rotation:"rotation"},b=(0,e.__assign)((0,e.__assign)({},C),{pages:"pages"}),y=(0,e.__assign)((0,e.__assign)({},C),{bookmarks:"bookmarks"}),D=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},S.Mn),v.WI),{orientation:"orientation",rowCount:"rowCount",columnCount:"columnCount",cellPadding:"cellPadding",rotation:"angle"}),P=(0,e.__assign)((0,e.__assign)({},D),{showHiddenPages:"showHiddenPages",showTooltipPages:"showTooltipPages",showByDefault:"showByDefault",showPage:"showPage"}),F=(0,e.__assign)((0,e.__assign)({},D),{bookmarkGroup:"bookmarkGroup",allowDeselectionBookmark:"allowDeselectionBookmark",deselectionBookmark:"deselectionBookmark",hideDeselectedBookmark:"hideDeselectedBookmark",selectedBookmark:"selectedBookmark"}),E=((h={show:d.iD.show})[S.Mn.fillColor]=d.iD.fill,h[S.Mn.fillTransparency]=d.iD.transparency,h),w=((c={show:d.iD.show})[v.WI.fontColor]=d.iD.fontColor,c[v.WI.fontSize]=d.iD.fontSize,c[v.WI.fontFamily]=d.iD.fontFamily,c[v.WI.underline]=d.iD.underline,c[v.WI.italic]=d.iD.italic,c[v.WI.bold]=d.iD.bold,c[v.WI.textVerticalAlignment]={displayName:(0,l.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},c[v.WI.textHorizontalAlignment]={displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},c[v.WI.textLeftMargin]={displayName:(0,l.V)("Visual_Margin_Left"),type:{integer:!0}},c[v.WI.textRightMargin]={displayName:(0,l.V)("Visual_Margin_Right"),type:{integer:!0}},c[v.WI.textTopMargin]={displayName:(0,l.V)("Visual_Margin_Top"),type:{integer:!0}},c[v.WI.textBottomMargin]={displayName:(0,l.V)("Visual_Margin_Bottom"),type:{integer:!0}},c),x=((r={})[D.orientation]={displayName:(0,l.V)("Slicer_Orientation"),type:{enumeration:o.d}},r[D.rowCount]={displayName:(0,l.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},r[D.columnCount]={displayName:(0,l.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},r[D.cellPadding]={displayName:(0,l.V)("Visual_Padding"),type:{integer:!0}},r),R=((s={})[D.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},s[D.shapeRotation]={displayName:(0,l.V)("Visual_ShapeRotation"),type:{integer:!0}},s[D.textRotation]={displayName:(0,l.V)("Visual_TextRotation"),type:{integer:!0}},s),g=((u={})[P.showHiddenPages]={displayName:(0,l.V)("Visual_Navigator_ShowHiddenPages"),type:{bool:!0}},u[P.showTooltipPages]={displayName:(0,l.V)("Visual_Navigator_ShowTooltipPages"),type:{bool:!0}},u[P.showByDefault]={displayName:(0,l.V)("Visual_Navigator_ShowByDefault"),type:{bool:!0}},u[P.showPage]={displayName:(0,l.V)("Show"),type:{bool:!0},suppressFormatPainterCopy:!0},u),L=((i={})[F.bookmarkGroup]={displayName:(0,l.V)("Generic_Bookmark"),type:{reference:{bookmarkGroup:!0}}},i[F.allowDeselectionBookmark]={displayName:(0,l.V)("Visual_AllowDeselection"),description:(0,l.V)("Visual_AllowDeselection_Description"),type:{bool:!0}},i[F.deselectionBookmark]={displayName:(0,l.V)("Visual_LaunchOnDeselection"),description:(0,l.V)("Visual_LaunchOnDeselection_Description"),type:{reference:{bookmark:!0}}},i[F.hideDeselectedBookmark]={displayName:(0,l.V)("Visual_HideDeselectionBookmark"),description:(0,l.V)("Visual_HideDeselectionBookmark_Description"),type:{bool:!0}},i[F.selectedBookmark]={type:{text:!0}},i),M={default:"default",hover:"hover",press:"press",selected:"selected"},T=((a={})[C.fill]={displayName:(0,l.V)("Visual_Fill"),properties:E},a[C.outline]=S.zC.outline,a[C.text]={displayName:(0,l.V)("Text"),properties:w},a[C.shape]=S.zC.shape,a[C.layout]={displayName:(0,l.V)("Small_Multiples_Layout"),properties:x},a[C.shadow]=S.zC.shadow,a[C.glow]=S.zC.glow,a[C.rotation]={displayName:(0,l.V)("Visual_BasicShape_Rotate"),properties:R},a),O={objects:(0,e.__assign)((0,e.__assign)({},T),(n={},n[b.pages]={displayName:(0,l.V)("Pages"),properties:g},n)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0},N={objects:(0,e.__assign)((0,e.__assign)({},T),(m={},m[y.bookmarks]={displayName:(0,l.V)("ExplorationBookmarksPane_Title"),properties:L},m)),suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsKeyboardFocus:!0}},784970:function(Xe,H,t){t.d(H,{R:function(){return s},t:function(){return u}});var e=t(406057),l=t(273269),o=t(572909),d=t(293876),v=t(876809),S=t(319113),h=t(434906),c=t(495570),r=t(586245);function s(i){return{dataRoles:[{name:r.r.rows,kind:l.DW.Grouping,displayName:(0,o.V)("Role_DisplayName_Rows"),description:(0,o.V)("Role_DisplayName_RowsDescription")},{name:r.r.columns,kind:l.DW.Grouping,displayName:(0,o.V)("Role_DisplayName_Columns"),description:(0,o.V)("Role_DisplayName_ColumnsDescription")},{name:r.r.values,kind:l.DW.Measure,displayName:(0,o.V)("Role_DisplayName_Values"),supportsSparklines:!0}],objects:{general:{displayName:(0,o.V)("Visual_General"),properties:{formatString:c.iD.formatString}},grid:{displayName:(0,o.V)("Visual_Grid"),properties:{outline:c.iD.outline,outlineStyle:c.iD.outlineStyle,outlineColor:c.iD.outlineColor,outlineWeight:c.iD.outlineWeight,gridVertical:{displayName:(0,o.V)("Visual_GridVertical"),description:(0,o.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,o.V)("Visual_GridVertical_Color"),description:(0,o.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,o.V)("Visual_GridVertical_Weight"),description:(0,o.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,o.V)("Visual_GridHorizontal"),description:(0,o.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,o.V)("Visual_GridHorizontal_Color"),description:(0,o.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,o.V)("Visual_GridHorizontal_Weight"),description:(0,o.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,o.V)("Visual_RowPadding"),description:(0,o.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,o.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,o.V)("Visual_General_Properties_Height"),description:(0,o.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,o.V)("Visual_General_Properties_Width"),description:(0,o.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,o.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:c.iD.outline,outlineStyle:c.iD.outlineStyle,outlineColor:c.iD.outlineColor,outlineWeight:c.iD.outlineWeight,fontColor:c.iD.tablixFontColor,fontFamily:c.iD.fontFamily,fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,backColor:c.iD.backColor,alignment:c.iD.textAlignment,titleAlignment:{displayName:(0,o.V)("Visual_TextAlignment_Title"),type:{enumeration:h.dt}},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,o.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},urlIcon:{displayName:(0,o.V)("Visual_Tablix_UrlIcon"),description:(0,o.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.iD.wordWrap}},rowHeaders:{displayName:(0,o.V)("Visual_Tablix_RowHeaders"),properties:{unfrozen:{type:{bool:!0},transient:!0},outline:c.iD.outline,outlineStyle:c.iD.outlineStyle,outlineColor:c.iD.outlineColor,outlineWeight:c.iD.outlineWeight,fontColor:c.iD.tablixFontColor,fontFamily:c.iD.fontFamily,fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,backColor:c.iD.backColor,alignment:c.iD.textAlignment,stepped:{displayName:(0,o.V)("Visual_PivotTable_SteppedLayout"),description:(0,o.V)("Visual_PivotTable_SteppedLayout_Description"),type:{bool:!0}},steppedLayoutIndentation:{displayName:(0,o.V)("Visual_PivotTable_SteppedLayoutIndentation"),description:(0,o.V)("Visual_PivotTable_SteppedLayoutIndentation_Description"),type:{numeric:!0}},urlIcon:{displayName:(0,o.V)("Visual_Tablix_UrlIcon"),description:(0,o.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.iD.wordWrap,showExpandCollapseButtons:{displayName:(0,o.V)("Visual_PivotTable_ExpandCollapseButtons_Toggle"),type:{bool:!0}},expandCollapseButtonsColor:{displayName:(0,o.V)("Visual_PivotTable_ExpandCollapseButtons_Color"),type:{fill:{solid:{color:!0}}}},expandCollapseButtonsSize:{displayName:(0,o.V)("Visual_PivotTable_ExpandCollapseButtons_Size"),type:{formatting:{fontSize:!0}}},expandCompositeHierarchy:{type:{bool:!0}}}},values:{displayName:(0,o.V)("Visual_Tablix_Values"),properties:{outline:c.iD.outline,outlineStyle:c.iD.outlineStyle,outlineColor:c.iD.outlineColor,outlineWeight:c.iD.outlineWeight,backColor:{displayName:(0,o.V)("Background_Color"),description:(0,o.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,o.V)("Visual_FontColor"),description:(0,o.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:c.iD.fontFamily,fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,fontColorPrimary:{displayName:(0,o.V)("Visual_FontColor"),description:(0,o.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,o.V)("Background_Color"),description:(0,o.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,o.V)("Visual_Tablix_FontColorSecondary"),description:(0,o.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,o.V)("Visual_Tablix_BackColorSecondary"),description:(0,o.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},bandedRowHeaders:{displayName:(0,o.V)("Visual_PivotTable_ValuesBandedRowHeaders"),description:(0,o.V)("Visual_PivotTable_ValuesBandedRowHeaders_Description"),type:{bool:!0}},urlIcon:{displayName:(0,o.V)("Visual_Tablix_UrlIcon"),description:(0,o.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:c.iD.wordWrap,valuesOnRow:{displayName:(0,o.V)("Visual_PivotTable_ValuesOnRow"),description:(0,o.V)("Visual_PivotTable_ValuesOnRow_Description"),type:{bool:!0}},icon:{displayName:(0,o.V)("Visual_Tablix_Icons"),description:(0,o.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,o.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},subTotals:{displayName:(0,o.V)("Visual_Tablix_TotalSub"),properties:{outline:c.iD.outline,fontColor:c.iD.tablixFontColor,fontFamily:c.iD.fontFamily,fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,backColor:c.iD.backColor,rowSubtotals:{type:{bool:!0},displayName:(0,o.V)("Visual_SubtotalRow"),description:(0,o.V)("Visual_SubtotalRow_Desc"),suppressFormatPainterCopy:!0},rowSubtotalsLabel:{type:{text:!0},displayName:(0,o.V)("Visual_PivotTable_TotalLabel_RowSubtotals"),suppressFormatPainterCopy:!0},rowSubtotalsPosition:{displayName:(0,o.V)("Visual_SubtotalRow_Position"),type:{enumeration:d.dt},suppressFormatPainterCopy:!0},perRowLevel:{displayName:(0,o.V)("Visual_SubtotalRow_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},columnSubtotals:{type:{bool:!0},displayName:(0,o.V)("Visual_SubtotalColumn"),description:(0,o.V)("Visual_SubtotalColumn_Desc"),suppressFormatPainterCopy:!0},columnSubtotalsLabel:{type:{text:!0},displayName:(0,o.V)("Visual_PivotTable_TotalLabel_ColumnSubtotals"),suppressFormatPainterCopy:!0},perColumnLevel:{displayName:(0,o.V)("Visual_SubtotalColumn_PerLevel"),type:{bool:!0},suppressFormatPainterCopy:!0},applyToHeaders:{displayName:(0,o.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}},levelSubtotalEnabled:{type:{bool:!0}},levelSubtotalLabel:{type:{text:!0},suppressFormatPainterCopy:!0}}},total:{displayName:(0,o.V)("Visual_Tablix_Matrix_TotalGrand"),properties:{outline:c.iD.outline,fontColor:c.iD.tablixFontColor,fontFamily:c.iD.fontFamily,fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,backColor:c.iD.backColor,applyToHeaders:{displayName:(0,o.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},rowTotal:{displayName:(0,o.V)("Visual_Tablix_Matrix_Row_TotalGrand"),properties:{fontColor:c.iD.tablixFontColor,fontFamily:c.iD.fontFamily,fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,backColor:c.iD.backColor,applyToHeaders:{displayName:(0,o.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnTotal:{displayName:(0,o.V)("Visual_Tablix_Matrix_Column_TotalGrand"),properties:{fontColor:c.iD.tablixFontColor,fontFamily:c.iD.fontFamily,fontSize:c.iD.fontSize,bold:c.iD.bold,italic:c.iD.italic,underline:c.iD.underline,backColor:c.iD.backColor,applyToHeaders:{displayName:(0,o.V)("Visual_Tablix_ApplyToHeaders"),type:{bool:!0}}}},columnFormatting:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,o.V)("Visual_DisplayUnits"),description:(0,o.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:c.iD.labelPrecision,fontColor:c.iD.tablixFontColor,backColor:c.iD.backColor,alignment:c.iD.textAlignment,styleHeader:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleSubtotals:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting_ColorSubTotals"),type:{bool:!0}},styleTotal:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,o.V)("Visual_ConditionalFormatting_DataBars"),description:(0,o.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},sparklines:{displayName:(0,o.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,o.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:v.dt}},dataColor:{displayName:(0,o.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:c.iD.strokeWidth,markers:{displayName:(0,o.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:S.dt}},markerColor:c.iD.markerColor,markerSize:{displayName:(0,o.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:c.iD.markerShape}},accessibility:{displayName:(0,o.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,o.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}}}}},dataViewMappings:[{conditions:[{Rows:{max:0},Columns:{max:0},Values:{min:1}},{Rows:{min:1},Columns:{min:0},Values:{min:0}},{Rows:{min:0},Columns:{min:1},Values:{min:0}}],matrix:{rows:{for:{in:"Rows"},dataReductionAlgorithm:{window:{count:500}}},columns:{for:{in:"Columns"},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:"Values"}}}}],dataRoleTotals:[{roles:[r.r.columns],displayName:(0,o.V)("DisplayName_QuickCalc_PercentOfColumnTotal"),shortDisplayName:(0,o.V)("DisplayName_QuickCalc_PercentOfColumnTotalShort"),tooltip:(0,o.V)("DisplayName_QuickCalc_PercentOfColumnTotalTooltip")},{roles:[r.r.rows],displayName:(0,o.V)("DisplayName_QuickCalc_PercentOfRowTotal"),shortDisplayName:(0,o.V)("DisplayName_QuickCalc_PercentOfRowTotalShort"),tooltip:(0,o.V)("DisplayName_QuickCalc_PercentOfRowTotalTooltip")}],filterMappings:{measureFilter:{targetRoles:[r.r.rows]}},sorting:{default:{},custom:{}},drilldown:{roles:[r.r.rows,r.r.columns]},expandCollapse:{roles:[r.r.rows],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==i||!i.fieldParameterDynamicSlicer)},suppressDefaultTitle:!0,supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}var u=(0,e.wZ)(s().objects)},277231:function(Xe,H,t){t.d(H,{Bx:function(){return s},Ci:function(){return v},_F:function(){return u},k2:function(){return h},pn:function(){return i},uS:function(){return S},vR:function(){return c}});var e=t(225069),l=t(470081),o=t(262351),d=t(876809);function v(a){return a&&!!a.bind}function S(a){return a&&!!a.for}function h(a){return a&&!!a}function c(a,n){var m=a.metadata.objects;if(!m||!m.valueAxis||!1!==m.valueAxis.sharedAxis||!0!==m.valueAxis.scaleToFit){var f=a.matrix,V=r(f.values.select,n),p=f.rows.values;_.isEmpty(p)||V.push.apply(V,r(p.select,n)),s(V,{min:!0,max:!0})}}function r(a,n){return a.filter(function(m){if(!S(m))return!1;var f=m.for.in.role;return _.some(n,function(V){return V===f})})}function s(a,n){for(var m=0,f=a;m<f.length;m++){var C=(0,e.eD)(f[m]).items;if(!_.isEmpty(C))for(var b=0,y=C;b<y.length;b++){var D=y[b];D.hidden||(D.aggregates=D.aggregates||[]).push(n)}}}function u(a){var n=a.matrix.rows.select[0].dataReductionAlgorithm;if(n.window){var m=a.metadata&&a.metadata.objects,f=m&&m[o.Xi];f&&(n.window.count=(0,o.r8)(f.rowCount||o.UE,f.columnCount||o.ZO))}}function i(a,n){var m=_.filter(a.metadata.columns,function(f){var V,p,C,b=null===(C=null===(p=null===(V=f.type)||void 0===V?void 0:V.misc)||void 0===p?void 0:p.sparkline)||void 0===C?void 0:C.groupingType;if(!b)return!1;var y=b.temporal||b.dateTime||b.numeric,D=(0,l.NA)(f.objects,{objectName:"sparklines",propertyName:"chartType"},void 0);return y&&D===d.$Q});_.forEach(m,function(f){var V=_.find(n,function(p){return f.queryName===p.queryName});V&&(V.sparklineInfo={includeMinGroupingInterval:!0})})}},64716:function(Xe,H,t){t.d(H,{Fp:function(){return v},OF:function(){return S}});var e=t(406057),l=t(572909),o=t(495570),d={inputBox:{displayName:(0,l.V)("Visual_Qna_QuestionBox"),properties:{background:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Qna_QuestionBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontColor:{displayName:(0,l.V)("Visual_Qna_QuestionFontColor"),description:(0,l.V)("Visual_Qna_QuestionFontColorDescription"),type:{fill:{solid:{color:!0}}}},questionFontSize:{displayName:(0,l.V)("Visual_Qna_QuestionFontSize"),description:(0,l.V)("Visual_Qna_QuestionFontSizeDescription"),type:{formatting:{fontSize:!0}}},questionBold:o.iD.bold,questionItalic:o.iD.italic,questionUnderline:o.iD.underline,questionFontFamily:{displayName:(0,l.V)("Visual_Qna_QuestionFontFamily"),description:(0,l.V)("Visual_Qna_QuestionFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},hoverColor:{displayName:(0,l.V)("Visual_Qna_HoverColor"),description:(0,l.V)("Visual_Qna_HoverColorDescription"),type:{fill:{solid:{color:!0}}}},acceptedColor:{displayName:(0,l.V)("Visual_Qna_AcceptedUnderlineColor"),description:(0,l.V)("Visual_Qna_AcceptedUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},errorColor:{displayName:(0,l.V)("Visual_Qna_ErrorUnderlineColor"),description:(0,l.V)("Visual_Qna_ErrorUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},warningColor:{displayName:(0,l.V)("Visual_Qna_WarningUnderlineColor"),description:(0,l.V)("Visual_Qna_WarningUnderlineColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontColor:{displayName:(0,l.V)("Visual_Qna_RestatementFontColor"),description:(0,l.V)("Visual_Qna_RestatementFontColorDescription"),type:{fill:{solid:{color:!0}}}},restatementFontSize:{displayName:(0,l.V)("Visual_Qna_RestatementFontSize"),description:(0,l.V)("Visual_Qna_RestatementFontSizeDescription"),type:{formatting:{fontSize:!0}}},restatementFontFamily:{displayName:(0,l.V)("Visual_Qna_RestatementFontFamily"),description:(0,l.V)("Visual_Qna_RestatementFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},commitButtonBackgroundColor:{displayName:(0,l.V)("Visual_Qna_CommitButtonBackgroundColor"),description:(0,l.V)("Visual_Qna_CommitButtonBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}}}},suggestions:{displayName:(0,l.V)("Visual_Qna_Suggestions"),properties:{show:o.iD.show,headerFontColor:{displayName:(0,l.V)("Visual_Qna_HeaderFontColor"),description:(0,l.V)("Visual_Qna_HeaderFontColorDescription"),type:{fill:{solid:{color:!0}}}},headerFontSize:{displayName:(0,l.V)("Visual_Qna_HeaderFontSize"),description:(0,l.V)("Visual_Qna_HeaderFontSizeDescription"),type:{formatting:{fontSize:!0}}},headerBold:o.iD.bold,headerItalic:o.iD.italic,headerUnderline:o.iD.underline,headerFontFamily:{displayName:(0,l.V)("Visual_Qna_HeaderFontFamily"),description:(0,l.V)("Visual_Qna_HeaderFontFamilyDescription"),type:{formatting:{fontFamily:!0}}},cardBackground:{displayName:(0,l.V)("Visual_Qna_CardBackgroundColor"),description:(0,l.V)("Visual_Qna_CardBackgroundColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontColor:{displayName:(0,l.V)("Visual_Qna_CardFontColor"),description:(0,l.V)("Visual_Qna_CardFontColorDescription"),type:{fill:{solid:{color:!0}}}},cardFontSize:{displayName:(0,l.V)("Visual_Qna_CardFontSize"),description:(0,l.V)("Visual_Qna_CardFontSizeDescription"),type:{formatting:{fontSize:!0}}},cardBold:o.iD.bold,cardItalic:o.iD.italic,cardUnderline:o.iD.underline,cardFontFamily:{displayName:(0,l.V)("Visual_Qna_CardFontFamily"),description:(0,l.V)("Visual_Qna_CardFontFamilyDescription"),type:{formatting:{fontFamily:!0}}}}},hiddenProperties:{properties:{savedUtterance:{type:{text:!0},captureState:!0,suppressFormatPainterCopy:!0}}}},v=(0,e.wZ)(d),S={objects:d,suppressDefaultTitle:!0,supportsKeyboardFocus:!0,supportsHighlight:!0,isConvertible:!0,tooltips:{supportEnhancedTooltips:!1},suppressVisualCalc:!0}},839378:function(Xe,H,t){t.d(H,{Cg:function(){return h},eH:function(){return c}});var e=t(273269),l=t(572909),o=t(588376),d=t(495570),v=t(406057),S=(0,o.i)([{value:0,displayName:(0,l.V)("Top")},{value:1,displayName:(0,l.V)("Bottom")}]),h={advancedEditModeSupport:2,objects:{toolbar:{displayName:(0,l.V)("RdlVisual_Capabilities_Toolbar"),properties:{show:d.iD.show,pageNavigation:{displayName:(0,l.V)("PageNavigation"),type:{bool:!0}},paramButton:{displayName:(0,l.V)("Parameters"),type:{bool:!0}},openReportButton:{displayName:(0,l.V)("OpenReport"),type:{bool:!0}},useFloatingToolbar:{displayName:(0,l.V)("RdlVisual_Capabilities_Floating"),type:{bool:!0}},position:{displayName:(0,l.V)("RdlVisual_Capabilities_ToolbarPosition"),type:{enumeration:S}}}},export:{displayName:(0,l.V)("Export"),properties:{show:d.iD.show,exportExcel:{displayName:(0,l.V)("RenderFormat_EXCELOPENXML"),type:{bool:!0}},exportPDF:{displayName:(0,l.V)("RenderFormat_PDF"),type:{bool:!0}},exportAccessiblePDF:{displayName:(0,l.V)("RenderFormat_ACCESSIBLEPDF"),type:{bool:!0}},exportCSV:{displayName:(0,l.V)("RenderFormat_CSV"),type:{bool:!0}},exportPPTX:{displayName:(0,l.V)("RenderFormat_PPTX"),type:{bool:!0}},exportWord:{displayName:(0,l.V)("RenderFormat_WORDOPENXML"),type:{bool:!0}},exportMHTML:{displayName:(0,l.V)("RenderFormat_MHTML"),type:{bool:!0}},exportXML:{displayName:(0,l.V)("RenderFormat_XML"),type:{bool:!0}}}},autoFilter:{displayName:(0,l.V)("RdlVisual_Capabilities_AutoFilter"),properties:{show:d.iD.show}},reportInfo:{suppressFormatPainterCopy:!0,properties:{reportId:{type:{text:!0}},workspaceId:{type:{text:!0}},reference:{type:{itemLocation:{}}}}},parameterMapping:{properties:{mappings:{type:{text:!0}}}}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,blockExportData:!0,dataRoles:[{name:"parameterValues",kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)("Parameters"),description:(0,l.V)("RdlVisual_Capabilities_Parameters_Description")}],dataViewMappings:[{conditions:[{parameterValues:{min:0}}],table:{rows:{for:{in:"parameterValues"},dataReductionAlgorithm:{top:{count:3e4}}}}}]},c=(0,v.wZ)(h.objects)},709787:function(Xe,H,t){t.d(H,{CS:function(){return a},TL:function(){return c},il:function(){return n},r4:function(){return r}});var e=t(973188),l=t(498342),o=t(406057),d=t(273269),v=t(572909),S=t(833126),h=t(495570),c={category:"Category",series:"Series",x:"X",y:"Y",size:"Size",gradient:"Gradient",play:"Play",tooltips:"Tooltips"};function r(m){return{dataRoles:s(m&&m.cartesianConditionalFormatting,m&&m.useModernFormatPane),objects:i,dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:d.DW.Measure},Y:{max:1,kind:d.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:d.DW.Measure},Y:{max:1,kind:d.DW.Measure},Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}]},dataVolume:4}},{conditions:[{Category:{max:1},Series:{max:1},X:{max:1,kind:d.DW.Measure},Y:{max:1,kind:d.DW.Measure},Size:{max:1},Gradient:{max:0},Play:{min:1,max:1}}],matrix:{rows:{select:[{bind:{to:"Play"}},{bind:{to:"Category"}}],dataReductionAlgorithm:{bottom:{count:5e3}}},columns:{for:{in:"Series"},dataReductionAlgorithm:{top:{count:60}}},values:{select:[{bind:{to:"X"}},{bind:{to:"Y"}},{bind:{to:"Size"}},{for:{in:"Tooltips"}}]}}},u(!0,!0,!1),u(!0,!1,!0),u(!1,!0,!1),{conditions:[{Category:{max:0},Series:{max:1},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:{max:1},Y:{max:1},Size:{max:0},Gradient:{max:1},Play:{max:0}},{Category:{max:1},Series:{max:1},X:{max:1,kind:d.DW.Measure},Y:{max:1,kind:d.DW.Measure},Size:{max:0},Gradient:{max:0},Play:{max:0}},{Category:{max:1},Series:{max:0},X:{max:1,kind:d.DW.Measure},Y:{max:1,kind:d.DW.Measure},Size:{max:0},Gradient:{max:1},Play:{max:0}}],requiredProperties:[{objectName:"trend",propertyName:"show"}],usage:{regression:{combineSeries:{objectName:"trend",propertyName:"combineSeries"}}},matrix:{rows:{select:[{bind:{to:"regression.Series"}},{bind:{to:"regression.X"}}],dataReductionAlgorithm:{sample:{}}},values:{select:[{for:{in:"regression.Y"}}]},dataVolume:4}}],sorting:{default:{},custom:{},implicit:{clauses:[{role:"Play",direction:1}]}},drilldown:{roles:[c.category,c.x]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1},{condition:{Category:{min:1,max:1},X:{max:1},Y:{max:1},Play:{max:1}},groupingTargetRole:"Series",kind:0},{condition:{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Gradient:{max:1},Play:{max:1}},groupingTargetRole:"Category",kind:1}],cluster:{clusteringRole:"Series",conditions:[{Category:{min:1,max:1},X:{min:1,max:1},Y:{min:1,max:1},Series:{max:0},Size:{max:1},Gradient:{max:0},Play:{max:0}}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsOnObjectFormatting:!0,suppressVisualCalc:!0}}function s(m,f){var V=[{name:c.category,kind:d.DW.Grouping,displayName:(0,v.V)(f?"Role_DisplayName_Values":"Details"),displayOrder:1,description:(0,v.V)("Role_DisplayName_DetailsScatterChartDescription")},{name:c.series,kind:d.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_Legend"),displayOrder:f?4:2,description:(0,v.V)("Role_DisplayName_LegendDescription")},{name:c.x,kind:d.DW.GroupingOrMeasure,displayName:(0,v.V)("Role_DisplayName_X"),displayOrder:f?2:3,description:(0,v.V)("Role_DisplayName_XScatterChartDescription"),requiredTypes:void 0,cartesianKind:0},{name:c.y,kind:d.DW.GroupingOrMeasure,displayName:(0,v.V)("Role_DisplayName_Y"),displayOrder:f?3:4,description:(0,v.V)("Role_DisplayName_YScatterChartDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1},{name:c.size,kind:d.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Size"),displayOrder:5,description:(0,v.V)("Role_DisplayName_SizeDescription_Bubble"),requiredTypes:[{numeric:!0},{integer:!0}]}];return m||V.push({name:c.gradient,kind:d.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Gradient"),displayOrder:6,description:(0,v.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),V.push({name:c.play,kind:d.DW.Grouping,displayName:(0,v.V)("Role_DisplayName_Play"),displayOrder:7}),V.push({name:c.tooltips,kind:d.DW.Measure,displayName:(0,v.V)("Role_DisplayName_Tooltips"),displayOrder:8,description:(0,v.V)("Role_Tooltips_Description"),joinPredicate:0}),V}function u(m,f,V){l.fF.assert(function(){return m||f},"At least one of groupedX or groupedY must be true");var p={min:1,max:1,kind:d.DW.Grouping};V&&(p={min:1,kind:d.DW.Grouping});var b={max:1,kind:d.DW.Measure},y=m?p:b,D=f?{min:1,max:1,kind:d.DW.Grouping}:b,P={bind:{to:"X"}},E={bind:{to:"Y"}},w=[],x=[];m?w.push(V?{for:{in:"X"}}:P):x.push(P),f?w.push(E):x.push(E);var R,g=w.length;return g>=2||1===g&&m&&V?R={composite:w}:1===g&&(R=w[0]),{conditions:[{Category:{max:0},Series:{max:1},X:y,Y:D,Size:{max:1},Gradient:{max:0},Play:{max:0}},{Category:{max:0},Series:{max:0},X:y,Y:D,Size:{max:1},Gradient:{max:1},Play:{max:0}}],matrix:{rows:{select:[{bind:{to:"Series"}},R],dataReductionAlgorithm:{overlappingPointsSample:{}}},values:{select:(0,e.__spreadArray)((0,e.__spreadArray)([],x||[],!0),[{bind:{to:"Size"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],!1)},dataVolume:4}}}var i={general:{displayName:(0,v.V)("Visual_General"),properties:{formatString:h.iD.formatString,responsive:h.iD.responsive,responsiveLegacy:h.iD.responsiveLegacy,dataVolume:{displayName:(0,v.V)("Visual_DataVolume"),description:(0,v.V)("Visual_DataVolumeDescription"),type:{integer:!0}}}},legend:{displayName:h.TQ.legend.displayName,description:h.TQ.legend.description,properties:(0,e.__assign)((0,e.__assign)({},h.TQ.legend.properties),{showGradientLegend:h.iD.showGradientLegend})},categoryAxis:{displayName:(0,v.V)("Visual_XAxis"),properties:{show:h.iD.show,start:h.iD.axisStart,end:h.iD.axisEnd,invertAxis:h.iD.invertAxis,axisType:h.iD.axisType,showAxisTitle:h.iD.showAxisTitle_X,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision,logAxisScale:h.iD.logAxisScale,preferredCategoryWidth:h.iD.preferredCategoryWidth,maxMarginFactor:h.iD.maxMarginFactor,treatNullsAsZero:{displayName:(0,v.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,v.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},h.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:h.iD.lineColor,gridlineThickness:h.iD.strokeWidth,gridlineStyle:h.iD.lineStyle,innerPadding:h.iD.innerPadding}},valueAxis:{displayName:(0,v.V)("Visual_YAxis"),properties:{show:h.iD.show,start:h.iD.axisStart,end:h.iD.axisEnd,invertAxis:h.iD.invertAxis,treatNullsAsZero:{displayName:(0,v.V)("Visual_Scatter_TreatNullsAsZero"),description:(0,v.V)("Visual_Scatter_TreatNullsAsZeroDescription"),type:{bool:!0}},showAxisTitle:h.iD.showAxisTitle_Y,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision,logAxisScale:h.iD.logAxisScale,titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},h.iD.show),{displayName:(0,v.V)("Visual_Gridline_Show")}),gridlineColor:h.iD.lineColor,gridlineThickness:h.iD.strokeWidth,gridlineStyle:h.iD.lineStyle,switchAxisPosition:h.iD.switchAxisPosition}},zoom:h.TQ.zoom,dataPoint:{displayName:(0,v.V)("Visual_DataPoint"),description:(0,v.V)("Visual_DataPointDescription"),properties:{defaultColor:h.iD.defaultColor,showAllDataPoints:h.iD.showAllDataPoints,fill:h.iD.defaultCategoryColor,fillRule:{displayName:(0,v.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Category","X","Y"]}}}}},bubbles:{displayName:(0,v.V)("Visual_Shapes"),description:(0,v.V)("Visual_ShapesDescription"),properties:{bubbleSize:{displayName:(0,v.V)("Visual_BubbleSize"),type:{integer:!0}},markerRangeType:{displayName:(0,v.V)("Visual_MarkerRangeType"),type:{enumeration:S.zo}},markerShape:h.iD.markerShape,showSeries:{displayName:(0,v.V)("Visual_LabelSeriesShowAll"),type:{bool:!0}}}},plotArea:{displayName:(0,v.V)("Visual_Plot"),properties:{transparency:h.iD.transparency,image:h.iD.image}},categoryLabels:{displayName:(0,v.V)("Visual_CategoryLabels"),description:(0,v.V)("Visual_CategoryLabelsDescription"),properties:{show:h.iD.show,color:h.iD.categoryColor,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},trend:{displayName:(0,v.V)("Visual_Trend_Line"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.trendlineDisplayName,lineColor:h.iD.trendlineColor,transparency:h.iD.trendlineTransparency,style:h.iD.trendlineStyle,combineSeries:h.iD.trendlineCombineSeries}},xAxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_X"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},y1AxisReferenceLine:{displayName:(0,v.V)("Visual_Reference_Line_Y"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},referenceLine:{displayName:(0,v.V)("Visual_Reference_Line"),description:(0,v.V)("Visual_Reference_Line_Description"),objectCategory:2,suppressFormatPainterCopy:!0,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},colorBorder:{displayName:(0,v.V)("Visual_ColorBorder"),properties:{show:h.iD.show}},fillPoint:{displayName:(0,v.V)("Visual_FillPoint"),properties:{style:h.iD.fillPointStyle}},colorByCategory:{displayName:(0,v.V)("Visual_ColorByCategory"),properties:{show:h.iD.show}},currentFrameIndex:{properties:{index:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},plotAreaShading:{displayName:(0,v.V)("Visual_Scatter_SymmetryShading"),description:(0,v.V)("Visual_Scatter_SymmetryShadingDescription"),objectCategory:2,properties:{show:h.iD.show,displayName:{displayName:(0,v.V)("Name"),type:{text:!0}},upperShadingColor:{displayName:(0,v.V)("Visual_Scatter_SymmetryShadingUpper"),description:(0,v.V)("Visual_Scatter_SymmetryShadingUpperDescription"),type:{fill:{solid:{color:!0}}}},lowerShadingColor:{displayName:(0,v.V)("Visual_Scatter_SymmetryShadingLower"),description:(0,v.V)("Visual_Scatter_SymmetryShadingLowerDescription"),type:{fill:{solid:{color:!0}}}},transparency:h.iD.transparency}},ratioLine:{displayName:(0,v.V)("Visual_Scatter_RatioLine"),description:(0,v.V)("Visual_Scatter_RatioLineDescription"),objectCategory:2,properties:{show:h.iD.show,displayName:{displayName:(0,v.V)("Name"),type:{text:!0}},lineColor:h.iD.referenceLineColor,transparency:h.iD.lineTransparency,style:h.iD.lineStyle}}},a=(0,o.wZ)(i),n={general:{formatString:{objectName:"general",propertyName:"formatString"},dataVolume:{objectName:"general",propertyName:"dataVolume"}},dataPoint:{defaultColor:{objectName:"dataPoint",propertyName:"defaultColor"},fill:{objectName:"dataPoint",propertyName:"fill"}},bubbles:{bubbleSize:{objectName:"bubbles",propertyName:"bubbleSize"},markerRangeType:{objectName:"bubbles",propertyName:"markerRangeType"},markerShape:{objectName:"bubbles",propertyName:"markerShape"},showSeries:{objectName:"bubbles",propertyName:"showSeries"}},trend:{show:{objectName:"trend",propertyName:"show"}},colorBorder:{show:{objectName:"colorBorder",propertyName:"show"}},fillPoint:{style:{objectName:"fillPoint",propertyName:"style"}},colorByCategory:{show:{objectName:"colorByCategory",propertyName:"show"}},currentFrameIndex:{index:{objectName:"currentFrameIndex",propertyName:"index"}},legend:{labelColor:{objectName:"legend",propertyName:"labelColor"}},plotArea:{image:{objectName:"plotArea",propertyName:"image"},transparency:{objectName:"plotArea",propertyName:"transparency"}},plotAreaShading:{show:{objectName:"plotAreaShading",propertyName:"show"},upperShadingColor:{objectName:"plotAreaShading",propertyName:"upperShadingColor"},lowerShadingColor:{objectName:"plotAreaShading",propertyName:"lowerShadingColor"},transparency:{objectName:"plotAreaShading",propertyName:"transparency"}},ratioLine:{show:{objectName:"ratioLine",propertyName:"show"},lineColor:{objectName:"ratioLine",propertyName:"lineColor"},transparency:{objectName:"ratioLine",propertyName:"transparency"},style:{objectName:"ratioLine",propertyName:"style"}},categoryAxis:{treatNullsAsZero:{objectName:"categoryAxis",propertyName:"treatNullsAsZero"}},valueAxis:{treatNullsAsZero:{objectName:"valueAxis",propertyName:"treatNullsAsZero"}}}},234681:function(Xe,H,t){t.d(H,{A:function(){return S},b:function(){return v}});var e=t(406057),l=t(572909),o=t(588376),d=t(495570),v={dataViewMappings:[],objects:{scorecard:{displayName:(0,l.V)("Scorecard"),properties:{scorecardId:{type:{text:!0},displayName:(0,l.V)("ContentHeader_URL"),suppressFormatPainterCopy:!0},scorecardReference:{type:{itemLocation:{}},suppressFormatPainterCopy:!0},goalIds:{displayName:(0,l.V)("Metrics"),type:{text:!0},suppressFormatPainterCopy:!0},displayMode:{displayName:(0,l.V)("ExplorationBookmarks_Display"),type:{enumeration:(0,o.i)([{displayName:(0,l.V)("Tile_Generic"),value:"tile"},{displayName:(0,l.V)("Visual_SliderMode_Basic"),value:"list"}])}},backgroundColor:d.iD.backColor,foregroundColor:d.iD.fontColor,fontFamily:d.iD.fontFamily,tableBackgroundColor:d.iD.backColor,showCommandBar:{type:{bool:!0},displayName:(0,l.V)("ScorecardVisual_Format_ShowCommandBar")}}},header:{displayName:(0,l.V)("ThemeDialog_SubSection_Header"),properties:{show:d.iD.show,showTitle:{type:{bool:!0},displayName:(0,l.V)("EditWidget_ShowTitleCheckbox")},showToolbar:{type:{bool:!0},displayName:(0,l.V)("ScorecardVisual_Format_ShowToolbar")},showCards:{type:{bool:!0},displayName:(0,l.V)("Cards")},foregroundColor:d.iD.fontColor,backgroundColor:d.iD.backColor}},columnHeaders:{displayName:(0,l.V)("Visual_Tablix_ColumnHeaders"),properties:{show:d.iD.show,foregroundColor:d.iD.fontColor}},goals:{displayName:(0,l.V)("MetricsName_New"),properties:{foregroundColor:d.iD.fontColor,backgroundColor:d.iD.backColor}},detailsPane:{displayName:(0,l.V)("DetailsPane"),properties:{foregroundColor:d.iD.fontColor,backgroundColor:d.iD.backColor,cardForegroundColor:{displayName:(0,l.V)("Card_Font_Color"),type:{fill:{solid:{color:!0}}}},cardBackgroundColor:{displayName:(0,l.V)("Card_Background_Color"),type:{fill:{solid:{color:!0}}}},chartBackgroundColor:{displayName:(0,l.V)("Chart_Background_Color"),type:{fill:{solid:{color:!0}}}},chartForegroundColor:{displayName:(0,l.V)("Chart_Foreground_Color"),type:{fill:{solid:{color:!0}}}}}},visualization:{displayName:(0,l.V)("Visualization"),properties:{backgroundColor:d.iD.backColor,backgroundTransparency:d.iD.transparency,showScorecardName:{displayName:(0,l.V)("ScorecardDialog_Name"),description:(0,l.V)("ScorecardDialog_Name"),type:{bool:!0}},scorecardNameFontFamily:d.iD.fontFamily,scorecardNameFontSize:d.iD.titleFontSize,scorecardNameFontColor:d.iD.fontColor,scorecardNameBold:d.iD.bold,scorecardNameItalic:d.iD.italic,scorecardNameUnderline:d.iD.underline,currentValueFontFamily:d.iD.fontFamily,currentValueFontSize:d.iD.titleFontSize,currentValueFontColor:d.iD.fontColor,currentValueBold:d.iD.bold,currentValueItalic:d.iD.italic,currentValueUnderline:d.iD.underline,targetValueFontFamily:d.iD.fontFamily,targetValueFontSize:d.iD.titleFontSize,targetValueFontColor:d.iD.fontColor,targetValueBold:d.iD.bold,targetValueItalic:d.iD.italic,targetValueUnderline:d.iD.underline,showGrowth:{displayName:(0,l.V)("ScorecardVisual_Growth"),description:(0,l.V)("ScorecardVisual_Growth"),type:{bool:!0}},growthFontFamily:d.iD.fontFamily,growthFontSize:d.iD.titleFontSize,growthFontColor:d.iD.fontColor,growthBold:d.iD.bold,growthItalic:d.iD.italic,growthUnderline:d.iD.underline,showGoalName:{displayName:(0,l.V)("MetricName"),description:(0,l.V)("MetricName"),type:{bool:!0}},goalNameFontFamily:d.iD.fontFamily,goalNameFontSize:d.iD.titleFontSize,goalNameFontColor:d.iD.fontColor,goalNameBold:d.iD.bold,goalNameItalic:d.iD.italic,goalNameUnderline:d.iD.underline,showOwner:{displayName:(0,l.V)("Owner_Lowercase"),description:(0,l.V)("Owner_Lowercase"),type:{bool:!0}},ownerPhotoSize:{displayName:(0,l.V)("Role_DisplayName_Size"),description:(0,l.V)("Role_DisplayName_Size"),type:{numeric:!0}},showDueDate:{displayName:(0,l.V)("Due"),description:(0,l.V)("Due"),type:{bool:!0}},dueDateFontFamily:d.iD.fontFamily,dueDateFontSize:d.iD.titleFontSize,dueDateFontColor:d.iD.fontColor,dueDateBold:d.iD.bold,dueDateItalic:d.iD.italic,dueDateUnderline:d.iD.underline,showStatus:{displayName:(0,l.V)("Status"),description:(0,l.V)("Status"),type:{bool:!0}},showNotes:{displayName:(0,l.V)("Notes"),description:(0,l.V)("Notes"),type:{bool:!0}},notesFontSize:d.iD.titleFontSize,notesFontColor:d.iD.fontColor,showVisualization:{displayName:(0,l.V)("Visualization"),description:(0,l.V)("Visualization"),type:{bool:!0}},showLegends:{displayName:(0,l.V)("Visual_Legend"),description:(0,l.V)("Visual_Legend"),type:{bool:!0}},showTargetLine:{displayName:(0,l.V)("ScorecardVisual_TargetLine"),description:(0,l.V)("ScorecardVisual_TargetLine"),type:{bool:!0}},targetLineColor:d.iD.fontColor,currentLineColor:d.iD.fontColor,currentAreaShaded:{displayName:(0,l.V)("Visual_Shapes_ShadeArea"),description:(0,l.V)("Visual_Shapes_ShadeArea"),type:{bool:!0}},showXAxis:{displayName:(0,l.V)("Visual_XAxis_Hyphen"),description:(0,l.V)("Visual_XAxis_Hyphen"),type:{bool:!0}},xAxisFontFamily:d.iD.fontFamily,xAxisFontSize:d.iD.titleFontSize,xAxisFontColor:d.iD.fontColor,xAxisBold:d.iD.bold,xAxisItalic:d.iD.italic,xAxisUnderline:d.iD.underline,showYAxis:{displayName:(0,l.V)("Visual_YAxis_Hyphen"),description:(0,l.V)("Visual_YAxis_Hyphen"),type:{bool:!0}},yAxisFontFamily:d.iD.fontFamily,yAxisFontSize:d.iD.titleFontSize,yAxisFontColor:d.iD.fontColor,yAxisBold:d.iD.bold,yAxisItalic:d.iD.italic,yAxisUnderline:d.iD.underline}}},sorting:{custom:{}},suppressDefaultTitle:!0,supportsEmptyDataView:!0,supportsLandingPage:!0,supportsSelection:!1,showVisualContainerScreen:!0},S=(0,e.wZ)(v.objects)},222151:function(Xe,H,t){t.d(H,{Ic:function(){return b},W6:function(){return f},MI:function(){return n},B3:function(){return m},WO:function(){return y},W$:function(){return a}});var r,s,u,i,e=t(973188),l=t(406057),o=t(572909),v=(0,t(588376).i)([{value:"flat",displayName:function(P){return P.get("Visual_StrokeCap_Flat")}},{value:"round",displayName:function(P){return P.get("Visual_StrokeLineJoin_Round")}}]),S=t(495570),h=t(320234),c=t(830173),a={fill:c.OV.fill,outline:c.OV.outline,text:h.nm.text,shape:(0,e.__assign)((0,e.__assign)({},c.OV.shape),{linecapType:{objectName:"shape",propertyName:"linecapType"}}),shadow:c.OV.shadow,glow:c.OV.glow,rotation:{angle:{objectName:"rotation",propertyName:"angle"},shapeAngle:{objectName:"rotation",propertyName:"shapeAngle"},textAngle:{objectName:"rotation",propertyName:"textAngle"}}},n=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},c.eM),h.Vz),{rotation:"rotation"}),m=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},c.Mn),h.WI),{linecapType:"linecapType",rotation:"angle"}),f={default:"default"},V=((r={show:S.iD.show})[c.Mn.fillColor]=S.iD.fill,r[c.Mn.fillTransparency]=S.iD.transparency,r),p=((s={})[m.rotation]={displayName:(0,o.V)("Visual_BasicShape_Rotate"),type:{integer:!0}},s[m.shapeRotation]={displayName:(0,o.V)("Visual_ShapeRotation"),type:{integer:!0}},s[m.textRotation]={displayName:(0,o.V)("Visual_TextRotation"),type:{integer:!0}},s),C=((u={})[n.fill]={displayName:(0,o.V)("Visual_Fill"),properties:V},u[n.outline]=c.zC.outline,u[n.text]=h.p.text,u[n.shape]={displayName:(0,o.V)("Visual_Shape"),properties:(0,e.__assign)((0,e.__assign)({},c.zC.shape.properties),(i={},i[m.linecapType]={displayName:(0,o.V)("LinecapType"),type:{enumeration:v}},i))},u[n.shadow]=c.zC.shadow,u[n.glow]=c.zC.glow,u[n.rotation]={displayName:(0,o.V)("Visual_BasicShape_Rotate"),properties:p},u),b={objects:C,suppressDefaultTitle:!0,suppressDefaultPadding:!0,supportsSelection:!1,supportsVisualLink:!0,ariaRole:"img",disableFormatMode:!0},y=(0,l.wZ)(C)},620056:function(Xe,H,t){t.d(H,{L:function(){return s},x:function(){return c}});var e=t(406057),l=t(273269),o=t(572909),d=t(73673),v=t(754453),S=t(495570),h={general:{displayName:(0,o.V)("Visual_General"),properties:{formatString:S.iD.formatString}},legend:S.TQ.legend,dataPoint:{displayName:(0,o.V)("Visual_DataPoint"),description:(0,o.V)("Visual_DataPointDescription"),properties:{defaultColor:S.iD.defaultColor,showAllDataPoints:S.iD.showAllDataPoints,fill:S.iD.defaultCategoryColor,fillRule:{displayName:(0,o.V)("Role_DisplayName_Values"),description:(0,o.V)("Role_DisplayName_ValuesDescription"),type:{fillRule:{}},rule:{conditions:[{Series:{max:0}}],inputRole:v.S3,output:{property:"fill",selector:[v.W3]}}}}},shape:{displayName:(0,o.V)("Visual_Shape"),description:(0,o.V)("Visual_Shape"),properties:{map:{type:{geoJson:{contentType:d.t_}}},projectionEnum:{displayName:(0,o.V)("Visual_ShapeMap_Projection"),description:(0,o.V)("Visual_ShapeMap_Projection_Desc"),type:{enumeration:v.dt}}}},defaultColors:{displayName:(0,o.V)("Visual_ShapeMap_DefaultColor"),description:(0,o.V)("Visual_ShapeMap_DefaultColor_Desc"),properties:{defaultShow:{displayName:(0,o.V)("Visual_ShapeMap_DefaultShow"),description:(0,o.V)("Visual_ShapeMap_DefaultShow_Desc"),type:{bool:!0}},defaultColor:{displayName:(0,o.V)("Visual_ShapeMap_DefaultColorColor"),description:(0,o.V)("Visual_ShapeMap_DefaultColorColor_Desc"),type:{fill:{solid:{color:!0}}}},borderColor:{displayName:(0,o.V)("Visual_ShapeMap_BorderColor"),description:(0,o.V)("Visual_ShapeMap_BorderColor_Desc"),type:{fill:{solid:{color:!0}}}},borderThickness:{displayName:(0,o.V)("Visual_ShapeMap_BorderThickness"),description:(0,o.V)("Visual_ShapeMap_BorderThickness_Desc"),type:{numeric:!0}}}},zoom:{displayName:(0,o.V)("Visual_ShapeMap_Zoom"),description:(0,o.V)("Visual_ShapeMap_Zoom_Desc"),properties:{autoZoom:{displayName:(0,o.V)("Visual_ShapeMap_AutoZoom"),description:(0,o.V)("Visual_ShapeMap_AutoZoom_Desc"),type:{bool:!0}},selectionZoom:{displayName:(0,o.V)("Visual_ShapeMap_SelectionZoom"),description:(0,o.V)("Visual_ShapeMap_SelectionZoom_Desc"),type:{bool:!0}},manualZoom:{displayName:(0,o.V)("Visual_ShapeMap_ManualZoom"),description:(0,o.V)("Visual_ShapeMap_ManualZoom_Desc"),type:{bool:!0}}}}};function c(){var u;return{dataRoles:[{name:v.W3,kind:l.DW.Grouping,displayName:(0,o.V)("Role_DisplayName_Location"),description:(0,o.V)("Role_DisplayName_LocationMapDescription"),preferredTypes:[{geography:{address:!0}},{geography:{city:!0}},{geography:{continent:!0}},{geography:{country:!0}},{geography:{county:!0}},{geography:{place:!0}},{geography:{postalCode:!0}},{geography:{region:!0}},{geography:{stateOrProvince:!0}}]},{name:v.ac,kind:l.DW.Grouping,displayName:(0,o.V)("Role_DisplayName_Legend"),description:(0,o.V)("Role_DisplayName_LegendDescription")},{name:v.S3,kind:l.DW.Measure,displayName:(0,o.V)("Role_DisplayName_Gradient"),description:(0,o.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}]},{name:v.jH,kind:l.DW.Measure,displayName:(0,o.V)("Role_DisplayName_Tooltips"),description:(0,o.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:h,dataViewMappings:[{conditions:[(u={},u[v.W3]={min:0,max:1},u[v.ac]={min:0,max:1},u[v.S3]={min:0,max:1},u)],categorical:{categories:{for:{in:v.W3},dataReductionAlgorithm:{top:{}}},values:{group:{by:v.ac,select:[{bind:{to:v.S3}},{for:{in:v.jH}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}},dataVolume:4}}],sorting:{custom:{},implicit:{clauses:[{role:v.S3,direction:2}]}},supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0}}}var s=(0,e.wZ)(h)},999738:function(Xe,H,t){t.d(H,{st:function(){return m},gO:function(){return n},CT:function(){return i}});var e=t(406057),l=t(273269),o=t(572909),d=t(141596),v=t(973796),S=t(394736),c=(0,t(588376).i)([{value:0,displayName:function(b){return b.get("Icon_Chevron")}},{value:1,displayName:function(b){return b.get("Icon_PlusMinus")}},{value:2,displayName:function(b){return b.get("Icon_Caret")}}]),r=t(327901),s=t(994490),u=t(495570),i={value:"Values"},a={general:{displayName:(0,o.V)("Visual_General"),properties:{responsive:u.iD.responsive,filter:{suppressFormatPainterCopy:!0,type:{filter:{}}},selfFilter:{suppressFormatPainterCopy:!0,type:{filter:{selfFilter:!0}}},defaultValue:{type:{expression:{defaultValue:!0}}},formatString:u.iD.formatString,outlineColor:u.iD.outlineColor,outlineWeight:u.iD.outlineWeight,orientation:{displayName:(0,o.V)("Slicer_Orientation"),type:{enumeration:s.d}},count:{type:{integer:!0}},selfFilterEnabled:{suppressFormatPainterCopy:!0,type:{operations:{searchEnabled:!0}}}}},data:{suppressFormatPainterCopy:!0,properties:{startDate:{type:{dateTime:!0},filterState:!0},endDate:{type:{dateTime:!0},filterState:!0},numericStart:{type:{numeric:!0},filterState:!0},numericEnd:{type:{numeric:!0},filterState:!0},relativeRange:{type:{enumeration:S.dt},filterState:!0},relativePeriod:{type:{enumeration:v.GA},filterState:!0},relativeTimePeriod:{type:{enumeration:v._k},filterState:!0},relativeDuration:{type:{numeric:!0},filterState:!0},mode:{displayName:(0,o.V)("Style"),type:{enumeration:r.dt},filterState:!0,persistUnmatchedState:!0},isInvertedSelectionMode:{type:{bool:!0},filterState:!0}}},selection:{displayName:(0,o.V)("Visual_SelectionControls"),properties:{selectAllCheckboxEnabled:{displayName:(0,o.V)("Visual_SelectAll"),description:(0,o.V)("Visual_SelectAll_Description"),type:{bool:!0}},singleSelect:{displayName:(0,o.V)("Visual_MultiSelectWithCtrl"),description:(0,o.V)("Visual_MultiSelectWithCtrl_Description"),type:{bool:!0}},strictSingleSelect:{displayName:(0,o.V)("Visual_StrictSingleSelect"),description:(0,o.V)("Visual_StrictSingleSelect_Description"),type:{bool:!0},filterState:!0}}},header:{displayName:(0,o.V)("Slicer_Header"),properties:{show:u.iD.show,fontColor:u.iD.fontColor,text:{displayName:(0,o.V)("Visual_Title_Text"),description:(0,o.V)("Visual_Title_TextDescription"),type:{text:!0},suppressFormatPainterCopy:!0},background:{displayName:(0,o.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:u.iD.outline,outlineStyle:u.iD.outlineStyle,textSize:{displayName:(0,o.V)("Visual_TextSize"),type:{numeric:!0}},bold:u.iD.bold,italic:u.iD.italic,underline:u.iD.underline,fontFamily:u.iD.fontFamily,showRestatement:{displayName:(0,o.V)("Slicer_Restatement_Enabled"),type:{bool:!0}}}},pendingChangesIcon:{displayName:(0,o.V)("PendingIcon"),properties:{show:u.iD.show,color:u.iD.color,transparency:u.iD.transparency,position:{displayName:(0,o.V)("Visual_LegendPosition"),type:{enumeration:d.dt}},size:{displayName:(0,o.V)("Embed_Size"),type:{numeric:!0}},showTooltip:{displayName:(0,o.V)("Visual_ShowTooltip"),type:{bool:!0}},tooltipText:{displayName:(0,o.V)("VisualHeaderTooltip_Text"),type:{text:!0}},tooltipLabel:{displayName:(0,o.V)("VisualHeaderTooltip_Label"),type:{text:!0}}}},searchBox:{displayName:(0,o.V)("SearchBox"),properties:{outline:u.iD.outline,outlineStyle:u.iD.outlineStyle,borderColor:u.iD.outlineColor,background:{displayName:(0,o.V)("Visual_Background"),type:{fill:{solid:{color:!0}}}}}},items:{displayName:(0,o.V)("Items"),properties:{fontColor:u.iD.fontColor,background:{displayName:(0,o.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},outline:u.iD.outline,outlineStyle:u.iD.outlineStyle,textSize:{displayName:(0,o.V)("Visual_TextSize"),type:{numeric:!0}},bold:u.iD.bold,italic:u.iD.italic,underline:u.iD.underline,fontFamily:u.iD.fontFamily,expandCollapseToggleType:{displayName:(0,o.V)("Slicer_ExpandCollapse_Toggle"),type:{enumeration:c}},steppedLayoutIndentation:{displayName:(0,o.V)("Visual_PivotTable_SteppedLayoutIndentation"),type:{numeric:!0}},padding:{displayName:(0,o.V)("Visual_Padding"),type:{numeric:!0}},accessibilityContrastProperties:{type:{bool:!0}}}},date:{displayName:(0,o.V)("Slicer_DateInputs"),properties:{fontColor:u.iD.fontColor,textSize:{displayName:(0,o.V)("Visual_TextSize"),type:{numeric:!0}},bold:u.iD.bold,italic:u.iD.italic,underline:u.iD.underline,fontFamily:u.iD.fontFamily,background:{displayName:(0,o.V)("Background_Color"),type:{fill:{solid:{color:!0}}}},hideDatePickerButton:{type:{bool:!0}}}},numericInputStyle:{displayName:(0,o.V)("Slicer_NumericInputs"),properties:{fontColor:u.iD.fontColor,textSize:{displayName:(0,o.V)("Visual_TextSize"),type:{numeric:!0}},bold:u.iD.bold,italic:u.iD.italic,underline:u.iD.underline,fontFamily:u.iD.fontFamily,background:{displayName:(0,o.V)("Background_Color"),type:{fill:{solid:{color:!0}}}}}},slider:{displayName:(0,o.V)("Slicer_Slider"),properties:{show:u.iD.show,color:{displayName:(0,o.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}},handleFillColor:{displayName:(0,o.V)("Visual_Fill"),type:{fill:{solid:{color:!0}}}},handleBorderColor:{displayName:(0,o.V)("Visual_Border"),type:{fill:{solid:{color:!0}}}},secondaryLineColor:{displayName:(0,o.V)("Visual_LegendTitleColor"),type:{fill:{solid:{color:!0}}}}}},dateRange:{displayName:(0,o.V)("Slicer_DateRange"),properties:{includeToday:{displayName:(0,o.V)("Visual_IncludeToday"),type:{bool:!0},filterState:!0},anchorDate:{displayName:(0,o.V)("RelativeSlicer_AnchorDate"),description:(0,o.V)("RelativeSlicer_AnchorDateDescription"),type:{dateTime:!0},filterState:!0}}}},n=(0,e.wZ)(a);function m(C){return{dataRoles:[{name:i.value,kind:l.DW.Grouping,displayName:(0,o.V)("Field"),description:(0,o.V)("Role_DisplayName_FieldDescription"),preferDateColumn:!0}],hasFilterOptions:!0,objects:a,drilldown:{roles:[i.value],suppresDrillOperations:!0},dataViewMappings:p(),expandCollapse:V(C),sorting:{default:{}},suppressDefaultTitle:!0,supportsSynchronizingFilterState:!0,supportsMultiVisualSelection:!0,supportsKeyboardFocus:!0,keepAllMetadataColumns:!0}}function V(C){return{roles:[i.value],addDataViewFlags:{defaultValue:!0},supportsMerge:!(null==C||!C.fieldParameterDynamicSlicer)}}function p(){var C,b,y=[{conditions:[(C={},C[i.value]={max:1,suppressDrill:!0},C)],categorical:{categories:{for:{in:i.value},dataReductionAlgorithm:{window:{}}},includeEmptyGroups:!0}}];return y.unshift({conditions:[(b={},b[i.value]={min:2,areHierarchicallyRelated:!0,multiTableTupleFiltersSupported:!0,suppressDrill:!0},b)],matrix:{rows:{for:{in:i.value},dataReductionAlgorithm:{window:{count:500}}},includeEmptyGroups:!0}}),y}},7478:function(Xe,H,t){t.d(H,{D_:function(){return R},Ni:function(){return x},PM:function(){return a},Wj:function(){return P},ot:function(){return i},pQ:function(){return F},vu:function(){return L}});var e=t(498342),l=t(957571),o=t(470081),d=t(204553),v=t(798843),S=t(224498),h=t(973796),c=t(394736),r=t(327901),s=t(999738);function i(M){var T=M.dataViewMappings[0],O=g(T);if(!_.isEmpty(O)){var N=E(T.metadata.objects);if(null===(N=R(O,N))||(0,r.l6)(N)||(0,r.G5)(N))return null}return[s.CT.value]}function a(M){var T=function(M){var T=E(M.objects),O=E(M.changes);return(T===r.RB&&O===r.j6||T===r.j6&&O===r.RB)&&T!==O&&T?{merge:!0,mode:T}:{merge:!1,mode:O||T}}(M),O=M.changes&&M.changes[s.gO.general.filter.objectName],N=O&&O[s.gO.general.filter.propertyName];if(null!=N){var A=D(M,T.mode);return(0,r.l6)(T.mode)?(function(M,T,O){if(e.fF.assertValue(M,"filter should be defined"),(0,r.l6)(T)){var N=(0,v.pi)(M);if(!N||!N.options)return void e.fF.assertValue(N&&N.options,"filterParams and filterParams.options must be defined.");var A=s.gO.data.numericStart.objectName;e.fF.assert(function(){return s.gO.data.numericStart.objectName===s.gO.data.numericEnd.objectName},"numericStart & numericEnd must have same object name"),e.fF.assert(function(){return s.gO.data.numericStart.objectName===s.gO.data.startDate.objectName},"numericStart & startDate must have same object name"),e.fF.assert(function(){return s.gO.data.numericStart.objectName===s.gO.data.endDate.objectName},"numericStart & endDate must have same object name");var I={};_.isNumber(N.options.min)||_.isNumber(N.options.max)?(I[s.gO.data.numericStart.propertyName]=N.options.min,T!==r.Zr&&(I[s.gO.data.numericEnd.propertyName]=N.options.max),C(O,A,I)):(_.isDate(N.options.min)||_.isDate(N.options.max))&&(e.fF.assert(function(){return void 0===N.options.min||(0,l.M4)(N.options.min)},"Implementing DateWithEpochValue is needed for serialization"),e.fF.assert(function(){return void 0===N.options.max||(0,l.M4)(N.options.max)},"Implementing DateWithEpochValue is needed for serialization"),I[s.gO.data.startDate.propertyName]=N.options.min,I[s.gO.data.endDate.propertyName]=N.options.max,C(O,A,I))}}(N,T.mode,A),A):T.mode===r.K8?(m(N,T.mode,A,s.gO.data.relativePeriod.propertyName),A):(T.mode===r.GV&&m(N,T.mode,A,s.gO.data.relativeTimePeriod.propertyName),A)}return T.merge?D(M,T.mode):null}function m(M,T,O,N){if(e.fF.assertValue(M,"filter should be defined"),(0,r.G5)(T)){var A=(0,r.nW)(T),I=(0,S.pi)(M,A);if(!I||!I.options)return void e.fF.assertValue(I&&I.options,"filterParams and filterParams.options must be defined.");var B=s.gO.data.relativeRange.objectName;e.fF.assert(function(){return s.gO.data.relativeRange.objectName===s.gO.data.relativeDuration.objectName},"relativeRange & relativeDuration must have same object name"),e.fF.assert(function(){return s.gO.data.relativeRange.objectName===s.gO.data.relativePeriod.objectName},"relativeRange & relativePeriod must have same object name");var U=(0,c.BB)(I.options.relativeQualifier),W=(0,h.BB)(I.options.relativeUnit),j=I.options.duration;(null==U||null==j||null==W)&&V(O,B),(null!=U||null!=j||null!=W)&&f(O,B);var K={};K[s.gO.data.relativeRange.propertyName]=U,K[s.gO.data.relativeDuration.propertyName]=U===c.Vk?0:I.options.duration,K[N]=W,C(O,B,K),function(M,T){var O=s.gO.dateRange.includeToday.objectName;e.fF.assert(function(){return s.gO.dateRange.includeToday.objectName===s.gO.dateRange.anchorDate.objectName},"anchorDate is not in the same object as includeToday");var N={};T.includeTodayFromDefault||(N[s.gO.dateRange.includeToday.propertyName]=T.includeToday),N[s.gO.dateRange.anchorDate.propertyName]=T.anchorDate,C(M,O,N)}(O,I.options)}}function f(M,T){M.merge=M.merge||[];var O=b(M.merge,T);return M.merge[O]}function V(M,T){M.remove=M.remove||[];var O=b(M.remove,T);return M.remove[O]}function C(M,T,O){var N=null,A=null;for(var I in _.some(O,function(B){return null==B})&&(N=V(M,T)),_.some(O,function(B){return null!=B})&&(A=f(M,T)),O)null==O[I]?(e.fF.assertValue(N,"remove must be defined here."),N.properties[I]=!0):(e.fF.assertValue(A,"merge must be defined here."),A.properties[I]=O[I])}function b(M,T){e.fF.assertValue(M,"visualObjects");var O=M.map(function(N){return N.objectName}).indexOf(T);return O<0&&(M.push({objectName:T,selector:null,properties:{}}),O=M.length-1),O}function D(M,T){var O=[];for(var N in M.changes){var A={};for(var I in M.changes[N])A[I]=M.changes[N][I];null!=T&&N===s.gO.data.mode.objectName&&(A[s.gO.data.mode.propertyName]=T),O.push({objectName:N,selector:null,properties:A})}return{merge:O}}function P(M){if(!_.isEmpty(M.dataViewMappings)){var T=M.dataViewMappings[0];if(T&&T.metadata){var O=g(T)||[];if(T.matrix&&T.matrix.rows){var N=T.matrix.rows.for.in.items;if(!_.isEmpty(N))for(var A=function(ie){if(!_.find(O,function(q){return q.queryName===ie.queryName}))return"continue";ie.subtotalType=1},I=0,B=N;I<B.length;I++)A(B[I])}var W=E(T.metadata.objects);if(!_.isEmpty(O)){if((W=R(O,W))===r.Zr){var j=T.categorical&&T.categorical.categories;return void(j&&(j.dataReductionAlgorithm={sample:{}}))}if((0,r.Lw)(W)&&T.categorical&&T.categorical.categories){var K=T.categorical.categories.for.in.items;T.categorical.categories=null,T.categorical.values={bind:{to:{role:s.CT.value,aggregates:{min:!0,max:!0},items:K}}}}}(0,r.G5)(W)&&(T.updateType=2),W===r.j6&&function(M){if(M){var T=!1;if(T=(0,o.NA)(M,s.gO.selection.strictSingleSelect,T)){var O=null,N=!1;return O=(0,o.NA)(M,s.gO.general.filter,O),N=(0,o.NA)(M,s.gO.data.isInvertedSelectionMode,N),null!=O&&!N}}return!0}(T.metadata.objects)&&(T.updateType=1)}}}function F(M){var O=M.objects,N=E(O),I=g(M.dataViewMappings[0]);if(!_.isEmpty(I)){N=R(I,N,!0);var B=O&&O[s.gO.data.mode.objectName];B||(B={});var U={};for(var W in B)U[W]=B[W];return U[s.gO.data.mode.propertyName]=N,{replace:[{objectName:s.gO.data.mode.objectName,selector:null,properties:U}]}}}function E(M){var T=null;return M&&(T=(0,o.NA)(M,s.gO.data.mode,T)),T}function x(M){return M&&(0,d.NA)(M,s.gO.data.mode,void 0)}function R(M,T,O){if(void 0===O&&(O=!1),e.fF.assertNonEmpty(M,"pluginMethods.getValidateSlicerMode - columns"),M.length>1)return T===r.j6?r.j6:r.RB;var N=M[0];if(!N.type)return T;if(N.parameter&&0===N.parameter.kind)T=null===T||(0,r.G5)(T)?r.Zr:T;else{if(N.parameter&&1===N.parameter.kind)return null==T?r.RB:T;!0===N.type.dateTime?T=null===T||T===r.Zr?r.vX:T:N.type.numeric?null===T?T=O?r.vX:r.RB:((0,r.G5)(T)||T===r.Zr)&&(T=r.vX):T!==r.RB&&T!==r.j6&&(T=r.RB)}return T}function g(M){return M.metadata?M.metadata.columns:null}function L(M){if(M.filterForFieldParameter)return!1;var N=M.dataViewMappings[0];if(!N||!N.metadata)return!1;var A=E(N.metadata.objects),I=g(N);return _.isEmpty(I)||(A=R(I,A)),(0,r.l6)(A)}},2304:function(Xe,H,t){t.d(H,{Y:function(){return v}});var e=t(273269),l=t(572909),o=t(495570);function d(S){return[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)(S&&S.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values")}]}function v(S){return{dataRoles:d(S),objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:o.iD.formatString,columnWidth:{type:{numeric:!0}},totals:{type:{bool:!0},displayName:(0,l.V)("Visual_Totals"),suppressFormatPainterCopy:!0},autoSizeColumnWidth:{type:{bool:!0},displayName:(0,l.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},textSize:{displayName:(0,l.V)("Visual_TextSize"),type:{numeric:!0}}}},grid:{displayName:(0,l.V)("Visual_Grid"),properties:{outlineColor:o.iD.outlineColor,outlineWeight:o.iD.outlineWeight,gridVertical:{displayName:(0,l.V)("Visual_GridVertical"),description:(0,l.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,l.V)("Visual_GridVertical_Color"),description:(0,l.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,l.V)("Visual_GridVertical_Weight"),description:(0,l.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,l.V)("Visual_GridHorizontal"),description:(0,l.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,l.V)("Visual_GridHorizontal_Color"),description:(0,l.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,l.V)("Visual_GridHorizontal_Weight"),description:(0,l.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,l.V)("Visual_RowPadding"),description:(0,l.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},imageHeight:{displayName:(0,l.V)("Visual_Tablix_ImageHeight"),description:(0,l.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,l.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:o.iD.outline,fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor,wordWrap:o.iD.wordWrap}},values:{displayName:(0,l.V)("Visual_Tablix_Values"),properties:{outline:o.iD.outline,backColor:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_ConditionalFormatting_ColorScales_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColorPrimary:{displayName:(0,l.V)("Visual_FontColor"),description:(0,l.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,l.V)("Background_Color"),description:(0,l.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,l.V)("Visual_Tablix_FontColorSecondary"),description:(0,l.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,l.V)("Visual_Tablix_BackColorSecondary"),description:(0,l.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,l.V)("Visual_Tablix_UrlIcon"),description:(0,l.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}}}},total:{displayName:(0,l.V)("Visual_Total"),properties:{outline:o.iD.outline,fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor}},columnFormatting:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting"),properties:{fontColor:o.iD.tablixFontColor,backColor:o.iD.backColor,styleHeader:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,l.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{custom:{}},suppressDefaultTitle:!0,supportsSelection:!1,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0}}},10711:function(Xe,H,t){t.d(H,{Z:function(){return r},k:function(){return c}});var e=t(406057),l=t(273269),o=t(572909),d=t(876809),v=t(319113),S=t(495570);function h(s){return[{name:"Values",kind:l.DW.GroupingOrMeasure,displayName:(0,o.V)(s&&s.useModernFormatPane?"Role_DisplayName_Columns":"Role_DisplayName_Values"),supportsSparklines:!0}]}function c(s){return{dataRoles:h(s),objects:{general:{displayName:(0,o.V)("Visual_General"),properties:{formatString:S.iD.formatString}},grid:{displayName:(0,o.V)("Visual_Grid"),properties:{outline:S.iD.outline,outlineStyle:S.iD.outlineStyle,outlineColor:S.iD.outlineColor,outlineWeight:S.iD.outlineWeight,gridVertical:{displayName:(0,o.V)("Visual_GridVertical"),description:(0,o.V)("Visual_GridVertical_Desc"),type:{bool:!0}},gridVerticalColor:{displayName:(0,o.V)("Visual_GridVertical_Color"),description:(0,o.V)("Visual_GridVertical_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridVerticalWeight:{displayName:(0,o.V)("Visual_GridVertical_Weight"),description:(0,o.V)("Visual_GridVertical_Weight_Desc"),type:{numeric:!0}},gridHorizontal:{displayName:(0,o.V)("Visual_GridHorizontal"),description:(0,o.V)("Visual_GridHorizontal_Desc"),type:{bool:!0}},gridHorizontalColor:{displayName:(0,o.V)("Visual_GridHorizontal_Color"),description:(0,o.V)("Visual_GridHorizontal_Color_Desc"),type:{fill:{solid:{color:!0}}}},gridHorizontalWeight:{displayName:(0,o.V)("Visual_GridHorizontal_Weight"),description:(0,o.V)("Visual_GridHorizontal_Weight_Desc"),type:{numeric:!0}},rowPadding:{displayName:(0,o.V)("Visual_RowPadding"),description:(0,o.V)("Visual_RowPadding_Desc"),type:{numeric:!0}},textSize:{displayName:(0,o.V)("Visual_TextSize"),type:{numeric:!0}},imageHeight:{displayName:(0,o.V)("Visual_General_Properties_Height"),description:(0,o.V)("Visual_Tablix_ImageHeight_Desc"),type:{numeric:!0}},imageWidth:{displayName:(0,o.V)("Visual_General_Properties_Width"),description:(0,o.V)("Visual_Tablix_ImageWidth_Desc"),type:{numeric:!0}}}},columnHeaders:{displayName:(0,o.V)("Visual_Tablix_ColumnHeaders"),properties:{outline:S.iD.outline,outlineStyle:S.iD.outlineStyle,outlineColor:S.iD.outlineColor,outlineWeight:S.iD.outlineWeight,fontColor:S.iD.tablixFontColor,fontFamily:S.iD.fontFamily,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,backColor:S.iD.backColor,alignment:S.iD.textAlignment,autoSizeColumnWidth:{type:{bool:!0},displayName:(0,o.V)("Visual_Adjust_Column_Width"),suppressFormatPainterCopy:!0},wordWrap:S.iD.wordWrap}},values:{displayName:(0,o.V)("Visual_Tablix_Values"),properties:{outline:S.iD.outline,outlineStyle:S.iD.outlineStyle,outlineColor:S.iD.outlineColor,outlineWeight:S.iD.outlineWeight,backColor:{displayName:(0,o.V)("Background_Color"),description:(0,o.V)("Visual_ConditionalFormatting_ColorScales_WithSource_BackColor_Desc"),type:{fill:{solid:{color:!0}}}},fontColor:{displayName:(0,o.V)("Visual_FontColor"),description:(0,o.V)("Visual_ConditionalFormatting_ColorScales_WithSource_FontColor_Desc"),type:{fill:{solid:{color:!0}}}},fontFamily:S.iD.fontFamily,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,fontColorPrimary:{displayName:(0,o.V)("Visual_FontColor"),description:(0,o.V)("Visual_Tablix_FontColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},backColorPrimary:{displayName:(0,o.V)("Background_Color"),description:(0,o.V)("Visual_Tablix_BackColorPrimary_Desc"),type:{fill:{solid:{color:!0}}}},fontColorSecondary:{displayName:(0,o.V)("Visual_Tablix_FontColorSecondary"),description:(0,o.V)("Visual_Tablix_FontColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},backColorSecondary:{displayName:(0,o.V)("Visual_Tablix_BackColorSecondary"),description:(0,o.V)("Visual_Tablix_BackColorSecondary_Desc"),type:{fill:{solid:{color:!0}}}},urlIcon:{displayName:(0,o.V)("Visual_Tablix_UrlIcon"),description:(0,o.V)("Visual_Tablix_UrlIcon_Desc"),type:{bool:!0}},wordWrap:S.iD.wordWrap,icon:{displayName:(0,o.V)("Visual_Tablix_Icons"),description:(0,o.V)("Visual_Tablix_Icons_Desc"),type:{icon:{}}},webURL:{displayName:(0,o.V)("Web_Url"),type:{misc:{webUrl:!0}}}}},total:{displayName:(0,o.V)("Visual_Total"),properties:{totals:{type:{bool:!0},displayName:(0,o.V)("Visual_Totals"),suppressFormatPainterCopy:!0},label:{type:{text:!0},displayName:(0,o.V)("Visual_TableEx_TotalLabel"),suppressFormatPainterCopy:!0},outline:S.iD.outline,outlineStyle:S.iD.outlineStyle,outlineColor:S.iD.outlineColor,outlineWeight:S.iD.outlineWeight,fontColor:S.iD.tablixFontColor,fontFamily:S.iD.fontFamily,fontSize:S.iD.fontSize,bold:S.iD.bold,italic:S.iD.italic,underline:S.iD.underline,backColor:S.iD.backColor}},columnFormatting:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting"),properties:{labelDisplayUnits:{displayName:(0,o.V)("Visual_DisplayUnits"),description:(0,o.V)("Visual_DisplayUnitsDescription"),type:{formatting:{displayUnitsWithoutAuto:!0}},suppressFormatPainterCopy:!0},labelPrecision:S.iD.labelPrecision,fontColor:S.iD.tablixFontColor,backColor:S.iD.backColor,alignment:S.iD.textAlignment,styleHeader:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting_ColorHeader"),type:{bool:!0}},styleValues:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting_ColorValues"),type:{bool:!0}},styleTotal:{displayName:(0,o.V)("Visual_Tablix_ColumnFormatting_ColorTotal"),type:{bool:!0}},dataBars:{displayName:(0,o.V)("Visual_ConditionalFormatting_DataBars"),description:(0,o.V)("Visual_ConditionalFormatting_DataBars_Desc"),type:{dataBars:{}},suppressFormatPainterCopy:!0}}},columnWidth:{properties:{value:{type:{numeric:!0}}}},clustering:{suppressFormatPainterCopy:!0,properties:{transform:{type:{queryTransform:{}}}}},sparklines:{displayName:(0,o.V)("Sparkline_Label"),properties:{chartType:{displayName:(0,o.V)("Sparkline_Formatting_Slice_ChartType"),type:{enumeration:d.dt}},dataColor:{displayName:(0,o.V)("DataColor"),type:{fill:{solid:{color:!0}}}},strokeWidth:S.iD.strokeWidth,markers:{displayName:(0,o.V)("Sparkline_Formatting_Slice_ShowTheseMarkers"),type:{flagsEnumeration:v.dt}},markerColor:S.iD.markerColor,markerSize:{displayName:(0,o.V)("Visual_MarkerSize"),type:{integer:!0}},markerShape:S.iD.markerShape}},accessibility:{displayName:(0,o.V)("Accessibility"),properties:{altTextColumns:{displayName:(0,o.V)("Visual_Tablix_AltTextColumns_Label"),type:{text:!0}},rowWithReferenceText:{displayName:(0,o.V)("Visual_Tablix_RowName"),type:{reference:{rowRefText:!0}}}}}},dataViewMappings:[{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{window:{count:500}}},rowCount:{preferred:{min:1}}}}],sorting:{default:{},custom:{}},suppressDefaultTitle:!0,grouping:{cluster:{clusteringRole:"Values",conditions:[{Values:{min:2}}]}},supportsMultiVisualSelection:!0,tooltips:{showByDefault:!1,supportedTypes:{default:!0,canvas:!0},supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,enablePointerEventsFormatMode:!0,supportsOnObjectFormatting:!0}}var r=(0,e.wZ)(c().objects)},682701:function(Xe,H,t){t.d(H,{RL:function(){return S},d$:function(){return r},dd:function(){return h},mj:function(){return c}});var o,d,v,e=t(572909),l=t(495570),S={general:{paragraphs:{objectName:"general",propertyName:"paragraphs"}},text:{color:{objectName:"text",propertyName:"color"},fontFamily:{objectName:"text",propertyName:"fontFamily"},fontSize:{objectName:"text",propertyName:"fontSize"}},values:{expr:{objectName:"values",propertyName:"expr"},formatString:{objectName:"values",propertyName:"formatString"}}},h={objects:{general:{displayName:(0,e.V)("Visual_General"),properties:(o={},o[S.general.paragraphs.propertyName]={type:{paragraphs:{}},suppressFormatPainterCopy:!0},o)},text:{displayName:(0,e.V)("Text"),properties:(d={},d[S.text.fontSize.propertyName]={displayName:(0,e.V)("Default_Font_Size"),type:{formatting:{fontSize:!0}}},d[S.text.fontFamily.propertyName]={displayName:(0,e.V)("Default_Font_Family"),type:{formatting:{fontFamily:!0}}},d[S.text.color.propertyName]={displayName:(0,e.V)("Visual_DefaultColor"),type:{fill:{solid:{color:!0}}}},d)},values:{properties:(v={},v[S.values.expr.propertyName]={formatStringProperty:S.values.formatString,ignoreUnreferenced:!0,type:{variant:[{text:!0},{numeric:!0},{integer:!0},{bool:!0},{dateTime:!0},{duration:!0},{binary:!0}]}},v[S.values.formatString.propertyName]=l.iD.formatString,v)}},suppressDefaultTitle:!0,supportsSelection:!1,supportsKeyboardFocus:!0,disableFormatMode:!0},c="\n",r="__Newline__"},320234:function(Xe,H,t){t.d(H,{Vz:function(){return r},WI:function(){return s},nm:function(){return c},p:function(){return a}});var v,S,h,e=t(572909),l=t(695823),o=t(141596),d=t(495570),c={text:{show:{objectName:"text",propertyName:"show"},fontColor:{objectName:"text",propertyName:"fontColor"},fontSize:{objectName:"text",propertyName:"fontSize"},fontFamily:{objectName:"text",propertyName:"fontFamily"},italic:{objectName:"text",propertyName:"italic"},bold:{objectName:"text",propertyName:"bold"},underline:{objectName:"text",propertyName:"underline"},text:{objectName:"text",propertyName:"text"},verticalAlignment:{objectName:"text",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"text",propertyName:"horizontalAlignment"},leftMargin:{objectName:"text",propertyName:"leftMargin"},rightMargin:{objectName:"text",propertyName:"rightMargin"},topMargin:{objectName:"text",propertyName:"topMargin"},bottomMargin:{objectName:"text",propertyName:"bottomMargin"},angle:{objectName:"text",propertyName:"angle"}},icon:{show:{objectName:"icon",propertyName:"show"},shapeType:{objectName:"icon",propertyName:"shapeType"},image:{objectName:"icon",propertyName:"image"},lineColor:{objectName:"icon",propertyName:"lineColor"},lineTransparency:{objectName:"icon",propertyName:"lineTransparency"},lineWeight:{objectName:"icon",propertyName:"lineWeight"},placement:{objectName:"icon",propertyName:"placement"},verticalAlignment:{objectName:"icon",propertyName:"verticalAlignment"},horizontalAlignment:{objectName:"icon",propertyName:"horizontalAlignment"},leftMargin:{objectName:"icon",propertyName:"leftMargin"},rightMargin:{objectName:"icon",propertyName:"rightMargin"},topMargin:{objectName:"icon",propertyName:"topMargin"},bottomMargin:{objectName:"icon",propertyName:"bottomMargin"},spacing:{objectName:"icon",propertyName:"spacing"},iconSize:{objectName:"icon",propertyName:"iconSize"}}},r={text:"text",icon:"icon"},s={fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",italic:"italic",bold:"bold",underline:"underline",text:"text",textVerticalAlignment:"verticalAlignment",textHorizontalAlignment:"horizontalAlignment",textLeftMargin:"leftMargin",textRightMargin:"rightMargin",textTopMargin:"topMargin",textBottomMargin:"bottomMargin",textRotation:"textAngle",shapeType:"shapeType",iconImage:"image",iconColor:"lineColor",iconTransparency:"lineTransparency",iconWeight:"lineWeight",iconPlacement:"placement",iconVerticalAlignment:"verticalAlignment",iconHorizontalAlignment:"horizontalAlignment",iconLeftMargin:"leftMargin",iconRightMargin:"rightMargin",iconTopMargin:"topMargin",iconBottomMargin:"bottomMargin",iconSize:"iconSize"},u=((v={show:d.iD.show})[s.fontColor]=d.iD.fontColor,v[s.fontSize]=d.iD.fontSize,v[s.fontFamily]=d.iD.fontFamily,v[s.underline]=d.iD.underline,v[s.italic]=d.iD.italic,v[s.bold]=d.iD.bold,v[s.text]={displayName:(0,e.V)("Text"),type:{text:!0},suppressFormatPainterCopy:!0},v[s.textVerticalAlignment]={displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},v[s.textHorizontalAlignment]={displayName:(0,e.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},v[s.textLeftMargin]={displayName:(0,e.V)("Visual_Margin_Left"),type:{integer:!0}},v[s.textRightMargin]={displayName:(0,e.V)("Visual_Margin_Right"),type:{integer:!0}},v[s.textTopMargin]={displayName:(0,e.V)("Visual_Margin_Top"),type:{integer:!0}},v[s.textBottomMargin]={displayName:(0,e.V)("Visual_Margin_Bottom"),type:{integer:!0}},v),i=((S={show:d.iD.show,shapeType:{displayName:(0,e.V)("Icon"),type:{enumeration:l.dt}}})[s.iconImage]=d.iD.image,S[s.iconColor]={displayName:(0,e.V)("Visual_LineColor"),type:{fill:{solid:{color:!0}}}},S[s.iconTransparency]=d.iD.lineTransparency,S[s.iconWeight]={displayName:(0,e.V)("Visual_BasicShape_Weight"),type:{integer:!0}},S[s.iconPlacement]={displayName:(0,e.V)("Visual_IconPlacement"),type:{enumeration:o.dt}},S[s.iconVerticalAlignment]={displayName:(0,e.V)("Visual_Alignment_Vertical"),type:{formatting:{alignment:!0}}},S[s.iconHorizontalAlignment]={displayName:(0,e.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},S[s.iconLeftMargin]={displayName:(0,e.V)("Visual_Margin_Left"),type:{integer:!0}},S[s.iconRightMargin]={displayName:(0,e.V)("Visual_Margin_Right"),type:{integer:!0}},S[s.iconTopMargin]={displayName:(0,e.V)("Visual_Margin_Top"),type:{integer:!0}},S[s.iconBottomMargin]={displayName:(0,e.V)("Visual_Margin_Bottom"),type:{integer:!0}},S[s.iconSize]={displayName:(0,e.V)("Visual_IconSize"),placeHolderText:(0,e.V)("Visual_Auto"),type:{numeric:!0}},S),a=((h={})[r.text]={displayName:(0,e.V)("Text"),properties:u},h[r.icon]={displayName:(0,e.V)("Icon"),properties:i},h)},830173:function(Xe,H,t){t.d(H,{zC:function(){return Ye},eM:function(){return A},Mn:function(){return I},OV:function(){return T}});var m,f,V,p,C,b,y,D,P,F,E,w,x,R,g,L,M,e=t(973188),l=t(572909),o=t(588376),d=t(313806),v=t(919876),S=t(871879),h=(0,o.i)([{value:0,displayName:function(_e){return _e.get("Visual_Paginated")}},{value:1,displayName:function(_e){return _e.get("Visual_Scroll")}}]),c=(0,o.i)([{value:0,displayName:function(_e){return _e.get("Slicer_Orientation_Vertical")}},{value:1,displayName:function(_e){return _e.get("Slicer_Orientation_Horizontal")}}]),r=t(100674),s=t(572766),u=t(664850),i=t(334824),a=t(126199),n=t(495570),T={fill:{show:{objectName:"fill",propertyName:"show"},fillColor:{objectName:"fill",propertyName:"fillColor"},transparency:{objectName:"fill",propertyName:"transparency"},image:{objectName:"fill",propertyName:"image"}},fillCustom:{show:{objectName:"fillCustom",propertyName:"show"},fillColor:{objectName:"fillCustom",propertyName:"fillColor"},transparency:{objectName:"fillCustom",propertyName:"transparency"},imageSplitTransparency:{objectName:"fillCustom",propertyName:"imageSplitTransparency"},image:{objectName:"fillCustom",propertyName:"image"},imageTransparency:{objectName:"fillCustom",propertyName:"imageTransparency"}},layout:{alignment:{objectName:"layout",propertyName:"alignment"},orientation:{objectName:"layout",propertyName:"orientation"},rowCount:{objectName:"layout",propertyName:"rowCount"},columnCount:{objectName:"layout",propertyName:"columnCount"},cellPadding:{objectName:"layout",propertyName:"cellPadding"},customizePadding:{objectName:"layout",propertyName:"customizePadding"},rowPadding:{objectName:"layout",propertyName:"rowPadding"},columnPadding:{objectName:"layout",propertyName:"columnPadding"},calloutSize:{objectName:"layout",propertyName:"calloutSize"}},label:{show:{objectName:"label",propertyName:"show"},fontColor:{objectName:"label",propertyName:"fontColor"},fontSize:{objectName:"label",propertyName:"fontSize"},fontFamily:{objectName:"label",propertyName:"fontFamily"},italic:{objectName:"label",propertyName:"italic"},bold:{objectName:"label",propertyName:"bold"},underline:{objectName:"label",propertyName:"underline"},text:{objectName:"label",propertyName:"text"},heading:{objectName:"label",propertyName:"heading"},position:{objectName:"label",propertyName:"position"},transparency:{objectName:"label",propertyName:"transparency"},textWrap:{objectName:"label",propertyName:"textWrap"},alignBaselines:{objectName:"label",propertyName:"alignBaselines"},field:{objectName:"label",propertyName:"field"},matchValueAlignment:{objectName:"label",propertyName:"matchValueAlignment"}},overFlow:{overFlowStyle:{objectName:"overFlow",propertyName:"overFlowStyle"},overFlowDirection:{objectName:"overFlow",propertyName:"overFlowDirection"}},outline:{show:{objectName:"outline",propertyName:"show"},lineColor:{objectName:"outline",propertyName:"lineColor"},weight:{objectName:"outline",propertyName:"weight"},transparency:{objectName:"outline",propertyName:"transparency"}},shape:{tileShape:{objectName:"shape",propertyName:"tileShape"},roundEdge:{objectName:"shape",propertyName:"roundEdge"},arrowheadSize:{objectName:"shape",propertyName:"arrowheadSize"},arrowStemWidth:{objectName:"shape",propertyName:"arrowStemWidth"},chevronAngle:{objectName:"shape",propertyName:"chevronAngle"},isocelesTriangleTipPosition:{objectName:"shape",propertyName:"isocelesTriangleTipPosition"},parallelogramSlant:{objectName:"shape",propertyName:"parallelogramSlant"},trapezoidSlant:{objectName:"shape",propertyName:"trapezoidSlant"},hexagonSlant:{objectName:"shape",propertyName:"hexagonSlant"},octagonSnipSize:{objectName:"shape",propertyName:"octagonSnipSize"},speechBubbleHeight:{objectName:"shape",propertyName:"speechBubbleHeight"},speechBubbleTailPosition:{objectName:"shape",propertyName:"speechBubbleTailPosition"},speechBubbleTailAngle:{objectName:"shape",propertyName:"speechBubbleTailAngle"},rectangleRoundedCurve:{objectName:"shape",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTopRight:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTopRight"},tabCutCornerSnipSizeTop:{objectName:"shape",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shape",propertyName:"tabCutCornerSnipSizeBottom"},tabRoundCornerTopRight:{objectName:"shape",propertyName:"tabRoundCornerTopRight"},tabRoundCornerTop:{objectName:"shape",propertyName:"tabRoundCornerTop"},tabRoundCornerBottom:{objectName:"shape",propertyName:"tabRoundCornerBottom"}},shapeCustomRectangle:{rectangleRoundedCurveLeftTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftTop"},rectangleRoundedCurveRightTop:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightTop"},rectangleRoundedCurveLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveLeftBottom"},rectangleRoundedCurveRightBottom:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveRightBottom"},rectangleRoundedCurveCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurveCustomStyle"},rectangleRoundedCurve:{objectName:"shapeCustomRectangle",propertyName:"rectangleRoundedCurve"},tabCutCornerSnipSizeTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeTop"},tabCutCornerSnipSizeBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeBottom"},tabCutCornerSnipSizeCustomStyle:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeCustomStyle"},tabCutCornerSnipSizeLeftTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftTop"},tabCutCornerSnipSizeRightTop:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightTop"},tabCutCornerSnipSizeLeftBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeLeftBottom"},tabCutCornerSnipSizeRightBottom:{objectName:"shapeCustomRectangle",propertyName:"tabCutCornerSnipSizeRightBottom"},tileShape:{objectName:"shapeCustomRectangle",propertyName:"tileShape"}},shadow:{show:{objectName:"shadow",propertyName:"show"},color:{objectName:"shadow",propertyName:"color"},transparency:{objectName:"shadow",propertyName:"transparency"},shadowBlur:{objectName:"shadow",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadow",propertyName:"shadowPositionPreset"},angle:{objectName:"shadow",propertyName:"angle"},shadowDistance:{objectName:"shadow",propertyName:"shadowDistance"}},glow:{show:{objectName:"glow",propertyName:"show"},color:{objectName:"glow",propertyName:"color"},transparency:{objectName:"glow",propertyName:"transparency"},shadowBlur:{objectName:"glow",propertyName:"shadowBlur"}},shadowCustom:{show:{objectName:"shadowCustom",propertyName:"show"},color:{objectName:"shadowCustom",propertyName:"color"},transparency:{objectName:"shadowCustom",propertyName:"transparency"},shadowBlur:{objectName:"shadowCustom",propertyName:"shadowBlur"},shadowPositionPreset:{objectName:"shadowCustom",propertyName:"shadowPositionPreset"},angle:{objectName:"shadowCustom",propertyName:"angle"},shadowDistance:{objectName:"shadowCustom",propertyName:"shadowDistance"},position:{objectName:"shadowCustom",propertyName:"position"},shadowSpread:{objectName:"shadowCustom",propertyName:"shadowSpread"}},glowCustom:{show:{objectName:"glowCustom",propertyName:"show"},color:{objectName:"glowCustom",propertyName:"color"},transparency:{objectName:"glowCustom",propertyName:"transparency"},shadowBlur:{objectName:"glowCustom",propertyName:"shadowBlur"},glowPositionPreset:{objectName:"glowCustom",propertyName:"glowPositionPreset"},angle:{objectName:"glowCustom",propertyName:"angle"},glowDistance:{objectName:"glowCustom",propertyName:"glowDistance"},position:{objectName:"glowCustom",propertyName:"position"},glowSpread:{objectName:"glowCustom",propertyName:"glowSpread"}},accentBar:{show:{objectName:"accentBar",propertyName:"show"},position:{objectName:"accentBar",propertyName:"position"},color:{objectName:"accentBar",propertyName:"color"},transparency:{objectName:"accentBar",propertyName:"transparency"},width:{objectName:"accentBar",propertyName:"width"}},padding:{paddingSelection:{objectName:"padding",propertyName:"paddingSelection"},leftMargin:{objectName:"padding",propertyName:"leftMargin"},rightMargin:{objectName:"padding",propertyName:"rightMargin"},topMargin:{objectName:"padding",propertyName:"topMargin"},bottomMargin:{objectName:"padding",propertyName:"bottomMargin"}},value:{show:{objectName:"value",propertyName:"show"},fontColor:{objectName:"value",propertyName:"fontColor"},fontSize:{objectName:"value",propertyName:"fontSize"},fontFamily:{objectName:"value",propertyName:"fontFamily"},italic:{objectName:"value",propertyName:"italic"},bold:{objectName:"value",propertyName:"bold"},underline:{objectName:"value",propertyName:"underline"},text:{objectName:"value",propertyName:"text"},horizontalAlignment:{objectName:"value",propertyName:"horizontalAlignment"},transparency:{objectName:"value",propertyName:"transparency"},textWrap:{objectName:"value",propertyName:"textWrap"},labelDisplayUnits:{objectName:"value",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"value",propertyName:"labelPrecision"},customFormatString:{objectName:"value",propertyName:"customFormatString"},showBlankAs:{objectName:"value",propertyName:"showBlankAs"}},spacing:{verticalSpacing:{objectName:"spacing",propertyName:"verticalSpacing"}}},O=(0,o.i)([{value:"custom",displayName:function(_e){return _e.get("Custom")}},{value:"top",displayName:function(_e){return _e.get("Top")}},{value:"topLeft",displayName:function(_e){return _e.get("Visual_LabelPosition_TopLeft")}},{value:"topRight",displayName:function(_e){return _e.get("Visual_LabelPosition_TopRight")}},{value:"center",displayName:function(_e){return _e.get("Visual_TextAlignment_Center")}},{value:"centerLeft",displayName:function(_e){return _e.get("Visual_TextAlignment_Left")}},{value:"centerRight",displayName:function(_e){return _e.get("Visual_TextAlignment_Right")}},{value:"bottom",displayName:function(_e){return _e.get("Bottom")}},{value:"bottomLeft",displayName:function(_e){return _e.get("Visual_LabelPosition_BottomLeft")}},{value:"bottomRight",displayName:function(_e){return _e.get("Visual_LabelPosition_BottomRight")}}]),N=(0,o.i)([{value:"Outer",displayName:function(_e){return _e.get("Visual_DonutLabelPosition_Outside")}},{value:"Inner",displayName:function(_e){return _e.get("Visual_DonutLabelPosition_Inside")}}]),A={accentBar:"accentBar",calloutLayout:"calloutLayout",fill:"fill",fillCustom:"fillCustom",layout:"layout",label:"label",outline:"outline",padding:"padding",shape:"shape",shadow:"shadow",glow:"glow",shapeCustomRectangle:"shapeCustomRectangle",shadowCustom:"shadowCustom",spacing:"spacing",glowCustom:"glowCustom",value:"value",overFlow:"overFlow"},I={alignment:"alignment",calloutSize:"calloutSize",columnCount:"columnCount",cellPadding:"cellPadding",accentBarColor:"color",accentBarTransparency:"transparency",accentBarWidth:"width",bottomMargin:"bottomMargin",fillColor:"fillColor",fillTransparency:"transparency",fillImage:"image",imageSplitTransparency:"imageSplitTransparency",imageTransparency:"imageTransparency",outlineColor:"lineColor",outlineWeight:"weight",outlineTransparency:"transparency",leftMargin:"leftMargin",matchValueAlignment:"matchValueAlignment",paddingSelection:"paddingSelection",tileShape:"tileShape",shapeRotation:"shapeAngle",shapeRounding:"roundEdge",shadowColor:"color",shadowTransparency:"transparency",shadowPositionPreset:"shadowPositionPreset",glowPositionPreset:"glowPositionPreset",shadowBlur:"shadowBlur",shadowAngle:"angle",shadowDistance:"shadowDistance",glowDistance:"glowDistance",shadowSpread:"shadowSpread",show:"show",glowSpread:"glowSpread",glowColor:"color",glowTransparency:"transparency",arrowheadSize:"arrowheadSize",arrowStemWidth:"arrowStemWidth",chevronAngle:"chevronAngle",isocelesTriangleTipPosition:"isocelesTriangleTipPosition",orientation:"orientation",parallelogramSlant:"parallelogramSlant",position:"position",trapezoidSlant:"trapezoidSlant",hexagonSlant:"hexagonSlant",octagonSnipSize:"octagonSnipSize",speechBubbleHeight:"speechBubbleHeight",speechBubbleTailPosition:"speechBubbleTailPosition",speechBubbleTailAngle:"speechBubbleTailAngle",rectangleRoundedCurve:"rectangleRoundedCurve",rectangleRoundedCurveCustomStyle:"rectangleRoundedCurveCustomStyle",rectangleRoundedCurveLeftTop:"rectangleRoundedCurveLeftTop",rectangleRoundedCurveRightTop:"rectangleRoundedCurveRightTop",rectangleRoundedCurveLeftBottom:"rectangleRoundedCurveLeftBottom",rectangleRoundedCurveRightBottom:"rectangleRoundedCurveRightBottom",rowCount:"rowCount",rightMargin:"rightMargin",tabCutCornerSnipSizeTopRight:"tabCutCornerSnipSizeTopRight",tabCutCornerSnipSizeTop:"tabCutCornerSnipSizeTop",tabCutCornerSnipSizeCustomStyle:"tabCutCornerSnipSizeCustomStyle",tabCutCornerSnipSizeLeftTop:"tabCutCornerSnipSizeLeftTop",tabCutCornerSnipSizeRightTop:"tabCutCornerSnipSizeRightTop",tabCutCornerSnipSizeLeftBottom:"tabCutCornerSnipSizeLeftBottom",tabCutCornerSnipSizeRightBottom:"tabCutCornerSnipSizeRightBottom",tabCutCornerSnipSizeBottom:"tabCutCornerSnipSizeBottom",tabRoundCornerTopRight:"tabRoundCornerTopRight",tabRoundCornerTop:"tabRoundCornerTop",tabRoundCornerBottom:"tabRoundCornerBottom",alignBaselines:"alignBaselines",bold:"bold",customFormatString:"customFormatString",fontColor:"fontColor",fontSize:"fontSize",fontFamily:"fontFamily",horizontalAlignment:"horizontalAlignment",italic:"italic",labelDisplayUnits:"labelDisplayUnits",labelPrecision:"labelPrecision",showBlankAs:"showBlankAs",textWrap:"textWrap",transparency:"transparency",text:"text",heading:"heading",underline:"underline",topMargin:"topMargin",verticalSpacing:"verticalSpacing",OverFlowStyle:"overFlowStyle",OverFlowDirection:"overFlowDirection",customizePadding:"customizePadding",rowPadding:"rowPadding",columnPadding:"columnPadding"},B=((m={show:n.iD.show})[I.fillColor]=n.iD.fill,m[I.fillTransparency]=n.iD.transparency,m[I.fillImage]=n.iD.image,m),U=((f={show:n.iD.show})[I.fillColor]=n.iD.fill,f[I.fillTransparency]=n.iD.transparency,f[I.fillImage]=n.iD.image,f[I.imageTransparency]=n.iD.transparency,f[I.imageSplitTransparency]={type:{bool:!0}},f),W=((V={show:n.iD.show})[I.outlineColor]=n.iD.outlineColor,V[I.outlineTransparency]=n.iD.lineTransparency,V[I.outlineWeight]=n.iD.outlineWeight,V),j=((p={})[I.tileShape]={displayName:(0,l.V)("Visual_Shape"),type:{enumeration:u.d},suppressFormatPainterCopy:!0},p[I.shapeRounding]={displayName:(0,l.V)("Visual_BasicShape_RoundEdges"),type:{integer:!0}},p[I.arrowheadSize]={displayName:(0,l.V)("Visual_Shape_ArrowheadSize"),type:{integer:!0}},p[I.arrowStemWidth]={displayName:(0,l.V)("Visual_Shape_ArrowStemWidth"),type:{integer:!0}},p[I.chevronAngle]={displayName:(0,l.V)("Visual_Angle"),type:{integer:!0}},p[I.isocelesTriangleTipPosition]={displayName:(0,l.V)("Visual_Shape_TriangleTipPosition"),type:{integer:!0}},p[I.parallelogramSlant]={displayName:(0,l.V)("Visual_Shape_Slant"),type:{integer:!0}},p[I.trapezoidSlant]={displayName:(0,l.V)("Visual_Shape_Slant"),type:{integer:!0}},p[I.hexagonSlant]={displayName:(0,l.V)("Visual_Shape_Slant"),type:{integer:!0}},p[I.octagonSnipSize]={displayName:(0,l.V)("Visual_Shape_OctagonSnipSize"),type:{integer:!0}},p[I.speechBubbleHeight]={displayName:(0,l.V)("Visual_Shape_ChatBubbleHeight"),type:{integer:!0}},p[I.speechBubbleTailPosition]={displayName:(0,l.V)("Visual_Shape_ChatTailPosition"),type:{enumeration:i.dt}},p[I.speechBubbleTailAngle]={displayName:(0,l.V)("Visual_Shape_ChatTailAngle"),type:{integer:!0}},p[I.rectangleRoundedCurve]={displayName:(0,l.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},p[I.tabCutCornerSnipSizeTopRight]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTopRight"),type:{integer:!0}},p[I.tabCutCornerSnipSizeTop]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},p[I.tabCutCornerSnipSizeBottom]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},p[I.tabRoundCornerTop]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},p[I.tabRoundCornerTopRight]={displayName:(0,l.V)("Visual_Shape_TabRoundingTopRight"),type:{integer:!0}},p[I.tabRoundCornerTop]={displayName:(0,l.V)("Visual_Shape_TabRoundingTop"),type:{integer:!0}},p[I.tabRoundCornerBottom]={displayName:(0,l.V)("Visual_Shape_TabRoundingBottom"),type:{integer:!0}},p),K=((C={})[I.tileShape]={displayName:(0,l.V)("Visual_Shape"),type:{enumeration:u.d},suppressFormatPainterCopy:!0},C[I.rectangleRoundedCurveCustomStyle]={displayName:(0,l.V)("Visual_CustomStyle"),type:{bool:!0}},C[I.rectangleRoundedCurveLeftTop]={displayName:(0,l.V)("Visual_CornerTopLeft"),type:{integer:!0}},C[I.rectangleRoundedCurveRightTop]={displayName:(0,l.V)("Visual_CornerTopRight"),type:{integer:!0}},C[I.rectangleRoundedCurveLeftBottom]={displayName:(0,l.V)("Visual_CornerBottomLeft"),type:{integer:!0}},C[I.rectangleRoundedCurveRightBottom]={displayName:(0,l.V)("Visual_CornerBottomRight"),type:{integer:!0}},C[I.rectangleRoundedCurve]={displayName:(0,l.V)("Visual_Shape_RectangleRoundedCurve"),type:{integer:!0}},C[I.tabCutCornerSnipSizeTop]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeTop"),type:{integer:!0}},C[I.tabCutCornerSnipSizeCustomStyle]={displayName:(0,l.V)("Visual_CustomStyle"),type:{bool:!0}},C[I.tabCutCornerSnipSizeLeftTop]={displayName:(0,l.V)("Visual_CornerTopLeft"),type:{integer:!0}},C[I.tabCutCornerSnipSizeRightTop]={displayName:(0,l.V)("Visual_CornerTopRight"),type:{integer:!0}},C[I.tabCutCornerSnipSizeLeftBottom]={displayName:(0,l.V)("Visual_CornerBottomLeft"),type:{integer:!0}},C[I.tabCutCornerSnipSizeRightBottom]={displayName:(0,l.V)("Visual_CornerBottomRight"),type:{integer:!0}},C[I.tabCutCornerSnipSizeBottom]={displayName:(0,l.V)("Visual_Shape_TabSnipSizeBottom"),type:{integer:!0}},C),ee=((b={show:n.iD.show})[I.shadowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},b[I.shadowTransparency]=n.iD.transparency,b[I.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},b[I.shadowPositionPreset]={displayName:(0,l.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},b[I.shadowAngle]={displayName:(0,l.V)("Visual_Angle"),type:{numeric:!0}},b[I.shadowDistance]={displayName:(0,l.V)("Distance"),type:{numeric:!0}},b),ie=((y={show:n.iD.show})[I.glowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},y[I.glowTransparency]=n.iD.transparency,y[I.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},y),he=((D={show:n.iD.show})[I.shadowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},D[I.shadowTransparency]=n.iD.transparency,D[I.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},D[I.shadowPositionPreset]={displayName:(0,l.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},D[I.shadowAngle]={displayName:(0,l.V)("Visual_Angle"),type:{numeric:!0}},D[I.shadowDistance]={displayName:(0,l.V)("Distance"),type:{numeric:!0}},D[I.position]={displayName:(0,l.V)("Offset"),type:{enumeration:N}},D[I.shadowSpread]={displayName:(0,l.V)("Visual_BubbleSize"),type:{numeric:!0}},D),q=((P={show:n.iD.show})[I.glowColor]={displayName:(0,l.V)("Generic_Color"),type:{fill:{solid:{color:!0}}}},P[I.glowTransparency]=n.iD.transparency,P[I.shadowBlur]={displayName:(0,l.V)("Visual_DropShadow_Blur"),type:{numeric:!0}},P[I.glowPositionPreset]={displayName:(0,l.V)("Visual_DropShadow_Preset"),type:{enumeration:O}},P[I.shadowAngle]={displayName:(0,l.V)("Visual_Angle"),type:{numeric:!0}},P[I.glowDistance]={displayName:(0,l.V)("Distance"),type:{numeric:!0}},P[I.position]={displayName:(0,l.V)("Offset"),type:{enumeration:N}},P[I.glowSpread]={displayName:(0,l.V)("Visual_BubbleSize"),type:{numeric:!0}},P),Y=((F={show:n.iD.show})[I.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:S.u0}},F[I.accentBarColor]={displayName:(0,l.V)("Visual_Reference_Line_Color"),type:{fill:{solid:{color:!0}}}},F[I.accentBarTransparency]=n.iD.transparency,F[I.accentBarWidth]={displayName:(0,l.V)("Visual_General_Properties_Width"),type:{integer:!0}},F),G=((E={})[I.alignment]={displayName:(0,l.V)("Visual_TextAlignment"),type:{formatting:{alignment:!0}}},E[I.orientation]={displayName:(0,l.V)("Visual_Arrangement"),type:{enumeration:r.S}},E[I.rowCount]={displayName:(0,l.V)("Small_Multiples_Layout_Rows"),type:{integer:!0}},E[I.columnCount]={displayName:(0,l.V)("Small_Multiples_Layout_Columns"),type:{integer:!0}},E[I.cellPadding]={displayName:(0,l.V)("Visual_Spacing_Between_Cards"),type:{integer:!0}},E[I.customizePadding]={displayName:(0,l.V)("Visual_Spacing_Customize"),type:{bool:!0}},E[I.rowPadding]={displayName:(0,l.V)("Visual_Arrangement_SpaceRows"),type:{integer:!0}},E[I.columnPadding]={displayName:(0,l.V)("Visual_Arrangement_SpaceColumns"),type:{integer:!0}},E[I.calloutSize]={displayName:(0,l.V)("Visual_CallOutSize"),type:{numeric:!0}},E),me=((w={})[I.OverFlowStyle]={displayName:(0,l.V)("Visual_OverFlow_Style"),type:{enumeration:h}},w[I.OverFlowDirection]={displayName:(0,l.V)("Visual_OverFlow_Direction"),type:{enumeration:c}},w),re=((x={})[I.paddingSelection]={displayName:(0,l.V)("Embed_Size"),type:{enumeration:s.dt}},x[I.leftMargin]={displayName:(0,l.V)("Visual_Margin_Left"),type:{integer:!0}},x[I.rightMargin]={displayName:(0,l.V)("Visual_Margin_Right"),type:{integer:!0}},x[I.topMargin]={displayName:(0,l.V)("Visual_Margin_Top"),type:{integer:!0}},x[I.bottomMargin]={displayName:(0,l.V)("Visual_Margin_Bottom"),type:{integer:!0}},x),le=((R={show:n.iD.show})[I.fontColor]=n.iD.fontColor,R[I.fontSize]=n.iD.fontSize,R[I.fontFamily]=n.iD.fontFamily,R[I.underline]=n.iD.underline,R[I.italic]=n.iD.italic,R[I.bold]=n.iD.bold,R[I.horizontalAlignment]={displayName:(0,l.V)("Visual_Alignment_Horizontal"),type:{formatting:{alignment:!0}}},R[I.textWrap]=n.iD.textWrap,R[I.labelDisplayUnits]=(0,e.__assign)((0,e.__assign)({},n.iD.labelDisplayUnits),{type:{enumeration:v.d}}),R[I.labelPrecision]=n.iD.labelPrecision,R[I.customFormatString]={displayName:(0,l.V)("Visual_FormatCode"),description:(0,l.V)("Visual_FormatCode_Description"),type:{text:!0}},R[I.showBlankAs]=n.iD.showBlankAs,R[I.transparency]=n.iD.transparency,R),Ee=((g={show:n.iD.show})[I.text]={displayName:(0,l.V)("Text"),type:{text:!0}},g[I.heading]={displayName:(0,l.V)("Visual_AzureMapsHeading"),type:{enumeration:a.dt}},g[I.fontColor]=n.iD.fontColor,g[I.fontSize]=n.iD.fontSize,g[I.fontFamily]=n.iD.fontFamily,g[I.underline]=n.iD.underline,g[I.italic]=n.iD.italic,g[I.bold]=n.iD.bold,g[I.position]={displayName:(0,l.V)("Visual_Position"),type:{enumeration:d.dt}},g[I.transparency]=n.iD.transparency,g[I.textWrap]=n.iD.textWrap,g[I.alignBaselines]={displayName:(0,l.V)("Visual_AlignBaselines"),type:{bool:!0}},g[I.matchValueAlignment]={displayName:(0,l.V)("Visual_Alignment_MatchValue"),type:{bool:!0}},g),Ne=((L={})[I.verticalSpacing]={displayName:(0,l.V)("Visual_Spacing_Vertical"),type:{integer:!0}},L),Ye=((M={})[A.fill]={displayName:(0,l.V)("Visual_Fill"),properties:B},M[A.fillCustom]={displayName:(0,l.V)("Visual_Fill"),properties:U},M[A.outline]={displayName:(0,l.V)("Visual_Outline"),properties:W},M[A.shape]={displayName:(0,l.V)("Visual_Shape"),properties:j},M[A.shadow]={displayName:(0,l.V)("Visual_Shape_Shadow"),properties:ee},M[A.glow]={displayName:(0,l.V)("Visual_Shape_Glow"),properties:ie},M[A.shapeCustomRectangle]={displayName:(0,l.V)("Visual_Shape"),properties:K},M[A.shadowCustom]={displayName:(0,l.V)("Visual_Shape_Shadow"),properties:he},M[A.glowCustom]={displayName:(0,l.V)("Visual_Shape_Glow"),properties:q},M[A.accentBar]={displayName:(0,l.V)("Visual_Outline_AccentBar"),properties:Y},M[A.padding]={displayName:(0,l.V)("Visual_Padding"),properties:re},M[A.value]={displayName:(0,l.V)("Role_DisplayName_Values"),properties:le},M[A.label]={displayName:(0,l.V)("Role_DisplayName_Label"),properties:Ee},M[A.layout]={displayName:(0,l.V)("Small_Multiples_LayoutGroup"),properties:G},M[A.overFlow]={displayName:(0,l.V)("Visual_OverFlow"),properties:me},M[A.spacing]={displayName:(0,l.V)("RibbonChart_SeriesGapWidth"),properties:Ne},M)},604284:function(Xe,H,t){t.d(H,{A4:function(){return v},_H:function(){return r},cB:function(){return S}});var s,e=t(860931),l=t(273269),o=t(572909),d=t(495570),v={group:"Group",details:"Details",values:"Values",gradient:"Gradient"};function S(s){return{dataRoles:c(s&&s.cartesianConditionalFormatting,s&&s.useModernFormatPane),objects:{general:{displayName:(0,o.V)("Visual_General"),properties:{formatString:d.iD.formatString}},legend:d.TQ.legend,dataPoint:{displayName:(0,o.V)("Visual_DataPoint"),description:(0,o.V)("Visual_DataPointDescription"),properties:{fill:d.iD.defaultCategoryColor,fillRule:{displayName:(0,o.V)("Visual_Gradient"),type:{fillRule:{}},rule:{inputRole:"Gradient",output:{property:"fill",selector:["Group"]}}}}},labels:{displayName:(0,o.V)("Visual_DataPointsLabels"),description:(0,o.V)("Visual_DataPointsLabelsDescription"),properties:{show:d.iD.show,color:d.iD.dataColor,labelDisplayUnits:d.iD.labelDisplayUnits,labelPrecision:d.iD.labelPrecision,fontSize:d.iD.fontSize,bold:d.iD.bold,italic:d.iD.italic,underline:d.iD.underline,fontFamily:d.iD.fontFamily}},categoryLabels:{displayName:(0,o.V)("Visual_CategoryLabels"),description:(0,o.V)("Visual_CategoryLabelsDescription"),properties:{show:d.iD.show,color:d.iD.categoryColor,fontSize:d.iD.fontSize,bold:d.iD.bold,italic:d.iD.italic,underline:d.iD.underline,fontFamily:d.iD.fontFamily}}},dataViewMappings:[{conditions:[{Group:{max:1},Details:{max:0},Gradient:{max:1}},{Group:{max:1},Details:{min:1,max:1},Values:{max:1},Gradient:{max:0}}],categorical:{categories:{for:{in:"Group"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Details",select:[{bind:{to:"Values"}},{bind:{to:"Gradient"}},{for:{in:"Tooltips"}}],dataReductionAlgorithm:{top:{}}}},rowCount:{preferred:{min:2}}}}],supportsHighlight:!0,sorting:{custom:{},implicit:{clauses:[{role:"Values",direction:2}]}},drilldown:{roles:["Group"]},grouping:{groupingRules:[{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",kind:1},{condition:{Group:{min:1,max:1},Details:{max:1},Values:{min:1,max:1},Gradient:{min:0}},groupingTargetRole:"Group",groupSourceTargetRole:"Details",kind:0},{condition:{Group:{min:1,max:1},Details:{min:0},Values:{min:1,max:1},Gradient:{min:1,max:1}},groupingTargetRole:"Group",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0,supportsOnObjectFormatting:!0}}function c(s,u){var i=[{name:"Group",kind:l.DW.Grouping,displayName:(0,o.V)(u?"Role_DisplayName_Category":"Group"),description:(0,o.V)("Role_DisplayName_GroupTreemapDescription")},{name:"Details",kind:l.DW.Grouping,displayName:(0,o.V)("Details")},{name:"Values",kind:l.DW.Measure,displayName:(0,o.V)("Role_DisplayName_Values"),description:(0,o.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}]}];return s||i.push({name:"Gradient",kind:l.DW.Measure,displayName:(0,o.V)("Role_DisplayName_Gradient"),description:(0,o.V)("Role_DisplayName_GradientDescription"),requiredTypes:[{numeric:!0},{integer:!0}],joinPredicate:0}),i.push({name:"Tooltips",kind:l.DW.Measure,displayName:(0,o.V)("Role_DisplayName_Tooltips"),description:(0,o.V)("Role_Tooltips_Description"),joinPredicate:0}),i}(s=(0,e.Z7)()).getTreemapCapabilities||(s.getTreemapCapabilities=function(){return S()});var r={general:{formatString:{objectName:"general",propertyName:"formatString"}},dataPoint:{fill:{objectName:"dataPoint",propertyName:"fill"}},legend:{show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"}},labels:{show:{objectName:"labels",propertyName:"show"},color:{objectName:"labels",propertyName:"color"},labelDisplayUnits:{objectName:"labels",propertyName:"labelDisplayUnits"},labelPrecision:{objectName:"labels",propertyName:"labelPrecision"},fontSize:{objectName:"labels",propertyName:"fontSize"},bold:{objectName:"labels",propertyName:"bold"},italic:{objectName:"labels",propertyName:"italic"},underline:{objectName:"labels",propertyName:"underline"},fontFamily:{objectName:"labels",propertyName:"fontFamily"}},categoryLabels:{show:{objectName:"categoryLabels",propertyName:"show"},color:{objectName:"categoryLabels",propertyName:"color"},fontSize:{objectName:"categoryLabels",propertyName:"fontSize"},bold:{objectName:"categoryLabels",propertyName:"bold"},italic:{objectName:"categoryLabels",propertyName:"italic"},underline:{objectName:"categoryLabels",propertyName:"underline"},fontFamily:{objectName:"categoryLabels",propertyName:"fontFamily"}}}},615116:function(Xe,H,t){t.d(H,{GJ:function(){return s},IT:function(){return c},wW:function(){return r}});var e=t(973188),l=t(406057),o=t(273269),d=t(572909),v=t(355853),S=t(52825),h=t(495570),c={category:"Category",breakdown:"Breakdown",y:"Y",tooltips:"Tooltips"},r=(0,l.wZ)(s().objects);function s(u){return{dataRoles:[{name:c.category,kind:o.DW.Grouping,displayName:(0,d.V)("Role_DisplayName_Category"),description:(0,d.V)("Role_DisplayName_CategoryWaterfallDescription")},{name:c.breakdown,kind:o.DW.Grouping,displayName:(0,d.V)("Role_DisplayName_BreakdownWaterfall"),description:(0,d.V)("Role_DisplayName_BreakdownWaterfallDescription")},{name:c.y,kind:o.DW.Measure,requiredTypes:[{numeric:!0},{integer:!0}],displayName:(0,d.V)(null!=u&&u.useModernFormatPane?"Visual_YAxis_Hyphen":"Role_DisplayName_Values"),description:(0,d.V)("Role_DisplayName_ValuesDescription")},{name:c.tooltips,kind:o.DW.Measure,displayName:(0,d.V)("Role_DisplayName_Tooltips"),description:(0,d.V)("Role_Tooltips_Description"),joinPredicate:0}],objects:{general:{displayName:(0,d.V)("Visual_General"),properties:{formatString:h.iD.formatString,responsive:h.iD.responsive,responsiveLegacy:h.iD.responsiveLegacy}},legend:h.TQ.legend,categoryAxis:{displayName:(0,d.V)("Visual_XAxis"),properties:{show:h.iD.show,showAxisTitle:h.iD.showAxisTitle_X,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,preferredCategoryWidth:h.iD.preferredCategoryWidth,maxMarginFactor:h.iD.maxMarginFactor,innerPadding:h.iD.innerPadding,titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText}},valueAxis:{displayName:(0,d.V)("Visual_YAxis"),properties:{show:h.iD.show,start:h.iD.axisStart,end:h.iD.axisEnd,invertAxis:h.iD.invertAxis,showAxisTitle:h.iD.showAxisTitle_Y,axisStyle:h.iD.axisStyle,labelColor:h.iD.labelColor,fontFamily:h.iD.fontFamily,fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,labelDisplayUnits:h.iD.labelDisplayUnits,labelPrecision:h.iD.labelPrecision,totalsEnabled:h.iD.totalsEnabled,titleColor:h.iD.titleColor,titleFontFamily:h.iD.fontFamily,titleFontSize:h.iD.titleFontSize,titleBold:h.iD.bold,titleItalic:h.iD.italic,titleUnderline:h.iD.underline,titleText:h.iD.titleText,gridlineShow:(0,e.__assign)((0,e.__assign)({},h.iD.show),{displayName:(0,d.V)("Visual_Gridline_Show")}),gridlineColor:h.iD.lineColor,gridlineThickness:h.iD.strokeWidth,gridlineStyle:h.iD.lineStyle,switchAxisPosition:h.iD.switchAxisPosition}},labels:{displayName:(0,d.V)("Visual_DataPointsLabels"),description:(0,d.V)("Visual_DataPointsLabelsDescription"),properties:{show:h.iD.show,color:h.iD.dataColor,labelDisplayUnits:h.iD.dataLabelDisplayUnits,labelPrecision:(0,e.__assign)((0,e.__assign)({},h.iD.labelPrecision),{suppressFormatPainterCopy:!0}),fontSize:h.iD.fontSize,bold:h.iD.bold,italic:h.iD.italic,underline:h.iD.underline,fontFamily:h.iD.fontFamily,labelOrientation:{displayName:(0,d.V)("Visual_LabelOrientation"),type:{enumeration:v.d}},labelPosition:{displayName:(0,d.V)("Visual_Position"),type:{enumeration:S.dt}},enableBackground:h.iD.labelEnableBackground,backgroundColor:h.iD.labelBackgroundColor,backgroundTransparency:h.iD.labelBackgroundTransparency}},plotArea:{displayName:(0,d.V)("Visual_Plot"),properties:{transparency:h.iD.transparency,image:h.iD.image}},sentimentColors:{displayName:(0,d.V)("Waterfall_SentimentColors"),properties:{increaseFill:{displayName:(0,d.V)("Increase"),type:{fill:{solid:{color:!0}}}},decreaseFill:{displayName:(0,d.V)("Decrease"),type:{fill:{solid:{color:!0}}}},totalFill:{displayName:(0,d.V)("Waterfall_TotalLabel"),type:{fill:{solid:{color:!0}}}},otherFill:{displayName:(0,d.V)("Waterfall_OtherLabel"),type:{fill:{solid:{color:!0}}}}}},y1AxisReferenceLine:{displayName:(0,d.V)("Visual_Reference_Line"),description:(0,d.V)("Visual_Reference_Line_Description"),objectCategory:2,properties:{show:h.iD.show,displayName:h.iD.referenceLineDisplayName,value:h.iD.referenceLineValue,lineColor:h.iD.referenceLineColor,transparency:h.iD.referenceLineTransparency,style:h.iD.lineStyle,position:h.iD.referenceLinePosition,dataLabelShow:h.iD.dataLabelShow,dataLabelColor:h.iD.dataLabelColor,dataLabelText:h.iD.dataLabelText,dataLabelDecimalPoints:h.iD.dataLabelDecimalPoints,dataLabelHorizontalPosition:h.iD.dataLabelHorizontalPosition,dataLabelVerticalPosition:h.iD.dataLabelVerticalPosition,dataLabelDisplayUnits:h.iD.dataLabelDisplayUnits}},breakdown:{displayName:(0,d.V)("Visual_Waterfall_Breakdown"),properties:{maxBreakdowns:{displayName:(0,d.V)("Visual_Waterfall_MaxBreakdown"),description:(0,d.V)("Visual_Waterfall_MaxBreakdown_Description"),type:{integer:!0}}}}},dataViewMappings:[{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{max:0}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{select:[{bind:{to:"Y"}},{for:{in:"Tooltips"}}]}}},{conditions:[{Category:{max:1},Y:{max:1},Breakdown:{min:1,max:1}}],matrix:{rows:{select:[{composite:[{for:{in:"Category"}}]}],dataReductionAlgorithm:{window:{count:30}}},columns:{for:{in:"Breakdown"},dataReductionAlgorithm:{top:{count:200}}},values:{select:[{bind:{to:"Y"}},{bind:{to:"Tooltips"}}]}}}],sorting:{default:{}},drilldown:{roles:["Category"]},grouping:{groupingRules:[{condition:{Category:{min:1,max:1},Y:{min:1,max:1}},groupingTargetRole:"Category",kind:1}]},supportsMultiVisualSelection:!0,tooltips:{supportedTypes:{default:!0,canvas:!0},roles:["Tooltips"],supportEnhancedTooltips:!0},supportsKeyboardFocus:!0}}},396898:function(Xe,H,t){t.d(H,{$9:function(){return i},A8:function(){return m},Hx:function(){return a},PX:function(){return s},_K:function(){return u},iQ:function(){return f}});var e=t(498342),l=t(225069),o=t(470081),d=t(493369),v=t(637916),S=t(861344),h=t(798871),c=t(175680),r=t(262351);function s(V,p,C,b,y){return!(y&&!b)&&(!!function(V){return V&&!_.isEmpty(V.values)}(b)||u(V,p,C))}function u(V,p,C){return!(!a(C)||!i(V,p))}function i(V,p){if(!V)return!0;var C=(0,o.NA)(V,p);return null==C||C===c.iD}function a(V){return!(0,h.c$)(V)}function m(V){return(0,d.A8)(V,v.p.scalarKey.scalarKeyMin)}function f(V,p){if(!V||!V.metadata)return!1;var C;if(V.categorical&&V.categorical.categories&&(0,l.mn)(V.categorical.categories)?C=V.categorical.categories.for.in:p&&(0,r.qO)(V)&&(C=(0,r.b8)(V).for.in),null==C)return!1;var D=C.items;if(_.isEmpty(D))return!1;var P=C.activeItems,F=D[0];if(!_.isEmpty(P)){if(P.length>1)return!1;var E=_.find(D,function(R){return R.queryName===P[0]});e.fF.assertValue(E,"active projection must be part of category items"),F=E}return!!u(V.metadata.objects,S.mi.categoryAxis.axisType,F.type)}},262351:function(Xe,H,t){t.d(H,{D4:function(){return y},KD:function(){return f},OW:function(){return P},OX:function(){return m},QS:function(){return C},UE:function(){return r},XG:function(){return h},XM:function(){return u},Xi:function(){return S},Ye:function(){return p},ZO:function(){return s},ZU:function(){return i},b8:function(){return w},i_:function(){return V},qF:function(){return a},qO:function(){return b},qU:function(){return D},r8:function(){return c},s5:function(){return R},x_:function(){return n}});var e=t(696933),l=t(352402),o=t(225069),d=t(24513),v=t(613218),S="smallMultiplesLayout",h="subheader";function c(L,M){return(L+1)*M}var r=2,s=2,u=null,i=0,a=d.YP,n=v.SQ,m=e.md,f=1,V=12,p=!1,C=c(r,s);function b(L){return l.ZA.check(function(M){return{matrix:M.check(L&&L.matrix,l.Gg,function(T){return{rows:M.check(T.rows,o.G8,function(O){return{select:M.check(O.select,(0,l.dp)(2),function(N){return[M.check(N[0],o.oJ,function(A){return{composite:M.check(A.composite,(0,l.dp)(1),function(I){return[M.check(I[0],o.mn,l.yR)]}),dataReductionAlgorithm:A.dataReductionAlgorithm}}),M.check(N[1],o.oJ,function(A){return{composite:M.check(A.composite,(0,l.dp)(1),function(I){return[M.check(I[0],o.mn,l.yR)]}),dataReductionAlgorithm:A.dataReductionAlgorithm}})]})}}),columns:M.check(T.columns,o.mn,l.yR),values:M.check(T.values,o.G8,l.yR)}}),metadata:L.metadata}})}function y(L){return l.ZA.check(function(M){return{matrix:M.check(L&&L.matrix,l.Gg,function(T){return{rows:M.check(T.rows,o.VV,function(O){return{select:M.check(O.select,(0,l.dp)(2),function(N){return[M.check(N[0],o.V3,function(A){return{composite:M.check(A.composite,(0,l.dp)(1),function(I){return[M.check(I[0],o.Ti,l.yR)]}),dataReductionAlgorithm:A.dataReductionAlgorithm}}),M.check(N[1],o.V3,function(A){return{composite:M.check(A.composite,(0,l.dp)(1),function(I){return[M.check(I[0],o.Ti,l.yR)]}),dataReductionAlgorithm:A.dataReductionAlgorithm}})]})}}),columns:M.check(T.columns,o.Ti,l.yR)}})}})}function D(L){if(!_.isEmpty(L))for(var M=0,T=L;M<T.length;M++){var O=T[M];if(O.matrix&&y(O))return!0}return!1}function P(L){if(!_.isEmpty(L))for(var M=0,T=L;M<T.length;M++){var O=T[M];if(y(O))return O.matrix.rows.select[0].composite[0].for.in}}function w(L){return L.matrix.rows.select[1].composite[0]}function R(L,M){L.matrix.rows.select[1].dataReductionAlgorithm=M}},817611:function(Xe,H,t){t.d(H,{Bx:function(){return F},DM:function(){return P},HL:function(){return ie},Ik:function(){return Ye},It:function(){return y},K1:function(){return p},LO:function(){return K},LS:function(){return oe},MA:function(){return B},NG:function(){return Je},Ne:function(){return A},Si:function(){return E},XZ:function(){return I},ZS:function(){return M},el:function(){return Y},h_:function(){return ye},oN:function(){return T},oR:function(){return D},py:function(){return N},rH:function(){return b},rj:function(){return g},vb:function(){return L},xn:function(){return C},z$:function(){return O}});var e=t(498342),l=t(352402),o=t(812454),d=t(921449),v=t(225069),S=t(470081),h=t(85179),c=t(686311),r=t(366735),s=t(319124),u=t(396898),i=t(140168),a=t(806009),n=t(798871),m=t(789015),f=t(93063),V=t(258218),p={CategoryValue:"CategoryValue",Value:"Value",ExpectedValue:"ExpectedValue",ExpectedLow:"ExpectedLow",ExpectedHigh:"ExpectedHigh",RawScore:"RawScore",Anomaly:"Anomaly",BatchStart:"BatchStart",BatchEnd:"BatchEnd",FormattedCategoryValue:"FormattedCategoryValue",ValueFormatString:"ValueFormatString"},C="anomalyDetection",b="anomaly",y="isAnomalyHighlighted",D="sensitivity",P="Sensitivity",F="explainBy",E="referenceLine",g=_.mapValues(p,function(Ce){return"".concat(C,".").concat(Ce)}),L="SampleAndDetectAnomaly",M="transform",T="SampleSizePerSeries",O=.7,N={objectName:C,propertyName:M},A={objectName:C,propertyName:"show"},I={objectName:C,propertyName:F},B={show:"show",displayName:"displayName",markerShape:"markerShape",markerShapeSize:"markerShapeSize",markerColor:"markerColor",confidenceBandStyle:"confidenceBandStyle",transparency:"transparency",confidenceBandColor:"confidenceBandColor",transform:"transform"},U={displayName:"",markerShape:i.LS,markerShapeSize:5,confidenceBandStyle:a.hl,transparency:80},W="foregroundSelected",j="foregroundSelected",K=function(){function Ce(Be,be,Te,ce){this.host=Be,this.anomalyDetection=be,this.valuesMetadata=Te,this.formatStringProp=ce,e.fF.assertValue(Be,"host"),this.anomalies=this.anomalyDetection.anomalies,this.expectedValueName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedValue"),this.expectedHighName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedHighValue"),this.expectedLowName=this.host.getLocalizedString("AnomalyPoint_Tooltip_ExpectedLowValue")}return Ce.prototype.getTooltipItems=function(Be,be){var Te=this.anomalies[Be];if(Te)return[{displayName:this.expectedValueName,value:(0,f.xq)(Te.expectedValue,this.valuesMetadata,this.formatStringProp,!1,be)},{displayName:this.expectedLowName,value:(0,f.xq)(Te.lowerBound,this.valuesMetadata,this.formatStringProp,!1,be)},{displayName:this.expectedHighName,value:(0,f.xq)(Te.upperBound,this.valuesMetadata,this.formatStringProp,!1,be)}]},Ce}();function ie(Ce,Be,be,Te,ce,ve,Re,Ke){var tt;if(_.isEmpty(Be.forecastLines))if(Be.hasDynamicSeries){var mt=Ce.getLocalizedString("Role_DisplayName_Legend");tt=Ce.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",mt)}else if((0,d.aJ)(Be.valuesMetadata,s.R.Y2))mt=Ce.getLocalizedString("Role_DisplayName_Y2"),tt=Ce.getLocalizedString("Visual_AnomalyDetection_WarningMessage_RoleNotAllowed",mt);else if(1!==Be.series.length)mt=Ce.getLocalizedString("Role_DisplayName_Values"),tt=Ce.getLocalizedString("Visual_AnomalyDetection_WarningMessage_WrongDataSeries",mt);else if(function(Ce){var Be,be,Te;e.fF.assertValue(Ce,"anomalyDetectionVisualPlugin hasDatetime dataView");var ce=null===(Be=Ce.categorical)||void 0===Be?void 0:Be.categories;if(e.fF.assert(function(){return _.size(ce)>0},"should exist at least one category"),!ce||0===_.size(ce))return!1;var ve=null===(be=_.first(ce).source)||void 0===be?void 0:be.type;return!!ve&&(!!ve.dateTime||!(null===(Te=ve.temporal)||void 0===Te||!Te.year)||!!ve.temporal&&_.some(Ce.metadata.columns,function(Re){var Ke;return null===(Ke=Re.type.temporal)||void 0===Ke?void 0:Ke.year}))}(be))if(Re){if(function(Ce){var Be;e.fF.assertValue(Ce,"anomalyDetectionVisualPlugin hasReferenceLine dataView");var be=null===(Be=Ce.categorical)||void 0===Be?void 0:Be.values;return e.fF.assert(function(){return _.size(be)>0},"should exist at least one categorical value"),!(!be||0===_.size(be))&&_.some(be,function(Te){return!!Te.source.objects&&!!Te.source.objects[E]})}(be)){var Le=Ce.getLocalizedString("Visual_Trend_Line"),Q=Ce.getLocalizedString("Visual_Reference_Line");tt=Ce.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithReferenceLine",Le,Q)}}else{var He=Ce.getLocalizedString("Type"),ke=Ce.getLocalizedString("Visual_XAxis"),ft=Ce.getLocalizedString("Visual_Axis_Scalar");tt=Ce.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoContinousCategory",He,ke,ft)}else mt=Ce.getLocalizedString("Role_DisplayName_Axis"),tt=Ce.getLocalizedString("Visual_AnomalyDetection_WarningMessage_CategoryNotDateTime",mt);else tt=Ce.getLocalizedString("Visual_AnomalyDetection_WarningMessage_NoWithForecast");!function(Ce,Be,be,Te,ce){var ve,Re;e.fF.assertValue(Ce,"enumeration"),e.fF.assertValue(be,"visualStyle"),e.fF.assertAnyValue(Te,"disabledReason"),e.fF.assertAnyValue(ce,"selectors");var Ke=_.first(Be);if(Ke){var mt=((ve={})[B.show]=Ke.show,ve[B.displayName]=Ke.displayName,ve[B.markerShape]=Ke.markerShape,ve[B.markerShapeSize]=Ke.markerShapeSize,ve[B.markerColor]=Ke.markerColor,ve[B.confidenceBandStyle]=Ke.confidenceBandStyle,ve[B.transparency]=Ke.transparency,ve[B.confidenceBandColor]=Ke.confidenceBandColor,ve);if(Ce.pushInstance({selector:Ke.selector,properties:mt,objectName:C}),ce)for(var He=(0,o.GT)((0,o.tV)(ce)),ke=0,ft=Ke.anomalies;ke<ft.length;ke++){var Le=ft[ke];Le.isAnomaly&&(He||(0,o.Ic)(Le.identity.getSelectorsByColumn(),ce))&&Ce.pushInstance({objectName:b,selector:(0,o.tV)(Le.identity.getSelectorsByColumn()),properties:(Re={},Re[p.CategoryValue]=Le.categoryValue,Re[p.Value]=Le.value,Re[p.ExpectedValue]=Le.expectedValue,Re[p.ExpectedLow]=Le.lowerBound,Re[p.ExpectedHigh]=Le.upperBound,Re[p.BatchStart]=Le.batchStart,Re[p.BatchEnd]=Le.batchEnd,Re[p.FormattedCategoryValue]=Le.formattedCategoryValue,Re[p.ValueFormatString]=Le.valueFormatString,Re)})}}else{var tt=function(Ce,Be){var be;return{selector:{id:"0"},properties:(be={},be[B.show]=!1,be[B.displayName]=U.displayName,be[B.markerShape]=U.markerShape,be[B.markerShapeSize]=U.markerShapeSize,be[B.markerColor]={solid:{color:m.v.getThemeColor(Ce,W)}},be[B.confidenceBandStyle]=U.confidenceBandStyle,be[B.transparency]=U.transparency,be[B.confidenceBandColor]={solid:{color:m.v.getThemeColor(Ce,j)}},be),objectName:C,disabledReason:Be}}(be,Te);Ce.pushInstance(tt)}}(Te,ce,ve,tt,Ke)}function Y(Ce){return l.ZA.check(function(Be){return{metadata:Be.check(Ce&&Ce.metadata,l.Gg,function(be){return{columns:Be.check(be.columns,G,l.yR),objects:Be.check(be.objects,me,l.yR)}}),categorical:Be.check(Ce.categorical,l.Gg,function(be){return{categories:Be.check(be.categories,v.mn,function(Te){return{for:Be.check(Te.for,l.Gg,function(ce){return{in:Be.check(ce.in,re,l.yR)}})}}),values:Be.check(be.values,v.wj,function(Te){return{group:Be.check(Te.group,l.Gg,function(ce){return{by:Be.check(ce.by,le,l.yR),select:Be.check(ce.select,Ee,l.yR)}})}})}})}})}function G(Ce){return _.some(Ce,function(Be){return!(!Be.objects||!Be.objects[C]||Be.objects[E]||Be.objects[V.Po])})}function me(Ce){if(!Ce)return!0;var Be=(0,S.NA)(Ce,{objectName:"categoryAxis",propertyName:"axisType"});return!Be||"Scalar"===Be}function re(Ce){var Be,be,Te,ce=Ce.items,ve=Ce.activeItems;if(_.size(ce)<1)return!1;if(1===_.size(ce)){if(!(Re=_.first(ce).type)||!Re.dateTime&&(null===(Be=Re.temporal)||void 0===Be||!Be.year))return!1}else{var Ke=_.size(ve);if(Ke<1)return!1;var tt=_.last(ve),mt=_.find(ce,function(ke){return ke.queryName===tt});if(e.fF.assertValue(mt,"invalidAnomalyDataViewMapping. Active projection must be part of category items"),!mt)return!1;var Re=mt.type;if(1===Ke&&(null===(be=null==Re?void 0:Re.temporal)||void 0===be||!be.year))return!1;if(Ke>1&&(null==Re||!Re.temporal)||null===(Te=mt.scalarKeyInfo)||void 0===Te||!Te.hasScalarKey)return!1}return!0}function le(Ce){return!(Ce.role===s.R.Series&&!_.isEmpty(Ce.items))}function Ee(Ce){var Be=Ce;if(!Be)return!1;var be=_.find(Be,function(ce){return ce.for.in.role===s.R.Y});if(!be||1!==_.size(be.for.in.items))return!1;var Te=_.find(Be,function(ce){return ce.for.in.role===s.R.Y2});return!(Te&&!_.isEmpty(Te.for.in.items))}function Ye(Ce){var Be;if(null===(Be=null==Ce?void 0:Ce.categorical)||void 0===Be||!Be.values)return!1;var be=Ce.categorical.values.grouped();return _.some(be,function(Te){return _.some(Te.values,function(ce){return(0,d.R)(ce,g.Anomaly)})})}function Je(Ce,Be,be,Te){var ce;if(e.fF.assertValue(Ce,"anomalyDetectionDataView"),e.fF.assertValue(Be,"sourceDataView"),e.fF.assertValue(be,"visualStyle"),e.fF.assertValue(Te,"formatStringProp"),!Ce.categorical||!Be.categorical)return[];var ve=Ce.categorical;if(_.isEmpty(ve.categories)||_.isEmpty(ve.values))return[];var tt,mt,Re=_.first(ve.categories),Ke=(0,u.A8)(Re);Ke?(tt=_.map(Ke.values,function(Hr){return Hr.min}),mt=_.last(ve.categories).values):tt=Re.values;var He=ve.values.grouped();if(_.isEmpty(tt)||_.isEmpty(He))return[];var ke=Be.categorical.values;if(_.isEmpty(ke))return[];var ft=_.first(ke),Le=null!==(ce=ft.objects)&&void 0!==ce?ce:[],Q=ft.values,Ue=(0,d.a2)(He,g.Anomaly),ae=(0,d.a2)(He,g.ExpectedValue),Se=(0,d.a2)(He,g.ExpectedHigh),nt=(0,d.a2)(He,g.ExpectedLow),vt=(0,d.a2)(He,g.BatchStart),We=(0,d.a2)(He,g.BatchEnd),de=m.v.create(be),te=[],Ve=0,xe=function(Ce){e.fF.assertValue(Ce.categorical.values,"sourceDataView.categorical.values");var Be=[],be=_.first(Ce.categorical.values.grouped());if(be)for(var Te=0,ce=be.values;Te<ce.length;Te++){var ve=ce[Te],Re=ve.source.queryName;if(Re){var Ke=(0,S.AO)(ve.source.objects,C);Be[Re]=Ke}}return Be}(Be),J=_.first(Be.categorical.categories).source.queryName,Fe=ft.source,ze=Fe.queryName,rt=ft.objects;for(var Oe in xe){var Pe=xe[Oe];for(var X in Pe){var we=Pe[X],Ze=(0,h.N)(we,B.show,!1);if(Ze){for(var et=(0,h.N)(we,B.displayName),at=(0,h.N)(we,B.markerShape,U.markerShape),St=(0,h.N)(we,B.markerShapeSize,U.markerShapeSize),Ie={solid:{color:de.getColorForPropertyName(we,B.markerColor,W)}},qe=(0,h.N)(we,B.transparency,U.transparency),bt=(0,h.N)(we,B.confidenceBandStyle,U.confidenceBandStyle),It={solid:{color:de.getColorForPropertyName(we,B.confidenceBandColor,j)}},Rt=He[Ve],zt=[],Kt=[],Yt=Rt.values[Ue].values,ir=Rt.values[ae].values,lr=Rt.values[Se].values,dr=Rt.values[nt].values,br=Rt.values[vt].values,Cr=Rt.values[We].values,pt={index:-1,value:Number.MIN_VALUE},Ut={index:-1,value:Number.MAX_VALUE},er=0;er<tt.length;er++){var Pr=Le[er],mr=(new r.dw).withCategory([Re],er,J,!0).withMeasure(ze).createSelectionId(),gr=(0,S.NA)(Pr,{objectName:C,propertyName:y},!1),xr=(0,n.eT)(Q[er]),Vr=(0,n.eT)(ir[er]),Qr=!!Yt[er],Gr=void 0,Jr=void 0;Qr&&(xr>Vr&&pt.value<xr&&(pt={index:er,value:xr}),xr<Vr&&Ut.value>xr&&(Ut={index:er,value:xr}),Gr=pe(Re,Te,_.get(mt,er,void 0),er,tt[er]),Jr=fe(Fe,rt?rt[er]:void 0,Te)),zt.push({isAnomaly:Qr,categoryValue:(0,n.eT)(tt[er]),value:xr,upperBound:(0,n.eT)(lr[er]),lowerBound:(0,n.eT)(dr[er]),expectedValue:Vr,identity:mr,batchStart:br[er],batchEnd:Cr[er],categoryIndex:er,isHighlighted:gr,formattedCategoryValue:Gr,valueFormatString:Jr,seriesIndex:0,selected:!1}),Qr&&Kt.push(er)}te.push({selector:{id:X,metadata:Oe},anomalies:zt,anomaliesCategoryIndex:Kt,show:Ze,displayName:et,markerShape:at,markerShapeSize:St,markerColor:Ie,confidenceBandStyle:bt,transparency:qe,confidenceBandColor:It,highestAnomalyPointIndex:pt.index,lowestAnomalyPointIndex:Ut.index}),Ve++}}}return te}function pe(Ce,Be,be,Te,ce){if(e.fF.assertValue(Ce,"categoryColumn"),e.fF.assertValue(Be,"formatStringProp"),be)return be;var ve=Ce.objects,Re=(0,S.NA)(ve?ve[Te]:void 0,Be);return(0,f.xq)(ce,Ce.source,Be,!1,Re)}function fe(Ce,Be,be){e.fF.assertValue(Ce,"valueColumn"),e.fF.assertAnyValue(Be,"objects"),e.fF.assertValue(be,"formatStringProp");var Te=(0,S.NA)(Be,be);return Te||(Te=(0,c.EO)(Ce,be,!!Ce.format)),!Te&&Ce&&(Te=Ce.format),Te}function oe(Ce,Be,be){if(e.fF.assert(function(){return Ce&&2===_.size(Ce)&&_.isNumber(Ce[0])&&_.isNumber(Ce[1])},"adjustDomainForAnomalyMarkers: Domain values should not be null in practice"),e.fF.assertValue(Be,"adjustDomainForAnomalyMarkers scale"),_.isEmpty(be)||_.every(be,function(ae){return-1===ae.highestAnomalyPointIndex&&-1===ae.lowestAnomalyPointIndex}))return Ce;for(var Te=Be,ce=Te(Ce[0]),ve=Te(Ce[1]),Ke=0,tt=be;Ke<tt.length;Ke++){var mt=tt[Ke],He=5*mt.markerShapeSize;if(-1!==mt.highestAnomalyPointIndex){var ke=mt.anomalies[mt.highestAnomalyPointIndex].value;if(He>Te(ke)-Te(Ce[1])){var Le=Te(ke)-He;ve=Math.min(ve,Le)}}if(-1!==mt.lowestAnomalyPointIndex){var Q=mt.anomalies[mt.lowestAnomalyPointIndex].value;if(He>Te(Ce[0])-Te(Q)){var Ue=Te(Q)+He;ce=Math.max(ce,Ue)}}}return[Te.invert(ce),Te.invert(ve)]}function ye(Ce,Be){if(1!==_.size(Ce))return!1;var Te=Ce[0].getMetadata(Be);return Te&&!!Te.type.dateTime}},798871:function(Xe,H,t){t.d(H,{Gv:function(){return u},Or:function(){return v},_9:function(){return c},c$:function(){return h},eT:function(){return S},oq:function(){return n},sc:function(){return s},v9:function(){return r}});var e=t(498342),l=t(686311),o=t(100112),d=t(236090),v=function(m){return m[m.top=0]="top",m[m.bottom=1]="bottom",m[m.left=2]="left",m[m.right=3]="right",m}({});function S(m){return isNaN(m)?null:m===Number.POSITIVE_INFINITY?Number.MAX_VALUE:m===Number.NEGATIVE_INFINITY?-Number.MAX_VALUE:m}function h(m){var f,V;return!(!m||!(m.text||m.bool||null!==(f=m.misc)&&void 0!==f&&f.barcode||null!==(V=m.geography)&&void 0!==V&&V.postalCode))}function c(m){return!m.invert}function r(m){return!(!m||!m.dateTime)}function s(m,f,V){e.fF.assertValue(m,"scale");var p=m(f)-m(V);return 0===p?0:p<0?Math.min(p,-1):Math.max(p,1)}function u(m,f,V,p){if(!V){var C=(0,l.Ym)();C.update(f-m),V=C.displayUnit&&C.displayUnit.value||1}var b=(m||0)/V,y=(f||0)/V;if(p){var D=(0,o.rH)(p,!1,!1,!0).partsPerScale;b*=D,y*=D}return Math.max(i(b),i(y))}function i(m){if(0===m)return 0;m<0&&(m=-m);var f=Math.floor((0,d.mv)(m));if(f>=0){var C=5-(f+1);return C<=0?0:a(m,C)}return f<-5?5:-f-1+a(m/(0,d.wA)(f+1),5)}function a(m,f){var V=m.toFixed(f),p=V.indexOf(".");if(-1!==p)for(var C=V.length;C-- >p;)if("0"!==V[C])return C-p;return 0}function n(m,f,V){0!==m.size()&&m.each(function(){var p=d3.select(this);V(p.node(),f)})}},789015:function(Xe,H,t){t.d(H,{v:function(){return h}});var e=t(437555),l=t(696933),o=t(498342),d=t(470081),v=t(85179),S=t(36846),h=function(){function c(r,s,u,i,a){this.style=a,this.colors=r,this.fillProp=s,this.defaultDataPointColor=u,this.defaultCategoryColor=i,this.defaultColorScale=this.colors.getNewColorScale()}return c.create=function(r,s,u,i){return new c(r.colorPalette.dataColors,s,u,i,r)},c.prototype.getColorForSeriesValue=function(r,s,u,i,a){return this.style&&this.style.isHighContrast?c.getHighContrastDataColor(this.style,i):this.getFillWithOptionalValidation(r,a)||this.getColorWithOptionalValidation(this.defaultDataPointColor,a)||this.getColorScaleForSeries(s).getColor(u).value},c.prototype.getColorScaleForSeries=function(r){return this.colors.getColorScaleByKey((0,S.Gg)(r||[]))},c.prototype.getColorForStaticSeries=function(r,s,u,i){if(this.style&&this.style.isHighContrast)return c.getHighContrastDataColor(this.style,u);var a=this.defaultColorScale.getColor(s).value;return this.getFillWithOptionalValidation(r,i)||this.getColorWithOptionalValidation(this.defaultDataPointColor,i)||a},c.prototype.getColorForMeasure=function(r,s,u,i){if(this.style&&this.style.isHighContrast)return c.getHighContrastDataColor(this.style,u);var a=this.defaultColorScale.getColor(s).value;return this.getFillWithOptionalValidation(r,i)||this.getColorWithOptionalValidation(this.defaultCategoryColor,i)||this.getColorWithOptionalValidation(this.defaultDataPointColor,i)||a},c.prototype.getColorForProperty=function(r,s,u,i){var a=this.style&&u&&c.getThemeColor(this.style,u);return this.getColorForPropertyWithDefaultColor(r,s,a,i)},c.prototype.hasColorForProperty=function(r,s,u){return(0,d.bC)(r,s,u)},c.prototype.getColorForPropertyWithDefaultColor=function(r,s,u,i){return this.style&&this.style.isHighContrast?u:(0,d.W7)(r,s,u,i)},c.prototype.getColorForPropertyName=function(r,s,u){var i=this.style&&u&&c.getThemeColor(this.style,u);return this.getColorForPropertyNameWithDefaultColor(r,s,i)},c.prototype.getColorForPropertyNameWithDefaultColor=function(r,s,u,i){var a=this.style&&this.style.isHighContrast,n=(0,v.y)(r,s,u,void 0,i);return i&&null===n?null:a?u:n},c.getSentimentColor=function(r,s,u){return r.isHighContrast?c.getHighContrastDataColor(r,u):r.colorPalette.dataColors.getSentimentColors()[s].value},c.getGradientColor=function(r,s,u){return r.isHighContrast?c.getHighContrastDataColor(r,u):r.colorPalette.dataColors.getGradientColors()[s].value},c.getDataColorByIndex=function(r,s,u){return r.isHighContrast?c.getHighContrastDataColor(r,u):r.colorPalette.dataColors.getColorByIndex(s).value},c.getThemeColor=function(r,s){return r.colorPalette[s].value},c.getFillColor=function(r,s,u){return r.isHighContrast?c.getHighContrastDataColor(r,u):s&&s.solid&&s.solid.color},c.normalizeSelector=function(r,s){return o.fF.assertAnyValue(r,"selector"),r&&(s||r.data)?{data:r.data}:r},c.getHighContrastDataColor=function(r,s){return void 0===s&&(s=l.U),r.colorPalette[s].value},c.prototype.getFillWithOptionalValidation=function(r,s){var u=this.fillProp&&(0,d.W7)(r,this.fillProp);return s&&u&&!(0,e.WV)(u)&&(u=void 0),u},c.prototype.getColorWithOptionalValidation=function(r,s){var u=r;return s&&r&&!(0,e.WV)(r)&&(u=void 0),u},c}()},790313:function(Xe,H,t){t.d(H,{R:function(){return o}});var e=t(686311),l=t(767057),o=function(){function d(){this.cache={}}return d.prototype.getOrCreate=function(v,S,h,c,r){null==c&&(c=S.precision);var s={formatString:v,displayUnits:S.displayUnits,precision:v?(0,l.h)(c,v):c,value2:h,appendedKey:r},u=JSON.stringify(s);return this.cache[u]||(this.cache[u]=(0,e.Ue)((0,l.Y)(S,v,h,s.precision))),this.cache[u]},d}()},651153:function(Xe,H,t){t.d(H,{AD:function(){return n},ML:function(){return i},Zy:function(){return r},bR:function(){return a}});var e=t(498342),l=t(781322),o=t(399663),d=t(916214),v=t(686311),S=t(512322),h=t(358246),c=t(93063);function r(m,f,V){if(!m||!m.categorical||_.isEmpty(m.categorical.categories))return m;var p=m.categorical.categories,C=function(m,f){for(var V=[],p=0,C=m;p<C.length;p++)for(var b=C[p],y=b.values,D=(0,v.EO)(b.source,f),P=(0,v.Ue)({format:D,value:y[0],value2:y[y.length-1],displayUnitSystemType:o.V.Verbose,columnType:b.source.type}),F=0,E=b.values.length;F<E;F++){var x=P.format(b.values[F]),R=V[F];R||V.splice(F,0,R=[]),R.push(x)}return _.map(V,function(g){return g.join(" ")})}(p,f),b=function(m,f){var p=a(n(m)),C={};C[f]=!0;var b={displayName:p.displayName,roles:C,type:h.Ge.fromPrimitiveTypeAndCategory(1)},y=_.last(m).source;return void 0!==y.isMeasure&&(b.isMeasure=y.isMeasure),b.queryName=y.queryName,b}(p,V),y=(0,l.qO)(m),D=(0,l.qO)(y.metadata.columns);D.push(b);var P=(0,l.qO)(y.metadata);P.columns=D,y.metadata=P;var F=m.categorical,E=(0,d.OC)(F.categories),w={source:b,values:C},x=m.categorical.categories[0];x.identity&&(w.identity=x.identity),x.identityFields&&(w.identityFields=x.identityFields),E&&(w.objects=E);var R=[w],g=(0,l.qO)(F);return g.categories=R,g.originalCategories=p,y.categorical=g,y}function i(m){return m.join(" ")}function a(m){return{displayName:_.map(m,function(f){return f.displayName}).join(" "),value:_.map(m,function(f){return f.value}).join(" ")}}function n(m,f,V){var p=null!=f;e.fF.assert(function(){return!p||!!V},"formatStringProp");for(var C=null,b=null,y=null,D=[],P=0,F=m;P<F.length;P++){var E=F[P],w=E.source;if(w){var x=w.expr?S.X1.getProperty(w.expr):null;null!=x?(x===C?b=w.displayName:(null!==C&&(e.fF.assertValue(y,"currentValueParts is undefined on changing hierarchies..."),D.push({displayName:"".concat(C," ").concat(b),value:y?y.join(" "):null})),C=x,b=w.displayName,y=null,p&&(y=[])),p&&y.push((0,c.xq)(E.values[f],w,V,!1))):null!=C?(D.push({displayName:"".concat(C," ").concat(b),value:y?y.join(" "):null}),C=null,b=null,y=null,D.push({displayName:w.displayName,value:p?(0,c.xq)(E.values[f],w,V,!1):null})):D.push({displayName:w.displayName,value:p?(0,c.xq)(E.values[f],w,V,!1):null})}}return null!=C&&(e.fF.assertValue(p&&!y,"currentValueParts is undefined with defined includeValue..."),D.push({displayName:"".concat(C," ").concat(b),value:p&&y?y.join(" "):null})),D}},146828:function(Xe,H,t){t.d(H,{BS:function(){return w},Bo:function(){return x},FJ:function(){return S},In:function(){return re},L0:function(){return m},LK:function(){return O},M3:function(){return W},N0:function(){return N},NL:function(){return Y},NZ:function(){return U},OW:function(){return V},Pq:function(){return p},Qc:function(){return j},TS:function(){return u},UU:function(){return d},Uy:function(){return f},Vr:function(){return n},WP:function(){return M},WV:function(){return ee},XJ:function(){return T},_i:function(){return q},bL:function(){return Ee},bN:function(){return le},d1:function(){return L},go:function(){return h},i1:function(){return R},iX:function(){return K},ki:function(){return i},lp:function(){return E},pl:function(){return F},qy:function(){return v},r_:function(){return r},rp:function(){return G},uM:function(){return g},uQ:function(){return P},vo:function(){return ie},wh:function(){return a},xb:function(){return me},xy:function(){return he}});var e=t(756846),l=t(366769),o=t(341648),d=9,v=8,S=8,h=50,r=.3,u=6,i=8,a=8,n=50,m="0.00 %;-0.00 %;0.00 %",f=9,V=l.Wn.regularSecondary.css,p=l.Wn.regular.css,D="normal",P="foregroundNeutralSecondaryAlt",F="foregroundLight",E="backgroundDark",w=.9,x=4,R=4,g=4,L=2,M=10,T=12,O=7,N=40,U=void 0,W=void 0,j=void 0,K=void 0,ee=void 0,ie=15,he=0,q=1,Y=50,G=0,me=400,re=-1,le={fontFamily:l.Wn.regularSecondary.css,fontSize:e.FP.fromPoint(f),fontWeight:D},Ee={family:V,size:o.B.createFromPt(f),weight:D,style:null,textDecoration:null}},93063:function(Xe,H,t){t.d(H,{Gr:function(){return n},O1:function(){return r},Pl:function(){return S},TO:function(){return h},cR:function(){return i},pt:function(){return u},xh:function(){return v},xq:function(){return m}});var e=t(498342),l=t(399663),o=t(686311);function v(f,V,p){if(void 0===p&&(p=function(D){return _.last(D.categories).values}),f.categories&&f.categories.length>0){var C=_.last(f.categories),b=p(f);return C.values.length>0?{categories:b,categoryFormatter:(0,o.Ue)({format:(0,o.EO)(C.source,V),value:b[0],value2:b[b.length-1],displayUnitSystemType:l.V.Verbose,columnType:C.source.type}),categoryIdentities:C.identity,categoryObjects:C.objects}:{categories:[],categoryFormatter:{format:o.WU}}}return{categories:[null],categoryFormatter:{format:o.WU}}}function S(f){return e.fF.assertValue(f,"source"),void 0!==f.groupName?f.groupName:f.queryName}function h(f,V,p){e.fF.assertValue(f,"source"),e.fF.assertValue(V,"values");var C=f,b=f.displayName;return void 0!==f.groupName&&(C=V.source,b=f.groupName),(0,o.WU)(b,(0,o.EO)(C,p))}function r(f){var V,p;f instanceof Array?(p=f.map(function(C){return C?C.displayName:""}).filter(function(C,b,y){return""!==C&&y.indexOf(C)===b}),V=(0,o.aY)(p)):f&&(V=f.displayName);return V}function u(f){var V=a(f);return null!=V&&!0===V.imageUrl}function i(f){var V=a(f);return null!=V&&!0===V.webUrl}function a(f){return f&&f.type&&f.type.misc}function n(f){return!(!f||!f.metadata||_.isEmpty(f.metadata.columns))&&_.some(f.metadata.columns,function(V){return!0===u(V)})}function m(f,V,p,C,b){return void 0===C&&(C=!0),e.fF.assertValue(V,"column should exist"),b||(!C&&V&&V.format&&(C=!0),b=(0,o.EO)(V,p,C)),!b&&V&&(b=V.format),(0,o.WU)(f,b)}},973453:function(Xe,H,t){function e(o){return o.some(function(d){return l(d)})}function l(o){return o&&void 0!==o.labelDataPointContents}t.d(H,{r:function(){return l},t:function(){return e}})},120005:function(Xe,H,t){t.d(H,{Bf:function(){return ve},Bo:function(){return L},JP:function(){return R},Pd:function(){return P},R1:function(){return He},SS:function(){return Ue},Sw:function(){return ce},W1:function(){return pe},Xc:function(){return oe},bN:function(){return g},d6:function(){return Ke},fI:function(){return tt},gm:function(){return Te},ki:function(){return F},n8:function(){return ke},ng:function(){return ye},wh:function(){return E},x5:function(){return Ye},y3:function(){return Le},z8:function(){return be}});var m,V,p,e=t(566464),l=t(498342),o=t(366769),d=t(788260),v=t(47102),S=t(963470),h=t(756846),c=t(533462),r=t(798871),s=t(340758),u=t(790313),i=t(102794),a=t(795031),n=t(341648),P=1,F=8,E=8,R={family:o.Wn.regularSecondary.css,size:n.B.createFromPt(9),weight:"normal"},g={fontFamily:o.Wn.regularSecondary.css,fontSize:h.FP.fromPoint(9),fontWeight:"normal"},L=4,O="-0.25em",B=((0,e.CH)("labelGraphicsContext"),(0,e.CH)("labelBackgroundGraphicsContext"),(m=(0,e.CH)("label")).class),U=m.selector,W=(0,e.CH)("label-background").class,K=(V=(0,e.CH)("seriesLabel")).class,ee=V.selector,ie=(p=(0,e.CH)("label-second-line")).class,he=p.selector,q=(0,e.CH)("leader-lines"),Y=(0,e.CH)("line-label");function G(ae){var Se=0===ae.labelOrientation;return ae.boundingBox.left+(Se?ae.boundingBox.width:ae.boundingBox.width/2)-(ae.hasBackground&&Se?L:0)}function le(ae){var Se=0===ae.labelOrientation,nt=Se?ae.boundingBox.height/2:ae.boundingBox.height,vt=ae.hasBackground&&!Se?2:0;return ae.wordBreak&&(nt=ae.boundingBox.height/2,vt=-2),ae.boundingBox.top+nt-vt}function Ye(ae){var Se=ae.dataLabels,nt=ae.formatMode,vt=ae.hasTooltip,We=ae.labelContext,de=ae.numeric,te=ae.onObject,Ve=ae.twoRows,xe={transform:function(X){var we="translate(".concat(G(X),",").concat(le(X),")");return 0===X.labelOrientation?"".concat(we,"rotate(-90)"):we},dy:O};de&&(xe.dy=void 0);var Z=We.selectAll(U).data(Se,Q),J=Z.enter().append("text").classed(B,!0).merge(Z);te&&Ce(J,function(Pe){return!Pe.hasBackground}),J.interrupt().text(function(Pe){return Pe.text}).attrs(xe).style("text-anchor",function(Pe){return Pe.textAnchor}).styles(function(Pe){return(0,i.E_)(Pe.fontProperties)}),Z.exit().remove(),xe={transform:function(X){return"translate(".concat(function(ae){return ae.boundingBox.left+ae.boundingBox.width/2}(X),",").concat(function(ae){return ae.boundingBox.top+(void 0!==ae.text?ae.boundingBox.height/2:ae.boundingBox.height)}(X),")")},dy:O},de&&(xe.dy=void 0);var Fe=_.filter(Ve?Se:[],function(Pe){return!_.isEmpty(Pe.secondRowText)}),ze=We.selectAll(he).data(Fe,function(Pe,X){return Pe.identity?Pe.identity.getKeyWithoutHighlight():X.toString()}),rt=ze.enter().append("text").classed(ie,!0).merge(ze);te&&Ce(rt,function(Pe){return!Pe.hasBackground}),rt.interrupt().text(function(Pe){return Pe.secondRowText}).attrs(xe).style("text-anchor",function(Pe){return Pe.textAnchor}).styles(function(Pe){return(0,i.E_)(Pe.fontProperties)}),vt&&(J.append("title").text(function(Pe){return Pe.tooltip}),rt.append("title").text(function(Pe){return Pe.tooltip}));var Oe=function(X){return te?nt&&X.hasBackground||!nt&&(!vt||null==X.tooltip)?"none":"all":vt&&null!=X.tooltip?"all":"none"};return J.style("pointer-events",function(Pe){return Oe(Pe)}),rt.style("pointer-events",function(Pe){return Oe(Pe)}),ze.exit().remove(),J}function _e(ae,Se,nt,vt){for(var We=d3.select(ae),de=S.b.estimateSvgTextHeight(nt),te=Math.min(Se.length,2),Ve=0,xe=0;xe<te;xe++){nt.text=Se[xe],Se.length>2&&xe&&(nt.text=Se[xe].concat("..."));var Z=S.b.getTailoredTextOrDefault(nt,vt);We.append("tspan").attr("id","wordWrap".concat(Se[xe])).attrs({x:0,dy:xe?de:O}).text(Z);var J=S.b.measureSvgTextWidth(nt,Z);Ve=J>Ve?J:Ve}return Ve}function pe(ae,Se,nt,vt,We,de,te){void 0===We&&(We=0),void 0===de&&(de=!1),void 0===te&&(te=!1);var Ve=S.b.estimateSvgTextHeight(Se)+We,xe=Math.max(1,Math.floor(vt/Ve));return(0,c.ql)(ae,Se,S.b.measureSvgTextWidth,nt,xe,null,!1,de,te)}function fe(ae){l.fF.assertValue(ae,"textElement");var Se=S.b.getSvgMeasurementProperties(ae);return S.b.measureSvgTextWidth(Se,ae.textContent)}function oe(ae,Se,nt,vt,We,de){void 0===vt&&(vt=!1),void 0===We&&(We=d3.easeCubicInOut);var te={transform:function(J){var Fe="translate(".concat(G(J),",").concat(le(J),")");return 0===J.labelOrientation?"".concat(Fe,"rotate(-90)"):Fe},dy:O};vt&&(te.dy=void 0);var Ve=ae.selectAll(U).data(Se,Q),xe=Ve.enter().append("text").classed(B,!0).style("opacity",0).attrs(te).merge(Ve);return de&&xe.classed(a.cy,!0).attr(a.Ez,function(Z){return Z.isCategory?"category-labels":"data-labels"}).attr(a.CK,"Visual_DataPointsLabels").attr(a.QZ,1),xe.text(function(Z){return Z.text}).style("text-anchor",function(Z){return Z.textAnchor}).styles(function(Z){return(0,i.E_)(Z.fontProperties)}).transition().ease(We).duration(nt).attrs(te).style("opacity",1),Ve.exit().transition().duration(nt).style("opacity",0).remove(),xe}function ye(ae){var Se=ae.context,vt=ae.onObject,We=_.filter(ae.dataLabels,function(Ve){return Ve.hasBackground}),de=Se.selectAll("rect"),te=(de=de.data(We,Q)).enter().append("rect").merge(de);return te.classed(W,!0).attr("x",function(Ve){return Ve.boundingBox.left-L}).attr("y",function(Ve){return Ve.boundingBox.top-2}).attr("rx",4).attr("ry",4).attr("width",function(Ve){return Ve.boundingBox.width+2*L}).attr("height",function(Ve){return void 0===Ve.text&&void 0===Ve.secondRowText?0:Ve.boundingBox.height+4}).style("fill",function(Ve){return Ve.backgroundColor}).style("fill-opacity",function(Ve){return 1-Ve.backgroundTransparency}),vt&&Ce(te,function(Ve){return Ve.hasBackground}),de.exit().remove(),te}function Ce(ae,Se){ae.classed(a.cy,function(nt){return Se(nt)}).attr(a.Ez,function(nt){return Se(nt)?nt.isCategory?"category-labels":nt.isTotal?"total-labels":"data-labels":null}).attr(a.CK,function(nt){return Se(nt)?nt.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(a.QZ,function(nt){return Se(nt)?1:null})}function be(ae,Se,nt,vt){ae.select(q.selector).empty()&&ae.append("g").classed(q.class,!0);var We=ae.select(q.selector).selectAll("polyline").data(Se,nt);We.enter().append("polyline").classed(Y.class,!0).merge(We).attr("points",function(te){return te.leaderLinePoints}).style("stroke",function(te){return vt||(te.fontProperties?te.fontProperties.color:void 0)}).style("stroke-width",P),We.exit().remove()}function Te(ae){var Se=Ye(ae);return ye({context:ae.backgroundContext,dataLabels:ae.dataLabels,onObject:ae.onObject}),Se}function ce(ae){return function(ae,Se,nt,vt,We,de,te,Ve,xe){var Z={transform:function(lr){var dr=We?5:-5,br=function(ae){return ae.boundingBox.left+(ae.hasBackground?L:0)}(lr)+dr,Cr="translate(".concat(br,",").concat(le(lr),")");return 0===lr.labelOrientation?"".concat(Cr,"rotate(-90)"):Cr},dy:O},J=ae.selectAll(ee).data(nt,Q),Fe=J.enter().append("text").classed(K,!0).merge(J);xe&&Fe.classed(a.cy,!0).attr(a.Ez,"series-labels").attr(a.CK,"Visual_SeriesLabels").attr(a.QZ,1);var ze=[],rt=0;Fe.interrupt().text(function(ir){return de?ir.text:function(ae,Se,nt,vt){var We=g,de={text:ae,fontFamily:nt||We.fontFamily,fontSize:h.FP.fromPoint(Se),fontWeight:We.fontWeight};return S.b.getTailoredTextOrDefault(de,vt)}(ir.text,ir.fontProperties&&ir.fontProperties.size?ir.fontProperties.size.pt:void 0,ir.fontProperties?ir.fontProperties.family:void 0,vt)}).attrs(Z).styles(function(ir){return(0,i.E_)(ir.fontProperties)}).styles({"text-anchor":We?"start":"end","white-space":"pre"});var Oe=Fe.nodes();if(de)for(var Pe=S.b.estimateSvgTextHeight(g),we=Ve+Pe+(te.height-Pe-Ve)/2,Ze=0,et=Oe;Ze<et.length;Ze++){l.fF.assertValue(at=et[Ze],"textElement");var St=at.textContent,Ie=S.b.getSvgMeasurementProperties(at);at.textContent=null;var bt=_e(at,pe(St,Ie,vt,te.height-we,void 0,!0,!0),Ie,vt);nt[rt].hasBackground&&ze.push(bt),rt++}else for(var It=0,Rt=Oe;It<Rt.length;It++){var at=Rt[It];nt[rt].hasBackground&&ze.push(fe(at)),rt++}J.exit().remove();var zt=_.filter(nt,function(ir){return ir.hasBackground}),Kt=Se.selectAll("rect");return(Kt=Kt.data(zt,Q)).enter().append("rect").merge(Kt).attr("transform",function(ir,lr){var dr=ir.boundingBox.left;return We||(dr-=ze[lr]),"translate(".concat(dr+=We?5:-5,",").concat(function(ae){var Se=0;return ae.wordBreak||(Se=(ae.boundingBox.height+4)/4),ae.boundingBox.top-Se}(ir),")")}).attr("rx",4).attr("ry",4).attr("width",function(ir,lr){return ze[lr]+2*L}).attr("height",function(ir){return void 0===ir.text&&void 0===ir.secondRowText?0:ir.boundingBox.height+4}).style("fill",function(ir){return ir.backgroundColor}).style("fill-opacity",function(ir){return 1-ir.backgroundTransparency}),Kt.exit().remove(),Fe}(ae.labelContext,ae.backgroundContext,ae.dataLabels,ae.availableWidth,ae.position,ae.seriesWordWrap,ae.plotArea,ae.seriesFontSize,ae.onObject)}function ve(ae){var Se=oe(ae.labelContext,ae.dataLabels,ae.duration,ae.numeric,ae.easeType,ae.onObject);return function(ae,Se,nt,vt,We){void 0===vt&&(vt=!1),void 0===We&&(We=d3.easeCubicInOut);var de=_.filter(Se,function(xe){return xe.hasBackground}),te=ae.selectAll("rect").data(de,Q);te.enter().append("rect").style("fill-opacity",0).merge(te).transition().ease(We).duration(nt).attrs({x:function(Z){return Z.boundingBox.left-L},y:function(Z){return Z.boundingBox.top-2},rx:4,ry:4,width:function(Z){return Z.boundingBox.width+2*L},height:function(Z){return void 0===Z.text&&void 0===Z.secondRowText?0:Z.boundingBox.height+4}}).style("fill",function(xe){return xe.backgroundColor}).style("fill-opacity",function(xe){return 1-xe.backgroundTransparency}),te.exit().transition().duration(nt).style("fill-opacity",0).remove()}(ae.backgroundContext,ae.dataLabels,ae.duration,ae.numeric,ae.easeType),Se}var Re=function(){function ae(Se,nt){if(this.noPrecision=!0,0===nt.displayUnits){var vt=Se.formatter;if(this.units=vt&&vt.displayUnit&&vt.displayUnit.value,null==nt.precision){this.noPrecision=!1;var We=vt&&vt.options;if(We&&We.precision)this.precisionForAxis=Se.formatter.options.precision+1;else{var de=Se.axis.tickValues();de&&de.length&&(this.precisionForAxis=(0,r.Gv)(de[0],de.length>1?de[1]:void 0,10*(this.units||1),We&&We.format))}}}}return ae.prototype.getPrecision=function(Se,nt){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!Se)return nt&&nt.integer?0:this.precisionForAxis}},ae}();function Ke(ae,Se){return new Re(ae,Se)}function tt(){return new u.R}function He(ae){for(var Se=[],nt={},vt=function(J,Fe,ze){return Fe.some(function(rt){return ze?(0,v.fS)(J.parentShape.rect,rt.rect):(0,d.fS)(J.parentShape.point,rt.point)})},We=0,de=ae;We<de.length;We++){var te=de[We];if(l.fF.assertValue(te,"dataPoint"),null!=te){var xe=nt[te.text];xe?vt(te,xe,1===te.parentType)||(Se.push(te),xe.push(te.parentShape)):(Se.push(te),nt[te.text]=[te.parentShape])}}return Se}function ke(ae){return 10===ae?{maximumOffset:s.rA,startingOffset:s.vD,offsetIterationDelta:s.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:E,startingOffset:F,attemptToMoveLabelsIntoViewport:!0}}function Le(ae,Se,nt){var vt=g,We={text:ae,fontFamily:nt||vt.fontFamily,fontSize:h.FP.fromPoint(Se),fontWeight:vt.fontWeight};return{width:S.b.measureSvgTextWidth(We),height:S.b.estimateSvgTextHeight(We)}}function Q(ae,Se){return ae.key?ae.key:ae.identity?ae.identity.getKeyWithoutHighlight():Se}function Ue(ae,Se,nt,vt){if(null==Se||0===Se)return nt;var We=Se/100,de=Math.ceil(ae/vt);return 1===We?de:nt+Math.floor(We*(de-nt))}},894555:function(Xe,H,t){t.d(H,{U2:function(){return Y},S1:function(){return q}});var V,p,C,y,D,P,K,ee,e=t(498342),l=t(120005),o=t(566464),d=t(788260),v=t(47102),S=t(963470),h=t(756846),c=t(533462),r=t(100112),s=t(798871),u=t(790313),i=t(146828),a=t(973453),n=t(102794),m=t(340758),f=t(795031),F=(V=(0,o.CH)("label")).class,E=V.selector,w=(p=(0,o.CH)("label-container")).class,x=p.selector,R=(C=(0,o.CH)("label-tspan")).class,g=C.selector,L=(0,o.CH)("label-background").class,T=(y=(0,o.CH)("seriesLabel")).class,O=y.selector,N=(D=(0,o.CH)("label-second-line")).class,A=D.selector,I=(P=(0,o.CH)("label-container-background")).class,B=P.selector,U=function(){function me(){this.nonNumericVerticalOffset="-0.25em",this.horizontalLabelBackgroundPadding=4,this.horizontalSeriesLabelPadding=5,this.linesGraphicsContextClass=(0,o.CH)("leader-lines"),this.lineClass=(0,o.CH)("line-label"),this.labelBackgroundRounding=4,this.LineStrokeWidth=1,this.sameParentIsInArray=function(re,le,Ee){return le.some(function(Ne){return Ee?(0,v.fS)(re.parentShape.rect,Ne.rect):(0,d.fS)(re.parentShape.point,Ne.point)})},this.roleSortOrder={Title:1,Value:2,Detail:3}}return me.prototype.createColumnFormatterCacheManager=function(){return new u.R},me.prototype.drawLabelContainer=function(re){var oe,le=this,Ne=re.labelContainers,Ye=re.onObject,Je={transform:function(Be){var be="translate(".concat(le.getLabelContainerX(Be),",").concat(le.getLabelContainerY(Be),")");return 0===Be.labelOrientation?"".concat(be,"rotate(-90)"):be},dy:this.nonNumericVerticalOffset},_e=re.labelGroupContext.selectAll(x).data(Ne,this.labelKeyFunction),pe=Ne.some(function(Ce){return!_.isEmpty(Ce.labelContents)}),fe=Ne.some(function(Ce){return Ce.hasBackground});return pe&&(oe=_e.enter().append("g").merge(_e).classed(w,!0).attrs(Je),fe&&this.drawLabelContainerBackground(oe,re.onObject),this.drawLabelContainerContent(oe),oe.style("pointer-events",function(Ce){return Be=Ce,re.onObject?re.formatMode&&Be.hasBackground||!re.formatMode&&(!re.hasTooltip||null==Be.tooltip)?"none":"all":re.hasTooltip&&null!=Be.tooltip?"all":"none";var Be})),oe&&((!fe||!pe)&&oe.selectAll(B).remove(),oe.filter(function(Ce){return!Ce.hasBackground}).selectAll(B).remove()),Ye&&this.updateDataLabelSubSelectionAttributes(oe,function(Ce){return!Ce.hasBackground}),_e.exit().remove(),oe},me.prototype.removeContainerContent=function(re){var le;null===(le=re.selectAll(x))||void 0===le||le.remove()},me.prototype.removeContainerBackground=function(re){var le;null===(le=re.selectAll(B))||void 0===le||le.remove()},me.prototype.drawLabelsAndBackgrounds=function(re){var le=this.drawDefaultLabels(re);return this.drawLabelBackground({context:re.backgroundContext,dataLabels:re.dataLabels,onObject:re.onObject}),le},me.prototype.animateDefaultLabels=function(re,le,Ee,Ne,Ye,Je){var _e=this,pe={transform:function(Ce){var Be="translate(".concat(_e.getLabelX(Ce),",").concat(_e.getLabelY(Ce),")");return 0===Ce.labelOrientation?"".concat(Be,"rotate(-90)"):Be},dy:this.nonNumericVerticalOffset};Ne&&(pe.dy=void 0);var fe=re.selectAll(E).data(le,this.labelKeyFunction),oe=fe.enter().append("text").classed(F,!0).style("opacity",0).attrs(pe).merge(fe);return Je&&oe.classed(f.cy,!0).attr(f.Ez,function(ye){return ye.isCategory?"category-labels":"data-labels"}).attr(f.CK,"Visual_DataPointsLabels").attr(f.QZ,1),oe.text(function(ye){return ye.text}).style("text-anchor",function(ye){return ye.textAnchor}).styles(function(ye){return(0,n.E_)(ye.fontProperties)}).transition().ease(Ye).duration(Ee).attrs(pe).style("opacity",1),fe.exit().transition().duration(Ee).style("opacity",0).remove(),oe},me.prototype.animateLabelsAndBackgrounds=function(re){var le=this.animateDefaultLabels(re.labelContext,re.dataLabels,re.duration,re.numeric,re.easeType,re.onObject);return this.animateLabelBackground(re.backgroundContext,re.dataLabels,re.duration,re.numeric,re.easeType),le},me.prototype.getDataLabelLayoutOptions=function(re){return 10===re?{maximumOffset:m.rA,startingOffset:m.vD,offsetIterationDelta:m.YD,allowLeaderLines:!0,attemptToMoveLabelsIntoViewport:!0}:{maximumOffset:i.wh,startingOffset:i.ki,attemptToMoveLabelsIntoViewport:!0}},me.prototype.drawLabelLeaderLines=function(re,le,Ee,Ne){var Ye=this;re.select(this.linesGraphicsContextClass.selector).empty()&&re.append("g").classed(this.linesGraphicsContextClass.class,!0),le.some(function(oe){return Ye.isLabelContainer(oe)});var _e=this.getLeaderLines(re,le,Ee);_e.enter().append("polyline").classed(this.lineClass.class,!0).merge(_e).attr("points",function(oe){return oe.leaderLinePoints}).style("stroke",function(oe){return Ne||function(ye){if(Ye.isLabelContainer(ye)){var Ce=ye.labelContents.find(function(Be){return Be.fontProperties});return Ce.fontProperties?Ce.fontProperties.color:void 0}return ye.fontProperties?ye.fontProperties.color:void 0}(oe)}).style("stroke-width",this.LineStrokeWidth),_e.exit().remove()},me.prototype.getLabelUnitAndPrecisionForAxis=function(re,le){return new W(re,le)},me.prototype.drawSeriesLabelsAndBackgrounds=function(re){return this.drawDefaultSeriesLabels(re.labelContext,re.backgroundContext,re.dataLabels,re.availableWidth,re.position,re.seriesWordWrap,re.plotArea,re.seriesFontSize,re.onObject)},me.prototype.getLabelFormattedText=function(re,le,Ee){return Ee?Ee.format(re):r.dx.formatValue(re,le)},me.prototype.drawDefaultLabels=function(re){var le=this,Ee=re.dataLabels,Ne=re.formatMode,Ye=re.hasTooltip,Je=re.labelContext,_e=re.numeric,pe=re.onObject,fe=re.twoRows,oe={transform:function(Re){var Ke="translate(".concat(le.getLabelX(Re),",").concat(le.getLabelY(Re),")");return 0===Re.labelOrientation?"".concat(Ke,"rotate(-90)"):Ke},dy:this.nonNumericVerticalOffset};_e&&(oe.dy=void 0);var ye=Je.selectAll(E).data(Ee,this.labelKeyFunction),Ce=ye.enter().append("text").classed(F,!0).merge(ye);pe&&this.updateDataLabelSubSelectionAttributes(Ce,function(ve){return!ve.hasBackground}),Ce.interrupt().text(function(ve){return ve.text}).attrs(oe).style("text-anchor",function(ve){return ve.textAnchor}).styles(function(ve){return(0,n.E_)(ve.fontProperties)}),ye.exit().remove(),oe={transform:function(Re){return"translate(".concat(le.getLabelX2ndLine(Re),",").concat(le.getLabelY2ndLine(Re),")")},dy:this.nonNumericVerticalOffset},_e&&(oe.dy=void 0);var Be=_.filter(fe?Ee:[],function(ve){return!_.isEmpty(ve.secondRowText)}),be=Je.selectAll(A).data(Be,function(ve,Re){return ve.identity?ve.identity.getKeyWithoutHighlight():Re.toString()}),Te=be.enter().append("text").classed(N,!0).merge(be);pe&&this.updateDataLabelSubSelectionAttributes(Te,function(ve){return!ve.hasBackground}),Te.interrupt().text(function(ve){return ve.secondRowText}).attrs(oe).style("text-anchor",function(ve){return ve.textAnchor}).styles(function(ve){return(0,n.E_)(ve.fontProperties)}),Ye&&(Ce.append("title").text(function(ve){return ve.tooltip}),Te.append("title").text(function(ve){return ve.tooltip}));var ce=function(Re){return pe?Ne&&Re.hasBackground||!Ne&&(!Ye||null==Re.tooltip)?"none":"all":Ye&&null!=Re.tooltip?"all":"none"};return Ce.style("pointer-events",function(ve){return ce(ve)}),Te.style("pointer-events",function(ve){return ce(ve)}),be.exit().remove(),Ce},me.prototype.drawLabelBackground=function(re){var le=this,Ee=re.context,Ye=re.onObject,Je=_.filter(re.dataLabels,function(fe){return fe.hasBackground}),_e=Ee.selectAll("rect"),pe=(_e=_e.data(Je,this.labelKeyFunction)).enter().append("rect").merge(_e);return pe.classed(L,!0).attr("x",function(fe){return fe.boundingBox.left-le.horizontalLabelBackgroundPadding}).attr("y",function(fe){return fe.boundingBox.top-i.d1}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(fe){return fe.boundingBox.width+2*le.horizontalLabelBackgroundPadding}).attr("height",function(fe){return void 0===fe.text&&void 0===fe.secondRowText?0:fe.boundingBox.height+2*i.d1}).style("fill",function(fe){return fe.backgroundColor}).style("fill-opacity",function(fe){return 1-fe.backgroundTransparency}),Ye&&this.updateDataLabelSubSelectionAttributes(pe,function(fe){return fe.hasBackground}),_e.exit().remove(),pe},me.prototype.getNumberOfLabelsToRender=function(re,le,Ee,Ne){if(null==le||0===le)return Ee;var Ye=le/100,Je=Math.ceil(re/Ne);return 1===Ye?Je:Ee+Math.floor(Ye*(Je-Ee))},me.prototype.removeDuplicates=function(re){return(0,a.t)(re)?this.removeDuplicateContainers(re):this.removeDuplicateLabels(re)},me.prototype.getTextSize=function(re,le,Ee){var Ne=i.bN,Ye={text:re,fontFamily:Ee||Ne.fontFamily,fontSize:h.FP.fromPoint(le),fontWeight:Ne.fontWeight};return{width:S.b.measureSvgTextWidth(Ye),height:S.b.estimateSvgTextHeight(Ye)}},me.prototype.checkWordBreak=function(re,le,Ee,Ne,Ye,Je,_e){void 0===Ye&&(Ye=0),void 0===Je&&(Je=!1),void 0===_e&&(_e=!1);var pe=S.b.estimateSvgTextHeight(le)+Ye,fe=Math.max(1,Math.floor(Ne/pe));return(0,c.ql)(re,le,S.b.measureSvgTextWidth,Ee,fe,null,!1,Je,_e)},me.prototype.isLabelContainer=function(re){return re&&void 0!==re.labelContents},me.prototype.getLeaderLines=function(re,le,Ee){return re.select(this.linesGraphicsContextClass.selector).selectAll("polyline").data(le,Ee)},me.prototype.drawLabelContainerContent=function(re){var le=this,Ee=re.selectAll(E).data(function(fe){return[fe]}),Je=Ee.enter().append("text").merge(Ee).attr("x",function(fe){return 0===(oe=fe).labelOrientation?le.horizontalLabelBackgroundPadding:oe.boundingBox.width/-2;var oe}).attr("y",function(fe){return ce=(Be=(oe=fe).labelContents).length>1&&0!==oe.labelOrientation?(Be.length-1)*i.i1-(oe.hasBackground?i.d1:0):0,"MultiLine"===oe.contentLayout?(oe.boundingBox.height+ce)/-2:-((oe.hasBackground?0===oe.labelOrientation?i.d1:le.horizontalLabelBackgroundPadding:0)+ce);var oe,Be,ce}).style("text-anchor",function(fe){return fe.textAnchor}).classed(F,!0);Je.selectAll("tspan").remove();var _e=Je.interrupt().selectAll(g).data(function(fe){return le.computeTspanData(fe)},function(fe){return fe.label.role}),pe=_e.enter().append("tspan").merge(_e);pe.interrupt().attr("x",function(fe){return fe.x}).attr("y",function(fe){return fe.y}).attr("dx",function(fe){return fe.dx}).attr("dy",function(fe){return fe.dy}).text(function(fe){return fe.label.text}).styles(function(fe){return(0,n.E_)(fe.label.fontProperties)}).style("fill-opacity",function(fe){var oe;return null!==(oe=1-fe.label.transparency)&&void 0!==oe?oe:0}).classed(R,!0),Ee.exit().remove(),_e.exit().remove(),pe.exit().remove()},me.prototype.removeDuplicateLabels=function(re){for(var le=[],Ee={},Ne=0,Ye=re;Ne<Ye.length;Ne++){var Je=Ye[Ne];if(e.fF.assertValue(Je,"dataPoint"),null!=Je){var _e=Je,fe=Ee[_e.text];fe?this.sameParentIsInArray(_e,fe,1===_e.parentType)||(le.push(_e),fe.push(_e.parentShape)):(le.push(_e),Ee[_e.text]=[_e.parentShape])}}return le},me.prototype.removeDuplicateContainers=function(re){var le=this,Ee=new Set,Ne=new Set;return re.filter(function(Ye){var Je=Ye.labelDataPointContents.map(function(pe){return pe.text}).join("|"),_e=1===Ye.parentType;return!(Ee.has(Je)&&le.sameParentIsInArray(Ye,Array.from(Ne),_e)||(Ee.add(Je),Ne.add(Ye.parentShape),0))})},me.prototype.computeTspanData=function(re){var le=this,Ee=re.labelContents.sort(function(oe,ye){return le.roleSortOrder[oe.role]-le.roleSortOrder[ye.role]}),Ne=1===Ee.length,Ye="MultiLine"===re.contentLayout,_e=re.hasBackground?0===re.labelOrientation?i.d1:this.horizontalLabelBackgroundPadding:0,pe=function(ye){return ye.textSize.height+i.i1},fe=function(ye){return 0===re.labelOrientation?_e:ye.textSize.width/-2};return Ee.map(function(oe,ye){return Ye&&!Ne?{x:fe(oe),y:null,label:oe,dx:null,dy:pe(oe),id:ye}:{x:null,y:0,label:oe,dx:ye>0?i.uM:_e,dy:".35em",id:ye}})},me.prototype.drawLabelContainerBackground=function(re,le){var Ee=re.selectAll(B).data(function(pe){return[pe]}),Ne=Ee.enter().insert("rect","text").classed(I,!0).merge(Ee),Ye=2*i.d1,Je=2*this.horizontalLabelBackgroundPadding,_e=new Map;Ne.interrupt().filter(function(pe){return pe.hasBackground}).each(function(pe){var fe=0,oe=0;"MultiLine"===pe.contentLayout?(fe=0===pe.labelOrientation?pe.boundingBox.width+Ye:pe.boundingBox.width+Je,oe=0===pe.labelOrientation?pe.boundingBox.height+Je:pe.boundingBox.height+Ye):(fe=0===pe.labelOrientation?pe.boundingBox.height+Je:pe.boundingBox.width+Je,oe=0===pe.labelOrientation?pe.boundingBox.width+Ye:pe.boundingBox.height+Ye),_e.set(pe.identity.getKey(),{calculatedWidth:fe,calculatedHeight:oe})}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(pe){return _e.get(pe.identity.getKey()).calculatedWidth}).attr("height",function(pe){return _e.get(pe.identity.getKey()).calculatedHeight}).attr("x",function(pe){return 0===pe.labelOrientation?0:_e.get(pe.identity.getKey()).calculatedWidth/-2}).attr("y",function(pe){return _e.get(pe.identity.getKey()).calculatedHeight/-2}).style("fill",function(pe){return pe.backgroundColor}).style("fill-opacity",function(pe){return 1-pe.backgroundTransparency}),le&&this.updateDataLabelSubSelectionAttributes(Ne,function(pe){return pe.hasBackground}),Ee.exit().remove(),Ne.exit().remove()},me.prototype.getLabelY2ndLine=function(re){return re.boundingBox.top+(void 0!==re.text?re.boundingBox.height/2:re.boundingBox.height)},me.prototype.getSeriesLabelX=function(re){return re.boundingBox.left+(re.hasBackground?this.horizontalLabelBackgroundPadding:0)},me.prototype.getSeriesLabelY=function(re){var le=0;return re.wordBreak||(le=(re.boundingBox.height+2*i.d1)/4),re.boundingBox.top-le},me.prototype.getSeriesLabelFormattedText=function(re,le,Ee,Ne){var Ye=i.bN,Je={text:re,fontFamily:Ee||Ye.fontFamily,fontSize:h.FP.fromPoint(le),fontWeight:Ye.fontWeight};return S.b.getTailoredTextOrDefault(Je,Ne)},me.prototype.getSeriesLabelWidth=function(re){e.fF.assertValue(re,"textElement");var le=S.b.getSvgMeasurementProperties(re);return S.b.measureSvgTextWidth(le,re.textContent)},me.prototype.seriesWordBreak=function(re,le,Ee,Ne){for(var Ye=d3.select(re),Je=S.b.estimateSvgTextHeight(Ee),_e=Math.min(le.length,2),pe=0,fe=0;fe<_e;fe++){Ee.text=le[fe],le.length>2&&fe&&(Ee.text=le[fe].concat("..."));var oe=S.b.getTailoredTextOrDefault(Ee,Ne);Ye.append("tspan").attr("id","wordWrap".concat(le[fe])).attrs({x:0,dy:fe?Je:this.nonNumericVerticalOffset}).text(oe);var ye=S.b.measureSvgTextWidth(Ee,oe);pe=ye>pe?ye:pe}return pe},me.prototype.animateLabelBackground=function(re,le,Ee,Ne,Ye){var Je=this,_e=_.filter(le,function(oe){return oe.hasBackground}),pe=re.selectAll("rect").data(_e,this.labelKeyFunction),fe=pe.enter().append("rect").style("fill-opacity",0).merge(pe);return fe.transition().ease(Ye).duration(Ee).attrs({x:function(ye){return ye.boundingBox.left-Je.horizontalLabelBackgroundPadding},y:function(ye){return ye.boundingBox.top-i.d1},rx:this.labelBackgroundRounding,ry:this.labelBackgroundRounding,width:function(ye){return ye.boundingBox.width+2*Je.horizontalLabelBackgroundPadding},height:function(ye){return void 0===ye.text&&void 0===ye.secondRowText?0:ye.boundingBox.height+2*i.d1}}).style("fill",function(oe){return oe.backgroundColor}).style("fill-opacity",function(oe){return 1-oe.backgroundTransparency}),pe.exit().transition().duration(Ee).style("fill-opacity",0).remove(),fe},me.prototype.drawDefaultSeriesLabels=function(re,le,Ee,Ne,Ye,Je,_e,pe,fe){var oe=this,ye={transform:function(de){var te=Ye?oe.horizontalSeriesLabelPadding:-oe.horizontalSeriesLabelPadding,Ve=oe.getSeriesLabelX(de)+te,xe="translate(".concat(Ve,",").concat(oe.getLabelY(de),")");return 0===de.labelOrientation?"".concat(xe,"rotate(-90)"):xe},dy:this.nonNumericVerticalOffset},Ce=re.selectAll(O).data(Ee,this.labelKeyFunction),Be=Ce.enter().append("text").classed(T,!0).merge(Ce);fe&&Be.classed(f.cy,!0).attr(f.Ez,"series-labels").attr(f.CK,"Visual_SeriesLabels").attr(f.QZ,1);var be=[],Te=0;Be.interrupt().text(function(We){return Je?We.text:oe.getSeriesLabelFormattedText(We.text,We.fontProperties&&We.fontProperties.size?We.fontProperties.size.pt:void 0,We.fontProperties?We.fontProperties.family:void 0,Ne)}).attrs(ye).styles(function(We){return(0,n.E_)(We.fontProperties)}).styles({"text-anchor":Ye?"start":"end","white-space":"pre"});var ce=Be.nodes();if(Je)for(var ve=S.b.estimateSvgTextHeight(i.bN),Ke=pe+ve+(_e.height-ve-pe)/2,tt=0,mt=ce;tt<mt.length;tt++){e.fF.assertValue(He=mt[tt],"textElement");var ke=He.textContent,ft=S.b.getSvgMeasurementProperties(He);He.textContent=null;var Le=this.checkWordBreak(ke,ft,Ne,_e.height-Ke,void 0,!0,!0),Q=this.seriesWordBreak(He,Le,ft,Ne);Ee[Te].hasBackground&&be.push(Q),Te++}else for(var Ue=0,ae=ce;Ue<ae.length;Ue++){var He=ae[Ue];Ee[Te].hasBackground&&be.push(this.getSeriesLabelWidth(He)),Te++}Ce.exit().remove();var Se=_.filter(Ee,function(We){return We.hasBackground}),nt=le.selectAll("rect");return(nt=nt.data(Se,this.labelKeyFunction)).enter().append("rect").merge(nt).attr("transform",function(We,de){var te=We.boundingBox.left;return Ye||(te-=be[de]),"translate(".concat(te+=Ye?oe.horizontalSeriesLabelPadding:-oe.horizontalSeriesLabelPadding,",").concat(oe.getSeriesLabelY(We),")")}).attr("rx",this.labelBackgroundRounding).attr("ry",this.labelBackgroundRounding).attr("width",function(We,de){return be[de]+2*oe.horizontalLabelBackgroundPadding}).attr("height",function(We){return void 0===We.text&&void 0===We.secondRowText?0:We.boundingBox.height+2*i.d1}).style("fill",function(We){return We.backgroundColor}).style("fill-opacity",function(We){return 1-We.backgroundTransparency}),nt.exit().remove(),Be},me.prototype.getLabelContainerX=function(re){return re.boundingBox.left+re.boundingBox.width/2},me.prototype.getLabelContainerY=function(re){var Ee=0===re.labelOrientation?re.boundingBox.height:re.boundingBox.height/2;return re.wordBreak&&(Ee=re.boundingBox.height/2),re.boundingBox.top+Ee},me.prototype.getLabelX=function(re){var le=0===re.labelOrientation;return re.boundingBox.left+(le?re.boundingBox.width:re.boundingBox.width/2)-(re.hasBackground&&le?this.horizontalLabelBackgroundPadding:0)},me.prototype.getLabelY=function(re){var le=0===re.labelOrientation,Ee=le?re.boundingBox.height/2:re.boundingBox.height,Ne=re.hasBackground&&!le?i.d1:0;return re.wordBreak&&(Ee=re.boundingBox.height/2,Ne=-i.d1),re.boundingBox.top+Ee-Ne},me.prototype.labelKeyFunction=function(re,le){return re.key?re.key:re.identity?re.identity.getKeyWithoutHighlight():String(le)},me.prototype.getLabelX2ndLine=function(re){return re.boundingBox.left+re.boundingBox.width/2},me.prototype.updateDataLabelSubSelectionAttributes=function(re,le){re.classed(f.cy,function(Ee){return le(Ee)}).attr(f.Ez,function(Ee){return le(Ee)?Ee.isCategory?"category-labels":Ee.isTotal?"total-labels":"data-labels":null}).attr(f.CK,function(Ee){return le(Ee)?Ee.isTotal?"Visual_DataTotalLabels":"Visual_DataPointsLabels":null}).attr(f.QZ,function(Ee){return le(Ee)?1:null})},me}(),W=function(){function me(re,le){if(this.noPrecision=!0,0===le.displayUnits){var Ee=re.formatter;if(this.units=Ee&&Ee.displayUnit&&Ee.displayUnit.value,null==le.precision){this.noPrecision=!1;var Ne=Ee&&Ee.options;if(Ne&&Ne.precision)this.precisionForAxis=re.formatter.options.precision+1;else{var Ye=re.axis.tickValues();Ye&&Ye.length&&(this.precisionForAxis=(0,s.Gv)(Ye[0],Ye.length>1?Ye[1]:void 0,10*(this.units||1),Ne&&Ne.format))}}}}return me.prototype.getPrecision=function(re,le){if(!this.noPrecision){if(this.units)return this.precisionForAxis;if(!re)return le&&le.integer?0:this.precisionForAxis}},me}(),j=t(621822),ie=null,he=!1;function q(me){ie=null==me?void 0:me.labelEnhancementsM0,he=!0}function Y(me){var re;return!he&&null==me&&e.fF.assertFail("DataLabelRendererResolver must be initialized before use."),(null!==(re=null==me?void 0:me.labelEnhancementsM0)&&void 0!==re?re:ie)?(K||(K=new U),K):(ee||(ee=new G),ee)}var G=function(){function me(){}return me.prototype.animateDefaultLabels=function(re,le,Ee,Ne,Ye,Je){return(0,l.Xc)(re,le,Ee,Ne,Ye,Je)},me.prototype.animateLabelsAndBackgrounds=function(re){return(0,l.Bf)(re)},me.prototype.checkWordBreak=function(re,le,Ee,Ne,Ye,Je,_e){return(0,l.W1)(re,le,Ee,Ne,Ye,Je,_e)},me.prototype.createColumnFormatterCacheManager=function(){return(0,l.fI)()},me.prototype.drawDefaultLabels=function(re){return(0,l.x5)(re)},me.prototype.drawLabelBackground=function(re){return(0,l.ng)(re)},me.prototype.drawLabelsAndBackgrounds=function(re){return(0,l.gm)(re)},me.prototype.drawSeriesLabelsAndBackgrounds=function(re){return(0,l.Sw)(re)},me.prototype.getDataLabelLayoutOptions=function(re){return(0,l.n8)(re)},me.prototype.getLabelFormattedText=function(re,le,Ee){return(0,j.Bw)(re,le,Ee)},me.prototype.getLabelUnitAndPrecisionForAxis=function(re,le){return(0,l.d6)(re,le)},me.prototype.getNumberOfLabelsToRender=function(re,le,Ee,Ne){return(0,l.SS)(re,le,Ee,Ne)},me.prototype.getTextSize=function(re,le,Ee){return(0,l.y3)(re,le,Ee)},me.prototype.removeDuplicates=function(re){return(0,l.R1)(re)},me.prototype.drawLabelLeaderLines=function(re,le,Ee,Ne){return(0,l.z8)(re,le,Ee,Ne)},me.prototype.removeContainerContent=function(){throw new Error("Method not implemented.")},me.prototype.removeContainerBackground=function(){throw new Error("Method not implemented.")},me.prototype.drawLabelContainer=function(re){throw new Error("Method not implemented.")},me}()},621822:function(Xe,H,t){t.d(H,{AO:function(){return i},B8:function(){return n},Bw:function(){return F},CC:function(){return C},CH:function(){return g},Cn:function(){return P},DU:function(){return E},ML:function(){return p},Nb:function(){return x},Sm:function(){return u},Vv:function(){return y},WA:function(){return w},Xc:function(){return M},aC:function(){return R},hY:function(){return f},hm:function(){return D},nU:function(){return V},t$:function(){return c},tI:function(){return L},wT:function(){return b}});var e=t(973188),l=t(498342),o=t(854883),d=t(100112),v=t(625521),S=t(146828),h=t(102794);function c(I){return l.fF.assertValue(I.categoricalDataReader,"DataLabelUtil - determineDataLabelFillColor - categoricalDataReader"),I.categoricalDataReader.labels.labelFillColorReader.getDataLabelFillColor(I)}function u(I){return l.fF.assertValue(I.categoricalDataReader,"DataLabelUtil - determineCategoryLabelFillColor - categoricalDataReader"),I.categoricalDataReader.labels.labelFillColorReader.getCategoryLabelFillColor(I)}function i(I){return l.fF.assertValue(I.categoricalDataReader,"DataLabelUtil - determineTotalLabelFillColor - categoricalDataReader"),I.categoricalDataReader.labels.labelFillColorReader.getTotalLabelFillColor(I)}function n(I){return"Default"!==I.colorSource}function m(I){return l.fF.assertValue(I.categoricalDataReader,"DataLabelUtil - extractDynamicLabel - categoricalDataReader"),I.categoricalDataReader.labels.dynamicLabelReader.getDynamicLabel(I)}function f(I,B,U,W,j,K){if(void 0===K&&(K=!1),!K)if(B){if(W&&j.enableDetailDataLabel||!j.enableDetailDataLabel&&(j.enableTitleDataLabel||j.enableValueDataLabel))return void I.setWarnings([new v.x7])}else if(U&&j.enableValueDataLabel||!j.enableValueDataLabel&&(j.enableTitleDataLabel||j.enableDetailDataLabel))return void I.setWarnings([new v.x7])}function V(I,B,U,W,j,K){var ee=null==I?void 0:I.value,ie=null==I?void 0:I.formatString;if("number"==typeof ee){var he=W.getPrecision(!!ie,j.type);ee=F(B.getOrCreate(ie,U,W.units,he,K).format(ee))}return ee instanceof Date&&(U.displayUnits=void 0,ee=ie?F(B.getOrCreate(ie,U,void 0,void 0,K).format(ee)):d.dx.formatValue(ee,"d")),ee}function p(I){return I.some(function(B){return C(B)})}function C(I){return I&&void 0!==I.labelContents}function b(I,B){var U;if(B)for(var j=d3.select(I).datum().identity,K=0,ee=B;K<ee.length;K++){var ie=ee[K];if(null!==(U=null==ie?void 0:ie.identity)&&void 0!==U&&U.includes(j))return ie.identity.getSelectorsByColumn()}}function y(I,B){return B.color!==I&&(B=(0,h.ED)(B,{color:I})),B}function D(I,B,U){var W=(0,e.__assign)((0,e.__assign)((0,e.__assign)({},B),U),{data:[(0,o.Ue)(1)]});return I?W:B}function P(I,B,U){var W;return U?W=null:I&&(W=B),W}function F(I,B,U){return U?U.format(I):d.dx.formatValue(I,B)}function E(I,B,U,W,j,K){return void 0===K&&(K=!1),!K&&(I.labelEnhancementsM0&&I.measureDrivenDataLabels?j?B:B?!U:1!==W:B&&!j)}function w(I,B,U){if(!(B>1)||U)return g(I)}function x(I,B,U){return A(I,B,U,{dynamicSeriesType:0,multipleStaticSeriesType:2})}function R(I,B,U){return A(I,B,U,{dynamicSeriesType:1,multipleStaticSeriesType:3})}function g(I,B){var U,W;return void 0===B&&(B=0),l.fF.assertValue(I,"DataLabelUtil - determineValueLabelPickerFallbackExpression - valuesMetadataBySeries"),(null===(U=I[B])||void 0===U?void 0:U.metadataColumn.expr)||(null===(W=_.first(I))||void 0===W?void 0:W.metadataColumn.expr)}function L(I){var B=I.dataPointLabelSettings,U=I.categoricalDataReader,W=I.categoryIndex,j=I.seriesIndex,K=I.dynamicLabelsEnabledForSeries,ee=I.valuePropertyId,ie=I.featureSwitches,he=I.hasHighlights;return null!=ie&&ie.labelEnhancementsM0?m({valuePropertyId:ee,categoricalDataReader:U,categoryIndex:W,seriesIndex:j,hasHighlights:he,dynamicLabelFormatString:N("Value",B),enabled:null!=ie&&ie.measureDrivenDataLabels&&null!=B.showDynamicLabels?B.showDynamicLabels&&K.valueEnabled:K.valueEnabled}):null!=ie&&ie.measureDrivenDataLabels?m({valuePropertyId:ee,categoricalDataReader:U,categoryIndex:W,seriesIndex:j,hasHighlights:he,enabled:B.showDynamicLabels}):void 0}function M(I){var B=I.dataPointLabelSettings,U=I.featureSwitches;if(null!=U&&U.labelEnhancementsM0){var W=[];if(B.enableTitleDataLabel&&W.push(T(I,"Title",I.titlePropertyId)),B.enableDetailDataLabel&&W.push(T(I,"Detail",I.detailPropertyId)),!_.isEmpty(W))return W}}function T(I,B,U){var W=I.dataPointLabelSettings,j=I.categoricalDataReader,K=I.categoryIndex,ee=I.seriesIndex,ie=I.hasHighlights,he=N(B,W),q=function(I,B){var U=B.dataPointLabelSettings,W=B.dataLabelFillColorOptions,j=B.defaultLabelSettings,K={Title:function(){var ie;return function(I){return l.fF.assertValue(I.categoricalDataReader,"DataLabelUtil - determineDataLabelTitleFillColor - categoricalDataReader"),I.categoricalDataReader.labels.labelFillColorReader.getDataLabelTitleFillColor(I)}((0,e.__assign)((0,e.__assign)({},W),{defaultColor:null==j?void 0:j.titleFontProperties.color,seriesColor:null===(ie=null==U?void 0:U.titleFontProperties)||void 0===ie?void 0:ie.color}))},Detail:function(){var ie;return function(I){return l.fF.assertValue(I.categoricalDataReader,"DataLabelUtil - determineDataLabelDetailFillColor - categoricalDataReader"),I.categoricalDataReader.labels.labelFillColorReader.getDataLabelDetailFillColor(I)}((0,e.__assign)((0,e.__assign)({},W),{defaultColor:null==j?void 0:j.detailFontProperties.color,seriesColor:null===(ie=null==U?void 0:U.detailFontProperties)||void 0===ie?void 0:ie.color}))},Value:function(){return c((0,e.__assign)((0,e.__assign)({},W),{defaultColor:null==j?void 0:j.fontProperties.color,seriesColor:null==U?void 0:U.fontProperties.color}))}};if(K[I])return K[I]();l.fF.assertFail("extractFillColorByRole - unknown label role: ".concat(I))}(B,I),Y=m({valuePropertyId:U,categoricalDataReader:j,categoryIndex:K,seriesIndex:ee,hasHighlights:ie,enabled:!0,dynamicLabelFormatString:he});return{role:B,labelFill:null==q?void 0:q.color,labelSettings:W,dynamicLabel:Y}}function N(I,B){var U={Title:function(){return B.titleLabelDisplayUnits===S.In?B.titleCustomFormatString:void 0},Detail:function(){return B.detailLabelDisplayUnits===S.In?B.detailCustomFormatString:void 0},Value:function(){return B.displayUnits===S.In?B.valueCustomFormatString:void 0}};if(U[I])return U[I]();l.fF.assertFail("getFormatStringForRole - unknown label role: ".concat(I))}function A(I,B,U,W){return I>1||U?B?W.dynamicSeriesType:W.multipleStaticSeriesType:4}},429281:function(Xe,H,t){t.d(H,{$_:function(){return fe},AR:function(){return ie},Ej:function(){return q},FJ:function(){return ee},Gv:function(){return U},JA:function(){return xe},LV:function(){return T},RC:function(){return re},S9:function(){return w},WD:function(){return Ce},WW:function(){return nt},XQ:function(){return Se},ZL:function(){return M},Zu:function(){return Fe},bT:function(){return Y},dH:function(){return J},eR:function(){return Ve},fI:function(){return W},kL:function(){return _e},lJ:function(){return oe},lw:function(){return Je},oA:function(){return N},pJ:function(){return A},td:function(){return Re},u9:function(){return O},vc:function(){return G},ww:function(){return K},y3:function(){return j}});var e=t(973188),l=t(566464),o=t(498342),d=t(963470),v=t(11641),S=t(406057),h=t(756846),c=t(768783),r=t(854883),s=t(100112),u=t(380073),i=t(941242),a=t(626673),n=t(425854),m=t(789015),f=t(790313),V=t(146828),p=t(894555),C=t(621822),b=t(102794),y=t(340758),D=t(624225),P=t(341648),F=t(52825),E=t(355647),w=function(X){return X[X.variant=0]="variant",X[X.text=1]="text",X[X.number=2]="number",X[X.DateTime=3]="DateTime",X}({}),M=((0,l.CH)("labels"),(0,l.CH)("lines"),(0,l.CH)("data-labels"),(0,l.CH)("line-label"),(0,l.CH)("labelGraphicsContext")),T=(0,l.CH)("labelContainerGraphicsContext"),O=(0,l.CH)("labelBackgroundGraphicsContext"),N=(0,l.CH)("labelSeriesGraphicsContext"),A=(0,l.CH)("labelSeriesBackgroundGraphicsContext"),I="\u0591-\u07ff\u200f\u202b\u202e\ufb1d-\ufdfd\ufe70-\ufefc",B=new RegExp("^[^".concat(I,"]*?[").concat(I,"]"));function U(X){return function(X){var we={text:X.formatter?X.formatter.format(X.label):s.dx.formatValue(X.label,X.format),fontFamily:X.fontProperties.family?X.fontProperties.family:V.bN.fontFamily,fontSize:h.FP.fromPoint(X.fontProperties.size.pt),fontWeight:V.bN.fontWeight};return d.b.getTailoredTextOrDefault(we,X.maxWidth?X.maxWidth:V.Vr)}({label:X.label,maxWidth:X.maxWidth,format:X.format,formatter:X.formatter,fontProperties:X.fontProperties?X.fontProperties:void 0})}function W(){return new f.R}function j(X,we){return(0,p.U2)().getTextSize(X,we&&we.size?we.size.pt:void 0,we?we.family:void 0)}function K(X,we,Ze,et,at){var St,Ie,qe,bt,It,Rt;if(void 0===et&&(et=(0,v.Ue)()),void 0===at&&(at=!1),X){var zt=m.v.create(et);void 0!==X.showByDefault&&(we.showByDefault=X.showByDefault),void 0!==X.show&&(we.show=X.show),void 0!==X.showSeries&&(we.show=X.showSeries),void 0!==X.valueCustomFormatString&&(we.valueCustomFormatString=X.valueCustomFormatString),void 0!==X.labelPrecision&&(we.precision=X.labelPrecision>=0?X.labelPrecision:V.NZ),void 0!==X.percentageLabelPrecision&&(we.percentagePrecision=X.percentageLabelPrecision>=0?X.percentageLabelPrecision:V.Qc);var Kt=void 0!==X.bold?X.bold:we.bold,Yt=void 0!==X.italic?X.italic:we.italic,ir=void 0!==X.underline?X.underline:we.underline;we.fontProperties={color:zt.getColorForPropertyNameWithDefaultColor(X,"color",we.fontProperties.color),size:void 0!==X.fontSize?P.B.createFromPt(+X.fontSize):we.fontProperties.size,family:void 0!==X.fontFamily?X.fontFamily:we.fontProperties.family,weight:Kt?l.en:l.AI,style:Yt?l.BF:l.AI,textDecoration:ir?l.f0:l.zu},we.bold=Kt,we.italic=Yt,we.underline=ir,void 0!==X.showAll&&(we.showLabelPerSeries=X.showAll),void 0!==X.labelStyle?we.labelStyle=X.labelStyle:void 0!==X.funnelLabelStyle&&(we.labelStyle=X.funnelLabelStyle),void 0!==X.labelContainerMaxWidth&&(we.labelContainerMaxWidth=X.labelContainerMaxWidth),void 0!==X.labelContentLayout&&(we.labelContentLayout=X.labelContentLayout),void 0!==X.labelOrientation&&(we.labelOrientation=Ze?X.labelOrientation:we.labelOrientation),X.labelPosition&&(we.position=X.labelPosition),void 0!==X.labelOverflow&&(we.labelOverflow=X.labelOverflow);var lr=!1;void 0!==X.enableBackground&&(we.enableBackground=X.enableBackground,lr=X.enableBackground),(X.backgroundColor||lr)&&(we.backgroundColor=zt.getColorForPropertyName(X,"backgroundColor",V.lp)),null!=X.backgroundTransparency?we.backgroundTransparency=X.backgroundTransparency/100:lr&&(we.backgroundTransparency=at?V.r_:V.BS),void 0!==X.preserveWhitespace&&(we.preserveWhitespace=X.preserveWhitespace),void 0!==X.showPositiveAndNegative&&(we.showPositiveAndNegative=X.showPositiveAndNegative),void 0!==X.showDynamicLabels&&(we.showDynamicLabels=X.showDynamicLabels),void 0!==X.dynamicLabelValue&&(we.dynamicLabelValue=X.dynamicLabelValue),void 0!==X.leaderLines&&(we.leaderLines=X.leaderLines),void 0!==X.minimumOffset&&(we.minimumOffset=X.minimumOffset),void 0!==X.maximumOffset&&(we.maximumOffset=X.maximumOffset),void 0!==X.enableTitleDataLabel&&(we.enableTitleDataLabel=X.enableTitleDataLabel),void 0!==X.enableValueDataLabel&&(we.enableValueDataLabel=X.enableValueDataLabel),void 0!==X.enableDetailDataLabel&&(we.enableDetailDataLabel=X.enableDetailDataLabel);var dr=void 0!==X.titleBold?X.titleBold:we.titleBold,br=void 0!==X.titleItalic?X.titleItalic:we.titleItalic,Cr=void 0!==X.titleUnderline?X.titleUnderline:we.titleUnderline;we.titleFontProperties={color:zt.getColorForPropertyNameWithDefaultColor(X,"titleColor",null===(St=we.titleFontProperties)||void 0===St?void 0:St.color),size:void 0!==X.titleFontSize?P.B.createFromPt(+X.titleFontSize):null===(Ie=we.titleFontProperties)||void 0===Ie?void 0:Ie.size,family:void 0!==X.titleFontFamily?X.titleFontFamily:null===(qe=we.titleFontProperties)||void 0===qe?void 0:qe.family,weight:dr?l.en:l.AI,style:br?l.BF:l.AI,textDecoration:Cr?l.f0:l.zu},we.titleBold=dr,we.titleItalic=br,we.titleUnderline=Cr,void 0!==X.showBlankAs&&(we.showBlankAs=X.showBlankAs),void 0!==X.transparency&&(we.transparency=X.transparency/100),void 0!==X.wordWrap&&(we.wordWrap=X.wordWrap),void 0!==X.titleContentType&&(we.titleContentType=X.titleContentType),void 0!==X.titleTransparency&&(we.titleTransparency=X.titleTransparency/100),void 0!==X.titleLabelDisplayUnits&&(we.titleLabelDisplayUnits=X.titleLabelDisplayUnits),void 0!==X.titleCustomFormatString&&(we.titleCustomFormatString=X.titleCustomFormatString),void 0!==X.titleLabelPrecision&&(we.titleLabelPrecision=X.titleLabelPrecision),void 0!==X.titleShowBlankAs&&(we.titleShowBlankAs=X.titleShowBlankAs),void 0!==X.titleFontFamily&&(we.titleFontFamily=X.titleFontFamily),void 0!==X.titleFontSize&&(we.titleFontSize=X.titleFontSize),void 0!==X.titleColor&&(we.titleColor=X.titleColor);var pt=void 0!==X.detailBold?X.detailBold:we.detailBold,Ut=void 0!==X.detailItalic?X.detailItalic:we.detailItalic,er=void 0!==X.detailUnderline?X.detailUnderline:we.detailUnderline;we.detailFontProperties={color:zt.getColorForPropertyNameWithDefaultColor(X,"detailColor",null===(bt=we.detailFontProperties)||void 0===bt?void 0:bt.color),size:void 0!==X.detailFontSize?P.B.createFromPt(+X.detailFontSize):null===(It=we.detailFontProperties)||void 0===It?void 0:It.size,family:void 0!==X.detailFontFamily?X.detailFontFamily:null===(Rt=we.detailFontProperties)||void 0===Rt?void 0:Rt.family,weight:pt?l.en:l.AI,style:Ut?l.BF:l.AI,textDecoration:er?l.f0:l.zu},we.detailBold=pt,we.detailItalic=Ut,we.detailUnderline=er,void 0!==X.detailColor&&(we.detailColor=X.detailColor),void 0!==X.detailFontSize&&(we.detailFontSize=X.detailFontSize),void 0!==X.detailFontFamily&&(we.detailFontFamily=X.detailFontFamily),void 0!==X.detailTransparency&&(we.detailTransparency=X.detailTransparency/100),void 0!==X.detailShowBlankAs&&(we.detailShowBlankAs=X.detailShowBlankAs),void 0!==X.dynamicLabelDetail&&(we.dynamicLabelDetail=X.dynamicLabelDetail),void 0!==X.detailLabelDisplayUnits&&(we.detailLabelDisplayUnits=X.detailLabelDisplayUnits),void 0!==X.detailCustomFormatString&&(we.detailCustomFormatString=X.detailCustomFormatString),void 0!==X.detailLabelPrecision&&(we.detailLabelPrecision=X.detailLabelPrecision),void 0!==X.detailContentType&&(we.detailContentType=X.detailContentType),void 0!==X.optimizeLabelDisplay&&(we.optimizeLabelDisplay=X.optimizeLabelDisplay),void 0!==X.labelDisplayUnits&&(we.displayUnits=X.labelDisplayUnits)}}function ee(X,we,Ze,et){if(void 0===et&&(et=!1),X){var at=m.v.create(Ze);void 0!==X.showByDefault&&(we.showByDefault=X.showByDefault),void 0!==X.show&&(we.show=X.show),void 0!==X.seriesColor&&(we.seriesColor=at.getColorForPropertyNameWithDefaultColor(X,"seriesColor",X.seriesColor));var St=void 0!==X.bold?X.bold:we.bold,Ie=void 0!==X.italic?X.italic:we.italic,qe=void 0!==X.underline?X.underline:we.underline;we.fontProperties={size:void 0!==X.textSize?P.B.createFromPt(+X.textSize):we.fontProperties.size,family:void 0!==X.seriesFontFamily?X.seriesFontFamily:we.fontProperties.family,weight:St?l.en:l.AI,style:Ie?l.BF:l.AI,textDecoration:qe?l.f0:l.zu},void 0!==X.showAll&&(we.showLabelPerSeries=X.showAll),X.seriesPosition&&(we.seriesPosition=X.seriesPosition),X.seriesWordWrap&&(we.seriesWordWrap=X.seriesWordWrap),X.seriesMaximumWidth&&(we.seriesMaximumWidth=X.seriesMaximumWidth,we.defaultSeriesWidth=null);var bt=!1;void 0!==X.enableBackground&&(we.enableBackground=X.enableBackground,bt=X.enableBackground),(X.backgroundColor||bt)&&(we.backgroundColor=at.getColorForPropertyName(X,"backgroundColor",V.lp)),null!=X.backgroundTransparency?we.backgroundTransparency=X.backgroundTransparency/100:bt&&(we.backgroundTransparency=et?V.r_:V.BS),void 0!==X.bold&&(we.bold=X.bold),void 0!==X.italic&&(we.italic=X.italic),void 0!==X.underline&&(we.underline=X.underline)}}function ie(X,we,Ze,et,at){void 0===et&&(et=(0,v.Ue)()),void 0===at&&(at=!1),K(X,we,Ze,et,at),X&&void 0!==X.labelDensity&&(we.labelDensity=X.labelDensity)}function he(X){return B.test(X)}function q(X,we){X=X?X.filter(function(at){return null!=at&&at.length>0}):[],we=we||"";for(var Ze=[];X.length>0;){var et=X.shift();Ze.length>0&&he(Ze[Ze.length-1])&&!he(et)&&(Ze[Ze.length-1]="".concat(Ze[Ze.length-1],"\u200e")),Ze.push(et)}return Ze.join(we)}function Y(X){var we=X.labelColor,Ze=X.fontSize,et=X.fontFamily,at=X.textClassName,St=X.style||(0,v.Ue)(),Ie=!!X.show,qe=!!X.preserveWhitespace,bt=!!X.noColor,It=St&&!bt&&m.v.getThemeColor(St,V.uQ),Rt=(0,b.ED)(V.bL,{size:Ze?P.B.createFromPt(Ze):void 0,family:et,color:!bt&&(we||It)}),zt=(0,D.m)(St,at,bt),Kt=(0,b.ED)(Rt,zt),Yt={show:Ie,showByDefault:!0,position:0,displayUnits:0,valueCustomFormatString:V.M3,precision:V.NZ,fontProperties:Kt,titleFontProperties:Kt,detailFontProperties:Kt,bold:!1,italic:!1,underline:!1,transparency:0,wordWrap:!1,titleBold:!1,titleItalic:!1,titleUnderline:!1,titleTransparency:0,titleLabelDisplayUnits:0,titleCustomFormatString:V.M3,titleLabelPrecision:V.NZ,detailBold:!1,detailItalic:!1,detailUnderline:!1,detailTransparency:0,detailLabelDisplayUnits:0,detailCustomFormatString:V.M3,detailLabelPrecision:V.NZ};return Object.defineProperties(Yt,{preserveWhitespace:{value:qe,writable:!0}}),Yt}function G(X,we){void 0===X&&(X=(0,v.Ue)());var Ze=m.v.getThemeColor(X,V.uQ),et=(0,b.ED)(V.bL,{color:Ze}),at=(0,D.m)(X,we);return{show:!1,position:0,displayUnits:0,precision:V.NZ,fontProperties:(0,b.ED)(et,at),bold:!1,italic:!1,underline:!1}}function me(X){switch(X){case a.aT:return a.YK.data;case a.oN:return a.YK.percentOfFirst;case a.r2:return a.YK.percentOfPrevious;case a.MS:return a.YK.dataAndPercentOfFirst;case a.mN:return a.YK.dataAndPercentOfPrevious;default:return o.fF.assertFail("Unexpected labelStyle: ".concat(X)),a.YK.data}}function re(X){switch(X){case n.aT:return n.YK.data;case n.aQ:return n.YK.percent;case n.f3:return n.YK.categoryAndData;case n.ev:return n.YK.categoryAndPercent;case n.qv:return n.YK.dataAndPercent;case n._q:return n.YK.categoryAndDataAndPercent;case n.W3:return n.YK.category;default:return o.fF.assertFail("Unexpected labelStyle: ".concat(X)),n.YK.category}}function Je(X,we,Ze,et){o.fF.assertValue(X,"options"),o.fF.assertValue(X.enumeration,"enumeration");var at=X.style?X.style:(0,v.Ue)();if(X.dataLabelsSettings){var Ie,qe,St={objectName:et&&et.objectName||"labels",selector:X.selector,properties:{},propertyInstanceKind:{color:X.selector?1:3}};if(X.show&&X.selector?St.properties.showSeries=X.dataLabelsSettings.show:X.show&&(St.properties.show=X.dataLabelsSettings.show),X.labelStyle&&(St.properties.labelStyle=X.dataLabelsSettings.labelStyle,Ie=re(X.dataLabelsSettings.labelStyle)),X.funnelLabelStyle&&(St.properties.funnelLabelStyle=X.dataLabelsSettings.labelStyle,qe=me(X.dataLabelsSettings.labelStyle)),St.properties.color=X.dataLabelsSettings.fontProperties.color||m.v.getThemeColor(at,V.uQ),X.displayUnits&&(St.properties.labelDisplayUnits=X.dataLabelsSettings.displayUnits),X.precision&&Ie&&(0,c.yE)(Ie,n.nO)||X.precision&&qe&&(0,c.yE)(qe,a.nO)||X.precision&&!Ie){var bt=X.dataLabelsSettings.precision;St.properties.labelPrecision=bt===V.NZ?null:bt,Z(St,"labelPrecision",{numberRange:{min:0,max:V.vo}})}if(X.percentagePrecision&&Ie&&(0,c.yE)(Ie,n.tG)||X.percentagePrecision&&qe&&(0,c.yE)(qe,a.r0)||(0,c.yE)(qe,a.CR)||X.percentagePrecision&&!Ie){var Rt=X.dataLabelsSettings.percentagePrecision;St.properties.percentageLabelPrecision=Rt===V.Qc?null:Rt,Z(St,"percentageLabelPrecision",{numberRange:{min:0,max:V.vo}})}if(X.labelOrientation&&(St.properties.labelOrientation=X.dataLabelsSettings.labelOrientation),X.position&&(St.properties.labelPosition=X.dataLabelsSettings.position,X.positionObject&&Z(St,"labelPosition",X.positionObject)),X.labelOverflow&&(St.properties.labelOverflow=X.dataLabelsSettings.labelOverflow),X.fontSize&&(St.properties.fontSize=X.dataLabelsSettings.fontProperties.size.pt,X.fontSizeRange)&&Z(St,"fontSize",{numberRange:{min:X.dataLabelsSettings.minFontSize,max:X.dataLabelsSettings.maxFontSize}}),X.fontFamily&&(St.properties.fontFamily=X.dataLabelsSettings.fontProperties.family||y.rk),X.bold&&(St.properties.bold=X.dataLabelsSettings.bold||!1),X.italic&&(St.properties.italic=X.dataLabelsSettings.italic||!1),X.underline&&(St.properties.underline=X.dataLabelsSettings.underline||!1),X.labelDensity){var Kt=X.dataLabelsSettings;Kt&&(St.properties.labelDensity=Kt.labelDensity)}if(null!=X.enableBackground&&(St.properties.enableBackground=X.enableBackground),X.enableBackground&&(St.properties.backgroundColor=X.backgroundColor,St.properties.backgroundTransparency=Math.round(100*X.backgroundTransparency)),X.preserveWhitespace&&(St.properties.preserveWhitespace=X.dataLabelsSettings.preserveWhitespace),X.showPositiveAndNegative&&(St.properties.showPositiveAndNegative=X.dataLabelsSettings.showPositiveAndNegative),we&&we.measureDrivenDataLabels&&(St.properties.showDynamicLabels=X.dataLabelsSettings.showDynamicLabels,X.dynamicLabelValue&&(St.properties.dynamicLabelValue=X.dataLabelsSettings.dynamicLabelValue)),X.leaderLines&&(St.properties.leaderLines=X.dataLabelsSettings.leaderLines,St.properties.minimumOffset=X.dataLabelsSettings.minimumOffset,St.properties.maximumOffset=X.dataLabelsSettings.maximumOffset),X.showAll&&(St.properties.showAll=!!X.dataLabelsSettings.showLabelPerSeries),Ze)for(var Yt in Ze)St.properties[Yt]=Ze[Yt];return et&&et.propertyInstanceKind&&(St.propertyInstanceKind=et.propertyInstanceKind),X.enumeration.pushInstance(St)}}function _e(X){return{color:{objectName:X,propertyName:"color"},displayUnits:{objectName:X,propertyName:"labelDisplayUnits"},fontFamily:{objectName:X,propertyName:"fontFamily"},fontSize:{objectName:X,propertyName:"fontSize"},position:{objectName:X,propertyName:"labelPosition"},percentagePrecision:{objectName:X,propertyName:"percentageLabelPrecision"},precision:{objectName:X,propertyName:"labelPrecision"},show:{objectName:X,propertyName:"show"},labelStyle:{objectName:X,propertyName:"labelStyle"},bold:{objectName:X,propertyName:"bold"},italic:{objectName:X,propertyName:"italic"},underline:{objectName:X,propertyName:"underline"}}}function pe(X,we,Ze){void 0===Ze&&(Ze="Desktop_FileMenu_Options");var et=X.options,at=X.dataLabelsProps,St=X.omitGroupDisplayNames,qe=X.selector,bt=X.hostServices,It=X.featureSwitches,Rt=et.dataLabelsSettings,zt=we||X.cardBuilder;we&&we.addSimpleSlice("showSeries",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.showSeries),{selector:qe}),value:Rt.show}).build(),function(Kt){return Kt.withDisabled(!qe).withCustomDisplayName("Visual_Show_Data_Labels")}),zt.addGroup("options",function(Kt){var Yt;St||Kt.withDisplayName(Ze),!we&&qe&&et.show&&Kt.addSimpleSlice("showSeries",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.showSeries),{selector:qe}),value:Rt.show}).build(),function(Cr){return Cr.withDisabled(!qe).withCustomDisplayName("Visual_Show_Data_Labels")}),at.labelOrientation&&Kt.addSimpleSlice("labelOrientation",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelOrientation),{selector:qe}),value:Rt.labelOrientation}).build(),function(Cr){return Cr.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!qe)});var ir=at.labelPosition||at.position;if(ir){var lr=et.positionObject?et.positionObject:void 0;Kt.addSimpleSlice("position",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},ir),{selector:qe}),value:null!==(Yt=Rt.position)&&void 0!==Yt?Yt:lr.length>0?lr[0]:"Auto",filterValues:lr}).build(),function(Cr){return Cr.withCustomDisplayName("Visual_Position")})}if(at.overflow&&Kt.addSimpleSlice("overflow",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.overflow),{selector:qe}),value:Rt.overflow}).build(),function(Cr){return Cr.withDisabled(Rt&&Rt.position===i.SX)}),at.labelStyle&&Kt.addSimpleSlice("labelContents",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelStyle),{selector:qe}),value:Rt.labelStyle}).build(),function(Cr){return Cr.withCustomDisplayName("Visual_LabelContents")}),at.labelDensity&&et.labelDensity){var dr=et.dataLabelsSettings;dr&&Kt.addSimpleSlice("labelDensity",S.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelDensity),{selector:qe}),value:dr.labelDensity,localize:function(pt){return bt.getLocalizedString(pt)}}).build(),function(Cr){return Cr.withCustomDescription("Visual_LabelDensity_Description")})}if(It.leaderLinesAndOffset&&at.leaderLines&&et.leaderLines&&Kt.addSimpleSlice("leaderLines",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.leaderLines),{selector:qe}),value:Rt.leaderLines}).build()),It.leaderLinesAndOffset&&at.minimumOffset&&et.leaderLines&&Kt.addSimpleSlice("minimumOffset",new S.JN({descriptor:(0,e.__assign)((0,e.__assign)({},at.minimumOffset),{selector:qe}),value:Rt.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}},localize:function(pt){return bt.getLocalizedString(pt)}}).build()),It.leaderLinesAndOffset&&at.maximumOffset&&et.leaderLines){var br=Rt.minimumOffset;Rt.maximumOffset=br>=Rt.maximumOffset?br:Rt.maximumOffset,Kt.addSimpleSlice("maximumOffset",new S.JN({descriptor:(0,e.__assign)((0,e.__assign)({},at.maximumOffset),{selector:qe}),value:Rt.maximumOffset,options:{minValue:{type:0,value:br},maxValue:{type:1,value:200}},localize:function(pt){return bt.getLocalizedString(pt)}}).build())}})}function fe(X,we,Ze,et){void 0===Ze&&(Ze="Role_DisplayName_Values"),void 0===et&&(et=!1);var St=X.cardBuilder;we&&(St=we),St.addGroup("values",function(Ie){return oe(Ie,X,Ze,et),Ie.build()})}function oe(X,we,Ze,et){void 0===Ze&&(Ze="Role_DisplayName_Values"),void 0===et&&(et=!1);var Kt,Yt,at=we.options,St=we.featureSwitches,Ie=we.dataLabelsProps,qe=we.omitGroupDisplayNames,bt=we.selector,It=we.repetitionSelector,Rt=we.displayDisabledSlices,zt=at.dataLabelsSettings;at.labelStyle&&(Kt=re(zt.labelStyle)),at.funnelLabelStyle&&(Yt=me(zt.labelStyle));var ir=at.style?at.style:(0,v.Ue)();if(qe||X.withDisplayName(Ze),et)X.withDisabled(!0,void 0);else{(Ie.fontFamily||Ie.fontSize)&&X.addCompositeSlice("font","Font",function(){var mr=new S.UN;if(at.fontFamily&&Ie.fontFamily&&mr.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.fontFamily),{selector:bt}),value:zt.fontProperties.family||y.rk}),at.fontSize&&Ie.fontSize){var gr={descriptor:(0,e.__assign)((0,e.__assign)({},Ie.fontSize),{selector:bt}),value:zt.fontProperties.size.pt};at.fontSizeRange&&(gr.options={minValue:{type:0,value:zt.minFontSize},maxValue:{type:1,value:zt.maxFontSize}}),mr.withFontSizeProperties(gr)}return at.bold&&Ie.bold&&mr.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.bold),{selector:bt}),value:zt.bold}),at.italic&&Ie.italic&&mr.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.italic),{selector:bt}),value:zt.italic}),at.underline&&Ie.underline&&mr.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.underline),{selector:bt}),value:zt.underline}),mr.build()}),Ie.matchSeriesColor&&X.addSimpleSlice("matchSeriesColor",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.matchSeriesColor),{selector:bt}),value:at.matchSeriesColor}).build()}),Ie.color&&X.addSimpleSlice("color",function(){var mr={value:zt.fontProperties.color||m.v.getThemeColor(ir,V.uQ)},gr=ye(we);return new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.color),{selector:(0,C.hm)(we.individualSelector,bt,It),instanceKind:gr,altConstantValueSelector:(0,C.Cn)(we.individualSelector,bt,we.includeAltConstantValueSelector)}),value:mr}).build()},function(mr){return mr.withDisabled(at.matchSeriesColor)}),Ie.background&&X.addSimpleSlice("background",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.background),{selector:bt}),value:zt.enableBackgroundWithAuto}).build(),function(mr){return mr.withDisabled(zt&&zt.position===i.SX)});var lr=Ie.labelDisplayUnits||Ie.displayUnits;at.displayUnits&&void 0!==at.dataLabelsSettings.displayUnits&&lr&&X.addSimpleSlice("displayUnits",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},lr),{selector:bt}),value:zt.displayUnits}).build(),function(mr){return mr.withAliasName("Decimal")});var dr=Ie.labelPrecision||Ie.precision;if(at.precision&&Kt&&(0,c.yE)(Kt,n.nO)||at.precision&&Yt&&(0,c.yE)(Yt,a.nO)||at.precision&&!Kt&&dr){var br=zt.precision;X.addSimpleSlice("precision",function(){return new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},dr),{selector:bt}),value:br===V.NZ?null:br,options:{minValue:{type:0,value:0},maxValue:{type:1,value:V.vo}}}).build()})}if(at.percentagePrecision&&Kt&&(0,c.yE)(Kt,n.tG)||at.percentagePrecision&&Yt&&(0,c.yE)(Yt,a.r0)||(0,c.yE)(Yt,a.CR)||at.percentagePrecision&&!Kt&&Ie.percentagePrecision){var Cr=zt.percentagePrecision;X.addSimpleSlice("percentagePrecision",function(){return new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.percentagePrecision),{selector:bt}),value:Cr===V.Qc?null:Cr,options:{minValue:{type:0,value:0},maxValue:{type:1,value:V.vo}}}).build()},function(mr){return mr.withCustomDisplayName("Visual_PercentagePrecision")})}at.wordWrap&&Ie.wordWrap&&X.addSimpleSlice("wordWrap",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.wordWrap),{selector:bt}),value:zt.wordWrap}).build()},function(mr){return mr.withCustomDisplayName("TextWrap")}),at.preserveWhitespace&&Ie.preserveWhitespace&&X.addSimpleSlice("preserveWhitespace",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.preserveWhitespace),{selector:bt}),value:zt.preserveWhitespace}).build()});var pt=Rt&&!!Rt.labelOverflow;if((at.labelOverflow&&Ie.labelOverflow||pt)&&X.addSimpleSlice("labelOverflow",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.labelOverflow),{selector:bt}),value:pt?void 0:zt.labelOverflow}).build()},function(mr){return mr.withDisabled(et||pt).withCustomDescription("Visual_DataLabel_OverflowDescription")}),at.showPositiveAndNegative&&Ie.showPositiveAndNegative&&X.addSimpleSlice("showPositiveAndNegative",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.showPositiveAndNegative),{selector:bt}),value:zt.showPositiveAndNegative}).build()}),!St.labelEnhancementsM0&&St.measureDrivenDataLabels&&Ie.showDynamicLabels){var Ut=zt.showDynamicLabels&&at.enableDynamicLabelPickers||!1;Ie.showDynamicLabels&&X.addSimpleSlice("showDynamicLabels",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.showDynamicLabels),{selector:bt}),value:zt.showDynamicLabels}).build()},function(mr){return mr.withCustomDescription("Visual_ShowCustomLabel")});var er=we.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},bt),{data:[(0,r.Ue)(1)],highlightMatching:1}),Pr={propertyName:Ie.dynamicLabelValue.propertyName,objectName:Ie.dynamicLabelValue.objectName,selector:er,instanceKind:2,propertyTypes:{text:!0}};X.addSimpleSlice("dynamicLabelValue",function(){return new S.k0({descriptor:Pr,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,validators:{field:{kind:1}}}).build()},function(mr){return mr.withDisabled(!Ut)})}}}function ye(X){return null!=X.instanceKind?X.instanceKind:X.individualSelector?3:1}function Ce(X){var we,Ze;return!(!X.hasCategories||X.hasSeriesSelector&&X.hasDynamicSeries||null===(we=X.featureSwitches)||void 0===we||!we.conditionalFormattingDataLabels||(null===(Ze=X.featureSwitches)||void 0===Ze||!Ze.categoricalSecondaryCF)&&X.hasDynamicSeries)}function be(X){return function(X,we){for(var Ze=0,et=we;Ze<et.length;Ze++)if(et[Ze]===X)return!0;return!1}(X,[w.number,w.variant])}function ve(X,we){var at=X.cardBuilder;we&&(at=we),null!=X.options.enableBackground&&at.addGroup("background",function(St){Re(St,X)})}function Re(X,we,Ze){var et=we.options,at=we.hostServices,St=we.dataLabelsProps,Ie=we.selector;Ze?X.addSimpleSlice("enableBackground",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},St.enableBackground),{selector:Ie}),value:et.enableBackground}).build()}):X.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},St.enableBackground),{selector:Ie}),value:et.enableBackground}).build()}),X.addSimpleSlice("backgroundColor",new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},St.backgroundColor),{selector:Ie}),value:{value:et.backgroundColor}}).build(),function(bt){Ze?bt.withDisabled(!et.enableBackground):bt.withCustomDisplayName("Generic_Color")}).addSimpleSlice("backgroundTransparency",S.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},St.backgroundTransparency),{selector:Ie}),value:Math.round(100*et.backgroundTransparency),localize:function(It){return at.getLocalizedString(It)}}).build(),function(bt){return bt.withDisabled(Ze&&!et.enableBackground)})}function Ke(X,we,Ze){void 0===Ze&&(Ze="Small_Multiples_LayoutGroup");var at=X.cardBuilder;we&&(at=we),at.addGroup("layout",function(St){return function(X,we,Ze){void 0===Ze&&(Ze="Small_Multiples_LayoutGroup");var at=we.dataLabelsProps,Ie=we.selector,qe=we.options.dataLabelsSettings;we.omitGroupDisplayNames||X.withDisplayName(Ze),at.labelContentLayout&&X.addSimpleSlice("labelContentLayout",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelContentLayout),{selector:Ie}),value:qe.labelContentLayout}).build())}(St,X,Ze),St.build()})}function mt(X,we,Ze,et){void 0===Ze&&(Ze="Title"),void 0===et&&(et=!1);var St=X.cardBuilder;we&&(St=we),St.addGroup("title",function(Ie){return function(X,we,Ze,et){var at;void 0===Ze&&(Ze="Title"),void 0===et&&(et=!1);var St=we.options,Ie=we.dataLabelsProps,qe=we.omitGroupDisplayNames,bt=we.selector,It=we.repetitionSelector,Rt=we.hostServices,zt=St.dataLabelsSettings,Kt=St.style?St.style:(0,v.Ue)();if(qe||X.withDisplayName(Ze).addTopLevelToggle("enableTitleDataLabel",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.enableTitleDataLabel),{selector:bt}),value:zt.enableTitleDataLabel}).build()}),et)X.withDisabled(!0,void 0);else{if(Ie.titleContentType&&X.addSimpleSlice("titleContentType",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleContentType),{selector:bt}),value:zt.titleContentType||"Series name"}).build()),Ie.dynamicLabelTitle&&"Custom"===zt.titleContentType){var ir=we.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},bt),{data:[(0,r.Ue)(1)],highlightMatching:1});X.addSimpleSlice("dynamicLabelTitle",new S.k0({descriptor:{propertyName:Ie.dynamicLabelTitle.propertyName,objectName:Ie.dynamicLabelTitle.objectName,selector:ir,instanceKind:2,propertyTypes:{text:!0}},value:void 0,unwrapExprOnGet:!0,dataLabelPickerType:{seriesType:we.dataLabelPickerSeriesType,dataLabelRole:1},validators:{field:{kind:1}}}).build(),function(Ut){return Ut.withCustomDisplayName("Data").withDisabled(!St.enableDynamicLabelPickers)})}if((Ie.titleFontFamily||Ie.titleFontSize)&&X.addCompositeSlice("titleFont","Font",function(){var Ut=new S.UN;if(St.fontFamily&&Ie.titleFontFamily&&Ut.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleFontFamily),{selector:bt}),value:zt.titleFontProperties.family||y.rk}),St.fontSize&&Ie.titleFontSize){var er={descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleFontSize),{selector:bt}),value:zt.titleFontProperties.size.pt};St.fontSizeRange&&(er.options={minValue:{type:0,value:zt.minFontSize},maxValue:{type:1,value:zt.maxFontSize}}),Ut.withFontSizeProperties(er)}return St.bold&&Ie.titleBold&&Ut.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleBold),{selector:bt}),value:zt.titleBold}),St.italic&&Ie.titleItalic&&Ut.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleItalic),{selector:bt}),value:zt.titleItalic}),St.underline&&Ie.titleUnderline&&Ut.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleUnderline),{selector:bt}),value:zt.titleUnderline}),Ut.build()}),Ie.titleColor&&X.addSimpleSlice("titleColor",function(){var Ut={value:zt.titleFontProperties.color||m.v.getThemeColor(Kt,V.uQ)},er=ye(we);return new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleColor),{selector:(0,C.hm)(we.individualSelector,bt,It),instanceKind:er,altConstantValueSelector:(0,C.Cn)(we.individualSelector,bt,we.includeAltConstantValueSelector)}),value:Ut}).build()},function(Ut){return Ut.withDisabled(St.matchSeriesColor)}),Ie.titleTransparency&&X.addSimpleSlice("titleTransparency",S.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleTransparency),{selector:bt}),value:Math.round(100*(null!==(at=zt.titleTransparency)&&void 0!==at?at:0)),localize:function(er){return Rt.getLocalizedString(er)}}).build()),be(we.titleFieldSourceType)&&"Custom"===zt.titleContentType){var dr=Ie.titleLabelDisplayUnits,br=(null==zt?void 0:zt.titleLabelDisplayUnits)===V.In;St.displayUnits&&void 0!==St.dataLabelsSettings.titleLabelDisplayUnits&&dr&&X.addSimpleSlice("titleLabelDisplayUnits",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},dr),{selector:bt}),value:zt.titleLabelDisplayUnits}).build(),function(Ut){return Ut.withAliasName("Decimal").withDisabled(!St.enableDynamicLabelPickers)});var Cr=Ie.titleLabelPrecision;if(br)X.addSimpleSlice("titleCustomFormatString",new S.fq({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleCustomFormatString),{selector:bt,instanceKind:3}),value:zt.titleCustomFormatString,placeholder:"Auto"}).build(),function(Ut){return Ut.withDisabled(!St.enableDynamicLabelPickers)});else if(St.precision&&Cr){var pt=zt.titleLabelPrecision;X.addSimpleSlice("titleLabelPrecision",function(){return new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},Cr),{selector:bt}),value:pt===V.NZ?null:pt,options:{minValue:{type:0,value:0},maxValue:{type:1,value:V.vo}}}).build()},function(Ut){return Ut.withDisabled(!St.enableDynamicLabelPickers)})}}Ie.titleShowBlankAs&&X.addSimpleSlice("titleShowBlankAs",new S.fq({descriptor:(0,e.__assign)((0,e.__assign)({},Ie.titleShowBlankAs),{selector:bt,instanceKind:1}),value:zt.titleShowBlankAs||"",placeholder:"0"}).build(),function(Ut){return Ut.withDisabled(!St.enableDynamicLabelPickers)})}}(Ie,X,Ze,et),Ie.build()})}function ke(X,we,Ze,et){void 0===Ze&&(Ze="Value"),void 0===et&&(et=!1);var St=X.cardBuilder;we&&(St=we),St.addGroup("values",function(Ie){return function(X,we,Ze,et,at){var St;void 0===Ze&&(Ze="Value"),void 0===et&&(et=!1);var Ie=we.options,qe=we.dataLabelsProps,bt=we.omitGroupDisplayNames,It=we.selector,Rt=we.repetitionSelector,zt=we.hostServices,Kt=Ie.dataLabelsSettings,Yt=Ie.style?Ie.style:(0,v.Ue)();if(bt||X.withDisplayName(Ze).addTopLevelToggle("enableValueDataLabel",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},qe.enableValueDataLabel),{selector:It}),value:Kt.enableValueDataLabel}).build()}),et)X.withDisabled(!0,void 0);else{var lr=Ie.enableDynamicLabelPickers||!1,dr=we.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},It),{data:[(0,r.Ue)(1)],highlightMatching:1}),br={propertyName:qe.dynamicLabelValue.propertyName,objectName:qe.dynamicLabelValue.objectName,selector:dr,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};X.addSimpleSlice("dynamicLabelValue",function(){return new S.k0({descriptor:br,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,fallbackExpr:we.valueLabelPickerFallbackExpr,dataLabelPickerType:{seriesType:we.dataLabelPickerSeriesType,dataLabelRole:0},validators:{field:{kind:1}}}).build()},function(mr){return mr.withDisabled(!lr)}),(qe.fontFamily||qe.fontSize)&&X.addCompositeSlice("font","Font",function(){var mr=new S.UN;if(Ie.fontFamily&&qe.fontFamily&&mr.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},qe.fontFamily),{selector:It}),value:Kt.fontProperties.family||y.rk}),Ie.fontSize&&qe.fontSize){var gr={descriptor:(0,e.__assign)((0,e.__assign)({},qe.fontSize),{selector:It}),value:Kt.fontProperties.size.pt};Ie.fontSizeRange&&(gr.options={minValue:{type:0,value:Kt.minFontSize},maxValue:{type:1,value:Kt.maxFontSize}}),mr.withFontSizeProperties(gr)}return Ie.bold&&qe.bold&&mr.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},qe.bold),{selector:It}),value:Kt.bold}),Ie.italic&&qe.italic&&mr.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},qe.italic),{selector:It}),value:Kt.italic}),Ie.underline&&qe.underline&&mr.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},qe.underline),{selector:It}),value:Kt.underline}),mr.build()}),qe.color&&X.addSimpleSlice("color",function(){var mr={value:Kt.fontProperties.color||m.v.getThemeColor(Yt,V.uQ)},gr=ye(we);return new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},qe.color),{selector:(0,C.hm)(we.individualSelector,It,Rt),instanceKind:gr,altConstantValueSelector:(0,C.Cn)(we.individualSelector,It,we.includeAltConstantValueSelector)}),value:mr}).build()},function(mr){return mr.withDisabled(Ie.matchSeriesColor)}),qe.transparency&&X.addSimpleSlice("transparency",S.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},qe.transparency),{selector:It}),value:Math.round(100*(null!==(St=Kt.transparency)&&void 0!==St?St:0)),localize:function(gr){return zt.getLocalizedString(gr)}}).build(),function(mr){return mr.withDisabled(undefined)});var Cr=qe.displayUnits;if(be(we.valueFieldSourceType)){var pt=Kt.displayUnits,Ut=pt===V.In;Ie.displayUnits&&void 0!==Ie.dataLabelsSettings.displayUnits&&Cr&&X.addSimpleSlice("displayUnits",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Cr),{selector:It}),value:pt}).build(),function(mr){return mr.withAliasName("Decimal")});var er=qe.labelPrecision;if(Ut)X.addSimpleSlice("valueCustomFormatString",new S.fq({descriptor:(0,e.__assign)((0,e.__assign)({},qe.valueCustomFormatString),{selector:It,instanceKind:3}),value:Kt.valueCustomFormatString,placeholder:"Auto"}).build(),function(mr){return mr.withDisabled(!Ie.enableDynamicLabelPickers)});else if(Ie.precision&&er){var Pr=Kt.precision;X.addSimpleSlice("precision",function(){return new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},er),{selector:It}),value:Pr===V.NZ?null:Pr,options:{minValue:{type:0,value:0},maxValue:{type:1,value:V.vo}}}).build()})}}qe.showBlankAs&&X.addSimpleSlice("showBlankAs",new S.fq({descriptor:(0,e.__assign)((0,e.__assign)({},qe.showBlankAs),{selector:It,instanceKind:1}),value:Kt.showBlankAs?Kt.showBlankAs:"",placeholder:"0"}).build())}}(Ie,X,Ze,et),Ie.build()})}function Le(X,we,Ze,et){void 0===Ze&&(Ze="Visual_Label_DetailLabelName"),void 0===et&&(et=!1);var St=X.cardBuilder;we&&(St=we),St.addGroup("detail",function(Ie){return function(X,we,Ze,et,at){var St;void 0===Ze&&(Ze="Visual_Label_DetailLabelName"),void 0===et&&(et=!1);var Ie=we.options,qe=we.dataLabelsProps,bt=we.omitGroupDisplayNames,It=we.selector,Rt=we.repetitionSelector,zt=we.hostServices,Kt=Ie.dataLabelsSettings,Yt=Ie.isStacked100,ir=Ie.style?Ie.style:(0,v.Ue)();if(bt||X.withDisplayName(Ze).addTopLevelToggle("enableDetailDataLabel",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},qe.enableDetailDataLabel),{selector:It}),value:Kt.enableDetailDataLabel}).build()}),et)X.withDisabled(!0,void 0);else{if(qe.dynamicLabelDetail){var dr=we.omitDynamicLabelSelector?void 0:(0,e.__assign)((0,e.__assign)({},It),{data:[(0,r.Ue)(1)],highlightMatching:1}),br={propertyName:qe.dynamicLabelDetail.propertyName,objectName:qe.dynamicLabelDetail.objectName,selector:dr,instanceKind:2,propertyTypes:{text:!0,variantDeleteEmpty:!0}};Yt&&X.addSimpleSlice("detailContentType",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailContentType),{selector:It}),value:Kt.detailContentType||"Custom"}).build(),function(Ut){return Ut.withCustomDisplayName("Content")}),(!Yt||"Custom"===Kt.detailContentType||null==Kt.detailContentType)&&X.addSimpleSlice("dynamicLabelDetail",function(){return new S.k0({descriptor:br,allowMultipleValues:!1,value:void 0,unwrapExprOnGet:!0,dataLabelPickerType:{seriesType:we.dataLabelPickerSeriesType,dataLabelRole:2},validators:{field:{kind:1}}}).build()},function(Ut){return Ut.withCustomDisplayName("Data").withDisabled(!Ie.enableDynamicLabelPickers)})}if((qe.detailFontFamily||qe.detailFontSize)&&X.addCompositeSlice("detailFont","Font",function(){var Ut=new S.UN;if(Ie.fontFamily&&qe.detailFontFamily&&Ut.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailFontFamily),{selector:It}),value:Kt.detailFontProperties.family||y.rk}),Ie.fontSize&&qe.detailFontSize){var er={descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailFontSize),{selector:It}),value:Kt.detailFontProperties.size.pt};Ie.fontSizeRange&&(er.options={minValue:{type:0,value:Kt.minFontSize},maxValue:{type:1,value:Kt.maxFontSize}}),Ut.withFontSizeProperties(er)}return Ie.bold&&qe.detailBold&&Ut.withBold({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailBold),{selector:It}),value:Kt.detailBold}),Ie.italic&&qe.detailItalic&&Ut.withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailItalic),{selector:It}),value:Kt.detailItalic}),Ie.underline&&qe.detailUnderline&&Ut.withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailUnderline),{selector:It}),value:Kt.detailUnderline}),Ut.build()}),qe.detailColor&&X.addSimpleSlice("detailColor",function(){var Ut={value:Kt.detailFontProperties.color||m.v.getThemeColor(ir,V.uQ)},er=ye(we);return new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailColor),{selector:(0,C.hm)(we.individualSelector,It,Rt),instanceKind:er,altConstantValueSelector:(0,C.Cn)(we.individualSelector,It,we.includeAltConstantValueSelector)}),value:Ut}).build()},function(Ut){return Ut.withDisabled(Ie.matchSeriesColor)}),qe.detailTransparency&&X.addSimpleSlice("detailTransparency",S.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailTransparency),{selector:It}),value:Math.round(100*(null!==(St=Kt.detailTransparency)&&void 0!==St?St:0)),localize:function(er){return zt.getLocalizedString(er)}}).build(),function(Ut){return Ut.withDisabled(undefined)}),be(we.detailFieldSourceType)&&"Percent of total"!==Kt.detailContentType){var Cr=qe.detailLabelDisplayUnits,pt=(null==Kt?void 0:Kt.detailLabelDisplayUnits)===V.In;void 0!==Ie.dataLabelsSettings.detailLabelDisplayUnits&&Cr&&X.addSimpleSlice("detailDisplayUnits",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},Cr),{selector:It}),value:Kt.detailLabelDisplayUnits}).build(),function(Ut){return Ut.withAliasName("Decimal")}),pt?X.addSimpleSlice("detailCustomFormatString",new S.fq({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailCustomFormatString),{selector:It,instanceKind:3}),value:Kt.detailCustomFormatString,placeholder:"Auto"}).build(),function(Ut){return Ut.withDisabled(!Ie.enableDynamicLabelPickers)}):Ue(X,we)}Yt&&"Percent of total"===Kt.detailContentType&&Ue(X,we),qe.detailShowBlankAs&&X.addSimpleSlice("detailShowBlankAs",new S.fq({descriptor:(0,e.__assign)((0,e.__assign)({},qe.detailShowBlankAs),{selector:It,instanceKind:1}),value:Kt.detailShowBlankAs||"",placeholder:"0"}).build())}}(Ie,X,Ze,et),Ie.build()})}function Ue(X,we){var Ze=we.options,et=we.dataLabelsProps,at=we.selector;if(Ze.precision&&et.detailLabelPrecision){var qe=et.detailLabelPrecision,bt=Ze.dataLabelsSettings.detailLabelPrecision;X.addSimpleSlice("detailLabelPrecision",function(){return new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},qe),{selector:at}),value:bt===V.NZ?null:bt,options:{minValue:{type:0,value:0},maxValue:{type:1,value:V.vo}}}).build()})}}function ae(X,we,Ze){void 0===Ze&&(Ze="Desktop_FileMenu_Options");var et=X.options,at=X.dataLabelsProps,St=X.omitGroupDisplayNames,qe=X.selector,bt=X.hostServices,It=X.featureSwitches,Rt=et.dataLabelsSettings,zt=we||X.cardBuilder;we&&we.addSimpleSlice("showSeries",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.showSeries),{selector:qe}),value:Rt.show}).build(),function(Kt){return Kt.withDisabled(!qe).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),zt.addGroup("options",function(Kt){var Yt;St||Kt.withDisplayName(Ze),!we&&qe&&et.show&&Kt.addSimpleSlice("showSeries",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.showSeries),{selector:qe}),value:Rt.show}).build(),function(pt){return pt.withDisabled(!qe).withCustomDisplayName("Visual_Show_Data_Labels_PerSeries")}),at.labelOrientation&&Kt.addSimpleSlice("labelOrientation",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelOrientation),{selector:qe}),value:Rt.labelOrientation}).build(),function(pt){return pt.withCustomDisplayName("Visual_LabelOrientation").withDisabled(!!qe)});var ir=at.labelPosition||at.position,lr=et.positionObject?et.positionObject:void 0,dr=null!==(Yt=Rt.position)&&void 0!==Yt?Yt:lr.length>0?lr[0]:"Auto";if(ir&&Kt.addSimpleSlice("position",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},ir),{selector:qe}),value:dr,filterValues:lr}).build(),function(pt){return pt.withCustomDisplayName("Visual_Position")}),at.overflow&&Kt.addSimpleSlice("overflow",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.overflow),{selector:qe}),value:Rt.overflow}).build(),function(pt){return pt.withDisabled(Rt&&Rt.position===i.SX)}),at.labelStyle&&Kt.addSimpleSlice("labelContents",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelStyle),{selector:qe}),value:Rt.labelStyle}).build(),function(pt){return pt.withCustomDisplayName("Visual_LabelContents")}),at.labelDensity&&et.labelDensity){var br=et.dataLabelsSettings;br&&Kt.addSimpleSlice("labelDensity",S.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelDensity),{selector:qe}),value:br.labelDensity,localize:function(Ut){return bt.getLocalizedString(Ut)}}).build(),function(pt){return pt.withCustomDescription("Visual_LabelDensity_Description")})}if(It.leaderLinesAndOffset&&at.leaderLines&&et.leaderLines&&Kt.addSimpleSlice("leaderLines",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.leaderLines),{selector:qe}),value:Rt.leaderLines}).build()),It.leaderLinesAndOffset&&at.minimumOffset&&et.leaderLines&&Kt.addSimpleSlice("minimumOffset",new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},at.minimumOffset),{selector:qe}),value:Rt.minimumOffset===V.iX?null:Rt.minimumOffset,options:{minValue:{type:0,value:0},maxValue:{type:1,value:100}}}).build()),It.leaderLinesAndOffset&&at.maximumOffset&&et.leaderLines){var Cr=Rt.minimumOffset;Rt.maximumOffset=Cr>=Rt.maximumOffset?Cr:Rt.maximumOffset,Kt.addSimpleSlice("maximumOffset",new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},at.maximumOffset),{selector:qe}),value:Rt.maximumOffset===V.WV?null:Rt.maximumOffset,options:{minValue:{type:0,value:Cr},maxValue:{type:1,value:200}}}).build())}It.labelEnhancementsM0&&(at.labelOverflow&&dr!==F.wv&&Kt.addSimpleSlice("labelOverflow",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelOverflow),{selector:qe}),value:Rt.labelOverflow}).build()},function(pt){return pt.withCustomDescription("Visual_DataLabel_OverflowDescription")}),at.optimizeLabelDisplay&&([F.d7,F.aE,F.di,F.wv].includes(dr)||[F.FY,F.yJ,F.EZ].includes(dr)&&Rt.labelOverflow)&&(Kt.addSimpleSlice("optimizeLabelDisplay",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.optimizeLabelDisplay),{selector:qe}),value:Rt.optimizeLabelDisplay}).build()},function(pt){return pt.withCustomDescription("Visual_DataLabel_OptimizeLabelDisplayDescription")}),at.labelContainerMaxWidth&&Rt.optimizeLabelDisplay&&Kt.addSimpleSlice("labelContainerMaxWidth",new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},at.labelContainerMaxWidth),{selector:qe}),value:Rt.labelContainerMaxWidth,options:{minValue:{type:0,value:V.rp},maxValue:{type:1,value:V.xb},unitSymbol:E.e_}}).build())))})}function Se(X){var we=X.options,Ze=X.dataLabelsProps,et=X.cardBuilder,at=X.customDescription,St=X.omitDescription,Ie=X.featureSwitches;o.fF.assertValue(we,"options");var qe=we.dataLabelsSettings;if(qe)return St||et.withDescription(at||"Visual_DataPointsLabelsDescription"),Ze.show&&et.addTopLevelToggle("show",function(){return new S.bd({descriptor:Ze.show,value:qe.show}).build()}),(Ze.position||Ze.labelStyle||Ze.labelOrientation)&&(Ie.labelEnhancementsM0&&X.showEnhancedLabelsFormattingOptions?ae(X):pe(X)),Ie.labelEnhancementsM0&&X.showEnhancedLabelsFormattingOptions?(Ze.enableTitleDataLabel&&mt(X),Ze.enableValueDataLabel&&ke(X),Ze.enableDetailDataLabel&&Le(X)):fe(X),null!=we.enableBackground&&Ze.enableBackground&&ve(X),Ie.labelEnhancementsM0&&X.showEnhancedLabelsFormattingOptions&&Ke(X),et.build()}function nt(X,we){var Ze=X.options,et=X.dataLabelsProps,at=X.featureSwitches;o.fF.assertValue(Ze,"options"),Ze.dataLabelsSettings&&((et.position||et.labelStyle||et.labelOrientation)&&(at.labelEnhancementsM0&&X.showEnhancedLabelsFormattingOptions?ae(X,we):pe(X,we)),at.labelEnhancementsM0&&X.showEnhancedLabelsFormattingOptions?(et.enableTitleDataLabel&&mt(X,we),et.enableValueDataLabel&&ke(X,we),et.enableDetailDataLabel&&Le(X,we)):fe(X,we),null!=Ze.enableBackground&&et.enableBackground&&ve(X,we),at.labelEnhancementsM0&&X.showEnhancedLabelsFormattingOptions&&Ke(X,we))}function Ve(X,we){var Ze=X.seriesOptions,et=X.seriesLabelsProps;o.fF.assertValue(Ze,"seriesOptions"),Ze.seriesLabelsSettings&&(et.seriesPosition&&function(X,we,Ze){void 0===Ze&&(Ze="Desktop_FileMenu_Options");var et=X.seriesOptions,at=X.seriesLabelsProps,St=X.omitGroupDisplayNames,qe=X.selector,bt=et.seriesLabelsSettings,It=X.cardBuilder;we&&(It=we,we.addSimpleSlice("showSeries",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.show),{selector:qe}),value:bt.show}).build(),function(Rt){return Rt.withDisabled(we&&!qe)})),It.addGroup("options",function(Rt){St||Rt.withDisplayName(Ze),we||Rt.addSimpleSlice("showSeries",new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.show),{selector:qe}),value:bt.show}).build(),function(zt){return zt.withDisabled(we&&!qe)}),void 0!==et.seriesMaximumWidth&&Rt.addSimpleSlice("seriesMaximumWidth",new S.mu({descriptor:(0,e.__assign)((0,e.__assign)({},at.seriesMaximumWidth),{selector:qe}),value:et.defaultSeriesWidth?null:et.seriesMaximumWidth,options:{minValue:{type:0,value:V._i},maxValue:{type:1,value:V.NL}}}).build(),function(zt){return zt.withDisabled(!!qe)}),at.seriesPosition&&null!=et.seriesPosition&&Rt.addSimpleSlice("position",new S.uY({descriptor:(0,e.__assign)((0,e.__assign)({},at.seriesPosition),{selector:qe}),value:et.seriesPosition}).build(),function(zt){return zt.withDisabled(!!qe)})})}(X,we),function(X,we,Ze){void 0===Ze&&(Ze="Role_DisplayName_Values");var et=X.seriesOptions,at=X.seriesLabelsProps,St=X.cardBuilder,Ie=X.omitGroupDisplayNames,qe=X.selector,bt=et.seriesLabelsSettings,It=et.style?et.style:(0,v.Ue)(),Rt=St;we&&(Rt=we),Rt.addGroup("values",function(zt){Ie||zt.withDisplayName(Ze),(at.seriesFontFamily||at.seriesFontSize)&&zt.addCompositeSlice("font","Font",function(){var Kt=new S.UN;if(et.fontFamily&&at.seriesFontFamily&&Kt.withFontFamily({descriptor:(0,e.__assign)((0,e.__assign)({},at.seriesFontFamily),{selector:qe}),value:bt.fontProperties.family||y.rk}),et.fontSize&&at.textSize){var Yt={descriptor:(0,e.__assign)((0,e.__assign)({},at.textSize),{selector:qe}),value:bt.fontProperties.size.pt};et.fontSizeRange&&(Yt.options={minValue:{type:0,value:bt.minFontSize},maxValue:{type:1,value:bt.maxFontSize}}),Kt.withFontSizeProperties(Yt).withBold({descriptor:(0,e.__assign)((0,e.__assign)({},at.bold),{selector:qe}),value:bt.bold}).withItalic({descriptor:(0,e.__assign)((0,e.__assign)({},at.italic),{selector:qe}),value:bt.italic}).withUnderline({descriptor:(0,e.__assign)((0,e.__assign)({},at.underline),{selector:qe}),value:bt.underline})}return Kt.build()}),at.seriesColor&&zt.addSimpleSlice("seriesColor",function(){var Kt={value:bt.seriesColor||m.v.getThemeColor(It,V.uQ)};return new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},at.seriesColor),{selector:qe}),value:Kt}).build()}),at.seriesWordWrap&&null!=et.seriesWordWrap&&!et.selector&&zt.addSimpleSlice("seriesWordWrap",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.seriesWordWrap),{selector:qe}),value:et.seriesWordWrap}).build()})})}(X,we),null!=Ze.enableBackground&&et.enableBackground&&function(X,we){var Ze=X.seriesOptions,et=X.hostServices,at=X.seriesLabelsProps,Ie=X.selector,qe=function(Rt){return et.getLocalizedString(Rt)},bt=X.cardBuilder;we&&(bt=we),null!=Ze.enableBackground&&bt.addGroup("background",function(It){It.withDisplayName("Visual_Background").addTopLevelToggle("enableBackground",function(){return new S.bd({descriptor:(0,e.__assign)((0,e.__assign)({},at.enableBackground),{selector:Ie}),value:Ze.enableBackground}).build()}).addSimpleSlice("backgroundColor",new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},at.backgroundColor),{selector:Ie}),value:{value:Ze.backgroundColor}}).build()).addSimpleSlice("backgroundTransparency",S.JN.getTransparencySliderBuilder({descriptor:(0,e.__assign)((0,e.__assign)({},at.backgroundTransparency),{selector:Ie}),value:Math.round(100*Ze.backgroundTransparency),localize:qe}).build())})}(X,we))}function xe(X,we,Ze,et){o.fF.assertValue(X,"options"),o.fF.assertValue(X.enumeration,"enumeration");var at=X.style?X.style:(0,v.Ue)();if(X.seriesLabelsSettings){var St={objectName:et&&et.objectName||"seriesLabels",selector:X.selector,properties:{},propertyInstanceKind:{color:X.selector?1:3}};if(X.show&&(St.properties.show=X.seriesLabelsSettings.show),St.properties.seriesColor=X.seriesLabelsSettings.seriesColor||m.v.getThemeColor(at,V.uQ),null!=X.seriesPosition&&!X.selector&&(St.properties[u.zK.seriesLabels.seriesPosition.propertyName]=X.seriesPosition),X.fontSize&&(St.properties[u.zK.seriesLabels.textSize.propertyName]=X.seriesLabelsSettings.fontProperties.size.pt,X.fontSizeRange)&&Z(St,u.zK.seriesLabels.textSize.propertyName,{numberRange:{min:X.seriesLabelsSettings.minFontSize,max:X.seriesLabelsSettings.maxFontSize}}),X.fontFamily&&(St.properties[u.zK.seriesLabels.seriesFontFamily.propertyName]=X.seriesLabelsSettings.fontProperties.family||y.rk),X.bold&&(St.properties.bold=X.seriesLabelsSettings.bold||!1),X.italic&&(St.properties.italic=X.seriesLabelsSettings.italic||!1),X.underline&&(St.properties.underline=X.seriesLabelsSettings.underline||!1),null!=X.enableBackground&&(St.properties.enableBackground=X.enableBackground),X.enableBackground&&(St.properties.backgroundColor=X.backgroundColor,St.properties.backgroundTransparency=Math.round(100*X.backgroundTransparency)),null!=X.seriesWordWrap&&!X.selector&&(St.properties[u.zK.seriesLabels.seriesWordWrap.propertyName]=X.seriesWordWrap),null==X.seriesMaximumWidth||X.selector||(St.properties[u.zK.seriesLabels.seriesMaximumWidth.propertyName]=X.defaultSeriesWidth?null:X.seriesMaximumWidth,Z(St,u.zK.seriesLabels.seriesMaximumWidth.propertyName,{numberRange:{min:V._i,max:V.NL}})),X.showAll&&(St.properties.showAll=!!X.seriesLabelsSettings.showLabelPerSeries),Ze)for(var bt in Ze)St.properties[bt]=Ze[bt];return et&&et.propertyInstanceKind&&(St.propertyInstanceKind=et.propertyInstanceKind),X.enumeration.pushInstance(St)}}function Z(X,we,Ze){X.validValues||(X.validValues={}),X.validValues[we]=Ze}function J(X,we,Ze,et,at,St,Ie,qe){void 0===at&&(at=!1),void 0===Ie&&(Ie=(0,v.Ue)());var bt=we||G(Ie),Rt={objectName:qe&&qe.objectName?qe.objectName:"categoryLabels",selector:null,properties:{}};Ze&&(Rt.properties.color=bt.categoryLabelColor?bt.categoryLabelColor:bt.fontProperties.color),Rt.properties.show=at?bt.showCategory:bt.show,Rt.properties.fontSize=we?we.fontProperties.size.pt:V.Uy,Rt.properties.fontFamily=we?we.fontProperties.family:V.OW,Rt.properties.bold=!!we&&we.bold,Rt.properties.italic=!!we&&we.italic,Rt.properties.underline=!!we&&we.underline,Rt.properties.enableBackground=!!we&&!!we.enableBackground,we&&we.enableBackground&&(Rt.properties.enableBackground=!0,Rt.properties.backgroundColor=we.backgroundColor||m.v.getThemeColor(Ie,V.lp),Rt.properties.backgroundTransparency=null!=we.backgroundTransparency?Math.round(100*we.backgroundTransparency):Math.round(100*V.BS)),St&&(Rt.properties.fontSize=St),qe&&qe.propertyInstanceKind&&(Rt.propertyInstanceKind=qe.propertyInstanceKind),X.pushInstance(Rt)}function Fe(X){var we,Ze,et,at=X.cardName,St=X.isShowCategory,Ie=X.props,qe=X.revertToDefaultProps,bt=X.showBackground,It=X.showValueColor,Rt=X.style,zt=X.disabled,Kt=X.disabledReason,Yt=null!==(we=X.dataLabelSettings)&&void 0!==we?we:G(Rt),ir=new S.CQ(new S.lg("categoryLabels"),at,qe,X.localize),dr=(new S.UN).withFontFamily({descriptor:Ie.fontFamily,value:null!==(Ze=Yt.fontProperties.family)&&void 0!==Ze?Ze:V.OW}).withFontSizeProperties({descriptor:Ie.fontSize,value:null!==(et=Yt.fontProperties.size.pt)&&void 0!==et?et:V.Uy}).withBold({descriptor:Ie.bold,value:Yt.bold}).withItalic({descriptor:Ie.italic,value:Yt.italic}).withUnderline({descriptor:Ie.underline,value:Yt.underline}).build();return ir.withDescription("Visual_CategoryLabelOptionsDescription").addTopLevelToggle("show",function(){return new S.bd({descriptor:Ie.show,value:St?Yt.showCategory:Yt.show}).build()}).addGroup("values",function(br){var Cr;bt&&br.withDisplayName("Role_DisplayName_Values"),br.addCompositeSlice("font","Font",dr),It&&br.addSimpleSlice("color",new S.BT({descriptor:Ie.color,value:{value:null!==(Cr=Yt.categoryLabelColor)&&void 0!==Cr?Cr:Yt.fontProperties.color}}).build())}),bt&&ir.addGroup("background",function(br){var Cr,pt;br.withDisplayName("Visual_Background").addTopLevelToggle("show",function(){return new S.bd({descriptor:Ie.enableBackground,value:Yt.enableBackground}).build()}).addSimpleSlice("color",new S.BT({descriptor:Ie.backgroundColor,value:{value:null!==(Cr=Yt.backgroundColor)&&void 0!==Cr?Cr:m.v.getThemeColor(Rt,V.lp)}}).build()).addSimpleSlice("transparency",S.JN.getTransparencySliderBuilder({descriptor:Ie.backgroundTransparency,value:Math.round(100*(null!==(pt=Yt.backgroundTransparency)&&void 0!==pt?pt:V.BS)),localize:X.localize}).build())}),zt&&ir.withDisabled(!0,Kt),ir.build()}},767057:function(Xe,H,t){t.d(H,{Y:function(){return S},h:function(){return v}});var e=t(498342),l=t(399663),o=t(100112),d=t(146828);function v(h,c){if(e.fF.assertAnyValue(c,"format"),h!==d.NZ)return h;if("g"!==c&&"G"!==c){if(c){var r=(0,o.OQ)(c).positive,s=(0,o.rH)(r,!0);if(s.hasDots)return s.optionalPrecision?void 0:s.precision}return d.xy}}function S(h,c,r,s){return{displayUnitSystemType:l.V.DataLabels,format:c,precision:s,value:h.displayUnits,value2:r,allowFormatBeautification:!0}}},268433:function(Xe,H,t){t.d(H,{K0:function(){return h},XS:function(){return v},kV:function(){return c},n$:function(){return d}});var e=t(498342),l=t(637916),o=t(148782);function d(r){return r&&r.categorical&&r.categorical.categories&&r.categorical.categories.length>1}function v(r){if(function(r){if(_.isEmpty(r))return!1;var s=_.some(r,function(u){var i=u.categorical;if(!i)return!1;if(!i.categories)return!1;var n=i.values;return!(!(n&&n.group&&n.group.by)||_.isEmpty(n.group.by.items))});return!s}(r))for(var u=0,i=r;u<i.length;u++){var a=i[u];if(!a.categorical)return;var n=a.categorical.categories;if(!n||!n.dataReductionAlgorithm||!n.dataReductionAlgorithm.window)return;n.dataReductionAlgorithm={window:{count:1e3}}}}function h(r){e.fF.assertNonEmpty(r,"mappings");for(var s=0,u=r;s<u.length;s++)(0,o.Sr)(u[s].categorical.categories,{visitRole:function(m){var f=m.items;if(!_.isEmpty(f)&&!_.isEmpty(m.activeItems))for(var p=0,C=_.filter(f,function(y){return _.includes(m.activeItems,y.queryName)});p<C.length;p++)C[p].filteredToUniqueValueProperty=l.p.filters.filteredToUniqueValue}})}function c(r,s,u){void 0===u&&(u=1);for(var i=function(V){if(!(V&&V.categorical&&V.categorical.categories&&V.metadata))return"continue";var p=V.metadata.columns,C=V.categorical.categories;if(_.some(p,function(b){return void 0!==b.sort}))return"continue";(0,o.Sr)(C,{visitRole:function(y,D){if(_.includes(s,y.role)){var P=y.activeItems;if(!_.isEmpty(P))for(var F=0,E=function(L){var M=_.find(p,function(T){return T.queryName===L});M&&(M.sort=u,M.sortOrder=F++)},w=0,x=P;w<x.length;w++)E(x[w])}}})},a=0,n=r;a<n.length;a++)i(n[a])}},417361:function(Xe,H,t){t.d(H,{F:function(){return l}});var e=t(498342),l=function(){function o(d,v,S,h){this.matchObjectName=d,this.matchPropertyName=v,this.relatedTopLevelToggleValue=S,this.hasSelector=h,this.disabledBehaviorChanges=[],this.enabledBehaviorChanges=[]}return o.prototype.onToggleDisabled=function(){for(var d,v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];return(d=this.disabledBehaviorChanges).push.apply(d,v),this},o.prototype.onToggleEnabled=function(){for(var d,v=[],S=0;S<arguments.length;S++)v[S]=arguments[S];return(d=this.enabledBehaviorChanges).push.apply(d,v),this},o.prototype.getBehaviorChanges=function(d){switch(d){case 2:return this.disabledBehaviorChanges;case 1:return this.enabledBehaviorChanges;default:e.fF.assertNever(d)}},o.prototype.updateBehaviorChanges=function(d,v){switch(d){case 2:this.disabledBehaviorChanges.forEach(function(S){return S.updateChange(v)});break;case 1:this.enabledBehaviorChanges.forEach(function(S){return S.updateChange(v)});break;default:e.fF.assertNever(d)}},o.prototype.getToggleBehaviorType=function(d){return this.relatedTopLevelToggleValue&&!d.propertyValue?2:!this.relatedTopLevelToggleValue&&d.propertyValue?1:0},o.prototype.isMatchingVisualObjectChange=function(d){return d.objectName===this.matchObjectName&&d.propertyName===this.matchPropertyName&&!!d.selector===this.hasSelector},o}()},977037:function(Xe,H,t){t.d(H,{$:function(){return o}});var e=t(973188),o=function(d){function v(S,h,c){return d.call(this,S,h,c,!1)||this}return(0,e.__extends)(v,d),v.create=function(S,h){return new v(S.objectName,S.propertyName,h)},v.prototype.getChanges=function(S){if(this.isMatchingVisualObjectChange(S)){var h=this.getToggleBehaviorType(S);if(0!==h)return this.updateBehaviorChanges(h,S),this.getBehaviorChanges(h)}return[]},v}(t(417361).F)},378631:function(Xe,H,t){t.d(H,{o:function(){return l}});var e=t(973188),l=function(){function o(){}return o.getDataViewObjectsBehaviorChanges=function(d,v){for(var S=[],h=0,c=d;h<c.length;h++)for(var r=c[h],s=0,u=v;s<u.length;s++)S.unshift.apply(S,u[s].getChanges(r));return S},o.applyDataViewObjectsBehaviorChanges=function(d,v){for(var S=(0,e.__spreadArray)([],d,!0),h=0,c=v;h<c.length;h++)S=c[h].applyChange(S);return S},o}()},691557:function(Xe,H,t){t.d(H,{W:function(){return l}});var e=t(973188),l=function(){function o(d,v,S){this.visualObjectChange=d,this.required=v,this.shouldInheritSelector=S}return o.createBooleanDataViewObjectChange=function(d,v,S){var h=(0,e.__assign)((0,e.__assign)({},d),{propertyValue:v,propertyType:{bool:!0}});return o.create(h,S)},o.createRevertToDefaultDataViewObjectChange=function(d,v){return o.create({objectName:d,propertyName:"revertToDefault",propertyValue:void 0,propertyType:{bool:!0}},v)},o.createColorDataViewObjectChange=function(d,v,S){var h=(0,e.__assign)((0,e.__assign)({},d),{propertyValue:{value:v},propertyType:{fill:{solid:{color:!0}}}});return o.create(h,S)},o.createNumericDataViewObjectChange=function(d,v,S){var h=(0,e.__assign)((0,e.__assign)({},d),{propertyValue:v,propertyType:{numeric:!0}});return o.create(h,S)},o.create=function(d,v){return null!=v&&v.selector&&(d.selector=v.selector),new o(d,null==v?void 0:v.required,null==v?void 0:v.inheritSelector)},o.prototype.applyChange=function(d){return d.push(this.visualObjectChange),d},o.prototype.updateChange=function(d){this.shouldInheritSelector&&(this.visualObjectChange.selector=d.selector)},o}()},297464:function(Xe,H,t){function e(o){if(o)return!!o.handled}function l(o){o&&(o.handled=!0)}t.d(H,{n:function(){return l},q:function(){return e}})},102794:function(Xe,H,t){t.d(H,{ED:function(){return u},E_:function(){return V},JZ:function(){return m},XH:function(){return c},Zi:function(){return r},jB:function(){return b},qk:function(){return a},rL:function(){return i},wB:function(){return n},xH:function(){return C}});var e=t(566464),l=t(498342),o=t(781322),d=t(756846),v=t(85179),S=t(624225),h=t(341648);function c(D,P,F,E,w){var x=s(D,P,F,E,w);return w?u(w,x):x}function r(D,P,F,E,w,x,R,g){var L=s(D,P,F,void 0),M=(0,S.m)(E,x),T=M;if(P.color){var O=F.getColorForPropertyName(D,P.color,w);T=g?u(M,{color:O}):u({color:O},M)}return R&&(T=u(R,T)),T?u(T,L):L}function s(D,P,F,E,w){l.fF.assertValue(P,"propertyNames");var x,R=P.weight&&(0,v.N)(D,P.weight),g=P.style&&(0,v.N)(D,P.style),L=P.underline&&(0,v.N)(D,P.underline);if(P.size){var M=(0,v.N)(D,P.size);null!=M&&(x=P.sizeInPixels?h.B.createFromPx(+M):h.B.createFromPt(+M))}return P.bold&&(R=(0,v.N)(D,P.bold)||(null==w?void 0:w.weight)===e.en?e.en:R),P.italic&&(g=(0,v.N)(D,P.italic)||(null==w?void 0:w.style)===e.BF?e.BF:g),P.underline&&(L=(0,v.N)(D,P.underline)||(null==w?void 0:w.textDecoration)===e.f0?e.f0:L),{color:P.color&&F.getColorForPropertyName(D,P.color,E),family:P.family&&(0,v.N)(D,P.family),lineHeight:P.lineHeight&&(0,v.N)(D,P.lineHeight),size:x,style:g,variant:P.variant&&(0,v.N)(D,P.variant),weight:R,whiteSpace:P.whiteSpace&&(0,v.N)(D,P.whiteSpace),textDecoration:L}}function u(D,P){l.fF.assertValue(D,"fontProperties");var F=(0,o.ED)(D);return P&&((P.color||null===P.color)&&(F.color=P.color),P.family&&(F.family=P.family),P.lineHeight&&(F.lineHeight=P.lineHeight),P.size&&(F.size=P.size),P.style&&(F.style=P.style),P.variant&&(F.variant=P.variant),P.weight&&(F.weight=P.weight),P.whiteSpace&&(F.whiteSpace=P.whiteSpace),P.textDecoration&&(F.textDecoration=P.textDecoration)),F}function i(D,P){return l.fF.assertValue(D,"fontProperties"),V(u(D,P))}function a(D,P,F){return l.fF.assertValue(D,"fontProperties"),F&&(D=p(D)),{text:P,fontFamily:D.family,fontSize:D.size?d.FP.toString(D.size.px):void 0,fontWeight:D.weight,fontStyle:D.style,fontVariant:D.variant,whiteSpace:D.whiteSpace}}function n(D){l.fF.assertValue(D,"fontProperties");var P={};return D.color&&(P.color=D.color),D.family&&(P["font-family"]=D.family),D.lineHeight&&(P["line-height"]=D.lineHeight),D.size&&(P["font-size"]=D.size?d.FP.toString(D.size.px):void 0),D.variant&&(P["font-variant"]=D.variant),D.whiteSpace&&(P["white-space"]=D.whiteSpace),P["font-weight"]=D.weight?D.weight:null,P["font-style"]=D.style?D.style:null,P["text-decoration"]=D.textDecoration?D.textDecoration:null,P}function m(D,P){return l.fF.assertValue(D,"fontProperties"),l.fF.assertValue(P,"element"),function(D,P){l.fF.assertValue(D,"fontProperties"),l.fF.assertValue(P,"style"),D.color&&(P.fill=D.color),D.family&&(P.fontFamily=D.family),D.lineHeight&&(P.lineHeight=D.lineHeight),D.size&&(P.fontSize=D.size?d.FP.toString(D.size.px):void 0),D.style&&(P.fontStyle=D.style),D.variant&&(P.fontVariant=D.variant),D.weight&&(P.fontWeight=D.weight),D.whiteSpace&&(P.whiteSpace=D.whiteSpace)}(D,P.style),P}function V(D){l.fF.assertValue(D,"fontProperties");var P={};return D.color&&(P.fill=D.color),D.family&&(P["font-family"]=D.family),D.lineHeight&&(P["line-height"]=D.lineHeight),D.size&&(P["font-size"]=D.size?d.FP.toString(D.size.px):void 0),D.variant&&(P["font-variant"]=D.variant),D.whiteSpace&&(P["white-space"]=D.whiteSpace),P["font-weight"]=D.weight?D.weight:null,P["font-style"]=D.style?D.style:null,P["text-decoration"]=D.textDecoration?D.textDecoration:null,P}function p(D,P){void 0===P&&(P=0);for(var F={},E=Object.getPrototypeOf({}),w=0;w<=P&&null!=D&&D!==E;w++)_.forOwn(D,function(x,R){void 0===F[R]&&(F[R]=x)}),D=Object.getPrototypeOf(D);return F}function C(D){return p(D,Number.MAX_VALUE)}function b(D){return{color:function(F){return D(F).color},"font-family":function(F){return D(F).family},"font-size":function(F){return D(F).size?d.FP.toString(D(F).size.px):void 0},"font-style":function(F){return D(F).style},"font-variant":function(F){return D(F).variant},"font-weight":function(F){return D(F).weight},"white-space":function(F){return D(F).whiteSpace},"text-decoration":function(F){return D(F).textDecoration}}}},258218:function(Xe,H,t){t.d(H,{Aq:function(){return F},NG:function(){return E},Po:function(){return i},mG:function(){return p},qo:function(){return D},sY:function(){return x}});var e=t(566464),l=t(498342),o=t(921449),d=t(470081),v=t(85179),S=t(396898),h=t(806009),c=t(613218),r=t(798871),s=t(789015),u=t(866295),i="forecast",f="foregroundDark",V={displayName:"",confidenceBandStyle:h.hl,transparency:80,style:c.SQ},p="Visual_Quarter_Abbreviated",C=(0,e.CH)("forecast-line"),b=(0,e.CH)("forecast-error-range"),y=(0,e.CH)("forecast-line-layer");function D(R,g,L,M){var T,O;if(l.fF.assertValue(R,"enumeration"),_.isEmpty(g)||(O=g[0]),O){var A=((T={})[u.$Z]=O.show,T[u.ss]=O.displayName,T[u.tZ]=O.lineColor,T[u.oB]=O.style,T[u.hc]=O.confidenceBandStyle,T[u.KZ]=O.transparency,T);R.pushInstance({selector:O.selector,properties:A,objectName:i})}else{var N={selector:{id:"0"},properties:{show:!1,lineColor:P(L),style:V.style,confidenceBandStyle:V.confidenceBandStyle,transparency:V.transparency},objectName:i,disabledReason:M};R.pushInstance(N)}}function P(R){return{solid:{color:s.v.getThemeColor(R,f)}}}function F(R){if(!R||!R.categorical||!R.categorical.values)return!1;for(var L=0,M=R.categorical.values.grouped();L<M.length;L++)if(_.some(M[L].values,function(N){return(0,o.R)(N,"forecast.ForecastValue")}))return!0;return!1}function E(R,g,L){if(!(R&&R.categorical&&g&&g.categorical))return[];var M=R.categorical;if(_.isEmpty(M.categories)||_.isEmpty(M.values))return[];var T=(0,S.A8)(M.categories[0]),O=T?_.map(T.values,function(Ke){return Ke.min}):M.categories[0].values,N=M.values.grouped();if(_.isEmpty(O)||_.isEmpty(N))return[];var A=(0,o.a2)(N,"forecast.ForecastValue"),I=(0,o.a2)(N,"forecast.ConfidenceHighBound"),B=(0,o.a2)(N,"forecast.ConfidenceLowBound"),U=[],W=function(R){var g=[];if(R&&R.categorical&&R.categorical.values){var L=_.head(R.categorical.values.grouped());if(L)for(var M=0,T=L.values;M<T.length;M++){var O=T[M],N=O.source.queryName,A=(0,d.AO)(O.source.objects,i);g[N]=A}}return g}(g),j=0,K=s.v.create(L);for(var ee in W){var ie=W[ee];for(var he in ie){for(var q=ie[he],Y=(0,v.N)(q,u.$Z,!1),G=(0,v.N)(q,u.ss),me={solid:{color:K.getColorForPropertyName(q,u.tZ,f)}},re=(0,v.N)(q,u.hc,V.confidenceBandStyle),le=(0,v.N)(q,u.KZ,V.transparency),Ee=(0,v.N)(q,u.oB,V.style),Ne=s.v.create(L,{objectName:"dataPoint",propertyName:"fill"},P(L).solid.color),Ye=N[j],Je=[],_e=Ye.values[A].highlights?Ye.values[A].highlights:Ye.values[A].values,pe=Ye.values[I].highlights?Ye.values[I].highlights:Ye.values[I].values,fe=Ye.values[B].highlights?Ye.values[B].highlights:Ye.values[B].values,oe=0;oe<O.length;oe++){var ye=(0,r.eT)(O[oe]),Ce=(0,r.eT)(_e[oe]);if(null!=ye&&null!=Ce){var Be=(0,r.eT)(pe[oe]),be=(0,r.eT)(fe[oe]);Je.push({point:{x:ye,y:Ce},upperBound:{x:ye,y:Be},lowerBound:{x:ye,y:be}})}}var Te=void 0;if(me)Te=me;else if(g.categorical.values.source){var ce=g.categorical.values.grouped();Te={solid:{color:Ne.getColorForSeriesValue(ce[j].objects,g.categorical.values.identityFields,Ye.name,f)}}}else Te={solid:{color:Ne.getColorForMeasure(g.categorical.values[j].source.objects,Ye.name,f)}};U.push({selector:{id:he,metadata:ee},points:Je,show:Y,displayName:G,lineColor:Te,confidenceBandStyle:re,transparency:le,style:Ee}),j++}}return U}function x(R,g,L,M,T,O){var N=g.select(y.selector);N.empty()&&(N=g.insert("g",":first-child").classed(y.class,!0));var A=N.selectAll(b.selector).data(R||[]),I=A.enter().insert("path",":first-child").classed(b.class,!0).merge(A);I.transition().ease(d3.easeLinear).duration(O).attr("d",function(W){for(var j=d3.line().x(function(G){return L(G.x)}).y(function(G){return M(G.y)}),K=[],ee=0,ie=W.points.slice().reverse();ee<ie.length;ee++)K.push({x:(he=ie[ee]).lowerBound.x,y:he.lowerBound.y});for(var q=0,Y=W.points;q<Y.length;q++){var he;K.push({x:(he=Y[q]).upperBound.x,y:he.upperBound.y})}return j(K)}),I.each(function(W){var j=d3.select(this),K={},ee=(100-W.transparency)/100;K["fill-opacity"]=ee,K["stroke-opacity"]=ee,W.confidenceBandStyle===h.hl?(K.stroke="transparent",K.fill=W.lineColor.solid.color):W.confidenceBandStyle===h.jv?(K.stroke=W.lineColor.solid.color,K.fill="transparent"):W.confidenceBandStyle===h.YP&&(K.stroke="transparent",K.fill="transparent"),j.styles(K)}),A.exit().remove();var B=N.selectAll(C.selector).data(R||[]),U=B.enter().append("path").classed(C.class,!0).merge(B);U.transition().ease(d3.easeLinear).duration(O).attr("d",function(W){return d3.line().x(function(K){return L(K.point.x)}).y(function(K){return M(K.point.y)})(W.points)}),U.each(function(W){var j=d3.select(this),K={};K.stroke=W.lineColor.solid.color,K.fill="transparent",W.style===c.HA?K["stroke-dasharray"]="5, 5":W.style===c.ft?(K["stroke-dasharray"]="1, 5",K["stroke-linecap"]="round"):W.style===c.SQ&&(K["stroke-dasharray"]=null,K["stroke-linecap"]=null),j.styles(K)}),B.exit().remove()}},866295:function(Xe,H,t){t.d(H,{$Z:function(){return e},KZ:function(){return v},hc:function(){return d},oB:function(){return S},ss:function(){return l},tZ:function(){return o}});var e="show",l="displayName",o="lineColor",d="confidenceBandStyle",v="transparency",S="style"},944913:function(Xe,H,t){t.d(H,{Kj:function(){return F},MG:function(){return n},Q1:function(){return a},Rr:function(){return i},Vn:function(){return b},Wt:function(){return C},Ym:function(){return p},Zn:function(){return s},_8:function(){return V},d9:function(){return m},jT:function(){return E},qG:function(){return y},yj:function(){return u},yw:function(){return f}});var e=t(437555),l=t(498342),o=t(921449),d=t(204553),v=t(512322),S=t(912644),h=S.LX,c="dataPoint",r="fillRule";function s(A){if(A)for(var I in A){var B=A[I];for(var U in B.properties){var W=B.properties[U];if(W.type&&W.type[r])return W.rule}}}function u(A){if(A&&A.values&&A.values.grouped){var I=A.values.grouped();return(0,o.a2)(I,"Gradient")}return-1}function i(A){if(null==A)return null;var I=u(A);return-1===I?null:A.values[I]}function a(A){return u(A)>=0}function n(A){return _.findIndex(A.valueSources,function(B){return(0,o.nu)(B,"Gradient")})>=0}function m(){return{diverging:!1,minColor:null,midColor:null,maxColor:null,minValue:void 0,midValue:void 0,maxValue:void 0,nullStrategy:h,nullColor:null}}function f(){return E()}function V(A,I,B){var j,K,U=(0,d.zx)(B,c,null),W=b(B);if(W)switch($.isNumeric(I)&&(j=void 0!==I?(0,v.tx)(+I):void 0),_.includes(["minColor","midColor","maxColor","nullColor"],A)&&(K=(0,v.$_)(I&&I.value,A)),A){case"minColor":!function(A,I){A.linearGradient2?A.linearGradient2.min.color=I:A.linearGradient3&&(A.linearGradient3.min.color=I)}(W,K);break;case"midColor":!function(A,I){A.linearGradient3&&(A.linearGradient3.mid.color=I)}(W,K);break;case"maxColor":!function(A,I){A.linearGradient2?A.linearGradient2.max.color=I:A.linearGradient3&&(A.linearGradient3.max.color=I)}(W,K);break;case"nullColor":!function(A,I){A.linearGradient2?A.linearGradient2.nullColoringStrategy.color=I:A.linearGradient3&&(A.linearGradient3.nullColoringStrategy.color=I)}(W,K);break;case"minValue":!function(A,I){A.linearGradient2?A.linearGradient2.min.value=I:A.linearGradient3&&(A.linearGradient3.min.value=I)}(W,j);break;case"midValue":!function(A,I){A.linearGradient3&&(A.linearGradient3.mid.value=I)}(W,j);break;case"maxValue":!function(A,I){A.linearGradient2?A.linearGradient2.max.value=I:A.linearGradient3&&(A.linearGradient3.max.value=I)}(W,j);break;case"nullStrategy":!function(A,I){A.linearGradient2?A.linearGradient2.nullColoringStrategy.strategy=I:A.linearGradient3&&(A.linearGradient3.nullColoringStrategy.strategy=I)}(W,I);break;case"diverging":W=I?{linearGradient3:_.assign({mid:{color:(0,v.$_)(null,"midColor")}},W.linearGradient2)}:{linearGradient2:W.linearGradient3},U.properties[r]=W;break;case"revertToDefault":W=f(),U.properties[r]=W;break;default:l.fF.assertFail("updateFillRule - Unexpected propertyName: ".concat(A))}}function p(A){return A?y(A):m()}function C(A){return A?function(A){var I,B,U,W,j,K,ee,ie,he,q,Y,G,me,re,le,Ee,Ne,Ye,Je,_e,pe,fe=h,ye=null==A?void 0:A.linearGradient2,Ce=null==A?void 0:A.linearGradient3;ye?(le=null===(I=ye.max)||void 0===I?void 0:I.color,Ee=null===(B=ye.min)||void 0===B?void 0:B.color,Je=null===(U=ye.max)||void 0===U?void 0:U.value,pe=null===(W=ye.min)||void 0===W?void 0:W.value,fe=null===(j=ye.nullColoringStrategy)||void 0===j?void 0:j.strategy,Ye=null===(K=ye.nullColoringStrategy)||void 0===K?void 0:K.color):Ce&&(le=null===(ee=Ce.max)||void 0===ee?void 0:ee.color,Ne=null===(ie=Ce.mid)||void 0===ie?void 0:ie.color,Ee=null===(he=Ce.min)||void 0===he?void 0:he.color,Je=null===(q=Ce.max)||void 0===q?void 0:q.value,_e=null===(Y=Ce.mid)||void 0===Y?void 0:Y.value,pe=null===(G=Ce.min)||void 0===G?void 0:G.value,fe=null===(me=Ce.nullColoringStrategy)||void 0===me?void 0:me.strategy,Ye=null===(re=Ce.nullColoringStrategy)||void 0===re?void 0:re.color);var Be={diverging:void 0!==A.linearGradient3,minColor:P(Ee),midColor:P(Ne),maxColor:P(le),nullStrategy:fe,nullColor:P(Ye)};return null!=pe&&(Be.minValue=pe),null!=_e&&(Be.midValue=_e),null!=Je&&(Be.maxValue=Je),Be}(A):m()}function b(A){return(0,d.NA)(A,{objectName:c,propertyName:r},null)}function y(A){var I,B,U,W,j,K,ee,G,ie=h,q=A.linearGradient2,Y=A.linearGradient3;if(q)I=q.max.color.value,B=q.min.color.value,(me=q.max.value)&&(j=me.value),(re=q.min.value)&&(ee=re.value),G=q.nullColoringStrategy;else if(Y){var me;I=Y.max.color.value,U=Y.mid.color.value,B=Y.min.color.value,(me=Y.max.value)&&(j=me.value);var re,le=Y.mid.value;le&&(K=le.value),(re=Y.min.value)&&(ee=re.value),G=Y.nullColoringStrategy}if(G){ie=G.strategy.value;var Ee=G.color;Ee&&(W=Ee.value)}var Ne={diverging:void 0!==A.linearGradient3,minColor:P(B),midColor:P(U),maxColor:P(I),nullStrategy:ie,nullColor:P(W)};return null!=ee&&(Ne.minValue=ee),null!=K&&(Ne.midValue=K),null!=j&&(Ne.maxValue=j),Ne}function P(A){if((0,e.A7)(A))return A}function F(A,I){var B=[];return B.push(A.minColor||I.minColor.value),A.diverging&&B.push(A.midColor||I.midColor.value),B.push(A.maxColor||I.maxColor.value),B.join(",")}function E(A){var I=p(A),B={linearGradient2:{min:{color:(0,v.$_)(I.minColor,"minColor")},max:{color:(0,v.$_)(I.maxColor,"maxColor")},nullColoringStrategy:{strategy:(0,v.fL)(I.nullStrategy)}}},U=B.linearGradient2;return null!=I.minValue&&(U.min.value=(0,v.tx)(I.minValue)),null!=I.maxValue&&(U.max.value=(0,v.tx)(I.maxValue)),I.nullStrategy===S.Sx&&(U.nullColoringStrategy.color=(0,v.$_)(I.nullColor,"nullColor")),B}},796490:function(Xe,H,t){t.d(H,{A$:function(){return b},BV:function(){return P},FO:function(){return m},FW:function(){return w},I8:function(){return p},Jv:function(){return M},Ku:function(){return n},OW:function(){return F},TY:function(){return R},US:function(){return E},W3:function(){return D},XM:function(){return N},Xt:function(){return f},YG:function(){return i},a0:function(){return u},bt:function(){return h},c8:function(){return O},ct:function(){return A},kW:function(){return g},lq:function(){return a},lt:function(){return r},tn:function(){return I},to:function(){return s},wf:function(){return C},zV:function(){return L}});var e=t(569978),l=t(340758),o=t(297464);function h(){var B=d3.event;return{x:B.clientX,y:B.clientY}}var c="keydown.clearCatcher";function r(B,U){B.on(c,function(){var W=d3.event;67===W.keyCode&&W.ctrlKey&&W.shiftKey&&(U.handleClearSelection(),W.preventDefault(),W.stopPropagation())})}function s(B){B.on(c,null)}function u(B,U){i(B,U),F(B,U)}function i(B,U){B.on("click",function(W){O(f(W)?W.data:W,U)}),B.on("keydown.select",function(W){var j=d3.event,K=j.keyCode;32!==K&&13!==K||(O(f(W)?W.data:W,U),j.preventDefault(),j.stopPropagation())},!0)}function a(B){B.on("click",null),B.on("keydown.select",null)}function n(B){B.on("contextmenu",null)}function m(B){a(B),n(B)}function f(B){return!!B.data}var V="keydown.dataPoint";function p(B,U,W){B.on(V,function(){var j=d3.event,K=j.keyCode;(9===K||37===K||39===K||38===K||40===K)&&g(function(ee){j.preventDefault(),j.stopPropagation();var ie=b(ee)?ee.data:ee;U.handleKeyDownEvent(W,ie.categoryIndex,ie.seriesIndex,K,j.shiftKey)},void 0)})}function C(B){B.on(V,null)}function b(B){return!!B.data}var y="keydown.enterPlotArea";function D(B,U,W){B.on(y,function(){var j=d3.event,K=j.keyCode;if(13===K)j.preventDefault(),j.stopPropagation(),U.goToFirstElement(W);else if(27===K&&j.target!==B.node()){j.preventDefault(),j.stopPropagation();var ee=B.node();e.M.focus(ee)}})}function P(B){B.on(y,null)}function F(B,U){B.on("contextmenu",function(W){T(f(W)?W.data:W,U)})}function E(B,U,W){(function(B,U,W){B.on(U.node(),"click",function(){g(function(j){O(f(j)?j.data:j,W)},void 0)}),B.on(U.node(),"keydown.select",function(){var K=d3.event.keyCode;(32===K||13===K)&&g(function(ee){O(f(ee)?ee.data:ee,W)},!0)},!0)})(B,U,W),R(B,U,W)}function w(B,U){B.on(U.node(),"click",function(){return null}),B.on(U.node(),"keydown.select",function(){return null})}function R(B,U,W){B.on(U.node(),"contextmenu",function(){g(function(j){T(f(j)?j.data:j,W)},void 0)})}function g(B,U){var W=d3.event,K=d3.select(W.target).datum();K&&(B(K),U&&(W.preventDefault(),W.stopPropagation()))}function L(B,U,W,j){B.selectAll("use").remove(),B.append("use").attr("href","#".concat(l.aY,"-").concat(U,"-").concat(W)).style("pointer-events","none").attr("role",null!=j?j:null).attr("aria-hidden",!0).style("fill","none")}function M(B){B.selectAll("use").remove()}function T(B,U){var W=d3.event;if(!e.M.isCtrlOrMeta(W)){W.preventDefault(),(0,o.n)(W);var j=h();U.handleContextMenu(B,j)}}function O(B,U){var W=h(),j=d3.event;(function(B){B.selectionHandled=!0})(j),U.handleSelection(B,(0,e.D)(j),W)}function N(B,U){var W=d3.event;!e.M.isCtrlOrMeta(W)&&!function(B){return!!B.selectionHandled}(W)&&(!U||null!=U&&U(W))&&B.handleClearSelection()}function A(B,U,W){var j=0;e.M.isCtrlOrMeta(B)?j=3:B.shiftKey&&(j=1),W.handleMultipleSelection(U,j,!0)}function I(B,U,W){W.handleMultipleSelection(B,U,!0)}},375814:function(Xe,H,t){t.d(H,{jz:function(){return m},sq:function(){return a},zl:function(){return n}});var e=t(498342),l="powervisuals-glyph",o="big-kpi",d=["kpi-red","kpi-yellow","kpi-green"],v={kpiIconClass:"circle",statusValues:d},S={kpiIconClass:"",statusValues:["circle-x kpi-red","circle-exclamation kpi-yellow","circle-checkmark kpi-green"]},h={kpiIconClass:"traffic-light",statusValues:d},c={kpiIconClass:"",statusValues:["rhombus kpi-red","triangle kpi-yellow","circle kpi-green"]},r={kpiIconClass:"",statusValues:["circle-empty","circle-one-quarter","circle-half","circle-three-quarters","circle-full"]},s={"THREE CIRCLES COLORED":v,"TRAFFIC LIGHT - SINGLE":v,"THREE FLAGS COLORED":{kpiIconClass:"flag",statusValues:d},"ROAD SIGNS":S,"THREE SYMBOLS CIRCLED COLORED":S,"TRAFFIC LIGHT":h,"THREE TRAFFIC LIGHTS RIMMED COLORED":h,"THREE SYMBOLS UNCIRCLED COLORED":{kpiIconClass:"",statusValues:["x kpi-red","exclamation kpi-yellow","checkmark kpi-green"]},SHAPES:c,"SMILEY FACE":c,THERMOMETER:c,CYLINDER:c,"THREE SIGNS COLORED":c,"THREE STARS COLORED":{kpiIconClass:"star-stacked",statusValues:["star-empty","star-half-full","star-full"]},"FIVE BARS COLORED":{kpiIconClass:"bars-stacked",statusValues:["bars-zero","bars-one","bars-two","bars-three","bars-four"]},"FIVE BOXES COLORED":{kpiIconClass:"boxes-stacked",statusValues:["boxes-zero","boxes-one","boxes-two","boxes-three","boxes-four"]},"FIVE QUARTERS COLORED":r,"GAUGE - ASCENDING":r,"GAUGE - DESCENDING":{kpiIconClass:"",statusValues:["circle-full","circle-three-quarters","circle-half","circle-one-quarter","circle-empty"]},"STANDARD ARROW":{kpiIconClass:"",statusValues:["arrow-down","arrow-right-down","arrow-right","arrow-right-up","arrow-up"]},"VARIANCE ARROW":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - ASCENDING":{kpiIconClass:"",statusValues:["arrow-down kpi-red","arrow-right-down kpi-yellow","arrow-right kpi-yellow","arrow-right-up kpi-yellow","arrow-up kpi-green"]},"STATUS ARROW - DESCENDING":{kpiIconClass:"",statusValues:["arrow-up kpi-green","arrow-right-up kpi-yellow","arrow-right kpi-yellow","arrow-right-down kpi-yellow","arrow-down kpi-red"]}};function u(f,V){var p=parseFloat(V);if(f){var C=s[f.graphic.toUpperCase()];if(C&&!isNaN(p)){var b=C.statusValues;return f.normalizedFiveStateKpiRange&&5===b.length&&(p*=2),[C.kpiIconClass,b[p+(b.length>>1)]].join(" ").trim()}}}function i(f,V){if(f)return 1===V?[l,o,f].join(" "):[l,f].join(" ")}function a(f,V,p){return e.fF.assertValue(f,"kpi"),e.fF.assertValue(V,"value"),i(u(f,V),p)}function n(f,V,p){var C=f&&f.kpi;if(C){var b=u(C,V);if(b)return{caption:b,statusGraphic:C.graphic,class:i(b,p)}}}function m(f){return!(!f||!f.kpi)}},59377:function(Xe,H,t){t.d(H,{GH:function(){return x},MV:function(){return P},Rh:function(){return E},XG:function(){return R},_m:function(){return g},ph:function(){return y},xX:function(){return w},z9:function(){return D}});var e=t(973188),l=t(498342),o=t(781322),d=t(406057),v=t(812454),S=t(470081),h=t(380073),c=t(795594),r=t(613218),s=t(895404),u=t(340758),i=t(19959),a=t(355647),n=v.fd,V=null;function y(L,M,T){return{shadeArea:(0,S.NA)(L,h.zK.lineStyles.shadeArea,!1),strokeWidth:(0,S.NA)(L,h.zK.lineStyles.strokeWidth,u.Bj),lineJoin:(0,S.NA)(L,h.zK.lineStyles.strokeLineJoin,s.LS),style:(0,S.NA)(L,h.zK.lineStyles.lineStyle,r.SQ),markerProperties:M?(0,i.gT)(L,T):(0,i.MV)(),stepped:(0,S.NA)(L,h.zK.lineStyles.stepped,!1),lineChartType:(0,S.NA)(L,h.zK.lineStyles.lineChartType,c.GE)}}function D(L,M,T,O,N){var A=(0,o.ED)(M),I=(0,i.i)(L,M.markerProperties,T,N,!O);if(A.markerProperties=I,!L.data.hasSeries()||!O)return A;var B=L.objects.getSeriesDataObjects(T),U=(0,S.NA)(B,h.zK.lineStyles.strokeWidth);null!=U&&(A.strokeWidth=U);var W=(0,S.NA)(B,h.zK.lineStyles.strokeLineJoin);null!=W&&(A.lineJoin=W);var j=(0,S.NA)(B,h.zK.lineStyles.lineStyle);null!=j&&(A.style=j);var K=(0,S.NA)(B,h.zK.lineStyles.shadeArea);null!=K&&(A.shadeArea=K);var ee=(0,S.NA)(B,h.zK.lineStyles.stepped);null!=ee&&(A.stepped=ee);var ie=(0,S.NA)(B,h.zK.lineStyles.lineChartType);return null!=ie&&(A.lineChartType=ie),A}function P(){return{strokeWidth:u.Bj,lineJoin:s.LS,style:r.SQ,markerProperties:(0,i.MV)(),shadeArea:!1,stepped:!1,lineChartType:c.GE}}function E(L){var M=L.style,T={selector:n(L.selector),properties:{shadeArea:M.shadeArea,strokeWidth:M.strokeWidth,strokeLineJoin:M.lineJoin},objectName:h.zK.lineStyles.lineStyle.objectName};T.properties[h.zK.lineStyles.lineStyle.propertyName]=M.style,function(L,M){L.properties[h.zK.lineStyles.showMarker.propertyName]=M.showMarker,M.showMarker&&(L.properties[h.zK.lineStyles.markerShape.propertyName]=M.shape,L.properties[h.zK.lineStyles.markerSize.propertyName]=M.size,L.properties[h.zK.lineStyles.markerColor.propertyName]=M.color)}(T,M.markerProperties),T.properties[h.zK.lineStyles.stepped.propertyName]=M.stepped;var O=L.showSeries;null!=O&&(T.properties.showSeries=O),L.enumeration.pushInstance(T)}function w(L,M,T,O){var N=L.styleProps,A=L.style,I=L.selector;M.addGroup("shape",function(B){B.withDisplayName("Visual_Shape"),N.lineStyle&&B.addSimpleSlice("style",new d.uY({descriptor:(0,e.__assign)((0,e.__assign)({},h.qn.lineStyles.lineStyle),{selector:I}),value:A.style}).build()),N.strokeLineJoin&&B.addSimpleSlice("strokeLineJoin",new d.uY({descriptor:(0,e.__assign)((0,e.__assign)({},h.qn.lineStyles.strokeLineJoin),{selector:I}),value:A.lineJoin}).build()),N.strokeWidth&&B.addSimpleSlice("strokeWidth",new d.mu({descriptor:(0,e.__assign)((0,e.__assign)({},h.qn.lineStyles.strokeWidth),{selector:I}),value:A.strokeWidth,options:{minValue:{type:0,value:0},maxValue:{type:1,value:12},unitSymbol:a.e_}}).build()),B.addSimpleSlice("lineChartType",new d.uY({descriptor:(0,e.__assign)((0,e.__assign)({},h.qn.lineStyles.lineChartType),{selector:I}),value:A.lineChartType}).build(),function(U){return U.withDisabled(void 0!==I&&T&&O)})})}function x(L){switch(L){case r.HA:return"5, 5";case r.ft:return"1, 5";case r.SQ:return V;default:return l.fF.assertFail("getStrokeDashArrayFromLineStyle received an unrecognized line style"),V}}function R(L){switch(L){case r.HA:return"7,5";case r.ft:return"2.5,3.1";case r.SQ:return V;default:return l.fF.assertFail("getStrokeDashArrayForLegend received an unrecognized line style"),V}}function g(L){switch(L){case r.HA:case r.SQ:return null;case r.ft:return"round";default:return l.fF.assertFail("getStrokeDashArrayFromLineStyle received an unrecognized line style"),null}}},573521:function(Xe,H,t){t.d(H,{R:function(){return e}});var e={BingKey:"AoW85FdF-eTJavFmWhZjaQ970kwG1FuainbyVSlP5HglkbhVVIFOyNwlaQxAIj-S",AzureKey:"xfefTl4ZST_fZb9l-IT5EpZqJGKpqQOsHTXeyoi3zeQ"}},15757:function(Xe,H,t){t.d(H,{yV:function(){return q},Bz:function(){return ie},jj:function(){return he},mZ:function(){return R},mS:function(){return Y},tE:function(){return G},eP:function(){return re},Kq:function(){return me},n9:function(){return Z},w6:function(){return A},Ch:function(){return W},jv:function(){return N},z8:function(){return j},Gs:function(){return Ne},qG:function(){return Ce},PN:function(){return Ee},RR:function(){return Ye},nv:function(){return _e},Kp:function(){return pe},TM:function(){return Je},Zr:function(){return E},h$:function(){return w},CL:function(){return ye},Yb:function(){return de},$f:function(){return g},DT:function(){return te},wu:function(){return We},oT:function(){return Te},IG:function(){return Fe},BP:function(){return J},o:function(){return Ke},x6:function(){return ce},IU:function(){return T},N2:function(){return M},Jy:function(){return mt},Sc:function(){return tt},N0:function(){return F},M_:function(){return xe},q1:function(){return O},Bo:function(){return vt},n8:function(){return Le},ml:function(){return P}});var v,S,e=t(973188),l=t(498342),o=t(577446),d=t(546368);window.globalMapControlLoaded=function(){l.fF.assertValue(v,"WaitForMSMapLoad"),v.resolve(void 0)};var i=t(573521),a=t(505773),n=t(789015),m=t(429281),f=t(102794),V=t(962731),p=t(842631),C=t(833126),b=t(146828);function P(ze){if(ze){var rt=ze._v8Map&&ze._v8Map._sizeHelper;rt&&_.isFunction(rt.pollSize)?rt.pollSize():l.fF.assertFail("Smooth resize animation hack not working because V8 map control pollSize function not found")}}function F(ze){var rt=Microsoft.Maps.MapTypeId[ze];return l.fF.assertValue(rt,"Map theme did not select a MapTypeId"),rt}var E={MaxBingRequest:6,MaxCacheSize:3e3,MaxCacheSizeOverflow:100,MaxPersistedSpace:24e5,MaxAge:43200,BingKey:i.R.BingKey},w=16,R=function(){function ze(rt,Oe,Pe){this.promiseFactory=rt,this.loader=Oe,this.mapControlUrl=Pe}return ze.prototype.ensureMap=function(rt){return function(ze,rt,Oe,Pe){if(v)return v.promise;var X=Oe=(0,d.fS)(Oe,{onscriptload:"globalMapControlLoaded",callback:"globalMapControlLoaded"},!0),we=(0,d.mA)(Oe),Ze=we.c||we.culture,et={};if(_.isEmpty(Pe)||(et.setLang=Pe),!_.isEmpty(Ze)){var at=Ze.split("-",2);et.setMkt=Ze,et.UR=at.length>1?at[1]:Ze,et.setLang=at[0]}return X=(0,d.fS)(Oe,et,!0),v=ze.defer(),rt.require({javascript:X}),v.promise}(this.promiseFactory,this.loader,this.mapControlUrl,rt)},ze.prototype.createMapControl=function(rt,Oe){return new Microsoft.Maps.Map(rt,Oe)},ze.prototype.loadAzureMapScripts=function(rt){return function(ze,rt,Oe){if(S)return S.promise;var Pe="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.js",X="https://atlas.microsoft.com/sdk/javascript/mapcontrol/2/atlas.min.css";return Oe&&(Pe="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.js",X="https://atlas.microsoft.com/sdk/javascript/mapcontrol/3/atlas.min.css"),S=ze.defer(),rt.require({javascript:Pe,css:[X]}).then(function(at){var St=window;St.atlas=St.atlas||at,St.atlas||S.reject(),rt.require({javascript:"https://atlas.microsoft.com/sdk/javascript/spatial/0/atlas-spatial.min.js"}).then(function(Ie){rt.require({javascript:"https://atlas.microsoft.com/sdk/javascript/drawing/0.1/atlas-drawing.min.js",css:["https://atlas.microsoft.com/sdk/javascript/drawing/0/atlas-drawing.min.css"]}).then(function(){return S.resolve(void 0)})})}),S.promise}(this.promiseFactory,this.loader,rt)},ze.prototype.createAzureMapControl=function(rt){var Oe=rt.element,Pe=rt.locale,X=rt.sasTokenCallback,et=rt.isScreenshotWorkload,at=rt.progressiveLoading,St=rt.defaultStyle,Ie=rt.showLabels,qe=rt.renderWorldCopies;rt.azureMapsDataResidency&&atlas.setDomain(rt.azureMapsEndpoint.getDomainUrl$().getValue());var bt={language:Pe,style:St,view:"Auto",disableTelemetry:!0,progressiveLoading:at,showLabels:Ie,renderWorldCopies:qe};return et&&(bt.preserveDrawingBuffer=!0),X?bt.authOptions={authType:atlas.AuthenticationType.sas,getToken:X}:bt.subscriptionKey=i.R.AzureKey,this.createAzureMapControlCore(Oe,bt)},ze.prototype.createAzureMapControlCore=function(rt,Oe){return new atlas.Map(rt,Oe)},ze.prototype.isAzureMapSupported=function(){return atlas.isSupported(!1)},ze}(),g=function(rt,Oe){return new R(rt,Oe,"https://www.bing.com/api/maps/mapcontrol")};function M(ze,rt){return ze?T(ze.latitude,ze.longitude):rt}function T(ze,rt){return ze<-90||ze>90||rt<-180||rt>180}function O(ze){for(;ze<-180;)ze+=360;for(;ze>180;)ze-=360;return ze}var N=-85.05112878,A=85.05112878,W=23,j=1,ie=.5,he="foregroundDark",q={Address:"Address",City:"City",Continent:"Continent",CountryRegion:"Country",County:"County",Longitude:"Longitude",Latitude:"Latitude",Place:"Place",PostalCode:"PostalCode",StateOrProvince:"StateOrProvince"},Y="mapLassoButton",G="mapLassoButtonHighContrast",me=".".concat(Y),re="MapLassoButton",Ee=".".concat("NavBar_Container"),Ne="NavBar_Button",Ye="NavButton_Icon",Je="Rectangle_Select",_e="plot-area",pe=".".concat(_e),fe="NavBar_zoomIn",oe="NavBar_zoomOut",ye=".".concat(fe,", .").concat(oe),Ce="".concat(me,", .").concat(fe,", #").concat(oe);function be(ze,rt,Oe){return Math.min(Math.max(ze,rt),Oe)}function Te(){return ce(11)}function ce(ze){return 23===ze?2147483648:Math.floor(ze)===ze?256<<ze:256*Math.pow(2,ze)}function ve(ze,rt,Oe){var Pe=rt/360,X=Math.sin(ze*Math.PI/180),Ze=-Math.log((1+X)/(1-X))/(4*Math.PI);if(!Oe)return{x:Pe,y:Ze};Oe(Pe,Ze)}function Ke(ze,rt){switch(ze){case q.Continent:case q.CountryRegion:return{level:0,maxPolygons:30,strokeWidth:0};case q.City:return{level:1,maxPolygons:5,strokeWidth:rt<200?6:0};default:return rt<100?{level:1,maxPolygons:5,strokeWidth:6}:rt<200?{level:0,maxPolygons:5,strokeWidth:6}:{level:0,maxPolygons:5,strokeWidth:0}}}function tt(ze,rt,Oe){var Ze,Pe=Oe&&Oe.xAdjust,X=Oe&&Oe.unconstrained,we=new Float64Array(ze.length),et=function(qe,bt){qe+=.5,bt+=.5,qe*=rt,bt*=rt,qe+=.5,bt+=.5,Pe&&(qe+=Pe*rt),we[Ze]=qe,we[Ze+1]=bt};for(Ze=0;Ze<ze.length;Ze+=2){var at=ze[Ze],St=ze[Ze+1];X||(at=be(at,N,A),St=be(St,-180,180)),ve(at,St,et)}return we}function mt(ze,rt,Oe,Pe){var X=tt(new Float64Array([ze,rt]),ce(Oe),Pe);return{x:X[0],y:X[1]}}function Le(ze,rt,Oe){var Pe=function(ze,rt,Oe){return function(ze,rt,Oe){var Pe=Math.exp(4*-rt*Math.PI);return{latitude:180*Math.asin((Pe-1)/(Pe+1))/Math.PI,longitude:360*ze}}((ze-.5)/Oe-.5,(rt-.5)/Oe-.5)}(ze,rt,ce(Oe));return new Microsoft.Maps.Location(Pe.latitude,Pe.longitude)}function Q(ze,rt){return mt(ze.latitude,ze.longitude,rt)}function Ue(ze,rt){var Oe=Q(ze.getNorthwest(),rt),Pe=Q(ze.getSoutheast(),rt);return new o.U(Oe.x,Oe.y,Pe.x-Oe.x,Pe.y-Oe.y)}function nt(ze){var rt=function(ze){for(var rt={latitude:-90,longitude:180},Oe={latitude:90,longitude:-180},Pe=0;Pe<ze.length;Pe+=2)rt.latitude=Math.max(ze[Pe],rt.latitude),rt.longitude=Math.min(ze[Pe+1],rt.longitude),Oe.latitude=Math.min(ze[Pe],Oe.latitude),Oe.longitude=Math.max(ze[Pe+1],Oe.longitude);return rt.longitude=be(rt.longitude,-180,180),Oe.longitude=be(Oe.longitude,-180,180),{top:rt.latitude,bottom:Oe.latitude,left:rt.longitude,right:Oe.longitude}}(ze);return Microsoft.Maps.LocationRect.fromCorners(new Microsoft.Maps.Location(rt.top,rt.left),new Microsoft.Maps.Location(rt.bottom,rt.right))}function vt(ze){for(var rt=[],Oe=0,Pe=0,X=0,we=4294967296;Oe<ze.length;){for(var Ze=0,et=0;;){if(Oe>=ze.length)return null;var at="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789_-".indexOf(ze.charAt(Oe++));if(-1===at)return null;var St=(31&at)*Math.pow(2,et);if(Ze=(St/we|Ze/we)*we+((St%we|Ze%we)>>>0),et+=5,at<32)break}var zt=Math.floor((Math.sqrt(8*Ze+5)-1)/2);Ze-=zt*(zt+1)/2;var Kt=Math.floor(Ze),Yt=zt-Kt,lr=1e-5*(Pe+=Yt=Yt>>1^-(1&Yt));rt.push(be(1e-5*(X+=Kt=Kt>>1^-(1&Kt)),-90,90)),rt.push(lr)}return new Float64Array(rt)}function We(ze,rt){return rt&&(ze?(rt.west<ze.west&&(ze.west=rt.west),rt.east>ze.east&&(ze.east=rt.east),rt.south<ze.south&&(ze.south=rt.south),rt.north>ze.north&&(ze.north=rt.north)):ze=(0,e.__assign)({},rt)),ze}function de(ze){if(!_.isEmpty(ze)){for(var rt=!1,Oe=0,Pe=ze;Oe<Pe.length;Oe++){var X=Pe[Oe];X.nativeBing&&!X.geographic&&(X.geographic=vt(X.nativeBing),X.geographic&&(rt=!0))}if(rt){for(var we=[],Ze=0,et=ze;Ze<et.length;Ze++){var at=et[Ze];if(St=at.geographic){var Ie=nt(St);at.adjustedBounds={west:Ie.getWest(),north:Ie.getNorth(),east:Ie.getEast(),south:Ie.getSouth()},at.absoluteBounds=Ue(Ie,11),we.push({location:at,bounds:Ie,xAdjust:0})}}for(var qe,bt=-1,It=0;It<we.length;++It){var zt=(Rt=we[It]).bounds.width*Rt.bounds.height;(-1===bt||zt>qe)&&(bt=It,qe=zt)}for(var Kt=Te(),Yt=we[bt].bounds.getWest(),ir=we[bt].bounds.getEast(),lr=0,dr=we;lr<dr.length;lr++){var br=(Ie=(Rt=dr[lr]).bounds).getWest(),Cr=Ie.getEast();if(Cr<Yt&&br+360-ir<Yt-Cr&&(Rt.xAdjust=1),br>ir&&Yt-(Cr-360)<br-ir&&(Rt.xAdjust=-1),Rt.xAdjust){var er=360*Rt.xAdjust,Pr=Rt.location.adjustedBounds;Pr.west+=er,Pr.east+=er,Rt.location.absoluteBounds.left+=Rt.xAdjust*Kt}}for(var mr=0,gr=we;mr<gr.length;mr++){var Rt,St,xr=(Rt=gr[mr]).location;(St=xr.geographic)&&(xr.absolute||(xr.absolute=tt(St,Kt,{xAdjust:Rt.xAdjust})))}}}}function te(ze){return function(ze,rt,Oe,Pe){var X={draggable:!1,icon:'<svg width="24" height="24" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><circle fill="#FF5F00" cx="12" cy="12" r="6"></circle><circle fill="none" stroke="#FF5F00" stroke-width="2" cx="12" cy="12" r="10"></circle></svg>'};return new Microsoft.Maps.Pushpin(ze,X)}(ze)}function xe(ze,rt,Oe){var Pe=ze.tryLocationToPixel(ze.getCenter(),Microsoft.Maps.PixelReference.page);!function(ze,rt,Oe){var Pe=new Microsoft.Maps.Point(rt,Oe),X=ze.tryPixelToLocation(Pe,Microsoft.Maps.PixelReference.page);ze.setView({center:X})}(ze,Pe.x-rt,Pe.y-Oe)}var Z=function(){function ze(){this._locationRect=new Microsoft.Maps.LocationRect(new Microsoft.Maps.Location(30,-30),60,60)}return ze.prototype.reCalc=function(rt,Oe,Pe){var X=[this._locationRect.getNorthwest(),this._locationRect.getSoutheast()];if(!this._baseRect){var we=Q(this._locationRect.getNorthwest(),11),Ze=Q(this._locationRect.getSoutheast(),11);this._baseRect=new o.U(we.x,we.y,Ze.x-we.x,Ze.y-we.y)}var et=rt.tryLocationToPixel(X),at=et[0].x+Oe/2,St=et[0].y+Pe/2,Ie=rt.getZoom()-11,qe=Math.pow(2,Ie);this._currentRect=new o.U(at,St,this._baseRect.width*qe,et[1].y-et[0].y)},Object.defineProperty(ze.prototype,"scale",{get:function(){return this._baseRect?this._currentRect.width/this._baseRect.width:1},enumerable:!1,configurable:!0}),Object.defineProperty(ze.prototype,"transform",{get:function(){var Oe=this._baseRect,Pe=this._currentRect,X=new a.wx;return X.translate(Pe.left,Pe.top),X.scale(Pe.width/Oe.width,Pe.height/Oe.height),X.translate(-Oe.left,-Oe.top),X},enumerable:!1,configurable:!0}),ze.prototype.transformToString=function(rt){var Oe=rt.matrix;return"matrix(".concat(Oe.m00," ").concat(Oe.m10," ").concat(Oe.m01," ").concat(Oe.m11," ").concat(Oe.m02," ").concat(Oe.m12,")")},ze}();function J(ze){var rt=n.v.getThemeColor(ze,b.pl),Oe=(0,m.bT)({style:ze,labelColor:rt,textClassName:"smallLightLabel"}).fontProperties;return Oe=(0,f.ED)(Oe,{color:rt}),{show:!1,showCategory:!1,position:0,displayUnits:0,precision:b.NZ,fontProperties:Oe,enableBackground:!0,backgroundColor:n.v.getThemeColor(ze,b.lp),backgroundTransparency:ie,bold:!1,italic:!1,underline:!1}}function Fe(ze){return{dataPoints:[],hasSeries:!0,geocodingCategory:"",hasSize:!1,properties:{autoZoomEnabled:!0,showZoomButtons:!1,showLassoButton:!1,bubbleSizeMultiplier:1,markerRangeType:C.Ku,savedLatitude:void 0,savedLongitude:void 0,savedZoomLevel:void 0,defaultDataPointColor:void 0,fill:void 0,mapTheme:p.uH,showHeatMap:!1,minZoom:void 0,maxZoom:void 0,showLabels:!0},dataLabelSettings:J(ze),legendData:(0,V.Fe)(ze),invalidLatLongCoordinatesFound:!1}}},19959:function(Xe,H,t){t.d(H,{DW:function(){return D},F:function(){return P},MV:function(){return f},UI:function(){return p},Wo:function(){return V},XU:function(){return E},aW:function(){return w},gT:function(){return n},i:function(){return m},xf:function(){return F}});var e=t(973188),l=t(437555),o=t(696933),d=t(498342),v=t(781322),S=t(569978),h=t(470081),c=t(380073),r=t(409200),s=t(613218),u=t(771711),i=t(789015);function n(R,g){return _.isEmpty(R)?f():{lineDashType:s.SQ,showMarkerByDefault:(0,h.NA)(R,c.zK.lineStyles.showMarkerByDefault,!0),showMarker:(0,h.NA)(R,c.zK.lineStyles.showMarker,!1),shape:(0,h.NA)(R,c.zK.lineStyles.markerShape,u.LS),size:(0,h.NA)(R,c.zK.lineStyles.markerSize,p),color:i.v.create(g).getColorForProperty(R,c.zK.lineStyles.markerColor,void 0)}}function m(R,g,L,M,T){var O=(0,v.ED)((0,e.__assign)((0,e.__assign)({},g),{showMarker:g.showMarker&&g.showMarkerByDefault}));if(O.key="seriesMarker"+L,!R.data.hasSeries()||T)return O.color=g.color?g.color:R.colors.createBySeries(L,void 0,o.fA),O;var N=R.objects.getSeriesDataObjects(L),A=(0,h.NA)(N,c.zK.lineStyles.showMarker);null!=A&&(O.showMarker=A);var I=(0,h.NA)(N,c.zK.lineStyles.markerShape);null!=I&&(O.shape=I);var B=(0,h.NA)(N,c.zK.lineStyles.markerSize);null!=B&&(O.size=+B);var W=i.v.create(M).getColorForProperty(N,c.zK.lineStyles.markerColor,void 0);return null!=W?O.color=W:g.color||(O.color=R.colors.createBySeries(L,void 0,o.fA)),O}function f(){return{lineDashType:s.SQ,showMarker:!1,showMarkerByDefault:!0,shape:u.LS,size:p,color:void 0}}var V=function(){function R(){this.uniqueIdentifier=_.uniqueId(),this.markerKeyModifier=""}return R.prototype.ensureMarkers=function(g,L){var M=this,T=this.modifyMarkersIfNeeded(L),O=g.selectAll("marker").data(T.filter(function(I){return I.showMarker}),function(I){return M.getMarkerId(I)}),N=O.enter().append("marker").merge(O);N.append("path").classed("markerPaths",!0),N.attrs({id:function(B){return M.getMarkerId(B)},markerUnits:"strokeWidth",orient:function(B){var U;return null!==(U=B.orient)&&void 0!==U?U:0},refX:0,refY:0,viewBox:"-6 -6 12 12"}).transition().duration(1).attrs({markerHeight:function(B){return B.size},markerWidth:function(B){return B.size}}),O.exit().remove();var A=g.selectAll(".markerPaths").data(T.filter(function(I){return I.showMarker}),function(I){return M.getMarkerId(I)});A.attr("d",function(I){return I.lineRadius?function(R,g,L){var M=(L+1)/(g/5);switch(R){case u.YP:return null;case u.x:return"M ".concat(M,",1 L 4,5 L 5,4 L 1,0 L 5,-4 L 4,-5 L 0,-1 L -4,-5 L-5,-4 L -1,0 L -5,4 L -4,5 L-").concat(M,",1");case u.uh:return"M ".concat(M,",1 L 5,1 L 5,-1 L -").concat(M,",-1 L -").concat(M,",1");case u.kZ:return"M ".concat(M,",1 L 5,1 L 5,-1 L -5,-1 L -5,1 L -").concat(M,",1");case u.PD:return"M ".concat(M,",1 L 5,1 L 5,-1, L1,-1 L1,-5 L-1,-5 L-1,-1 L-5,-1 L-5,1 L-").concat(M,",1");default:return D(R)}}(I.shape,I.size,I.lineRadius):D(I.shape)}).style("stroke-width",function(I){return I.lineRadius?I.strokeSize/(I.size/5):P(I.shape)}).style("stroke-opacity",function(I){return null!=I.transparency?(0,l.TD)(I.transparency):1}).style("stroke",function(I){var B;return null!==(B=I.strokeColor)&&void 0!==B?B:I.color}).style("fill",function(I){return I.color}).style("opacity",function(I){return null!=I.transparency?(0,l.TD)(I.transparency):null}),A.exit().remove()},R.prototype.renderUncertaintyMarkers=function(g){var L=this,M=function(O){var N=O.seriesData.uncertainty.markers;switch(O.type){case"upper":return L.getMarkerKey(N);case"lower":return L.getMarkerKey(O.seriesData.uncertainty.markersFlipped||N);default:d.fF.assertNever(O.type)}};g.attr("marker-start",M).attr("marker-mid",M).attr("marker-end",M)},R.prototype.getMarkerId=function(g){return"".concat(g.key,"-").concat(this.uniqueIdentifier).concat(g.modifier||"")},R.prototype.getMarkerKey=function(g){if(!g.showMarker)return null;var L=S.M.isSafari()||S.M.isIOSWebView()?window.location.href:"",M=g.key;return"url('".concat(L,"#").concat(M,"-").concat(this.uniqueIdentifier).concat(this.markerKeyModifier,"')")},R.prototype.modifyMarkersIfNeeded=function(g){if(S.M.isInternetExplorerOrEdge()){var L=[];return this.cycleMarkerKeyModifier(),(L=this.modifyMarkerProperties(g,"a")).push.apply(L,this.modifyMarkerProperties(g,"b")||[]),L}return g},R.prototype.cycleMarkerKeyModifier=function(){this.markerKeyModifier="a"===this.markerKeyModifier?"b":"a"},R.prototype.modifyMarkerProperties=function(g,L){return _.map(g,function(M){var T=(0,v.ED)(M);return T.modifier=L,T})},R.sizeRatio=10/12,R}(),p=5;function D(R){return w(R,p)}function P(R){switch(R){case u.Xw:case u.h6:case u.tf:case u.cP:case u.YP:return 0;case u.x:case u.PD:case u.m9:case u.yf:return 1;case u.uh:case u.kZ:return 2;default:d.fF.assertNever(R)}}function F(R,g,L){var M=null==R?void 0:R.showMarker;switch(g){case r.f2:return M?R.shape:L;case r.G_:return M?R.shape:u.Xw;case r.XD:return M?R.shape:u.YP;case r.tl:return u.YP;default:return u.Xw}}function E(R,g,L,M){return R&&(L!==r.f2&&L!==r.G_||!M&&R.showMarker)&&R.color||g}function w(R,g){switch(R){case u.Xw:return"M 0 0 m ".concat(-g," 0 a ").concat(g," ").concat(g," 0 1 0 ").concat(2*g," 0 a ").concat(g," ").concat(g," 0 1 0 ").concat(-2*g," 0");case u.h6:return"M 0 0 m ".concat(-g," ").concat(-g," l ").concat(2*g," 0 l 0 ").concat(2*g," l ").concat(-2*g," 0 z");case u.tf:return"M 0 0 m ".concat(-g," 0 l ").concat(g," ").concat(-g," l ").concat(g," ").concat(g," l ").concat(-g," ").concat(g," z");case u.cP:return"M 0 0 m ".concat(-g," ").concat(g," l ").concat(g," ").concat(-2*g," l ").concat(g," ").concat(2*g," z");case u.x:return"M 0 0 m ".concat(-g," ").concat(-g," l ").concat(2*g," ").concat(2*g," m ").concat(2*-g," 0 l ").concat(2*g," ").concat(2*-g);case u.uh:return"M 0 0 l ".concat(g," 0");case u.kZ:return"M 0 0 m ".concat(-g," 0 l ").concat(2*g," 0");case u.PD:return"M 0 0 m ".concat(-g," 0 l ").concat(2*g," 0 m ").concat(-g," ").concat(-g," l 0 ").concat(2*g);case u.m9:return"M 0 0 m 0 ".concat(-g," l 0 ").concat(2*g," m ").concat(-g," 0 l ").concat(2*g," 0");case u.yf:return"M 0 0 m 0 ".concat(g," l 0 ").concat(2*-g," m ").concat(-g," 0 l ").concat(2*g," 0");case u.YP:return null;default:d.fF.assertNever(R)}}},621275:function(Xe,H,t){t.d(H,{Co:function(){return d},IH:function(){return v},Mw:function(){return a},ZV:function(){return c},cu:function(){return S},dF:function(){return u},nD:function(){return h},s4:function(){return i}});var e=t(973188),l=t(498342),o=t(621822),d=function(m,f,V,p){return void 0===V&&(V=null),(0,e.__assign)({type:1},r(m,f,V,p))},v=function(m,f,V,p){void 0===V&&(V=null);var C=f.precisionReference,b=f.displayUnitsReference,y=(0,e.__rest)(f,["precisionReference","displayUnitsReference"]);return(0,e.__assign)((0,e.__assign)({type:2},r(m,y,V,p)),{precision:(0,e.__assign)((0,e.__assign)({},null==p?void 0:p.precision),{reference:s(C,V),label:m.getLocalizedString("Visual_Precision")}),displayUnits:{reference:s(b,V),label:m.getLocalizedString("Visual_DisplayUnits")}})},S=function(m,f,V,p,C,b,y){void 0===C&&(C=!1),void 0===b&&(b=!1),void 0===y&&(y=null);var D={type:3};return C&&(D.stroke={reference:(0,e.__assign)({cardUid:m,groupUid:f,sliceUid:V},y?{selector:y}:{}),label:p.getLocalizedString("Visual_Shape_Line")}),b&&(D.fill={reference:(0,e.__assign)({cardUid:m,groupUid:f,sliceUid:V},y?{selector:y}:{}),label:p.getLocalizedString("Visual_Fill")}),D},h=function(m){var f=m.hostServices,V=m.omitSelectorForSingleSeries,p=m.individualSelector,C=m.selector,b=m.repetitionSelector,y=m.inContainer,D=m.subSelecionStylesOptions,P="".concat("Visual","-").concat("labels"),F=y?"".concat("labels-applySettingsTo-series","-"):"labels",E="".concat(F,"-").concat("values"),w=V?void 0:E,x="".concat(F,"-").concat("background"),R=V?void 0:x,g={cardUid:P,groupUid:w,sliceUid:"".concat(E,"-font")},L={cardUid:P,groupUid:w,sliceUid:"".concat(E,"-color"),selector:(0,o.hm)(p,V?void 0:C,b)},M={cardUid:P,groupUid:w,sliceUid:"".concat(E,"-precision")},T={cardUid:P,groupUid:w,sliceUid:"".concat(E,"-displayUnits")},O={cardUid:P,groupUid:R,sliceUid:"".concat(x,"-backgroundColor")};return v(f,{fontReference:g,fontColorReference:L,precisionReference:M,displayUnitsReference:T,backgroundReference:O},V?void 0:C,D)},c=function(m,f,V,p){var C="".concat("Visual","-").concat("totals"),b="".concat("totals","-").concat("values"),y="".concat("totals","-").concat("background"),D={cardUid:C,groupUid:b,sliceUid:"".concat(b,"-font")},P={cardUid:C,groupUid:b,sliceUid:"".concat(b,"-color"),selector:(0,o.hm)(f,void 0,V)},F={cardUid:C,groupUid:y,sliceUid:"".concat(y,"-backgroundColor")},E={cardUid:C,groupUid:b,sliceUid:"".concat(b,"-precision")},w={cardUid:C,groupUid:b,sliceUid:"".concat(b,"-displayUnits")};return v(m,{fontReference:D,fontColorReference:P,backgroundReference:F,precisionReference:E,displayUnitsReference:w},void 0,p)},r=function(m,f,V,p){void 0===V&&(V=null);var b=f.fontColorReference,y=f.backgroundReference,D=f.wordWrapReference,P=f.horizontalAlignmentReference,F={font:{reference:s(f.fontReference,V),label:m.getLocalizedString("Font")},fontColor:{reference:s(b,V),label:m.getLocalizedString("Visual_FontColor")}};return y&&(F.background={reference:s(y,V),label:m.getLocalizedString("Background_Color")}),D&&(F.wordWrap={reference:s(D,V),label:m.getLocalizedString("Visual_Word_Wrap")}),P&&(F.horizontalAlignment={reference:s(P,V),label:m.getLocalizedString("Visual_Alignment_Horizontal")}),p&&(p.grid&&(F.grid=p.grid),p.border&&(F.border=p.border)),F},s=function(m,f){var V=(0,e.__assign)({},m);return!V.selector&&f&&(V.selector=f),V},u=function(m){var V=_.first(m).visualObjects;l.fF.assert(function(){return 1===V.length},"Expected 1 visual");var p=V[0];return l.fF.assert(function(){return 1===m.length||m.every(function(C){return _.isEqual(C.visualObjects,[p])},"Expected 1 sub-selection or matching objects")}),p},i=function(m,f){if(m)return{reference:{cardUid:void 0,sliceUid:m},style:2,displayValue:f}},a=function(m,f){if(m)return{reference:{cardUid:void 0,sliceUid:m},style:1,displayValue:f||""}}},188733:function(Xe,H,t){t.d(H,{lk:function(){return u},oW:function(){return s},tv:function(){return c},g6:function(){return r}});var e=t(35734),l=t(569978),o=t(281556);function d(a,n,m){var f;if(void 0===m&&(m=1),n){for(var V=d3.event,p=void 0;p=V.sourceEvent;)V=p;var C=a.getBoundingClientRect();f=[(V.clientX-C.left-a.clientLeft)/m,(V.clientY-C.top-a.clientTop)/m]}else{var b=d3.touches(a);b&&b.length>0&&(f=b[0])}return f}var c=3500;function r(a,n){return void 0===n&&(n=!0),n?{left:a.dataSpace.left.value,top:a.dataSpace.top.value,right:a.dataSpace.right.value,bottom:a.dataSpace.bottom.value}:{left:a.pixelValue.left,top:a.pixelValue.top,right:a.pixelValue.right,bottom:a.pixelValue.bottom}}var s=function(){function a(n){var m=this;this.requireKeyModifier=n,this.uiScale=1,this.isSpaceKeyPressed=!1,this.initiateKeyboardDrag=!1,this.lassoMousemoveCallback=function(){m.drag(d3.event)},this.lassoMouseupCallback=function(){m.wasDragged&&d3.event.stopPropagation(),m.endDrag(d3.event),m.body.on("mousemove.lasso",null),m.body.on("mouseup.lasso",null)},this.lassoClickCallback=function(){m.wasDragged&&d3.event.stopPropagation(),m.body.on("click.lasso",null)},this.lassoKeyUpCallback=function(){m.crosshairSVG&&"Space"===d3.event.code&&(d3.event.stopPropagation(),m.isSpaceKeyPressed=!1,m.endKeyboardDrag())},this.lassoBodyKeyUpCallback=function(){"Space"===d3.event.code&&(m.body.on("keydown.keyboardLasso",null),m.body.on("keyup.keyboardLasso",null))},this.lassoKeyBlurCallback=function(){m.crosshairSVG&&m.removeLasso(),d3.select(d3.event.currentTarget).on("blur.keyboardLasso",null)},this.announceLassoKeyboardEnd=function(f){m.hostServices.alertScreenReader(m.hostServices.getLocalizedString("LassoRectangleWidth",[Math.round(f.right-f.left)])),m.hostServices.alertScreenReader(m.hostServices.getLocalizedString("LassoRectangleHeight",[Math.round(f.bottom-f.top)]))}}return a.prototype.init=function(n,m,f,V){this.body=d3.select("body"),this.surfaces=n,this.svg=m,this.hostServices=f,this.featureSwitches=V,this.initDragEvents(),this.behaviors=[],this.forceLasso=!1},a.prototype.setUiScale=function(n){this.uiScale=n},a.prototype.setForceLasso=function(n){this.forceLasso=n;for(var m=0,f=this.surfaces;m<f.length;m++)f[m].classed("pendingLasso",n)},a.prototype.initDragEvents=function(){for(var n=this,m=function(y){y.on("mousedown.lasso",function(){n.startDrag(d3.event)&&(n.body.on("mousemove.lasso",n.lassoMousemoveCallback,!0),n.body.on("mouseup.lasso",n.lassoMouseupCallback,!0),n.body.on("click.lasso",n.lassoClickCallback,!0))},!0),f.featureSwitches.keyboardShortcutsLassoSelect&&(y.on("keydown.keyboardLasso",function(){"KeyS"===d3.event.code||"Space"===d3.event.code||(0,o.FJ)(d3.event.code)||d3.event.shiftKey||d3.event.ctrlKey?("Space"===d3.event.code&&(d3.event.preventDefault(),n.isSpaceKeyPressed=!0,n.crosshairSVG&&d3.event.stopPropagation()),!l.M.isCtrlOrMeta(d3.event)&&!d3.event.altKey&&!d3.event.shiftKey&&"KeyS"===d3.event.code&&(d3.event.stopPropagation(),n.startKeyboardDrag(),n.crosshairSVG&&(n.body.on("keydown.keyboardLasso",function(){"Space"===d3.event.code&&(n.isSpaceKeyPressed=!0,d3.event.stopPropagation()),n.body.on("keyup.keyboardLasso",n.lassoBodyKeyUpCallback,!0)},!0),y.on("blur.keyboardLasso",n.lassoKeyBlurCallback,!0))),n.crosshairSVG&&(0,o.FJ)(d3.event.code)&&(d3.event.preventDefault(),d3.event.stopPropagation(),n.keyboardDrag())):n.removeLasso()},!0),y.on("keyup.keyboardLasso",f.lassoKeyUpCallback,!0))},f=this,V=0,p=this.surfaces;V<p.length;V++)m(p[V])},a.prototype.removeLasso=function(){this.dragRect&&(this.dragRect=void 0),this.dragRectSelection&&(this.dragRectSelection.remove(),this.dragRectSelection=void 0),this.crosshairSVG&&(this.crosshairSVG.remove(),this.crosshairSVG=void 0),this.lassoPointerPosition=void 0,this.initiateKeyboardDrag=!1},a.prototype.startKeyboardDrag=function(){var n,m=this.lassoPointerPosition=function(a,n,m){void 0===m&&(m=1);var f=a.getBoundingClientRect(),V=n.getBoundingClientRect();return 0===f.width&&0===f.height?[V.width/2/m,V.height/2/m]:[(f.left-V.left+f.width/2)/m,(f.top-V.top+f.height/2)/m]}(d3.event.target,this.svg.node(),this.uiScale);null!==(n=this.crosshairSVG)&&void 0!==n||(this.crosshairSVG=this.svg.append("path").attr("id","lasso-pointer").attr("fill","#000").attr("stroke","#fff").attr("stroke-linecap","square").attr("d","M11.03 1V.5H8.97v8.458h2.06V1Zm.558 8.005h-.5V11.05H19.5V9.005h-7.912Zm-2.676.5v-.5H.5V11.05H8.912V9.505Zm2.117 2.037v-.5H8.971V19.5h2.058v-7.958Z").attr("transform","translate(".concat(m[0]-10,",").concat(m[1]-10,")")))},a.prototype.keyboardDrag=function(){var n=this.lassoPointerPosition;if(this.crosshairSVG&&this.lassoPointerPosition)switch(d3.event.code){case"ArrowRight":this.lassoPointerPosition=[Math.min(this.svg.node().clientWidth,n[0]+5),n[1]];break;case"ArrowLeft":this.lassoPointerPosition=[Math.max(0,n[0]-5),n[1]];break;case"ArrowUp":this.lassoPointerPosition=[n[0],Math.max(0,n[1]-5)];break;case"ArrowDown":this.lassoPointerPosition=[n[0],Math.min(this.svg.node().clientHeight,n[1]+5)]}this.lassoPointerPosition&&(this.wasDragged=this.isBeingDragged({x:this.lassoPointerPosition[0],y:this.lassoPointerPosition[1]})),this.crosshairSVG&&this.lassoPointerPosition&&this.crosshairSVG.attr("transform","translate(".concat(this.lassoPointerPosition[0]-10,",").concat(this.lassoPointerPosition[1]-10,")")),this.isSpaceKeyPressed&&(this.dragRectSelection||(this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0)),this.initiateKeyboardDrag||(this.dragStart={x:n[0],y:n[1]},this.initiateKeyboardDrag=!0),this.updateDragRect(this.lassoPointerPosition))},a.prototype.endKeyboardDrag=function(){if(this.wasDragged&&this.dragRect){var n=this.createMouseEvent(d3.event),m={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height};this.onRectEnd(n,m),this.removeLasso(),this.announceLassoKeyboardEnd(m)}},a.prototype.createMouseEvent=function(n){return new MouseEvent("mousemove.keyboardLasso",{ctrlKey:n.ctrlKey,metaKey:n.metaKey,shiftKey:n.shiftKey,altKey:n.altKey})},a.prototype.startDrag=function(n){if(this.wasDragged=!1,this.removeLasso(),!this.forceLasso&&(!this.onRectStart(n)||!l.M.isCtrlOrMeta(n)&&!n.shiftKey&&(0!==this.hostServices.getViewMode()||this.requireKeyModifier)))return!1;this.requireKeyModifier&&d3.event.stopPropagation();var m=d(this.svg.node(),!0,this.uiScale);return this.dragStart={x:m[0],y:m[1]},this.dragRectSelection=this.svg.append("rect").classed("plot-area-lasso-select",!0).attr("drag-resize-disabled",!0),this.updateDragRect(m),!0},a.prototype.endDrag=function(n){var m=d(this.svg.node(),!0,this.uiScale);this.updateDragRect(m);var f={left:this.dragRect.left,top:this.dragRect.top,right:this.dragRect.left+this.dragRect.width,bottom:this.dragRect.top+this.dragRect.height};this.wasDragged&&(this.onRectEnd(n,f),this.announceLassoKeyboardEnd(f),n.stopPropagation()),this.removeLasso(),this.setForceLasso(!1),this.dragRect&&(this.dragRect=null)},a.prototype.drag=function(n){n.stopPropagation();var m=d(this.svg.node(),!0,this.uiScale);this.wasDragged||(this.wasDragged=this.isBeingDragged({x:m[0],y:m[1]})),this.updateDragRect(m)},a.prototype.updateDragRect=function(n){var m=this.dragRect=this.getDragRect(n,this.dragStart);this.renderDragRect(m)},a.prototype.renderDragRect=function(n){this.dragRectSelection&&this.dragRectSelection.attrs({x:n.left,y:n.top,width:n.width,height:n.height})},a.prototype.onRectEnd=function(n,m){for(var f=0,V=this.behaviors;f<V.length;f++){var p=V[f];p.onRectEnd&&p.onRectEnd({event:n,rect:m})}},a.prototype.onRectStart=function(n){for(var m=!0,f=0,V=this.behaviors;f<V.length;f++){var p=V[f];p.onDragStart&&(m=m&&p.onDragStart(n))}return m},a.prototype.getDragRect=function(n,m){var f=n[0]-m.x,V=n[1]-m.y;return{left:Math.min(m.x,n[0]),top:Math.min(m.y,n[1]),width:this.crosshairSVG&&0===f?1:Math.abs(f),height:this.crosshairSVG&&0===V?1:Math.abs(V)}},a.prototype.isBeingDragged=function(n){return this.dragStart&&(Math.abs(n.x-this.dragStart.x)>=3||Math.abs(n.y-this.dragStart.y)>=3)},a}(),u=function(){function a(n){this.behavior=n}return a.prototype.onRectEnd=function(n){var f=n.rect;f.bottom===f.top||f.left===f.right||this.selectRegion(n.event,f)},a.prototype.onRectHover=function(n){this.behavior.hoverLassoRegion&&this.behavior.hoverLassoRegion(n.event,n.rect)},a.prototype.onDragStart=function(n){return n.button===e.tc.Main},a.prototype.selectRegion=function(n,m){this.behavior.lassoSelectRect&&this.behavior.lassoSelectRect(n,m)},a}()},340758:function(Xe,H,t){t.d(H,{Bj:function(){return S},Ko:function(){return v},Pg:function(){return l},YD:function(){return c},aY:function(){return o},eR:function(){return u},eU:function(){return d},rA:function(){return r},rk:function(){return s},vD:function(){return h}});var e=t(366769),l="setFocusRing",o="currentFocusDataPoint",d=.4,v=1,S=2,h=2,c=6,r=h+2*c,s=e.Wn.regular.css;function u(i,a,n,m,f){return void 0===f&&(f=v),n&&m&&a?i?f:0:m&&!a||n&&!i?d*f:f}},795031:function(Xe,H,t){t.d(H,{Qh:function(){return a},y3:function(){return m},cy:function(){return f},O5:function(){return T},Zx:function(){return y},kv:function(){return P},CK:function(){return p},Ez:function(){return b},oy:function(){return x},QZ:function(){return D},CP:function(){return E}});var l,e=t(973188),o=Object.freeze(((l={}).background=10,l.title=20,l["legend-title"]=30,l["legend-items"]=40,l["y1-axis-title"]=50,l["y1-axis-values"]=60,l["y1-axis-zoom-slider"]=70,l["y2-axis-title"]=80,l["y2-axis-values"]=90,l["y2-axis-zoom-slider"]=100,l["x-axis-values"]=110,l["x-axis-title"]=120,l["x-axis-zoom-slider"]=130,l["horizontal-gridlines"]=140,l["vertical-gridlines"]=150,l.lines=1e3,l.markers=1010,l.columns=1020,l.bars=1030,l["data-labels"]=1040,l["total-labels"]=1050,l["series-labels"]=1060,l["category-labels"]=1070,l)),S=t(812454),h=t(297464),c=t(566464),r=t(498342),u=(0,c.CH)("sub-selectable"),i="sub-selection-data",a=(0,c.CH)("direct-edit-placeholder"),n=(0,c.CH)("direct-edit-placeholder-outline"),m="format-mode",f=u.class,V=u.selector,p="data-sub-selection-display-name",C="data-sub-selection-hide-outline",b="data-sub-selection-object-name",y="data-sub-selection-alt-object-name",D="data-sub-selection-type",P="data-sub-selection-direct-edit",F="data-sub-selection-sub-selected",E="data-sub-selection-ui-anchor",x="data-sub-selection-restricting-element",R="data-helper-host";function L(O){return"".concat(O,".").concat("htmlSubSelection")}function M(O,N){return N.closest("[".concat(R,"]"))===O}var T=function(){function O(N){this.hostElement=N.hostElement,this.host=d3.select(N.hostElement),this.hostServices=N.hostServices,this.subSelectionRegionOutlines={},this.renderer=N.renderer,this.scale=N.scale,this.selectorCallback=N.selectorCallback,this.customOutlineCallback=N.customOutlineCallback,this.customElementCallback=N.customElementCallback,this.subSelectionMetadataCallback=N.subSelectionMetadataCallback,this.host.attr(R,!0)}return O.createHtmlSubselectionHelper=function(N){return new O(N)},O.prototype.setCustomOutlineCallback=function(N){this.customOutlineCallback=N},O.prototype.destroy=function(){this.removeEventHandlers(),this.hideAllOutlines()},O.prototype.setFormatMode=function(N){this.formatMode!==N&&(this.formatMode=N,N?this.attachEventHandlers():(this.removeEventHandlers(),this.hideAllOutlines()))},O.prototype.attachEventHandlers=function(){var N=this;this.host.on(L("pointerover"),function(){N.onPointerOver(d3.event)}),this.host.on(L("click"),function(){N.onClick(d3.event)}),this.host.on(L("contextmenu"),function(){N.onContextMenu(d3.event)})},O.prototype.onVisualScroll=function(){var N=this;this.scrollDebounce||(this.onVisualScrollStart(),this.scrollDebounce=_.debounce(function(){return N.onVisualScrollEnd()},100)),this.scrollDebounce()},O.prototype.onVisualScrollStart=function(){this.scrollSubSelections||(this.subSelect(void 0),this.scrollSubSelections=this.subSelections)},O.prototype.onVisualScrollEnd=function(){this.scrollSubSelections&&this.scrollSubSelections.length>0&&this.subSelect(this.scrollSubSelections[0]),this.scrollSubSelections=void 0,this.scrollDebounce=void 0},O.prototype.onPointerOver=function(N){var A=this;if(!(0,h.q)(N)){this.clearHoveredOutline();var I=this.getSubSelectionSourceFromEvent(N);if(I&&I.subSelectionElement){if(0===this.updateCustomOutlinesFromSubSelections([I.visualSubSelection],1).length){var U=this.getSubSelectionElementsFromSubSelectionSource(I);U=U.filter(function(K){var ee=d3.select(K);return!ee.attr(F)&&"true"!==ee.attr(C)}),this.updateOutlinesFromSubSelectionElements(U,1)}this.renderOutlines();var W=L("pointerleave"),j=d3.select(I.subSelectionElement);j.on(W,function(){j.attr(F)||(A.clearHoveredOutline(),j.on(W,null))}),(0,h.n)(N)}}},O.prototype.clearHoveredOutline=function(){var A=_.values(this.subSelectionRegionOutlines).find(function(I){return 1===I.visibility});A&&(this.subSelectionRegionOutlines[A.id]=(0,e.__assign)((0,e.__assign)({},this.subSelectionRegionOutlines[A.id]),{visibility:0}),this.renderOutlines())},O.prototype.onClick=function(N){this.subSelectFromEvent(N,!1)},O.prototype.onContextMenu=function(N){this.subSelectFromEvent(N,!0)},O.prototype.subSelectFromEvent=function(N,A){if(!(0,h.q)(N)){var I=this.getSubSelectionElementsFromEvent(N);(0,h.n)(N);var B={x:N.clientX,y:N.clientY};if(_.isEmpty(I))return void this.hostServices.onSelect({type:1,selectionMode:0,visualObjects:[],selectionOrigin:B});var U=I[0],W=d3.select(U).attr(b),j=this.getSubSelectionTypeFromElement(U),K=N.target,ee=this.getDisplayNameFromElement(U),ie=this.selectorCallback?this.selectorCallback(U):{},he=this.createVisualSubSelectionForSingleObject({objectName:W,subSelectionType:j,displayName:ee,showUI:A,selectorsByColumn:ie,selectionOrigin:B,target:K});this.scrollSubSelections=void 0,this.subSelect(he)}},O.prototype.getSubSelectionElementsFromEvent=function(N){var A=this.getSubSelectionSourceFromEvent(N);return this.getSubSelectionElementsFromSubSelectionSource(A)},O.prototype.getSubSelectionSourceFromEvent=function(N){var A=N.composedPath();if(A){for(var U,I=A.indexOf(this.hostElement),W=0,j=A.slice(0,I+1);W<j.length;W++){var K=j[W];if(d3.select(K).classed(f)){U=K;break}}if(U&&M(this.hostElement,U)){var ie=this.selectorCallback?this.selectorCallback(U):{},he=d3.select(U).attr(b),q=this.getDisplayNameFromElement(U),Y=this.getSubSelectionTypeFromElement(U),G={x:N.clientX,y:N.clientY},me=this.subSelectionMetadataCallback?this.subSelectionMetadataCallback(U):null;return{subSelectionElement:U,visualSubSelection:this.createVisualSubSelectionForSingleObject({objectName:he,subSelectionType:Y,displayName:q,showUI:!1,selectorsByColumn:ie,selectionOrigin:G,metadata:me})}}}},O.prototype.getSubSelectionElementsFromSubSelectionSource=function(N){var A=this;if(!N)return[];var I=N.visualSubSelection;if(this.customElementCallback){var B=this.customElementCallback(I);if(!_.isEmpty(B))return B}var U=this.getSubSelectableElements(),W=I.visualObjects[0],j=W.objectName,K=W.selectorsByColumn,ee=U.filter(function(he){return he.getAttribute(b)===j});return this.selectorCallback&&(ee=ee.filter(function(he){return(0,S.Ic)(A.selectorCallback(he),K)})),ee},O.prototype.removeEventHandlers=function(){this.host.on(L("pointerover"),null),this.host.on(L("click"),null),this.host.on(L("contextmenu"),null)},O.prototype.subSelect=function(N){var A=(0,e.__assign)({type:1},N);this.hostServices.onSelecting(A),1!==A.action&&this.hostServices.onSelect(A)},O.prototype.isVisualObjectSubSelected=function(N){return!!(this.subSelections&&this.subSelections.length>0)&&!!this.subSelections.find(function(A){return A.visualObjects.find(function(I){return N.objectName===I.objectName&&(0,S.Ic)(N.selectorsByColumn,I.selectorsByColumn)})})},O.prototype.updateElementOutline=function(N,A,I){return void 0===I&&(I=!1),this.updateElementOutlines([N],A,I)[0]},O.prototype.updateElementOutlines=function(N,A,I){var B=this;void 0===I&&(I=!1);for(var U=_.groupBy(N,function(he){var q=d3.select(he);return B.getElementRegionOutlineId(q)}),W=Object.keys(U),j=0,K=W;j<K.length;j++){var ee=K[j],ie=this.getSubSelectionRegionOutline(ee,U[ee],A);this.subSelectionRegionOutlines[ee]=ie}return I||this.renderOutlines(),W},O.prototype.getSubSelectionRegionOutline=function(N,A,I){for(var U,W,B=[],j=function(G){var me=K.getRectangleSubSelectionOutline(G),re=K.getRestrictionElement(G,0);if(r.fF.assert(function(){return!W||re&&re===W},"All elements for an outline require the same clamp restriction element."),W=re){var le=K.applyElementRestriction(W,G),Ee=Math.max(me.x,le.left),Ne=Math.max(me.y,le.top);me=(0,e.__assign)((0,e.__assign)({},me),{x:Ee,y:Ne,height:Math.min(le.top+le.height-Ne,me.height),width:Math.min(le.left+le.width-Ee,me.width)})}var Ye=K.getRestrictionElement(G,1);if(r.fF.assert(function(){return!U||Ye&&Ye===U},"All elements for an outline require the same clip restriction element."),U=Ye){var Je=K.applyElementRestriction(U,G);me=(0,e.__assign)((0,e.__assign)({},me),{clipPath:{type:1,x:Je.left,y:Je.top,height:Je.height,width:Je.width}})}me.height>0&&me.width>0&&B.push(me)},K=this,ee=0,ie=A;ee<ie.length;ee++)j(ie[ee]);return{id:N,visibility:I,outline:{type:0,outlines:B}}},O.prototype.getRestrictionElement=function(N,A){var I=N.closest("[".concat(x,'="').concat(A,'"]'));if(I&&M(this.hostElement,I))return I},O.prototype.applyElementRestriction=function(N,A){var I=N.getBoundingClientRect(),B={top:I.top,left:I.left,height:I.height,width:I.width},U=O.getDataForElement(A);if(U&&U.outlineRestrictionOptions){var W=U.outlineRestrictionOptions,j=W.margin,K=W.padding,ee=0,ie=0,he=0,q=0;if(j){var Y=j.top;ee+=G=j.left,ie+=Y,he-=j.bottom+Y,q-=G+j.right}if(K){var G,le=K.top;ee-=G=K.left,ie-=le,he+=K.bottom+le,q+=G+K.right}B.left+=ee,B.top+=ie,B.height+=he,B.width+=q}return B},O.prototype.getRectangleSubSelectionOutline=function(N){var A=N.getBoundingClientRect(),j={height:A.height,width:A.width,x:A.x,y:A.y,type:1};return N.hasAttribute(P)&&(j.directEdit=function(){if(N.hasAttribute(P))return JSON.parse(N.getAttribute(P))}),j},O.prototype.updateRegionOutline=function(N,A){void 0===A&&(A=!1),this.updateRegionOutlines([N],A)},O.prototype.updateRegionOutlines=function(N,A){void 0===A&&(A=!1);for(var I=0,B=N;I<B.length;I++){var U=B[I];this.subSelectionRegionOutlines[U.id]=U}A||this.renderOutlines()},O.prototype.getElementsFromSubSelections=function(N){if(!N)return[];var A=[],I=this.getSubSelectableElements(),B=this.isElementSubSelected,U=this.selectorCallback;return d3.selectAll(I).each(function(){B(this,N,U)&&A.push(this)}),A},O.prototype.setSubSelectedStateDOM=function(N){if(N){var A=this.getSubSelectableElements(),I=this.isElementSubSelected,B=this.selectorCallback;d3.selectAll(A).attr(F,function(){return!!I(this,N,B)||null})}},O.prototype.isElementSubSelected=function(N,A,I){if(!A)return!1;var B=d3.select(N).attr(b),U=d3.select(N).attr(y);return A.some(function(j){var K;return null===(K=j.visualObjects)||void 0===K?void 0:K.some(function(ee){var ie=!0;return I&&((0,S.Ic)(ee.selectorsByColumn,I(N))||(ie=!1)),(ee.objectName===B||ee.objectName===U)&&ie})})},O.prototype.updateCustomOutlinesFromSubSelections=function(N,A){var I;void 0===A&&(A=2);var B=[];if(this.customOutlineCallback&&!_.isEmpty(N))for(var U=0,W=N;U<W.length;U++){var j=W[U],K=this.customOutlineCallback(j);if(K&&K.length>0){for(var ee=0,ie=K;ee<ie.length;ee++){var he=ie[ee],q=null===(I=this.subSelectionRegionOutlines[he.id])||void 0===I?void 0:I.visibility;(1!==A||2!==q)&&this.setOutline(he,A)}B.push(j)}}return B},O.prototype.updateOutlinesFromSubSelectionElements=function(N,A){void 0===A&&(A=2);var I=[];if(!_.isEmpty(N)){for(var B=0,U=N;B<U.length;B++){var W=U[B],j=O.getDataForElement(W);if(j&&j.getRegionOutlines)for(var ee=0,ie=j.getRegionOutlines();ee<ie.length;ee++)this.setOutline(ie[ee],A);else I.push(W)}this.updateElementOutlines(I,A,!0)}},O.prototype.updateOutlinesFromSubSelections=function(N,A,I){A&&this.hideAllOutlines(!0),this.subSelections=N;var B=N?(0,e.__spreadArray)([],N,!0):[];this.setSubSelectedStateDOM(N);var U=this.updateCustomOutlinesFromSubSelections(N);(null==U?void 0:U.length)>0&&_.remove(B,function(K){return U.find(function(ee){return _.isEqual(K,ee)})});var j=this.getElementsFromSubSelections(B).filter(function(K){return"true"!==d3.select(K).attr(C)});this.updateOutlinesFromSubSelectionElements(j),I||this.renderOutlines()},O.prototype.refreshOutlines=function(){this.updateOutlinesFromSubSelections(this.subSelections,!0,!1)},O.prototype.getLabelsFromSubSelections=function(N,A,I){void 0===I&&(I=" ");for(var U=[],W=0,j=this.getElementsFromSubSelections(N);W<j.length;W++){for(var K=j[W],ee="",ie=0,he=A;ie<he.length;ie++){var Y=K.attributes.getNamedItem(he[ie]);Y&&Y.value&&(ee+=Y.value+I)}_.isEmpty(ee)||U.push(ee.trim())}return U},O.prototype.setOutline=function(N,A){var I=(0,e.__assign)((0,e.__assign)({},N),{visibility:A,id:N.id});this.subSelectionRegionOutlines[N.id]=I},O.setDataForElement=function(N,A){$(N).data(i,A)},O.getDataForElement=function(N){return $(N).data(i)},O.prototype.hideAllOutlines=function(N){void 0===N&&(N=!1);var A=this.subSelectionRegionOutlines,I=[];for(var B in A)I.push((0,e.__assign)((0,e.__assign)({},A[B]),{visibility:0}));this.updateRegionOutlines(I,N)},O.prototype.getRegionOutline=function(N){return this.getRegionOutlines([N])[0]},O.prototype.getRegionOutlines=function(N){var A=this;return N.map(function(I){return A.subSelectionRegionOutlines[I]})},O.prototype.getAllOutlines=function(){return(0,e.__assign)({},this.subSelectionRegionOutlines)},O.prototype.renderOutlines=function(){var N=_.values(this.subSelectionRegionOutlines);this.renderer.updateRegionOutlines(N)},O.prototype.addDirectEditPlaceholderOutlines=function(){var N=this,A=this.scale(),I=this.hostElement.getBoundingClientRect(),U=_.filter(_.map(this.hostElement.querySelectorAll(a.selector),function(j){return{element:j,bounds:(K=j,ee=K.getBoundingClientRect(),{left:(ee.x-I.x)/A-1,top:(ee.y-I.y)/A-1,width:ee.width/A,height:ee.height/A}),outlineId:N.getElementRegionOutlineId(d3.select(j)),objectName:j.getAttribute(b),displayNameKey:j.getAttribute(p)};var K,ee}),function(j){return!!j.outlineId&&!!j.objectName}),W=d3.select(this.hostElement).selectAll("div.".concat(n.class)).data(U,function(j){return j.objectName});W.enter().append("div").classed(n.class,!0).attr("data-testid",function(j){return"direct-edit-placeholder-outline-".concat(j.objectName)}).style("position","absolute").style("border","1px black dashed").style("cursor","text").on("click",function(j){d3.event.stopImmediatePropagation();var K={visualObjects:[{objectName:j.objectName,selectorsByColumn:{}}],subSelectionType:1,selectionOrigin:{x:d3.event.x,y:d3.event.y},immediateDirectEdit:j.outlineId,displayName:j.displayNameKey&&N.hostServices.getLocalizedString(j.displayNameKey)};N.subSelect(K)}).merge(W).style("width",function(j){return"".concat(j.bounds.width,"px")}).style("height",function(j){return"".concat(j.bounds.height,"px")}).style("left",function(j){return"".concat(j.bounds.left,"px")}).style("top",function(j){return"".concat(j.bounds.top,"px")}),W.exit().remove()},O.prototype.getElementRegionOutlineId=function(N){var A=N.attr(b),I="";if(this.selectorCallback){var B=this.selectorCallback(N.node()),U=(0,S.tV)(B);U&&(I=(0,S.km)(U))}return""!==I?"".concat(A,"___").concat(I):A},O.prototype.getAllSubSelectables=function(N){var A=this,I=this.getSubSelectableElements(),U=_.uniqWith(I,function(Y,G){return Y.getAttribute(b)===G.getAttribute(b)&&(!A.selectorCallback||(0,S.Ic)(A.selectorCallback(Y),A.selectorCallback(G)))}),W=U;N&&(W=U.filter(function(q){var Y=A.getSubSelectionTypeFromElement(q);return Number(Y)===N}));var j=W.map(function(q){var Y=q.getBoundingClientRect();return{x:Y.x+Y.width/2,y:Y.y+Y.height/2}}),ee=_.orderBy(Array.from(Array(j.length).keys()),function(Y){return j[Y].y},["asc"]),ie={currentSeriesMultiplier:0};return ee.map(function(q){return A.createSubSelectionFromElement(W[q],!1,void 0,ie,j[q])})},O.prototype.getNextSubSelectable=function(N,A){var I=this.getAllSubSelectables();if(I.length){var U,B=_.orderBy(I,["focusOrder"],["asc"]);if(!N)return A?_.last(B):_.first(B);var W=_.findIndex(B,function(K){return _.isEqual(N,K)});if(W>-1){var j=A?W-1:W+1;j>-1&&j<B.length&&(U=B[j])}return U}},O.prototype.createVisualSubSelectionForSingleObject=function(N){var A,I=N.objectName,B=N.subSelectionType,U=N.displayName,W=N.showUI,j=N.selectorsByColumn,K=N.selectionOrigin,ee=N.focusOrder,ie=N.metadata,he=N.target,q=(null!==(A=null==he?void 0:he.getBoundingClientRect())&&void 0!==A?A:{top:0}).top,Y=K&&B in[1,2]?(0,e.__assign)((0,e.__assign)({},K),{offset:{x:0,y:-1*((null==K?void 0:K.y)-q)}}):K;return(0,e.__assign)((0,e.__assign)({visualObjects:[{objectName:I,selectorsByColumn:null!=j?j:{}}],showUI:W,displayName:U,subSelectionType:B,selectionOrigin:Y,target:he},ie?{metadata:ie}:{}),ee?{focusOrder:ee}:{})},O.prototype.createSubSelectionFromElement=function(N,A,I,B,U){var W=N.getAttribute(b);r.fF.assert(function(){return!!W},"createVisualSubSelectionFromElement should not be called on an element that is not subselectable");var j={};this.selectorCallback&&(j=this.selectorCallback(N));var K=this.getSelectorKey(j);K&&void 0===B[K]&&(B[K]=B.currentSeriesMultiplier,B.currentSeriesMultiplier++);var ee=this.getSubSelectionFocusOrder(W,B[K]),ie=this.getSubSelectionTypeFromElement(N),he=this.getDisplayNameFromElement(N),q=U;return I&&(q={x:I.clientX,y:I.clientY}),this.createVisualSubSelectionForSingleObject({objectName:W,subSelectionType:ie,displayName:he,showUI:A,selectorsByColumn:j,selectionOrigin:q,focusOrder:ee})},O.prototype.getDisplayNameFromElement=function(N){var A=N.getAttribute(p);if(A)A=this.hostServices.getLocalizedString(A);else{var I=O.getDataForElement(N);null!=I&&I.getDisplayName?A=I.getDisplayName():r.fF.assertFail("getAllSubSelectables - custom jquery data getDisplayName should be defined if no attribute is added to DOMElement")}return A},O.prototype.getSubSelectionTypeFromElement=function(N){var A=N.getAttribute(D);if(A)return Number(A);r.fF.assertFail("getAllSubSelectables - DOMElement should have type")},O.prototype.getSelectorKey=function(N){var A=(0,S.fd)((0,S.tV)(N));return _.isEmpty(A)?"":JSON.stringify(A)},O.prototype.getSubSelectionFocusOrder=function(N,A){var I=o[N];return I?(void 0!==A&&(I+=1e3*A),I):999999},O.prototype.getSubSelectableElements=function(){var N=this.hostElement;return this.host.selectAll(V).filter(function(){return M(N,this)}).nodes()},O}()},624225:function(Xe,H,t){t.d(H,{m:function(){return l}});var e=t(341648);function l(o,d,v){if(o&&o.textClasses){var S=o.textClasses[d];if(S){var h=S.fontSize&&e.B.createFromPt(+S.fontSize);return{color:v?void 0:S.color&&S.color.value,family:S.fontFace,size:h,weight:S.fontWeight}}}return{}}},440912:function(Xe,H,t){t.d(H,{PC:function(){return S},lM:function(){return c},mC:function(){return v},nU:function(){return d},zI:function(){return h}});var e=t(498342),l=t(963470),o=t(533462);function d(r){return r.toString().replace(new RegExp(" ","g"),"&nbsp")}function v(r){return r.replace(/\u2026/g,"")}function S(r){if(null!=r)return r.replace(/ /g,"\xa0")}function h(r){if(null!=r)return r.replace(/\n| /g,"\xa0")}function c(r,s,u,i,a,n){void 0===i&&(i=0),void 0===a&&(a=!1),void 0===n&&(n=!1),e.fF.assertValue(r,"textElement");var m=l.b.getSvgMeasurementProperties(r),f=l.b.estimateSvgTextHeight(m)+i,V=Math.max(1,Math.floor(u/f)),p=d3.select(r),C=r.textContent;r.textContent="";for(var b=(0,o.ql)(C,m,l.b.measureSvgTextWidth,s,V,null,!1,a,n),y=0,D=b.length;y<D;y++)m.text=b[y],p.append("tspan").attr("x",0).attr("dy",0===y?0:f).text(l.b.getTailoredTextOrDefault(m,s))}},114345:function(Xe,H,t){t.d(H,{Q:function(){return l},X:function(){return o}});var e=t(498342);function l(d,v){if(0!==v.length){e.fF.assert(function(){return d.nodes().length===v.length||d.size()===v.length},"data length should match dom element count");var h=d.selectAll("title").data(function(c,r){return[v[r]]});h.enter().append("title").merge(h).text(function(c){return c}),h.exit().remove()}}function o(d){return _.reduce(d,function(S,h,c){var r=h.value;return null==r&&(r=h.kpiValue&&h.kpiValue.value),c>0?"".concat(S," ").concat(h.displayName," ").concat(r,"."):"".concat(h.displayName," ").concat(r,".")},"")}},505773:function(Xe,H,t){t.d(H,{wx:function(){return e}});var e=function(){function h(c){this.matrix=c||{m00:1,m01:0,m02:0,m10:0,m11:1,m12:0}}return h.prototype.applyToPoint=function(c){if(!c)return c;var r=this.matrix;return{x:r.m00*c.x+r.m01*c.y+r.m02,y:r.m10*c.x+r.m11*c.y+r.m12}},h.prototype.applyToRect=function(c){if(!c)return c;var r=c.left,s=c.top,u=this.matrix,a=0!==u.m01||0!==u.m10;if(!a&&1===u.m00&&1===u.m11)return{left:r+u.m02,top:s+u.m12,width:c.width,height:c.height};var f,V,p,C,n=c.left+c.width,m=c.top+c.height;if(a){var b=u.m00*r+u.m01*s+u.m02,y=u.m10*r+u.m11*s+u.m12,D=u.m00*r+u.m01*m+u.m02,P=u.m10*r+u.m11*m+u.m12,F=u.m00*n+u.m01*s+u.m02,E=u.m10*n+u.m11*s+u.m12,w=u.m00*n+u.m01*m+u.m02,x=u.m10*n+u.m11*m+u.m12;f=Math.min(b,D,F,w),V=Math.max(b,D,F,w),p=Math.min(y,P,E,x),C=Math.max(y,P,E,x)}else b=u.m00*r+u.m02,y=u.m11*s+u.m12,w=u.m00*n+u.m02,x=u.m11*m+u.m12,f=Math.min(b,w),V=Math.max(b,w),p=Math.min(y,x),C=Math.max(y,x);return{left:f,top:p,width:V-f,height:C-p}},h.prototype.translate=function(c,r){if(0!==c||0!==r){var s=function(h,c){return{m00:1,m01:0,m02:h,m10:0,m11:1,m12:c}}(c,r);this.matrix=S(this.matrix,s),this._inverse=null}},h.prototype.scale=function(c,r){if(1!==c||1!==r){var s=function(h,c){return{m00:h,m01:0,m02:0,m10:0,m11:c,m12:0}}(c,r);this.matrix=S(this.matrix,s),this._inverse=null}},h.prototype.rotate=function(c){if(0!==c){var r=function(h){var c=h,r=Math.sin(c),s=Math.cos(c);return{m00:s,m01:-r,m02:0,m10:r,m11:s,m12:0}}(c);this.matrix=S(this.matrix,r),this._inverse=null}},h.prototype.add=function(c){c&&(this.matrix=S(this.matrix,c.matrix),this._inverse=null)},h.prototype.getInverse=function(){return this._inverse||(this._inverse=new h(function(h){var r=1/(h.m00*h.m11-h.m01*h.m10);return{m00:h.m11*r,m01:-h.m01*r,m02:(h.m01*h.m12-h.m02*h.m11)*r,m10:-h.m10*r,m11:h.m00*r,m12:-(h.m00*h.m12-h.m10*h.m02)*r}}(this.matrix))),this._inverse},h}();function S(h,c){return{m00:h.m00*c.m00+h.m01*c.m10,m01:h.m00*c.m01+h.m01*c.m11,m02:h.m00*c.m02+h.m01*c.m12+h.m02,m10:h.m10*c.m00+h.m11*c.m10,m11:h.m10*c.m01+h.m11*c.m11,m12:h.m10*c.m02+h.m11*c.m12+h.m12}}},341648:function(Xe,H,t){t.d(H,{B:function(){return o}});var e=t(498342),l=t(756846),o=function(){function d(v,S){this.pt=v,this.px=S}return d.createFromPt=function(v,S){return e.fF.assert(function(){return _.isFinite(v)},"pt is not a number"),S&&(v=_.round(v,S)),new d(v,l.FP.fromPointToPixel(v))},d.createFromPx=function(v,S){return e.fF.assert(function(){return _.isFinite(v)},"px is not a number"),S&&(v=_.round(v,S)),new d(l.FP.toPoint(v),v)},d.createFromElement=function(v){var S=v.css("font-size");return _.isEmpty(S)?void 0:d.createFromCSS(S)},d.createFromCSS=function(v,S){e.fF.assertValue(v,"fontSizeCSS");var h=v.slice(-2).toLowerCase();e.fF.assert(function(){return"pt"===h||"px"===h},"expected an absolute size");var c=parseFloat(v.slice(0,-2));switch(e.fF.assert(function(){return!isNaN(c)},"value is NaN"),h){case"px":return d.createFromPx(c,S);case"pt":return d.createFromPt(c,S);default:e.fF.assertFail("Can not convert unit '".concat(h,"' to a FontSize"))}},d.prototype.equals=function(v){return this.pt===v.pt&&this.px===v.px},d}()},136798:function(Xe,H,t){t.d(H,{Il:function(){return r},O4:function(){return c},Re:function(){return u},WO:function(){return v},_W:function(){return s},kB:function(){return h},q5:function(){return i},x6:function(){return S}});var e=t(973188),l=t(406057),o=t(861344),d=t(935232);function v(){return{solid:{color:"#FFF"}}}function S(){return 50}function h(){return!1}function c(){return{color:{solid:{color:"#FFF"}},transparency:50,show:!1}}function r(a,n){var m;a.pushInstance({selector:null,properties:{transparency:null!==(m=null==n?void 0:n.transparency)&&void 0!==m?m:50,image:null==n?void 0:n.image},objectName:"plotArea"})}function s(a,n){var m=o.mi.plotArea,f=new l.CQ(new l.lg("plotBackground"),"Visual_Plot_Background",[m.image,m.transparency],n);return f.addGroup(void 0,function(V){var p;V.addSimpleSlice("image",new l.bD({descriptor:m.image,value:a&&a.image}).build()).addSimpleSlice("transparency",l.JN.getTransparencySliderBuilder({descriptor:m.transparency,value:null!==(p=null==a?void 0:a.transparency)&&void 0!==p?p:50,localize:n}).build(),function(C){var b,y;return C.withDisabled(!(a&&a.image&&(null!==(b=a.image)&&void 0!==b&&b.name||null!==(y=a.image)&&void 0!==y&&y.url)))})}),f.build()}function u(a,n,m){var f,V=null===(f=null==a?void 0:a.image)||void 0===f?void 0:f.url;if(V){var C,p=n.children(".background-image");switch(0===p.length&&(n.prepend('<div class="background-image"></div>'),(p=n.children(".background-image")).css("position","absolute")),a.image.scaling){case d.mJ:C={"background-size":"","background-position":"50% 50%"};break;case d.Tj:C={"background-size":"100% 100%","background-position":""};break;case d.hl:C={"background-size":"100%","background-position":"50% 50%"};break;default:C={"background-size":"","background-position":"50% 50%"}}p.css((0,e.__assign)((0,e.__assign)({},C),{width:m.width,height:m.height,"margin-left":m.left,"margin-top":m.top,"background-image":"url(".concat(V,")"),"background-repeat":"no-repeat",opacity:(100-a.transparency)/100}))}else i(n)}function i(a){null==a||a.children(".background-image").remove()}},824327:function(Xe,H,t){t.d(H,{$b:function(){return v},FJ:function(){return d},O4:function(){return S}});var e=t(25788),d=0;function v(h,c){var r=(0,e.yo)(h)?c:0,s=(0,e.BK)(h)?c:0,u=(0,e.mv)(h)?c:0,i=(0,e.fs)(h)?c:0;return"".concat(r,"px ").concat(s,"px ").concat(u,"px ").concat(i,"px")}function S(){return{color:{solid:{color:"#000"}},show:!1,radius:d}}},355647:function(Xe,H,t){t.d(H,{e_:function(){return l},g:function(){return e},t2:function(){return d},tQ:function(){return o}});var e="Slider_Degree",l="Numeric_Pixel",o="Slider_Weight",d="Slider_Percent"},142742:function(Xe,H,t){t.d(H,{OT:function(){return r},sd:function(){return h},u9:function(){return c}});var e=t(498342),l=t(812454),o=t(204553),d=t(509607),v=t(854883);function h(s,u){if(_.isEmpty(s))return[];e.fF.assertValue(u,"objectDescriptors");for(var i=[],a=function(p){for(var C in p.objects){var b=p.objects[C]&&p.objects[C].formattingProperties;if(!_.isEmpty(b))for(var y=0,D=b;y<D.length;y++){var F={objectName:C,propertyName:D[y]},E=(0,d.VM)(u,F),w=void 0;p.allowOverrideSubtotalMatching&&(e.fF.assert(function(){return(0,l.N6)(p.selector)},"allowOverrideSubtotalMatching is only supported for Wildcard Selectors"),w=!0),E&&i.push({selector:p.selector,allowOverrideSubtotalMatching:w,altStaticSelector:p.altStaticSelector,propertyId:F,propertyDescriptor:E,containerName:p.containerName})}}},n=0,m=s;n<m.length;n++)a(m[n]);return i}function c(s,u){return s===u||null==s&&null==u||!s==!u&&void 0===s.altStaticSelector==(void 0===u.altStaticSelector)&&!!s.allowOverrideSubtotalMatching==!!u.allowOverrideSubtotalMatching&&s.containerName===u.containerName&&_.isEqual(s.propertyDescriptor,u.propertyDescriptor)&&_.isEqual(s.propertyId,u.propertyId)&&(0,l.fS)(s.selector,u.selector)}function r(s,u){if(!u.allowOverrideSubtotalMatching)return(0,o.NA)(s,u.propertyId,u.selector);e.fF.assert(function(){return(0,l.N6)(u.selector)},"allowOverrideSubtotalMatching is only supported for Wildcard Selectors");for(var a=0,n=[(0,v.Ue)(1),(0,v.Ue)(2),(0,v.Ue)(0)];a<n.length;a++){var f={data:[n[a]],metadata:u.selector.metadata,id:u.selector.id},V=(0,o.NA)(s,u.propertyId,f);if(V)return u.selector=f,V}}},709272:function(Xe,H,t){function e(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"nonInteractive"}}}function l(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0,expandCollapse:{buttonsOption:"interactive"}}}t.d(H,{DH:function(){return l},ss:function(){return e}})},957240:function(Xe,H,t){function e(){return{scrolling:{enabled:!1},selection:{enabled:!1},sorting:{enabled:!1,showActiveSortIcon:!0},columnResizing:{enabled:!1},interactivityIndicatorEnabled:!1,tooltipsEnabled:!0}}function l(){return{scrolling:{enabled:!0},selection:{enabled:!0},sorting:{enabled:!0,showActiveSortIcon:!0},columnResizing:{enabled:!0},interactivityIndicatorEnabled:!0,tooltipsEnabled:!0}}t.d(H,{DH:function(){return l},ss:function(){return e}})},905237:function(Xe,H,t){t.d(H,{A1:function(){return w},FX:function(){return R},IC:function(){return x},Pi:function(){return P},Sc:function(){return E},UR:function(){return C},e9:function(){return y},mO:function(){return F},nv:function(){return D},tJ:function(){return b},u3:function(){return a},vW:function(){return p}});var e=t(696933),l=t(498342),o=t(366769),d=t(382088),v=t(470081),S=t(789015),h=t(771711),c=t(25788),r=t(293876),s=t(876809),u=t(319113),i=t(434906),a='"',n=function(){function g(L,M,T,O,N,A){this.objectName=L,this.propertyName=M,this.defaultValue=T,this.usage=O,this.fallbackProperties=A,this.getterFunction=N||v.NA}return g.prototype.getValue=function(L,M,T,O,N,A){void 0===M&&(M=!1);var I=this.getterFunction(L,this,this.defaultValue,N);if(N&&void 0===I&&(I=this.getValue(L,M)),T&&!T(L,this,N)&&!_.isNil(O)&&(I=O),void 0===I&&(_.isEmpty(this.fallbackProperties)||this.fallbackProperties.forEach(function(B,U){I=B.getValue(L,M,void 0,void 0,A&&A[U])})),!M&&"string"==typeof I)switch(this.usage){case"attribute":I=I.replace(g.AttributeDelimiter,a+a);break;case"unsafeTextContent":I=(0,d.HZ)(I);break;case"codeOnly":case"safeTextContent":break;default:l.fF.assertNever(this.usage)}return I},g.prototype.setInstanceProperty=function(L,M,T,O,N){var A=this.getValue(M,!0,T,O,N);return L&&L.properties&&(L.properties[this.propertyName]=A),A},g.prototype.setInstanceValidValues=function(L,M){L.validValues||(L.validValues={}),L.validValues[this.propertyName]=M},g.AttributeDelimiter=new RegExp(a,"g"),g}(),m="foregroundNeutralLight",V="foregroundNeutralSecondary",p=c.wI,C=4,b=c.YP,y=0,D=c.RH,P=2,F=c.j0,E=1,w=c.YP,x=0,R=function(){function g(L){var M=this;this.colorHelper=S.v.create(L);var T=function(N,A,I,B){return M.colorHelper.getColorForProperty(N,A,I,B)};this.PropGridVerticalColor=new n(g.ObjectGrid,"gridVerticalColor",m,"attribute",T),this.PropGridHorizontalColor=new n(g.ObjectGrid,"gridHorizontalColor",m,"attribute",T),this.PropGridOutlineColor=new n(g.ObjectGrid,"outlineColor","foregroundNeutralTertiaryAlt","attribute",T),this.PropRowsOutlineColor=new n(g.ObjectRowHeaders,"outlineColor",void 0,"attribute",T),this.PropColumnsOutlineColor=new n(g.ObjectColumnHeaders,"outlineColor",void 0,"attribute",T),this.PropValuesOutlineColor=new n(g.ObjectValues,"outlineColor",void 0,"attribute",T),this.PropTotalOutlineColor=new n(g.ObjectTotal,"outlineColor",void 0,"attribute",T),this.PropColumnsFontColor=new n(g.ObjectColumnHeaders,"fontColor",V,"attribute",T),this.PropColumnsBackColor=new n(g.ObjectColumnHeaders,"backColor",void 0,"attribute",T),this.PropRowsFontColor=new n(g.ObjectRowHeaders,"fontColor",V,"attribute",T),this.PropRowsBackColor=new n(g.ObjectRowHeaders,"backColor",void 0,"attribute",T),this.PropRowsExpandCollapseButtonsColor=new n(g.ObjectRowHeaders,"expandCollapseButtonsColor",void 0,"attribute",T),this.PropValuesFontColor=new n(g.ObjectValues,"fontColor",void 0,"attribute",T),this.PropValuesFontColorPrimary=new n(g.ObjectValues,"fontColorPrimary",e.fA,"attribute",T),this.PropValuesFontColorSecondary=new n(g.ObjectValues,"fontColorSecondary",e.fA,"attribute",T),this.PropValuesBackColor=new n(g.ObjectValues,"backColor",void 0,"attribute",T),this.PropValuesBackColorPrimary=new n(g.ObjectValues,"backColorPrimary",void 0,"attribute",T),this.PropValuesBackColorSecondary=new n(g.ObjectValues,"backColorSecondary",void 0,"attribute",T),this.PropTotalFontColor=new n(g.ObjectTotal,"fontColor",e.fA,"attribute",T),this.PropTotalBackColor=new n(g.ObjectTotal,"backColor",void 0,"attribute",T),this.PropSubTotalsFontColor=new n(g.ObjectSubTotals,"fontColor",void 0,"attribute",T),this.PropSubTotalsBackColor=new n(g.ObjectSubTotals,"backColor",void 0,"attribute",T),this.PropGrandTotalFontColor=new n(g.ObjectTotal,"fontColor",void 0,"attribute",T),this.PropGrandTotalBackColor=new n(g.ObjectTotal,"backColor",void 0,"attribute",T),this.PropColumnGrandTotalFontColor=new n(g.ObjectColumnTotal,"fontColor",void 0,"attribute",T),this.PropColumnGrandTotalBackColor=new n(g.ObjectColumnTotal,"backColor",void 0,"attribute",T),this.PropRowGrandTotalFontColor=new n(g.ObjectRowTotal,"fontColor",void 0,"attribute",T),this.PropRowGrandTotalBackColor=new n(g.ObjectRowTotal,"backColor",void 0,"attribute",T),this.PropColumnFormattingFontColor=new n(g.ObjectColumnFormatting,"fontColor",void 0,"attribute",T),this.PropColumnFormattingBackColor=new n(g.ObjectColumnFormatting,"backColor",void 0,"attribute",T),this.PropSparklinesDataColor=new n(g.ObjectSparklines,"dataColor",{solid:{color:S.v.getDataColorByIndex(L,0)}},"attribute"),this.PropSparklinesMarkerColor=new n(g.ObjectSparklines,"markerColor",{solid:{color:S.v.getDataColorByIndex(L,0)}},"attribute")}return g.ObjectGeneral="general",g.ObjectGrid="grid",g.ObjectColumnHeaders="columnHeaders",g.ObjectRowHeaders="rowHeaders",g.ObjectValues="values",g.ObjectTotal="total",g.ObjectColumnTotal="columnTotal",g.ObjectRowTotal="rowTotal",g.ObjectSubTotals="subTotals",g.ObjectColumnFormatting="columnFormatting",g.ObjectColumnWidth="columnWidth",g.ObjectSparklines="sparklines",g.ObjectAccessibility="accessibility",g.PropColumnFormatString=new n(g.ObjectGeneral,"formatString",void 0,"codeOnly"),g.PropGeneralTableTotals=new n(g.ObjectGeneral,"totals",!0,"codeOnly"),g.PropGeneralMatrixRowSubtotals=new n(g.ObjectGeneral,"rowSubtotals",!0,"codeOnly"),g.PropGeneralMatrixColumnSubtotals=new n(g.ObjectGeneral,"columnSubtotals",!0,"codeOnly"),g.PropGeneralAutoSizeColumns=new n(g.ObjectGeneral,"autoSizeColumnWidth",!0,"attribute"),g.PropGeneralTextSize=new n(g.ObjectGeneral,"textSize",8,"attribute"),g.PropGridPivotTableTextSize=new n(g.ObjectGrid,"textSize",8,"attribute"),g.PropGridVertical=new n(g.ObjectGrid,"gridVertical",!1,"codeOnly"),g.PropGridVerticalWeight=new n(g.ObjectGrid,"gridVerticalWeight",1,"attribute"),g.PropGridHorizontalTable=new n(g.ObjectGrid,"gridHorizontal",!0,"codeOnly"),g.PropGridHorizontalMatrix=new n(g.ObjectGrid,"gridHorizontal",!1,"codeOnly"),g.PropGridHorizontalWeight=new n(g.ObjectGrid,"gridHorizontalWeight",1,"attribute"),g.PropGridRowPadding=new n(g.ObjectGrid,"rowPadding",0,"attribute"),g.PropGridOutlineStyle=new n(g.ObjectGrid,"outlineStyle",void 0,"codeOnly"),g.PropGridOutline=new n(g.ObjectGrid,"outline",void 0,"codeOnly"),g.PropGridOutlineWeight=new n(g.ObjectGrid,"outlineWeight",1,"attribute"),g.PropGridImageHeight=new n(g.ObjectGrid,"imageHeight",75,"attribute"),g.PropGridImageWidth=new n(g.ObjectGrid,"imageWidth",void 0,"attribute",void 0,[g.PropGridImageHeight]),g.PropColumnsFontFamily=new n(g.ObjectColumnHeaders,"fontFamily",o.Wn.regular.css,"attribute"),g.PropColumnsOutline=new n(g.ObjectColumnHeaders,"outline",c.wI,"codeOnly"),g.PropColumnsOutlineStyle=new n(g.ObjectColumnHeaders,"outlineStyle",void 0,"codeOnly"),g.PropColumnsNewVisualOutline=new n(g.ObjectColumnHeaders,"outline",void 0,"codeOnly"),g.PropColumnsAlignment=new n(g.ObjectColumnHeaders,"alignment",i.d7,"codeOnly"),g.PropColumnsAlignmentTitle=new n(g.ObjectColumnHeaders,"titleAlignment",i.d7,"codeOnly",null,[g.PropColumnsAlignment]),g.PropColumnPivotTableAutoSizeColumns=new n(g.ObjectColumnHeaders,"autoSizeColumnWidth",!0,"codeOnly"),g.PropColumnsWordWrap=new n(g.ObjectColumnHeaders,"wordWrap",!1,"codeOnly"),g.PropColumnsOutlineWeight=new n(g.ObjectColumnHeaders,"outlineWeight",void 0,"attribute"),g.PropColumnsUrlIcon=new n(g.ObjectColumnHeaders,"urlIcon",!1,"codeOnly"),g.PropColumnsFontSize=new n(g.ObjectColumnHeaders,"fontSize",void 0,"attribute",void 0,[g.PropGridPivotTableTextSize]),g.PropColumnsBold=new n(g.ObjectColumnHeaders,"bold",!1,"codeOnly"),g.PropColumnsItalic=new n(g.ObjectColumnHeaders,"italic",!1,"codeOnly"),g.PropColumnsUnderline=new n(g.ObjectColumnHeaders,"underline",!1,"codeOnly"),g.PropRowsSteppedLayout=new n(g.ObjectRowHeaders,"stepped",!0,"codeOnly"),g.PropRowsSteppedLayoutIndentation=new n(g.ObjectRowHeaders,"steppedLayoutIndentation",10,"attribute"),g.PropRowsFontFamily=new n(g.ObjectRowHeaders,"fontFamily",o.Wn.regular.css,"attribute"),g.PropRowsOutline=new n(g.ObjectRowHeaders,"outline",c.RH,"codeOnly"),g.PropRowsPivotTableOutline=new n(g.ObjectRowHeaders,"outline",void 0,"codeOnly"),g.PropRowsOutlineStyle=new n(g.ObjectRowHeaders,"outlineStyle",void 0,"codeOnly"),g.PropRowsAlignment=new n(g.ObjectRowHeaders,"alignment",i.d7,"codeOnly"),g.PropRowsWordWrap=new n(g.ObjectRowHeaders,"wordWrap",!1,"codeOnly"),g.PropRowsOutlineWeight=new n(g.ObjectRowHeaders,"outlineWeight",void 0,"attribute"),g.PropRowsUrlIcon=new n(g.ObjectRowHeaders,"urlIcon",!1,"codeOnly"),g.PropRowsFontSize=new n(g.ObjectRowHeaders,"fontSize",void 0,"attribute",void 0,[g.PropGridPivotTableTextSize]),g.PropRowsShowExpandCollapseButtons=new n(g.ObjectRowHeaders,"showExpandCollapseButtons",!1,"codeOnly"),g.PropRowsExpandCollapseButtonsSize=new n(g.ObjectRowHeaders,"expandCollapseButtonsSize",void 0,"attribute",void 0,[g.PropRowsFontSize]),g.PropRowsBold=new n(g.ObjectRowHeaders,"bold",!1,"codeOnly"),g.PropRowsItalic=new n(g.ObjectRowHeaders,"italic",!1,"codeOnly"),g.PropRowsUnderline=new n(g.ObjectRowHeaders,"underline",!1,"codeOnly"),g.PropRowsExpandCompositeHierarchy=new n(g.ObjectRowHeaders,"expandCompositeHierarchy",!1,"codeOnly"),g.PropValuesFontFamily=new n(g.ObjectValues,"fontFamily",o.Wn.regular.css,"attribute"),g.PropValuesBandedRowHeaders=new n(g.ObjectValues,"bandedRowHeaders",!0,"codeOnly"),g.PropValuesOutline=new n(g.ObjectValues,"outline",c.YP,"codeOnly"),g.PropValuesOutlineStyle=new n(g.ObjectValues,"outlineStyle",void 0,"codeOnly"),g.PropValuesNewVisualOutline=new n(g.ObjectValues,"outline",void 0,"codeOnly"),g.PropValuesUrlIcon=new n(g.ObjectValues,"urlIcon",!1,"codeOnly"),g.PropValuesWordWrap=new n(g.ObjectValues,"wordWrap",!1,"codeOnly"),g.PropValuesOutlineWeight=new n(g.ObjectValues,"outlineWeight",void 0,"attribute"),g.PropValuesOnRow=new n(g.ObjectValues,"valuesOnRow",!1,"attribute"),g.PropValuesFontSize=new n(g.ObjectValues,"fontSize",void 0,"attribute",void 0,[g.PropGridPivotTableTextSize]),g.PropValuesIcon=new n(g.ObjectValues,"icon",void 0,"attribute"),g.PropValuesWebURL=new n(g.ObjectValues,"webURL",void 0,"attribute"),g.PropValuesBold=new n(g.ObjectValues,"bold",!1,"codeOnly"),g.PropValuesItalic=new n(g.ObjectValues,"italic",!1,"codeOnly"),g.PropValuesUnderline=new n(g.ObjectValues,"underline",!1,"codeOnly"),g.PropTotalTableExTotals=new n(g.ObjectTotal,"totals",!0,"codeOnly"),g.PropTotalTableExTotalLabel=new n(g.ObjectTotal,"label",null,"safeTextContent"),g.PropTotalOutline=new n(g.ObjectTotal,"outline",c.j0,"codeOnly"),g.PropTotalTableExOutline=new n(g.ObjectTotal,"outline",void 0,"codeOnly"),g.PropTotalOutlineStyle=new n(g.ObjectTotal,"outlineStyle",void 0,"codeOnly"),g.PropTotalOutlineWeight=new n(g.ObjectTotal,"outlineWeight",void 0,"attribute"),g.PropTotalFontFamily=new n(g.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[g.PropValuesFontFamily]),g.PropTotalFontSize=new n(g.ObjectTotal,"fontSize",void 0,"attribute",void 0,[g.PropValuesFontSize]),g.PropTotalBold=new n(g.ObjectTotal,"bold",!0,"codeOnly"),g.PropTotalItalic=new n(g.ObjectTotal,"italic",!1,"codeOnly"),g.PropTotalUnderline=new n(g.ObjectTotal,"underline",!1,"codeOnly"),g.PropSubTotalsPivotTableRowSubtotals=new n(g.ObjectSubTotals,"rowSubtotals",!0,"codeOnly"),g.PropSubTotalsPivotTableRowSubtotalsLabel=new n(g.ObjectSubTotals,"rowSubtotalsLabel",null,"safeTextContent"),g.PropSubTotalsPivotTableRowSubtotalsPerLevel=new n(g.ObjectSubTotals,"perRowLevel",!1,"codeOnly"),g.PropSubTotalsPivotTableColumnSubtotals=new n(g.ObjectSubTotals,"columnSubtotals",!0,"codeOnly"),g.PropSubTotalsPivotTableColumnSubtotalsLabel=new n(g.ObjectSubTotals,"columnSubtotalsLabel",null,"safeTextContent"),g.PropSubTotalsPivotTableColumnSubtotalsPerLevel=new n(g.ObjectSubTotals,"perColumnLevel",!1,"codeOnly"),g.PropSubTotalsPivotTableLevelSubtotalEnabled=new n(g.ObjectSubTotals,"levelSubtotalEnabled",!0,"codeOnly"),g.PropSubTotalsPivotTableLevelSubtotalLabel=new n(g.ObjectSubTotals,"levelSubtotalLabel",null,"safeTextContent"),g.PropSubTotalsPivotTableRowSubtotalsPosition=new n(g.ObjectSubTotals,"rowSubtotalsPosition",void 0,"codeOnly",function(L,M,T){var O=(0,v.NA)(L,M,T);return null!=O?O:g.PropRowsSteppedLayout.getValue(L)?r.we:r.I}),g.PropSubTotalsApplyToHeaders=new n(g.ObjectSubTotals,"applyToHeaders",!1,"codeOnly"),g.PropSubTotalsFontFamily=new n(g.ObjectSubTotals,"fontFamily",void 0,"attribute",void 0,[g.PropValuesFontFamily]),g.PropSubTotalsFontSize=new n(g.ObjectSubTotals,"fontSize",void 0,"attribute",void 0,[g.PropValuesFontSize]),g.PropSubTotalsBold=new n(g.ObjectSubTotals,"bold",!0,"codeOnly"),g.PropSubTotalsItalic=new n(g.ObjectSubTotals,"italic",!1,"codeOnly"),g.PropSubTotalsUnderline=new n(g.ObjectSubTotals,"underline",!1,"codeOnly"),g.PropGrandTotalApplyToHeaders=new n(g.ObjectTotal,"applyToHeaders",!1,"codeOnly"),g.PropGrandTotalFontFamily=new n(g.ObjectTotal,"fontFamily",void 0,"attribute",void 0,[g.PropSubTotalsFontFamily]),g.PropGrandTotalFontSize=new n(g.ObjectTotal,"fontSize",void 0,"attribute",void 0,[g.PropSubTotalsFontSize]),g.PropGrandTotalBold=new n(g.ObjectTotal,"bold",!0,"codeOnly"),g.PropGrandTotalItalic=new n(g.ObjectTotal,"italic",!1,"codeOnly"),g.PropGrandTotalUnderline=new n(g.ObjectTotal,"underline",!1,"codeOnly"),g.PropColumnGrandTotalApplyToHeaders=new n(g.ObjectColumnTotal,"applyToHeaders",!1,"codeOnly"),g.PropColumnGrandTotalFontFamily=new n(g.ObjectColumnTotal,"fontFamily",void 0,"attribute",void 0,[g.PropSubTotalsFontFamily]),g.PropColumnGrandTotalFontSize=new n(g.ObjectColumnTotal,"fontSize",void 0,"attribute",void 0,[g.PropSubTotalsFontSize]),g.PropColumnGrandTotalBold=new n(g.ObjectColumnTotal,"bold",!0,"codeOnly"),g.PropColumnGrandTotalItalic=new n(g.ObjectColumnTotal,"italic",!1,"codeOnly"),g.PropColumnGrandTotalUnderline=new n(g.ObjectColumnTotal,"underline",!1,"codeOnly"),g.PropRowGrandTotalApplyToHeaders=new n(g.ObjectRowTotal,"applyToHeaders",!1,"codeOnly"),g.PropRowGrandTotalFontFamily=new n(g.ObjectRowTotal,"fontFamily",void 0,"attribute",void 0,[g.PropSubTotalsFontFamily]),g.PropRowGrandTotalFontSize=new n(g.ObjectRowTotal,"fontSize",void 0,"attribute",void 0,[g.PropSubTotalsFontSize]),g.PropRowGrandTotalBold=new n(g.ObjectRowTotal,"bold",!0,"codeOnly"),g.PropRowGrandTotalItalic=new n(g.ObjectRowTotal,"italic",!1,"codeOnly"),g.PropRowGrandTotalUnderline=new n(g.ObjectRowTotal,"underline",!1,"codeOnly"),g.PropColumnFormattingDisplayUnits=new n(g.ObjectColumnFormatting,"labelDisplayUnits",1,"codeOnly",v.NA),g.PropColumnFormattingPrecision=new n(g.ObjectColumnFormatting,"labelPrecision",void 0,"codeOnly",v.NA),g.PropColumnFormattingAlignment=new n(g.ObjectColumnFormatting,"alignment",i.d7,"codeOnly"),g.PropColumnFormattingStyleHeader=new n(g.ObjectColumnFormatting,"styleHeader",!1,"codeOnly"),g.PropColumnFormattingStyleValues=new n(g.ObjectColumnFormatting,"styleValues",!0,"codeOnly"),g.PropColumnFormattingStyleSubtotals=new n(g.ObjectColumnFormatting,"styleSubtotals",!0,"codeOnly"),g.PropColumnFormattingDataBars=new n(g.ObjectColumnFormatting,"dataBars",void 0,"codeOnly"),g.PropSparklinesChartType=new n(g.ObjectSparklines,"chartType",s.jv,"codeOnly"),g.PropSparklinesStrokeWidth=new n(g.ObjectSparklines,"strokeWidth",1,"attribute"),g.PropSparklinesMarkerType=new n(g.ObjectSparklines,"markers",u.qC,"codeOnly"),g.PropSparklinesMarkerSize=new n(g.ObjectSparklines,"markerSize",3,"attribute"),g.PropSparklinesMarkerShape=new n(g.ObjectSparklines,"markerShape",h.Xw,"codeOnly"),g.PropColumnFormattingStyleTotal=new n(g.ObjectColumnFormatting,"styleTotal",!1,"codeOnly"),g.PropColumnWidthValue=new n(g.ObjectColumnWidth,"value",void 0,"attribute"),g.PropAltTextValue=new n(g.ObjectAccessibility,"altTextColumns",void 0,"attribute"),g.ProprowWithReferenceText=new n(g.ObjectAccessibility,"rowWithReferenceText",void 0,"attribute"),g.PropUnfrozenRowHeaders=new n(g.ObjectRowHeaders,"unfrozen",!1,"codeOnly"),g}()},9025:function(Xe,H,t){t.d(H,{WD:function(){return I},dz:function(){return M}});var e=t(973188),l=t(566464),o=t(498342),d=t(366769),v=t(963470),S=t(417657),h=t(533462),c=t(102794),r=t(375814),s=t(59377),u=t(19959),i=t(341648),a=t(771711),n=(0,l.CH)("tooltip-container"),m=(0,l.CH)("tooltip-light"),f=(0,l.CH)("tooltip-content-container"),V=(0,l.CH)("tooltip-data-container"),p=(0,l.CH)("tooltip-icon-cell"),C=(0,l.CH)("tooltip-line-icon"),b=(0,l.CH)("tooltip-marker-icon"),y=(0,l.CH)("tooltip-header"),D=(0,l.CH)("tooltip-subheader"),P=(0,l.CH)("tooltip-footer"),F=(0,l.CH)("tooltip-discoverabilityText"),E=(0,l.CH)("tooltip-row"),w=(0,l.CH)("tooltip-title-cell"),x=(0,l.CH)("tooltip-value-cell"),R=(0,l.CH)("tooltip-kpi-cell"),g=(0,l.CH)("arrow"),L=i.B.createFromPt(9),M={titleFontProperties:{color:"#C8C8C8",family:d.Wn.regular.css,size:L,weight:"700"},valueFontProperties:{color:"#EAEAEA",family:d.Wn.semibold.css,size:L,weight:"700"},actionFontProperties:{color:"#EAEAEA",family:d.Wn.regular.css,size:i.B.createFromPx(10)},background:{solid:{color:"#333333"}},transparency:5},I=function(){function B(){}return B.prototype.create=function(){var U=$("<div>").get(0);return(this.container=d3.select(U).classed(f.class,!0)).append("div").classed(V.class,!0).style("direction","ltr"),U},B.prototype.update=function(U){if(null==U.style&&(U.style=M),o.fF.assert(function(){return!!U.style.titleFontProperties},"Title Font Properties Should Be Defined"),o.fF.assert(function(){return!!U.style.valueFontProperties},"Value Font Properties Should Be Defined"),!_.isEqual(U,this.currentData)&&(this.currentData=U,this.textTitleFontProperty=(0,c.qk)(U.style.titleFontProperties),this.textValueFontProperty=(0,c.qk)(U.style.valueFontProperties),this.container.data)){var W=this.buildViewModel(U),j=this.dataContainer=this.dataContainer||this.container.select(V.selector);j.selectAll(D.selector).remove(),j.selectAll(y.selector).remove(),j.selectAll(E.selector).remove(),j.selectAll(P.selector).remove(),j.selectAll(F.selector).remove();var K=this.renderSubeader(j,W),ee=this.renderHeader(j,W);this.updateTooltipRows(j,W.rows);var ie=this.renderDiscoverabilityText(j,W);this.renderFooter(j,W);var he=d3.select(n.selector),q=he.node()&&he.classed(m.class),Y=he.selectAll(g.selector),G=he.selectAll(f.selector),me=he.select(V.selector).selectAll(w.selector),re=he.select(V.selector).selectAll(x.selector),le=this.currentData.style;if(q)return this.container.styles({"background-color":null,"font-family":null,opacity:null}),void Y.styles({"border-right-color":null,"border-left-color":null,opacity:null});Y.styles({"border-right-color":le.background&&le.background.solid.color,"border-left-color":le.background&&le.background.solid.color,opacity:1-le.transparency/100}),ee.styles((0,c.jB)(function(){return le.valueFontProperties})),K.styles((0,c.jB)(function(){return le.valueFontProperties})),G.styles({"background-color":le.background&&le.background.solid.color,opacity:1-le.transparency/100}),me.styles((0,c.jB)(function(){return le.titleFontProperties})),re.styles((0,c.jB)(function(){return le.valueFontProperties})),ie&&le.discoverabilityFontProperties&&ie.styles((0,c.jB)(function(){return le.discoverabilityFontProperties}))}},B.prototype.renderHeader=function(U,W){var j=U.selectAll(y.selector).data(_.filter([W.header],function(ee){return!!ee})),K=j.enter().append("div").attr("class",y.class).merge(j);return K.text(W.header),j.exit().remove(),K},B.prototype.renderSubeader=function(U,W){var j=U.selectAll(D.selector).data(_.filter([W.subheader],function(ee){return!!ee})),K=j.enter().append("div").attr("class",D.class).merge(j);return K.text(W.subheader),j.exit().remove(),K},B.prototype.renderFooter=function(U,W){var j=U.selectAll(P.selector).data(_.filter([W.footer],function(ee){return!!ee})),K=j.enter().append("div").attr("class",P.class).merge(j);return K.text(W.footer),j.exit().remove(),K},B.prototype.renderDiscoverabilityText=function(U,W){var j=U.selectAll(F.selector).data(_.filter([W.discoverabilityText],function(ee){return!!ee})),K=j.enter().append("div").attr("class",F.class).merge(j);return K.text(W.discoverabilityText),j.exit().remove(),K},B.prototype.updateTooltipRows=function(U,W){U.selectAll(E.selector).remove();var j=U.selectAll(E.selector).data(W),K=j.enter().append("div").classed(E.class,!0).merge(j),ee=K.selectAll(p.selector).data(function(pe){return _.filter([pe.icon],function(fe){return void 0!==fe})}),ie=ee.enter().append("div").classed(p.class,!0),he=ie.append("svg").attr("height","15px");he.append("path").classed(C.class,!0).styles({"stroke-opacity":"1","stroke-width":"2"}),he.append("path").classed(b.class,!0);var q=ie.merge(ee),Y=function(fe){var oe;return null===(oe=null==fe?void 0:fe.line)||void 0===oe?void 0:oe.lineStyle},G=function(fe){return(0,S.aI)(Y(fe)?15.5:5,8,5/u.UI)},me=function(fe){var oe;return null===(oe=null==fe?void 0:fe.marker)||void 0===oe?void 0:oe.color},re=function(fe){var oe,ye;return null!==(ye=null===(oe=null==fe?void 0:fe.marker)||void 0===oe?void 0:oe.opacity)&&void 0!==ye?ye:1};q.style("max-width",function(pe){return Y(pe)?"31px":"13px"}),q.selectAll("svg").attr("width",function(pe){return Y(pe)?31:"100%"}),q.selectAll(C.selector).attrs({transform:G,d:function(fe){return Y(fe)?"M 0 0 M -15.5 0 L 15.5 0":null}}).styles({stroke:function(fe){var oe;return null===(oe=null==fe?void 0:fe.line)||void 0===oe?void 0:oe.lineColor},"stroke-dasharray":function(fe){return Y(fe)?(0,s.XG)(fe.line.lineStyle):null}}),q.selectAll(b.selector).attrs({transform:G,d:function(fe){var oe;return(0,u.DW)((null===(oe=null==fe?void 0:fe.marker)||void 0===oe?void 0:oe.markerShape)||a.LS)}}).styles({fill:me,stroke:me,"fill-opacity":re,"stroke-opacity":re});var le=K.selectAll(w.selector).data(function(pe){return _.filter([pe.displayNameRows],function(fe){return!!fe})}),Ee=le.enter().append("div").classed(w.class,!0).merge(le);this.buildTextRows(Ee,this.textTitleFontProperty,260);var Ne=K.selectAll(x.selector).data(function(pe){return _.filter([pe.valueRows],function(fe){return!_.isEmpty(fe)})}),Ye=Ne.enter().append("div").classed(x.class,!0).merge(Ne);this.buildTextRows(Ye,this.textValueFontProperty,260);var Je=K.selectAll(R.selector).data(function(pe){return _.filter([pe.kpi],function(fe){return!!fe})});Je.enter().append("div").styles({"vertical-align":"middle",margin:0}).merge(Je).attr("class",function(pe){return"".concat(R.class," ").concat((0,r.sq)(pe.metadata,pe.value))}),K.each(function(pe){var fe=pe.extraPadding;null!=fe&&d3.selectAll(this.children).style("padding-top","top"===fe?"5px":null).style("padding-bottom","bottom"===fe?"5px":null)}),ee.exit().remove(),le.exit().remove(),Ne.exit().remove(),Je.exit().remove(),j.exit().remove()},B.prototype.buildTextRows=function(U,W,j){var K=U.selectAll("div").data(function(ie){return ie});K.enter().append("div").merge(K).text(function(ie){var he=(0,e.__assign)((0,e.__assign)({},W),{text:ie});return v.b.getTailoredTextOrDefault(he,j)}),K.exit().remove()},B.prototype.updateOptions=function(U){if(this.dataContainer){var W=U.dataContainerWidth;this.dataContainer.style("width",null!=W?"".concat(W,"px"):"")}},B.prototype.buildViewModel=function(U){var W=this,j=U.items,K=_.chain(j).filter(function(_e){return W.isValidDataItem(_e)}).map(function(_e){return W.buildRowViewModel(_e,U.style.titleFontProperties.color)}).value();this.distributeRows(K,U.bounds);for(var ee=_.head(j),ie=ee&&ee.header,he=ee&&ee.subheader,q=_.last(j),Y=U.discoverabilityText,G=q&&q.footer,me=!1,re=!1,le=0,Ee=K;le<Ee.length;le++){var Ne=Ee[le];if(!me&&Ne.icon&&(me=!0),!re&&(Ne.valueRows||Ne.kpi)&&(re=!0),me&&re)break}for(var Ye=0,Je=K;Ye<Je.length;Ye++)Ne=Je[Ye],me&&void 0===Ne.icon&&(Ne.icon=null),re&&void 0===Ne.valueRows&&null==Ne.kpi&&(Ne.valueRows=[]);return{footer:G,hasIcons:me,hasValues:re,header:ie,subheader:he,rows:K,discoverabilityText:Y}},B.prototype.buildRowViewModel=function(U,W){var j,K;W&&(U.markerShape===a.m9||U.markerShape===a.yf)&&(U.color=W),U.color&&(j={line:{lineColor:U.lineColor,lineStyle:U.lineStyle},marker:{color:U.color,opacity:U.opacity,markerShape:U.markerShape}},U.markerShape===a.yf&&(K="top"),U.markerShape===a.m9&&(K="bottom"));var ee={displayNameRows:[U.displayName],icon:j,kpi:U.kpiValue,valueRows:null!=U.value?[U.value]:void 0,extraPadding:K};return U.kpiValue&&(void 0!==ee.valueRows&&(o.fF.assertFail("Should not have a `value` and a `kpiValue`"),ee.valueRows=void 0),ee.kpi=U.kpiValue),ee},B.prototype.isValidDataItem=function(U){return U?null!=U.displayName&&"string"!=typeof U.displayName?(o.fF.assertFail("Tooltip datapoint displayName must be a string"),!1):null==U.value||"string"==typeof U.value||(o.fF.assertFail("Tooltip datapoint value must be a string"),!1):(o.fF.assertFail("Tooltip datapoint must not be null/undefined"),!1)},B.prototype.getRowHeight=function(){return Math.max(v.b.estimateSvgTextHeight(this.textTitleFontProperty),v.b.estimateSvgTextHeight(this.textValueFontProperty))},B.prototype.distributeRows=function(U,W){for(var ee=W.height/this.getRowHeight(),ie=0,he=[],q=[],Y=[],G=[],me=function(_e){var pe=U[_e];o.fF.assert(function(){return 1===pe.displayNameRows.length},"Expected `displayNameRows` to have 1 row"),o.fF.assert(function(){return null==pe.valueRows||1===pe.valueRows.length},"Expected `valueRows` to be `undefined` or have 1 row");var oe=Y[_e]=(0,h.ql)(pe.displayNameRows[0],re.textTitleFontProperty,v.b.measureSvgTextWidth,260,ee,null,!1,!0),ye=void 0;null!=pe.valueRows&&(ye=G[_e]=(0,h.ql)(pe.valueRows[0],re.textValueFontProperty,v.b.measureSvgTextWidth,260,ee,null,!1,!0));var Be=Math.max(oe.length,ye?ye.length:0);he.push(Be),ie+=Be},re=this,le=0;le<U.length;le++)me(le);if(ie<=ee)q=he;else{var Ee=ee-U.length;for(le=0;le<U.length;le++)q[le]=1+Math.round(Math.max(Ee,0)*(he[le]/ee))}for(le=0;le<U.length;le++){var Ne=U[le];Ne.displayNameRows=this.getRows(Y[le],q[le]),G[le]&&(Ne.valueRows=this.getRows(G[le],q[le]))}},B.prototype.getRows=function(U,W){return U.length>W+1?U[W-1]+=U[W]+"\u2026":U.length>W&&(U[W-1]+=U[W]),U.slice(0,W)},B}()},862752:function(Xe,H,t){t.d(H,{y:function(){return w},G:function(){return x}});var e=t(498342),l=t(470081),o=t(789015);function d(R,g,L,M){return new v(R,g,L,M)}var v=function(){function R(g,L,M,T){if(this.columnReader=g,this.objectReader=L,this.dataReader=M,T&&T.colorOptions){this.style=T.colorOptions.visualStyle,this.valueRole=T.colorOptions.valueRole;var O=(0,l.W7)(this.objectReader.getStaticObjects(),R.defaultColorProp),N=(0,l.W7)(this.objectReader.getStaticObjects(),R.fillProp);this.colorHelper=o.v.create(this.style,R.fillProp,T.colorOptions.ignoreDefaultColor?void 0:O,T.colorOptions.ignoreDefaultCategoryColor?void 0:N),this.colorReaderIsValid=!0}else this.colorReaderIsValid=!1}return R.prototype.createByCategory=function(g,L){if(this.colorReaderIsValid)return this.colorHelper.getColorForSeriesValue(this.objectReader.getCategoryDataObjects(g),this.columnReader.getCategoryColumnIdentityFields(),this.getCategoryValueForColor(g),L);e.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},R.prototype.createBySeries=function(g,L,M,T){if(this.colorReaderIsValid){var O="",N=this.columnReader.getStaticRoleInfo(g);return N&&N.roleToUse&&(O=this.columnReader.getValueQueryName(N.roleToUse,N.seriesIndexToUse)||""),this.columnReader.hasDynamicSeries()?this.colorHelper.getColorForSeriesValue(this.objectReader.getSeriesDataObjects(g),this.columnReader.getDynamicSeriesColumnIdentityFields(),this.dataReader.getSeriesName(g),M,T):this.columnReader.hasStaticSeries()?this.colorHelper.getColorForStaticSeries(this.objectReader.getSeriesDataObjects(g),O,M,T):this.columnReader.hasCategories()&&null!=L?this.colorHelper.getColorForMeasure(this.objectReader.getCategoryDataObjects(L),O,M,T):this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(this.valueRole,g),O,M,T)}e.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},R.prototype.createByValue=function(g,L){if(this.colorReaderIsValid){var M=this.columnReader.getStaticRoleInfo(g);if(M&&null!=M.roleToUse){var T=this.columnReader.getValueQueryName(M.roleToUse,0)||"";return this.colorHelper.getColorForMeasure(this.objectReader.getValueMetadataObjects(M.roleToUse,M.seriesIndexToUse),T,L)}e.fF.assertFail("You cannot use colors.createByValue if you do not initialize the reader with a valueRole in colorOptions.")}else e.fF.assertFail("You must create the DataViewCategoricalReader with color options to use color functions.")},R.prototype.getCategoryValueForColor=function(g){var L=this.columnReader.getAllCategoryColumns();if(L)return _.head(L).values[g]},R.defaultColorProp={objectName:"dataPoint",propertyName:"defaultColor"},R.fillProp={objectName:"dataPoint",propertyName:"fill"},R}(),S=t(921449);function h(R,g){return new c(R,g)}var c=function(){function R(g,L){var M,T,O;if(e.fF.assertValue(g,"dataView"),this.dataView=g,g&&(M=g.categorical),M&&(T=this.categories=M.categories),this.hasValidCategories=!_.isEmpty(T),L&&(this.staticSeriesRoleNames=L.staticSeriesRoleNames),M&&(O=M.values),this.dataHasAnyValidValues=!1,null!=O){var N=g.categorical.values.grouped(),A={};if(N.length>0){this.grouped=N;var I=N[0].values;this.dataHasAnyValidValues=!!N[0].identity||!_.isEmpty(I)&&!_.isEmpty(I[0].values);for(var B=0,U=I.length;B<U;B++){var W=I[B].source.roles;for(var j in W)W[j]&&(A[j]||(A[j]=[]),A[j].push(B))}}this.valueRoleIndexMapping=A,this.dataHasDynamicSeries=!!this.dataView.categorical.values.source}var K=this.totalStaticSeriesCount=this.getValueColumnCount(this.staticSeriesRoleNames);this.dataHasStaticSeries=!this.dataHasDynamicSeries&&K>1}return R.prototype.hasCategories=function(){return this.hasValidCategories},R.prototype.hasCategoryWithRole=function(g){return-1!==(0,S.pc)(this.categories,g)},R.prototype.getCategoryCount=function(){return this.hasValidCategories?_.last(this.categories).values.length:0},R.prototype.hasCompositeCategories=function(){return!!this.hasValidCategories&&this.categories.length>1},R.prototype.getCategoryColumn=function(g){if(this.hasValidCategories){var L=this.categories;return L[g?(0,S.pc)(L,g):0]}},R.prototype.getCategoryMetadataColumn=function(g){var L=this.getCategoryColumn(g);if(L)return L.source},R.prototype.getCategoryColumnIdentityFields=function(g){var L=this.getCategoryColumn(g);return L?L.identityFields:void 0},R.prototype.getAllCategoryColumns=function(g){if(null==g)return this.categories;if(this.hasValidCategories){var L=this.categories,M=g?(0,S.zT)(L,g):[0];return _.map(M,function(T){return L[T]})}return[]},R.prototype.hasValues=function(g){return!!this.valueRoleIndexMapping&&!_.isEmpty(this.valueRoleIndexMapping[g])},R.prototype.hasAnyValidValues=function(){return this.dataHasAnyValidValues},R.prototype.getValueColumnCount=function(g){var M,L=this,T=0;return"string"==typeof g?this.valueRoleIndexMapping&&this.hasValues(g)&&(T=null===(M=this.valueRoleIndexMapping[g])||void 0===M?void 0:M.length):this.valueRoleIndexMapping&&Array.isArray(g)&&(T=_.sum(_.map(g,function(O){var N;return null===(N=L.valueRoleIndexMapping[O])||void 0===N?void 0:N.length}))),T},R.prototype.hasHighlights=function(){return!!(this.grouped&&this.grouped[0]&&this.grouped[0].values[0])&&!_.isEmpty(this.grouped[0].values[0].highlights)},R.prototype.getValueColumn=function(g,L){if(void 0===L&&(L=0),this.hasValues(g))return this.dataHasDynamicSeries?this.getValueColumnInternal(g,L,0):this.getValueColumnInternal(g,0,L)},R.prototype.getValueColumnBySeries=function(g){var L=this.getStaticRoleInfo(g);if(L)return this.getValueColumn(L.roleToUse,L.seriesIndexToUse)},R.prototype.getAllValueColumnsForRole=function(g,L){if(void 0===L&&(L=0),this.hasValues(g)){for(var T=this.valueRoleIndexMapping[g].length,O=[],N=0;N<T;N++)O.push(this.getValueColumnInternal(g,L,N));return O}},R.prototype.getValueColumnInternal=function(g,L,M){if(this.hasValues(g))return this.grouped[L].values[this.valueRoleIndexMapping[g][M]]},R.prototype.getValueMetadataColumn=function(g,L){void 0===L&&(L=0);var M=this.getValueColumn(g,L);if(M)return M.source},R.prototype.getValueMetadataColumnBySeries=function(g){var L=this.getValueColumnBySeries(g);if(L)return L.source},R.prototype.getAllValueMetadataColumnsForRole=function(g,L){if(void 0===L&&(L=0),this.hasValues(g))return _.map(this.getAllValueColumnsForRole(g,L),function(M){return M.source})},R.prototype.getAllMetadataRelatedObjects=function(){var g=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(g=_.filter(this.dataView.metadata.columns,function(L){return null!=L.relatedObjects})),_.isEmpty(g)?void 0:g},R.prototype.getValueQueryName=function(g,L){var M=this.getValueMetadataColumn(g,L);if(M)return M.queryName},R.prototype.getAllValueQueryNames=function(g,L){var M=this.getAllValueMetadataColumnsForRole(g,L);if(!_.isEmpty(M))return _.map(M,function(T){return T.queryName})},R.prototype.getAllValueRoles=function(){var g=_.keys(this.valueRoleIndexMapping);if(!_.isEmpty(g))return g},R.prototype.hasDynamicSeries=function(){return this.dataHasDynamicSeries},R.prototype.hasStaticSeries=function(){return this.dataHasStaticSeries},R.prototype.getSeriesCount=function(g){return this.dataHasAnyValidValues?this.dataHasDynamicSeries?g&&!this.hasValues(g)?0:this.grouped.length:_.isEmpty(this.staticSeriesRoleNames)?this.grouped?this.grouped.length:0:g?this.getValueColumnCount(g):this.totalStaticSeriesCount:0},R.prototype.getSeriesValueColumns=function(){var g=this.dataHasDynamicSeries;if(e.fF.assert(function(){return g},"getSeriesValueColumns should not be called when there is no dynamic series"),g)return this.dataView.categorical.values},R.prototype.getSeriesMetadataColumn=function(){var g=this.getSeriesValueColumns();if(g)return g.source},R.prototype.getSeriesValueColumnGroup=function(g){var L=this.dataHasDynamicSeries;if(e.fF.assert(function(){return L},"getSeriesValueColumnGroup should not be called when there is no dynamic series"),this.dataHasAnyValidValues&&L)return this.grouped[g]},R.prototype.getDynamicSeriesColumnIdentityFields=function(){var g=this.getSeriesValueColumns();return g?g.identityFields:void 0},R.prototype.getStaticObjects=function(){if(this.dataView&&this.dataView.metadata&&this.dataView.metadata.objects)return this.dataView.metadata.objects},R.prototype.getMetadataColumns=function(g){var L=[];return this.dataView&&this.dataView.metadata&&this.dataView.metadata.columns&&(L=_.filter(this.dataView.metadata.columns,function(M){return null!=M.roles&&!0===M.roles[g]})),_.isEmpty(L)?void 0:L},R.prototype.getStaticRoleInfo=function(g){if(!this.seriesIndexToRoleInfoMap&&(this.seriesIndexToRoleInfoMap={},this.staticSeriesRoleNames))for(var L=0,M=0,T=this.staticSeriesRoleNames;M<T.length;M++)for(var O=T[M],N=this.getSeriesCount(O),A=0;A<N;A++)this.seriesIndexToRoleInfoMap[L]={roleToUse:O,seriesIndexToUse:A},L++;return this.seriesIndexToRoleInfoMap[g]},R}(),r=t(973188),s=t(812454),u=t(854883);function i(R,g){return new a(R,g)}var a=function(){function R(g,L){this.columnReader=g,this.dataHasDynamicSeries=g.hasDynamicSeries(),this.dataHasStaticSeries=g.hasStaticSeries(),L&&(this.staticSeriesRoleNames=L.staticSeriesRoleNames,this.formatStringProp=L.formatStringProp,this.errorRangeProp=L.errorRangeProp)}return R.prototype.hasCategories=function(){return this.columnReader.hasCategories()},R.prototype.hasCategoryWithRole=function(g){return this.columnReader.hasCategoryWithRole(g)},R.prototype.hasCompositeCategories=function(){return this.columnReader.hasCompositeCategories()},R.prototype.getCategoryCount=function(){return this.columnReader.getCategoryCount()},R.prototype.getCategoryValue=function(g,L){var M=this.columnReader.getCategoryColumn(g);return M?M.values[L]:void 0},R.prototype.getAllCategoryValuesForRole=function(g,L){var M=this.columnReader.getAllCategoryColumns(g);return M?_.map(M,function(T){return T.values[L]}):void 0},R.prototype.getCategoryMetadataColumn=function(g){var L=this.columnReader.getCategoryColumn(g);return L?L.source:void 0},R.prototype.getCategoryDisplayName=function(g){var L=this.columnReader.getCategoryColumn(g);if(L&&L.source)return L.source.displayName},R.prototype.getAllCategoryDisplayNamesForRole=function(g){var L=this.columnReader.getAllCategoryColumns(g);if(L)return _.map(L,function(M){return M.source&&M.source.displayName})},R.prototype.getCategoryType=function(g){var L=this.columnReader.getCategoryMetadataColumn(g);if(L)return L.type},R.prototype.hasValues=function(g){return this.columnReader.hasValues(g)},R.prototype.hasHighlights=function(){return this.columnReader.hasHighlights()},R.prototype.getValue=function(g,L,M){if(void 0===M&&(M=0),this.hasValues(g)){var T=this.columnReader.getValueColumn(g,M);if(T)return T.values[L]}},R.prototype.getFormatString=function(g,L,M){if(void 0===M&&(M=0),e.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(g)){var T=this.columnReader.getValueColumn(g,M);if(T)return(0,l.NA)(T.objects&&T.objects[L],this.formatStringProp)}},R.prototype.hasProperty=function(g,L,M,T){var O,N;void 0===L&&(L=0),e.fF.assertValue(M,"propertyIdentifier");var A=this.columnReader.getStaticRoleInfo(L).roleToUse;if(!this.hasValues(A))return!1;var I=this.columnReader.getValueColumn(A,L);return!!I&&(T?I.highlightObjects&&I.highlightObjects[g]&&(null===(O=I.highlightObjects[g][M.objectName])||void 0===O?void 0:O.hasOwnProperty(M.propertyName)):I.objects&&I.objects[g]&&(null===(N=I.objects[g][M.objectName])||void 0===N?void 0:N.hasOwnProperty(M.propertyName)))},R.prototype.getObject=function(g,L,M,T,O){if(void 0===M&&(M=0),e.fF.assertValue(T,"propertyIdentifier"),this.hasValues(g)){var N=this.columnReader.getValueColumn(g,M);if(N)return(0,l.NA)(O?N.highlightObjects&&N.highlightObjects[L]:N.objects&&N.objects[L],T)}},R.prototype.getValueBySeries=function(g,L){var M=this.columnReader.getStaticRoleInfo(L);return this.getValue(M.roleToUse,g,M.seriesIndexToUse)},R.prototype.getObjectsBySeries=function(g,L,M,T){var O=this.columnReader.getStaticRoleInfo(L);return this.getObject(O.roleToUse,g,O.seriesIndexToUse,M,T)},R.prototype.getFormatStringBySeries=function(g,L){var M=this.columnReader.getStaticRoleInfo(L);return this.getFormatString(M.roleToUse,g,M.seriesIndexToUse)},R.prototype.getHighlight=function(g,L,M){var T=this;if(void 0===M&&(M=0),e.fF.assert(function(){return T.hasHighlights()},"getHighlight should not be called when there are no highlight values."),this.hasValues(g)&&this.hasHighlights()){var O=this.columnReader.getValueColumn(g,M);if(O)return O.highlights[L]}},R.prototype.getHighlightFormatString=function(g,L,M){var T=this;if(void 0===M&&(M=0),e.fF.assert(function(){return T.hasHighlights()},"getHighlightFormatString should not be called when there are no highlight values."),e.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(g)&&this.hasHighlights()){var O=this.columnReader.getValueColumn(g,M);if(O&&O.highlightObjects)return(0,l.NA)(O.highlightObjects[L],this.formatStringProp)}},R.prototype.getErrorValues=function(g,L,M){void 0===L&&(L=0),e.fF.assertValue(this.errorRangeProp,"formatStringProp");var T=this.columnReader.getStaticRoleInfo(L);if(T&&this.hasValues(T.roleToUse)){var O=this.columnReader.getValueColumn(T.roleToUse,T.seriesIndexToUse);if(O)return(0,l.NA)(M?O.highlightObjects&&O.highlightObjects[g]:O.objects&&O.objects[g],this.errorRangeProp)}},R.prototype.getHighlightBySeries=function(g,L){var M=this.columnReader.getStaticRoleInfo(L);return this.getHighlight(M.roleToUse,g,M.seriesIndexToUse)},R.prototype.getHighlightFormatStringBySeries=function(g,L){var M=this.columnReader.getStaticRoleInfo(L);return this.getHighlightFormatString(M.roleToUse,g,M.seriesIndexToUse)},R.prototype.getFormatStringForRelatedObject=function(g,L,M){var T,O,N=this.getMetadataColumnMatchingRelatedObject(g,L,M);return(null==N?void 0:N.format)||(null===(O=null===(T=null==N?void 0:N.objects)||void 0===T?void 0:T.general)||void 0===O?void 0:O.formatString.valueOf())},R.prototype.getMetadataColumnMatchingRelatedObject=function(g,L,M){var T=[],O=this.columnReader.getAllMetadataRelatedObjects();if(O){var N={data:[(0,u.Ue)(null!=M?M:1)]};L&&(T.push((0,r.__assign)((0,r.__assign)({},N),{highlightMatching:1,metadata:L})),T.push((0,r.__assign)((0,r.__assign)({},N),{metadata:L}))),T.push((0,r.__assign)((0,r.__assign)({},N),{highlightMatching:1})),T.push(N),T.push(void 0);for(var A=function(K){return O.find(function(ee){var ie,he,q=null===(he=null===(ie=ee.relatedObjects)||void 0===ie?void 0:ie[g.objectName])||void 0===he?void 0:he[g.propertyName];return q&&_.some(q,function(Y){return(0,s.fS)(Y,K)})})},I=0,B=T;I<B.length;I++){var W=A(B[I]);if(W)return W}}},R.prototype.getValueType=function(g,L){var M=this.columnReader.getValueMetadataColumn(g,L);if(M)return M.type},R.prototype.getAllValuesForRole=function(g,L,M){var T=this;if(void 0===M&&(M=0),e.fF.assert(function(){return!_.some(T.staticSeriesRoleNames,function(N){return N===g})},"getAllValuesForRole should not be called with a static series role.  Use getValue and a seriesIndex."),this.hasValues(g)){this.dataHasDynamicSeries||(M=0);var O=this.columnReader.getAllValueColumnsForRole(g,M);return _.map(O,function(N){return N.values[L]})}},R.prototype.getAllFormatStringsForRole=function(g,L,M){var T=this;if(void 0===M&&(M=0),e.fF.assert(function(){return!_.some(T.staticSeriesRoleNames,function(N){return N===g})},"getAllFormatStringsForRole should not be called with a static series role.  Use getValue and a seriesIndex."),e.fF.assertValue(this.formatStringProp,"formatStringProp"),this.hasValues(g)){this.dataHasDynamicSeries||(M=0);var O=this.columnReader.getAllValueColumnsForRole(g,M);return _.map(O,function(N){return(0,l.NA)(N.objects&&N.objects[L],T.formatStringProp)})}},R.prototype.getAllHighlightsForRole=function(g,L,M){var T=this;if(void 0===M&&(M=0),e.fF.assert(function(){return T.hasHighlights()},"getAllHighlightsForRole should not be called when there are no highlight values."),e.fF.assert(function(){return!_.some(T.staticSeriesRoleNames,function(N){return N===g})},"getAllHighlightsForRole should not be called with a static series role.  Use getHighlight and a seriesIndex."),this.hasValues(g)&&this.hasHighlights()){this.dataHasDynamicSeries||(M=0);var O=this.columnReader.getAllValueColumnsForRole(g,M);return _.map(O,function(N){return N.highlights[L]})}},R.prototype.getAllValueTypesForRole=function(g,L){var M=this.columnReader.getAllValueMetadataColumnsForRole(g,L);if(M)return _.map(M,function(T){return T.type})},R.prototype.getFirstNonNullValueForCategory=function(g,L){var M=this;if(this.hasValues(g)){var T=this.getSeriesCount();if(!this.dataHasDynamicSeries)return e.fF.assert(function(){return!M.dataHasStaticSeries},"getFirstNonNullValueForCategory shouldn't be called if you have a static series"),this.getValue(g,L);for(var O=0;O<T;O++){var N=this.getValue(g,L,O);if(null!=N)return N}}},R.prototype.getValueDisplayName=function(g){var L=this;if(e.fF.assert(function(){return!_.some(L.staticSeriesRoleNames,function(T){return T===g})||!L.columnReader.hasStaticSeries()},"getValueDisplayName shouldn't be called on the static series role if there is a static series.  Use getSeriesName."),this.hasValues(g)){var M=this.columnReader.getValueMetadataColumn(g);if(M)return M.displayName}},R.prototype.getAllValueDisplayNamesForRole=function(g){var L=this;if(e.fF.assert(function(){return!_.some(L.staticSeriesRoleNames,function(T){return T===g})},"getAllValueDisplayNamesForRole shouldn't be called on the static series role if you have a static series. Use getSeriesName."),this.hasValues(g)){var M=this.columnReader.getAllValueMetadataColumnsForRole(g);if(!_.isEmpty(M))return _.map(M,function(T){return T.displayName})}},R.prototype.getValueQueryName=function(g,L){return this.columnReader.getValueQueryName(g,L)},R.prototype.hasSeries=function(){return this.dataHasDynamicSeries||this.dataHasStaticSeries},R.prototype.getSeriesCount=function(){return this.columnReader.getSeriesCount()},R.prototype.getSeriesName=function(g){var L=this;if(e.fF.assert(function(){return L.hasSeries()},"getSeriesName should not be called when there is no series"),this.hasSeries())if(this.dataHasDynamicSeries){var M=this.columnReader.getSeriesValueColumnGroup(g);if(M)return M.name}else if(this.dataHasStaticSeries){var T=this.columnReader.getStaticRoleInfo(g);if(this.hasValues(T.roleToUse)){var O=this.columnReader.getValueMetadataColumnBySeries(g);if(O)return O.displayName}}},R.prototype.getSeriesDisplayName=function(){var g=this;if(e.fF.assert(function(){return g.hasSeries()},"getSeriesDisplayName should not be called when there is no series"),this.dataHasDynamicSeries)return this.columnReader.getSeriesValueColumns().source.displayName},R.prototype.getSeriesType=function(){var g=this.columnReader.getSeriesMetadataColumn();if(g)return g.type},R}(),n=t(366735);function m(R){return new f(R)}var f=function(){function R(g){this.columnReader=g,this.dataHasDynamicSeries=g.hasDynamicSeries(),this.dataHasStaticSeries=g.hasStaticSeries()}return R.prototype.createForCategory=function(g,L){var M,T=this.columnReader.getCategoryColumn();return(new n.dw).withCategory([T],g,null===(M=null==T?void 0:T.source)||void 0===M?void 0:M.queryName,!0).withMeasures(this.mapRolesToValueMetadata(L)).createSelectionId()},R.prototype.createForDataPoint=function(g,L,M){var T;(this.dataHasDynamicSeries||this.dataHasStaticSeries)&&e.fF.assert(function(){return null!=L},"A seriesIndex is required if you have a series");var O=this.columnReader.getCategoryColumn(),N=(new n.dw).withCategory([O],g,null===(T=null==O?void 0:O.source)||void 0===T?void 0:T.queryName,!0);return null!=L&&this.dataHasDynamicSeries&&N.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(L),!0),N.withMeasures(this.mapRolesToValueMetadata(M,L)),N.createSelectionId()},R.prototype.createForSeries=function(g,L){var M=new n.dw;return this.dataHasDynamicSeries&&M.withSeries(this.columnReader.getSeriesValueColumns(),this.columnReader.getSeriesValueColumnGroup(g),!0),M.withMeasures(this.mapRolesToValueMetadata(L,g)),M.createSelectionId()},R.prototype.createForValue=function(g,L){return(new n.dw).withMeasures(this.mapRolesToValueMetadata(L,g)).createSelectionId()},R.prototype.mapRolesToValueMetadata=function(g,L){var M=[],T=0,O=this.columnReader.hasStaticSeries(),N=this.columnReader.getStaticRoleInfo(L);null==g&&(g=this.columnReader.getAllValueRoles()||[]),O&&N&&M.push(this.columnReader.getValueQueryName(N.roleToUse,N.seriesIndexToUse));for(var A=g.length;T<A;T++){var I=g[T];(!N||I!==N.roleToUse||!O)&&M.push.apply(M,this.columnReader.getAllValueQueryNames(I)||[])}return M},R}(),V=t(85179),p=t(429281),C_dynamicLabelValue={objectName:"labels",propertyName:"dynamicLabelValue"},C_dynamicLabelEnabled={objectName:"labels",propertyName:"showDynamicLabels"},C_labelColor={objectName:"labels",propertyName:"color"},C_totalsColor={objectName:"totals",propertyName:"color"},C_categoryLabelsColor={objectName:"categoryLabels",propertyName:"color"},C_labelTitleColor={objectName:"labels",propertyName:"titleColor"},C_labelDetailColor={objectName:"labels",propertyName:"detailColor"},C_dynamicLabelDetail={objectName:"labels",propertyName:"dynamicLabelDetail"},C_dynamicLabelTitle={objectName:"labels",propertyName:"dynamicLabelTitle"};function b(R,g,L){return new y(R,g,L)}var y=function(){return function(g,L,M){this.columnReader=g,this.objectReader=L,this.dataReader=M,this.dynamicLabelReader=new D(g,L,M),this.labelFillColorReader=new P(L,M)}}(),D=function(){function R(g,L,M){var T=this;this.columnReader=g,this.objectReader=L,this.dataReader=M,this.enabledPropertyId=C_dynamicLabelEnabled,this.memoizedDynamicLabelFormatString=_.memoize(function(O,N){return T.dataReader.getFormatStringForRelatedObject(O,N)},function(O,N){return"".concat(N).concat(O.objectName).concat(O.propertyName)})}return R.prototype.isDynamicLabelEnabled=function(g){var L=this.objectReader.getValueMetadataObjectsBySeries(g);return(0,l.NA)(L,this.enabledPropertyId,!1)},R.prototype.isDynamicLabelValueEnabled=function(g,L){return void 0===L&&(L=!1),this.isDynamicLabelEnabledForPropertyId(C_dynamicLabelValue,g,L)},R.prototype.isDynamicLabelDetailEnabled=function(g,L){return this.isDynamicLabelEnabledForPropertyId(C_dynamicLabelDetail,g,L)},R.prototype.isDynamicLabelTitleEnabled=function(g,L){return this.isDynamicLabelEnabledForPropertyId(C_dynamicLabelTitle,g,L)},R.prototype.getDynamicLabelValueType=function(g){return void 0===g&&(g=0),this.getDynamicLabelType(C_dynamicLabelValue,g)},R.prototype.getDynamicLabelDetailType=function(g){return void 0===g&&(g=0),this.getDynamicLabelType(C_dynamicLabelDetail,g)},R.prototype.getDynamicLabelTitleType=function(g){return void 0===g&&(g=0),this.getDynamicLabelType(C_dynamicLabelTitle,g)},R.prototype.getLabelFieldSourceTypes=function(g){var L=this.getDynamicLabelDetailType(g),M=this.getDynamicLabelValueType(g),T=this.getDynamicLabelTitleType(g),O=function(A){return A?A.bool||A.numeric?p.S9.number:A.text?p.S9.text:A.dateTime?p.S9.DateTime:p.S9.variant:p.S9.variant};return{detailFieldSourceType:O(L),valueFieldSourceType:O(M),titleFieldSourceType:O(T)}},R.prototype.areDynamicValueLabelsEnabled=function(g,L,M){return g?{titleEnabled:this.isDynamicLabelTitleEnabled(L,M),valueEnabled:this.isDynamicLabelValueEnabled(L,M),detailEnabled:this.isDynamicLabelDetailEnabled(L,M)}:{titleEnabled:!1,valueEnabled:!1,detailEnabled:!1}},R.prototype.getDynamicLabel=function(g){var L=g.valuePropertyId,M=g.hasHighlights,T=g.categoryIndex,O=g.seriesIndex,N=g.enabled,A=g.dynamicLabelFormatString,I=null!=N?N:this.isDynamicLabelEnabled(O);if(I){var B=this.getDynamicLabelValue(M,L,T,O);if(B){var U=A||this.getDynamicLabelFormatString(L,O);return(0,r.__assign)((0,r.__assign)({},B),{formatString:U,enabled:!0})}}return{value:void 0,enabled:I,source:"Default"}},R.prototype.getDynamicLabelFormatString=function(g,L){void 0===L&&(L=0);var M=this.columnReader.getValueMetadataColumnBySeries(L).queryName;return this.memoizedDynamicLabelFormatString(g,M)},R.prototype.getDynamicLabelType=function(g,L){var M,T;void 0===L&&(L=0);var O=null===(M=this.columnReader.getValueMetadataColumnBySeries(L))||void 0===M?void 0:M.queryName;return null===(T=this.dataReader.getMetadataColumnMatchingRelatedObject(g,O))||void 0===T?void 0:T.type},R.prototype.getDynamicLabelValue=function(g,L,M,T){return void 0===g&&(g=!1),void 0===M&&(M=0),void 0===T&&(T=0),this.getDynamicLabelBySeries(g,L,M,T)||this.getDynamicLabelByCategory(g,L,M)},R.prototype.getDynamicLabelBySeries=function(g,L,M,T){if(void 0===M&&(M=0),null!=T){var O=this.dataReader.getObjectsBySeries(M,T,L,g);if(null!=O)return{value:O,source:"Intersection"}}},R.prototype.isDynamicLabelEnabledForPropertyId=function(g,L,M){var T;void 0===M&&(M=!1);for(var O=this.dataReader.getCategoryCount(),N=0;N<O;N++){if((this.columnReader.hasDynamicSeries()||this.columnReader.hasStaticSeries())&&this.dataReader.hasProperty(N,L,g,M))return!0;var I=M?this.objectReader.getCategoryHighlightObjects(N):this.objectReader.getCategoryDataObjects(N);if(null!==(T=null==I?void 0:I.labels)&&void 0!==T&&T.hasOwnProperty(g.propertyName))return!0}return!1},R.prototype.getDynamicLabelByCategory=function(g,L,M){void 0===M&&(M=0);var T=g?this.objectReader.getCategoryHighlightObjects(M):this.objectReader.getCategoryDataObjects(M),O=(0,V.N)(null==T?void 0:T.labels,L.propertyName);if(null!=O)return{value:O,source:"Category"}},R}(),P=function(){function R(g,L){this.objectReader=g,this.dataReader=L}return R.prototype.getDataLabelFillColor=function(g){return this.getLabelFill(C_labelColor,g)},R.prototype.getCategoryLabelFillColor=function(g){return this.getLabelFill(C_categoryLabelsColor,g)},R.prototype.getTotalLabelFillColor=function(g){return this.getLabelFill(C_totalsColor,g)},R.prototype.getDataLabelTitleFillColor=function(g){return this.getLabelFill(C_labelTitleColor,g)},R.prototype.getDataLabelDetailFillColor=function(g){return this.getLabelFill(C_labelDetailColor,g)},R.prototype.getLabelFill=function(g,L){var M=L.defaultColor,T=L.categoryIndex,O=L.seriesIndex,N=L.seriesColor;return this.hasSeriesColor(L)?{color:N,colorSource:"Series"}:this.getLabelFillBySeries(g,T,O)||this.getLabelFillByCategory(g,T)||{color:M,colorSource:"Default"}},R.prototype.hasSeriesColor=function(g){var L=g.seriesColor;return null!=L&&L!==g.defaultColor},R.prototype.getLabelFillByCategory=function(g,L){void 0===L&&(L=0);var M=this.objectReader.getCategoryDataObjects(L);if(null!=(null==M?void 0:M[g.objectName])&&null!=g){var T=(0,V.y)(null==M?void 0:M[g.objectName],g.propertyName);if(T)return{color:T,colorSource:"Category"}}},R.prototype.getLabelFillBySeries=function(g,L,M){var T;if(void 0===L&&(L=0),null!=M){var O=this.dataReader.getObjectsBySeries(L,M,g),N=null===(T=null==O?void 0:O.solid)||void 0===T?void 0:T.color;if(N)return{color:N,colorSource:"Intersection"}}},R}();function F(R,g){return new E(R,g)}var E=function(){function R(g,L){this.columnReader=g,this.staticObjects=g.getStaticObjects(),L&&(this.staticSeriesRoleNames=L.staticSeriesRoleNames)}return R.prototype.getStaticObjects=function(){return this.staticObjects},R.prototype.getCategoryMetadataObjects=function(g){var L=this.columnReader.getCategoryColumn(g);if(L)return L.source.objects},R.prototype.getAllCategoryMetadataObjectsForRole=function(g){var L=this.columnReader.getAllCategoryColumns(g);if(L)return _.map(L,function(M){return M.source.objects})},R.prototype.getCategoryDataObjects=function(g){var L=this.columnReader.getCategoryColumn();if(L&&L.objects)return L.objects[g]},R.prototype.getCategoryHighlightObjects=function(g){var L=this.columnReader.getCategoryColumn();if(L&&L.highlightObjects)return L.highlightObjects[g]},R.prototype.getValueMetadataObjects=function(g,L){var M=this;e.fF.assert(function(){return!(_.some(M.staticSeriesRoleNames,function(O){return O===g})&&null==L)},"getValueMetadataObjects requires a seriesIndex when called on a static series role");var T=this.columnReader.getValueMetadataColumn(g,L);if(T)return T.objects},R.prototype.getValueMetadataObjectsBySeries=function(g){var L=this.columnReader.getStaticRoleInfo(g);return this.getValueMetadataObjects(L.roleToUse,L.seriesIndexToUse)},R.prototype.getAllValueMetadataObjectsForRole=function(g){var L=this;e.fF.assert(function(){return!_.some(L.staticSeriesRoleNames,function(T){return T===g})},"getAllValueMetadataObjectsForRole should not be called a the static series role.  Use getValueMetadataObjects with a seriesIndex.");var M=this.columnReader.getAllValueMetadataColumnsForRole(g);return _.map(M,function(T){return T.objects})},R.prototype.getSeriesMetadataObjects=function(){var g=this;if(e.fF.assert(function(){return g.columnReader.hasDynamicSeries()||g.columnReader.hasStaticSeries()},"getSeriesDataObjects should not be called if there is no series."),this.columnReader.hasDynamicSeries()){var L=this.columnReader.getSeriesMetadataColumn();if(L)return L.objects}},R.prototype.getSeriesDataObjects=function(g){var L;if(this.columnReader.hasDynamicSeries())L=this.columnReader.getSeriesValueColumnGroup(g);else{var M=this.columnReader.getStaticRoleInfo(g);M&&(L=this.columnReader.getValueMetadataColumn(M.roleToUse,M.seriesIndexToUse))}if(L)return L.objects},R.prototype.getCategoryFormatString=function(g){return(0,l.NA)(this.getCategoryMetadataObjects(g),R.StandardFormatStringProp)},R.prototype.getAllCategoryFormatStringsForRole=function(g){return _.map(this.getAllCategoryMetadataObjectsForRole(g),function(L){return(0,l.NA)(L,R.StandardFormatStringProp)})},R.prototype.getValueFormatString=function(g,L){if(!this.columnReader.hasStaticSeries||!_.some(this.staticSeriesRoleNames,function(M){return M===g})||null!=L)return(0,l.NA)(this.getValueMetadataObjects(g,L),R.StandardFormatStringProp);e.fF.assertFail("getValueFormatString requires a seriesIndex when called on a static series role")},R.prototype.getValueFormatStringBySeries=function(g){var L=this.columnReader.getStaticRoleInfo(g);return this.getValueFormatString(L.roleToUse,L.seriesIndexToUse)},R.prototype.getAllValueFormatStringsForRole=function(g){var L=this;e.fF.assert(function(){return!_.some(L.staticSeriesRoleNames,function(T){return T===g})},"getAllValueFormatStringsForRole should not be called with a static series role.  Use getValueFormatString and a seriesIndex.");var M=this.getAllValueMetadataObjectsForRole(g);return _.map(M,function(T){return(0,l.NA)(T,R.StandardFormatStringProp)})},R.prototype.getSeriesFormatString=function(g){if(!this.columnReader.hasStaticSeries()){if(this.columnReader.hasDynamicSeries())return(0,l.NA)(this.getSeriesMetadataObjects(),R.StandardFormatStringProp);e.fF.assertFail("getSeriesFormatString should not be called if you have no series.")}},R.StandardFormatStringProp={objectName:"general",propertyName:"formatString"},R}();function w(R,g){var L=h(R,g),M=i(L,g),T=F(L,g);return{data:M,identities:m(L),objects:T,colors:d(L,T,M,g),labels:b(L,T,M)}}function x(R,g){var L=h(R,g),M=i(L,g),T=F(L,g);return{data:M,identities:m(L),objects:T,colors:d(L,T,M,g),columns:L,labels:b(L,T,M)}}},878081:function(Xe,H,t){t.d(H,{l:function(){return e}});var e=function(l){return l[l.Box=0]="Box",l[l.Circle=1]="Circle",l[l.Line=2]="Line",l}({})},962731:function(Xe,H,t){t.d(H,{vs:function(){return zt},hD:function(){return Rt},xw:function(){return er},Lk:function(){return Pr},PP:function(){return mr},pq:function(){return pt},Ue:function(){return zr},OG:function(){return bt},Rh:function(){return Vr},Fe:function(){return dr},ZF:function(){return Qr},tY:function(){return Yr},Gh:function(){return Jr},tV:function(){return Hr},aJ:function(){return Gr},nh:function(){return xr},xz:function(){return Yt},l3:function(){return ai}});var e=t(973188),l=t(696933),o=t(498342),d=t(781322),v=t(11641),S=t(406057),h=t(417657),c=t(382088),r=t(470081),s=t(686311),u=t(366735),i=t(380073),a=t(789015),n=t(93063),m=t(102794),f=t(19959),V=t(621275),p=t(624225),C=t(440912),b=t(341648),y=t(862752),x=t(340758),R=t(566464),g=(0,R.CH)("previousNavArrow"),L=(0,R.CH)("nextNavArrow"),M=(0,R.CH)("legend"),T=(0,R.CH)("legend-title"),O=(0,R.CH)("legend-item-container"),N=(0,R.CH)("gradient-legend"),A=(0,R.CH)("legend-item"),I=(0,R.CH)("legend-item-svg"),B=(0,R.CH)("legend-icon"),U=(0,R.CH)("legend-icon-line"),W=(0,R.CH)("legend-item-text"),j=b.B.createFromPt(8),K="foregroundNeutralTertiary",ee_fillColor=function(ct,Tt,ot){return Tt&&!ct.selected?a.v.getThemeColor(ot,K):ct.color},ee_strokeColor=function(ct,Tt,ot){var it,ht;return Tt&&!ct.selected?a.v.getThemeColor(ot,K):null!==(ht=null===(it=ct.border)||void 0===it?void 0:it.color)&&void 0!==ht?ht:ct.color},ee_lineStrokeColor=function(ct,Tt,ot){return Tt&&!ct.selected?a.v.getThemeColor(ot,K):ct.lineColor},ee_opacity=function(ct,Tt){return Tt&&!ct.selected?x.eU:x.Ko},ie=t(963470),he=t(569978),q=t(756846),Y=t(533462),G=t(59377),me=t(795031),re=t(796490),le=function(){function lt(){}return lt.prototype.bindEvents=function(ct,Tt,ot,it){this.legendIcons=ct.legendIcons,this.legendLines=ct.legendLines,this.visualStyle=ct.visualStyle;var ht=ct.legendRoot;this.legendItems=ct.legendItems;var yt=ct.clearCatcher;it?this.unbindEventsFormatMode():((0,re.lt)(ht,Tt),ht.on("keydown",function(){var Ft=d3.event;if(he.M.noModifierPressed(Ft)&&27===Ft.keyCode&&Ft.target.classList.contains(A.class)){var kt=ht.node();he.M.focus(kt),Ft.preventDefault(),Ft.stopPropagation()}return!1}),this.legendItems.on("click",function(Ft){return(0,re.c8)(Ft.dataPoint,Tt)}).on("keydown",function(Ft){var kt=d3.event.keyCode;(32===kt||13===kt)&&(0,re.c8)(Ft.dataPoint,Tt)}),yt&&yt.on("click",function(){he.M.isCtrlOrMeta(d3.event)||Tt.handleClearSelection()}))},lt.prototype.unbindEventsFormatMode=function(){this.legendItems.on("click",null).on("keydown",null)},lt.prototype.renderSelection=function(ct){var Tt=this;this.legendIcons.styles({fill:function(it){return ee_fillColor(it.dataPoint,ct,Tt.visualStyle)},stroke:function(it){return ee_strokeColor(it.dataPoint,ct,Tt.visualStyle)}}),this.legendLines.styles({stroke:function(it){return ee_lineStrokeColor(it.dataPoint,ct,Tt.visualStyle)}}),this.legendItems.attrs({"aria-selected":function(it){return ct&&it.dataPoint.selected}}),this.visualStyle.isHighContrast&&(this.legendIcons.styles({"fill-opacity":function(it){return ee_opacity(it.dataPoint,ct)},"stroke-opacity":function(it){return ee_opacity(it.dataPoint,ct)}}),this.legendLines.styles({"stroke-opacity":function(it){return ee_opacity(it.dataPoint,ct)}}))},lt}(),Ee=t(495570),Ne=t(508903),Ye=t(947230),Je=t(771711);function _e(lt){var ct=lt.data,Tt=lt.parentViewport,ot=lt.interactivityService,it=lt.orientation,ht=lt.legendDataStartIndex,yt=lt.hostService,Ft=lt.showTitlePlaceholder,kt=lt.element,Gt=ct.fontProperties,ar=(0,Ne.XZ)(Gt),sr=(0,Ne.dx)(ct),pr=function(lt){var ct=lt.data;if(!(0,Ne.dx)(ct))return{height:0,width:0};switch(lt.orientation){case Ne.tV.Top:case Ne.tV.Bottom:case Ne.tV.TopCenter:case Ne.tV.BottomCenter:case Ne.tV.TopRight:case Ne.tV.BottomRight:return{height:(ct&&ct.fontProperties?ct.fontProperties.size.px:q.FP.fromPointToPixel(j.pt))-j.pt+24,width:0};case Ne.tV.Right:case Ne.tV.Left:case Ne.tV.RightCenter:case Ne.tV.LeftCenter:return{height:0,width:lt.lastCalculatedWidth?lt.lastCalculatedWidth:lt.parentViewport.width*nt};default:o.fF.assertFail("Unexpected legend position - calculateViewport")}}({data:ct,lastCalculatedWidth:lt.lastCalculatedWidth,orientation:it,parentViewport:Tt}),fr=ct&&void 0!==ct.fontProperties?ct.fontProperties.size.px:q.FP.fromPointToPixel(j.pt),Mr=fr-We,hr=ct.showTitle&&!ct.isGradientLegend?rt({hostServices:lt.hostService,fontProperties:Gt,legendFontSizeMarginDifference:Mr,legendFontSizeMarginValue:fr,parentViewport:Tt,orientation:it,viewport:pr,title:ct.title,showTitlePlaceholder:Ft}):null,Ir=ie.b.estimateSvgTextHeight((0,m.qk)(Gt))/ft;(fr<=We||Ir<ke)&&(Ir=ke);var Pt=Mr/ft,dt=2*(Ir+Pt),ue=Le+2*Pt,k=te+Pt,se=ot&&(0,Ye.G6)(ct.dataPoints),Ae=(0,Ne.s0)(it)?pr.height:20+Mr,$e=ve({fontProperties:Gt,drawOptions:lt,navigationArrows:{previous:null,next:null},titleLayout:hr,iconWidth:dt,iconAndLineWidth:ue,svgHeight:Ae,totalTextPadding:k}),Et=$e.legendItems,Nt=$e.verticalLegendWidth,Bt=$e.horizontalLegendWidth,Qt=function(lt){var ct=lt.drawOptions,Tt=lt.titleLayout,ot=lt.legendViewport,it=lt.legendItems,ht=lt.drawOptions,Ft=ht.parentViewport,kt=ht.data,Gt=ht.legendDataStartIndex,ar={next:void 0,previous:void 0};ct.isScrollable&&(ar=(0,Ne.s0)(ht.orientation)?function(lt,ct,Tt,ot){var pr,it=Fe,ht=ze,yt=Tt.height/2-it/2,Ft={previous:void 0,next:void 0},kt=lt?lt.x+lt.width:0,Gt=(0,h.AD)(ht,it,180),ar=(0,h.AD)(ht,it,0),sr=0;return ot.useLargeArrowHitArea&&(sr=Z_Horizontal.arrowsOffset,pr=Z_Horizontal.hitAreaWidthPx),Ft.previous={x:kt,y:yt,path:Gt.path,rotateTransform:Gt.transform,type:1,arrowOffset:sr||0,hitAreaWidth:pr||10},Ft.next={x:ct.width-ht,y:yt,path:ar.path,rotateTransform:ar.transform,type:0,arrowOffset:sr||0,hitAreaWidth:pr||10},Ft}(Tt,Ft,ot,kt):function(lt,ct,Tt,ot){var fr,it=Fe,ht=ze,Ft={previous:void 0,next:void 0},kt=Tt.height/2+it/2,Gt=(0,h.AD)(ht,it,270),ar=(0,h.AD)(ht,it,90),pr=0;return ot.useLargeArrowHitArea&&(pr=Z_Vertical.arrowsOffset,fr=Z_Vertical.hitAreaWidthPx),Ft.previous={x:kt,y:ht+(lt?lt.height:0),path:Gt.path,rotateTransform:Gt.transform,type:1,arrowOffset:pr,hitAreaWidth:fr},Ft.next={x:kt,y:ct.height-it,path:ar.path,rotateTransform:ar.transform,type:0,arrowOffset:pr,hitAreaWidth:fr},Ft}(Tt,Ft,ot,kt));var pr,fr,sr=Oe(ar,kt.dataPoints.length-Gt,it.length,Gt,ct.arrowPosWindow);if(ar.previous||ar.next){var Mr=ve({fontProperties:kt.fontProperties,drawOptions:ct,navigationArrows:ar,titleLayout:Tt,iconWidth:lt.iconWidth,iconAndLineWidth:lt.iconAndLineWidth,svgHeight:lt.svgHeight,totalTextPadding:lt.totalTextPadding});sr=Oe(ar,kt.dataPoints.length-Gt,(fr=Mr.legendItems).length,Gt,ct.arrowPosWindow),pr=Mr.horizontalLegendWidth}return{navigationArrows:ar,arrowPosWindow:sr,newLegendItems:fr,horizontalLegendWidth:pr}}({drawOptions:lt,legendViewport:pr,legendItems:Et,titleLayout:hr,iconWidth:dt,iconAndLineWidth:ue,svgHeight:Ae,totalTextPadding:k}),$t=Qt.navigationArrows,ur=Qt.arrowPosWindow;Qt.newLegendItems&&(Et=Qt.newLegendItems),null!=Nt&&(pr.width=Nt),hr&&Nt&&Nt>hr.width&&(hr=ct.showTitle?rt({hostServices:lt.hostService,fontProperties:Gt,legendFontSizeMarginDifference:Mr,legendFontSizeMarginValue:fr,parentViewport:Tt,orientation:it,viewport:pr,title:ct.title,showTitlePlaceholder:Ft}):null);var or=(0,Ne.s0)(it),Ar=!or,Ge=(0,Ne.EH)(it),ut=(0,Ne.Ok)(it),Vt=(0,Ne.F3)(it),Dt=kt.select(M.selector),Mt=yt?yt.getLocalizedString("Visual_Legend"):null;sr?(Dt.empty()&&(Dt=kt.append("div").classed(M.class,!0).styles({position:"absolute"}),ot&&Dt.attrs({tabindex:0,"focus-nav-mode":"HierarchicalTabOrder","aria-label":null==Mt?void 0:Mt.concat(ct.showTitle&&ct.title?" ".concat(ct.title):"")}).attr("data-testid","legend")),Dt.classed("flex-row",or).classed("flex-column",Ar).classed("flex-justify-content-center",Ge).classed("flex-justify-content-start",Vt).classed("flex-justify-content-end",ut).classed("flex-align-items-center",or&&!ct.isGradientLegend).classed("flex-align-items-start",Ar||ct.isGradientLegend).styles({"padding-top":ct.isGradientLegend?"3px":"null"}),ot&&Dt.attrs({"aria-label":null==Mt?void 0:Mt.concat(ct.showTitle&&ct.title?" ".concat(ct.title):"")})):Dt.remove();var Ot=Dt.select(N.selector).empty();(ct.isGradientLegend?Ot:!Ot)&&Dt.selectAll("*").remove();var Xt=Dt.select(".clearCatcher");if(Xt.empty()&&(Xt=(0,Ye.EX)(Dt,"div")),Xt.style("position","absolute").style("width","100%").style("height","100%"),lt.formatMode?(0,Ye.kA)(Dt,"div"):(0,Ye.ku)(Dt,"div"),et(pr,lt.orientation,Dt,sr,Tt),!sr)return{width:0,height:0};var tr=Dt.select(O.selector);if(tr.empty()&&(tr=Dt.append("div").classed(O.class,!0).classed("flex-align-items-center",!0).classed("flex-order-third",!0).classed("flex-justify-context-start",!0).style("position","relative")),tr.classed("flex-grow",!(!$t.next&&!$t.previous)).classed("flex-row",or).classed("flex-column",Ar).classed("flex-align-items-center",or).classed("flex-align-items-start",Ar).classed(N.class,ct.isGradientLegend).attr("width",Bt).attr("role","listbox").attr("aria-label",function(){return lt.hostService&&hr&&hr.text?hr.text:lt.hostService?Mt:null}),lt.onObject&&tr.classed(me.cy,!0).attr(me.Ez,"legend-items").attr(me.CK,"Visual_Legend").attr(me.QZ,1),lt.data.isGradientLegend)!function(lt,ct,Tt,ot,it,ht){var fr,Ir,Pt,yt=lt.data.gradientRule.options.linearGradient2?lt.data.gradientRule.options.linearGradient2:lt.data.gradientRule.options.linearGradient3,Ft=lt.data.fontProperties,kt=Ft.size.px,ar=0,sr=(0,s.Ue)({value:yt.min.value,value2:yt.max.value,format:(0,s.EO)(lt.data.gradientRule.source,Ee.e0.formatString)}),pr=(0,m.qk)(Ft),Mr=sr.format(yt.min.value),hr={width:ie.b.measureSvgTextWidth(pr,Mr),height:ie.b.measureSvgTextHeight(pr,Mr)};fr=lt.hostService.getLocalizedString("ConditionalFormattingDialog_LowestValue")+" "+Mr+", ",Te(yt)&&(Ir=sr.format(yt.mid.value),Pt={width:ie.b.measureSvgTextWidth(pr,Ir),height:ie.b.measureSvgTextHeight(pr,Ir)},fr+=lt.hostService.getLocalizedString("ConditionalFormattingDialog_MiddleValue")+" "+Ir+", ");var dt=sr.format(yt.max.value),ue={width:ie.b.measureSvgTextWidth(pr,dt),height:ie.b.measureSvgTextHeight(pr,dt)};fr+=lt.hostService.getLocalizedString("ConditionalFormattingDialog_HighestValue")+" "+dt;var or,Ge,ut,Vt,Dt,k=1.5,Qt=.5*lt.parentViewport.width,$t=.25*kt,ur=kt*k,Ar=ur,Mt=[];if(ct){Ge=hr.width+$t+(or=6*kt)+$t+ue.width,ut=ur+$t,ar=Wt=ur/2,Dt=[{text:Mr,text_anchor:"start",x:0,y:Wt,width:hr.width,height:Ar},{text:dt,text_anchor:"start",x:Ot=hr.width+$t+or+$t,y:Wt,width:ue.width,height:Ar}];var Xt=hr.width+$t;if(Vt=[{fill:"url(#legendGradient-".concat(lt.hostService.instanceId,")"),fill_opacity:"1",x:Xt,y:0,width:or,height:ur}],Te(yt)){ut+=1.25*kt;var tr=ce(yt);Dt.splice(1,0,{text:Ir,text_anchor:"middle",x:Xt+tr*or,y:ur+$t+kt/2,width:Pt.width,height:Ar}),Mt=[{x1:Xt+tr*or,x2:Xt+tr*or,y1:0,y2:ur+$t,stroke:Ft.color?Ft.color:lt.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}]}}else{if(or=Te(yt)?6*kt:10*kt,(Ge=Te(yt)?hr.width+$t+or+$t+ue.width:or+$t)>Qt){ut=Qt;var yr=function(lt,ct,Tt,ot,it,ht,yt,Ft){var kt,Gt;return yt?(kt=.6*(Gt=lt-2*Ft),ht.text=Tt,Tt=ie.b.getTailoredTextOrDefault(ht,.2*Gt),ct.width=ie.b.measureSvgTextWidth(ht,Tt),ht.text=it,it=ie.b.getTailoredTextOrDefault(ht,.2*Gt),ot.width=ie.b.measureSvgTextWidth(ht,it)):(kt=Gt=lt-Ft,ht.text=Tt,Tt=ie.b.getTailoredTextOrDefault(ht,kt/2),ct.width=ie.b.measureSvgTextWidth(ht,Tt),ht.text=it,it=ie.b.getTailoredTextOrDefault(ht,kt/2),ot.width=ie.b.measureSvgTextWidth(ht,it)),{gradientWidth:kt,minValueString:Tt,minValueWidth:ct.width,maxValueString:it,maxValueWidth:ot.width}}(Qt,hr,Mr,ue,dt,pr,Te(yt),$t);or=yr.gradientWidth,Mr=yr.minValueString,hr.width=yr.minValueWidth,dt=yr.maxValueString,ue.width=yr.maxValueWidth}if(Te(yt)){Ge=hr.width+$t+or+$t+ue.width,ut=8+3*kt;var Wt=8+ur/2,Ot=hr.width+$t+or+$t;tr=ce(yt),Dt=[{text:Mr,text_anchor:"start",x:0,y:Wt,width:hr.width,height:Ar},{text:Ir,text_anchor:"middle",x:(Xt=hr.width+$t)+tr*or,y:8+ur+$t+kt/2,width:Pt.width,height:Ar},{text:dt,text_anchor:"start",x:Ot,y:Wt,width:ue.width,height:Ar}],Mt=[{x1:Xt+tr*or,x2:Xt+tr*or,y1:8,y2:8+ur+$t,stroke:Ft.color?Ft.color:lt.visualStyle.colorPalette.foregroundNeutralDark.value,stroke_width:"1"}],Vt=[{fill:"url(#legendGradient-".concat(lt.hostService.instanceId,")"),fill_opacity:"1",x:Xt,y:8,width:or,height:ur}]}else ut=16+3*kt,Dt=[{text:Mr,text_anchor:"start",x:0,y:Wt=16+2*kt,width:(Ge=or+$t)/2,height:Ar},{text:dt,text_anchor:"start",x:Ge-$t-ue.width,y:Wt,width:Ge/2,height:Ar}],Vt=[{fill:"url(#legendGradient-".concat(lt.hostService.instanceId,")"),fill_opacity:"1",x:0,y:8,width:or,height:ur}]}Tt.height=ct?Math.max(Tt.height,ut):Tt.height,Tt.width=ct?Tt.width:Math.max(Tt.width,Ge)+Se,et(Tt,lt.orientation,it,ht,lt.parentViewport,!0),function(lt,ct,Tt,ot,it,ht,yt){var Gt,ar,Ft=(0,m.qk)((0,Ne.XZ)(lt.data.fontProperties),lt.data.title),kt=[];if(ct)kt=[{dy:"0.35em",word:(Gt=[ie.b.getTailoredTextOrDefault(Ft,lt.parentViewport.width-Tt.width-ae/2-2*Se)])[0]}],ar={height:Tt.height,width:ie.b.measureSvgTextWidth(Ft,Gt[0])};else{var pr=ie.b.measureSvgTextHeight(Ft,lt.data.title),Mr=Math.min(3,Math.floor((lt.parentViewport.height-Tt.height-8-2*Se)/pr));Gt=(0,Y.ql)(lt.data.title,Ft,ie.b.measureSvgTextWidth,Tt.width,Mr,ie.b.getTailoredTextOrDefault,!0);for(var hr=0;hr<Gt.length;hr++)kt.push({dy:String(pr),word:Gt[hr]});ar={height:(Gt.length+.5)*pr,width:Tt.width}}var Ir=lt.data.showTitle&&!_.isEmpty(lt.data.title)?[0]:[],Pt=ot.selectAll(T.selector).data(Ir),dt=Pt.enter().append("svg").classed(T.class,!0).merge(Pt);dt.attr("height",ar.height).attr("width",ar.width).styles({"padding-right":ae/2+"px"});var ue=dt.selectAll("text").data([0]),k=ue.enter().append("text").merge(ue);k.classed("flex-order-first",!0).styles((0,m.wB)((0,Ne.XZ)(lt.data.fontProperties))).styles({"text-overflow":"ellipsis","white-space":"pre"}).attr("fill",lt.data.fontProperties.color).attr("title",function($e){return lt.data.title}).attr("x",0).attr("y",ht).text(null);var se=k.selectAll("tspan").data(kt);se.enter().append("tspan").merge(se).attr("dy",function($e){return $e.dy}).attr("x",function($e){return 0}).text(function($e){return $e.word}),se.exit().remove(),ue.exit().remove(),Pt.exit().remove()}(lt,ct,{height:ut,width:Ge},it,0,ar);var Dr=function(lt,ct,Tt,ot,it){var ht=ct.selectAll("svg").data(lt),yt=ht.enter().append("svg").merge(ht);yt.attr("width",function(fr){return fr.width}).attr("height",function(fr){return fr.height}).attrs({tabindex:0,"aria-label":it});var Ft=yt.selectAll("defs").data([0]),kt=Ft.enter().append("defs").merge(Ft);kt.append("linearGradient").attr("id",ot);var Gt=[{stop:0,color:Tt.min.color},{stop:1,color:Tt.max.color}];if(Te(Tt)){var ar=ce(Tt);Gt.splice(1,0,{stop:ar,color:Tt.mid.color})}var sr=kt.select("linearGradient").selectAll("stop").data(Gt,function(fr){return fr.stop.toString()}),pr=sr.enter().append("stop").merge(sr);return pr.attr("stop-color",function(fr){return fr.color}).attr("offset",function(fr){return fr.stop}),pr.order(),sr.exit().remove(),yt}([{width:Ge,height:ut}],ot,yt,"legendGradient-".concat(lt.hostService.instanceId),fr);(function(lt,ct,Tt){var ot=ct.selectAll("g.rect").data([0]),it=ot.enter().append("g").classed("rect",!0).merge(ot),ht=it.selectAll("rect").data(lt);ht.enter().append("rect").merge(ht).attr("fill",function(Ft){return Ft.fill}).attr("fill-opacity",function(Ft){return Ft.fill_opacity}).attr("x",function(Ft){return Ft.x}).attr("y",function(Ft){return Ft.y}).attr("width",function(Ft){return Ft.width}).attr("height",function(Ft){return Ft.height}),function(lt,ct){var Tt=lt.selectAll("line").data(ct);Tt.enter().append("line").merge(Tt).attr("x1",function(it){return it.x1}).attr("x2",function(it){return it.x2}).attr("y1",function(it){return it.y1}).attr("y2",function(it){return it.y2}).styles({stroke:function(ht){return ht.stroke}}).styles({"stroke-width":function(ht){return ht.stroke_width}}),Tt.exit().remove()}(it,Tt)})(Vt,Dr,Mt),function(lt,ct,Tt){var ot=ct.selectAll("g.text").data([0]),ht=ot.enter().append("g").classed("text",!0).merge(ot).selectAll("text").data(lt),yt=ht.enter().append("text").merge(ht);yt.text(function(Gt){return Gt.text}).attr("text-anchor",function(Gt){return Gt.text_anchor}).attr("x",function(Gt){return Gt.x}).attr("y",function(Gt){return Gt.y}).attr("width",function(Gt){return Gt.width}).attr("dy","0.35em").attr("height",function(Gt){return Gt.height}).styles((0,m.E_)(Tt));var Ft=yt.selectAll("title").data(function(Gt){return[Gt.text]});Ft.enter().append("title").merge(Ft).text(function(Gt){return Gt}),Ft.exit().remove(),ht.exit().remove()}(Dt,Dr,Ft)}(lt,or,pr,tr,Dt,sr);else{var Lt=Dt.selectAll(T.selector).data(hr?[hr]:[]),nr=Lt.enter().insert("text",".clearCatcher").classed(T.class,!0).merge(Lt);nr.text(function(qt){return qt.text}).classed("flex-order-first",!0).styles((0,m.wB)(ar)).styles({"text-overflow":"ellipsis","white-space":"pre","padding-right":ae/2+"px",position:"relative"}).attr("title",function(qt){return ct.title}),lt.onObject&&(nr.classed(me.cy,!0).classed(me.Qh.class,null==hr?void 0:hr.isPlaceholder).attr(me.Ez,"legend-title").attr(me.CK,"MiniToolbar_LegendTitle").attr(me.QZ,0),(lt.formatMode||Ft)&&lt.titleSliceUid)&&nr.attr(me.kv,JSON.stringify({reference:{cardUid:void 0,sliceUid:lt.titleSliceUid},style:3})),Lt.exit().remove();var _r=function(Er){return Er.dataPoint.identity.getKey()+(null!=Er.dataPoint.layerNumber?Er.dataPoint.layerNumber:"")},Dr=tr.selectAll(A.selector).data(_.uniqBy(Et,_r),_r),jt=Dr.enter().append("div").classed(A.class,!0).classed("flex-justify-content-center",!0).classed("flex-align-items-center",!0).attr("role","option");ot&&jt.attr("tabindex",0).attr("data-testid","legend-item");var Me=yt?yt.getLocalizedString("NullValue"):null,Ct=jt.merge(Dr);Ct.attr("aria-label",function(qt){return lt.hostService?qt.dataPoint.label?qt.dataPoint.label:Me:null}).attr("aria-selected",function(qt){return se&&qt.dataPoint.selected}).attr("aria-posinset",function(qt){return qt.dataPoint.index+1}).attr("aria-setsize",ct.dataPoints.length),Ct.sort(function(qt,Er){var Br=qt.dataPoint,ii=Er.dataPoint;if(null!=Br.layerNumber){o.fF.assertValue(ii.layerNumber,"Both datapoints should have a layerNumber");var pi=Br.layerNumber-ii.layerNumber;if(0!==pi)return pi}return Br.index-ii.index}),Dr.exit().remove();var At=jt.append("svg").classed(I.class,!0);At.append("path").classed(U.class,!0),At.append("path").classed(B.class,!0),jt.append("text").classed(W.class,!0).styles({"text-overflow":"ellipsis","white-space":"pre"}),Ct.select(I.selector).attrs({height:Ae,width:function(Er){return Er.dataPoint.lineStyle?ue:dt}});var xt=Ct.select(U.selector);xt.attrs({transform:(0,h.Iu)(Le/2,Ae*de),d:function(Er){return Er.dataPoint.lineStyle?"M -".concat(Le/2," 0 L ").concat(Le/2," 0"):null},"stroke-width":2,fill:"none","stroke-dasharray":function(Er){return Er.dataPoint.lineStyle?(0,G.XG)(Er.dataPoint.lineStyle):null}}).styles({stroke:function(Er){return ee_lineStrokeColor(Er.dataPoint,se,lt.visualStyle)}});var _t=Ct.select(B.selector);if(_t.attrs({transform:function(Er){return(0,h.aI)((Er.dataPoint.lineStyle?ue:dt)/2,Ae*de,Ir/f.UI)},d:function(Er){return(0,f.DW)(Er.dataPoint.markerShape||Je.Xw)},"stroke-width":function(Er){return(0,f.F)(Er.dataPoint.markerShape||Je.Xw)}}).styles({fill:function(Er){return ee_fillColor(Er.dataPoint,se,lt.visualStyle)},stroke:function(Er){return ee_strokeColor(Er.dataPoint,se,lt.visualStyle)},"stroke-linejoin":"round"}).append("title").text(function(qt){return qt.dataPoint.label}),Ct.select(W.selector).text(function(qt){return qt.textProperties.text}).styles((0,e.__assign)((0,e.__assign)({},Gt&&(0,m.wB)(Gt)),{"padding-left":Ve+"px","padding-right":k-Ve+"px"})).attr("title",function(qt){return qt.dataPoint.label}),He({navigationArrow:$t.previous,arrowPosWindow:ur,arrowClassAndSelector:g,legend:Dt,legendDataStartIndex:ht,rerenderCallback:lt.rerenderCallback,useLargeArrowHitArea:ct.useLargeArrowHitArea,verticalLegendWidth:(0,Ne.s0)(it)?void 0:pr.width,isTabbable:!!ot,hostService:lt.hostService}),He({navigationArrow:$t.next,arrowPosWindow:ur,arrowClassAndSelector:L,legend:Dt,legendDataStartIndex:ht,rerenderCallback:lt.rerenderCallback,useLargeArrowHitArea:ct.useLargeArrowHitArea,verticalLegendWidth:(0,Ne.s0)(it)?void 0:pr.width,isTabbable:!!ot,hostService:lt.hostService}),ot){var Zt={legendRoot:Dt,legendItems:Ct,legendIcons:_t,legendLines:xt,clearCatcher:Xt,visualStyle:lt.visualStyle};ot.bind(ct.dataPoints,new le,Zt,{isLegend:!0,pointSourceKey:"legend",isHierarchicalAxis:lt.isHierarchicalAxis,formatMode:lt.formatMode})}}return pr}function Te(lt){return void 0!==lt.mid}function ce(lt){return lt.min.value===lt.max.value?.5:(lt.mid.value-lt.min.value)/(lt.max.value-lt.min.value)}function ve(lt){var ct,Tt=lt.drawOptions.parentViewport,ot=lt.drawOptions.data,it=lt.drawOptions.legendDataStartIndex,ht=lt.titleLayout,yt=lt.navigationArrows,Ft=lt.iconWidth,kt=lt.iconAndLineWidth,Gt=_.some(ot.dataPoints,function(Pt){return Pt.lineStyle}),ar=lt.drawOptions.autoWidth?lt.drawOptions.parentViewport.width*nt:lt.drawOptions.lastCalculatedWidth,sr=ot.dataPoints;if((0,Ne.s0)(lt.drawOptions.orientation)){var pr=Tt.width-(ht?ht.width:0)-(yt.previous&&yt.previous.hitAreaWidth||0)-(yt.next&&yt.next.hitAreaWidth||0);return ct=function(lt,ct,Tt,ot,it,ht,yt){for(var Ft=ct,kt=[],Gt=Tt,ar=lt.length;Gt<ar;Gt++){var sr=lt[Gt],pr=Ke(kt,sr,ot,sr.lineStyle?ht:it,Ft,yt);if(Ft=pr.newRemainingWidth,!pr.fit)break}for(var fr=_.filter(kt,function($e){return $e.desiredOverMaxWidth}),Mr=Ft;Ft>0&&fr.length>0;){for(Gt=0;Gt<fr.length;){var Ir=fr[Gt],Pt=Ir.width,dt=Pt+Ft/fr.length;if(dt>Ir.desiredWidth)Ir.textProperties.text=Ir.dataPoint.label,Ir.width=Ir.desiredWidth,Ir.desiredOverMaxWidth=!1,fr.splice(Gt,1),Ft-=Ir.width-Pt;else{var ue=fr[Gt].textProperties,k=ue.text;ue.text=Ir.dataPoint.label;var se=ie.b.getTailoredTextOrDefault(ue,dt);if(k===se)ue.text=k;else{ue.text=se;var Ae=ie.b.measureSvgTextWidth(ue,se);Ir.width=Ae,Ft-=Ir.width-Pt}Gt++}}if(Mr===Ft)break;Mr=Ft}return kt}(sr,pr,it,lt.fontProperties,Ft,kt,lt.totalTextPadding),{legendItems:ct,horizontalLegendWidth:pr}}var hr=function(lt){for(var ct=lt.dataPoints,Tt=lt.maxHorizontalSpaceAvaliable,ot=lt.fontProperties,it=lt.legendDataStartIndex,ht=[],yt=Math.min(Math.floor(lt.legendItemContainerHeight/lt.legendItemHeight),ct.length),Ft=lt.titleWidth||0,kt=0,Gt=ct.length;kt<Gt;kt++){var ar=ct[kt],sr=(0,m.qk)(ot,ar.label),pr=ie.b.measureSvgTextWidth(sr);if(pr>Ft&&(Ft=Math.min(pr,Tt)),kt>=it&&kt<it+yt){var fr=pr;if(fr>Tt){var Mr=ie.b.getTailoredTextOrDefault(sr,Tt);sr.text=Mr,pr=ie.b.measureSvgTextWidth(sr)}ht.push({dataPoint:ar,desiredOverMaxWidth:pr>Tt,textProperties:sr,desiredWidth:fr,width:pr})}}return{legendItems:ht,horizontalWidthUsed:Ft}}({dataPoints:sr,legendItemContainerHeight:Tt.height-(ht?ht.height:0)-(yt.previous?Fe:0)-(yt.next?Fe:0),maxHorizontalSpaceAvaliable:ar-(Gt?kt:Ft)-Se,legendDataStartIndex:it,fontProperties:lt.fontProperties,titleWidth:ht?ht.width:void 0,legendItemHeight:lt.svgHeight});ct=hr.legendItems;var Ir=lt.drawOptions.lastCalculatedWidth;return lt.drawOptions.autoWidth&&(Ir=Math.ceil(hr.horizontalWidthUsed+(Gt?kt:Ft)+Se)),{legendItems:ct,verticalLegendWidth:Ir}}function Ke(lt,ct,Tt,ot,it,ht){var yt=(0,m.qk)(Tt,ct.label),Ft=ie.b.measureSvgTextWidth(yt),kt=Ft,Gt=!1;if(kt>Q){Gt=!0;var ar=ie.b.getTailoredTextOrDefault(yt,Q);yt=(0,m.qk)(Tt,ar),kt=ie.b.measureSvgTextWidth(yt)}var sr=it-(kt+ot+ht);return sr<0?{newRemainingWidth:it,fit:!1}:(lt.push({dataPoint:ct,textProperties:yt,width:kt,desiredWidth:Ft,desiredOverMaxWidth:Gt}),{newRemainingWidth:sr,fit:!0})}function He(lt){var ct=lt.legendDataStartIndex,Tt=lt.arrowPosWindow,ot=lt.useLargeArrowHitArea,it=lt.verticalLegendWidth,ht=lt.isTabbable,yt=lt.navigationArrow,kt=lt.arrowClassAndSelector,ar=it?it+xe:ot?yt?yt.hitAreaWidth:ze:ze+xe,sr=lt.legend.selectAll(kt.selector).data(yt?[yt]:[]),pr=sr.enter().append("svg").classed(kt.class,!0).style("position","relative").merge(sr);ht&&pr.attrs({tabindex:0,focusable:!0}).on("keydown",function(hr){var Ir=d3.event,Pt=Ir.keyCode;if(32===Pt||13===Pt){Ir.stopPropagation(),lt.rerenderCallback(yt.type,ct,Tt);var ue=lt.legend.selectAll(A.selector+(1===yt.type?":last-child":":first-child")).node();ue&&he.M.focus(ue)}}),pr.classed("flex-order-second",yt&&1===yt.type).classed("flex-order-fourth",yt&&0===yt.type).attrs({width:ar,height:Fe,role:"button","aria-label":function(Ir){return lt.hostService?lt.arrowClassAndSelector.class===L.class?lt.hostService.getLocalizedString("Next_ButtonText"):lt.arrowClassAndSelector.class===g.class?lt.hostService.getLocalizedString("Previous_ButtonText"):"":null}}).on("click",function(hr){lt.rerenderCallback(yt.type,ct,Tt)}),sr.exit().remove();var fr=pr.selectAll(".navArrow").data(function(hr){return function(lt,ct){var Tt=lt;if(Tt.isHitArea=!1,Tt.index=Math.abs(Tt.arrowOffset),!ct)return[Tt];var ot=Object.create(Tt);return ot.isHitArea=!0,ot.index++,[ot,Tt]}(hr,ot)},function(hr){return hr.index.toString()});fr.enter().append("path").classed("navArrow",!0).merge(fr).attrs({d:function(Ir){return Ir.path},transform:function(Ir){return"".concat((0,h.Iu)(ar/2-ze/2,0)," ").concat(Ir.rotateTransform)},"stroke-width":function(Ir){return Ir.isHitArea?"".concat(Ir.hitAreaWidth,"px"):void 0},"fill-opacity":function(Ir){return Ir.isHitArea?"0":void 0},"stroke-opacity":function(Ir){return Ir.isHitArea?"0":void 0}}),fr.exit().remove()}var ke=5,ft=5,Le=31,Q=60,ae=15,Se=10,nt=.3,We=j.pt,de=.52,te=5,Ve=1,xe=2,Z_Horizontal={arrowSize:30,hitAreaWidthPx:28,arrowsOffset:-10},Z_Vertical={arrowSize:12,hitAreaWidthPx:18,arrowsOffset:-3},Fe=15,ze=7.5;function rt(lt){var ct=lt.title,Tt=0,ot=!_.isEmpty(ct),it=!ot&&lt.showTitlePlaceholder;if(it&&(ct=lt.hostServices.getLocalizedString("Format_AddLegendTitle")),ot||it){var ht=(0,Ne.s0)(lt.orientation),yt=void 0;yt=ht?lt.parentViewport.width*nt-(ke+(lt.legendFontSizeMarginValue>We?5+lt.legendFontSizeMarginDifference:5)+(5+ke))-Se+ae/2:lt.viewport.width-Se;var ar=(0,m.qk)(lt.fontProperties,ct),sr=ct;return(Tt=ie.b.measureSvgTextWidth(ar))>yt&&(sr=ie.b.getTailoredTextOrDefault(ar,yt),ar.text=sr,Tt=ie.b.measureSvgTextWidth(ar)),ht?Tt+=ae/2:sr=ie.b.getTailoredTextOrDefault(ar,lt.viewport.width),{x:0,y:0,text:sr,width:Tt,height:ie.b.estimateSvgTextHeight(ar),isPlaceholder:it}}return null}function Oe(lt,ct,Tt,ot,it){0===ot&&(lt.previous=void 0);var ht=it;return it=Tt,(lt.next||lt.previous)&&it===ct&&(it=ht,lt.next=void 0),it}function et(lt,ct,Tt,ot,it,ht){var yt=lt;Tt.styles({height:(yt.height||(ot?it.height:0))+"px",width:(yt.width||(ot?it.width:0))+"px"});var Ft=ht?Se:0;Tt.styles({"margin-left":(0,Ne.tO)(ct)?it.width-yt.width+Ft+"px":null,"margin-top":(0,Ne.Kx)(ct)?it.height-yt.height+"px":null,"margin-right":(0,Ne.nM)(ct)&&ht?Ft+"px":null})}var at=t(409200),St=t(613218),Ie=t(878081),qe={show:{objectName:"legend",propertyName:"show"},position:{objectName:"legend",propertyName:"position"},showTitle:{objectName:"legend",propertyName:"showTitle"},titleText:{objectName:"legend",propertyName:"titleText"},labelColor:{objectName:"legend",propertyName:"labelColor"},fontSize:{objectName:"legend",propertyName:"fontSize"},fontFamily:{objectName:"legend",propertyName:"fontFamily"},showGradientLegend:{objectName:"legend",propertyName:"showGradientLegend"},bold:{objectName:"legend",propertyName:"bold"},italic:{objectName:"legend",propertyName:"italic"},underline:{objectName:"legend",propertyName:"underline"}};function bt(lt,ct,Tt,ot,it,ht,yt){return void 0===ot&&(ot=!1),void 0===it&&(it=Ne.tV.Top),void 0===ht&&(ht=(0,v.Ue)()),ct?new Or(lt):new Zr(lt,it,ht,Tt,yt,ot)}var Rt=7,zt=8,Kt={objectName:"dataPoint",propertyName:"fill"};function Yt(lt,ct){var Tt=ct.getMargins(),ot=ct.getPosition();lt.styles({"margin-left":(0,Ne.nM)(ot)?Tt.width+"px":null,"margin-top":(0,Ne.RB)(ot)?Tt.height+"px":null})}function lr(lt){void 0===lt&&(lt=(0,v.Ue)());var ct=(0,p.m)(lt,"lightLabel"),Tt={family:Ne.cp,size:j,color:a.v.getThemeColor(lt,Ur)};return(0,m.ED)(Tt,ct)}function dr(lt){return{show:!0,title:"",dataPoints:[],fontProperties:lr(lt),grouped:!1,showTitle:!0,position:Ne.tV.Top,isGradientLegend:!1,fromDefault:!0}}function pt(lt,ct){var Tt=(0,y.G)(lt.dataView,{staticSeriesRoleNames:lt.staticSeriesRoleNames,colorOptions:{valueRole:lt.staticSeriesRoleNames&&lt.staticSeriesRoleNames[0],visualStyle:lt.style,ignoreDefaultColor:lt.ignoreDefaultColor,ignoreDefaultCategoryColor:lt.ignoreDefaultCategoryColor}});if(!Tt.data.hasSeries()){var ot=function(lt,ct){if(ct)return(0,r.t6)(lt,Kt)}(lt.dataView,ct);return ot?function(lt,ct,Tt){return zr(lt.metadata.objects,[],!1,ct.source.displayName,!1,Tt,ct)}(lt.dataView,ot,lt.style):lt.allowLegendWithNoSeries?function(lt,ct){if(lt.data.getSeriesCount()){var Mr,Tt=ct.lineAndMarkerOptions,ot=lt.data.getValueDisplayName(_.last(ct.staticSeriesRoleNames)),it=(0,s.WU)(ot,lt.objects.getValueFormatString(_.last(ct.staticSeriesRoleNames),0)),ht=lt.colors.createByValue(0,l.fA),yt=lt.identities.createForValue(0),Ft=lt.objects.getStaticObjects(),kt=Tt?Tt.defaultMarkerShape:void 0,Gt=Tt?(0,f.gT)(Ft,ct.style):void 0,ar=Tt&&Tt.legendMarkerRendering,sr=(0,r.NA)(Ft,i.zK.lineStyles.lineStyle,St.SQ),pr=Tt?(0,f.i)(lt,Gt,0,ct.style):void 0,fr=ct.simpleMarkerProp;Mr=fr?fr?(0,r.NA)(Ft,fr,Je.Xw):Je.Xw:(0,f.xf)(pr,ar,kt);var hr=Tt&&Tt.renderLineStyle&&ar!==at.f2&&ar!==at.G_;return zr(Ft,[{color:(0,f.XU)(pr,ht,ar,Tt&&Tt.matchSeriesColor),label:it,icon:Ie.l.Circle,identity:yt,selected:!1,markerShape:Mr,lineStyle:hr?sr:void 0,lineColor:ht,index:0}],ct.showByDefault,"",void 0,ct.style)}}(Tt,lt):dr(lt.style)}for(var it=Tt.objects.getStaticObjects(),ht=[],yt=Tt.columns.hasDynamicSeries(),Ft=lt.simpleMarkerProp,kt=Ft?(0,r.NA)(it,Ft,Je.Xw):Je.Xw,Gt=lt.lineAndMarkerOptions,ar=Gt?Gt.defaultMarkerShape:void 0,sr=Gt&&Gt.legendMarkerRendering,pr=Gt?(0,f.gT)(it,lt.style):void 0,fr=Gt&&(0,r.NA)(it,i.zK.lineStyles.showSeries,!0),Mr=(0,r.NA)(it,i.zK.lineStyles.lineStyle,St.SQ),hr=0,Ir=Tt.data.getSeriesCount();hr<Ir;hr++){var Ae,Pt=Tt.data.getSeriesName(hr),dt=(0,s.WU)(Pt,Tt.objects.getSeriesFormatString(hr)),ue=fr?(0,f.i)(Tt,pr,hr,lt.style):pr,k=Tt.colors.createBySeries(hr,void 0,l.fA),se=Tt.identities.createForSeries(hr);Ae=Ft?(0,r.NA)(Tt.objects.getSeriesDataObjects(hr),Ft,kt):(0,f.xf)(ue,sr,ar);var $e=Gt&&Gt.renderLineStyle&&sr!==at.f2&&sr!==at.G_;ht.push({color:(0,f.XU)(ue,k,sr,Gt&&Gt.matchSeriesColor),label:dt,icon:Ie.l.Circle,identity:se,selected:!1,markerShape:Ae,lineStyle:$e?(0,r.NA)(Tt.objects.getSeriesDataObjects(hr),i.zK.lineStyles.lineStyle,Mr):void 0,lineColor:k,index:hr})}return zr(Tt.objects.getStaticObjects(),ht,lt.showByDefault,Tt.data.getSeriesDisplayName()||"",yt,lt.style)}function er(lt){var ot,ct=(0,y.y)(lt.dataView,{colorOptions:{valueRole:lt.valueRole,visualStyle:lt.style}}),Tt=[],it=lt.categoryRole,ht=ct.objects.getStaticObjects();if(ct.data.hasCategories()){ot=ct.data.getCategoryDisplayName(it);for(var yt=0,Ft=ct.data.getCategoryCount();yt<Ft;yt++){var kt=ct.data.getCategoryValue(it,yt),Gt=(0,s.WU)(kt,ct.objects.getCategoryFormatString(it)),ar=ct.colors.createByCategory(yt,l.fA),sr=ct.identities.createForCategory(yt);Tt.push({color:ar,label:Gt,icon:Ie.l.Circle,identity:sr,selected:!1,index:yt})}}return zr(ht,Tt,lt.showByDefault,ot,void 0,lt.style)}function Pr(lt){var ct=lt.dataView.matrix;return o.fF.assertValue(ct,"there must be a valid matrix DataView"),gr(lt,ct.columns)}function mr(lt){var ct=lt.dataView.matrix;return o.fF.assertValue(ct,"there must be a valid matrix DataView"),gr(lt,ct.rows)}function gr(lt,ct){var Tt=lt.dataView.metadata.objects;o.fF.assert(function(){return!_.isEmpty(ct.levels)},"the matrix should have at least one level");var ot=[];if(_.isEmpty(ct.levels))return dr(lt.style);var it=ct.levels[0].sources[0],ht=ct.root.childIdentityFields,yt=ct.root.children;if(!yt)return dr(lt.style);var ar,Ft=lt.markerShowSeriesPropIdentifier,kt=!1,Gt=lt.markerShapePropIdentifier;Gt?(Ft&&(kt=(0,r.NA)(Tt,Ft,!0)),ar=(0,r.NA)(Tt,lt.markerShapePropIdentifier,Je.Xw)):ar=Je.Xw;for(var sr=0,pr=yt.length;sr<pr;sr++){var fr=yt[sr];if(!fr.isSubtotal){var Mr=fr.value,hr=(0,n.xq)(Mr,it,lt.formatStringProp),Ir=lt.colorHelper.getColorForSeriesValue(fr.objects,ht,Mr,l.fA),dt=(new u.dw).withColumnIdentity(fr.identity,it.queryName).createSelectionId(),ue=ar;kt&&(ue=Gt?(0,r.NA)(fr.objects,Gt,ue):Je.Xw),ot.push({color:Ir,label:hr,icon:Ie.l.Circle,identity:dt,selected:!1,markerShape:ue,index:sr})}}return zr(Tt,ot,lt.showByDefault,it.displayName,!!yt,lt.style)}function xr(lt){var ct=[],Tt=!1,ot=lt[0];if(ot.isGradientLegend){for(var it=function(fr,Mr){o.fF.assert(function(){return ot===lt[fr]})},ht=0,yt=lt.length;ht<yt;ht++)it(ht);return ot}for(ht=0,yt=lt.length;ht<yt;ht++){var Ft=lt[ht];if(!_.isEmpty(Ft.dataPoints))for(var kt=0,Gt=Ft.dataPoints;kt<Gt.length;kt++){var ar=Gt[kt];ar.layerNumber=ht,ct.push(ar)}Ft.grouped&&(Tt=!0)}var sr=_.find(lt,function(pr){return!pr.fromDefault})||ot;return{dataPoints:ct,show:sr.show,position:sr.position,showTitle:sr.showTitle,title:sr.title,grouped:Tt,fontProperties:sr.fontProperties,bold:sr.bold,italic:sr.italic,underline:sr.underline}}function Vr(lt,ct){var Tt=lt.legendData,ot={selector:null,properties:{show:Tt.show,position:Ne.tV[Tt.position],showTitle:Tt.showTitle,titleText:Tt.title,labelColor:Tt.fontProperties.color,fontFamily:Tt.fontProperties.family,fontSize:Tt.fontProperties.size.pt,bold:Tt.bold,italic:Tt.italic,underline:Tt.underline},propertyInstanceKind:{labelColor:3},objectName:lt.objectName||"legend"};null!=lt.legendMarkerRendering&&(ot.properties[i.zK.legend.legendMarkerRendering.propertyName]=lt.legendMarkerRendering),null!=lt.matchLineColor&&(ot.properties[i.zK.legend.matchLineColor.propertyName]=lt.matchLineColor),null!=lt.defaultToCircle&&(ot.properties[i.zK.legend.defaultToCircle.propertyName]=lt.defaultToCircle),lt.enumeration.pushInstance(ot)}function Qr(lt,ct,Tt,ot,it){void 0===ot&&(ot=!1),null==it&&(it=Tt.onObject?"Visual_LegendCard_DisabledReasonNew":"Visual_LegendCard_DisabledReason");var ht=lt.legendData,yt=[qe.show,qe.showGradientLegend,qe.position,qe.showTitle,qe.titleText,qe.labelColor,qe.fontFamily,qe.fontSize,i.zK.legend.legendMarkerRendering,i.zK.legend.matchLineColor,qe.bold,qe.italic,qe.underline];Tt.removeDefaultToCircleToggle||yt.push(i.zK.legend.defaultToCircle);var Ft=new S.CQ(new S.lg("legend"),"Role_DisplayName_Legend",yt,function(ar){return ct.getLocalizedString(ar)});if(Ft.addTopLevelToggle("show",function(){return new S.bd({descriptor:qe.show,value:!ot&&ht.show}).build()}),ot)return Ft.withDisabled(!0,it),Ft.build();var Gt=(new S.UN).withFontFamily({descriptor:qe.fontFamily,value:ht.fontProperties.family}).withFontSizeProperties({descriptor:qe.fontSize,value:ht.fontProperties.size.pt}).withBold({descriptor:qe.bold,value:ht.bold}).withItalic({descriptor:qe.italic,value:ht.italic}).withUnderline({descriptor:qe.underline,value:ht.underline}).build();return Ft.withDescription("Visual_LegendDescription").addGroup("options",function(ar){ar.withDisplayName("Desktop_FileMenu_Options"),ar.addSimpleSlice("position",new S.uY({descriptor:qe.position,value:Ne.tV[ht.position]}).build()),Tt.removeDefaultToCircleToggle&&null!=lt.legendMarkerRendering?ar.addSimpleSlice("markerRendering",new S.uY({descriptor:i.qn.legend.legendMarkerRendering,value:lt.legendMarkerRendering}).build()):null!=lt.legendMarkerRendering&&ar.addSimpleSlice("markerRendering",new S.uY({descriptor:i.qn.legend.legendMarkerRendering,value:lt.legendMarkerRendering,filterValues:[at.f2,at.tl,at.XD]}).build()),null!=lt.matchLineColor&&ar.addSimpleSlice("matchLineColor",new S.bd({descriptor:i.qn.legend.matchLineColor,value:lt.matchLineColor}).build()),!Tt.removeDefaultToCircleToggle&&null!=lt.defaultToCircle&&ar.addSimpleSlice("defaultToCircle",new S.bd({descriptor:i.qn.legend.defaultToCircle,value:lt.defaultToCircle}).build())}),Ft.addGroup("text",function(ar){ar.withDisplayName("Text").addCompositeSlice("fontselector","Font",Gt).addSimpleSlice("color",function(){var sr={value:ht.fontProperties.color};return new S.BT({descriptor:(0,e.__assign)((0,e.__assign)({},qe.labelColor),{instanceKind:3}),value:sr}).build()})}).addGroup("title",function(ar){ar.withDisplayName("Title").addTopLevelToggle("showTitle",function(){return new S.bd({descriptor:qe.showTitle,value:ht.showTitle}).build()}).addSimpleSlice("titleText",new S.fq({descriptor:qe.titleText,value:ht.title,placeholder:""}).build(),function(sr){return sr.withCustomDisplayName("Visual_Title_Text")})}),Ft.build()}function Gr(){}function Jr(lt){var ct="".concat("Visual","-").concat("legend"),Tt="".concat("legend","-").concat("text"),ot={cardUid:ct,groupUid:Tt,sliceUid:"".concat(Tt,"-fontselector")},it={cardUid:ct,groupUid:Tt,sliceUid:"".concat(Tt,"-color")};return(0,V.Co)(lt,{fontReference:ot,fontColorReference:it})}function Hr(lt){var ct="".concat("legend","-").concat("title");return[{type:2,sourceUid:ct,disabledLabel:lt.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetSourceUids:[{sourceUid:"".concat(ct,"-showTitle")}]},{type:1,destinationUids:[{cardUid:"".concat("Visual","-").concat("legend"),groupUid:ct}],label:lt.getLocalizedString("Format_Legend_Title")}]}function Yr(lt){var ct=lt.hostServices,Tt=lt.showSort,ot="".concat("Visual","-").concat("legend"),it="".concat("legend","-").concat("title"),ht=[{type:2,sourceUid:ot,disabledLabel:ct.getLocalizedString("Delete"),keyboardShortcuts:[{key:"Delete",nextValue:!1}]},{type:0,excludedResetSourceUids:[{sourceUid:it},{sourceUid:ot}]},{type:2,sourceUid:it,enabledLabel:ct.getLocalizedString("Format_AddLegendTitle")}];return Tt&&ht.push({type:4,sortableField:{queryName:"",sortDirection:1},label:ct.getLocalizedString("Format_SortLegend"),key:"Legend"}),(0,e.__spreadArray)((0,e.__spreadArray)([],ht,!0),[{type:1,destinationUids:[{cardUid:"".concat("Visual","-").concat("legend"),groupUid:"".concat("legend","-").concat("options")}],label:ct.getLocalizedString("Format_Legend")}],!1)}var Zr=function(){function lt(ct,Tt,ot,it,ht,yt){this.style=ot,this.interactivityService=it,this.hostService=ht,this.isScrollable=yt,this.legendDataStartIndex=0,this.arrowPosWindow=1,this.lastCalculatedWidth=0,this.element=d3.select(ct.get(0)),this.setPosition(Tt),this.viewport={height:0,width:0}}return lt.prototype.getMargins=function(){return this.viewport},lt.prototype.isVisible=function(){return(0,Ne.dx)(this.data)},lt.prototype.setPosition=function(ct){this.orientation=ct||Ne.tV.Top},lt.prototype.getPosition=function(){return this.orientation},lt.prototype.drawLegend=function(ct,Tt,ot){var it=ot&&ot.isHierarchicalAxis||!1,ht=ot&&ot.formatMode||void 0,yt=ot&&ot.onObject,Ft=(0,d.ED)(ct);_.defaults(Ft,{fontProperties:lr(this.style)});for(var kt=[],Gt=0,ar=ct.dataPoints;Gt<ar.length;Gt++)kt.push((0,d.ED)(ar[Gt]));Ft.dataPoints=kt,lt.setTooltipToLegendItems(Ft),(Ft.fontSize||Ft.labelColor)&&(Ft.fontProperties={color:Ft.labelColor||"#666666",size:Ft.fontSize?b.B.createFromPt(Ft.fontSize):j,family:Ne.cp}),Ft.fontProperties||(Ft.fontProperties=lr(this.style)),Ft.isGradientLegend||((0===Ft.dataPoints.length||Ft.position===Ne.tV.None)&&(Ft.show=!1),Ft.show||(Ft.dataPoints=[])),this.interactivityService&&(this.interactivityService.applySelectionStateToData(ct.dataPoints),this.interactivityService.applySelectionStateToData(Ft.dataPoints)),this.legendDataStartIndex=c.b$.clampValue(this.legendDataStartIndex,0,Math.max(Ft.dataPoints.length-1,0)),this.render(Ft,Tt,_e,it,ht,yt,ot&&ot.titleSliceUid,ot&&ot.showTitlePlaceholder)},lt.prototype.render=function(ct,Tt,ot,it,ht,yt,Ft,kt){var Gt=this;this.viewport=ot({data:ct,parentViewport:Tt,autoWidth:!0,element:this.element,lastCalculatedWidth:this.lastCalculatedWidth,orientation:this.orientation,isScrollable:this.isScrollable,arrowPosWindow:this.arrowPosWindow,legendDataStartIndex:this.legendDataStartIndex,interactivityService:this.interactivityService,rerenderCallback:function sr(pr,fr,Mr){var hr=0===pr?fr+Mr:fr-Mr;hr=Gt.legendDataStartIndex=c.b$.clampValue(hr,0,ct.dataPoints.length-1),Gt.viewport=ot({data:ct,parentViewport:Tt,autoWidth:!0,element:Gt.element,lastCalculatedWidth:Gt.lastCalculatedWidth,orientation:Gt.orientation,isScrollable:Gt.isScrollable,arrowPosWindow:Mr,legendDataStartIndex:hr,interactivityService:Gt.interactivityService,rerenderCallback:sr,visualStyle:Gt.style,hostService:Gt.hostService,isHierarchicalAxis:it,formatMode:ht,onObject:yt,titleSliceUid:Ft,showTitlePlaceholder:kt})},visualStyle:this.style,hostService:this.hostService,isHierarchicalAxis:it,formatMode:ht,onObject:yt,titleSliceUid:Ft,showTitlePlaceholder:kt})},lt.prototype.reset=function(){},lt.setTooltipToLegendItems=function(ct){for(var Tt=0,ot=ct.dataPoints;Tt<ot.length;Tt++){var it=ot[Tt];it.tooltip=it.label}},lt}(),Or=function(){function lt(ct){this.legendContainerParent=d3.select(ct.get(0))}return lt.prototype.getMargins=function(){return{height:lt.LegendHeight,width:0}},lt.prototype.drawLegend=function(ct){o.fF.assertValue(ct,"legendData");var Tt=ct.dataPoints;if(o.fF.assertValue(Tt,"dataPoints"),!(Tt.length<1)){var ot=this.legendContainerParent.select(lt.LegendContainerSelector);if(ot.empty()){if(!Tt.length)return;var it=$("<div></div>").height(this.getMargins().height).addClass(lt.LegendContainerClass);$(this.legendContainerParent.node()).prepend(it),ot=d3.select(it.get(0))}this.legendContainerDiv=ot,this.drawTitle(Tt),this.drawLegendItems(Tt)}},lt.prototype.reset=function(){this.legendContainerDiv&&(this.legendContainerDiv.remove(),this.legendContainerDiv=null)},lt.prototype.isVisible=function(){return!0},lt.prototype.setPosition=function(ct){},lt.prototype.getPosition=function(){return Ne.tV.Top},lt.prototype.drawTitle=function(ct){o.fF.assert(function(){return ct&&ct.length>0},"data is null or empty");var ot=this.legendContainerDiv.selectAll("div."+lt.LegendTitleClass).data([ct[0]]),it=ot.enter().append("div").attr("class",lt.LegendTitleClass);it.filter(function(yt){return yt.iconOnlyOnLabel}).append("span").attr("class",lt.legendIconClass).html(lt.legendPlaceSelector),it.append("span");var ht=it.merge(ot);ht.filter(function(yt){return yt.iconOnlyOnLabel}).select("span."+lt.legendIconClass).style(lt.legendColorCss,function(yt){return yt.color}),ht.select("span:last-child").text(function(yt){return yt.category})},lt.prototype.drawLegendItems=function(ct){this.ensureLegendTableCreated();var Tt=[ct],ot=this.legendContainerDiv.select("tbody").selectAll("tr").data(Tt),it=ot.enter().append("tr"),yt=it.selectAll("td").data(function(Gt){return Gt},function(Gt){return Gt.label}).enter().append("td").attr("class",lt.LegendItem).append("span");yt.filter(function(Gt){return!Gt.iconOnlyOnLabel}).append("span").html(lt.legendPlaceSelector).attr("class",lt.legendIconClass).attr("white-space","nowrap").styles({"font-size":"20px","margin-bottom":"7px"}),yt.append("span").attr("class",lt.legendItemNameClass),yt.append("span").attr("class",lt.legendItemMeasureClass);var kt=it.merge(ot).selectAll("td").data(function(Gt){return Gt},function(Gt){return Gt.label});kt.select("span."+lt.legendItemNameClass).html(function(Gt){return(0,C.nU)(Gt.label)}),kt.select("span."+lt.legendItemMeasureClass).html(function(Gt){return"&nbsp;"+Gt.measure}),kt.select("span."+lt.legendIconClass).style("color",function(Gt){return Gt.color}),kt.exit().remove()},lt.prototype.ensureLegendTableCreated=function(){if(this.legendContainerDiv.select("div table").empty()){var ct=this.legendContainerDiv.append("div").append("table");ct.style("table-layout","fixed").append("tbody"),this.setPanGestureOnLegend(ct)}},lt.prototype.setPanGestureOnLegend=function(ct){var Tt=$(this.legendContainerParent.node()).width(),ot=d3.zoom().on("zoom",function(){if($(ct.node()).width()>Tt){var it=d3.event.transform.x;it=Math.min(it,0),it=Math.max(it,Tt-$(ct.node()).width()),ct.style("-ms-transform",(0,h.y4)(it)),ct.style("-webkit-transform",(0,h.y4)(it)),ct.style("transform",(0,h.y4)(it))}});this.legendContainerDiv?this.legendContainerDiv.call(ot):ct.call(ot)},lt.LegendHeight=70,lt.LegendContainerClass="interactive-legend",lt.LegendContainerSelector=".interactive-legend",lt.LegendTitleClass="title",lt.LegendItem="item",lt.legendPlaceSelector="\u25cf",lt.legendIconClass="icon",lt.legendColorCss="color",lt.legendItemNameClass="itemName",lt.legendItemMeasureClass="itemMeasure",lt}(),Ur="foregroundNeutralSecondary";function zr(lt,ct,Tt,ot,it,ht,yt){void 0===it&&(it=!1),void 0===ht&&(ht=(0,v.Ue)());var Ft=a.v.create(ht),kt=(0,r.NA)(lt,qe.showGradientLegend,!1),Gt=(0,r.NA)(lt,qe.show,Tt=yt?kt:Tt);Gt=yt?Gt&&kt:Gt;var ar=Ne.tV[(0,r.NA)(lt,qe.position,"Top")],sr=(0,r.NA)(lt,qe.showTitle,!0),pr=(0,r.RK)(lt,qe.labelColor.objectName),fr=(0,m.Zi)(pr,{color:qe.labelColor.propertyName,size:qe.fontSize.propertyName,family:qe.fontFamily.propertyName,bold:qe.bold.propertyName,italic:qe.italic.propertyName,underline:qe.underline.propertyName},Ft,ht,Ur,"lightLabel",{color:a.v.getThemeColor(ht,Ur),size:j,family:Ne.cp,weight:void 0,style:void 0,textDecoration:void 0});return{show:Gt,position:ar,dataPoints:ct,showTitle:sr,title:(0,r.NA)(lt,qe.titleText,ot),grouped:it,fontProperties:fr,isGradientLegend:!!yt,gradientRule:yt,bold:(0,r.NA)(lt,qe.bold,!1),italic:(0,r.NA)(lt,qe.italic,!1),underline:(0,r.NA)(lt,qe.underline,!1)}}function ai(lt){return _.map(lt.dataPoints,function(ct){return{color:ct.color,displayName:ct.label,identity:ct.identity}})}},643293:function(Xe,H,t){t.d(H,{D:function(){return e}});var e={actionButton:"actionButton",animatedNumber:"animatedNumber",areaChart:"areaChart",barChart:"barChart",basicShape:"basicShape",shape:"shape",card:"card",cardVisual:"cardVisual",multiRowCard:"multiRowCard",clusteredBarChart:"clusteredBarChart",clusteredColumnChart:"clusteredColumnChart",columnChart:"columnChart",donutChart:"donutChart",funnel:"funnel",gauge:"gauge",hundredPercentStackedBarChart:"hundredPercentStackedBarChart",hundredPercentStackedColumnChart:"hundredPercentStackedColumnChart",image:"image",lineChart:"lineChart",lineStackedColumnComboChart:"lineStackedColumnComboChart",lineClusteredColumnComboChart:"lineClusteredColumnComboChart",map:"map",filledMap:"filledMap",azureMap:"azureMap",ribbonChart:"ribbonChart",shapeMap:"shapeMap",treemap:"treemap",pieChart:"pieChart",realTimeLineChart:"realTimeLineChart",scatterChart:"scatterChart",stackedAreaChart:"stackedAreaChart",table:"table",matrix:"matrix",tableEx:"tableEx",pivotTable:"pivotTable",accessibleTable:"accessibleTable",slicer:"slicer",advancedSlicerVisual:"advancedSlicerVisual",pageNavigator:"pageNavigator",bookmarkNavigator:"bookmarkNavigator",filterSlicer:"filterSlicer",textbox:"textbox",aiNarratives:"aiNarratives",waterfallChart:"waterfallChart",scriptVisual:"scriptVisual",pythonVisual:"pythonVisual",kpi:"kpi",keyDriversVisual:"keyDriversVisual",decompositionTreeVisual:"decompositionTreeVisual",qnaVisual:"qnaVisual",scorecard:"scorecard",rdlVisual:"rdlVisual",dataQueryVisual:"dataQueryVisual",debugVisual:"debugVisual",heatMap:"heatMap"}},227871:function(Xe,H,t){t.d(H,{L:function(){return ai}});var e=t(973188),l=t(643293),o=t(563746),d=t(498342),v=t(572909),S=t(512322),h=t(979868),c=t(842631),r=t(977691),s=t(505078),u=t(442137);function m(lt){switch(lt){case c.GT:return r.a.satellite;case c.j2:return r.a.night;case c.fS:return r.a.road;case c.se:return r.a.grayscaleLight;case c.AB:return r.a.road}return r.a.grayscaleLight}function f(lt){return _.clamp(lt-1,0,22)}function V(lt,ct,Tt){var ot=ct[0],ht=Tt[0],Ft=ct[1]-ot,kt=Tt[1]-ht;if(0===Ft)throw new Error("Input range size must be greater than 0");return(lt-ot)/Ft*kt+ht}var p=t(284524);function C(lt){var ct=_.first(lt.dataViewMappings),Tt=[],it=(0,p.hK)(ct.table.rows);return _.isEmpty(it)?{subjectKind:5,error:2,bindings:void 0}:(Tt.push.apply(Tt,it),{subjectKind:5,error:void 0,bindings:Tt})}function b(lt){var ct=_.first(lt.dataViewMappings),Tt=[],it=(0,p.hK)(ct.table.rows);return _.isEmpty(it)?{subjectKind:5,error:2,bindings:void 0}:(Tt.push.apply(Tt,it),{subjectKind:5,error:void 0,bindings:Tt})}var y=t(396898),D=t(268433),P=t(861344);function F(lt){var ct={},Tt=lt&&lt.categorical&&_.head(lt.categorical.categories);return Tt&&(ct.axisType=(0,y.PX)(lt.metadata.objects,P.mi.categoryAxis.axisType,Tt.source.type,void 0,(0,D.n$)(lt))?"scalar":"categorical"),ct}function E(lt){return(0,p.T6)(lt,1)}var w=t(262351),x=t(380073),R=t(277231);function g(lt){var ct=lt.dataViewMappings[0];ct&&(ct.categorical?function(lt){var ct=lt.dataViewMappings[0];if(ct.categorical.categories){if(ct.categorical.dataVolume=4,(0,y.iQ)(ct,!1)){ct.categorical.categories.dataReductionAlgorithm={sample:{}};var ot=ct.categorical.values;ot&&ot.group&&(ot.group.dataReductionAlgorithm={top:{}})}else(0,D.XS)([ct]);(0,D.K0)(lt.dataViewMappings);var it=T(lt);(0,D.kV)(lt.dataViewMappings,it)}}(lt):ct.matrix&&function(lt){var ct=lt.dataViewMappings[0];if((0,w.qO)(ct)){if((0,y.iQ)(ct,!0)){(0,w.s5)(ct,{sample:{}});var Tt=(0,w.b8)(ct);(0,R.Bx)([Tt],{min:!0,max:!0})}(0,R.vR)(ct,[P.au.y]),(0,R._F)(ct)}}(lt))}function T(lt){var ct=lt.dataViewMappings[0];return(0,w.qO)(ct)?function(lt){var ct=(0,y.iQ)(lt,!0),Tt=[P.au.rows];return ct||Tt.push(P.au.category),Tt.push(P.au.y,P.au.tooltips,P.au.series),Tt}(ct):function(lt){if(!lt||!lt.categorical||!lt.categorical.categories)return null;var Tt=lt.categorical.categories.for.in,ot=Tt.items,it=Tt.activeItems,ht=["Category","Series","Y","Tooltips"];if(!_.isEmpty(ot)){var Ft=void 0;lt.metadata&&(Ft=lt.metadata.objects);var kt=void 0;if(_.isEmpty(it))kt=ot[0].type;else if(1===it.length){var Gt=_.find(ot,function(ar){return ar.queryName===it[0]});d.fF.assert(function(){return!!Gt},"Item should always be defined"),kt=Gt.type}else if(it.length>1)return ht;return(0,y._K)(Ft,x.zK.categoryAxis.axisType,kt)?["Series"]:ht}return null}(ct)}var A=t(772034);function I(lt){_.isEmpty(lt.dataViewMappings)||(lt.dataViewMappings[0].matrix?function(lt){var ct=lt.dataViewMappings[0];if((0,w.qO)(ct)){if((0,y.iQ)(ct,!0)){(0,w.s5)(ct,{sample:{}});var Tt=(0,w.b8)(ct);(0,R.Bx)([Tt],{min:!0,max:!0})}(0,R.vR)(ct,[A.rJ.y,A.rJ.y2]),(0,R._F)(ct)}}(lt):function(lt){var ct=!_.isEmpty(lt.dataViewMappings)&&lt.dataViewMappings[0],Tt=lt.dataViewMappings.length>1&&lt.dataViewMappings[1];W(ct,Tt);var ht,ot=(0,y.iQ)(ct,!1);(ct&&ct.categorical&&(ct.categorical.dataVolume=4,ot)&&(ct.categorical.categories.dataReductionAlgorithm={sample:{}},(ht=ct.categorical.values)&&ht.group&&(ht.group.dataReductionAlgorithm={top:{}})),Tt&&Tt.categorical&&(Tt.categorical.dataVolume=4,ot))&&(Tt.categorical.categories.dataReductionAlgorithm={sample:{}},(ht=Tt.categorical.values)&&ht.group&&(ht.group.dataReductionAlgorithm={top:{}}));ot||(0,D.XS)(lt.dataViewMappings),(0,D.K0)(lt.dataViewMappings);var yt=K(lt);(0,D.kV)(lt.dataViewMappings,yt)}(lt))}function W(lt,ct){if(lt&&ct){var Tt=lt.categorical&&lt.categorical.values,ot=Tt.group&&!_.isEmpty(Tt.group.select)&&Tt.group.select[0];_.isEmpty(ot.for.in.items)&&(Tt.group.by.items=void 0)}}function K(lt){if(lt&&lt.dataViewMappings.length>0){var ct=lt.dataViewMappings[0];if((0,w.qO)(ct))return function(lt){var ct=(0,y.iQ)(lt,!0),Tt=[A.rJ.rows];return ct||Tt.push(A.rJ.category),Tt.push(A.rJ.y,A.rJ.y2,A.rJ.tooltips,A.rJ.series),Tt}(ct);if(!(0,y.iQ)(ct,!1))return["Category","Series","Y","Y2","Tooltips"]}return null}function ee(lt){if(!lt||_.isEmpty(lt.dataViewMappings))return{subjectKind:1,error:2,bindings:void 0};var ct=lt.dataViewMappings[0],Tt=lt.dataViewMappings[1];if(W(ct,Tt),!(ct&&ct.categorical&&ct.categorical.categories))return{subjectKind:1,error:2,bindings:void 0};var ot=(0,p.DS)(ct);return ot.push.apply(ot,(0,p.vx)(ct)),Tt&&Tt.categorical&&Tt.categorical.categories&&ot.push.apply(ot,(0,p.vx)(Tt)),_.isEmpty(ot)?{subjectKind:1,error:2,bindings:void 0}:{subjectKind:1,error:void 0,bindings:ot}}var ie=t(148782),he=t(470081),q=t(384195);function Y(lt){var ct=_.first(lt.dataViewMappings);d.fF.assertValue(ct,"mapping");var Tt=(0,he.NA)(ct.metadata.objects,q.Qw,void 0);null!=Tt&&(d.fF.assert(function(){return Tt>0&&_.isInteger(Tt)},"Invalid data reduction count"),ct.table.rows.dataReductionAlgorithm={top:{count:Tt}});var ot=_.groupBy(_.filter(ct.metadata.columns,function(it){var ht,yt;return!(null===(yt=null===(ht=null==it?void 0:it.objects)||void 0===ht?void 0:ht.columnOptions)||void 0===yt||!yt.suppressJoinPredicate)}),function(it){return it.queryName});_.isEmpty(ot)||(0,ie.vV)(ct.table,{visitRole:function(ht){if(ht.role===q.KK.values)for(var yt=0,Ft=ht.items;yt<Ft.length;yt++){var kt=Ft[yt];ot[kt.queryName]&&(kt.joinPredicate=0)}}})}var G=t(38488);function me(lt){var ct=lt.dataViewMappings[0];ct&&ct.matrix&&ct.metadata&&(function(lt,ct){var Tt=lt.metadata.columns,ot=ct.rows.for.in.items;if(!_.isEmpty(ot))for(var it=function(kt,Gt){var ar=ot[kt];if(!_.find(Tt,function(pr){return pr.queryName===ar.queryName}))return"continue";ar.subtotalType=1},ht=0,yt=ot.length;ht<yt;ht++)it(ht)}(ct,ct.matrix),lt.scopedAggregates&&function(lt){var Tt=_.find(lt.matrix.values.select,function(pr){return(0,R.uS)(pr)&&pr.for.in.role===G.Fw.analyze}).for.in.items;if(!_.isEmpty(Tt)){var ot=lt.matrix.rows.for.in.items;if(!_.isEmpty(ot)&&"levelMaximum"===(0,he.NA)(lt.metadata.objects,{objectName:G.I8.dataBars,propertyName:G.hq.dataBarScalingType},"levelMaximum")){for(var yt=0,Ft=lt.metadata.columns;yt<Ft.length;yt++){var kt=Ft[yt];if(kt.discourageAggregationAcrossGroups)return void d.fF.assertFail("Aggregates should not be computed across groups with different values of the column "+kt.queryName)}var Gt=Tt[0].queryName,ar=ot.map(function(pr){return pr.queryName});lt.scopedAggregates=[{min:!0,max:!0,scope:[ar[0]],queryName:Gt}];for(var sr=0;sr<ot.length-1;sr++)ot[sr].aggregates=[{min:!0,max:!0,scope:ar.slice(0,sr+2),queryName:Gt}]}}}(ct),function(lt){var ct,Tt=lt.matrix.rows.dataReductionAlgorithm;if(Tt&&Tt.topNPerLevel){var ot=lt.metadata.objects,it=null===(ct=(0,he.NA)(ot,{objectName:G.I8.tree,propertyName:G.hq.responsiveLayout}))||void 0===ct||ct,ht=(0,he.NA)(ot,{objectName:G.I8.tree,propertyName:it?G.hq.effectiveBarsPerLevel:G.hq.barsPerLevel},G.bR.defaultValue);(ht<G.bR.minValue||ht>G.bR.maxValue)&&(ht=G.bR.defaultValue),Tt.topNPerLevel.count=ht}}(ct))}function Ne(lt){return(0,p.T6)(lt,2)}function Ye(lt){var Tt=_.first(lt.dataViewMappings);if(!Tt||!Tt.categorical||!Tt.categorical.values)return{subjectKind:1,error:2,bindings:void 0};var ot=(0,p.YW)(Tt);return _.isEmpty(ot)?{subjectKind:5,error:2,bindings:void 0}:{subjectKind:5,error:void 0,bindings:ot}}function Je(lt){return!lt||_.isEmpty(lt.dataViewMappings)?{keyDriversConfiguration:void 0,error:1}:{keyDriversConfiguration:_e(lt.dataViewMappings),error:void 0}}function _e(lt){d.fF.assertValue(lt,"compiledDataViewMappings");var ct=_.first(lt),Tt=ct.table,ot=ct.metadata,it=ot.objects,ht=_.map(ot.columns,function(Pt){return Pt.queryName}),yt=Tt.rows,Ft=yt.select[0],kt=yt.select[1];d.fF.assert(function(){return 1===Ft.bind.to.items.length},"There should be exactly one analyze item"),d.fF.assert(function(){return kt.for.in.items.length>=1},"There should be at least one explain by item");var Gt="keyDrivers",ar=_.first(Ft.bind.to.items).queryName,sr=_.map(kt.for.in.items,function(Pt){return Pt.queryName}),pr=_.filter(ht,function(Pt){return ar!==Pt&&sr.indexOf(Pt)<0}),fr=(0,he.NA)(it,{objectName:Gt,propertyName:"targetValue"},void 0),Mr=(0,he.NA)(it,{objectName:Gt,propertyName:"selectedNumericAnalysis"},void 0),hr=(0,he.NA)(it,{objectName:Gt,propertyName:"numericTargetSelectedKind"},void 0);return void 0!==hr&&0===hr?hr="Increase":void 0!==hr&&1===hr&&(hr="Decrease"),{analyzeQueryName:ar,explainByQueryNames:sr,expandByQueryNames:pr,targetValue:fr,numericTargetSelectedKind:hr,selectedNumericAnalysis:Mr}}var pe=t(366769),fe=t(146828),oe=t(635019),ye=[{objectProperty:oe.xg.indicatorFontFamilyProp,defaultValue:(0,S.fL)(pe.Wn.lightSecondary.family)},{objectProperty:oe.xg.goalFontSizeProp,defaultValue:(0,S.cA)(fe.qy)},{objectProperty:oe.xg.goalFontFamilyProp,defaultValue:(0,S.fL)(pe.Wn.semibold.family)}];function Ce(lt){return(0,p.T6)(lt,5)}var Be=t(865001),be=t(493369),Te=t(358246),ce=t(817611),Ke=t(637916),tt=t(319124);function mt(lt){var ct=lt.dataViewMappings[0];ct&&(ct.categorical?function(lt){var ct=lt.dataViewMappings[0],Tt=null==ct?void 0:ct.categorical;if(Tt&&Tt.categories){Tt.dataVolume=4;var ot=Tt.categories,it=_.find(lt.dataViewMappings,function(Gt){var ar;return!(null===(ar=Gt.usage)||void 0===ar||!ar.anomalyDetection)});it&&(function(lt,ct){d.fF.assertValue(lt&&lt.dataReductionAlgorithm,"categorical dataReductionAlgorithm"),d.fF.assertValue(ct&&ct.categorical,"anomalyDetection.categorical");var Tt=lt.dataReductionAlgorithm.binnedLineSample;d.fF.assertValue(!Tt.count,"binnedLineSample.count should be undefined"),d.fF.assertValue(!Tt.warningCount,"binnedLineSample.warningCount should be undefined"),Tt.count=4900,Tt.warningCount=3500,ct.categorical.dataReductionAlgorithm={binnedLineSample:{}};var ot=ct.categorical.dataReductionAlgorithm.binnedLineSample;ot.count=Tt.count,ot.warningCount=Tt.warningCount}(Tt,it),_.some(lt.dataViewMappings,function(Gt){return(0,ce.el)(Gt)})||_.remove(lt.dataViewMappings,function(Gt){return Gt===it}));var ht=!1;if((0,y.$9)(ct.metadata.objects,x.zK.categoryAxis.axisType)){ht=(0,be.A9)(ct);var yt=_.find(lt.dataViewMappings,function(Gt){var ar;return!(null===(ar=Gt.usage)||void 0===ar||!ar.forecast)});(0,ie.Sr)(ot,{visitRole:function(ar){He(ar,yt,it,!1)}})}if(!ht&&!(0,y.iQ)(ct,!1)){_.remove(lt.dataViewMappings,function(Gt){return Gt.usage&&(Gt.usage.forecast||Gt.usage.anomalyDetection)}),(0,x.BX)(ct,!1);var Ft=[ct];(0,D.XS)(Ft);var kt=Q(lt);(0,D.kV)(Ft,kt)}(0,D.K0)(lt.dataViewMappings)}}(lt):ct.matrix&&function(lt){var ct=lt.dataViewMappings[0];if((0,w.qO)(ct)){var Tt=!1;(0,y.$9)(ct.metadata.objects,x.zK.categoryAxis.axisType)&&(Tt=(0,be.A9)(ct),(0,ie.Ay)(ct.matrix.rows,{visitRole:function(yt){He(yt,void 0,void 0,!0)}}));var ot=(0,y.iQ)(ct,!0);if(Tt||ot){if(ot){var it=(0,w.b8)(ct);(0,R.Bx)([it],{min:!0,max:!0})}}else(0,x.BX)(ct,!0);(0,R.vR)(ct,[tt.R.Y,tt.R.Y2]),(0,R._F)(ct)}}(lt))}function He(lt,ct,Tt,ot){if(lt.role===tt.R.Category){var it=[tt.R.Category];ot&&it.unshift(tt.R.Rows);for(var ht={data:[(0,Be.Yp)(it)]},yt=lt.items,Ft=0,kt=_.size(yt);Ft<kt;Ft++){var ar=yt[Ft].scalarKeyInfo;if(ar&&ar.hasScalarKey){ar.scalarKeyMinProperty=Ke.p.scalarKey.scalarKeyMin,ar.selector=ht,ct&&Le(ct,ht,Ft),Tt&&Le(Tt,ht,Ft);break}}}}function Le(lt,ct,Tt){var ot;(0,ie.Sr)(null===(ot=null==lt?void 0:lt.categorical)||void 0===ot?void 0:ot.categories,{visitRole:function(ht){ht.items[Tt].scalarKeyInfo||(ht.items[Tt].scalarKeyInfo={});var yt=ht.items[Tt].scalarKeyInfo;yt.scalarKeyMinProperty=Ke.p.scalarKey.scalarKeyMin,yt.selector=ct}})}function Q(lt){var ct=lt.dataViewMappings[0];return(0,w.qO)(ct)?function(lt){var ct=(0,y.iQ)(lt,!0),Tt=[P.au.rows];return ct||Tt.push(P.au.category),Tt.push(P.au.y,P.au.tooltips,P.au.series),Tt}(ct):function(lt){if(!lt||!lt.categorical||!lt.categorical.categories)return null;var ht,yt,Tt=lt.categorical.categories.for.in,ot=Tt.items,it=Tt.activeItems;if(ht=["Category","Series","Y","Y2","Tooltips"],yt=["Series"],!_.isEmpty(ot)){var Ft=void 0;if(lt.metadata&&(Ft=lt.metadata.objects),(0,be.A9)(lt)&&(0,y.$9)(Ft,x.zK.categoryAxis.axisType))return yt;var kt=void 0;if(_.isEmpty(it))kt=ot[0].type;else if(1===it.length){var Gt=_.find(ot,function(ar){return ar.queryName===it[0]});d.fF.assert(function(){return!!Gt},"Item should always be defined"),kt=Gt.type}else if(it.length>1)return ht;return(0,y._K)(Ft,x.zK.categoryAxis.axisType,kt)?yt:ht}return null}(ct)}function Se(lt,ct){for(var Tt,ot,it,ht=[],yt=[],Ft=[],kt=[],Gt=[],ar={xIndex:void 0,yIndex:void 0},sr=0,pr=null==lt?void 0:lt.selects;sr<pr.length;sr++){var fr=pr[sr];null!=fr&&fr.roles[tt.R.Series]&&ht.push(fr),null!=fr&&fr.roles[tt.R.Category]&&(yt.push(fr),Gt.push(Te.Ge.fromDescriptor(null==fr?void 0:fr.type))),null!=fr&&fr.roles[tt.R.Y]&&Ft.push(fr),null!=fr&&fr.roles[tt.R.Y2]&&kt.push(fr)}if(function(lt,ct,Tt){var ot,it,ht,yt,Ft,kt,Gt=Tt[0],ar=(0,y.A8)(null===(ot=null==Gt?void 0:Gt.categorical)||void 0===ot?void 0:ot.categories[0]),sr=(0,y.PX)(null===(it=null==Gt?void 0:Gt.metadata)||void 0===it?void 0:it.objects,x.zK.categoryAxis.axisType,null===(ht=lt[0])||void 0===ht?void 0:ht.type,ar,(0,D.n$)(Gt));return 1===lt.length||lt.length>1&&sr&&(null===(Ft=null===(yt=lt[0])||void 0===yt?void 0:yt.type)||void 0===Ft?void 0:Ft.temporal)&&!(null!==(kt=null==ct?void 0:ct.objects)&&void 0!==kt&&kt.categoryAxis)}(yt,lt,ct)&&function(lt,ct,Tt,ot){var it,ht,yt,Ft,kt=_.first(lt);return 1===ct.length&&0===Tt.length&&0===ot.length&&((null==kt?void 0:kt.dateTime)||(null==kt?void 0:kt.numeric)||(null===(it=null==kt?void 0:kt.temporal)||void 0===it?void 0:it.day)||(null===(ht=null==kt?void 0:kt.temporal)||void 0===ht?void 0:ht.year))&&!(null!==(yt=null==kt?void 0:kt.temporal)&&void 0!==yt&&yt.quarter||null!==(Ft=null==kt?void 0:kt.temporal)&&void 0!==Ft&&Ft.month)}(Gt,Ft,kt,ht)&&lt&&lt.roles&&lt.roles.ordering){if(lt.roles.ordering[tt.R.Category]&&lt.roles.activeItems)for(var Mr=null===(Tt=_.first(lt.roles.activeItems[tt.R.Category]))||void 0===Tt?void 0:Tt.queryRef,hr=0;hr<(null===(ot=lt.selects)||void 0===ot?void 0:ot.length);hr++)(null===(it=lt.selects[hr])||void 0===it?void 0:it.queryName)===Mr&&(ar.xIndex=hr);lt.roles.ordering[tt.R.Y]&&(ar.yIndex=_.first(lt.roles.ordering[tt.R.Y]))}return ar}var de=t(384275),te=t(905237);function Ve(lt){var ct=lt.dataViewMappings[0];if(ct&&ct.matrix&&ct.metadata){var Tt=ct.matrix;_.isEmpty(Tt.columns.for.in.items)||(Tt.rows.dataReductionAlgorithm.window.count=100);var ot=ct.metadata.objects;Tt.rows.for.in.subtotalType=te.FX.PropGeneralMatrixRowSubtotals.getValue(ot)?2:0,Tt.columns.for.in.subtotalType=te.FX.PropGeneralMatrixColumnSubtotals.getValue(ot)?2:0}}function xe(lt){return["Rows","Values"]}function J(lt){if(lt&&lt.dataViewMappings&&!_.isEmpty(lt.dataViewMappings))for(var ct=0,Tt=lt.dataViewMappings;ct<Tt.length;ct++){var ot=Tt[ct];if(ot.table){var it=ot.table.rows;if(it&&it.for&&it.for.in&&it.for.in.items)return["Values"]}}}function Fe(lt){var ct=_.first(lt.dataViewMappings),Tt=[];if(ct&&ct.table&&ct.table.rows){var it=(0,p.hK)(ct.table.rows);return _.isEmpty(it)?{subjectKind:5,error:2,bindings:void 0}:(Tt.push.apply(Tt,it),{subjectKind:5,error:void 0,bindings:Tt})}}var ze=t(293876);function rt(lt){var ct=lt.dataViewMappings[0];if(ct&&ct.matrix&&ct.metadata){var Tt=ct.matrix,ot=!_.isEmpty(Tt.columns.for.in.items);ot&&(Tt.rows.dataReductionAlgorithm.window.count=100);var it=Tt.values;if(it){var ht=it.for.in.items;_.some(ht,function(yt){var Ft,kt;return!(null===(kt=null===(Ft=yt.type)||void 0===Ft?void 0:Ft.misc)||void 0===kt||!kt.sparkline)})&&(Tt.rows.dataReductionAlgorithm.window.count=ot?50:100,ot&&(Tt.columns.dataReductionAlgorithm.top.count=25)),(0,R.pn)(ct,ht)}(function(lt,ct){var Tt=lt.metadata.objects,ot=lt.metadata.columns,it=ct.rows.for.in.items,ht=te.FX.PropSubTotalsPivotTableRowSubtotals.getValue(Tt),yt=te.FX.PropSubTotalsPivotTableRowSubtotalsPosition.getValue(Tt)===ze.we?1:2,Ft=te.FX.PropSubTotalsPivotTableRowSubtotalsPerLevel.getValue(Tt);if(!_.isEmpty(it))for(var kt=function(pr,fr){var Mr=it[pr],hr=_.find(ot,function(Pt){return Pt.queryName===Mr.queryName});if(!hr)return"continue";var Ir=te.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(hr.objects);Mr.subtotalType=!ht||Ft&&!Ir?0:0===pr&&te.FX.PropRowsSteppedLayout.getValue(Tt)?1:yt},Gt=0,ar=it.length;Gt<ar;Gt++)kt(Gt)})(ct,Tt),function(lt,ct){var Tt=lt.metadata.objects,ot=lt.metadata.columns,it=ct.columns.for.in.items,ht=te.FX.PropSubTotalsPivotTableColumnSubtotals.getValue(Tt),yt=te.FX.PropSubTotalsPivotTableColumnSubtotalsPerLevel.getValue(Tt);if(!_.isEmpty(it))for(var Ft=function(pr){var fr=_.find(ot,function(hr){return hr.queryName===pr.queryName});if(!fr)return"continue";var Mr=te.FX.PropSubTotalsPivotTableLevelSubtotalEnabled.getValue(fr.objects);pr.subtotalType=!ht||yt&&!Mr?0:2},kt=0,Gt=it;kt<Gt.length;kt++)Ft(Gt[kt])}(ct,Tt)}}function X(lt){return["Rows","Values"]}function we(lt){var ct=lt.dataViewMappings[0];ct&&ct.table&&(ct.table.rows.for.in.subtotalType=1)}var Ze=[{objectProperty:P.gE.valueAxis.showAxisTitle,defaultValue:(0,S.O7)(!1)}],et=t(921449),at=t(175680),St=t(709787);function Ie(lt){var ct=lt.dataViewMappings[0];if(ct&&ct.matrix&&ct.metadata){var Tt=ct.matrix,ot=ct.metadata.objects,it=(0,he.NA)(ot,St.il.ratioLine.show,!1),ht=!1,yt=!1,Ft=!1,kt=[],Gt=Tt.rows;if(Gt&&!_.isEmpty(Gt.select)){d.fF.assert(function(){return!!(Gt.dataReductionAlgorithm.bottom||Gt.dataReductionAlgorithm.sample||Gt.dataReductionAlgorithm.overlappingPointsSample)},"invalid data reduction");for(var ar=0,sr=Gt.select;ar<sr.length;ar++)for(var pr=sr[ar],hr=0,Ir=pr.composite?pr.composite:[pr];hr<Ir.length;hr++){var Pt=Ir[hr];(0,R.Ci)(Pt)&&kt.push(Pt.bind.to),(0,R.uS)(Pt)&&kt.push(Pt.for.in);var dt=bt(Pt);dt&&(ht=!0,dt===St.TL.y&&(yt=!0),dt===St.TL.x&&(Ft=!0))}}if(it&&!ht){for(var ue=0,k=kt;ue<k.length;ue++)k[ue].subtotalType=2;(0,R.uS)(Tt.columns)&&(Tt.columns.for.in.subtotalType=2)}var Ae=Tt.rows.dataReductionAlgorithm,$e=(0,he.NA)(ot,St.il.general.dataVolume,null),Et=(0,he.NA)(ot,Ke.p.categoryAxis.axisType)===at.Pf,Nt=_.find(kt,function(Mt){return Mt.role===St.TL.x}),Bt=Nt&&_.filter(Nt.items,function(Mt){return _.includes(Nt.activeItems,Mt.queryName)}),Qt=_.size(Bt),$t=0===Qt?void 0:1===Qt&&_.every(Bt,function(Mt){return Mt.type&&(Mt.type.numeric||Mt.type.integer)}),ur=_.find(Tt.values.select,function(Mt){return(0,R.Ci)(Mt)&&Mt.bind.to.role===St.TL.x}),or=ur&&(0,R.Ci)(ur)&&ur.bind.to,Ar=or?_.filter(or.items,function(Mt){return!Mt.hidden}):[],Ge=_.size(Ar),ut=_.every(Ar,function(Mt){return Mt.type&&(Mt.type.numeric||Mt.type.integer)});if(!Ft&&Ge>1)return{error:{code:"DataViewMappingError_ScatterXMismatchType"}};if(yt&&Qt>1)return{error:{code:"DataViewMappingError_ScatterYGroupedXDrilled"}};if(!Ft&&1===Ge&&!ut)return{error:{code:"DataViewMappingError_ScatterXIncorrectAggregate"}};if(ht&&(Et||!1===$t)){if(yt)return{error:{code:Et?"DataViewMappingError_ScatterYGroupedXCategoricalAxis":"DataViewMappingError_ScatterYGroupedXNonScalar"}};Tt.rows.dataReductionAlgorithm={window:{count:200}};var Vt=_.remove(Gt.select,function(Mt){return(0,R.Ci)(Mt)&&Mt.bind.to.role===St.TL.series});d.fF.assert(function(){return 1===Vt.length},"series mapping should be removed");var Dt=Vt[0];Dt&&Dt.bind&&(Tt.columns={for:{in:Dt.bind.to},dataReductionAlgorithm:{top:{count:60}}})}else null!=Ae&&Ae.overlappingPointsSample?((0,he.NA)(ot,Ke.p.categoryAxis.logAxisScale)&&(Ae.overlappingPointsSample.x.transform=1),(0,he.NA)(ot,Ke.p.valueAxis.logAxisScale)&&(Ae.overlappingPointsSample.y.transform=1),null!=$e&&(Ae.overlappingPointsSample.count=$e)):null!=Ae&&Ae.sample&&null!=$e&&(Ae.sample.count=$e)}}function qe(lt){if(_.find(lt.dataViewMappings,function(Tt){var ot,it,ht;return null===(ht=null===(it=null===(ot=Tt.matrix)||void 0===ot?void 0:ot.rows)||void 0===it?void 0:it.dataReductionAlgorithm)||void 0===ht?void 0:ht.window}))return[St.TL.x,St.TL.y,P.au.series]}function bt(lt){var ct;return(0,R.Ci)(lt)?ct=lt.bind.to.role:(0,R.uS)(lt)&&(ct=lt.for.in.role),ct===St.TL.x?St.TL.x:ct===St.TL.y?St.TL.y:void 0}function It(lt){return{hasSize:(0,et.c5)(lt,"Size"),hasPlayAxis:(0,et.c5)(lt,"Play")}}function Rt(lt){var ct=_.first(lt.dataViewMappings);return ct&&ct.matrix?(0,p.gY)(ct.matrix,3):ct&&ct.categorical&&ct.categorical.categories?(0,p.T6)(lt,3):{subjectKind:3,error:2,bindings:void 0}}var zt=t(945312),Kt=t(664850),Yt=t(635414),ir=t(222151),lr=t(830173),br=t(7478);function Cr(lt){var ct=lt.dataViewMappings[0];ct&&ct.table&&ct.metadata&&(ct.table.rows.for.in.subtotalType=te.FX.PropGeneralTableTotals.getValue(ct.metadata.objects)?1:0)}function pt(lt){return["Values"]}var Ut=t(10711);function er(lt){var ct=lt.dataViewMappings[0];if(ct&&ct.table&&ct.metadata){var Tt=ct.table.rows,ot=Tt.for.in.items;_.some(ot,function(ht){var yt,Ft;return!(null===(Ft=null===(yt=ht.type)||void 0===yt?void 0:yt.misc)||void 0===Ft||!Ft.sparkline)})&&(ct.table.rows.dataReductionAlgorithm.window.count=100),Tt.for.in.subtotalType=te.FX.PropTotalTableExTotals.getValue(ct.metadata.objects)?1:0,(0,R.pn)(ct,ot)}}function Pr(lt){return["Values"]}var mr=t(615116);function gr(lt){var ct=lt.dataViewMappings[0];if(ct&&ct.matrix){var Tt=ct.matrix;Tt.columns&&Tt.columns.for&&Tt.columns.for.in&&(Tt.columns.for.in.subtotalType=1)}}function xr(lt){return[mr.IT.category,mr.IT.y,mr.IT.tooltips]}var Vr=t(884133),Qr={name:"heatMap",capabilities:Vr.D.map,create:function(){throw new Error("pluginsNotForOSS.ts: 'Create' function is deprecated")},createES6:function(){return(0,e.__awaiter)(void 0,void 0,void 0,function(){return(0,e.__generator)(this,function(Tt){switch(Tt.label){case 0:return[4,t.e("map").then(t.bind(t,215253))];case 1:return[2,new(0,Tt.sent().Map)({filledMap:!1})]}})})}},Gr=t(889408),Hr=t(158049),Yr=t(999738);function Zr(lt){return[Yr.CT.value,Hr.B0.Tooltips]}var Or=function(){throw new Error("plugins.ts: 'Create' function is deprecated")},Ur=!1,ai=function(){var lt,ct=this;if(Ur)return o.N;var Tt=(lt={actionButton:{name:l.D.actionButton,titleKey:(0,v.V)("Button"),capabilities:Vr.D.actionButton,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("actionButton").then(t.bind(t,448131))];case 1:return[2,new(0,yt.sent().ActionButton)]}})})}},animatedNumber:{name:l.D.animatedNumber,capabilities:Vr.D.animatedNumber,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("animatedNumber").then(t.bind(t,995657))];case 1:return[2,new(0,yt.sent().AnimatedNumber)]}})})}},areaChart:{name:l.D.areaChart,watermarkKey:"area",titleKey:(0,v.V)("AreaChart_ToolTip"),capabilities:Vr.D.areaChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:1,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:mt,getSortableRoles:Q,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},barChart:{name:l.D.barChart,watermarkKey:"bar",titleKey:(0,v.V)("BarChart_ToolTip"),capabilities:Vr.D.barChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:6,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:g,getSortableRoles:T,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},basicShape:{name:l.D.basicShape,titleKey:(0,v.V)("BasicShape_ToolTip"),capabilities:Vr.D.basicShape,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("basicShape").then(t.bind(t,944591))];case 1:return[2,new(0,yt.sent().BasicShape)]}})})}},shape:{name:l.D.shape,titleKey:(0,v.V)("BasicShape_ToolTip"),capabilities:Vr.D.shape,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("shape").then(t.bind(t,591091))];case 1:return[2,new(0,yt.sent().Shape)]}})})},getCustomizeConvertTo:function(ht,yt,Ft){return function(lt){var ct,Tt,ot,it,ht;if("basicShape"===lt)return{objects:(ct={},ct[lr.eM.fill]=(Tt={},Tt[lr.Mn.fillColor]={transform:function(Ft){return null!=Ft?Ft:(0,S.$_)(null,"backgroundLight")},transformArgs:[{identifier:Yt.O.fill.fillColor}],targetSelector:{id:ir.W6.default}},Tt[lr.Mn.fillTransparency]={transformArgs:[{identifier:Yt.O.fill.transparency}],targetSelector:{id:ir.W6.default}},Tt),ct[lr.eM.outline]=(ot={},ot[lr.Mn.outlineColor]={transform:function(Ft){return null!=Ft?Ft:(0,S.e7)(2,0)},transformArgs:[{identifier:Yt.O.line.lineColor}],targetSelector:{id:ir.W6.default}},ot[lr.Mn.outlineWeight]={transform:function(Ft){return null!=Ft?Ft:(0,S.cA)(3)},transformArgs:[{identifier:Yt.O.line.weight}],targetSelector:{id:ir.W6.default}},ot[lr.Mn.outlineTransparency]={transformArgs:[{identifier:Yt.O.line.transparency}],targetSelector:{id:ir.W6.default}},ot),ct[lr.eM.shape]=(it={},it[lr.Mn.tileShape]={transform:function(Ft){if(Ft&&(0,h.VC)(Ft)){var kt;switch(Ft.value){case zt.C9:kt=Kt.m.Rectangle;break;case zt.BG:kt=Kt.m.Oval;break;case zt.jv:kt=Kt.m.Line;break;case zt.x7:kt=Kt.m.Arrow;break;case zt.cP:kt=Kt.m.TriangleIsoc;break;default:kt=Kt.m.Rectangle}return(0,S.fL)(kt)}},transformArgs:[{identifier:Yt.O.general.shapeType}]},it[lr.Mn.shapeRounding]={transformArgs:[{identifier:Yt.O.line.roundEdge}]},it),ct[ir.MI.rotation]=(ht={},ht[lr.Mn.shapeRotation]={transform:function(Ft,kt){if(void 0===Ft&&(Ft=(0,S.cA)(0)),!kt)return Ft;if((0,h.VC)(Ft)&&(0,h.VC)(kt)){var ar,Gt=Ft.value;switch(kt.value){case zt.jv:ar=(Gt+90)%360;break;case zt.x7:ar=(Gt+270)%360;break;default:ar=Gt}return(0,S.cA)(ar)}d.fF.assertFail("CustomizeConvert shape: unsupported SQExpr type")},transformArgs:[{identifier:Yt.O.rotation.angle},{identifier:Yt.O.general.shapeType}]},ht[ir.B3.rotation]={transform:function(){}},ht),ct)}}(ht)}},card:{name:l.D.card,watermarkKey:"card",titleKey:(0,v.V)("Card_ToolTip"),capabilities:Vr.D.card,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("cardModule").then(t.bind(t,532869))];case 1:return[2,(0,yt.sent().createCard)(void 0)]}})})},getNarrativeSummaryBindings:C},cardVisual:{name:l.D.cardVisual,watermarkKey:"cardVisual",titleKey:(0,v.V)("Card_ToolTip_New"),capabilities:Vr.D.cardVisual,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("cardVisual").then(t.bind(t,26963))];case 1:return[2,new(0,yt.sent().CardVisual)(void 0)]}})})},module:{css:["cardVisual"]},getNarrativeSummaryBindings:b},multiRowCard:{name:l.D.multiRowCard,watermarkKey:"multiRowCard",titleKey:(0,v.V)("MultiRowCard_ToolTip"),capabilities:Vr.D.multiRowCard,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("multiRowCard").then(t.bind(t,182123))];case 1:return[2,new(0,yt.sent().MultiRowCard)(void 0)]}})})},getSortableRoles:J,getNarrativeSummaryBindings:Fe},clusteredBarChart:{name:l.D.clusteredBarChart,watermarkKey:"clusteredBar",titleKey:(0,v.V)("ClusteredBarChart_ToolTip"),capabilities:Vr.D.clusteredBarChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:5,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:g,getSortableRoles:T,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},clusteredColumnChart:{name:l.D.clusteredColumnChart,watermarkKey:"clusteredColumn",titleKey:(0,v.V)("ClusteredColumnChart_ToolTip"),capabilities:Vr.D.clusteredColumnChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:3,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:g,getSortableRoles:T,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},columnChart:{name:l.D.columnChart,watermarkKey:"column",titleKey:(0,v.V)("ColumnChart_ToolTip"),capabilities:Vr.D.columnChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:4,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:g,getSortableRoles:T,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},donutChart:{name:l.D.donutChart,watermarkKey:"donut",titleKey:(0,v.V)("DonutChart_ToolTip"),capabilities:Vr.D.donutChart,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("donutChart").then(t.bind(t,218539))];case 1:return[2,new(0,yt.sent().DonutChart)(void 0)]}})})},getNarrativeSummaryBindings:Ne},funnel:{name:l.D.funnel,watermarkKey:"funnel",titleKey:(0,v.V)("Funnel_ToolTip"),capabilities:Vr.D.funnel,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("funnelChart").then(t.bind(t,583720))];case 1:return[2,new(0,yt.sent().FunnelChart)(void 0)]}})})}},gauge:{name:l.D.gauge,watermarkKey:"gauge",titleKey:(0,v.V)("Gauge_ToolTip"),capabilities:Vr.D.gauge,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("gauge").then(t.bind(t,143339))];case 1:return[2,new(0,yt.sent().Gauge)(void 0,void 0)]}})})},getNarrativeSummaryBindings:Ye},hundredPercentStackedBarChart:{name:l.D.hundredPercentStackedBarChart,watermarkKey:"100stackedbar",titleKey:(0,v.V)("HundredPercentStackedBarChart_ToolTip"),capabilities:Vr.D.hundredPercentStackedBarChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:7,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:g,getSortableRoles:T,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},hundredPercentStackedColumnChart:{name:l.D.hundredPercentStackedColumnChart,watermarkKey:"100stackedcolumn",titleKey:(0,v.V)("HundredPercentStackedColumnChart_ToolTip"),capabilities:Vr.D.hundredPercentStackedColumnChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:8,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:g,getSortableRoles:T,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},image:{name:l.D.image,titleKey:(0,v.V)("Image"),capabilities:Vr.D.image,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("imageVisual").then(t.bind(t,47309))];case 1:return[2,new(0,yt.sent().ImageVisual)]}})})}},lineChart:{name:l.D.lineChart,watermarkKey:"line",titleKey:(0,v.V)("LineChart_ToolTip"),capabilities:Vr.D.lineChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:0,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:mt,getSortableRoles:Q,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E,getDataDrivenAlertCapabilities:Se},lineStackedColumnComboChart:{name:l.D.lineStackedColumnComboChart,watermarkKey:"combo",titleKey:(0,v.V)("LineStackedColumnComboChart_ToolTip"),capabilities:Vr.D.lineStackedColumnComboChart,customizeQuery:I,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:13,featureSwitches:ht.featureSwitches})]}})})},getSortableRoles:K,getAdditionalTelemetry:F,getNarrativeSummaryBindings:ee},lineClusteredColumnComboChart:{name:l.D.lineClusteredColumnComboChart,watermarkKey:"combo",titleKey:(0,v.V)("LineClusteredColumnComboChart_ToolTip"),capabilities:Vr.D.lineClusteredColumnComboChart,customizeQuery:I,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:12,featureSwitches:ht.featureSwitches})]}})})},getSortableRoles:K,getAdditionalTelemetry:F,getNarrativeSummaryBindings:ee},map:{name:l.D.map,watermarkKey:"map",titleKey:(0,v.V)("Map_ToolTip"),capabilities:Vr.D.map,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("map").then(t.bind(t,215253))];case 1:return[2,new(0,yt.sent().Map)({filledMap:!1})]}})})},customizeQuery:de.Wj,getNarrativeSummaryBindings:de.N6},filledMap:{name:l.D.filledMap,watermarkKey:"filledMap",titleKey:(0,v.V)("FilledMap_ToolTip"),capabilities:Vr.D.filledMap,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("map").then(t.bind(t,215253))];case 1:return[2,new(0,yt.sent().Map)({filledMap:!0})]}})})}},azureMap:{name:l.D.azureMap,watermarkKey:"azureMap",titleKey:(0,v.V)("AzureMap_ToolTip"),capabilities:Vr.D.azureMap,module:{css:["azureMapVisuals"]},create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("azureMap").then(t.bind(t,73667))];case 1:return[2,new(0,yt.sent().AzureMap)(void 0)]}})})},getCustomizeConvertTo:function(ht,yt,Ft){return function(lt,ct){if(ct.azureMapsConversion){if("map"===lt)return function(){var lt,ct,Tt,ot,it;return{skipRoleMapping:!0,objects:(lt={},lt[r.Do.mapControls]=(ct={},ct[r.DQ.defaultStyle]={transformArgs:[{identifier:u.jM.mapStyles.mapTheme}],transform:function(yt){if(!yt||!(0,h.VC)(yt))return(0,S.fL)(m(c.AB));var Ft=m(yt.value);return(0,S.fL)(Ft)}},ct[r.DQ.showLabels]={transformArgs:[{identifier:u.jM.mapStyles.showLabels}]},ct[r.DQ.autoZoom]={transformArgs:[{identifier:u.jM.mapControls.autoZoom}]},ct[r.DQ.zoom]={transformArgs:[{identifier:u.jM.mapControls.zoomLevel}],transform:function(yt){if(yt&&(0,h.VC)(yt)){var kt=f(yt.value);return(0,S.cA)(kt)}}},ct[r.DQ.centerLatitude]={transformArgs:[{identifier:u.jM.mapControls.centerLatitude}]},ct[r.DQ.centerLongitude]={transformArgs:[{identifier:u.jM.mapControls.centerLongitude}]},ct[r.DQ.showStylePicker]={transform:function(){return(0,S.O7)(!1)}},ct[r.DQ.showNavigationControls]={transformArgs:[{identifier:u.jM.mapControls.showZoomButtons}],transform:function(yt){return yt||(0,S.O7)(!1)}},ct[r.DQ.showSelectionControl]={transformArgs:[{identifier:u.jM.mapControls.showLassoButton}],transform:function(yt){return yt||(0,S.O7)(!1)}},ct),lt.dataPoint={showAllDataPoints:{transformArgs:[{identifier:u.jM.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:u.jM.dataPoint.fill}]}},lt[r.Do.bubbleLayer]=(Tt={},Tt[r.DQ.show]={transformArgs:[{identifier:u.jM.heatMap.show}],transform:function(yt){return yt&&(0,h.VC)(yt)&&yt.value?(0,S.O7)(!1):(0,S.O7)(!0)}},Tt[r.DQ.bubbleRadius]={transformArgs:[{identifier:u.jM.bubbles.bubbleSize}],transform:function(yt){(!yt||!(0,h.VC)(yt))&&(yt=(0,S.cA)(1));var Gt=V(yt.value,[-30,100],[.6,24]);return(0,S.cA)(Math.round(Gt))}},Tt[r.DQ.minBubbleRadius]={transformArgs:[{identifier:u.jM.bubbles.bubbleSize}],transform:function(yt){(!yt||!(0,h.VC)(yt))&&(yt=(0,S.cA)(1));var Ft=[-30,50],ar=V(_.clamp(yt.value,Ft[0],Ft[1]),Ft,[.6,15]);return(0,S.cA)(Math.round(ar))}},Tt[r.DQ.maxRadius]={transformArgs:[{identifier:u.jM.bubbles.bubbleSize}],transform:function(yt){(!yt||!(0,h.VC)(yt))&&(yt=(0,S.cA)(1));var Ft=[-30,50],ar=V(_.clamp(yt.value,Ft[0],Ft[1]),Ft,[2,50]);return(0,S.cA)(Math.round(ar))}},Tt[r.DQ.markerRangeType]={transformArgs:[{identifier:u.jM.bubbles.markerRangeType}],transform:function(yt){if(yt&&(0,h.VC)(yt)&&yt.value)return(0,S.fL)(yt.value)}},Tt[r.DQ.bubbleStrokeWidth]={transform:function(){return(0,S.cA)(1)}},Tt[r.DQ.autoStrokeColor]={transform:function(){return(0,S.O7)(!0)}},Tt[r.DQ.layerPosition]={transform:function(){return(0,S.fL)("")}},Tt),lt[r.Do.categoryLabels]=(ot={},ot[r.DQ.show]={transformArgs:[{identifier:u.jM.categoryLabels.show},{identifier:u.jM.heatMap.show}],transform:function(yt,Ft){return Ft&&(0,h.VC)(Ft)&&Ft.value?(0,S.O7)(!1):yt}},ot.color={transformArgs:[{identifier:u.jM.categoryLabels.color}]},ot.fontFamily={transformArgs:[{identifier:u.jM.categoryLabels.fontFamily}]},ot.fontSize={transformArgs:[{identifier:u.jM.categoryLabels.fontSize}]},ot.bold={transformArgs:[{identifier:u.jM.categoryLabels.bold}]},ot.italic={transformArgs:[{identifier:u.jM.categoryLabels.italic}]},ot.underline={transformArgs:[{identifier:u.jM.categoryLabels.underline}]},ot.enableBackground={transformArgs:[{identifier:u.jM.categoryLabels.enableBackground}]},ot.backgroundColor={transformArgs:[{identifier:u.jM.categoryLabels.backgroundColor}]},ot.backgroundTransparency={transformArgs:[{identifier:u.jM.categoryLabels.backgroundTransparency}]},ot),lt[r.Do.heatMapLayer]=(it={},it[r.DQ.show]={transformArgs:[{identifier:u.jM.heatMap.show}]},it[r.DQ.heatMapRadius]={transformArgs:[{identifier:u.jM.heatMap.filterRadius}]},it[r.DQ.heatMapRadiusUnit]={transformArgs:[{identifier:u.jM.heatMap.unit}]},it[r.DQ.mapTransparency]={transformArgs:[{identifier:u.jM.heatMap.transparency}]},it[r.DQ.heatMapColorLow]={transformArgs:[{identifier:u.jM.heatMap.color0}]},it[r.DQ.heatMapColorCenter]={transformArgs:[{identifier:u.jM.heatMap.color50}]},it[r.DQ.heatMapColorHigh]={transformArgs:[{identifier:u.jM.heatMap.color100}]},it),lt)}}();if("filledMap"===lt)return function(){var lt,ct,Tt,ot,it;return{skipRoleMapping:!0,objects:(lt={dataPoint:{showAllDataPoints:{transformArgs:[{identifier:s.Vh.dataPoint.showAllDataPoints}]},fill:{transformArgs:[{identifier:s.Vh.dataPoint.fill}]}}},lt[r.Do.mapControls]=(ct={},ct[r.DQ.defaultStyle]={transformArgs:[{identifier:u.jM.mapStyles.mapTheme}],transform:function(yt){if(!yt||!(0,h.VC)(yt))return(0,S.fL)(m(c.AB));var Ft=m(yt.value);return(0,S.fL)(Ft)}},ct[r.DQ.showLabels]={transformArgs:[{identifier:u.jM.mapStyles.showLabels}]},ct[r.DQ.autoZoom]={transformArgs:[{identifier:s.Vh.mapControls.autoZoom}]},ct[r.DQ.zoom]={transformArgs:[{identifier:s.Vh.mapControls.zoomLevel}],transform:function(yt){if(yt&&(0,h.VC)(yt)){var kt=f(yt.value);return(0,S.cA)(kt)}}},ct[r.DQ.centerLatitude]={transformArgs:[{identifier:s.Vh.mapControls.centerLatitude}]},ct[r.DQ.centerLongitude]={transformArgs:[{identifier:s.Vh.mapControls.centerLongitude}]},ct[r.DQ.showStylePicker]={transform:function(){return(0,S.O7)(!1)}},ct[r.DQ.showNavigationControls]={transformArgs:[{identifier:s.Vh.mapControls.showZoomButtons}],transform:function(yt){return yt||(0,S.O7)(!1)}},ct[r.DQ.showSelectionControl]={transformArgs:[{identifier:s.Vh.mapControls.showLassoButton}],transform:function(yt){return yt||(0,S.O7)(!1)}},ct),lt[r.Do.categoryLabels]=(Tt={},Tt[r.DQ.show]={transform:function(){return(0,S.O7)(!1)}},Tt),lt[r.Do.bubbleLayer]=(ot={},ot[r.DQ.show]={transform:function(){return(0,S.O7)(!1)}},ot),lt[r.Do.filledMap]=(it={},it[r.DQ.show]={transform:function(){return(0,S.O7)(!0)}},it[r.DQ.defaultColor]={transformArgs:[{identifier:s.Vh.dataPoint.defaultColor}]},it[r.DQ.mapTransparency]={transform:function(){return(0,S.cA)(40)}},it),lt)}}()}}(ht,Ft)}},ribbonChart:{name:l.D.ribbonChart,watermarkKey:"ribbon",titleKey:(0,v.V)("RibbonChart_ToolTip"),capabilities:Vr.D.ribbonChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:9,featureSwitches:ht.featureSwitches})]}})})},stampHardcodedDefaultObjects:Ze,customizeQuery:g,getSortableRoles:T,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},shapeMap:{name:l.D.shapeMap,watermarkKey:"shapeMap",titleKey:(0,v.V)("ShapeMap_ToolTip"),capabilities:Vr.D.shapeMap,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("shapeMap").then(t.bind(t,186913))];case 1:return[2,new(0,yt.sent().ShapeMap)(void 0)]}})})}},treemap:{name:l.D.treemap,watermarkKey:"tree",titleKey:(0,v.V)("Treemap_ToolTip"),capabilities:Vr.D.treemap,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("treemap").then(t.bind(t,322497))];case 1:return[2,new(0,yt.sent().Treemap)(void 0)]}})})}},pieChart:{name:l.D.pieChart,watermarkKey:"pie",titleKey:(0,v.V)("PieChart_ToolTip"),capabilities:Vr.D.pieChart,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("donutChart").then(t.bind(t,218539))];case 1:return[2,new(0,yt.sent().DonutChart)({sliceWidthRatio:0})]}})})},getNarrativeSummaryBindings:Ne},realTimeLineChart:{name:l.D.realTimeLineChart,watermarkKey:"line",titleKey:(0,v.V)("LineChart_ToolTip"),capabilities:Vr.D.realTimeLineChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:14,featureSwitches:ht.featureSwitches})]}})})},getAdditionalTelemetry:F},scatterChart:{name:l.D.scatterChart,watermarkKey:"scatterplot",titleKey:(0,v.V)("ScatterChart_ToolTip"),capabilities:Vr.D.scatterChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:10,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:Ie,getSortableRoles:qe,getAdditionalTelemetry:It,getNarrativeSummaryBindings:Rt},stackedAreaChart:{name:l.D.stackedAreaChart,watermarkKey:"stackedarea",titleKey:(0,v.V)("StackedAreaChart_ToolTip"),capabilities:Vr.D.stackedAreaChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:2,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:mt,getSortableRoles:Q,getAdditionalTelemetry:F,getNarrativeSummaryBindings:E},table:{name:l.D.table,watermarkKey:"table",titleKey:(0,v.V)("Table_ToolTip"),capabilities:Vr.D.table,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("table").then(t.bind(t,104545))];case 1:return[2,new(0,yt.sent().Table)]}})})},customizeQuery:Cr,getSortableRoles:pt},matrix:{name:l.D.matrix,watermarkKey:"matrix",titleKey:(0,v.V)("Matrix_ToolTip"),capabilities:Vr.D.matrix,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("matrix").then(t.bind(t,520989))];case 1:return[2,new(0,yt.sent().Matrix)]}})})},customizeQuery:Ve,getSortableRoles:xe},tableEx:{name:l.D.tableEx,watermarkKey:"table",titleKey:(0,v.V)("Table_ToolTip"),capabilities:(0,Ut.k)(),create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("tableEx").then(t.bind(t,675455))];case 1:return[2,new(0,yt.sent().TableEx)(void 0,void 0)]}})})},customizeQuery:er,getSortableRoles:Pr,module:{css:["pivotTableVisuals"]}},pivotTable:{name:l.D.pivotTable,watermarkKey:"matrix",titleKey:(0,v.V)("Matrix_ToolTip"),capabilities:Vr.D.pivotTableCapabilities,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("pivotTable").then(t.bind(t,782999))];case 1:return[2,new(0,yt.sent().PivotTable)(void 0,void 0)]}})})},customizeQuery:rt,getSortableRoles:X,module:{css:["pivotTableVisuals"]}},accessibleTable:{name:l.D.accessibleTable,watermarkKey:"matrix",capabilities:Vr.D.accessibleTable,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("accessibleTable").then(t.bind(t,318110))];case 1:return[2,new(0,yt.sent().AccessibleTable)]}})})},module:{css:["accessibleTableVisual"]}},slicer:{name:l.D.slicer,watermarkKey:"slicer",titleKey:(0,v.V)("Slicer_ToolTip"),capabilities:Vr.D.slicer,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("slicer").then(t.bind(t,432767))];case 1:return[2,new(0,yt.sent().Slicer)(void 0)]}})})},customizeQuery:br.Wj,getSortableRoles:br.ot,shouldIgnoreCrossFilter:br.vu,mergeObjects:br.PM,customizeVisualAuthoringOperations:br.pQ},advancedSlicerVisual:{name:l.D.advancedSlicerVisual,watermarkKey:"buttonSlicer",titleKey:(0,v.V)("ButtonSlicer_Tooltip"),capabilities:Vr.D.advancedSlicer,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("advancedSlicer").then(t.bind(t,284757))];case 1:return[2,(0,yt.sent().createAdvancedSlicer)(void 0)]}})})},getSortableRoles:Zr,module:{css:["advancedSlicerVisual"]}},pageNavigator:{name:l.D.pageNavigator,titleKey:(0,v.V)("Visual_PageNavigator"),capabilities:Vr.D.pageNavigator,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("navigator").then(t.bind(t,827559))];case 1:return[2,(0,yt.sent().createNavigator)({navigatorType:"page"})]}})})}},bookmarkNavigator:{name:l.D.bookmarkNavigator,titleKey:(0,v.V)("Visual_BookmarkNavigator"),capabilities:Vr.D.bookmarkNavigator,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("navigator").then(t.bind(t,827559))];case 1:return[2,(0,yt.sent().createNavigator)({navigatorType:"bookmark"})]}})})}},filterSlicer:{name:l.D.filterSlicer,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("slicer").then(t.bind(t,432767))];case 1:return[2,new(0,yt.sent().Slicer)(void 0)]}})})},capabilities:Vr.D.slicer,customizeQuery:br.Wj,getSortableRoles:br.ot,shouldIgnoreCrossFilter:br.vu,mergeObjects:br.PM,customizeVisualAuthoringOperations:br.pQ},textbox:{name:l.D.textbox,titleKey:(0,v.V)("Textbox"),capabilities:Vr.D.textbox,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("textbox").then(t.bind(t,92183))];case 1:return[2,new(0,yt.sent().Textbox)(void 0)]}})})},supportsSummarization:!0,summarizationMessage:(0,v.V)("SmartNarratives_InitializationMessage")},aiNarratives:{name:l.D.aiNarratives,titleKey:(0,v.V)("Narrative"),capabilities:Vr.D.aiNarratives,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("aiNarratives").then(t.bind(t,66851))];case 1:return[2,new(0,yt.sent().AINarratives)]}})})},module:{css:["aiNarrativesVisual"]},getCustomizeConvertTo:function(ht){return function(lt){var ct,Tt;if("textbox"===lt)return{objects:(ct={},ct[Gr.w$.narrativeSelection.dismissSelectionScreen.objectName]=(Tt={},Tt[Gr.w$.narrativeSelection.dismissSelectionScreen.propertyName]={transform:function(){return(0,S.O7)(!0)}},Tt),ct)}}(ht)}},waterfallChart:{name:l.D.waterfallChart,watermarkKey:"waterfall",titleKey:(0,v.V)("WaterfallChart_ToolTip"),capabilities:Vr.D.waterfallChart,create:Or,createES6:function(ht){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(Ft){switch(Ft.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,Ft.sent().CartesianChart)({chartType:11,featureSwitches:ht.featureSwitches})]}})})},customizeQuery:gr,getSortableRoles:xr,getAdditionalTelemetry:F},scriptVisual:{name:l.D.scriptVisual,watermarkKey:"scriptvisual",titleKey:(0,v.V)("ScriptVisual_ToolTip"),capabilities:Vr.D.scriptVisual,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,745903))];case 1:return[2,new(0,yt.sent().ScriptVisual)]}})})}},pythonVisual:{name:l.D.pythonVisual,watermarkKey:"pythonvisual",titleKey:(0,v.V)("PythonVisual_ToolTip"),capabilities:Vr.D.pythonVisual,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("scriptVisual").then(t.bind(t,745903))];case 1:return[2,new(0,yt.sent().ScriptVisual)]}})})}},kpi:{name:l.D.kpi,watermarkKey:"kpi",titleKey:(0,v.V)("kpi_Tooltip"),capabilities:Vr.D.kpi,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("kpiStatusWithHistory").then(t.bind(t,184894))];case 1:return[2,new(0,yt.sent().KPIStatusWithHistory)(void 0)]}})})},stampHardcodedDefaultObjects:ye,getNarrativeSummaryBindings:Ce},keyDriversVisual:{name:l.D.keyDriversVisual,watermarkKey:"keyDrivers",titleKey:(0,v.V)("KeyDriver_Tooltip"),capabilities:Vr.D.keyDrivers,create:function(ht){return ht.module.createAnalysisVisual()},getAnalysisVisualNarrativeSummaryConfiguration:Je},decompositionTreeVisual:{name:l.D.decompositionTreeVisual,watermarkKey:"decompositionTree",titleKey:(0,v.V)("DecompositionTree_Tooltip"),capabilities:Vr.D.decompositionTree,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("decompositionTree").then(t.bind(t,289570))];case 1:return[2,new(0,yt.sent().DecompositionTree)]}})})},customizeQuery:me},qnaVisual:{name:l.D.qnaVisual,capabilities:Vr.D.qnaVisual,create:function(ht){return ht.module.createQnaVisual()},titleKey:(0,v.V)("Generic_Qna")},scorecard:{name:l.D.scorecard,watermarkKey:"scorecard",titleKey:(0,v.V)("Scorecard_Visual_Tooltip"),capabilities:Vr.D.scorecard,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("scorecard").then(t.bind(t,346323))];case 1:return[2,new(0,yt.sent().Scorecard)]}})})},module:{css:["scorecardVisual"]}},rdlVisual:{name:l.D.rdlVisual,titleKey:(0,v.V)("RdlVisual_ToolTip"),capabilities:Vr.D.rdlVisual,create:Or,createES6:function(){return(0,e.__awaiter)(ct,void 0,void 0,function(){return(0,e.__generator)(this,function(yt){switch(yt.label){case 0:return[4,t.e("rdlVisual").then(t.bind(t,256125))];case 1:return[2,new(0,yt.sent().RdlVisual)]}})})},module:{css:["rdlVisual"]},customizeQuery:we},dataQueryVisual:{name:l.D.dataQueryVisual,capabilities:Vr.D.dataQueryVisual,create:function(){d.fF.assertFail("This visual should not be created")},customizeQuery:Y}},lt[Qr.name]=Qr,lt);for(var ot in Tt)o.N[ot]=Tt[ot];return Ur=!0,o.N}()},884133:function(Xe,H,t){t.d(H,{D:function(){return Y}});var e=t(273269),l=t(572909),o=t(495570),d=t(586245),v={dataRoles:[{name:d.r.rows,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Rows"),description:(0,l.V)("Role_DisplayName_RowsDescription")},{name:d.r.columns,kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Columns"),description:(0,l.V)("Role_DisplayName_ColumnsDescription")},{name:d.r.values,kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Values")}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:o.iD.formatString}}},dataViewMappings:[{matrix:{rows:{for:{in:d.r.rows},dataReductionAlgorithm:{top:{count:3e3}}},columns:{for:{in:d.r.columns},dataReductionAlgorithm:{top:{count:100}}},values:{for:{in:d.r.values}}}}]},S=t(845173),h=t(889408),r={objects:{general:{properties:{formatString:o.iD.formatString}}},dataViewMappings:[{single:{role:"Values"}}],supportsSelection:!1},s=t(977691),u=t(635414),i=t(158049),a=t(159682),n=t(803273),m=t(861344),f=t(772034),V=t(384195),p=t(38488),C=t(933346),b=t(505078),y=t(412627),D=t(307477),P=t(857017),F=t(790012),E=t(635019),w=t(380073),x=t(442137),R=t(259967),g=t(187545),L=t(784970),T=t(64716),O=t(839378),N=t(973188),A={dataRoles:[{name:"Category",kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Axis"),description:(0,l.V)("Role_DisplayName_AxisDescription"),requiredTypes:[{numeric:!0},{dateTime:!0}],cartesianKind:0},{name:"Series",kind:e.DW.Grouping,displayName:(0,l.V)("Role_DisplayName_Legend"),description:(0,l.V)("Role_DisplayName_LegendDescription")},{name:"Y",kind:e.DW.Measure,displayName:(0,l.V)("Role_DisplayName_Values"),description:(0,l.V)("Role_DisplayName_ValuesDescription"),requiredTypes:[{numeric:!0},{integer:!0}],cartesianKind:1}],objects:{general:{displayName:(0,l.V)("Visual_General"),properties:{formatString:o.iD.formatString,responsive:o.iD.responsive,responsiveLegacy:o.iD.responsiveLegacy}},legend:{displayName:(0,l.V)("Visual_Legend"),description:(0,l.V)("Visual_LegendDescription"),properties:{show:o.iD.show,position:o.iD.legendPosition,showTitle:o.iD.showLegendTitle,titleText:(0,N.__assign)((0,N.__assign)({},o.iD.legendTitle),{suppressFormatPainterCopy:!0}),labelColor:o.iD.labelColor,fontSize:o.iD.fontSize}},categoryAxis:{displayName:(0,l.V)("Visual_XAxis"),properties:{show:o.iD.show,axisType:o.iD.axisType,showAxisTitle:o.iD.showAxisTitle_X,axisStyle:o.iD.axisStyle,labelColor:o.iD.labelColor,labelDisplayUnits:o.iD.labelDisplayUnits,labelPrecision:o.iD.labelPrecision,duration:{type:{numeric:!0}}}},valueAxis:{displayName:(0,l.V)("Visual_YAxis"),properties:{show:o.iD.show,showAxisTitle:o.iD.showAxisTitle_Y,axisStyle:o.iD.axisStyle,labelColor:o.iD.labelColor,labelDisplayUnits:o.iD.labelDisplayUnits,labelPrecision:o.iD.labelPrecision}},dataPoint:{displayName:(0,l.V)("Visual_DataPoint"),description:(0,l.V)("Visual_DataPointDescription"),properties:{defaultColor:o.iD.defaultColor,fill:o.iD.fill}},plotArea:{displayName:(0,l.V)("Visual_Plot"),properties:{transparency:o.iD.transparency,image:o.iD.image}}},dataViewMappings:[{conditions:[{Category:{max:1},Series:{max:0}},{Category:{max:1},Series:{min:1,max:1},Y:{max:1}}],categorical:{categories:{for:{in:"Category"},dataReductionAlgorithm:{top:{}}},values:{group:{by:"Series",select:[{for:{in:"Y"}}],dataReductionAlgorithm:{top:{}}}}}}],sorting:{implicit:{clauses:[{role:"Category",direction:1}]}}},I=t(709787),B=t(234681),U={dataRoles:[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}},suppressVisualCalc:!0},W=t(222151),j=t(620056),K=t(999738),ee=t(2304),ie=t(682701),he=t(604284),q=t(615116),Y={actionButton:(0,S.mx)(),aiNarratives:(0,h.Tf)(),animatedNumber:r,areaChart:(0,w.yg)(!1,!0),barChart:(0,m.nn)(!0,!0),basicShape:u.T,advancedSlicer:i.u9,shape:W.Ic,card:a.C,cardVisual:n.LS,multiRowCard:R._i,clusteredBarChart:(0,m.nn)(!0),clusteredColumnChart:(0,m.nn)(),columnChart:(0,m.nn)(!1,!0),donutChart:(0,C.cw)(),funnel:(0,y.qW)(),gauge:D.J1,hundredPercentStackedBarChart:(0,m.nn)(!0,!0),hundredPercentStackedColumnChart:(0,m.nn)(!1,!0),ribbonChart:(0,m.nn)(!1,!0,!0),image:P.Jz,lineChart:(0,w.yg)(!1,!1),stackedAreaChart:(0,w.yg)(!0,!0),lineStackedColumnComboChart:(0,f.p5)(!0),lineClusteredColumnComboChart:(0,f.p5)(!1),map:(0,x.NC)(),filledMap:(0,b.XN)(),azureMap:(0,s.$E)(),shapeMap:(0,j.x)(),treemap:(0,he.cB)(),pieChart:(0,C.cw)(),scatterChart:(0,I.r4)(),table:(0,ee.Y)(),matrix:d.d,slicer:(0,K.st)(),pageNavigator:g.QP,bookmarkNavigator:g.j0,textbox:ie.dd,waterfallChart:(0,q.GJ)(),heatMap:(0,x.NC)(),scriptVisual:U,pythonVisual:{dataRoles:[{name:"Values",kind:e.DW.GroupingOrMeasure,displayName:(0,l.V)("Role_DisplayName_Values")}],dataViewMappings:[{scriptResult:{dataInput:{table:{rows:{for:{in:"Values"},dataReductionAlgorithm:{top:{}}}}},script:{source:{objectName:"script",propertyName:"source"},provider:{objectName:"script",propertyName:"provider"}}}}],objects:{script:{properties:{provider:{type:{text:!0}},source:{type:{scripting:{source:!0}}}}}}},kpi:(0,E.pW)(),realTimeLineChart:A,accessibleTable:v,pivotTableCapabilities:(0,L.R)(),keyDrivers:(0,F.yM)(),decompositionTree:(0,p.Sd)(),qnaVisual:T.OF,dataQueryVisual:V.YE,scorecard:B.b,rdlVisual:O.Cg}},563746:function(Xe,H,t){function e(d,v){o[d]=v}t.d(H,{G:function(){return e},N:function(){return o}});var d,o=(d={},window.powerbi||(window.powerbi={}),window.powerbi.visuals||(window.powerbi.visuals={}),window.powerbi.visuals.plugins?d=window.powerbi.visuals.plugins:window.powerbi.visuals.plugins=d,d)},143056:function(Xe,H,t){t.d(H,{Q:function(){return s},o:function(){return u}});var e=t(498342),l=t(498090),o=t(864380),d=t(686311),v=t(985385),S=t(325319),h=t(843081),c={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},r={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",RichTextbox_Link_DefaultText:"Link",RichTextbox_Link_ToolTip:"Insert link",TableTotalLabel:"Total",ListJoin_Separator:", ",Tooltip_HighlightedValueDisplayName:"Highlighted",Funnel_PercentOfFirst:"Percent of first",Funnel_PercentOfPrevious:"Percent of previous",Funnel_PercentOfFirst_Highlight:"Percent of first (highlighted)",Funnel_PercentOfPrevious_Highlight:"Percent of previous (highlighted)",Waterfall_BreakdownDifferenceTooltip:"Difference in {0}",Waterfall_OtherLabel:"Other",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories",Increase:"Increase",MultiColumn_Join_Separator:",",NamePattern_Bracket:"{0} ({1})",Decrease:"Decrease",Waterfall_TotalLabel:"Total",SelectAll:"Select All",Visual_Quarter_Abbreviated:"Qtr {0}",All:"All",NamePattern_Colon:"{0}: {1}",Visual_LabelText_Value:"Value",Visual_Legend:"Legend",Visual_Plot:"Plot Area",Role_DisplayName_MinValue:"Minimum value",Role_DisplayName_MaxValue:"Maximum value",KpiValueFieldListDisplayName:"Value",Visual_KPI_Goal_Title:"Goal",Of:"of",Slicer_Restatement_Multiple:"Multiple Selected",DQP_Disabled_Blank:"DQP_Disabled_Blank",DQP_Disabled_SelectAll:"DQP_Disabled_SelectAll",DateSlicer_InputTextHint:"Enter date in {0} format",Slicer_Range_Hint:"Range {0} to {1}",Start_Date:"Start date",End_Date:"End date",FieldListProperty_Collapsed:"Collapsed",FieldListProperty_Expanded:"Expanded"},s=function(){function i(){this.instanceId=void 0}return i.initialize=function(){(0,d.X0)(i.createLocaleOptions()),h.I6.localizationOptions=i.createTooltipLocaleOptions(),(0,S.iZ)(i.createDataViewTransformLocalizationOptions())},i.createLocaleOptions=function(){return{null:r.NullValue,true:r.BooleanTrue,false:r.BooleanFalse,NaN:r.NaNValue,infinity:r.InfinityValue,negativeInfinity:r.NegativeInfinityValue,beautify:function(n){return i.beautify(n)},describe:function(n){return i.describeUnit(n)},restatementComma:r.Restatement_Comma,restatementCompoundAnd:r.Restatement_CompoundAnd,restatementCompoundOr:r.Restatement_CompoundOr}},i.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:r.Tooltip_HighlightedValueDisplayName}},i.createDataViewTransformLocalizationOptions=function(){return{quarterPrefix:r.Visual_Quarter_Abbreviated}},i.prototype.getLocalizedString=function(a){for(var n=[],m=1;m<arguments.length;m++)n[m-1]=arguments[m];return r[a]},i.prototype.alertScreenReader=function(a){},i.prototype.alertWithDebounce=function(a,n){},i.prototype.requestFocus=function(){},i.prototype.onDragStart=function(){},i.prototype.getVisualLinkProperties=function(){},i.prototype.canSelect=function(){return!1},i.prototype.onSelecting=function(a){a.action=0},i.prototype.onSelect=function(){},i.prototype.onSwitchFocusModeState=function(){},i.prototype.canExpandCollapse=function(a){return!1},i.prototype.setNodeExpansionState=function(a){},i.prototype.setLevelExpansionState=function(a){},i.prototype.setCanDrill=function(a){},i.prototype.onContextMenu=function(){},i.prototype.loadMoreData=function(){},i.prototype.loadWindow=function(a){},i.prototype.setShouldDeferData=function(){},i.prototype.fetchMoreData=function(a){return!0},i.prototype.persistProperties=function(a){},i.prototype.onCustomSort=function(a){},i.prototype.getViewMode=function(){return 0},i.prototype.getEditMode=function(){return 0},i.prototype.setWarnings=function(a){},i.prototype.getWarnings$=function(){},i.prototype.setToolbar=function(a){},i.prototype.shouldRetainSelection=function(){return!1},i.prototype.geocoder=function(){return(0,v.Wy)()},i.prototype.geolocation=function(){e.fF.assertFail("Not being called anywhere")},i.prototype.promiseFactory=function(){return(0,l.p)()},i.prototype.visualCapabilitiesChanged=function(){},i.prototype.ignoreDefaultFilter=function(){},i.prototype.getIdentityDisplayNames=function(a){},i.prototype.setIdentityDisplayNames=function(a){},i.prototype.drill=function(a){},i.prototype.setFilterExpressionMetadata=function(a){},i.prototype.getFilterExpressionMetadata=function(){},i.prototype.dropdown=function(){},i.prototype.tooltips=function(){},i.prototype.telemetry=function(){},i.prototype.authenticationService=function(){},i.prototype.localStorageService=function(){},i.prototype.acquireAADTokenService=function(){},i.prototype.eventService=function(){},i.prototype.licenseManagerService=function(){},i.prototype.decompositionService=function(){},i.prototype.locale=function(){return navigator.language},i.prototype.allowInteractions=function(){return!0},i.prototype.loader=function(){return(0,o.hQ)(this.promiseFactory(),void 0,null)},i.prototype.getUIComponentFactory=function(){return null},i.prototype.applyJsonFilter=function(a,n,m,f){return!0},i.prototype.applyIdentityFilter=function(a,n,m,f){return!0},i.prototype.launchUrl=function(a){},i.prototype.refreshHostData=function(){},i.prototype.sendSelectionIdsToHost=function(a){},i.prototype.getJSONFilter=function(a,n){return this.promiseFactory().reject()},i.prototype.onHyperlinkClick=function(a,n){},i.prototype.visualTimeSynchronization=function(){},i.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},i.prototype.dataMultiSelectMode=function(){return 0},i.prototype.networkAvailability=function(){},i.prototype.downloadService=function(){},i.prototype.setAriaMetadata=function(a){},i.prototype.artifactService=function(){},i.prototype.getSectionsMetadata$=function(){},i.prototype.getBookmarksMetadata$=function(){},i.prototype.onNotifyLicense=function(a){},i.prototype.onClearLicenseNotification=function(){},i.prototype.onNotifyFeatureBlocked=function(a){},i.prototype.getSubSelectionService=function(){},i.prototype.webAccessService=function(){},i.prototype.getAzureMapToken=function(){},i.prototype.azureMapsEndpoint=function(){},i.prototype.geocoderIndexedDB=function(){},i.prototype.triggerUpdate=function(){},i.prototype.isScreenshotWorkload=function(){return!1},i.prototype.localStorageV2Service=function(){},i.prototype.aiNarrativesService=function(){},i.prototype.dateTimeFormatService=function(){},i.prototype.visualExportService=function(){},i.prototype.visualHostSubSelectionService=function(){},i.beautify=function(a){var n=c[a];return n?((0,d.J6)(n),r[n]||a):a},i.describeUnit=function(a){var n=-1===a?"Auto":a.toString(),m=r["DisplayUnitSystem_E"+n+"_Title"],f=a<=0?"{0}":r["DisplayUnitSystem_E"+n+"_LabelFormat"];if(m||f)return{title:m,format:f}},i}(),u=new s},738780:function(Xe,H,t){t.d(H,{ag:function(){return E},rO:function(){return y},Ei:function(){return F},cq:function(){return P},xm:function(){return b}});var h,s,e=t(973188),l=t(498342),o=t(546368),d=t(573521),v=t(15757),S=t(680453);function r(w){return h||((h={})[v.yV.Continent.toLowerCase()]=S.fk.Continent,h[v.yV.CountryRegion.toLowerCase()]=S.fk.Sovereign,h[v.yV.StateOrProvince.toLowerCase()]=S.fk.AdminDivision1,h[v.yV.County.toLowerCase()]=S.fk.AdminDivision2,h[v.yV.City.toLowerCase()]=S.fk.PopulatedPlace,h[v.yV.PostalCode.toLowerCase()]=S.fk.Postcode,h[v.yV.Address.toLowerCase()]=S.fk.Address),w&&h[w.toLowerCase()]||""}function i(w){return s||((s={})[v.yV.CountryRegion.toLowerCase()]=S.fk.CountryRegion,s[v.yV.StateOrProvince.toLowerCase()]=S.fk.AdminDivision1,s[v.yV.County.toLowerCase()]=S.fk.AdminDivision2,s[v.yV.City.toLowerCase()]=S.fk.PopulatedPlace,s[v.yV.PostalCode.toLowerCase()]=S.fk.Postcode1),w&&s[w.toLowerCase()]||""}var n,a=t(213330),m=((n={})[S.yL]="G",n[S.a_]="S",n[S.Tu]="AG",n[S.S3]="AS",n),f={Sovereign:"countryRegion",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},V={Sovereign:"countryRegionSet",CountryRegion:"countryRegionSet",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict",PopulatedPlace:"locality",Postcode:"postalCode",Postcode1:"postalCode",Neighborhood:"locality",Address:"addressLine"},p={Continent:"continent",CountryRegion:"countryRegion",AdminDivision1:"adminDistrict",AdminDivision2:"adminDistrict2",AdminDivision3:"adminDistrict3",PopulatedPlace:"locality",Postcode1:"postalCode",Postcode2:"postalCode2",Postcode3:"postalCode3",Postcode4:"postalCode4",Neighborhood:"neighborhood"},C=function(){function w(x,R,g,L){this.location=x,R&&(g&&L&&(R=this.removeRegion(R)),this.key=((R=m[R]||R)+";"+_.map(this.location.components,function(M){return(M.query||"")+"/"+(M.category||"")}).join("&")).toLowerCase(),x.culture&&(this.key+="&c=".concat(x.culture)))}return w.prototype.removeRegion=function(x){return l.fF.assert(function(){return!!x&&x.indexOf("atlas.microsoft.com")>0},"should be a valid azure maps url, but received ".concat(x)),x.slice(0,8)+x.slice(x.indexOf("atlas.microsoft.com"))},w.prototype.getKey=function(){return this.key},w.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"jsonp",jsonp:"jsonp"}},w}(),b=function(w){function x(R,g,L){var M=w.call(this,g,R)||this;return M.credentials=L,M}return(0,e.__extends)(x,w),x.prototype.getCulture=function(){return this.location.culture},x.prototype.getBingEntity=function(){return r(_.last(this.location.components).category)},x.prototype.validate=function(){return null!=this.getEntity()},x.prototype.getEntity=function(){var R=this.getGeocodingParameters();if(_.some(R,function(B){return!B.key})){var g=_.chain(R).map(function(B){return B.value}).filter(function(B){return B}).reverse().value().join(", ");return g?{Query:g}:void 0}for(var L={Address:{}},M=L.Address,T=0,O=R;T<O.length;T++){var N=O[T],A=N.value;if(!A||!(A=A.trim()))return;var I=N.key;"adminDistrict"===I&&M.AdminDistrict?M.AdminDistrict=N.value+", "+M.AdminDistrict:M[S.$o[I]]=N.value}return L},x.prototype.getUrl=function(R){var g={key:this.credentials||v.Zr.BingKey},L=this.getEntity();if(L){var M=L.Address;if(M)for(var T in M)g[S.H6[T]]=M[T];else g.q=L.Query;var O=this.location.culture||(0,a.$F)();return O&&(g.c=O),g.maxRes="10",(0,o.fS)(R,g,!0)}},x.prototype.getGeocodingParameters=function(){var R=this.location.components;return R.length>=2&&R[0].category===v.yV.Continent&&R[1].category===v.yV.CountryRegion&&(R=_.tail(R)),_.map(R,function(L){var M=r(L.category),T="";M in f&&(T=f[M]);var O=L.query;return M===S.fk.Sovereign&&O&&(O=x.Iso3166Substitutions[O]||O),{key:T,value:O}})},x.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(R){return!R.key})},x.prototype.getResult=function(R){var g=this,L=this.isGeneralQuery(),M=D(R,function(N){return g.locationQuality(N,L)});if(M){var T=M.point.coordinates;return{coordinates:{latitude:T&&T[0],longitude:T&&T[1],entityType:M.entityType}}}return{error:new Error("Geocode result is empty.")}},x.prototype.shouldDoFullGeocoding=function(R){var g=R&&R.resourceSets&&R.resourceSets[0]&&R.resourceSets[0].resources&&R.resourceSets[0].resources[0];if(!g||(0,a.SN)(g.matchCodes))return!1;var L=this.getBingEntity().toLowerCase(),M=g.entityType&&g.entityType.toLowerCase();return"admindivision1"===L&&"admindivision2"===M||"admindivision2"===L&&"admindivision1"===M},x.prototype.extractSingleResult=function(R,g){return R&&R.resourceSets&&R.resourceSets.length>g?{resourceSets:[R.resourceSets[g]]}:void 0},x.prototype.locationQuality=function(R,g){if(!g&&R.matchCodes&&!(0,a.X5)(R.matchCodes))return-1;var L=0;if(1===this.location.components.length&&this.location.components[0].category===v.yV.CountryRegion){var M=R.address&&R.address.countryRegionIso2;if(M){var T=this.location.components[0].query.toLowerCase();2===T.length&&T===M.toLowerCase()&&(L+=2)}}return R.entityType&&R.entityType.toLowerCase()===this.getBingEntity().toLowerCase()&&(L+=1),L},x.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF",SA:"Saudi Arabia"},x}(C),y=function(w){function x(R,g,L,M,T,O,N){void 0===N&&(N="subscriptionKey");var A=w.call(this,g,R,L,M)||this;return A.apiVersion=T,A.credentials=O,A.credentialType=N,l.fF.assert(function(){return"subscriptionKey"===N||!!O},"credentials must be provided when using Azure Maps SAS Token"),A}return(0,e.__extends)(x,w),x.prototype.getCulture=function(){return this.location.culture},x.prototype.validate=function(){return null!=this.getEntity()},x.prototype.getEntity=function(){var R=this.getGeocodingParameters();if(_.some(R,function(I){return!I.key})){var g=_.chain(R).map(function(I){return I.value}).filter(function(I){return I}).reverse().value().join(", ");return g?{query:g}:void 0}for(var L={},M=0,T=R;M<T.length;M++){var O=T[M],N=O.value;if(!N||!(N=N.trim()))return;var A=O.key;"adminDistrict"===A&&L.adminDistrict?L.adminDistrict=O.value+", "+L.adminDistrict:L[A]=O.value}return L},x.prototype.getUrl=function(R){var g={},L=this.getEntity();if(!_.isEmpty(L)){for(var M in L)g[M]=L[M];return g.top="10",g["api-version"]=this.apiVersion,(0,o.fS)(R,g,!0)}},x.prototype.getGeocodingParameters=function(){var R=this.location.components;return R.length>=2&&R[0].category===v.yV.Continent&&R[1].category===v.yV.CountryRegion&&(R=_.tail(R)),_.map(R,function(L){var M=r(L.category),T="";M in V&&(T=V[M]);var O=L.query;return M===S.fk.Sovereign&&O&&(O=x.Iso3166Substitutions[O]||O),{key:T,value:O}})},x.prototype.isGeneralQuery=function(){return _.some(this.getGeocodingParameters(),function(R){return!R.key})},x.prototype.getResult=function(R){var M,g=this,L=R&&!_.isEmpty(R.features)&&R.features;if(Array.isArray(L)){var T=_.chain(L).map(function(I){return{feature:I,value:g.locationQuality(I,g.isGeneralQuery())}}).filter(function(I){return I.value>=0}).maxBy(function(I){return I.value}).value();M=T&&T.feature}if(M){var O=M.geometry,N=M.properties;return{coordinates:{latitude:O&&O.coordinates[1],longitude:O&&O.coordinates[0],entityType:N&&N.type}}}return{error:new Error("Azure Maps Geocode result is empty.")}},x.prototype.extractSingleResult=function(R,g){return R&&R.batchItems&&R.batchItems.length>g?R.batchItems[g]:void 0},x.prototype.getBingEntity=function(){return r(_.last(this.location.components).category)},x.prototype.locationQuality=function(R,g){var L;if(!g&&R.properties&&R.properties.matchCodes&&!(0,a.X5)(R.properties.matchCodes))return-1;var M=0;if("High"===(null===(L=R.properties)||void 0===L?void 0:L.confidence)&&(M+=3),1===this.location.components.length&&this.location.components[0].category===v.yV.CountryRegion){var T=R.properties&&R.properties.address&&R.properties.address.countryRegion&&R.properties.address.countryRegion.ISO;if(T){var O=this.location.components[0].query.toLowerCase();2===O.length&&O===T.toLowerCase()&&(M+=2)}}return R.properties&&R.properties.type&&R.properties.type.toLowerCase()===this.getBingEntity().toLowerCase()&&(M+=1),M},x.prototype.getHeaders=function(){var R;R="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||d.R.AzureKey};var g=this.getCulture()||(0,a.$F)();return g&&(R["Accept-Language"]=g),R},x.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},x.Iso3166Substitutions={BI:"Burundi",BQ:"Bonaire",SJ:"Svalbard",BES:"Bonaire",NGA:"Nigeria",NAM:"Namibia",SJM:"Svalbard",MAF:"MF"},x}(C);function D(w,x){var R=w&&!_.isEmpty(w.resourceSets)&&w.resourceSets[0].resources;if(Array.isArray(R)){var g=_.chain(R).map(function(L){return{location:L,value:x(L)}}).filter(function(L){return L.value>=0}).maxBy(function(L){return L.value}).value();return g&&g.location}}var P=function(w){function x(R,g,L,M,T){var O=w.call(this,{components:[{query:[g,L].join(),category:"Point"}]})||this;return O.credentials=T,O.latitude=g,O.longitude=L,O.entities=M,O}return(0,e.__extends)(x,w),x.prototype.validate=function(){return!0},x.prototype.getUrl=function(R){var g=this;l.fF.assert(function(){return g.entities.every(function(O){return!!_.findKey(S.fk,function(N){return N===O})})},"All entities should match one of the allowed BingEntities");var L=(0,o.oB)(R),M=_.endsWith(L.baseUrl,"/")?L.baseUrl:L.baseUrl+"/";M+=[this.latitude,this.longitude].join();var T={key:this.credentials||v.Zr.BingKey,include:"ciso2"};return _.isEmpty(this.entities)||(T.includeEntityTypes=this.entities.join()),(0,o.fS)(M,T,!0)},x.prototype.getResult=function(R){var g=this,L=D(R,function(A){return-1===g.entities.indexOf(A.entityType)?0:1});if(L){var M=L.point.coordinates,T=L.address||{};return{coordinates:{latitude:M[0],longitude:M[1],addressLine:T.addressLine,locality:T.locality,neighborhood:T.neighborhood,adminDistrict:T.adminDistrict,adminDistrict2:T.adminDistrict2,formattedAddress:T.formattedAddress,postalCode:T.postalCode,countryRegionIso2:T.countryRegionIso2,countryRegion:T.countryRegion,landmark:T.landmark,name:L.name}}}return{coordinates:null}},x}(C),F=function(w){function x(R,g,L,M,T,O,N,A){void 0===O&&(O=3);var I=w.call(this,{components:[{query:[g,L,T,O].join(",")+(N!==i(M)?","+N:""),category:M}]},R)||this;return I.credentials=A,I.latitude=g,I.longitude=L,I.levelOfDetail=T,I.maxGeoData=O,I.entityType=N,I}return(0,e.__extends)(x,w),x.prototype.getBingEntity=function(){return i(_.last(this.location.components).category)},x.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},x.prototype.getUrl=function(R){var g=this.entityType||this.getBingEntity();if(!g)return null;var L=(0,o.oB)(R),M=L.baseUrl,T=L.queryParameters;T||(T={});var O=T.c||T.culture,N=O||"",A=O&&(0,a.VB)(O)||"";return T.key=this.credentials||v.Zr.BingKey,T.$format="json",T.SpatialFilter="GetBoundary("+[this.latitude,this.longitude,this.levelOfDetail,"'"+g+"'",1,0,"'"+N+"'","'"+A+"'"].join(", ")+")",delete T.c,delete T.culture,(0,o.fS)(M,T,!0)},x.prototype.getResult=function(R){var g=R;if(g&&g.d&&Array.isArray(g.d.results)&&g.d.results.length>0){var M=g.d.results[0].Primitives;if(M&&M.length>0){var T={latitude:this.latitude,longitude:this.longitude,locations:[]};M.sort(function(U,W){return U.Shape.length<W.Shape.length?1:U.Shape.length>W.Shape.length?-1:0});for(var O=Math.min(M.length,this.maxGeoData),N=0;N<O;N++)for(var I=M[N].Shape.split(","),B=1;B<I.length;B++)T.locations.push({nativeBing:I[B]});return{coordinates:T}}}return{error:new Error("Geocode result is empty.")}},x}(C),E=function(w){function x(R,g,L,M,T,O,N,A,I,B,U,W){void 0===I&&(I=3),void 0===W&&(W="subscriptionKey");var j=w.call(this,{components:[{query:[O,N,A,I].join(",")+(B!==i(g)?","+B:""),category:g}]},R,L,M)||this;return j.apiVersion=T,j.latitude=O,j.longitude=N,j.levelOfDetail=A,j.maxGeoData=I,j.entityType=B,j.credentials=U,j.credentialType=W,l.fF.assert(function(){return"subscriptionKey"===W||!!U},"credentials must be provided when using Azure Maps SAS Token"),j}return(0,e.__extends)(x,w),x.prototype.getBingEntity=function(){return i(_.last(this.location.components).category)},x.prototype.getResolution=function(){switch(this.levelOfDetail){case 3:return"huge";case 2:return"large";case 1:return"medium";default:return"small"}},x.prototype.validate=function(){return!(!this.entityType&&!this.getBingEntity())},x.prototype.getUrl=function(R){var g,L,M=null!==(g=this.entityType)&&void 0!==g?g:this.getBingEntity();if(""!==M&&M in p&&(L=p[M]),!L)return null;var O={coordinates:"".concat(this.longitude,",").concat(this.latitude),view:"".concat("Auto"),resultType:L,resolution:"".concat(this.getResolution()),"api-version":this.apiVersion};return(0,o.fS)(R,O,!0)},x.prototype.getResult=function(R){var g=R;if(g&&g.geometry&&Array.isArray(g.geometry.geometries)&&g.geometry.geometries.length>0){var L=g.geometry.geometries,M=function(O,N){return O+N.length};return L.sort(function(T,O){var N=T.coordinates.reduce(M,0);return O.coordinates.reduce(M,0)-N}),this.maxGeoData<L.length&&(L=L.slice(0,this.maxGeoData)),{coordinates:{latitude:this.latitude,longitude:this.longitude,geoJsonPolygons:L}}}return{error:new Error("Azure Maps Geo-boundary result is empty.")}},x.prototype.getHeaders=function(){var R;(R="sasToken"===this.credentialType?{Authorization:"jwt-sas ".concat(this.credentials)}:{"subscription-key":this.credentials||d.R.AzureKey}).Accept="application/json";var g=(0,a.$F)();return g&&(R["Accept-Language"]=g),R},x.prototype.getAjaxConfig=function(){return{type:"GET",dataType:"json"}},x}(C)},985385:function(Xe,H,t){t.d(H,{Gv:function(){return E},A7:function(){return N},Wy:function(){return D}});var u,e=t(973188),l=t(498342),o=t(498090),d=t(15757),v=t(738780),S=t(680453),h=t(521837),s=function(){function U(W,j,K){this.maxMemoryCacheSize=W,this.maxMemoryCacheSizeOverflow=j,this.localStorageCache=K,this.geocodeCache={},this.geocodeCacheCount=0,this.localStorageCache=K}return U.prototype.clear=function(W,j){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(K){switch(K.label){case 0:return W&&j.isSupported()?[4,j.clear()]:[3,2];case 1:K.sent(),K.label=2;case 2:return(0,h.LK)("G"),this.geocodeCache={},this.geocodeCacheCount=0,[2]}})})},U.prototype.getCoordinates=function(W,j,K,ee){return(0,e.__awaiter)(this,void 0,void 0,function(){var ie,he,q;return(0,e.__generator)(this,function(Y){switch(Y.label){case 0:return ie=W.getKey(),(he=this.geocodeCache[ie])?(++he.hitCount,[2,he.coordinate]):K&&ee.isSupported()?[4,ee.get(ie)]:[3,2];case 1:return q=Y.sent(),[3,3];case 2:q=this.localStorageCache.getData(ie),Y.label=3;case 3:return q?(j&&j.logFirstQueryHit(W),this.registerInMemory(ie,q,j),[2,q]):(void 0===he&&(j&&j.logFirstQueryMiss(W),this.markPendingInMemory(ie)),[2])}})})},U.prototype.getCoordinatesMemoryOnly=function(W,j){var K=W.getKey(),ee=this.geocodeCache[K];if(ee)return++ee.hitCount,ee.coordinate;void 0===ee&&(j&&j.logFirstQueryMiss(W),this.markPendingInMemory(K))},U.prototype.registerCoordinates=function(W,j,K,ee,ie){return(0,e.__awaiter)(this,void 0,void 0,function(){var he;return(0,e.__generator)(this,function(q){switch(q.label){case 0:return this.registerInMemory(W,j,K),he=U.getCoordinateToCache(j),ee&&ie.isSupported()?[4,ie.set(W,he)]:[3,2];case 1:return q.sent(),[3,3];case 2:this.localStorageCache.setData(W,he),q.label=3;case 3:return[2]}})})},U.prototype.markPendingInMemory=function(W){this.geocodeCache[W]=null},U.prototype.registerInMemory=function(W,j,K){var ee=this.geocodeCache,ie=this.maxMemoryCacheSize,he=ie+this.maxMemoryCacheSizeOverflow;if(this.geocodeCacheCount>=he){K&&K.disableFirstQueryLogging();var q=Object.keys(ee),Y=q.length;if(q.sort(function(re,le){var Ee=ee[re],Ne=ee[le];return(Ne?Ne.hitCount:0)-(Ee?Ee.hitCount:0)}),Y<2*he)for(var G=ie-1;G<Y;G++)ee[q[G]]=void 0;else{var me={};for(G=ie-1;G-- >0;)me[q[G]]=ee[q[G]];ee=this.geocodeCache=me}this.geocodeCacheCount=ie}ee[W]={coordinate:j,hitCount:1},++this.geocodeCacheCount},U.getCoordinateToCache=function(W){var j=W.locations;if(!j||!U.hasRuntimeBoundaryData(j))return W;var K={latitude:W.latitude,longitude:W.longitude,locations:_.map(j,function(ee){return{nativeBing:ee.nativeBing}})};return W.entityType&&(K.entityType=W.entityType),K},U.hasRuntimeBoundaryData=function(W){for(var j=0,K=W;j<K.length;j++){var ee=K[j];for(var ie in ee)if("nativeBing"!==ie)return!0}return!1},U}();function i(){return u||(u=new s(d.Zr.MaxCacheSize,d.Zr.MaxCacheSizeOverflow,(0,h.T5)("G",S.XF,d.Zr.MaxPersistedSpace,d.Zr.MaxAge))),u}function a(U,W,j,K){return U.getKey()?i().getCoordinates(U,W,j,K):Promise.resolve(void 0)}function n(U,W){if(U.getKey())return i().getCoordinatesMemoryOnly(U,W)}function m(U,W,j,K,ee){return U?i().registerCoordinates(U,W,j,K,ee):Promise.resolve(void 0)}function V(U,W){return i().clear(U,W)}var p=t(213330),C=function(){function U(){}return U.setMapsAjaxCall=function(W){U.MapsAjaxCall=W},U.MapsAjaxCall=$.ajax,U}(),b=t(573521),y=t(546368);function D(){return new w}function P(U,W,j){U&&(W instanceof v.xm?U.logGeocodeImmediate(W,j):W instanceof v.Ei?U.logGeocodeBoundaryImmediate(W,j):W instanceof v.rO?U.logAzureMapsGeocodeImmediate(W):W instanceof v.ag&&U.logAzureMapsGeocodeBoundaryImmediate(W))}function F(U,W,j,K,ee){U&&(W instanceof v.xm?U.logGeocodeResult(W,j,K,ee):W instanceof v.Ei?U.logGeocodeBoundaryResult(W,j,K,ee):W instanceof v.rO?U.logAzureMapsGeocodeResult(W,j,K,ee):W instanceof v.ag&&U.logAzureMapsGeocodeBoundaryResult(W,j,K,ee))}var E=function(){function U(W,j){this.useBatchGeocoding=W,this.bypassGeocodingCache=j}return U.prototype.geocodeBaseUrl=function(W){switch(W){case 4:case 6:return this.azureMapsGeocodingUrl();case 5:return this.azureMapsBoundaryUrl();case 1:return this.bingSpatialDataUrl();default:return this.bingGeocodingUrl()}},U.prototype.geocodeQueueType=function(W){return 1===W?this.useBatchGeocoding()?6:4:this.useBatchGeocoding()?3:0},U.prototype.geocode=function(W,j,K,ee,ie,he){l.fF.assert(function(){return 1===j||"sasToken"!==(null==ie?void 0:ie.credentialType)},"SASToken credential type is only supported for Azure Maps");var q=(0,o.p)().defer(),Y=this.geocodeQueueType(j),G=1===j?new v.rO(this.azureMapsGeocodingUrl(),W,!0,he,S.Ee,ie&&ie.credentials,ie&&ie.credentialType):new v.xm(this.bingGeocodingUrl(),W,ie&&ie.credentials);return this.geocodeCore(Y,G,K,ee,ie).pipe(function(me){return q.resolve(me)},function(me){return q.reject(me)}),q.promise},U.prototype.geocodeBoundary=function(W,j,K,ee,ie,he){l.fF.assert(function(){return 1===j||"sasToken"!==(null==ie?void 0:ie.credentialType)},"SASToken credential type is only supported for Azure Maps");var q=W.latitude,Y=W.longitude,G=W.category,me=void 0===G?"":G,re=W.levelOfDetail,le=void 0===re?2:re,Ee=W.maxGeoData,Ne=void 0===Ee?3:Ee,Ye=W.entityType,Je=1===j?5:1,_e=1===j?new v.ag(this.azureMapsBoundaryUrl(),me,!0,he,S.Ee,q,Y,le,Ne,Ye,ie&&ie.credentials,ie&&ie.credentialType):new v.Ei(this.bingSpatialDataUrl(),q,Y,me,le,Ne,Ye,ie&&ie.credentials);return this.geocodeCore(Je,_e,K,ee,ie)},U.prototype.geocodePoint=function(W,j,K,ee,ie,he){return this.geocodeCore(2,new v.cq(this.bingGeocodingUrl(),W,j,ie,he&&he.credentials),K,ee,he)},U.prototype.tryGeocodeImmediate=function(W,j,K,ee,ie){return(0,e.__awaiter)(this,void 0,void 0,function(){var he,q,Y;return(0,e.__generator)(this,function(G){switch(G.label){case 0:return this.bypassGeocodingCache()?[2]:(he=1===j?new v.rO(this.azureMapsGeocodingUrl(),W,!0,ie,S.Ee):new v.xm(this.bingGeocodingUrl(),W),q=this.bingGeocodingLogger(),[4,a(he,q,K,ee)]);case 1:return Y=G.sent(),P(q,he,Y),[2,Y]}})})},U.prototype.tryGeocodeBoundaryImmediate=function(W,j,K,ee,ie){return(0,e.__awaiter)(this,void 0,void 0,function(){var he,q,Y,G,me,re,le,Ee,Ne,Ye;return(0,e.__generator)(this,function(Je){switch(Je.label){case 0:return this.bypassGeocodingCache()?[2]:(he=W.latitude,q=W.longitude,Y=W.category,G=W.levelOfDetail,re=void 0===(me=W.maxGeoData)?3:me,le=W.entityType,Ee=1===j?new v.ag(this.azureMapsBoundaryUrl(),Y,!0,ie,S.Ee,he,q,G,re,le):new v.Ei(this.bingSpatialDataUrl(),he,q,Y,G,re,le),Ne=this.bingGeocodingLogger(),[4,a(Ee,Ne,K,ee)]);case 1:return Ye=Je.sent(),P(Ne,Ee,Ye),[2,Ye]}})})},U.prototype.geocodeCore=function(W,j,K,ee,ie){var he=$.Deferred();if(j.validate()){var q=this.bingGeocodingLogger(),Y=ie&&null!=ie.bypassCache?ie.bypassCache:this.bypassGeocodingCache(),G=!Y&&n(j,q);if(G)P(q,j,G),he.resolve(G);else{var me=ie&&ie.timeout,re=3===W||6===W,le=function(U,W,j,K,ee,ie,he){var q=U.toString()+W+(j||"");(3===U||6===U)&&he&&(q+=he);var G=A[q];if(!G){var me=(0,y.oB)(W),re=me.queryParameters;switch("/"===(W=me.baseUrl)[W.length-1]&&(W=W.substring(0,W.length-1)),U){case 6:G=new T("".concat(W,"/").concat(S.TY),j,{batchGeocodeCulture:he,batchSize:S.uC,batchRequest:function(Ee){return JSON.stringify({batchItems:_.map(Ee,function(Ne){return Ne.getEntity()})})},batchHeaders:function(Ee,Ne){var Ye={"Accept-Language":Ne||(0,p.$F)()};return"sasToken"===ie?Ye.Authorization="jwt-sas ".concat(Ee):Ye["subscription-key"]=Ee||b.R.AzureKey,Ye},batchQueryParameters:function(Ee,Ne){return(0,e.__assign)((0,e.__assign)({},re),{"api-version":S.Ee})},tryIndexedDB:K,indexedDBService:ee,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;case 3:G=new T("".concat(W,"/").concat(S.KE),j,{batchGeocodeCulture:he,batchSize:S.TT,batchRequest:function(Ee){return JSON.stringify({GeocodeEntities:_.map(Ee,function(Ne){return Ne.getEntity()})})},batchHeaders:function(Ee,Ne){return{}},batchQueryParameters:function(Ee,Ne){return(0,e.__assign)((0,e.__assign)({},re),{culture:Ne||(0,p.$F)(),output:"json",key:Ee})},tryIndexedDB:K,indexedDBService:ee});break;case 4:case 5:G=new O(W,j,{tryIndexedDB:K,indexedDBService:ee,geocodeRetryOptions:{maxRetryAttempts:3,initialRetryIntervalInMs:1e3,retryOnStatusCodes:[429]}});break;default:G=new O(W,j,{tryIndexedDB:K,indexedDBService:ee})}A[q]=G}return G}(W,this.geocodeBaseUrl(W),ie&&ie.credentials,K,ee,ie&&ie.credentialType,re&&j.getCulture?j.getCulture():void 0),Ee={timeout:me,geocoder:this,query:j,deferred:he,logger:this.bingGeocodingLogger(),bypassCache:Y};le.enqueue(Ee),me&&ie.timeout.finally(function(){Ee.deferred.state()===o.O[o.O.pending]&&Ee.deferred.reject()})}}else he.reject();return he},U}(),w=function(U){function W(j,K,ee){void 0===j&&(j=function(){return!1}),void 0===K&&(K=function(){return!1});var ie=U.call(this,j,K)||this;return ie.logger=ee,ie}return(0,e.__extends)(W,U),W.prototype.bingSpatialDataUrl=function(){return S.a_},W.prototype.bingGeocodingUrl=function(){return S.yL},W.prototype.bingGeocodingLogger=function(){return this.logger},W.prototype.azureMapsGeocodingUrl=function(){return S.Tu},W.prototype.azureMapsBoundaryUrl=function(){return S.S3},W}(E),T=function(){function U(W,j,K){this.baseUrl=W,this.credentials=j,this.entries=[],this.activeEntries=[],this.activeBatches=0,this.inDequeue=!1,this.culture=K.batchGeocodeCulture,this.batchSize=K.batchSize,this.batchRequest=K.batchRequest,this.batchHeaders=K.batchHeaders,this.batchQueryParameters=K.batchQueryParameters,this.geocodeRetryOptions=K.geocodeRetryOptions,this.tryIndexedDB=K.tryIndexedDB,this.indexedDBService=K.indexedDBService}return U.prototype.getGeocodeBatchSize=function(){return this.batchSize},U.prototype.setGeocodeBatchSize=function(W){l.fF.assert(function(){return W>0&&_.isInteger(W)},"Invalid geocode batch size"),this.batchSize=W},U.prototype.reset=function(){var W=this.dequeueTimeout;W&&(this.dequeueTimeout=void 0,clearTimeout(W));for(var j=0,K=this.entries.concat(this.activeEntries);j<K.length;j++)this.cancel(K[j]);this.entries=[],this.activeEntries=[]},U.prototype.enqueue=function(W){var j=this,K={item:W};this.entries.push(K),W.deferred.always(function(){j.cancel(K)}),this.inDequeue||this.entries.length<this.batchSize||this.activeBatches>=d.Zr.MaxBingRequest?this.scheduleDequeue():(this.dequeueTimeout&&(clearTimeout(this.dequeueTimeout),this.dequeueTimeout=void 0),this.dequeue())},U.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeBatches<d.Zr.MaxBingRequest;){for(var W=[];0!==this.entries.length&&W.length<this.batchSize;){var j=this.entries.shift();if(!j.isCompleted){var K=!j.item.bypassCache&&n(j.item.query,j.item.logger);K?(P(j.item.logger,j.item.query,K),this.complete(j,{coordinates:K},!0)):W.push(j)}}W.length&&(this.geocodeRetryOptions?this.makeRequest(W,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(W))}}finally{this.inDequeue=!1}},U.prototype.scheduleDequeue=function(){var W=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){W.dequeueTimeout=void 0,W.dequeue()}))},U.prototype.cancel=function(W){var j=W.batch;if(j){var K=j.request;K&&--j.uncancelledCount<=0&&(j.request=null,K.abort())}this.complete(W,{error:new Error("cancelled")})},U.prototype.complete=function(W,j,K){var ee=this,ie=!1;W.isCompleted||(W.isCompleted=!0,W.item.deferred.state()===o.O[o.O.pending]&&(!j||j.error?W.item.deferred.reject(j&&j.error||new Error("cancelled")):W.item.bypassCache||!j.coordinates||K?W.item.deferred.resolve(j.coordinates):(ie=!0,m(W.item.query.getKey(),j.coordinates,W.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){W.item.deferred.resolve(j.coordinates),ee.scheduleDequeue()},function(he){W.item.bypassCache&&(0,p.MB)(!1,{error:JSON.stringify(he)}),W.item.deferred.resolve(j.coordinates),ee.scheduleDequeue()})))),ie||this.scheduleDequeue()},U.prototype.makeRequest=function(W,j,K){var ee=this;if(!_.isEmpty(W)){var ie={type:"POST",dataType:"json",contentType:"application/json",data:this.batchRequest(W.map(function(Ye){return Ye.item.query}))},he=this.batchHeaders&&this.batchHeaders(this.credentials,this.culture);_.isEmpty(he)||(ie.headers=he);for(var q=this.batchQueryParameters(this.credentials,this.culture),Y=(0,y.fS)(this.baseUrl,q),G={uncancelledCount:W.length,request:C.MapsAjaxCall(Y,ie)},me=0,re=W;me<re.length;me++){var le=re[me];le.batch=G,this.activeEntries.push(le)}++this.activeBatches;var Ee=G.request;Ee.always(function(){--ee.activeBatches;for(var Ye=0,Je=W;Ye<Je.length;Ye++)_.pull(ee.activeEntries,Je[Ye])});var Ne=_.head(W).item.bypassCache;Ee.pipe(function(Ye){Ne&&(0,p.OU)({url:Y,request:ie.data,response:JSON.stringify(Ye)});for(var Je=function(fe){var oe=W[fe];oe.batch=null;var Ce,ye=oe.item,Be=ye.query.extractSingleResult&&ye.query.extractSingleResult(Ye,fe);if(ye.geocoder&&ye.query.shouldDoFullGeocoding&&ye.query.shouldDoFullGeocoding(Be))ye.geocoder.geocodeCore(0,ye.query,ee.tryIndexedDB,ee.indexedDBService,{bypassCache:!0,timeout:ye.timeout}).then(function(be){Ce={coordinates:be}},function(be){Ce={error:be}}).done(function(){ee.complete(oe,Ce)});else{if(Be)try{Ce=ye.query.getResult(Be)}catch(be){Ce={error:be}}else Ce={error:new Error("no data")};F(ye.logger,ye.query,Be,Ce,!0),ee.complete(oe,Ce)}},_e=0;_e<W.length;++_e)Je(_e)},function(Ye){if(Ne&&(0,p.OU)({url:Y,request:ie.data,error:JSON.stringify(Ye)}),ee.shouldRetry(Ye?Ye.status:void 0,j)){var _e=Math.random()*K+K;K*=2,setTimeout(function(){j++,ee.makeRequest(W,j,K)},_e)}else for(var pe=0,fe=W;pe<fe.length;pe++){var oe=fe[pe];oe.batch=null;var ye={error:new Error(Ye&&Ye.statusText||"cancelled")};F(oe.item.logger,oe.item.query,void 0,ye,!0),ee.complete(oe,ye)}})}},U.prototype.shouldRetry=function(W,j){if(!this.geocodeRetryOptions)return!1;var K=this.geocodeRetryOptions,ie=K.maxRetryAttempts;return K.retryOnStatusCodes.includes(W)&&j<ie},U}(),O=function(){function U(W,j,K){this.baseUrl=W,this.credentials=j,this.entries=[],this.activeEntries=[],this.inDequeue=!1,this.geocodeRetryOptions=K.geocodeRetryOptions,this.tryIndexedDB=K.tryIndexedDB,this.indexedDBService=K.indexedDBService}return U.prototype.reset=function(){var W=this.dequeueTimeout;W&&(this.dequeueTimeout=void 0,clearTimeout(W));for(var j=0,K=this.entries.concat(this.activeEntries);j<K.length;j++)this.cancel(K[j]);this.entries=[],this.activeEntries=[]},U.prototype.enqueue=function(W){var j=this,K={item:W};this.entries.push(K),W.deferred.always(function(){j.cancel(K)}),this.dequeue()},U.prototype.dequeue=function(){if(!this.inDequeue&&!this.dequeueTimeout)try{for(this.inDequeue=!0;0!==this.entries.length&&this.activeEntries.length<d.Zr.MaxBingRequest;){var W=this.entries.shift();W.isCompleted||(this.geocodeRetryOptions?this.makeRequest(W,0,this.geocodeRetryOptions.initialRetryIntervalInMs):this.makeRequest(W))}}finally{this.inDequeue=!1}},U.prototype.scheduleDequeue=function(){var W=this;!this.dequeueTimeout&&0!==this.entries.length&&(this.dequeueTimeout=setTimeout(function(){W.dequeueTimeout=void 0,W.dequeue()}))},U.prototype.cancel=function(W){if(!W.jsonp){var j=W.request;j&&(W.request=null,j.abort())}this.complete(W,{error:new Error("cancelled")})},U.prototype.complete=function(W,j,K){var ee=this,ie=!1;W.isCompleted||(W.isCompleted=!0,W.item.deferred.state()===o.O[o.O.pending]&&(!j||j.error?W.item.deferred.reject(j&&j.error||new Error("cancelled")):W.item.bypassCache||!j.coordinates||K?W.item.deferred.resolve(j.coordinates):(ie=!0,m(W.item.query.getKey(),j.coordinates,W.item.logger,this.tryIndexedDB,this.indexedDBService).then(function(){W.item.deferred.resolve(j.coordinates),ee.scheduleDequeue()},function(he){W.item.bypassCache&&(0,p.MB)(!1,{error:JSON.stringify(he)}),W.item.deferred.resolve(j.coordinates),ee.scheduleDequeue()})))),ie||this.scheduleDequeue()},U.prototype.makeRequest=function(W,j,K){var ee=this,ie=!W.item.bypassCache&&n(W.item.query,W.item.logger);if(ie)return P(W.item.logger,W.item.query,ie),void this.complete(W,{coordinates:ie},!0);var he=W.item.query.getAjaxConfig();he.jsonp&&(W.jsonp=!0);var q=W.item.query.getHeaders&&W.item.query.getHeaders();_.isEmpty(q)||(he.headers=q);var Y=W.item.query.getUrl(this.baseUrl);Y?(this.activeEntries.push(W),W.request=C.MapsAjaxCall(Y,he),W.request.always(function(){_.pull(ee.activeEntries,W)}),W.request.pipe(function(G){var me;W.item.bypassCache&&(0,p.OU)({url:Y,response:JSON.stringify(G)}),W.request=null;try{me=W.item.query.getResult(G)}catch(re){me={error:re}}F(W.item.logger,W.item.query,G,me,!1),ee.complete(W,me)},function(G){if(W.item.bypassCache&&(0,p.OU)({url:Y,error:JSON.stringify(G)}),ee.shouldRetry(G?G.status:void 0,j)){var re=Math.random()*K+K;K*=2,setTimeout(function(){j++,ee.makeRequest(W,j,K)},re)}else{W.request=null;var le={error:new Error(G&&G.statusText||"cancelled")};F(W.item.logger,W.item.query,void 0,le,!1),ee.complete(W,le)}})):this.complete(W,{error:new Error("Unsupported query.")})},U.prototype.shouldRetry=function(W,j){if(!this.geocodeRetryOptions)return!1;var K=this.geocodeRetryOptions,ie=K.maxRetryAttempts;return K.retryOnStatusCodes.includes(W)&&j<ie},U}();function N(U,W){return(0,e.__awaiter)(this,void 0,void 0,function(){return(0,e.__generator)(this,function(j){switch(j.label){case 0:return[4,V(U,W)];case 1:return j.sent(),[2]}})})}var A={}},680453:function(Xe,H,t){t.d(H,{$o:function(){return i},Ee:function(){return l},H6:function(){return a},KE:function(){return d},S3:function(){return u},TT:function(){return S},TY:function(){return o},Tu:function(){return s},XF:function(){return h},a_:function(){return c},fk:function(){return e},uC:function(){return v},yL:function(){return r}});var e={Continent:"Continent",Sovereign:"Sovereign",CountryRegion:"CountryRegion",AdminDivision1:"AdminDivision1",AdminDivision2:"AdminDivision2",PopulatedPlace:"PopulatedPlace",Postcode:"Postcode",Postcode1:"Postcode1",Neighborhood:"Neighborhood",Address:"Address"},l="2022-12-01-preview",o="batch",d="multigeocode",v=50,S=30,h="4",c="https://platform.bing.com/geo/spatial/v1/public/Geodata",r="https://dev.virtualearth.net/REST/v1/Locations",s="https://atlas.microsoft.com/geocode",u="https://atlas.microsoft.com/search/polygon",i={adminDistrict:"AdminDistrict",locality:"Locality",postalCode:"PostalCode",addressLine:"AddressLine",countryRegion:"CountryRegion"},a={AdminDistrict:"adminDistrict",Locality:"locality",PostalCode:"postalCode",AddressLine:"addressLine",CountryRegion:"countryRegion"}},213330:function(Xe,H,t){t.d(H,{$F:function(){return o},MB:function(){return s},OU:function(){return r},SN:function(){return S},VB:function(){return c},X5:function(){return v}});var e=t(569978),l=t(504898);function o(){return function(u){switch(u.toLowerCase()){case"fr":return"fr-FR";case"de":return"de-DE";case"da":return"da-DK";case"es":return"es-ES";case"it":return"it-IT";case"nl":return"nl-BE";case"af":case"am":case"ar-sa":case"as":case"az-atn":case"be":case"bg":case"bn-bd":case"bn-in":case"bs":case"ca":case"ca-es-valencia":case"cs":case"cy":case"de-de":case"el":case"en-gb":case"en-us":case"es-es":case"es-us":case"es-mx":case"et":case"eu":case"fa":case"fi":case"fil-latn":case"fr-fr":case"fr-ca":case"ga":case"gd-latn":case"gl":case"gu":case"ha-latn":case"he":case"hi":case"hr":case"hu":case"hy":case"id":case"ig-latn":case"is":case"it-it":case"ja":case"ka":case"kk":case"km":case"kn":case"ko":case"kok":case"ku-arab":case"ky-cyrl":case"lb":case"lt":case"lv":case"mi-latn":case"mk":case"ml":case"mn-cyrl":case"mr":case"ms":case"mt":case"nb":case"ne":case"nl-be":case"nn":case"nso":case"or":case"pa":case"pa-arab":case"pl":case"prs-arab":case"pt-br":case"pt-pt":case"qut-latn":case"quz":case"ro":case"ru":case"rw":case"sd-arab":case"si":case"sk":case"sl":case"sq":case"sr-cryl-ba":case"sr-cryl-rs":case"sr-latn-rs":case"sv":case"sw":case"ta":case"te":case"tg-cyrl":case"th":case"ti":case"tk-latn":case"tn":case"tr":case"tt-cyrl":case"ug-arab":case"uk":case"ur":case"uz-latn":case"vi":case"wo":case"xh":case"yo-latn":case"zh-hans":case"zh-hant":case"zh-cn":case"zu":return u;default:return null}}(e.M.getLanguage())}function v(u){return!h(u,"UpHierarchy")}function S(u){return!h(u,"Ambiguous")}function h(u,i){return _.some(u,function(a){return a===i})}function c(u){switch(u=u.toUpperCase()){case"ZH-HANS":case"ZH-HANT":return"CN"}var i=u.split("-",2);return i.length>1?i[1]:""}function r(u){l.f.information("georequest",void 0,u)}function s(u,i){l.f.error("geocoding IndexedDB ".concat(u?"get":"set"," failure"),!0,void 0,i)}},947230:function(Xe,H,t){t.d(H,{Bt:function(){return a},EX:function(){return v},G6:function(){return r},jN:function(){return n},kA:function(){return S},ku:function(){return h},ub:function(){return d},x0:function(){return m}});var e=t(498342),l=t(812454),o=t(366735);function d(p){return new a(p)}function v(p,C){void 0===C&&(C="rect");var b=p.select("".concat(C,".clearCatcher"));return b.empty()&&(b=p.append(C).classed("clearCatcher",!0).attr("width","100%").attr("height","100%")),b}function S(p,C){void 0===C&&(C="rect");var b=p.select("".concat(C,".clearCatcher"));b.empty()||b.style("pointer-events","none")}function h(p,C){void 0===C&&(C="rect");var b=p.select("".concat(C,".clearCatcher"));b.empty()||b.style("pointer-events","auto")}function r(p){if(_.isEmpty(p))return!1;for(var C=0,b=p.length;C<b;C++)if(p[C].selected)return!0;return!1}var s=function(){function p(C,b,y,D,P){this.dataPoints=C,this.behavior=b,this.key=y,this.hasSelection=D,this.matchPartialIdentities=P}return p.prototype.render=function(){this.behavior.renderSelection(this.hasSelection())},p}();function u(p,C){return _.find(p,function(b){return!b.identity.highlight&&C.identity.includes(b.identity,!0)})}var i=function(){function p(C){this.selectionStateManager=C,this.pointSources={}}return p.prototype.findNonHightlightDataPoint=function(C){for(var b=0,y=this.getSelectablePointSources();b<y.length;b++){var P=u(y[b].dataPoints,C);if(P)return P}},p.prototype.applySelectionStateToDataPoints=function(C){this.updateSelectableDataPointsBySelectedIds(C)},p.prototype.syncSelectionState=function(C){var b=this;this.getSelectablePointSources(C).forEach(function(y){b.updateSelectableDataPointsBySelectedIds(y.dataPoints,y.matchPartialIdentities)})},p.prototype.clearDataPointSelection=function(){this.applyToAllSelectableDataPoints(function(C){return C.selected=!1})},p.prototype.render=function(){this.getSelectablePointSources().forEach(function(C){C.render()})},p.prototype.bind=function(C,b,y,D){var F,P=this,E=!1;D&&(D.isAxis||D.isLabels||D.isLegend||D.useSelectableDataPointForHasSelection)?F=function(){return!!C&&r(C)}:(F=function(){return P.selectionStateManager.getSelectionSize()>0},E=!0),this.isHierarchicalAxis=D&&D.isHierarchicalAxis,this.selectionStateManager.amendDecomposedSelection(!this.isHierarchicalAxis),this.pointSources[y]=new s(C,b,y,F,E)},p.prototype.hasSelectionForSource=function(C){var b;return r(null===(b=this.pointSources[C])||void 0===b?void 0:b.dataPoints)},p.prototype.applyToAllSelectableDataPoints=function(C){this.getSelectablePointSources().forEach(function(b){if(b.dataPoints)for(var y=0,D=b.dataPoints;y<D.length;y++)C(D[y])})},p.prototype.updateSelectableDataPointsBySelectedIds=function(C,b){void 0===b&&(b=!1),!_.isEmpty(C)&&this.selectionStateManager.updateDatapointAgainstSelectedIds(C,b,this.isHierarchicalAxis)},p.prototype.getSelectablePointSources=function(C){var b=this;if(C){var y=this.pointSources[C];return y?[y]:[]}return _.map(Object.keys(this.pointSources),function(D){return b.pointSources[D]})},p}(),a=function(){function p(C){e.fF.assertValue(C,"hostServices"),this.hostService=C,this.dataPointNavigationManager=new V,this.categoryAxisNavigationManager=new V,this.selectionStateManager=new f,this.dataPointManager=new i(this.selectionStateManager)}return p.prototype.bind=function(C,b,y,D){D&&D.overrideSelectionFromData&&this.takeSelectionStateFromDataPoints(C),this.isHierarchicalAxis=D&&D.isHierarchicalAxis;var P=D?D.pointSourceKey:"";this.dataPointManager.bind(C,b,P,D),D&&D.navigationOptions&&(D.isAxis?this.categoryAxisNavigationManager.update(b,D.navigationOptions,P):this.dataPointNavigationManager.update(b,D.navigationOptions,P),D.navigationOptions.focusElement&&b.renderFocus(D.navigationOptions.focusElement)),b.bindEvents(y,this,D&&D.isAxis?{dataPointNavigationManager:this.categoryAxisNavigationManager,pointSourceKey:P}:{dataPointNavigationManager:this.dataPointNavigationManager,pointSourceKey:P},this.formatMode),this.syncSelectionState(D&&D.pointSourceKey)},p.prototype.clearSelection=function(){this.clearSelectionInternal(),this.renderAll()},p.prototype.clearSelectionInternal=function(){this.clearSelectionState(),this.dataPointManager.clearDataPointSelection()},p.prototype.applySelectionStateToData=function(C){return this.dataPointManager.applySelectionStateToDataPoints(C),this.hasSelection()},p.prototype.hasSelection=function(){return this.selectionStateManager.getSelectionSize()>0},p.prototype.hasSelectionForSource=function(C){return this.dataPointManager.hasSelectionForSource(C)},p.getVisualObjects=function(C){return _.map(C,function(b){return{objectName:p.dataPointObjectName,selectorsByColumn:b.getSelectorsByColumn()}})},p.prototype.handleSelection=function(C,b,y){var P,D=this;(e.fF.assertValue(C,"dataPoint"),C)&&(C.specificIdentity?P=C.specificIdentity.getSelectorsByColumn():(!C.identity&&C.lazyIdentity&&(C.identity=C.lazyIdentity()),C.identity&&(P=C.identity.getSelectorsByColumn())),1===this.hostService.dataMultiSelectMode()&&0===b&&(b=3),this.runInTransaction(function(){C.identity&&D.select(C,b);var R={type:0,visualObjects:C.specificIdentity?[{objectName:p.dataPointObjectName,selectorsByColumn:P}]:p.getVisualObjects(D.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:3===b,isShiftKey:1===b,isLassoSelect:!1,position:y};return _.isEmpty(P)||D.hostService.onSelecting(R),R},b,!1,!C.identity))},p.prototype.handleMultipleSelection=function(C,b,y,D){var P=this;this.runInTransaction(function(){P.selectMultiple(C,b);var w={type:0,visualObjects:p.getVisualObjects(P.selectionStateManager.getSelectionIds()),isCtrlOrMetaKey:!!y||3===b,isShiftKey:1===b,isLassoSelect:y,position:D};return P.hostService.onSelecting(w),w},b,y,!1)},p.prototype.runInTransaction=function(C,b,y,D){var F,P=!1;this.selectionStateManager.beginTransaction();try{var E=C();0!==E.action&&E.action?this.selectionStateManager.rollback():(this.selectionStateManager.commit(),P=!0,F=E.selectionLimitInfo,this.syncSelectionState())}catch(w){this.selectionStateManager.rollback()}finally{P&&(D?this.handleClearSelection():(this.sendSelectionToHost(b,y,F),this.renderAll()))}},p.prototype.handleContextMenu=function(C,b){this.sendContextMenuToHost(C,b)},p.prototype.handleClearSelection=function(){0===this.hostService.dataMultiSelectMode()&&(this.clearSelection(),this.sendSelectionToHost(0,!1,{existingSelectionLength:0,newSelectionLength:0,allowed:!0}))},p.prototype.restoreSelection=function(C){return this.clearSelection(),this.selectionStateManager.restoreSelection(C,this.isHierarchicalAxis),this.syncSelectionState(),this.renderAll(),this.hasSelection()},p.prototype.renderAll=function(){this.dataPointManager.render()},p.prototype.clearSelectionState=function(){this.selectionStateManager.clearSelectionState()},p.prototype.selectMultiple=function(C,b){(0===b||2===b)&&this.clearSelectionState();for(var y=0,D=C;y<D.length;y++){var P=D[y],F=P.identity;F.highlight||(1===b||0===b?this.addId(F):3===b?P.selected?this.removeId(F):this.addId(F):2===b&&P.selected&&this.addId(F))}},p.prototype.updateSelectionState=function(C,b,y,D){D||this.clearSelectionInternal(),C.selected?D&&3===b&&this.removeId(y):(this.addId(y),D&&(y.hasIdentity()?this.removeSelectionIdsWithOnlyMeasures():this.removeSelectionIdsExceptOnlyMeasures()))},p.prototype.select=function(C,b){C.identity&&C.identity.highlight&&(C=this.dataPointManager.findNonHightlightDataPoint(C),e.fF.assertValue(C,"Expected to find a non-highlight data point"));var y=C.identity;if(y){var D=this.getSelectionIds(),P=this.hostService.canSelect(p.createSelectEventArgs(D,b));switch(b){case 0:!C.selected||D.length>1||1===D.length&&!D[0].equals(y)?(this.clearSelectionInternal(),this.addId(y)):C.selected?this.removeId(y):this.addId(y);break;case 3:case 1:this.updateSelectionState(C,b,y,P);break;case 2:e.fF.assertFail("single selection does not have intersection implemented");break;default:e.fF.assertFail("no such multiSelectMode")}}},p.prototype.removeId=function(C){this.selectionStateManager.removeId(C,this.isHierarchicalAxis)},p.prototype.addId=function(C){this.selectionStateManager.addId(C,this.isHierarchicalAxis)},p.prototype.getSelectionIds=function(){return this.selectionStateManager.getSelectionIds()},p.prototype.sendContextMenuToHost=function(C,b){var y=this.hostService;if(y.onContextMenu){var D,F;C.specificIdentity?D=C.specificIdentity:C.identity&&(D=C.identity),F=this.selectionStateManager.isIdSelected(D);for(var E=[],w=0,x=!D||F?this.getSelectionIds():[D];w<x.length;w++){var g=x[w].getSelectorsByColumn();_.isEmpty(g)||E.push(g)}_.isEmpty(E)||y.onContextMenu({data:E,position:b})}},p.prototype.sendSelectionToHost=function(C,b,y){var D=this.hostService;if(D.onSelect){var P=p.createSelectEventArgs(this.getSelectionIds(),C,b,y);D.onSelect(P)}},p.createSelectEventArgs=function(C,b,y,D){var P=!1;_.isEmpty(C)||(P=C[0].getSelector()&&!C[0].getSelectorsByColumn());var F=_.chain(C).filter(function(w){return w.hasIdentity()}),E={type:0,visualObjects:F.map(function(w){return{objectName:p.dataPointObjectName,selectorsByColumn:w.getSelectorsByColumn()}}).value(),selectionMode:b,isLassoSelect:y,selectionLimitInfo:D};return P&&(E.selectors=F.map(function(w){return w.getSelector()}).value()),E},p.prototype.takeSelectionStateFromDataPoints=function(C){e.fF.assertValue(C,"dataPoints"),this.clearSelectionState();for(var b=0,y=C;b<y.length;b++){var D=y[b];D.selected&&this.addId(D.identity)}},p.prototype.syncSelectionState=function(C){this.dataPointManager.syncSelectionState(C)},p.prototype.removeSelectionIdsWithOnlyMeasures=function(){this.filterSelection(function(C){return C.hasIdentity()})},p.prototype.removeSelectionIdsExceptOnlyMeasures=function(){this.filterSelection(function(C){return!C.hasIdentity()})},p.prototype.filterSelection=function(C){this.selectionStateManager.filterSelection(C)},p.prototype.setFormatMode=function(C){this.formatMode=C,C&&this.handleClearSelection()},p.prototype.setSubSelectionHelper=function(C){this.subSelectionHelper=C},p.prototype.getSubSelectionHelper=function(){return this.subSelectionHelper},p.dataPointObjectName="dataPoint",p}(),n=function(p){return p[p.CategoryFirst=0]="CategoryFirst",p[p.SeriesFirst=1]="SeriesFirst",p[p.CategoryOnly=2]="CategoryOnly",p[p.SeriesOnly=3]="SeriesOnly",p}({}),m=function(p){return p[p.NextCategory=0]="NextCategory",p[p.PreviousCategory=1]="PreviousCategory",p[p.NextSeries=2]="NextSeries",p[p.PreviousSeries=3]="PreviousSeries",p}({}),f=function(){function p(){this.clearSelectionState()}return p.prototype.beginTransaction=function(){var C=this;e.fF.assert(function(){return void 0===C.previousSelectedIds},"previousSelectedIds"),this.previousSelectedIds=_.clone(this.selectedIds),this.previousDecomposedSelectedIds=_.clone(this.decomposedSelectedIds),this.previousSelectionIdSize=this.selectionIdSize},p.prototype.commit=function(){e.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},p.prototype.rollback=function(){e.fF.assertValue(this.previousSelectedIds,"previousSelectedIds"),this.selectedIds=this.previousSelectedIds,this.decomposedSelectedIds=this.previousDecomposedSelectedIds,this.selectionIdSize=this.previousSelectionIdSize,this.previousSelectedIds=void 0,this.previousDecomposedSelectedIds=void 0,this.previousSelectionIdSize=void 0},p.prototype.isIdSelected=function(C){var b=this.selectedIds[null==C?void 0:C.getKeyWithoutHighlight()];return this.selectionIdSize>1&&b&&b.equals(C)},p.prototype.clearSelectionState=function(){this.selectedIds={},this.decomposedSelectedIds={},this.selectionIdSize=0},p.prototype.restoreSelection=function(C,b){var y=this;_.forEach(C,function(D){var P=o.l0.fromSelectorsByColumn(D);y.addId(P,b)})},p.prototype.addId=function(C,b){this.addDecomposedId(C,!b);var y=!!this.selectedIds[C.getKeyWithoutHighlight()];this.selectedIds[C.getKeyWithoutHighlight()]=C,y||(this.selectionIdSize=void 0!==this.selectionIdSize?this.selectionIdSize+1:1)},p.prototype.addDecomposedId=function(C,b){var y=C.getDecomposedKeys(b);if(y)for(var D=0,P=y;D<P.length;D++){var F=P[D],E=this.decomposedSelectedIds[F];_.isArray(E)?_.some(E,function(w){return w.equals(C)})||E.push(C):this.decomposedSelectedIds[F]=[C]}},p.prototype.amendDecomposedSelection=function(C){this.decomposedSelectedIds={};for(var y=0,D=_.values(this.selectedIds);y<D.length;y++)this.addDecomposedId(D[y],C)},p.prototype.removeId=function(C,b){var y=this,D=function(M){var T=M.getKeyWithoutHighlight(),O=y.selectedIds[T];O&&O.includes(C)&&(delete y.selectedIds[T],y.selectionIdSize--)};D(C);var P=function(M){if(M)for(var T=M.length-1;T>-1;T--){var O=M[T];C.includes(O)&&(M.splice(T,1),D(O))}},F=C.getDecomposedKeys(!b);if(F)for(var E=0,w=F;E<w.length;E++){var x=w[E],R=this.decomposedSelectedIds[x];P(R),_.isEmpty(R)&&delete this.decomposedSelectedIds[x]}var g=this.decomposedSelectedIds[l.xO];g&&g.length&&(P(g),_.isEmpty(g)&&delete this.decomposedSelectedIds[l.xO])},p.prototype.getSelectionSize=function(){return this.selectionIdSize},p.prototype.getSelectionIds=function(){return _.values(this.selectedIds)},p.prototype.filterSelection=function(C){this.selectedIds=_.pickBy(this.selectedIds,C);var b={};_.forEach(this.decomposedSelectedIds,function(y,D){var P=_.filter(y,C);P&&!_.isEmpty(P)&&(b[D]=P)}),this.decomposedSelectedIds=b},p.prototype.updateDatapointAgainstSelectedIds=function(C,b,y){if(_.isEmpty(this.selectedIds)&&_.isEmpty(this.decomposedSelectedIds))for(var D=0,P=C;D<P.length;D++)(F=P[D]).selected=!1;else for(var E=0,w=C;E<w.length;E++){var F;(F=w[E]).selected=this.checkDatapointAgainstSelectedIds(F,b,y)}},p.prototype.checkDatapointAgainstSelectedIds=function(C,b,y){var D,P;if(!_.isEmpty(this.selectedIds)&&(F=null===(D=C.identity)||void 0===D?void 0:D.getKeyWithoutHighlight())&&(E=this.selectedIds[F])&&E.includes(C.identity,!0,b))return!0;if(!_.isEmpty(this.decomposedSelectedIds)){var w=null===(P=C.identity)||void 0===P?void 0:P.getDecomposedKeys(!y);if(w)for(var x=0,R=w;x<R.length;x++){var F,g=this.decomposedSelectedIds[F=R[x]];if(g)for(var L=0,M=g;L<M.length;L++)if((E=M[L])&&E.includes(C.identity,!0,b))return!0}var T=this.decomposedSelectedIds[l.xO];if(!_.isEmpty(T))for(var O=0,N=T;O<N.length;O++){var E;if((E=N[O])&&E.includes(C.identity,!0,b))return!0}}return!1},p}(),V=function(){function p(){this.behaviors={},this.helpers={}}return p.prototype.update=function(C,b,y){this.behaviors[y]=C,this.navigationStrategy=b.navigationStrategy,this.helpers[y]=b.helper},p.prototype.goToFirstElement=function(C){var b=this.helpers[C].getFirstElement().element;b&&this.behaviors[C].renderFocus(b)},p.prototype.isEmpty=function(C){return!this.behaviors[C]||_.isEmpty(this.helpers[C])},p.prototype.handleKeyDownEvent=function(C,b,y,D,P){var F,E=this.helpers[C];switch(D){case 9:var w=this.navigationStrategy;w===n.CategoryFirst||w===n.SeriesOnly?F=E.getNextDataPoint(b,y,P?m.PreviousSeries:m.NextSeries):w===n.SeriesFirst||w===n.CategoryOnly?F=E.getNextDataPoint(b,y,P?m.PreviousCategory:m.NextCategory):e.fF.assertFail("Unknown DataPointNavigationStrategy in DataPointNavigationManager.handleKeyDownEvent");break;case 37:F=E.getNextDataPoint(b,y,m.PreviousCategory);break;case 39:F=E.getNextDataPoint(b,y,m.NextCategory);break;case 38:F=E.getNextDataPoint(b,y,m.NextSeries);break;case 40:F=E.getNextDataPoint(b,y,m.PreviousSeries);break;default:e.fF.assertFail("Unsupported key code received by DataPointNavigationManager.handleKeyDownEvent")}this.behaviors[C].renderFocus(F.element)},p}()},767602:function(Xe,H,t){t.d(H,{K:function(){return h}});var e=t(382088),l=t(572909),o=t(512322),d=t(149305),v=t(963177);function S(c,r){var s=(0,v.eG)(c,r);return s?{grid:[{properties:{outlineColor:(0,d.EV)(s.outlineColor),outlineWeight:(0,o.cA)(e.b$.valueOrDefault(s.outlineWeight,v.TK)),gridVertical:(0,o.O7)(s.gridVerticalEnabledMatrix),gridVerticalColor:(0,d.EV)(s.gridColor),gridVerticalWeight:(0,o.cA)(e.b$.valueOrDefault(s.gridVerticalWeight,v.FT)),gridHorizontal:(0,o.O7)(s.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,d.EV)(s.gridColor),gridHorizontalWeight:(0,o.cA)(e.b$.valueOrDefault(s.gridHorizontalWeight,v.cr)),rowPadding:(0,o.cA)(s.rowPadding)}}],columnHeaders:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(s.outlineModeColumnHeaders,v.dc)),fontColor:(0,d.EV)(s.fontColorHeaders),backColor:(0,d.EV)(s.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(s.outlineModeRowHeaders,v.hW)),fontColor:(0,d.EV)(s.fontColorHeaders),backColor:(0,d.EV)(s.backColorHeaders)}}],values:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(s.outlineModeValues,v.Wy)),fontColorPrimary:(0,d.EV)(s.fontColorValues1),backColorPrimary:(0,d.EV)(s.backColorValues1),fontColorSecondary:(0,d.EV)(s.fontColorValues2),backColorSecondary:(0,d.EV)(s.backColorValues2)}}],subTotals:[{properties:{fontColor:void 0,backColor:void 0}}],total:[{properties:{fontColor:(0,d.EV)(s.fontColorTotals),backColor:(0,d.EV)(s.backColorTotals),applyToHeaders:(0,o.O7)(!1)}}]}:{}}function h(){var c;return{sectionTitle:(0,l.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,l.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.Hq,presets:(c={},c[v.Hq]={name:v.Hq,displayName:(0,l.V)("None"),evaluate:function(s){return S(v.Hq,s)}},c[v.iU]={name:v.iU,displayName:(0,l.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(s){return S(v.iU,s)}},c[v.xO]={name:v.xO,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(s){return S(v.xO,s)}},c[v.Au]={name:v.Au,displayName:(0,l.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(s){return S(v.Au,s)}},c[v.iq]={name:v.iq,displayName:(0,l.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(s){return S(v.iq,s)}},c[v.rO]={name:v.rO,displayName:(0,l.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(s){return S(v.rO,s)}},c[v.b6]={name:v.b6,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(s){return S(v.b6,s)}},c[v.rJ]={name:v.rJ,displayName:(0,l.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(s){return S(v.rJ,s)}},c[v.TJ]={name:v.TJ,displayName:(0,l.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(s){return S(v.TJ,s)}},c)}}},888585:function(Xe,H,t){t.d(H,{F:function(){return h}});var e=t(382088),l=t(572909),o=t(512322),d=t(149305),v=t(963177);function S(c,r,s){var u=(0,v.eG)(c,r);if(!u)return{};var i=s.splitSubTotals?[{properties:{fontColor:(0,d.EV)(u.fontColorSubtotalsRow),backColor:(0,d.EV)(u.backColorSubtotalsRow)},selector:{id:"Row"}},{properties:{fontColor:void 0,backColor:void 0},selector:{id:"Column"}}]:[{properties:{fontColor:(0,d.EV)(u.fontColorSubtotalsRow),backColor:(0,d.EV)(u.backColorSubtotalsRow)}}];return{grid:[{properties:{outline:void 0,outlineColor:(0,d.EV)(u.outlineColor),outlineWeight:(0,o.cA)(e.b$.valueOrDefault(u.outlineWeight,v.TK)),gridVertical:(0,o.O7)(u.gridVerticalEnabledMatrix),gridVerticalColor:(0,d.EV)(u.gridColor),gridVerticalWeight:(0,o.cA)(e.b$.valueOrDefault(u.gridVerticalWeight,v.FT)),gridHorizontal:(0,o.O7)(u.gridHorizontalEnabledMatrix),gridHorizontalColor:(0,d.EV)(u.gridColor),gridHorizontalWeight:(0,o.cA)(e.b$.valueOrDefault(u.gridHorizontalWeight,v.cr)),rowPadding:(0,o.cA)(u.rowPadding)}}],columnHeaders:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(u.outlineModeColumnHeaders,v.WI)),outlineStyle:(0,o.cA)(e.b$.valueOrDefault(u.outlineModeColumnHeaders,v.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,d.EV)(u.fontColorHeaders),backColor:(0,d.EV)(u.backColorHeaders)}}],rowHeaders:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(u.outlineModeRowHeaders,v.bW)),outlineStyle:(0,o.cA)(e.b$.valueOrDefault(u.outlineModeRowHeaders,v.Z0)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,d.EV)(u.fontColorHeaders),backColor:(0,d.EV)(u.backColorHeaders),applyAlternation:(0,o.O7)(!0)}}],values:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(u.outlineModeValues,v.F)),outlineStyle:(0,o.cA)(e.b$.valueOrDefault(u.outlineModeValues,v.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,d.EV)(u.fontColorValues1),backColorPrimary:(0,d.EV)(u.backColorValues1),fontColorSecondary:(0,d.EV)(u.fontColorValues2),backColorSecondary:(0,d.EV)(u.backColorValues2)}}],subTotals:i,total:[{properties:{fontColor:(0,d.EV)(u.fontColorTotals),backColor:(0,d.EV)(u.backColorTotals),applyToHeaders:(0,o.O7)(!1)}}],rowTotal:[{properties:{fontColor:(0,d.EV)(u.fontColorTotals),backColor:(0,d.EV)(u.backColorTotals),applyToHeaders:(0,o.O7)(!1)}}],columnTotal:[{properties:{fontColor:(0,d.EV)(u.fontColorTotals),backColor:(0,d.EV)(u.backColorTotals),applyToHeaders:(0,o.O7)(!1)}}]}}function h(c){var r;return{sectionTitle:(0,l.V)("Visual_Matrix_StylePreset_SectionTitle"),sliceTitle:(0,l.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.gA,presets:(r={},r[v.gA]={name:v.gA,displayName:(0,l.V)("Default"),evaluate:function(u){return S(v.gA,u,c)}},r[v.Hq]={name:v.Hq,displayName:(0,l.V)("None"),evaluate:function(u){return S(v.Hq,u,c)}},r[v.iU]={name:v.iU,displayName:(0,l.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(u){return S(v.iU,u,c)}},r[v.xO]={name:v.xO,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(u){return S(v.xO,u,c)}},r[v.Au]={name:v.Au,displayName:(0,l.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(u){return S(v.Au,u,c)},isDeprecated:!0},r[v.pJ]={name:v.pJ,displayName:(0,l.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(u){return S(v.pJ,u,c)}},r[v.iq]={name:v.iq,displayName:(0,l.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(u){return S(v.iq,u,c)}},r[v.rO]={name:v.rO,displayName:(0,l.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(u){return S(v.rO,u,c)}},r[v.b6]={name:v.b6,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(u){return S(v.b6,u,c)}},r[v.rJ]={name:v.rJ,displayName:(0,l.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(u){return S(v.rJ,u,c)}},r[v.TJ]={name:v.TJ,displayName:(0,l.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(u){return S(v.TJ,u,c)}},r)}}},673768:function(Xe,H,t){t.d(H,{L:function(){return h}});var e=t(382088),l=t(572909),o=t(512322),d=t(149305),v=t(963177);function S(c,r){var s=(0,v.eG)(c,r);return s?{grid:[{properties:{outlineColor:(0,d.EV)(s.outlineColor),outlineWeight:(0,o.cA)(e.b$.valueOrDefault(s.outlineWeight,v.TK)),gridVertical:(0,o.O7)(s.gridVerticalEnabledTable),gridVerticalColor:(0,d.EV)(s.gridColor),gridVerticalWeight:(0,o.cA)(e.b$.valueOrDefault(s.gridVerticalWeight,v.FT)),gridHorizontal:(0,o.O7)(s.gridHorizontalEnabledTable),gridHorizontalColor:(0,d.EV)(s.gridColor),gridHorizontalWeight:(0,o.cA)(e.b$.valueOrDefault(s.gridHorizontalWeight,v.cr)),rowPadding:(0,o.cA)(s.rowPadding)}}],columnHeaders:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(s.outlineModeColumnHeaders,v.dc)),fontColor:(0,d.EV)(s.fontColorHeaders),backColor:(0,d.EV)(s.backColorHeaders)}}],values:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(s.outlineModeValues,v.Wy)),fontColorPrimary:(0,d.EV)(s.fontColorValues1),backColorPrimary:(0,d.EV)(s.backColorValues1),fontColorSecondary:(0,d.EV)(s.fontColorValues2),backColorSecondary:(0,d.EV)(s.backColorValues2)}}],total:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(s.outlineModeTotals,v.jF)),fontColor:(0,d.EV)(s.fontColorTotals),backColor:(0,d.EV)(s.backColorTotals)}}]}:{}}function h(){var c;return{sectionTitle:(0,l.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,l.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.Hq,presets:(c={},c[v.Hq]={name:v.Hq,displayName:(0,l.V)("None"),evaluate:function(s){return S(v.Hq,s)}},c[v.iU]={name:v.iU,displayName:(0,l.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(s){return S(v.iU,s)}},c[v.xO]={name:v.xO,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(s){return S(v.xO,s)}},c[v.Au]={name:v.Au,displayName:(0,l.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(s){return S(v.Au,s)}},c[v.iq]={name:v.iq,displayName:(0,l.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(s){return S(v.iq,s)}},c[v.rO]={name:v.rO,displayName:(0,l.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(s){return S(v.rO,s)}},c[v.b6]={name:v.b6,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(s){return S(v.b6,s)}},c[v.rJ]={name:v.rJ,displayName:(0,l.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(s){return S(v.rJ,s)}},c[v.TJ]={name:v.TJ,displayName:(0,l.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(s){return S(v.TJ,s)}},c)}}},29491:function(Xe,H,t){t.d(H,{w:function(){return h}});var e=t(382088),l=t(572909),o=t(512322),d=t(149305),v=t(963177);function S(c,r,s){var u=(0,v.eG)(c,r);return u?{grid:[{properties:{outline:void 0,outlineColor:(0,d.EV)(u.outlineColor),outlineWeight:(0,o.cA)(e.b$.valueOrDefault(u.outlineWeight,v.TK)),gridVertical:(0,o.O7)(u.gridVerticalEnabledTable),gridVerticalColor:(0,d.EV)(u.gridColor),gridVerticalWeight:(0,o.cA)(e.b$.valueOrDefault(u.gridVerticalWeight,v.FT)),gridHorizontal:(0,o.O7)(u.gridHorizontalEnabledTable),gridHorizontalColor:(0,d.EV)(u.gridColor),gridHorizontalWeight:(0,o.cA)(e.b$.valueOrDefault(u.gridHorizontalWeight,v.cr)),rowPadding:(0,o.cA)(u.rowPadding)}}],columnHeaders:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(u.outlineModeColumnHeaders,v.WI)),outlineStyle:(0,o.cA)(e.b$.valueOrDefault(u.outlineModeColumnHeaders,v.es)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,d.EV)(u.fontColorHeaders),backColor:(0,d.EV)(u.backColorHeaders)}}],values:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(u.outlineModeValues,v.F)),outlineStyle:(0,o.cA)(e.b$.valueOrDefault(u.outlineModeValues,v.yh)),outlineColor:void 0,outlineWeight:void 0,fontColorPrimary:(0,d.EV)(u.fontColorValues1),backColorPrimary:(0,d.EV)(u.backColorValues1),fontColorSecondary:(0,d.EV)(u.fontColorValues2),backColorSecondary:(0,d.EV)(u.backColorValues2)}}],total:[{properties:{outline:(0,o.fL)(e.b$.valueOrDefault(u.outlineModeTotals,v.fd)),outlineStyle:(0,o.cA)(e.b$.valueOrDefault(u.outlineModeTotals,v.EH)),outlineColor:void 0,outlineWeight:void 0,fontColor:(0,d.EV)(u.fontColorTotals),backColor:(0,d.EV)(u.backColorTotals)}}]}:{}}function h(c){var r;return{sectionTitle:(0,l.V)("Visual_Table_StylePreset_SectionTitle"),sliceTitle:(0,l.V)("Visual_Table_StylePreset_SliceTitle"),defaultPresetName:v.gA,presets:(r={},r[v.gA]={name:v.gA,displayName:(0,l.V)("Default"),evaluate:function(u){return S(v.gA,u)}},r[v.Hq]={name:v.Hq,displayName:(0,l.V)("None"),evaluate:function(u){return S(v.Hq,u)}},r[v.iU]={name:v.iU,displayName:(0,l.V)("Visual_Table_StylePreset_Minimal"),evaluate:function(u){return S(v.iU,u)}},r[v.xO]={name:v.xO,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeader"),evaluate:function(u){return S(v.xO,u)}},r[v.Au]={name:v.Au,displayName:(0,l.V)("Visual_Table_StylePreset_AlternatingRows"),evaluate:function(u){return S(v.Au,u)},isDeprecated:!0},r[v.pJ]={name:v.pJ,displayName:(0,l.V)("Visual_Table_StylePreset_AlternatingRowsNew"),evaluate:function(u){return S(v.pJ,u)}},r[v.iq]={name:v.iq,displayName:(0,l.V)("Visual_Table_StylePreset_ContrastAlternatingRows"),evaluate:function(u){return S(v.iq,u)}},r[v.rO]={name:v.rO,displayName:(0,l.V)("Visual_Table_StylePreset_FlashyRows"),evaluate:function(u){return S(v.rO,u)}},r[v.b6]={name:v.b6,displayName:(0,l.V)("Visual_Table_StylePreset_BoldHeaderFlashyRows"),evaluate:function(u){return S(v.b6,u)}},r[v.rJ]={name:v.rJ,displayName:(0,l.V)("Visual_Table_StylePreset_Sparse"),evaluate:function(u){return S(v.rJ,u)}},r[v.TJ]={name:v.TJ,displayName:(0,l.V)("Visual_Table_StylePreset_Condensed"),evaluate:function(u){return S(v.TJ,u)}},r)}}},963177:function(Xe,H,t){t.d(H,{Au:function(){return w},EH:function(){return f},F:function(){return u},FT:function(){return h},Hq:function(){return D},TJ:function(){return T},TK:function(){return i},WI:function(){return c},Wy:function(){return V},Z0:function(){return n},b6:function(){return L},bW:function(){return r},cr:function(){return S},dc:function(){return d},eG:function(){return O},es:function(){return v},fd:function(){return s},gA:function(){return P},hW:function(){return a},iU:function(){return F},iq:function(){return R},jF:function(){return m},pJ:function(){return x},rJ:function(){return M},rO:function(){return g},xO:function(){return E},yh:function(){return p}});var e=t(437555),l=t(498342),o=t(905237),d=o.FX.PropColumnsOutline.defaultValue,v=o.FX.PropColumnsOutlineStyle.defaultValue,S=o.FX.PropGridHorizontalWeight.defaultValue,h=o.FX.PropGridVerticalWeight.defaultValue,c=o.FX.PropColumnsNewVisualOutline.defaultValue,r=o.FX.PropRowsPivotTableOutline.defaultValue,s=o.FX.PropTotalTableExOutline.defaultValue,u=o.FX.PropValuesNewVisualOutline.defaultValue,i=o.FX.PropGridOutlineWeight.defaultValue,a=o.FX.PropRowsOutline.defaultValue,n=o.FX.PropRowsOutlineStyle.defaultValue,m=o.FX.PropTotalOutline.defaultValue,f=o.FX.PropTotalOutlineStyle.defaultValue,V=o.FX.PropValuesOutline.defaultValue,p=o.FX.PropValuesOutlineStyle.defaultValue,D="None",P="Default",F="Minimal",E="BoldHeader",w="AlternatingRows",x="AlternatingRowsNew",R="ContrastAlternatingRows",g="FlashyRows",L="BoldHeaderFlashyRows",M="Sparse",T="Condensed";function O(N,A){var I=A.colorPalette.background.value,B=A.colorPalette.foreground.value,U=A.colorPalette.tableAccent.value,j=new o.FX(A);switch(N){case D:return{outlineColor:j.PropGridOutlineColor.getValue(null),gridColor:j.PropGridVerticalColor.getValue(null),gridVerticalEnabledTable:o.FX.PropGridVertical.defaultValue,gridVerticalEnabledMatrix:o.FX.PropGridVertical.defaultValue,gridHorizontalEnabledTable:o.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:o.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:o.FX.PropGridRowPadding.defaultValue,fontColorHeaders:j.PropColumnsFontColor.getValue(null),backColorHeaders:j.PropColumnsBackColor.getValue(null),fontColorValues1:j.PropValuesFontColorPrimary.getValue(null),backColorValues1:j.PropValuesBackColorPrimary.getValue(null),fontColorValues2:j.PropValuesFontColorSecondary.getValue(null),backColorValues2:j.PropValuesBackColorSecondary.getValue(null),fontColorTotals:j.PropTotalFontColor.getValue(null),backColorTotals:j.PropTotalBackColor.getValue(null)};case P:return{outlineColor:U=A.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=A.colorPalette.foreground.value,.12,I=A.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:o.FX.PropGridHorizontalTable.defaultValue,gridHorizontalEnabledMatrix:o.FX.PropGridHorizontalMatrix.defaultValue,rowPadding:1,fontColorHeaders:B,backColorHeaders:I,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:(0,e.ok)(B,.08,I),fontColorTotals:void 0,backColorTotals:void 0};case F:return{outlineColor:U,gridColor:(0,e.ok)(B,.12,I),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:B,backColorHeaders:I,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:B,backColorTotals:I};case E:return{outlineColor:U=A.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=A.colorPalette.foreground.value,.12,I=A.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,backColorHeaders:B,fontColorHeaders:I,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:B,backColorTotals:I};case w:return{outlineColor:U=A.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=A.colorPalette.foreground.value,.12,I=A.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:(0,e.ok)(B,.08,I),fontColorTotals:I,backColorTotals:B};case x:return{outlineColor:U=A.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=A.colorPalette.foreground.value,.12,I=A.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:(0,e.ok)(B,.08,I),fontColorTotals:I,backColorTotals:B,backColorSubtotalsRow:null,fontColorSubtotalsRow:null};case R:return{outlineColor:U=A.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=A.colorPalette.foreground.value,.12,I=A.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:3,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:I,backColorValues1:(0,e.ok)(B,.75,I),fontColorValues2:B,backColorValues2:(0,e.ok)(B,.25,I),fontColorTotals:I,backColorTotals:B};case g:return{outlineColor:B=A.colorPalette.foreground.value,gridColor:I=A.colorPalette.background.value,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:3,fontColorHeaders:B,backColorHeaders:I,fontColorValues1:B,backColorValues1:(0,e.ok)(U=A.colorPalette.tableAccent.value,.4,I),fontColorValues2:B,backColorValues2:(0,e.ok)(U,.8,I),fontColorTotals:B,backColorTotals:I};case L:return{outlineColor:I=A.colorPalette.background.value,gridColor:I,gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:3,fontColorHeaders:I,backColorHeaders:B=A.colorPalette.foreground.value,fontColorValues1:B,backColorValues1:(0,e.ok)(U=A.colorPalette.tableAccent.value,.4,I),fontColorValues2:B,backColorValues2:(0,e.ok)(U,.8,I),fontColorTotals:I,backColorTotals:B};case M:return{outlineColor:U=A.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=A.colorPalette.foreground.value,.2,I=A.colorPalette.background.value),gridVerticalEnabledTable:!1,gridVerticalEnabledMatrix:!1,gridHorizontalEnabledTable:!1,gridHorizontalEnabledMatrix:!1,rowPadding:6,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:I,backColorTotals:B};case T:return{outlineColor:U=A.colorPalette.tableAccent.value,gridColor:(0,e.ok)(B=A.colorPalette.foreground.value,.2,I=A.colorPalette.background.value),gridVerticalEnabledTable:!0,gridVerticalEnabledMatrix:!0,gridHorizontalEnabledTable:!0,gridHorizontalEnabledMatrix:!0,rowPadding:0,fontColorHeaders:I,backColorHeaders:B,fontColorValues1:B,backColorValues1:I,fontColorValues2:B,backColorValues2:I,fontColorTotals:I,backColorTotals:B};default:return void l.fF.assertFail("Attempt to get Tablix style elements with invalid preset name ["+N+"].")}}},843081:function(Xe,H,t){t.d(H,{E4:function(){return I},I6:function(){return g},Io:function(){return x},Oe:function(){return L},Q6:function(){return A},Rm:function(){return B},UV:function(){return w},VT:function(){return N},rx:function(){return E}});var e=t(973188),l=t(566464),o=t(498342),d=t(871746),v=t(470081),S=t(651153),h=t(93063),c=t(114345),r=(0,l.CH)("tooltip-container"),s=(0,l.CH)("tooltip-content"),u=(0,l.CH)("arrow"),i=(0,l.CH)("hide-arrow"),a=(0,l.CH)("small-touch-screen"),n=(0,l.CH)("large-touch-screen"),m=(0,l.CH)("truncate-tooltip-height"),f=(0,l.CH)("new-mobile-tooltip"),V=(0,l.CH)("heightened-header"),p=(0,l.CH)("themeableElement"),C=(0,l.CH)("tooltip-light"),E={opacity:1,scale:1,animationDuration:250,offsetX:0,offsetY:0,touchOptimized:!1,adjustXLeftSideOfScreen:0,adjustXRightSideOfScreen:0},w={opacity:.87,scale:1,animationDuration:0,animationDurationTouchOld:250,offsetY:30,offsetX:30,touchOptimized:!0,adjustXLeftSideOfScreen:27,adjustXRightSideOfScreen:10};function x(U,W){return new R(U,W)}var R=function(){function U(W,j){this.isTooltipVisible=!1,this.tooltipScaleFactor=1,this.rootElement=W,this.originalTooltipOptions=$.extend({},E,j),this.tooltipOptions=this.originalTooltipOptions}return U.prototype.isVisible=function(){return this.isTooltipVisible},U.prototype.isTouchOptimized=function(){return!!this.tooltipOptions.touchOptimized},U.prototype.setTestScreenSize=function(W,j){this.customScreenWidth=W,this.customScreenHeight=j},U.prototype.show=function(W,j){var K,ee,ie,he;this.isTooltipVisible=!0,this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),W&&(K=L(W,this.getScreenBounds(),this.tooltipOptions),he={x:W.left+(ee=W.width>>1),y:W.top+(ie=W.height>>1)}),this.tooltipContainer.style("display","").transition().duration(0).style("opacity",this.tooltipOptions.opacity),W&&this.setPositionAndSize(W,K,ee,ie,he,j)},U.prototype.classed=function(W,j){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.classed(W.class,j)},U.prototype.move=function(W,j){var K,ee,ie;this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),K=L(W,this.getScreenBounds(),this.tooltipOptions),this.setPositionAndSize(W,K,ee=W.width>>1,ie=W.height>>1,{x:W.left+ee,y:W.top+ie},j)},U.prototype.updateContent=function(W){this.tooltipContainer||(this.tooltipContainer=this.createTooltipContainer(this.rootElement)),this.tooltipContainer.select(s.selector).remove(),W&&($(W).addClass(s.class),this.tooltipContainer.node().appendChild(W))},U.prototype.hide=function(){if(this.isTooltipVisible){var W=this.isTouchOptimized()&&!this.tooltipOptions.newMobileTooltip?this.tooltipOptions.animationDurationTouchOld:this.tooltipOptions.animationDuration;this.isTooltipVisible=!1,this.tooltipContainer.transition().duration(W).style("opacity",0).on("end",function(){this.style.display="none"})}},U.prototype.destroy=function(){this.tooltipContainer&&(this.tooltipContainer.remove(),this.tooltipContainer=null,this.isTooltipVisible=!1)},U.prototype.setTooltipAppearanceOptions=function(W){var j=$.extend({},this.originalTooltipOptions,W);this.tooltipOptions=j},U.prototype.attachPointerEnterCallback=function(W){this.onPointerEnter=W},U.prototype.attachPointerLeaveCallback=function(W){this.onPointerLeave=W},U.prototype.createTooltipContainer=function(W){var j=this,K=d3.select(W).append("div").classed(r.class,!0).classed(p.class,!0);return K.append("div").classed(u.class,!0),K.style("display","none"),K.on("pointerenter.callback",function(){return j.onPointerEnter&&j.onPointerEnter()}),K.on("pointerleave.callback",function(){return j.onPointerLeave&&j.onPointerLeave()}),K},U.prototype.getTooltipContainerBounds=function(){var W;return"none"===this.tooltipContainer.style("display")?(this.tooltipContainer.style("display",""),W=this.tooltipContainer.node().getBoundingClientRect(),this.tooltipContainer.style("display","none")):W=this.tooltipContainer.node().getBoundingClientRect(),{height:W.height/this.tooltipScaleFactor,width:W.width/this.tooltipScaleFactor}},Object.defineProperty(U.prototype,"tooltipScale",{get:function(){return this.tooltipOptions.scale||1},enumerable:!1,configurable:!0}),U.prototype.updateTooltipPosition=function(W,j,K,ee,ie,he){var q=this.getTooltipContainerBounds(),Y=0,G=0,me=this.tooltipOptions.adjustXLeftSideOfScreen,re=this.tooltipOptions.adjustXRightSideOfScreen,le=this.tooltipOptions.hideArrow?0:(he?3:7)*this.tooltipScale,Ee=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:2,Ne=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:3,Ye=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:he?.5:1,Je=this.tooltipOptions.showImmediatelyAdjacentToClickedArea?1:he?2.5:1;return this.tooltipOptions.offsetPosition&&(me=0,re=0,Y+=0===j||3===j?this.tooltipOptions.offsetX:-this.tooltipOptions.offsetX,G+=0===j||1===j?this.tooltipOptions.offsetY:-this.tooltipOptions.offsetY),0===j?(Y+=Ne*le+K-me,G-=Ee*Je*le+ee):1===j?(Y-=Ee*Ye*le+q.width+K-re,G-=Ee*Je*le+ee):3===j?(Y+=Ne*le+K-me,G-=q.height-Ee*Je*le+ee):2===j&&(Y-=Ee*Ye*le+q.width+K-re,G-=q.height-Ee*Je*le+ee),{x:ie.x+Y,y:ie.y+G}},U.prototype.setPositionAndSize=function(W,j,K,ee,ie,he){ie=this.updateTooltipPosition(W,j,K,ee,ie,he);var q=this.widenTooltipIfNeeded(ie);this.setTooltipContainerAttributes(j,q,!!q.width),this.tooltipContainer.style("width",q.width?q.width+"px":""),this.setArrowPosition(j)},U.prototype.widenTooltipIfNeeded=function(W){var j={left:W.x,top:W.y,width:void 0,height:void 0};if(this.shouldWidenTooltip()){j.left=8;var K=this.getScreenBounds().width;j.width=K-16}return j},U.prototype.setTooltipContainerAttributes=function(W,j,K){var ee=this.getTooltipContainerBounds(),ie=this.getScreenBounds(),he=this.shouldWidenTooltip(),q=ee.width,Y=ee.height,G=ie.width,me=ie.height,Ee=j.left,Ne=j.top;this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&(Ee=j.left>=0?j.left:5,Ne=j.top>=0?j.top:5);var Ye=G-Ee-q,Je=me-Ne-Y;if(this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition){Ye<0&&(Ye=G-(Ee-=Math.abs(Ye)+5)-q+5);var _e=this.getScreenBounds().width<=540?35:5;Je<_e&&(Ne-=_e-Je,Je=_e)}var Ce,Be,pe=!1,fe=!1,oe=0===W||1===W,ye=0===W||3===W,be={left:null,top:null,right:null,bottom:null};ye?(pe=!0,be.left="".concat(Ee,"px"),Be=Ee):(fe=!0,be.right="".concat(Ye,"px"),Be=Ye),oe?(be.top="".concat(Ne,"px"),Ce=Ne):(be.bottom="".concat(Je,"px"),Ce=Je),K&&(be.left="".concat(Ee,"px"));var Te={height:(Y+10)*this.tooltipScale,width:(he?q:q+10)*this.tooltipScale},ce=Te.width+Be>G,ve=Te.height+Ce>me;this.tooltipScaleFactor=this.tooltipScale,(ce||ve)&&(this.tooltipScaleFactor*=this.calculateScaleFactor(Te,ie,Be,Ce)),this.tooltipContainer.classed("left",pe).classed("right",fe).classed(C.class,this.tooltipOptions.useLightColors).classed(a.class,this.isSmallTouchScreen()).classed(n.class,this.isLargeTouchScreen()).classed(m.class,this.isTruncateTooltipHeight()).classed(f.class,this.isNewMobileTooltip()).classed(V.class,this.heightenedHeader()).styles(be).style("transform","scale(".concat(this.tooltipScaleFactor,")")).style("transform-origin","".concat(oe?"top":"bottom"," ").concat(ye?"left":"right"))},U.prototype.calculateScaleFactor=function(W,j,K,ee){return Math.min((j.width-K)/W.width,(j.height-ee)/W.height)},U.prototype.setArrowPosition=function(W){var K;K=0===W?"top left":1===W?"top right":3===W?"bottom left":"bottom right",this.getArrowElement().attr("class","arrow").classed(K,!0).classed(i.class,this.tooltipOptions.hideArrow)},U.prototype.shouldWidenTooltip=function(){return this.tooltipOptions.touchOptimized&&this.tooltipOptions.offsetPosition&&this.getScreenBounds().width<=540},U.prototype.isSmallTouchScreen=function(){if(!this.tooltipOptions.touchOptimized)return!1;var W=this.getScreenBounds();return W.width<=540||W.height<=450},U.prototype.isLargeTouchScreen=function(){return this.tooltipOptions.touchOptimized&&!this.isSmallTouchScreen()},U.prototype.isTruncateTooltipHeight=function(){return!!this.tooltipOptions.touchOptimized&&this.getScreenBounds().height<=620},U.prototype.isNewMobileTooltip=function(){return this.tooltipOptions.newMobileTooltip},U.prototype.heightenedHeader=function(){return!this.tooltipOptions.offsetPosition&&this.tooltipOptions.newMobileTooltip},U.prototype.getArrowElement=function(){return this.tooltipContainer.select(u.selector)},U.prototype.getScreenBounds=function(){return{width:this.customScreenWidth||window.innerWidth,height:this.customScreenHeight||window.innerHeight}},U}(),g=function(){function U(){}return U.highlightedValueDisplayNameResorceKey="Tooltip_HighlightedValueDisplayName",U}();function L(U,W,j){var Y=(null==j?void 0:j.showAboveClickedArea)||U.top+U.height/2>=W.height/2;return U.left+U.width/2<W.width/2?Y?3:0:Y?2:1}function N(U,W,j,K,ee){var ie=U.data.getAllValuesForRole("Tooltips",j,K),he=U.data.getAllFormatStringsForRole("Tooltips",j,K),q=U.data.getAllValueDisplayNamesForRole("Tooltips"),Y=U.columns.getAllValueMetadataColumnsForRole("Tooltips",K);if(ie)for(var G=0;G<ie.length;G++)null!=ie[G]&&W.push({displayName:q[G],value:(0,h.xq)(ie[G],Y[G],ee,!1,he[G])})}function A(U,W,j,K,ee){if(U&&(o.fF.assert(function(){return U.length===W.length},"CategoricalLazyTooltipBuilder:withMultipleColumnAndValues: unexpected count of sources & values"),j||!_.every(W,function(q){return null==q}))){var ie=(0,S.ML)(_.map(U,function(q){return q.queryName}));if(ee){if(_.includes(ee,ie))return;ee.push(ie)}var he=(0,S.ML)(_.map(U,function(q){return q.displayName}));return function(){var q=(0,S.ML)(_.map(W,function(Y,G){return K(Y,U[G])}));return{displayName:he,value:q}}}}var I=function(){function U(){this.items=[],this.columns=[]}return U.prototype.withColumnValue=function(W,j,K,ee,ie){return W&&(ee||null!=j)?(_.includes(this.columns,W.queryName)||(this.columns.push(W.queryName),this.items.push(new d.o(function(){return{displayName:W.displayName,value:ie(j,W,K)}}))),this):this},U.prototype.withMultipleColumnAndValues=function(W,j,K,ee){var ie=A(W,j,K,ee);return ie&&this.items.push(new d.o(ie)),this},U.prototype.withValue=function(W,j){return this.items.push(new d.o(function(){return{displayName:W,value:j}})),this},U.prototype.withLazyValue=function(W){return this.items.push(W),this},U.prototype.withLazyValues=function(W){return this.items.push(new d.o(W)),this},U.prototype.getTooltipItems=function(){return _.flatten(_.map(this.items,function(W){return W.getValue()}))},U.prototype.getFormattedTooltipItems=function(){return void 0===this.formatted&&(this.formatted=(0,c.X)(this.getTooltipItems())),this.formatted},U}(),B=function(U){function W(j,K){var ee=U.call(this)||this;return ee.reader=j,ee.formatStringProp=K,ee}return(0,e.__extends)(W,U),W.prototype.withAllValuesForRole=function(j,K,ee,ie,he){var q=this.reader.getAllValueColumnsForRole(j,ee);if(_.isEmpty(q))return this;for(var Y=0,G=q;Y<G.length;Y++)this.withColumnValueByIndex(G[Y],K,ie,he);return this},W.prototype.withColumnValueByIndex=function(j,K,ee,ie){var he;if(!j)return this;var q=j.values[K],Y=(0,v.NA)(null===(he=j.objects)||void 0===he?void 0:he[K],this.formatStringProp);return this.withColumnValue(j.source,q,Y,ee,ie)},W}(I)},695823:function(Xe,H,t){t.d(H,{FR:function(){return n},GD:function(){return h},Kn:function(){return s},OW:function(){return l},PG:function(){return i},R_:function(){return c},U5:function(){return o},Yd:function(){return r},dt:function(){return m},eE:function(){return d},hG:function(){return u},mc:function(){return S},op:function(){return v},vW:function(){return a}});var e=t(588376),l="blank",o="leftArrow",d="rightArrow",v="back",S="reset",h="information",c="help",r="qna",s="insights",u="bookmarks",i="custom",a="applyAllSlicers",n="clearAllSlicers",m=(0,e.i)([{value:l,displayName:function(V){return V.get("ReportAppBar_Blank")}},{value:o,displayName:function(V){return V.get("Generic_LeftArrow")}},{value:d,displayName:function(V){return V.get("Generic_RightArrow")}},{value:v,displayName:function(V){return V.get("Generic_Back")}},{value:S,displayName:function(V){return V.get("Reset")}},{value:c,displayName:function(V){return V.get("Generic_Help")}},{value:h,displayName:function(V){return V.get("ReportAppBar_InfoIcon")}},{value:r,displayName:function(V){return V.get("Generic_Qna")}},{value:u,displayName:function(V){return V.get("Generic_Bookmark")}},{value:a,displayName:function(V){return V.get("ReportAppBar_ApplyAllSlicers")}},{value:n,displayName:function(V){return V.get("ReportAppBar_ClearAllSlicers")}},{value:i,displayName:function(V){return V.get("Custom")}}])},971750:function(Xe,H,t){t.d(H,{d:function(){return e},e:function(){return l}});var e={top:"top",middle:"middle",bottom:"bottom"},l={left:"left",center:"center",right:"right"}},140168:function(Xe,H,t){t.d(H,{DW:function(){return u},LS:function(){return r},dt:function(){return s}});var e=t(498342),l=t(588376),o="droplet",d="circle",v="square",S="diamond",h="triangle",r=o,s=(0,l.i)([{value:o,displayName:function(a){return a.get("Visual_MarkerShape_Droplet")}},{value:d,displayName:function(a){return a.get("Visual_MarkerShape_Circle")}},{value:v,displayName:function(a){return a.get("Visual_MarkerShape_Square")}},{value:S,displayName:function(a){return a.get("Visual_MarkerShape_Diamond")}},{value:h,displayName:function(a){return a.get("Visual_MarkerShape_Triangle")}}]);function u(i){switch(i){case o:return"M 1.123 -0.214\n                        C 1.123 0.123 0.947 0.435 0.749 0.626\n                        L 0.139 1.275\n                        C 0.065 1.353 -0.059 1.353 -0.133 1.275\n                        L -0.743 0.626\n                        C -1.023 0.346 -1.117 0.118 -1.117 -0.214\n                        C -1.117 -0.832 -0.615 -1.333 0.003 -1.333\n                        C 0.621 -1.333 1.123 -0.832 1.123 -0.214 Z";case d:return"M 0 0 m -1 0 a 1 1 0 1 0 2 0 a 1 1 0 1 0 -2 0";case v:return"M 0 0 m -1 -1 l 2 0 l 0 2 l -2 0 z";case S:return"M 0 0 m -1 0 l 1 -1 l 1 1 l -1 1 z";case h:return"M 0 0 m -1 1 l 1 -2 l 1 2 z";case"none":return null;default:e.fF.assertFail("anomalyMarkerShape.getPath received an unknown anomalyMarkerShape")}}},773659:function(Xe,H,t){t.d(H,{C2:function(){return o},Dh:function(){return d},O1:function(){return S},cX:function(){return l},dt:function(){return v}});var e=t(588376),l="showBoth",o="showTitleOnly",d="showUnitOnly",v=(0,e.i)([{value:o,displayName:function(c){return c.get("Visual_Axis_ShowTitleOnly")}},{value:d,displayName:function(c){return c.get("Visual_Axis_ShowUnitOnly")}},{value:l,displayName:function(c){return c.get("Visual_Axis_ShowBoth")}}]);function S(h,c,r){return h?h===l?"".concat(c," (").concat(r,")"):h===d?r:c:c}},175680:function(Xe,H,t){t.d(H,{Hk:function(){return d},Pf:function(){return o},dt:function(){return v},iD:function(){return l}});var e=t(588376),l="Scalar",o="Categorical",d="Both",v=(0,e.i)([{value:l,displayName:function(h){return h.get("Visual_Axis_Scalar")}},{value:o,displayName:function(h){return h.get("Visual_Axis_Categorical")}}])},945312:function(Xe,H,t){t.d(H,{BG:function(){return o},C9:function(){return l},cP:function(){return S},dt:function(){return c},jv:function(){return d},x7:function(){return v},yX:function(){return h}});var e=t(588376),l="rectangle",o="oval",d="line",v="arrow",S="triangle",h="arrowbutton",c=(0,e.i)([{value:l,displayName:function(s){return s.get("ReportAppBar_ShapeRectangle")}},{value:o,displayName:function(s){return s.get("ReportAppBar_ShapeOval")}},{value:d,displayName:function(s){return s.get("Visual_Shape_Line")}},{value:v,displayName:function(s){return s.get("ReportAppBar_ShapeArrow")}},{value:S,displayName:function(s){return s.get("ReportAppBar_ShapeTriangle")}},{value:h,displayName:"arrowbutton"}])},842631:function(Xe,H,t){t.d(H,{AB:function(){return S},GT:function(){return l},IZ:function(){return c},VW:function(){return s},dt:function(){return r},fS:function(){return d},j2:function(){return o},se:function(){return v},uH:function(){return h}});var e=t(588376),l="aerial",o="canvasDark",d="canvasLight",v="grayscale",S="road",h=S,c=o,r=(0,e.i)([{value:l,displayName:function(i){return i.get("Visual_MapThemeAerial")}},{value:o,displayName:function(i){return i.get("Visual_MapThemeDark")}},{value:d,displayName:function(i){return i.get("Visual_MapThemeLight")}},{value:v,displayName:function(i){return i.get("Visual_MapThemeGrayScale")}},{value:S,displayName:function(i){return i.get("Visual_MapThemeRoad")}}]);function s(u){return u===l||u===o}},247382:function(Xe,H,t){t.d(H,{XT:function(){return v},aA:function(){return d},dt:function(){return h},dw:function(){return S},zH:function(){return o}});var e=t(588376),l="pixels",o="meters",d=l,v=200,S=4e6,h=(0,e.i)([{value:l,displayName:function(r){return r.get("Generic_Pixels")}},{value:o,displayName:function(r){return r.get("Visual_MapUnitMeters")}}])},725840:function(Xe,H,t){t.d(H,{dt:function(){return d},xV:function(){return l}});var e=t(588376),l="darker",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_Color_Darker")}},{value:"lighter",displayName:function(S){return S.get("Visual_Color_Lighter")}}])},313806:function(Xe,H,t){t.d(H,{al:function(){return l},dt:function(){return d},oI:function(){return o}});var e=t(588376),l="belowValue",o="aboveValue",d=(0,e.i)([{value:l,displayName:function(S){return S.get("CardVisualPositioning_BelowValue")}},{value:o,displayName:function(S){return S.get("CardVisualPositioning_AboveValue")}}])},806009:function(Xe,H,t){t.d(H,{YP:function(){return d},dt:function(){return S},hl:function(){return l},jv:function(){return o},uv:function(){return h}});var e=t(588376),l="fill",o="line",d="none",S=(0,e.i)([{value:l,displayName:function(r){return r.get("Visual_Confidence_Band_Style_Fill")}},{value:o,displayName:function(r){return r.get("Visual_Confidence_Band_Style_Line")}},{value:d,displayName:function(r){return r.get("None")}}]),h=(0,e.i)([{value:l,displayName:function(r){return r.get("Visual_Confidence_Band_Style_Fill")}},{value:o,displayName:function(r){return r.get("Visual_Confidence_Band_Style_Line")}},{value:"fillLine",displayName:function(r){return r.get("Visual_Confidence_Band_Style_LineFill")}}])},366582:function(Xe,H,t){t.d(H,{FH:function(){return d},PG:function(){return l},Vm:function(){return o}});var e=t(588376),l="custom",o="fieldName",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Custom")}},{value:o,displayName:function(S){return S.get("StreamingDataflow_FieldName")}}])},919876:function(Xe,H,t){t.d(H,{d:function(){return l}});var l=(0,t(588376).i)([{value:0,displayName:function(d){return d.get("DisplayUnitSystem_EAuto_Title")}},{value:1,displayName:function(d){return d.get("DisplayUnitSystem_E0_Title")}},{value:1e3,displayName:function(d){return d.get("DisplayUnitSystem_E3_Title")}},{value:1e6,displayName:function(d){return d.get("DisplayUnitSystem_E6_Title")}},{value:1e9,displayName:function(d){return d.get("DisplayUnitSystem_E9_Title")}},{value:1e12,displayName:function(d){return d.get("DisplayUnitSystem_E12_Title")}},{value:-1,displayName:function(d){return d.get("Custom")}}])},725867:function(Xe,H,t){t.d(H,{d7:function(){return l},dt:function(){return v},on:function(){return o}});var e=t(588376),l="auto",o="on",v=(0,e.i)([{value:l,displayName:function(h){return h.get("Visual_Auto")}},{value:o,displayName:function(h){return h.get("ToggleSwitchOn")}},{value:"off",displayName:function(h){return h.get("ToggleSwitchOff")}}])},941242:function(Xe,H,t){t.d(H,{Od:function(){return o},SX:function(){return l},UX:function(){return v},dt:function(){return S},gC:function(){return d}});var e=t(588376),l="outside",o="inside",d="preferOutside",v="preferInside",S=(0,e.i)([{value:l,displayName:function(c){return c.get("Visual_DonutLabelPosition_Outside")}},{value:o,displayName:function(c){return c.get("Visual_DonutLabelPosition_Inside")}},{value:d,displayName:function(c){return c.get("Visual_DonutLabelPosition_PreferOutside")}},{value:v,displayName:function(c){return c.get("Visual_DonutLabelPosition_PreferInside")}}])},692773:function(Xe,H,t){t.d(H,{AG:function(){return l},An:function(){return d},dt:function(){return S},w6:function(){return v},zR:function(){return o}});var e=t(588376),l="absolute",o="relativeNumeric",d="relativePercentage",v="range",S=(0,e.i)([{value:l,displayName:function(c){return c.get("Visual_Absolute")}},{value:o,displayName:function(c){return c.get("Visual_RelativeNumeric")}},{value:d,displayName:function(c){return c.get("Visual_RelativePercentage")}},{value:v,displayName:function(c){return c.get("Visual_Axis_Range")}}])},199220:function(Xe,H,t){t.d(H,{$o:function(){return l},Mb:function(){return o},oB:function(){return d}});var e=t(588376),l="Fill only",o="Border only",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_FillStyle_Fill")}},{value:o,displayName:function(S){return S.get("Visual_FillStyle_Border")}}])},626673:function(Xe,H,t){t.d(H,{CR:function(){return d},MS:function(){return r},YK:function(){return v},aT:function(){return S},dt:function(){return u},mN:function(){return s},nO:function(){return l},oN:function(){return h},r0:function(){return o},r2:function(){return c}});var e=t(588376),l=2,o=4,d=8,v=function(i){return i[i.data=l]="data",i[i.percentOfFirst=o]="percentOfFirst",i[i.percentOfPrevious=d]="percentOfPrevious",i[i.dataAndPercentOfFirst=l|o]="dataAndPercentOfFirst",i[i.dataAndPercentOfPrevious=l|d]="dataAndPercentOfPrevious",i}({}),S="Data",h="Percent of first",c="Percent of previous",r="Data, percent of first",s="Data, percent of previous",u=(0,e.i)([{value:S,displayName:function(a){return a.get("Visual_LabelStyle_DataValue")}},{value:h,displayName:function(a){return a.get("Funnel_PercentOfFirst")}},{value:c,displayName:function(a){return a.get("Funnel_PercentOfPrevious")}},{value:r,displayName:function(a){return a.get("Visual_LabelStyle_DataAndPercentOfFirst")}},{value:s,displayName:function(a){return a.get("Visual_LabelStyle_DataAndPercentOfPrevious")}}])},214123:function(Xe,H,t){t.d(H,{ST:function(){return l},_h:function(){return p},dt:function(){return b},gA:function(){return o},xF:function(){return C}});var e=t(588376),l={v1_0:"1.0",v2_0:"2.0"},o="",d="de-de",v="en-GB",S="en-US",h="es-ES",c="fr-FR",r="it-it",i="nl-BE",a="pt-BR",m="zh-Hans",f="zh-Hant",V=[{value:o,version:l.v1_0},{value:d,version:l.v2_0},{value:v,version:l.v2_0},{value:S,version:l.v2_0},{value:h,version:l.v2_0},{value:c,version:l.v2_0},{value:r,version:l.v2_0},{value:"ja",version:l.v1_0},{value:"ko",version:l.v2_0},{value:i,version:l.v2_0},{value:a,version:l.v2_0},{value:"ru",version:l.v2_0},{value:m,version:l.v2_0},{value:f,version:l.v2_0}];function p(y){return _.findIndex(V,function(D){return D.value===y})>=0}function C(y,D){var P=_.find(V,function(F){return F.value===y});return!!P&&P.version===D}var b=(0,e.i)([{value:o,displayName:function(D){return D.get("Visual_Auto")}},{value:d,displayName:function(D){return D.get("Visual_MapGeocodingCulture_DE")}},{value:v,displayName:function(D){return D.get("Visual_MapGeocodingCulture_ENGB")}},{value:S,displayName:function(D){return D.get("Visual_MapGeocodingCulture_ENUS")}},{value:h,displayName:function(D){return D.get("Visual_MapGeocodingCulture_ES")}},{value:c,displayName:function(D){return D.get("Visual_MapGeocodingCulture_FR")}},{value:r,displayName:function(D){return D.get("Visual_MapGeocodingCulture_IT")}},{value:"ja",displayName:function(D){return D.get("Visual_MapGeocodingCulture_JA")}},{value:"ko",displayName:function(D){return D.get("Visual_MapGeocodingCulture_KO")}},{value:i,displayName:function(D){return D.get("Visual_MapGeocodingCulture_NL")}},{value:a,displayName:function(D){return D.get("Visual_MapGeocodingCulture_PT")}},{value:"ru",displayName:function(D){return D.get("Visual_MapGeocodingCulture_RU")}},{value:m,displayName:function(D){return D.get("Visual_MapGeocodingCulture_ZHS")}},{value:f,displayName:function(D){return D.get("Visual_MapGeocodingCulture_ZHT")}}])},24513:function(Xe,H,t){t.d(H,{$6:function(){return v},YP:function(){return S},aN:function(){return l},dt:function(){return h},rj:function(){return d},xT:function(){return o}});var e=t(588376),l="inner",o="innerHorizontal",d="innerVertical",v="all",S="none",h=(0,e.i)([{value:v,displayName:function(r){return r.get("All")},icon:{glyph:"border-all"}},{value:l,displayName:function(r){return r.get("Border_Grid_Line_Type_Inner")},icon:{glyph:"border-inside"}},{value:o,displayName:function(r){return r.get("Border_Grid_Line_Type_Inner_Horizontal")},icon:{glyph:"border-inside-horizontal"}},{value:d,displayName:function(r){return r.get("Border_Grid_Line_Type_Inner_Vertical")},icon:{glyph:"border-inside-vertical"}},{value:S,displayName:function(r){return r.get("None")},icon:{glyph:"border-none"}}])},141596:function(Xe,H,t){t.d(H,{B2:function(){return S},F2:function(){return d},PG:function(){return l},aE:function(){return v},dt:function(){return h},t$:function(){return o}});var e=t(588376),l="custom",o="left",d="right",v="above",S="below",h=(0,e.i)([{value:l,displayName:function(r){return r.get("Custom")}},{value:o,displayName:function(r){return r.get("Visual_IconPlacement_Left")}},{value:d,displayName:function(r){return r.get("Visual_IconPlacement_Right")}},{value:v,displayName:function(r){return r.get("Visual_IconPlacement_Above")}},{value:S,displayName:function(r){return r.get("Visual_IconPlacement_Below")}}])},935232:function(Xe,H,t){t.d(H,{Tj:function(){return o},Zt:function(){return S},dt:function(){return v},hl:function(){return d},mJ:function(){return l}});var e=t(588376),l="Normal",o="Fit",d="Fill",v=(0,e.i)([{value:l,displayName:function(c){return c.get("Normal")}},{value:o,displayName:function(c){return c.get("Visual_ImageScalingType_Fit")}},{value:d,displayName:function(c){return c.get("Visual_ImageScalingType_Fill")}}]),S=v},782054:function(Xe,H,t){t.d(H,{dt:function(){return d}});var d=(0,t(588376).i)([{value:"image",displayName:function(S){return S.get("Image")}},{value:"imageUrl",displayName:function(S){return S.get("Image_Url")}}])},593223:function(Xe,H,t){t.d(H,{Mu:function(){return l},W2:function(){return o},dt:function(){return d}});var e=t(588376),l="keyInfluencers",o="topProfiles",d=(0,e.i)([{value:l,displayName:function(){return"keyInfluencers"}},{value:o,displayName:function(){return"topProfiles"}}])},97233:function(Xe,H,t){t.d(H,{AG:function(){return l},Gf:function(){return o},dt:function(){return d}});var e=t(588376),l="absolute",o="relative",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_Absolute")}},{value:o,displayName:function(S){return S.get("Visual_Relative")}}])},852320:function(Xe,H,t){t.d(H,{Pf:function(){return o},dt:function(){return d},us:function(){return l}});var e=t(588376),l="Continuous",o="Categorical",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_Axis_Scalar")}},{value:o,displayName:function(S){return S.get("Visual_Axis_Categorical")}}])},639616:function(Xe,H,t){t.d(H,{QX:function(){return o},dt:function(){return d},ob:function(){return l}});var e=t(588376),l="impact",o="count",d=(0,e.i)([{value:l,displayName:function(S){return S.get("KeyDriver_SortType_Impact")}},{value:o,displayName:function(S){return S.get("KeyDriver_SortType_Count")}}])},913963:function(Xe,H,t){t.d(H,{dt:function(){return d},i1:function(){return l},pd:function(){return o}});var e=t(588376),l="High is good",o="Low is good",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_KPI_DistanceDirection_Positive")}},{value:o,displayName:function(S){return S.get("Visual_KPI_DistanceDirection_Negative")}}])},664652:function(Xe,H,t){t.d(H,{Hk:function(){return d},S3:function(){return l},aQ:function(){return o},dt:function(){return v}});var e=t(588376),l="Value",o="Percent",d="Value, percent",v=(0,e.i)([{value:l,displayName:function(h){return h.get("Visual_LabelText_Value")}},{value:o,displayName:function(h){return h.get("ConditionalFormattingDialog_Percent")}},{value:d,displayName:function(h){return h.get("Visual_LabelStyle_Both")}}])},248620:function(Xe,H,t){t.d(H,{dt:function(){return d},i1:function(){return l},pd:function(){return o}});var e=t(588376),l="Positive",o="Negative",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_KPI_Direction_Positive")}},{value:o,displayName:function(S){return S.get("Visual_KPI_Direction_Negative")}}])},355853:function(Xe,H,t){t.d(H,{d:function(){return l}});var l=(0,t(588376).i)([{value:0,displayName:function(d){return d.get("Visual_LabelOrientation_Vertical")}},{value:1,displayName:function(d){return d.get("Visual_LabelOrientation_Horizontal")}}])},52825:function(Xe,H,t){t.d(H,{EZ:function(){return o},FY:function(){return S},aE:function(){return h},d7:function(){return l},di:function(){return c},dt:function(){return r},wv:function(){return v},yJ:function(){return d}});var e=t(588376),l="Auto",o="InsideEnd",d="InsideCenter",v="OutsideEnd",S="InsideBase",h="Above",c="Under",r=(0,e.i)([{value:l,displayName:function(u){return u.get("Visual_Auto")}},{value:o,displayName:function(u){return u.get("Visual_LabelPosition_InsideEnd")}},{value:v,displayName:function(u){return u.get("Visual_LabelPosition_OutsideEnd")}},{value:d,displayName:function(u){return u.get("Visual_LabelPosition_InsideCenter")}},{value:S,displayName:function(u){return u.get("Visual_LabelPosition_InsideBase")}},{value:h,displayName:function(u){return u.get("Visual_Reference_Line_Data_Label_Above")}},{value:c,displayName:function(u){return u.get("Visual_Reference_Line_Data_Label_Under")}}])},761235:function(Xe,H,t){t.d(H,{F2:function(){return o},dt:function(){return d}});var e=t(588376),o="Right",d=(0,e.i)([{value:"Left",displayName:function(S){return S.get("Visual_yAxis_Left")}},{value:o,displayName:function(S){return S.get("Visual_yAxis_Right")}}])},425854:function(Xe,H,t){t.d(H,{W3:function(){return S},YK:function(){return v},_q:function(){return i},aQ:function(){return c},aT:function(){return h},dt:function(){return a},ev:function(){return s},f3:function(){return r},mA:function(){return l},nO:function(){return o},qv:function(){return u},tG:function(){return d}});var e=t(588376),l=2,o=4,d=8,v=function(n){return n[n.category=l]="category",n[n.data=o]="data",n[n.percent=d]="percent",n[n.categoryAndData=l|o]="categoryAndData",n[n.categoryAndPercent=l|d]="categoryAndPercent",n[n.dataAndPercent=o|d]="dataAndPercent",n[n.categoryAndDataAndPercent=l|o|d]="categoryAndDataAndPercent",n}({}),S="Category",h="Data",c="Percent of total",r="Both",s="Category, percent of total",u="Data value, percent of total",i="Category, data value, percent of total",a=(0,e.i)([{value:S,displayName:function(m){return m.get("Visual_LabelStyle_Category")}},{value:h,displayName:function(m){return m.get("Visual_LabelStyle_DataValue")}},{value:c,displayName:function(m){return m.get("Visual_LabelStyle_Percent")}},{value:r,displayName:function(m){return m.get("Visual_LabelStyle_CategoryAndData")}},{value:s,displayName:function(m){return m.get("Visual_LabelStyle_CategoryAndPercent")}},{value:u,displayName:function(m){return m.get("Visual_LabelStyle_DataAndPercent")}},{value:i,displayName:function(m){return m.get("Visual_LabelStyle_CategoryAndDataAndPercent")}}])},35589:function(Xe,H,t){t.d(H,{S3:function(){return l},dt:function(){return v},u2:function(){return o},u6:function(){return d}});var e=t(588376),l="Value",o="Name",d="ValueAndName",v=(0,e.i)([{value:l,displayName:function(h){return h.get("Visual_LabelStyle_DataValue")}},{value:o,displayName:function(h){return h.get("Name")}},{value:d,displayName:function(h){return h.get("Visual_LabelStyle_Both")}}])},409200:function(Xe,H,t){t.d(H,{G_:function(){return v},XD:function(){return o},dt:function(){return S},f2:function(){return l},tl:function(){return d}});var e=t(588376),l="markerOnly",o="lineAndMarker",d="lineOnly",v="markerCircleDefault",S=(0,e.i)([{value:v,displayName:function(c){return c.get("MarkerCircleDefault")}},{value:l,displayName:function(c){return c.get("Marker")}},{value:d,displayName:function(c){return c.get("Visual_Shape_Line")}},{value:o,displayName:function(c){return c.get("Visual_LegendLineAndMarker")}}])},871879:function(Xe,H,t){t.d(H,{F2:function(){return v},I:function(){return o},dt:function(){return i},f6:function(){return s},hT:function(){return u},t$:function(){return d},u0:function(){return a},v3:function(){return r},we:function(){return l},zq:function(){return n}});var e=t(588376),l="Top",o="Bottom",d="Left",v="Right",r="RightCenter",s="TopRight",u="BottomRight",i=(0,e.i)([{value:l,displayName:function(f){return f.get("Visual_LabelPosition_TopLeft")}},{value:"TopCenter",displayName:function(f){return f.get("Visual_LabelPosition_TopCenter")}},{value:s,displayName:function(f){return f.get("Visual_LabelPosition_TopRight")}},{value:d,displayName:function(f){return f.get("Visual_LegendPosition_TopLeftStacked")}},{value:v,displayName:function(f){return f.get("Visual_LegendPosition_TopRightStacked")}},{value:"LeftCenter",displayName:function(f){return f.get("Visual_LegendPosition_LeftCenter")}},{value:r,displayName:function(f){return f.get("Visual_LegendPosition_RightCenter")}},{value:o,displayName:function(f){return f.get("Visual_LabelPosition_BottomLeft")}},{value:"BottomCenter",displayName:function(f){return f.get("Visual_LabelPosition_BottomCenter")}},{value:u,displayName:function(f){return f.get("Visual_LabelPosition_BottomRight")}}]),a=(0,e.i)([{value:d,displayName:function(f){return f.get("Visual_TextAlignment_Left")}},{value:v,displayName:function(f){return f.get("Visual_TextAlignment_Right")}},{value:o,displayName:function(f){return f.get("Bottom")}},{value:l,displayName:function(f){return f.get("Top")}}]),n=(0,e.i)([{value:d,displayName:function(f){return f.get("Visual_IconPlacement_Left")}},{value:v,displayName:function(f){return f.get("Visual_IconPlacement_Right")}},{value:o,displayName:function(f){return f.get("Visual_IconPlacement_Below")}},{value:l,displayName:function(f){return f.get("Visual_IconPlacement_Above")}}])},795594:function(Xe,H,t){t.d(H,{GE:function(){return l},Nb:function(){return o},dt:function(){return v},ip:function(){return d}});var e=t(588376),l="linear",o="step",d="smooth",v=(0,e.i)([{value:l,displayName:function(h){return h.get("Visual_Axis_Linear")}},{value:d,displayName:function(h){return h.get("Visual_SmoothLine")}},{value:o,displayName:function(h){return h.get("Visual_StepLine")}}])},613218:function(Xe,H,t){t.d(H,{HA:function(){return l},SQ:function(){return o},dt:function(){return v},ft:function(){return d}});var e=t(588376),l="dashed",o="solid",d="dotted",v=(0,e.i)([{value:l,displayName:function(h){return h.get("Visual_LineStyle_Dashed")}},{value:o,displayName:function(h){return h.get("Visual_LineStyle_Solid")}},{value:d,displayName:function(h){return h.get("Visual_LineStyle_Dotted")}}])},833126:function(Xe,H,t){t.d(H,{$m:function(){return S},Ku:function(){return o},VE:function(){return l},ar:function(){return h},d7:function(){return d},x9:function(){return v},zo:function(){return c}});var e=t(588376),l="magnitude",o="dataRange",d="auto",v="scatterDeprecated",S=[l,o,d],h=[{value:l,displayName:function(s){return s.get("Visual_MarkerRangeType_Magnitude")}},{value:o,displayName:function(s){return s.get("Visual_MarkerRangeType_DataRange")}},{value:d,displayName:function(s){return s.get("Visual_Auto")}}],c=(0,e.i)(h)},771711:function(Xe,H,t){t.d(H,{LS:function(){return n},OE:function(){return V},PD:function(){return s},Xw:function(){return o},YP:function(){return a},cP:function(){return S},dt:function(){return f},h6:function(){return d},kZ:function(){return r},m9:function(){return i},tf:function(){return v},uh:function(){return c},x:function(){return h},yf:function(){return u}});var e=t(973188),l=t(588376),o="circle",d="square",v="diamond",S="triangle",h="x",c="shortDash",r="longDash",s="plus",u="upperErrorBar",i="lowerErrorBar",a="none",n=o,m=[{value:o,displayName:function(C){return C.get("Visual_MarkerShape_Circle")},label:function(C){return C.get("Visual_MarkerShape_Circle_Label")}},{value:d,displayName:function(C){return C.get("Visual_MarkerShape_Square")},label:function(C){return C.get("Visual_MarkerShape_Square_Label")}},{value:v,displayName:function(C){return C.get("Visual_MarkerShape_Diamond")},label:function(C){return C.get("Visual_MarkerShape_Diamond_Label")}},{value:S,displayName:function(C){return C.get("Visual_MarkerShape_Triangle")},label:function(C){return C.get("Visual_MarkerShape_Triangle_Label")}},{value:h,displayName:function(C){return C.get("Visual_MarkerShape_X")},label:function(C){return C.get("Visual_MarkerShape_X_Label")}},{value:c,displayName:function(C){return C.get("Visual_MarkerShape_ShortDash")},label:function(C){return C.get("Visual_MarkerShape_ShortDash_Label")}},{value:r,displayName:function(C){return C.get("Visual_MarkerShape_LongDash")},label:function(C){return C.get("Visual_MarkerShape_LongDash_Label")}},{value:s,displayName:function(C){return C.get("Visual_MarkerShape_Plus")},label:function(C){return C.get("Visual_MarkerShape_Plus_Label")}}],f=(0,l.i)(m),V=(0,l.i)((0,e.__spreadArray)((0,e.__spreadArray)([],m,!0),[{value:a,displayName:function(C){return C.get("None")}}],!1))},100674:function(Xe,H,t){t.d(H,{S:function(){return o},d:function(){return l}});var e=t(588376),l=(0,e.i)([{value:0,displayName:function(v){return v.get("Visual_Grid")}},{value:1,displayName:function(v){return v.get("Slicer_Orientation_Vertical")}},{value:2,displayName:function(v){return v.get("Slicer_Orientation_Horizontal")}}]),o=(0,e.i)([{value:1,displayName:function(v){return v.get("Visual_Arrangement_Column")}},{value:2,displayName:function(v){return v.get("Visual_Arrangement_Row")}},{value:0,displayName:function(v){return v.get("Visual_Grid")}}])},25788:function(Xe,H,t){t.d(H,{BK:function(){return u},LI:function(){return v},Ob:function(){return n},RH:function(){return S},Wi:function(){return r},YP:function(){return l},b_:function(){return h},dt:function(){return m},fs:function(){return a},j0:function(){return d},mv:function(){return i},v3:function(){return c},wI:function(){return o},yo:function(){return s}});var e=t(588376),l="None",o="BottomOnly",d="TopOnly",v="LeftOnly",S="RightOnly",h="TopBottom",c="LeftRight",r="Frame";function s(f){return"number"==typeof f?!!(1&f):[d,h,r].some(function(V){return V===f})}function u(f){return"number"==typeof f?!!(2&f):[S,c,r].some(function(V){return V===f})}function i(f){return"number"==typeof f?!!(4&f):[o,h,r].some(function(V){return V===f})}function a(f){return"number"==typeof f?!!(8&f):[v,c,r].some(function(V){return V===f})}var n=(0,e.i)([{value:1,displayName:function(V){return V.get("Top")}},{value:4,displayName:function(V){return V.get("Bottom")}},{value:8,displayName:function(V){return V.get("Visual_TextAlignment_Left")}},{value:2,displayName:function(V){return V.get("Visual_TextAlignment_Right")}}]),m=(0,e.i)([{value:l,displayName:function(V){return V.get("None")}},{value:o,displayName:function(V){return V.get("Visual_Outline_bottom_only")}},{value:d,displayName:function(V){return V.get("Visual_Outline_top_only")}},{value:v,displayName:function(V){return V.get("Visual_Outline_LeftOnly")}},{value:S,displayName:function(V){return V.get("Visual_Outline_RightOnly")}},{value:h,displayName:function(V){return V.get("Visual_Outline_top_Bottom")}},{value:c,displayName:function(V){return V.get("Visual_Outline_leftRight")}},{value:r,displayName:function(V){return V.get("Visual_Outline_frame")}}])},572766:function(Xe,H,t){t.d(H,{EY:function(){return l},Ln:function(){return d},PG:function(){return v},YP:function(){return c},cO:function(){return h},dt:function(){return r},mJ:function(){return o},uz:function(){return S}});var e=t(588376),l="Wide",o="Normal",d="Narrow",v="Custom",S=6,h=12,c=20,r=(0,e.i)([{value:l,displayName:function(u){return u.get("Wide")}},{value:o,displayName:function(u){return u.get("Normal")}},{value:d,displayName:function(u){return u.get("Narrow")}},{value:v,displayName:function(u){return u.get("Custom")}}])},535903:function(Xe,H,t){t.d(H,{W$:function(){return o},dt:function(){return d}});var e=t(588376),o="front",d=(0,e.i)([{value:"back",displayName:function(S){return S.get("Visual_Reference_Line_Behind")}},{value:o,displayName:function(S){return S.get("Visual_Reference_Line_InFront")}}])},503545:function(Xe,H,t){t.d(H,{dt:function(){return d},t$:function(){return l}});var e=t(588376),l="left",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_Reference_Line_Data_Label_Left")}},{value:"right",displayName:function(S){return S.get("Visual_Reference_Line_Data_Label_Right")}}])},626714:function(Xe,H,t){t.d(H,{aE:function(){return l},dt:function(){return d}});var e=t(588376),l="above",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_Reference_Line_Data_Label_Above")}},{value:"under",displayName:function(S){return S.get("Visual_Reference_Line_Data_Label_Under")}}])},638988:function(Xe,H,t){t.d(H,{YP:function(){return d},bb:function(){return l},dt:function(){return v}});var e=t(588376),l="before",d="none",v=(0,e.i)([{value:l,displayName:function(h){return h.get("Visual_Before")}},{value:"after",displayName:function(h){return h.get("Visual_After")}},{value:d,displayName:function(h){return h.get("None")}}])},973796:function(Xe,H,t){t.d(H,{$G:function(){return n},BB:function(){return C},GA:function(){return m},J6:function(){return V},LK:function(){return S},P4:function(){return r},PN:function(){return p},YP:function(){return d},_k:function(){return f},an:function(){return c},e7:function(){return u},gQ:function(){return a},i4:function(){return h},ks:function(){return i},qQ:function(){return s}});var e=t(498342),l=t(262852),o=t(588376),d="None",S="Minutes",h="Hours",c="Days",r="Weeks",s="Calendar Weeks",u="Months",i="Calendar Months",a="Years",n="Calendar Years",m=(0,o.i)([{value:d,displayName:function(y){return y.get("Select")}},{value:c,displayName:function(y){return y.get("TimeUnit_Days")}},{value:r,displayName:function(y){return y.get("TimeUnit_Weeks")}},{value:s,displayName:function(y){return y.get("Visual_SlicerPeriod_CalWeeks")}},{value:u,displayName:function(y){return y.get("TimeUnit_Months")}},{value:i,displayName:function(y){return y.get("Visual_SlicerPeriod_CalMonths")}},{value:a,displayName:function(y){return y.get("TimeUnit_Years")}},{value:n,displayName:function(y){return y.get("Visual_SlicerPeriod_CalYears")}}]),f=(0,o.i)([{value:d,displayName:function(y){return y.get("Select")}},{value:S,displayName:function(y){return y.get("TimeUnit_Minutes")}},{value:h,displayName:function(y){return y.get("TimeUnit_Hours")}}]),V=(0,o.i)([{value:d,displayName:function(y){return y.get("Select")}},{value:c,displayName:function(y){return y.get("TimeUnit_Day")}},{value:r,displayName:function(y){return y.get("TimeUnit_Week")}},{value:u,displayName:function(y){return y.get("TimeUnit_Month")}},{value:a,displayName:function(y){return y.get("TimeUnit_Year")}}]),p=(0,o.i)([{value:d,displayName:function(y){return y.get("Select")}},{value:S,displayName:function(y){return y.get("TimeUnit_Minute")}},{value:h,displayName:function(y){return y.get("TimeUnit_Hour")}}]);function C(b){if(null==b)return null;switch(b){case l.hU.Second:return"Seconds";case l.hU.Minute:return S;case l.hU.Hour:return h;case l.hU.Day:return c;case l.hU.Week:return r;case l.hU.CalendarWeek:return s;case l.hU.Month:return u;case l.hU.CalendarMonth:return i;case l.hU.Year:return a;case l.hU.CalendarYear:return n;default:return void e.fF.assertNever(b)}}},394736:function(Xe,H,t){t.d(H,{BB:function(){return c},Vk:function(){return S},Z$:function(){return d},dt:function(){return h},lp:function(){return v}});var e=t(498342),l=t(262852),o=t(588376),d="Last",v="Next",S="This",h=(0,o.i)([{value:d,displayName:function(s){return s.get("Visual_SlicerRange_Last")}},{value:v,displayName:function(s){return s.get("Visual_SlicerRange_Next")}},{value:S,displayName:function(s){return s.get("Visual_SlicerRange_This")}}]);function c(r){if(null==r)return null;switch(r){case l.KO.Last:return d;case l.KO.Current:return S;case l.KO.Next:return v;default:return void e.fF.assertNever(r)}}},293876:function(Xe,H,t){t.d(H,{I:function(){return o},dt:function(){return d},we:function(){return l}});var e=t(588376),l="Top",o="Bottom",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Top")}},{value:o,displayName:function(S){return S.get("Bottom")}}])},754453:function(Xe,H,t){t.d(H,{Lu:function(){return c},S3:function(){return v},W3:function(){return l},ac:function(){return o},dt:function(){return s},hD:function(){return h},jH:function(){return d},rU:function(){return S},s6:function(){return r}});var e=t(588376),l="Category",o="Series",d="Tooltips",v="Value",S="albersUsa",h="equirectangular",c="mercator",r="orthographic",s=(0,e.i)([{value:S,displayName:function(i){return i.get("Visual_ShapeMap_Projection_AlbersUsa")}},{value:h,displayName:function(i){return i.get("Visual_ShapeMap_Projection_Equirectangular")}},{value:c,displayName:function(i){return i.get("Visual_ShapeMap_Projection_Mercator")}},{value:r,displayName:function(i){return i.get("Visual_ShapeMap_Projection_Orthographic")}}])},664850:function(Xe,H,t){t.d(H,{d:function(){return o},m:function(){return l}});var e=t(588376),l=function(d){return d.AccentBar="accentBar",d.Arrow="arrow",d.ArrowChevron="arrowChevron",d.ArrowPentagon="arrowPentagon",d.Heart="heart",d.Hexagon="hexagon",d.Line="line",d.Octagon="octagon",d.Oval="oval",d.Parallelogram="parallelogram",d.Pentagon="pentagon",d.Pill="pill",d.Rectangle="rectangle",d.RectangleRounded="rectangleRounded",d.RectangleRoundedByPixel="rectangleRoundedByPixel",d.TabCutCorner="tabCutCorner",d.TabCutTopCorners="tabCutTopCorners",d.TabCutTopCornersByPixel="tabCutTopCornersByPixel",d.TabRoundCorner="tabRoundCorner",d.TabRoundTopCorners="tabRoundTopCorners",d.Speechbubble="speechbubbleRectangle",d.Trapezoid="trapezoid",d.TriangleIsoc="triangleIsoc",d.TriangleRight="triangleRight",d}({}),o=(0,e.i)([{value:l.Arrow,displayName:function(v){return v.get("ReportAppBar_ShapeArrow")}},{value:l.ArrowChevron,displayName:function(v){return v.get("Visual_Shape_ArrowChevron")}},{value:l.ArrowPentagon,displayName:function(v){return v.get("Visual_Shape_ArrowPentagon")}},{value:l.Heart,displayName:function(v){return v.get("Visual_Shape_Heart")}},{value:l.Hexagon,displayName:function(v){return v.get("Visual_Shape_Hexagon")}},{value:l.Line,displayName:function(v){return v.get("Visual_Shape_Line")}},{value:l.Octagon,displayName:function(v){return v.get("Visual_Shape_Octagon")}},{value:l.Oval,displayName:function(v){return v.get("ReportAppBar_ShapeOval")}},{value:l.Parallelogram,displayName:function(v){return v.get("Visual_Shape_Parallelogram")}},{value:l.Pentagon,displayName:function(v){return v.get("Visual_Shape_Pentagon")}},{value:l.Pill,displayName:function(v){return v.get("Visual_Shape_Pill")}},{value:l.Rectangle,displayName:function(v){return v.get("ReportAppBar_ShapeRectangle")}},{value:l.RectangleRounded,displayName:function(v){return v.get("Visual_Shape_RectangleRounded")}},{value:l.RectangleRoundedByPixel,displayName:function(v){return v.get("Visual_Shape_RectangleRounded")}},{value:l.TabCutCorner,displayName:function(v){return v.get("Visual_Shape_TabCutCorner")}},{value:l.TabCutTopCorners,displayName:function(v){return v.get("Visual_Shape_TabCutTopCorners")}},{value:l.TabCutTopCornersByPixel,displayName:function(v){return v.get("Visual_Shape_TabCutTopCorners")}},{value:l.TabRoundCorner,displayName:function(v){return v.get("Visual_Shape_TabRoundCorner")}},{value:l.TabRoundTopCorners,displayName:function(v){return v.get("Visual_Shape_TabRoundTopCorners")}},{value:l.Speechbubble,displayName:function(v){return v.get("Visual_Shape_SpeechBubble")}},{value:l.Trapezoid,displayName:function(v){return v.get("Visual_Shape_Trapezoid")}},{value:l.TriangleIsoc,displayName:function(v){return v.get("Visual_Shape_TriangleIsoc")}},{value:l.TriangleRight,displayName:function(v){return v.get("Visual_Shape_TriangleRight")}}])},327901:function(Xe,H,t){t.d(H,{Ek:function(){return p},G5:function(){return V},GV:function(){return u},Ih:function(){return a},K8:function(){return r},Lw:function(){return f},RB:function(){return h},Zr:function(){return s},bb:function(){return d},dt:function(){return n},e4:function(){return v},j6:function(){return c},l6:function(){return m},nW:function(){return C},of:function(){return i},vX:function(){return S}});var e=t(498342),l=t(262852),o=t(588376),d="Before",v="After",S="Between",h="Basic",c="Dropdown",r="Relative",s="Single",u="RelativeTime",i="HorizontalList",a="VerticalList",n=(0,o.i)([{value:a,displayName:function(y){return y.get("Visual_SliderMode_VerticalList")}},{value:i,displayName:function(y){return y.get("Tile_Generic")}},{value:S,displayName:function(y){return y.get("Visual_SliderMode_Between")}},{value:d,displayName:function(y){return y.get("Visual_Before")}},{value:v,displayName:function(y){return y.get("Visual_After")}},{value:h,displayName:function(y){return y.get("Visual_SliderMode_Basic")}},{value:c,displayName:function(y){return y.get("Visual_SliderMode_Dropdown")}},{value:r,displayName:function(y){return y.get("Visual_SliderMode_RelativeDate")}},{value:s,displayName:function(y){return y.get("Visual_SliderMode_SingleVal")}},{value:u,displayName:function(y){return y.get("Visual_SliderMode_RelativeTime")}}]);function m(b){return b===d||b===S||b===v||b===s}function f(b){return b===d||b===S||b===v}function V(b){return b===r||b===u}function p(b){return b===h||b===c}function C(b){switch(b){case u:return l.wj.Time;case r:return l.wj.Date;default:e.fF.assertFail("The following slicer mode is not a relative filter: ".concat(b))}}},994490:function(Xe,H,t){t.d(H,{d:function(){return l}});var l=(0,t(588376).i)([{value:0,displayName:function(d){return d.get("Slicer_Orientation_Vertical")}},{value:1,displayName:function(d){return d.get("Slicer_Orientation_Horizontal")}}])},17469:function(Xe,H,t){t.d(H,{d7:function(){return l},dt:function(){return d}});var e=t(588376),l="auto",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_Auto")}},{value:"custom",displayName:function(S){return S.get("Custom")}}])},876809:function(Xe,H,t){t.d(H,{$Q:function(){return o},dt:function(){return d},jv:function(){return l}});var e=t(588376),l="line",o="column",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Visual_Shape_Line")}},{value:o,displayName:function(S){return S.get("Column")}}])},319113:function(Xe,H,t){t.d(H,{$6:function(){return l},O3:function(){return d},Ps:function(){return v},Z$:function(){return S},Zc:function(){return o},dt:function(){return r},pd:function(){return h},qC:function(){return c}});var e=t(588376),l=1,o=2,d=4,v=8,S=16,h=32,c=128,r=(0,e.i)([{value:l,displayName:function(u){return u.get("Sparkline_Formatting_MarkerType_All")}},{value:o,displayName:function(u){return u.get("Sparkline_Formatting_MarkerType_Highest")}},{value:d,displayName:function(u){return u.get("Sparkline_Formatting_MarkerType_Lowest")}},{value:v,displayName:function(u){return u.get("Sparkline_Formatting_MarkerType_First")}},{value:S,displayName:function(u){return u.get("Sparkline_Formatting_MarkerType_Last")}},{value:h,displayName:function(u){return u.get("Sparkline_Formatting_MarkerType_Negative")}},{value:c,displayName:function(u){return u.get("Sparkline_Formatting_MarkerType_Isolated")}}])},334824:function(Xe,H,t){t.d(H,{Ai:function(){return d},GA:function(){return r},K2:function(){return S},R5:function(){return l},TB:function(){return o},UQ:function(){return v},dt:function(){return s},mH:function(){return c},tY:function(){return h}});var e=t(588376),l="bottomLeft",o="bottomRight",d="rightDown",v="rightUp",S="topRight",h="topLeft",c="leftUp",r="leftDown",s=(0,e.i)([{value:l,displayName:function(i){return i.get("Visual_LabelPosition_BottomLeft")}},{value:o,displayName:function(i){return i.get("Visual_LabelPosition_BottomRight")}},{value:d,displayName:function(i){return i.get("Visual_Shape_ChatPosition_RightDown")}},{value:v,displayName:function(i){return i.get("Visual_Shape_ChatPosition_RightUp")}},{value:S,displayName:function(i){return i.get("Visual_LabelPosition_TopRight")}},{value:h,displayName:function(i){return i.get("Visual_LabelPosition_TopLeft")}},{value:c,displayName:function(i){return i.get("Visual_Shape_ChatPosition_LeftUp")}},{value:r,displayName:function(i){return i.get("Visual_Shape_ChatPosition_LeftDown")}}])},983207:function(Xe,H,t){t.d(H,{Bo:function(){return h},G:function(){return S},M4:function(){return o},S$:function(){return m},S9:function(){return v},Ss:function(){return r},Wl:function(){return i},X9:function(){return a},Xl:function(){return s},dt:function(){return f},ei:function(){return u},fC:function(){return l},p8:function(){return d},r5:function(){return n},sp:function(){return c}});var e=t(588376),l="australia.states.topo",o="austria.states.topo",d="brazil.states.topo",v="canada.provinces.topo",S="france.regions.v2.topo",h="germany.states.topo",c="ireland.counties.v2.topo",r="italy.regions.topo",s="mexico.states.topo",u="netherlands.provinces.topo",i="uk.countries.topo",a="usa.states.topo",n="france.regions.topo",m="ireland.counties.topo",f=(0,e.i)([{value:l,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_AustraliaStates")}},{value:o,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_AustriaStates")}},{value:d,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_BrazilStates")}},{value:v,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_CanadaProvinces")}},{value:S,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_FranceRegions")}},{value:n,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_FranceRegionsOld")}},{value:h,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_GermanyStates")}},{value:c,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_IrelandCounties")}},{value:m,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_IrelandCountiesOld")}},{value:r,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_ItalyRegions")}},{value:s,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_MexicoStates")}},{value:u,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_NetherlandsProvinces")}},{value:i,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_UkCountries")}},{value:a,displayName:function(p){return p.get("Visual_ShapeMap_StandardMaps_UsaStates")}}])},895404:function(Xe,H,t){t.d(H,{LS:function(){return v},NM:function(){return o},dt:function(){return S}});var e=t(588376),o="round",v=o,S=(0,e.i)([{value:"miter",displayName:function(c){return c.get("Visual_StrokeLineJoin_Miter")}},{value:o,displayName:function(c){return c.get("Visual_StrokeLineJoin_Round")}},{value:"bevel",displayName:function(c){return c.get("Visual_StrokeLineJoin_Bevel")}}])},434906:function(Xe,H,t){t.d(H,{F2:function(){return v},be:function(){return d},d7:function(){return l},dt:function(){return S},t$:function(){return o}});var e=t(588376),l="Auto",o="Left",d="Center",v="Right",S=(0,e.i)([{value:l,displayName:function(c){return c.get("Visual_TextAlignment_Auto")}},{value:o,displayName:function(c){return c.get("Visual_TextAlignment_Left")}},{value:d,displayName:function(c){return c.get("Visual_TextAlignment_Center")}},{value:v,displayName:function(c){return c.get("Visual_TextAlignment_Right")}}])},874186:function(Xe,H,t){t.d(H,{D:function(){return l}});var l=(0,t(588376).i)([{value:"Series name",displayName:function(d){return d.get("Visual_Label_TitleLabelContent_SeriesName")}},{value:"Custom",displayName:function(d){return d.get("Custom")}}])},126199:function(Xe,H,t){t.d(H,{cy:function(){return s},dt:function(){return r}});var e=t(588376),l=t(498342),r=(0,e.i)([{value:"Normal",displayName:function(a){return a.get("Normal")}},{value:"Heading2",displayName:function(a){return a.get("Heading_2")}},{value:"Heading3",displayName:function(a){return a.get("Heading_3")}},{value:"Heading4",displayName:function(a){return a.get("Heading_4")}},{value:"Heading5",displayName:function(a){return a.get("Heading_5")}},{value:"Heading6",displayName:function(a){return a.get("Heading_6")}}]);function s(i){switch(i){case"Normal":return"p";case"Heading2":return"h2";case"Heading3":return"h3";case"Heading4":return"h4";case"Heading5":return"h5";case"Heading6":return"h6";default:return l.fF.assertNever(i),"p"}}},222029:function(Xe,H,t){t.d(H,{I:function(){return o},dt:function(){return d},we:function(){return l}});var e=t(588376),l="top",o="bottom",d=(0,e.i)([{value:l,displayName:function(S){return S.get("Top")}},{value:o,displayName:function(S){return S.get("Bottom")}}])},508903:function(Xe,H,t){t.d(H,{EH:function(){return u},F3:function(){return a},Kx:function(){return h},Ok:function(){return i},RB:function(){return r},XZ:function(){return S},cB:function(){return m},cp:function(){return o},dx:function(){return v},nM:function(){return c},s0:function(){return n},tO:function(){return s},tV:function(){return d}});var e=t(102794),l=t(366769),o=l.Wn.regular.css,d=function(f){return f[f.Top=0]="Top",f[f.Bottom=1]="Bottom",f[f.Right=2]="Right",f[f.Left=3]="Left",f[f.None=4]="None",f[f.TopCenter=5]="TopCenter",f[f.BottomCenter=6]="BottomCenter",f[f.RightCenter=7]="RightCenter",f[f.LeftCenter=8]="LeftCenter",f[f.TopRight=9]="TopRight",f[f.BottomRight=10]="BottomRight",f}({});function v(f){return!f||null==f.show||f.show}function S(f){var V=f.family===o;return(0,e.ED)(f,{family:V?l.Wn.semibold.css:void 0,weight:V?void 0:"bold"})}function h(f){switch(f){case d.Bottom:case d.BottomCenter:case d.BottomRight:return!0;default:return!1}}function c(f){switch(f){case d.Left:case d.LeftCenter:return!0;default:return!1}}function r(f){switch(f){case d.Top:case d.TopCenter:case d.TopRight:return!0;default:return!1}}function s(f){switch(f){case d.Right:case d.RightCenter:return!0;default:return!1}}function u(f){switch(f){case d.BottomCenter:case d.LeftCenter:case d.RightCenter:case d.TopCenter:return!0;default:return!1}}function i(f){switch(f){case d.TopRight:case d.BottomRight:return!0;default:return!1}}function a(f){switch(f){case d.Top:case d.Bottom:return!0;default:return!1}}function n(f){return r(f)||h(f)}function m(f){return c(f)||s(f)}},625521:function(Xe,H,t){t.d(H,{$B:function(){return ee},C_:function(){return T},Dm:function(){return n},Dr:function(){return F},EN:function(){return u},EY:function(){return V},El:function(){return le},Fy:function(){return O},GU:function(){return Ee},Gh:function(){return d},IX:function(){return M},JG:function(){return x},L$:function(){return C},MX:function(){return m},Mk:function(){return E},Sm:function(){return ie},TH:function(){return a},TS:function(){return P},Tr:function(){return A},U9:function(){return he},VS:function(){return re},Vt:function(){return q},W0:function(){return g},Yx:function(){return N},_7:function(){return W},aV:function(){return v},aj:function(){return j},e:function(){return L},er:function(){return B},fi:function(){return s},fk:function(){return w},iB:function(){return Je},ij:function(){return Y},lC:function(){return R},ni:function(){return D},ox:function(){return Ne},p7:function(){return y},pi:function(){return G},pj:function(){return Ye},rO:function(){return f},s2:function(){return i},tb:function(){return _e},v3:function(){return c},we:function(){return b},x7:function(){return r},x8:function(){return me},zC:function(){return I},zI:function(){return S},zX:function(){return U}});var e=t(973188),l=t(498342),d=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"NoValidGeotaggedCategory"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("NoValidGeotaggedCategoryMessage"),title:fe.get("NoValidGeotaggedCategoryKey"),detail:fe.get("NoValidGeotaggedCategoryValue")}},pe}(),v=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"InvalidGeocodingCulture"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("Visual_MapGeocodingCultureInvalid_Message"),title:fe.get("Visual_MapGeocodingCultureInvalid_Key"),detail:fe.get("Visual_MapGeocodingCultureInvalid_Value")}},pe}(),S=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"InvalidLatLong"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("InvalidLatLongMessage"),title:fe.get("InvalidLatLongKey"),detail:fe.get("InvalidLatLongValue")}},pe}(),c=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"NegativeValuesNotSupported"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_NegativeValues"),title:"",detail:""}},pe}(),r=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"ModifiedLabelValueWarning"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_ModifiedLabelValue"),title:"",detail:""}},pe}(),s=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AllNegativeValuesNotSupported"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_AllNegativeValues"),title:"",detail:""}},pe}(),u=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"NaNNotSupported"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_NanValues"),title:"",detail:""}},pe}(),i=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"InfinityValuesNotSupported"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_InfinityValues"),title:"",detail:""}},pe}(),a=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"ValuesOutOfRange"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_VisualizationOutOfRange"),title:"",detail:""}},pe}(),n=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"InvalidAxisRange"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="VisualWarning_InvalidAxisRange";return{message:fe.get(oe),title:fe.get(oe),detail:""}},pe}(),m=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"ZeroValuesNotSupported"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="VisualWarning_ZeroValues";return{message:fe.get(oe),title:fe.get("VisualWarning_ZeroValuesTitle"),detail:fe.get(oe)}},pe}(),f=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AlignZerosWithCustomDomain"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="VisualWarning_AlignZerosWithCustomDomain";return{message:fe.get(oe),title:fe.get("VisualWarning_AlignZerosWithCustomDomainTitle"),detail:fe.get(oe)}},pe}(),V=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"VisualKPIDataMissing"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("Visual_KPI_DataMissing"),title:"",detail:""}},pe}(),C=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"DateSlicerNoData"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("VisualWarning_DateSlicerNoData"),title:"",detail:""}},pe}(),b=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"DataLabelsNotRendered"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="DataLabelsNotRenderedMessage";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("DataLabelsNotRenderedValue")}},pe}(),y=function(){function pe(fe){this.propertyName=fe}return Object.defineProperty(pe.prototype,"code",{get:function(){return"LegendFontSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_LegendFontSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_LegendFontSize")}},pe}(),D=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"LegendNotRendered"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_LegendNotRendered";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_LegendNotRendered")}},pe}(),P=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"LegendLocation"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_LegendLocation";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_LegendLocation")}},pe}(),F=function(){function pe(fe){this.propertyName=fe}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AxisFontSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_AxisFontSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_AxisFontSize")}},pe}(),E=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AxisAndAxisLabelsNotRendered"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_AxisNotRendered";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_AxisNotRendered")}},pe}(),w=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AxisLabelsNotRendered"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_AxisLabelNotRendered";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_AxisLabelNotRendered")}},pe}(),x=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"ZoomSlidersNotRendered"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_ZoomSlidersNotRendered";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_ZoomSlidersNotRendered")}},pe}(),R=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"SmallMultiplesSubheaderNotRendered"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersNotRendered";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersNotRendered")}},pe}(),g=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"SmallMultiplesSubheaderFontSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_SmallMultiplesSubheadersFontSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesSubheadersFontSize")}},pe}(),L=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"SmallMultiplesPaddingSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_SmallMultiplesPaddingSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesPaddingSize")}},pe}(),M=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"SmallMultiplesGridlinesSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_SmallMultiplesGridlinesSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_SmallMultiplesGridlinesSize")}},pe}(),T=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"SlicerHeaderNotRendered"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_SlicerHeaderNotRendered";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_SlicerHeaderNotRendered")}},pe}(),O=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"SlicerHeaderFontSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_SlicerHeaderFontSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_SlicerHeaderFontSize")}},pe}(),N=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"HorizontalSlicerFontSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_HorizontalSlicerFontSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_HorizontalSlicerFontSize")}},pe}(),A=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return pe.code},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="NoIdentityExprMessage";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("NoIdentityExprValue")}},pe.code="NoIdentityExprWarning",pe}(),I=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return pe.code},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("Visual_Error_SelectionNotShownMessage"),title:fe.get("Visual_Error_SelectionNotShownKey"),detail:fe.get("Visual_Error_SelectionNotShownValue")}},pe.code="OnRestoreSelectionNotSupportedWarning",pe}(),B=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"DataLabelsFontSize"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){var oe="Visual_ResponsiveWarningMessage_DataLabelsFontSize";return{message:fe.get(oe),title:fe.get(oe),detail:fe.get("Visual_ResponsiveWarningValue_DataLabelsFontSize")}},pe}(),U=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AzureMapsInvalidLatLong"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("InvalidLatLongMessage"),title:fe.get("InvalidLatLongKey"),detail:fe.get("AzureMapsInvalidLatLongValue")}},pe}(),W=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AzureMapsControlLoad"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("AzureMapsControlLoadMessage"),title:fe.get("AzureMapsControlLoadTitle"),detail:fe.get("AzureMapsControlLoadDetail")}},pe}(),j=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AzureMapsBrowserUnsupported"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("AzureMapsBrowserUnsupportedMessage"),title:fe.get("AzureMapsBrowserUnsupportedTitle"),detail:fe.get("AzureMapsBrowserUnsupportedDetail")}},pe}(),K=function(){function pe(){}return pe.prototype.getMessages=function(fe,oe,ye,Ce){return{message:oe&&fe.get(oe),title:ye&&fe.get(ye),detail:Ce&&fe.get(Ce)}},pe}(),ee=function(pe){function fe(){return null!==pe&&pe.apply(this,arguments)||this}return(0,e.__extends)(fe,pe),Object.defineProperty(fe.prototype,"code",{get:function(){return"AzureMapsFileRead"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(oe){return pe.prototype.getMessages.call(this,oe,"AzureMapsFileReadMessage","AzureMapsFileReadTitle","AzureMapsFileReadDetail")},fe}(K),ie=function(pe){function fe(){return null!==pe&&pe.apply(this,arguments)||this}return(0,e.__extends)(fe,pe),Object.defineProperty(fe.prototype,"code",{get:function(){return"AzureMapsFilledMapData"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(oe){return pe.prototype.getMessages.call(this,oe,"AzureMapsFilledMapDataMessage","AzureMapsFilledMapDataTitle","AzureMapsFilledMapDataDetail")},fe}(K),he=function(pe){function fe(){return null!==pe&&pe.apply(this,arguments)||this}return(0,e.__extends)(fe,pe),Object.defineProperty(fe.prototype,"code",{get:function(){return"UndefinedToken"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(oe){return pe.prototype.getMessages.call(this,oe,"AzureMapsRequestErrorTitle",void 0,void 0)},fe}(K),q=function(pe){function fe(){return null!==pe&&pe.apply(this,arguments)||this}return(0,e.__extends)(fe,pe),Object.defineProperty(fe.prototype,"code",{get:function(){return"UnrecognizedCode"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(oe){return pe.prototype.getMessages.call(this,oe,"AzureMapsRequestErrorTitle",void 0,void 0)},fe}(K),Y=function(pe){function fe(){return null!==pe&&pe.apply(this,arguments)||this}return(0,e.__extends)(fe,pe),Object.defineProperty(fe.prototype,"code",{get:function(){return"RequestError"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(oe){return pe.prototype.getMessages.call(this,oe,"AzureMapsRequestErrorTitle",void 0,void 0)},fe}(K),G=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"ShapeMapBoundsFailure"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("ShapeMapBoundsMessage"),title:fe.get("ShapeMapBoundsitle"),detail:fe.get("ShapeMapBoundsDetail")}},pe}(),me=function(pe){function fe(){return null!==pe&&pe.apply(this,arguments)||this}return(0,e.__extends)(fe,pe),Object.defineProperty(fe.prototype,"code",{get:function(){return"AzureMapsSetCamera"},enumerable:!1,configurable:!0}),fe.prototype.getMessages=function(oe){return pe.prototype.getMessages.call(this,oe,"AzureMapsSetCameraTitle","AzureMapsSetCameraTitle","AzureMapsSetCameraDetail")},fe}(K),re=function(){function pe(fe,oe,ye){this.titleKey=oe,this.detailKey=ye,this._code=fe}return Object.defineProperty(pe.prototype,"code",{get:function(){return this._code},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:this.titleKey,title:this.titleKey,detail:this.detailKey}},pe}(),le=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"SparklineDataCountExceeded"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("Sparkline_Visual_DataWarning"),title:"",detail:""}},pe}(),Ee=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AINarrativesConsumerDataReductionWarning"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_ConsumerDataReductionWarning"),title:"",detail:""}},pe}(),Ne=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AINarrativesAuthorDataReductionWarning"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_AuthorDataReductionWarning"),title:"",detail:""}},pe}(),Ye=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AINarrativesConsumerLLMLimitWarning"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_ConsumerLLMLimitWarning"),title:"",detail:""}},pe}(),Je=function(){function pe(){}return Object.defineProperty(pe.prototype,"code",{get:function(){return"AINarrativesAuthorLLMLimitWarning"},enumerable:!1,configurable:!0}),pe.prototype.getMessages=function(fe){return{message:fe.get("AINarrativesVisual_AuthorLLMLimitWarning"),title:"",detail:""}},pe}(),_e=function(){function pe(){}return pe.prototype.add=function(){for(var fe,oe=[],ye=0;ye<arguments.length;ye++)oe[ye]=arguments[ye];return l.fF.assertValue(oe,"warnings"),this.warnings||(this.warnings=[]),(fe=this.warnings).push.apply(fe,oe||[]),this},pe.prototype.addForVisualObject=function(fe){for(var oe=[],ye=1;ye<arguments.length;ye++)oe[ye-1]=arguments[ye];l.fF.assertValue(fe,"objectName"),l.fF.assertValue(oe,"objectWarning"),this.visualObjectWarnings||(this.visualObjectWarnings={});var Ce=this.visualObjectWarnings[fe]=this.visualObjectWarnings[fe]||[];return Ce.push.apply(Ce,oe||[]),this},pe.prototype.removeForVisualObject=function(fe){return this.visualObjectWarnings&&(this.visualObjectWarnings[fe]=void 0),this},pe.prototype.complete=function(){if(!_.isEmpty(this.warnings)||null!=this.visualObjectWarnings)return{warnings:this.warnings,visualObjectWarnings:this.visualObjectWarnings}},pe}()},513043:function(Xe,H,t){t.d(H,{Aa4:function(){return ca},BQZ:function(){return ka},BzC:function(){return ta},Dyo:function(){return q},FPM:function(){return Fi},Fjb:function(){return oe},GHz:function(){return qi},Go5:function(){return Fa},Grw:function(){return w},HnK:function(){return la},Iqw:function(){return vi},LtN:function(){return oa},M4y:function(){return pe},MSF:function(){return na},NKh:function(){return ea},NSv:function(){return Ti},O_c:function(){return i},P32:function(){return fi},Rm8:function(){return Ce},Trq:function(){return wa},WDM:function(){return Ma},_gT:function(){return ye},aqt:function(){return g},dzr:function(){return Ii},eqJ:function(){return xa},ey2:function(){return y},flv:function(){return R},fm1:function(){return m},gv0:function(){return re},gvl:function(){return Ta},j$j:function(){return Vi},jbo:function(){return Ra},k4V:function(){return zi},oiJ:function(){return Ia},pMZ:function(){return e},pn4:function(){return Pa},rbA:function(){return Ea},rte:function(){return Bi},tyL:function(){return _e},ueG:function(){return aa},vXN:function(){return ra},voY:function(){return da},xMU:function(){return fe},xaj:function(){return $r},yGN:function(){return Li},ySc:function(){return ia}});var e="actualOpenTile",i="dashboardContainerLoaded",m="me",y="openTile",w="updateTileHref",R="removeDashboardTileError",g="rowLevelSecurityAccessDenied",q="refreshTileData",re="populateDashboardWithReportTiles",_e="contentPackDirty",pe="loadDashboardFailed",fe="Report",oe="Dashboard",ye="NavModel",Ce="3621b8c8-250a-4f7f-82f0-0aa5064e7c02",la="; ",qi="browserLanguage",ea="PowerBIUserQuotaExceeded",ta="PowerBIGroupQuotaExceeded",Ii=5,zi=260,fi="OverwriteNonLocalPackageWithLocalFileError",Ti="InformationProtectionInsufficientUsageRights",ra="ReportWithDisplayNameForTheModelExists",vi="MoreThanOneDuplicateReportFoundError",ia="ReplaceOriginalReportForPowerBICompanionNotSupported",Ea="PowerBIModelNotFoundException",Pa="MipClientUnauthorizedUser",Ma="MissingMandatorySensitivityLabelException",aa="ModelDiagramLayoutSizeTooBig",Ta={type:4,name:"updateUrlAndAcquireApp"},Fa="dismissed",wa="clicked",Fi=9e6,na=216e5,xa="https://go.microsoft.com/fwlink/?linkid=844603",ka="pbi-glyph-my-apps",ca="pbi-glyph-gauge",Li="pbi-glyph-barchart",oa="pbi-glyph-rdl-report",da="pbi-glyph-database",Vi="pbi-glyph-collections",Bi="pbi-glyph-rocket",Ra="pbi-glyph-trophy2",$r=200,Ia={InformationProtectionPublishingProtectedPbixFromCloudNotSupported:{errorMessage:"EimInformationProtection_PublishingProtectedPbixIsNotSupportedFromCloud_Message",buttonText:"PBI_Button_Label_Close"},InformationProtectionInsufficientUsageRights:{errorMessage:"UploadLocalFile_InformationProtectionInsufficientUsageRightsError",buttonText:void 0},MipClientUnauthorizedUser:{errorMessage:"EimInformationProtection_UnauthorizedToThisProtectedPbix_DialogMessage",buttonText:void 0}}},202570:function(Xe,H,t){function e(o,d,v){d.emailValidationError=d.emailValidationWarning="",d.showSecurityGroupUpgradeAccount=!1;var S=o.promiseFactory.defer();return o.domainHelperService.getVerifiedDomains().then(function(h){var c={},r={},s=null,u="",i=0,a=0,n=o.licenseEnforcementService.supportsGroups();if(d&&d.emailsList){var m=d.emailsList.inputUserList,f=v.maxNumberOfEmailsAllowedAtATime;f>0&&m.length>f&&(d.emailValidationError=o.localizationService.format("MaxOneTimeEmailCountReached",[f]),s=2,u="User entered ".concat(m.length," email addresses"));for(var V=!1,p=0,C=m;p<C.length;p++){var b=C[p];if(b.userPrincipalName){var D=b.userPrincipalName.split("@")[1].toLowerCase();h.verifiedDomains[D.toUpperCase()]||(c[D]=D,i++),h.blockedDomains[D.toUpperCase()]&&(r[D]=D,a++)}b.isSecurityGroup&&!n&&(V=!0)}var P="",F=0;for(var E in c)F++,P+=E+", ";var w="",x=0;for(var R in r)x++,w+=R+", ";V&&(d.showSecurityGroupUpgradeAccount=!0),_.endsWith(P,", ")&&(P=P.substring(0,P.length-2)),_.endsWith(w,", ")&&(w=w.substring(0,w.length-2)),!v.disableExternalSharingValidationForEmailSubscriptions&&!o.featureSwitchService.featureSwitches.externalSharingEnabled&&F>0?(d.emailValidationError=o.localizationService.format("Sharing_ExternalSharingDisabled"),s=0,u=P):!v.disableExternalSharingValidationForEmailSubscriptions&&v.shouldBlockExternalDomains&&F>0?(d.emailValidationError=o.localizationService.format("Sharing_EmailDomainNotInTenant"),s=0,u=P):v.shouldBlockConsumerDomains&&x>0?(d.emailValidationError=o.localizationService.format("Sharing_BlockedDomains",[w]),s=1,u=w):F>0&&(d.emailValidationWarning=o.localizationService.format("Sharing_ExternalOrganization",[P]))}_.isEmpty(d.emailValidationError)?S.resolve({externalEmailCount:i,consumerEmailCount:a}):S.reject({errorReason:u,errorType:s})},function(h){S.reject(null)}),S.promise}function l(o){return new RegExp("^([!#$%&'*+/=?^{|}~\\w\\-\\.\\u00c0-\\uffff]{1,64}@[\\w\\-\\.\\u00c0-\\uffff]{1,253}\\.\\w{1,63})$").test(o)}t.d(H,{X:function(){return l},r:function(){return e}})},186743:function(Xe,H,t){t.d(H,{Y:function(){return l},n:function(){return o}});var e=t(498342);function l(){return[{id:0,iconClass:"pbi-glyph-barchart",labelResource:"Role_DisplayName_Fields"},{id:1,iconClass:"pbi-glyph-paintbrush",labelResource:"Format"}]}function o(d,v){e.fF.assertValue(d,"createOptions");var S=d.localizationService;return[{iconClass:"pbi-glyph-securityalert",show:d.showWebContent,itemClass:"webContentIcon",tooltip:function(){return S.get("WebContentWarning_Widget")},action:2,hasBadge:!1},{iconClass:"pbi-glyph-warning",show:d.showWarning,itemClass:v?"showWarningIcon":"warningIcon",tooltip:d.warningToolTipSetter,action:1,hasBadge:!1},{iconClass:"pbi-glyph-bell",show:d.showNotifications,itemClass:"notifications",tooltip:function(){return S.get("Alerts_NotificationTooltip")},action:0,badgeValueSetter:d.badgeTextSetter,hasBadge:!0},{iconClass:"pbi-glyph-realtime",show:d.showRealTime,itemClass:"",tooltip:function(){return S.get("Realtime_IconHoverText")},hasBadge:!1}]}},693146:function(Xe,H,t){t.d(H,{P:function(){return e}});var e=function(){return function(o){this.contract=o}}()},901616:function(Xe,H,t){t.d(H,{Q:function(){return C}});var e=t(973188),l=t(353287),o=t(276510),d=t(709272),v=t(957240),S=t(227871),h=t(498342),c=t(781322),r=t(805659),s=t(360964),u=t(664837),i=t(344029),a=t(25138);function C(P,F,E,w,x,R){return new b(P,F,E,w,x,R)}var b=function(){function P(F,E,w,x,R,g){var L=this;this.asyncFeatureSwitchService=F,this.promiseFactory=E,this.resourceLoader=w,this.telemetryService=x,this.options=R,this.publicCustomVisualService=g,this.storage=new u.ZM;var M=y(!0,2,!1),T=y(!0,4,!0),O=y(!1,3,!0);this.properties={cardSmallViewportProperties:{cardSmallViewportWidth:M},textboxSmallViewportProperties:{minWidthToScaleFontSize:T,minHeightToScaleFontSize:O}},this.initBuiltInPlugins=this.asyncFeatureSwitchService.getFeatureSwitches().then(function(N){for(var A in S.L)L.storage.loadPlugin(A,D(A,L.options,L.properties,N))})}return P.prototype.ensureBuiltInPlugins=function(){return this.initBuiltInPlugins},P.prototype.getVisuals=function(){return this.storage.getLoadedPlugins()},P.prototype.ensureTrustedVisualPlugins=function(F){(0,u.Os)(this.storage,F)},P.prototype.ensurePlugins=function(F,E){h.fF.assertValue(this.promiseFactory,"promiseFactory");var w=[];if(F&&F.length)for(var x=0,R=F;x<R.length;x++){var g=R[x];(0,a.JZ)(g)&&w.push(this.ensurePlugin(g,!1))}return this.promiseFactory.allSettled(w)},P.prototype.ensurePlugin=function(F,E){var w=this;return this.asyncFeatureSwitchService.getFeatureSwitches().then(function(x){return x.consumePublicCvsWithoutRps?w.publicCustomVisualService.getPublicVisualTypes([F.name]).then(function(R){return F.name!==R[0]||F.isPublic?(0,u.wl)(w.storage,w.promiseFactory,w.resourceLoader,F,!1,w.telemetryService):w.promiseFactory.resolve()}):(0,u.wl)(w.storage,w.promiseFactory,w.resourceLoader,F,!1,w.telemetryService)})},P.prototype.getPlugin=function(F){var E=this.storage.getLoadedPlugin(F);return!E&&S.L[F]&&(this.storage.loadPlugin(F,D(F,this.options,this.properties,this.asyncFeatureSwitchService.featureSwitches)),E=this.storage.getLoadedPlugin(F)),E},P.prototype.capabilities=function(F){var E=this.getPlugin(F);return E?E.capabilities:void 0},P.prototype.isCustomVisual=function(F){return(0,s.vh)(this.getPlugin(F),F)},P.prototype.getInteractivityOptions=function(){return{overflow:"hidden",isVisualInteractive:!1}},P.prototype.getTelemetryHostInformation=function(){return{name:"Dashboard"}},P.prototype.isScriptVisual=function(F){return(0,s.ww)(this.getPlugin(F))},P.prototype.isScriptVisualQueryable=function(F){return(0,s.Se)(F,this.asyncFeatureSwitchService.featureSwitches)},P.prototype.isLightWeightRenderingVisual=function(F){return(0,s.vt)(this.getPlugin(F))},P.prototype.getStorage=function(){return this.storage},P}();function y(P,F,E){var x=0;return E&&(x=P?20:8),(P?l.I:l.Zg)*F+2*l.lV*(F-1)-x-(P?0:42)}function D(P,F,E,w){var x=this,R=F.tooltipsEnabled;w=w?_.clone(w):{};var g=S.L,L=function(){throw new Error("dashboardVisualPluginService: 'Create' function is deprecated")};switch(P){case S.L.barChart.name:return(0,i.i8)(S.L.barChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return M=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return T=O.sent().ColumnChartAnimator,[2,new M({chartType:6,tooltipsEnabled:R,animator:new T({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.clusteredBarChart.name:return(0,i.i8)(S.L.clusteredBarChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return M=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return T=O.sent().ColumnChartAnimator,[2,new M({chartType:5,tooltipsEnabled:R,animator:new T({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.clusteredColumnChart.name:return(0,i.i8)(S.L.clusteredColumnChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return M=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return T=O.sent().ColumnChartAnimator,[2,new M({chartType:3,tooltipsEnabled:R,animator:new T({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.columnChart.name:return(0,i.i8)(S.L.columnChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return M=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return T=O.sent().ColumnChartAnimator,[2,new M({chartType:4,tooltipsEnabled:R,animator:new T({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.donutChart.name:return(0,i.i8)(S.L.donutChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("donutChart").then(t.bind(t,218539))];case 1:return[2,new(0,T.sent().DonutChart)({tooltipsEnabled:R})]}})})});case S.L.funnel.name:return(0,i.i8)(S.L.funnel,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("funnelChart").then(t.bind(t,583720))];case 1:return[2,new(0,T.sent().FunnelChart)({tooltipsEnabled:R})]}})})});case S.L.gauge.name:return(0,i.i8)(S.L.gauge,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("gauge").then(t.bind(t,143339))];case 1:return[2,new(0,T.sent().Gauge)({animator:new o.r5,tooltipsEnabled:R},w)]}})})});case S.L.hundredPercentStackedBarChart.name:return(0,i.i8)(S.L.hundredPercentStackedBarChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:7,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.hundredPercentStackedColumnChart.name:return(0,i.i8)(S.L.hundredPercentStackedColumnChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:8,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.lineChart.name:return(0,i.i8)(S.L.lineChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:0,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.areaChart.name:return(0,i.i8)(S.L.areaChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:1,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.stackedAreaChart.name:return(0,i.i8)(S.L.stackedAreaChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:2,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.lineClusteredColumnComboChart.name:return(0,i.i8)(S.L.lineClusteredColumnComboChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:12,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.lineStackedColumnComboChart.name:return(0,i.i8)(S.L.lineStackedColumnComboChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:13,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.pieChart.name:return(0,i.i8)(S.L.pieChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("donutChart").then(t.bind(t,218539))];case 1:return[2,new(0,T.sent().DonutChart)({sliceWidthRatio:0,tooltipsEnabled:R})]}})})});case S.L.ribbonChart.name:return(0,i.i8)(S.L.ribbonChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return M=O.sent().CartesianChart,[4,t.e("columnChartAnimator").then(t.bind(t,343592))];case 2:return T=O.sent().ColumnChartAnimator,[2,new M({chartType:9,tooltipsEnabled:R,animator:new T({realTimeDashboard:!0}),animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.scatterChart.name:return(0,i.i8)(S.L.scatterChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:10,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.treemap.name:return(0,i.i8)(S.L.treemap,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("treemap").then(t.bind(t,322497))];case 1:return[2,new(0,T.sent().Treemap)({isScrollable:!1,tooltipsEnabled:R})]}})})});case S.L.waterfallChart.name:return(0,i.i8)(S.L.waterfallChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return[2,new(0,T.sent().CartesianChart)({chartType:11,tooltipsEnabled:R,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.map.name:return(0,i.i8)(S.L.map,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("map").then(t.bind(t,215253))];case 1:return[2,new(0,T.sent().Map)({tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case S.L.filledMap.name:return(0,i.i8)(S.L.filledMap,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("map").then(t.bind(t,215253))];case 1:return[2,new(0,T.sent().Map)({filledMap:!0,tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case S.L.azureMap.name:return(0,i.i8)(S.L.azureMap,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("azureMap").then(t.bind(t,73667))];case 1:return[2,new(0,T.sent().AzureMap)({tooltipsEnabled:R,disableZooming:!0,disablePanning:!0})]}})})});case S.L.actionButton.name:return(0,i.i8)(S.L.actionButton,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("actionButton").then(t.bind(t,448131))];case 1:return[2,new(0,T.sent().ActionButton)]}})})});case S.L.shapeMap.name:return(0,i.i8)(S.L.shapeMap,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("shapeMap").then(t.bind(t,186913))];case 1:return[2,new(0,T.sent().ShapeMap)({tooltipsEnabled:R})]}})})});case S.L.matrix.name:return(0,i.i8)(S.L.matrix,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("matrix").then(t.bind(t,520989))];case 1:return[2,new(0,T.sent().Matrix)]}})})});case S.L.tableEx.name:return(0,i.i8)(S.L.tableEx,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("tableEx").then(t.bind(t,675455))];case 1:return[2,new(0,T.sent().TableEx)((0,v.ss)(),w)]}})})});case S.L.pivotTable.name:return(0,i.i8)(S.L.pivotTable,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("pivotTable").then(t.bind(t,782999))];case 1:return[2,new(0,T.sent().PivotTable)((0,d.ss)(),w)]}})})});case S.L.realTimeLineChart.name:return(0,i.i8)(S.L.realTimeLineChart,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("cartesianChart").then(t.bind(t,917523))];case 1:return M=O.sent().CartesianChart,[4,t.e("realTimeLineChartAnimator").then(t.bind(t,317863))];case 2:return T=O.sent().RealTimeLineChartAnimator,[2,new M({chartType:14,animator:new T,animateCategoryAxis:!0,animateValueAxis:!0,featureSwitches:w})]}})})});case S.L.table.name:return(0,i.i8)(S.L.table,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("table").then(t.bind(t,104545))];case 1:return[2,new(0,T.sent().Table)]}})})});case S.L.card.name:return(0,i.i8)(S.L.card,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cardModule").then(t.bind(t,532869))];case 1:return[2,(0,T.sent().createCard)({cardSmallViewportProperties:E.cardSmallViewportProperties,tooltipsEnabled:R,featureSwitches:w})]}})})});case S.L.cardVisual.name:return(0,i.i8)(S.L.cardVisual,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("cardVisual").then(t.bind(t,26963))];case 1:return[2,new(0,T.sent().CardVisual)({isScrollable:!1,animator:new o.r5,tooltipsEnabled:R,featureSwitches:w})]}})})});case S.L.textbox.name:return(0,i.i8)(S.L.textbox,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){var M,T;return(0,e.__generator)(this,function(O){switch(O.label){case 0:return[4,t.e("textbox").then(t.bind(t,92183))];case 1:return M=O.sent().Textbox,[4,t.e("textboxModule").then(t.bind(t,541930))];case 2:return T=O.sent().createTextboxViewModelAdapter,[2,new M({viewModelAdapter:T(E.textboxSmallViewportProperties),disableScrollingInViewMode:!0,supportsNarrativeExpressions:w.daxTransformEnabled})]}})})});case r.Jo:return g[r.Jo]?(0,i.i8)(g[r.Jo],L,w,g[r.Jo].createES6):null;case S.L.keyDriversVisual.name:return(0,i.i8)(S.L.keyDriversVisual,function(M){return M.module.createAnalysisVisual()},w,void 0);case S.L.qnaVisual.name:return(0,i.i8)(S.L.qnaVisual,function(M){return M.module.createQnaVisual()},w,void 0);case S.L.decompositionTreeVisual.name:return(0,i.i8)(S.L.decompositionTreeVisual,L,w,function(){return(0,e.__awaiter)(x,void 0,void 0,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,t.e("decompositionTree").then(t.bind(t,289570))];case 1:return[2,new(0,T.sent().DecompositionTree)]}})})});default:return(0,c.ED)(g[P])}}},318598:function(Xe,H,t){t.d(H,{$Z:function(){return e},AH:function(){return l},DD:function(){return i},P:function(){return u},RM:function(){return S},W3:function(){return o},fs:function(){return r},nQ:function(){return s},oS:function(){return c},wt:function(){return d}});var e={name:"resetPersistentUserStateDone",type:3},l={name:"activeBookmarkChanged",type:4},o={name:"onReportSaved",type:3},d={name:"personalizeArtifact",type:4},S={name:"invitationClaimed",type:4},c={type:4,name:"dashboardTileErrorEventName"},r={type:4,name:"actualOpenTile"},s={type:4,name:"tileNotOpenable"},u={type:4,name:"needStrategySwap"},i={type:4,name:"dashboardTileRepeatFinished"}},459150:function(Xe,H,t){t.d(H,{$3:function(){return pe},$5:function(){return Nt},$9:function(){return p},$h:function(){return bt},AB:function(){return n},B2:function(){return I},B6:function(){return b},BY:function(){return me},Bo:function(){return i},C1:function(){return Pt},CZ:function(){return Vr},D2:function(){return Ut},Db:function(){return U},Ex:function(){return s},HA:function(){return Qt},Hg:function(){return j},I0:function(){return L},KE:function(){return nt},Lt:function(){return at},Mn:function(){return Gt},N3:function(){return Gr},SB:function(){return ft},Tu:function(){return Ne},Tv:function(){return xe},UT:function(){return Pr},Ul:function(){return w},WJ:function(){return Kt},WS:function(){return be},Wv:function(){return Ie},XB:function(){return We},XJ:function(){return Y},Y6:function(){return gr},YR:function(){return Re},Yc:function(){return D},Ys:function(){return he},ZP:function(){return l},ZX:function(){return N},Zu:function(){return Ke},_S:function(){return Cr},_r:function(){return Ze},aH:function(){return $e},ag:function(){return T},bL:function(){return X},bk:function(){return ai},bm:function(){return ur},cx:function(){return te},e3:function(){return dr},eP:function(){return Zr},eZ:function(){return ce},e_:function(){return se},eo:function(){return Ce},er:function(){return Hr},fW:function(){return Je},gs:function(){return He},hk:function(){return c},ho:function(){return R},i6:function(){return hr},lT:function(){return ir},lY:function(){return Rt},mM:function(){return fr},mZ:function(){return Ft},mw:function(){return f},nd:function(){return oe},o9:function(){return Le},ou:function(){return sr},pV:function(){return ue},qx:function(){return F},uT:function(){return ae},vi:function(){return Oe},wy:function(){return tt},x5:function(){return Ur},yE:function(){return ht},yP:function(){return ct},yb:function(){return J},yw:function(){return ze},zl:function(){return ot}});var e=t(947634),l=function(or){return or.Normal="Normal",or.EmailSubscription="EmailSubscription",or.SubscribeOthers="SubscribeOthers",or.Commenting="Commenting",or.DDAlert="DDAlert",or.SmartAlerts="SmartAlerts",or.CopyVisualImage="CopyVisualImage",or.Invalid="Invalid",or}({}),o="PBI.Navigation.Toggle",v=(e.cx[o]=(0,e.b1)(o),"DashboardTileMenuAction"),h=(e.cx[v]=(0,e.b1)(v),"PBI.Dashboard.ClaimInvitation"),c=e.cx[h]=(0,e.b1)(h),r="PBI.Dashboard.ClaimInvitationRedirectToMobileLandingPage",s=e.cx[r]=(0,e.b1)(r),u="PBI.Dashboard.DeleteDashboard",i=e.cx[u]=(0,e.b1)(u),a="PBI.Dashboard.DeleteTile",n=e.cx[a]=(0,e.b1)(a),m="PBI.Dashboard.TileLayoutChanged",f=e.cx[m]=(0,e.b1)(m),V="PBI.Dashboard.InFocusWorkbook",p=e.cx[V]=(0,e.b1)(V),C="PBI.Dashboard.OpenDashboard",b=e.cx[C]=(0,e.b1)(C,{shouldLogStartEnd:!0,logExpAssignment:!0}),y="PBI.Dashboard.LockedTilesDisplayed",D=e.cx[y]=(0,e.b1)(y),P="PBI.Dashboard.LoadDashboardTileVisual",F=e.cx[P]=(0,e.b1)(P),E="PBI.Dashboard.PinTile",w=e.cx[E]=(0,e.b1)(E),x="PBI.Dashboard.InitializeContainer",R=e.cx[x]=(0,e.b1)(x),g="PBI.Dashboard.OpenTile",L=e.cx[g]=(0,e.b1)(g),M="PBI.Dashboard.SettingGroupChanged",T=e.cx[M]=(0,e.b1)(M),O="PBI.Dashboard.RenameDashboard",N=e.cx[O]=(0,e.b1)(O),A="PBI.Dashboard.ViewWorkbook",I=e.cx[A]=(0,e.b1)(A,{logExpAssignment:!0}),B="PBI.Dashboard.EditWorkbook",U=e.cx[B]=(0,e.b1)(B),W="PBI.Dashboard.WorkbookViewedExternallyDueToAnError",j=e.cx[W]=(0,e.b1)(W),K="PBI.Dashboard.UpdateActiveDashboard",ie=(e.cx[K]=(0,e.b1)(K),"PBI.Dashboard.RefreshTileData"),he=e.cx[ie]=(0,e.b1)(ie),q="PBI.Dashboard.RefreshDashboardTiles",Y=e.cx[q]=(0,e.b1)(q),G="PBI.Groups.SwitchGroup",me=e.cx[G]=(0,e.b1)(G),re="PBI.Folders.GetWorkspaceFolders",Ee=(e.cx[re]=(0,e.b1)(re),"PBI.Dashboard.ShowGettingStartedPopup"),Ne=e.cx[Ee]=(0,e.b1)(Ee),Ye="PBI.Dashboard.WorkbookClickScheduleRefresh",Je=e.cx[Ye]=(0,e.b1)(Ye),_e="PBI.Dashboard.WorkbookClickRefreshNow",pe=e.cx[_e]=(0,e.b1)(_e),fe="PBI.Dashboard.ClickPersonalize",oe=e.cx[fe]=(0,e.b1)(fe,{logExpAssignment:!0}),ye="PBI.Dashboard.ContentPackDirty",Ce=e.cx[ye]=(0,e.b1)(ye),Be="PBI.Dashboard.FirstUse",be=e.cx[Be]=(0,e.b1)(Be),Te="PBI.Dashboard.InFocusModeSelected",ce=e.cx[Te]=(0,e.b1)(Te),ve="PBI.Dashboard.SaveDashboardSettings",Re=e.cx[ve]=(0,e.b1)(ve),Ke="PBI.Dashboard.GetDashboardSettings",tt=e.cx[Ke]=(0,e.b1)(Ke),mt="PBI.Dashboard.TestDataSourceConnection",He=e.cx[mt]=(0,e.b1)(mt),ke="PBI.Dashboard.LoadTileData",ft=e.cx[ke]=(0,e.b1)(ke),Le="PBI.App.InitialAppLoad",Ue=(e.cx[Le]=(0,e.b1)(Le,{shouldLogStartEnd:!0,logExpAssignment:!0}),"PBI.GroupEditor.GetGroupMembers"),ae=e.cx[Ue]=(0,e.b1)(Ue),Se="PBI.GroupEditor.UserLeaveGroup",nt=e.cx[Se]=(0,e.b1)(Se),vt="PBI.Quota.OpenManageStoragePage",We=e.cx[vt]=(0,e.b1)(vt),de="PBI.Quota.StorageUsage",te=e.cx[de]=(0,e.b1)(de),Ve="PBI.Quota.ManageStorageDelete",xe=e.cx[Ve]=(0,e.b1)(Ve),Z="PBI.Quota.Exceeded",J=e.cx[Z]=(0,e.b1)(Z),Fe="PBI.Quota.AccessCustomizedProperties",ze=e.cx[Fe]=(0,e.b1)(Fe),rt="PBI.Privacy.InitializeSettingsModel",Oe=e.cx[rt]=(0,e.b1)(rt),Pe="PBI.Privacy.SaveSettingsModel",X=e.cx[Pe]=(0,e.b1)(Pe),we="PBI.Settings.TakeoverDatasources",Ze=e.cx[we]=(0,e.b1)(we),et="PBI.Settings.LoadSettingsData",at=e.cx[et]=(0,e.b1)(et),St="PBI.QRCode.QRCodeDialogShown",Ie=e.cx[St]=(0,e.b1)(St),qe="PBI.QRCode.ShortUrlCreated",bt=e.cx[qe]=(0,e.b1)(qe),It="PBI.QRCode.ShortUrlFailed",Rt=e.cx[It]=(0,e.b1)(It),zt="PBI.QRCode.QRCodeReportDialogShown",Kt=e.cx[zt]=(0,e.b1)(zt),Yt="PBI.QRCode.ReportShortUrlCreated",ir=e.cx[Yt]=(0,e.b1)(Yt),lr="PBI.Dashboard.AddWidget",dr=e.cx[lr]=(0,e.b1)(lr),br="PBI.DataAlerts.TileBadgeClicked",Cr=e.cx[br]=(0,e.b1)(br),pt="PBI.DataAlerts.NotificationAction",Ut=e.cx[pt]=(0,e.b1)(pt),er="PBI.UsageMetrics.Http.GetPackage",Pr=e.cx[er]=(0,e.b1)(er),mr="PBI.UsageMetrics.Http.UsageReportUpgrade",gr=e.cx[mr]=(0,e.b1)(mr),xr="PBI.UserNotifications.LinkClicked",Vr=e.cx[xr]=(0,e.b1)(xr,{logExpAssignment:!0}),Qr="PBI.Dashboard.RegisterAndLoadResourcePackages",Gr=e.cx[Qr]=(0,e.b1)(Qr),Jr="PBI.Dashboard.LoadDashboard",Hr=e.cx[Jr]=(0,e.b1)(Jr),Yr="PBI.Dashboard.RegisterAndLoadResourcePackagesForReportTiles",Zr=e.cx[Yr]=(0,e.b1)(Yr),Or="PBI.ArtifactNotFound",Ur=e.cx[Or]=(0,e.b1)(Or),zr="PBI.AppModel.InitializeContentProviders",ai=e.cx[zr]=(0,e.b1)(zr),lt="PBI.NPS.ShowDialog",ct=e.cx[lt]=(0,e.b1)(lt),Tt="PBI.Dashboard.LoadTileVisualTimedOut",ot=e.cx[Tt]=(0,e.b1)(Tt),it="PBI.Dashboard.AddDashboard",ht=e.cx[it]=(0,e.b1)(it,{logExpAssignment:!0}),yt="PBI.UsageMetrics.ViewUsageMetricsReport",Ft=e.cx[yt]=(0,e.b1)(yt),kt="PBI.PersistentState.Reset",Gt=e.cx[kt]=(0,e.b1)(kt),ar="PBI.Theming.SaveTheme",sr=e.cx[ar]=(0,e.b1)(ar),pr="PBI.Dashboard.GetResourcePackageItem",fr=e.cx[pr]=(0,e.b1)(pr),Mr="PBI.Apps.GuestUserWithNoAccessError",hr=e.cx[Mr]=(0,e.b1)(Mr),Ir="PBI.Tutorial.Close",Pt=e.cx[Ir]=(0,e.b1)(Ir),dt="PBI.Landing.BindToPowerViewReport",ue=e.cx[dt]=(0,e.b1)(dt),k="PBI.UsageMetrics.UpdateNewReportSetting",se=e.cx[k]=(0,e.b1)(k),Ae="PBI.ChangeDetectionMeasure.LongPollError",$e=e.cx[Ae]=(0,e.b1)(Ae),Et="PBI.ChangeDetectionMeasure.GetCDMConfigError",Nt=e.cx[Et]=(0,e.b1)(Et),Bt="PBI.ChangeDetectionMeasure.GetConceptualSchemaError",Qt=e.cx[Bt]=(0,e.b1)(Bt),$t="PBI.Dashboard.RealtimeModelLoad",ur=e.cx[$t]=(0,e.b1)($t)},382555:function(Xe,H,t){t.d(H,{F:function(){return v},J:function(){return d}});var e=t(691379),l=t(566464),o=t(546368);function d(S,h){var c,r;if(void 0===h&&(h=!1),S&&S.tiles){if(h)return(c={})[l.CB]=S.tiles.background,c[l.dj]=S.tiles.color,c[l.vp]=S.tiles.opacity,c;var s=(0,e.cD)(S.tiles.background,S.tiles.opacity);return(r={})[l.CB]=s,r[l.dj]=S.tiles.color,r}}function v(S){var h;if(S){var c=S.tiles?S.tiles[l.dj]:l.G7,r=((h={})[l.CB]=S.background,h[l.dj]=c,h);return(0,o.gU)(S.backgroundImage)?(r[l.Xn]="url(".concat(S.backgroundImage,")"),r[l.k2]=l.hy):r[l.Xn]=l.zu,r}}},805659:function(Xe,H,t){t.d(H,{$7:function(){return y},AF:function(){return E},AW:function(){return T},BP:function(){return S},C:function(){return v},G1:function(){return d},IQ:function(){return g},Jh:function(){return L},Jo:function(){return e},OS:function(){return P},P_:function(){return h},VT:function(){return x},Z8:function(){return D},al:function(){return i},ay:function(){return p},b0:function(){return c},b7:function(){return o},c2:function(){return F},cV:function(){return r},i9:function(){return V},j:function(){return R},jt:function(){return m},rR:function(){return b},s0:function(){return f},t2:function(){return a},t4:function(){return C},uT:function(){return N},wn:function(){return u},x5:function(){return s},xC:function(){return l},xm:function(){return n},xp:function(){return O},zW:function(){return w}});var e="esriVisual",l="esriVisual_TEST",o="Visio_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",d="VisioDF_PBI_CV_D7C10B1A_506B_4123_878E_39E8698FD30A",v="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A",S="PowerApps_PBI_CV_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",h="PBI_CV_EB3A4088_75C5_4746_9D8B_255A7B7ECD6C",c="MapboxVisual_TEST",r="PBI_CV_0157F990_CDD5_4FEC_8488_7262B9195669",s="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A",u="FlowVisual_C29F1DCC_81F5_4973_94AD_0517D44CC06A_TEST",i="charticulator58556A88422D44A99D9BF0052B958F87",a="charticulatorTest5CA7DEC756074797A2410E6A64934779",n="vPMenu6454E8C4E1BD492A83084AB46B0C248B",m="DataEntryMatrix1444757060245",f="PBI_CV_37C750F9_7BBF_4518_A963_9E199AB98EFD",V="detailReport1E51681FC15F46F9B4275CE593BECB98",p="SmartFilterBySQLBI1458262140626",C="PBI_CV_5A618254_2118_4618_8D38_64C70BBFB181",b="tableeditor_v2",y="PBI_CV_8EDDC07B_EE79_4418_A84C_D73897C0E21E",D="PBI_CV_5A618254_2118_4618_8D38_64C70BBFB182",P="PBI_CV_37C750F9_7BBF_4518_A963_9E199AB98EFD_TEST",F="_OrgStore",E="1.2.0",w=[e,l,o,d,v,S,h,r,c,s,u,n,m,f,V,p,C,b,y,D,P,i,a],x="Esri is not supported in Embedded scenario.",R="CV_Warning_Code",g=70,L=2e3,T="SharedResources",O=[];O[1]="RegisteredResources",O[2]=T;var N={1:!0,2:!0}},12490:function(Xe,H,t){t.d(H,{W:function(){return e},z:function(){return l}});var e={type:4,name:"reloadEmptyVisuals"},l={type:4,name:"applyPendingChanges"}},893612:function(Xe,H,t){t.d(H,{IG:function(){return o},Ut:function(){return d}});var o="ShapeMap",d=function(v){return v[v.CustomVisualJavascript=0]="CustomVisualJavascript",v[v.CustomVisualsCss=1]="CustomVisualsCss",v[v.CustomVisualScreenshot=2]="CustomVisualScreenshot",v[v.CustomVisualIcon=3]="CustomVisualIcon",v[v.CustomVisualWatermark=4]="CustomVisualWatermark",v[v.CustomVisualMetadata=5]="CustomVisualMetadata",v[v.Image=100]="Image",v[v.ShapeMap=200]="ShapeMap",v[v.CustomTheme=201]="CustomTheme",v[v.BaseTheme=202]="BaseTheme",v[v.DashboardTheme=203]="DashboardTheme",v[v.DashboardBaseTheme=204]="DashboardBaseTheme",v[v.HighContrastTheme=205]="HighContrastTheme",v[v.AppNavigation=206]="AppNavigation",v[v.AppTheme=207]="AppTheme",v[v.AppBaseTheme=208]="AppBaseTheme",v}({})},348662:function(Xe,H,t){t.d(H,{u:function(){return h}});var e=t(563746),l=t(498342),o=t(275048),d=t(237094),v=t(815046),S=t(314055);function h(r,s,u,i,a){return new c(r,s,u,i,a)}var c=function(){function r(s,u,i,a,n){this.approvedResourceService=u,this.telemetryService=i,this.featureSwitchService=a,this.onlyApprovedForServerRenderResources=n,this.locale=s&&s.locale,this.promiseFactory=s.promiseFactory}return r.prototype.loadTrustedResourcePackages=function(s){return l.fF.assertFail("Not supported"),this.promiseFactory.reject()},r.prototype.loadResourcePackages=function(s){l.fF.assertValue(s,"resourcePackages");for(var u=[],i=0,a=s;i<a.length;i++)u.push(this.loadResourcePackage(a[i]));return this.promiseFactory.all(u)},r.prototype.loadResourcePackage=function(s){var u=this;l.fF.assertValue(s,"resourcePackage");var i=function(n,m,f,V,p){u.telemetryService.logEvent(o.d7,{visualType:s.name,fileName:n,isClientGenerated:!!p,start:f,end:V,parentId:u.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:m})};return this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(function(a){return u.promiseFactory.reject(a)}).then(function(){var a=[];return u.approvedResourceService.isApprovedResource(s.name)?(a.push(u.loadResourcesWithVisualApi(s,i)),u.promiseFactory.all(a)):u.promiseFactory.reject("Visual is not an approved visual")})},r.prototype.loadResourcePackageItem=function(s,u){return l.fF.assertFail("Not supported"),this.promiseFactory.reject()},r.prototype.loadSharedResource=function(s){return l.fF.assertFail("Not supported"),this.promiseFactory.reject()},r.prototype.loadVisualPlugins=function(s){l.fF.assertValue(s,"resourcePackages");var u=[];if(s)for(var i=0,a=s;i<a.length;i++)u.push(this.loadVisualPlugin(a[i]));return this.promiseFactory.all(u)},r.prototype.loadVisualPlugin=function(s){l.fF.assertValue(s,"resourcePackage");var u=this.promiseFactory.defer();return s&&s.items&&s.items.length>0?this.loadResourcePackage(s).then(function(){var i=e.N[s.name];i?(i.iconUrl=(0,v.dA)(s.name),u.resolve(i)):u.reject("Unable to load visual plugin from resource package: "+s.name)}).catch(function(){u.reject("failed to resolve all promises")}):u.resolve(null),u.promise},r.prototype.destroy=function(){},r.prototype.loadResourcesWithVisualApi=function(s,u){var i=this,a=this.promiseFactory.defer(),n=(new Date).toISOString(),m=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(s.name).then(function(f){var V=(new Date).toISOString();i.handleLoadResourceResponse(f.data,s),i.telemetryService.logEvent(o.EB,{visualType:s.name,fileName:i.approvedResourceService.customVisualJsonUrlBuilder(s.name),isClientGenerated:!!s.isPublic,consumePublicCvsWithoutRps:m,start:n,end:V,parentId:i.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),a.resolve(null)},function(f){var V=JSON.stringify(f),p=(new Date).toISOString();u(i.approvedResourceService.customVisualJsonUrlBuilder(s.name),V,n,p,s.isPublic),a.reject(V)}),a.promise},r.prototype.handleLoadResourceResponse=function(s,u){u.items&&u.items[0]&&(u.items[0].content=JSON.stringify(s));var i=(0,S.S)(s,this.locale,2);i&&(i.isDeprecated=this.approvedResourceService.isDeprecated(u.name),i.approvedForNoIframe=this.approvedResourceService.isApprovedForNoIframe(u.name)),(0,d.L)(i);var a=e.N[i.name];a&&(i.favoriteId=a.favoriteId,i.isOutOfBox=a.isOutOfBox),e.N[i.name]=i},r}()},88068:function(Xe,H,t){t.d(H,{Z:function(){return r}});var e=t(275048),l=t(805659),o=t(879937),d=t(515854),v=t(389731),S=t(263136),h=t(263521),c=window;function r(u,i,a,n,m){return new s(u,i,a,n,m)}var s=function(){function u(i,a,n,m,f){this.featureSwitchService=i,this.httpService=a,this.options=m,this.telemetryService=f,this.trustedVisuals=l.zW,this.resourcesRetryCount=5,this.legacy="legacy",this.gradualExposureFSPrefix="customVisualsGradualExposure",this.approvedResourceJsonInProccess=!1,this.customVisualsEndpointPromise=n.getCustomVisualsEndpointAsync()}return u.prototype.getCustomVisualPbivizJson=function(i){var a=this.customVisualJsonUrlBuilder(i);return this.httpService.get(a,{responseType:"json",timeout:h.JZ,retryCount:this.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0})},u.prototype.getCustomVisualVersion=function(i){var a=this.getCompatibleVisualVersion(i);return a?a.version:null},u.prototype.getCustomVisualApiVersion=function(i){var a=this.getCompatibleApiVersion(i);return a&&a!==this.legacy?a:null},u.prototype.customVisualJsonUrlBuilder=function(i){var a=this.getCompatibleVisualVersion(i);if(a)return this.customVisualsEndpoint+"/"+i+"."+a.version+"."+a.hash+".pbiviz.json"},u.prototype.getVisualIdFromAssetId=function(i){for(var a in this.approvedVisuals)if(this.approvedVisuals[a]&&this.approvedVisuals[a].assetId===i)return a;return null},u.prototype.isApprovedVisualsDefined=function(){return!!this.approvedVisuals},u.prototype.isApprovedResource=function(i){return!!this.approvedVisuals&&!!this.approvedVisuals[i]},u.prototype.isApprovedResourceByAssetId=function(i){return!!this.approvedVisualsAssetIds&&!!this.approvedVisualsAssetIds[i]},u.prototype.isApprovedResourceServerRender=function(i){var a=this.getCompatibleVisualVersion(i);return this.isApprovedResource(i)&&!!a&&!!a.approvedForServerRender},u.prototype.isApprovedForNoIframe=function(i){if(this.onlyApprovedForServerRenderResources||(0,S.rO)())return!1;var a=this.getCompatibleVisualVersion(i);return!!a&&!!a.approvedForNoIframe},u.prototype.isTrustedResource=function(i){return!!_.find(this.trustedVisuals,function(a){return a===i})},u.prototype.addTrustedVisual=function(i){this.isTrustedResource(i)||this.trustedVisuals.push(i)},u.prototype.isDeprecated=function(i){var a=this.getCompatibleVisualVersion(i);return this.isApprovedResource(i)&&!!a&&(!!a.isDeprecated||a.apiVersion&&(0,v.lt)(a.apiVersion,l.AF))},u.prototype.usesExternalResourcesInAirGappedEnv=function(i){var a=this.getCompatibleVisualVersion(i);return this.featureSwitchService.featureSwitches.restrictServiceOutboundFlowsEnabled&&a&&a.usesExternalResources},u.prototype.canUseLocalStorage=function(i){if(this.onlyApprovedForServerRenderResources)return!1;var a=this.getCompatibleVisualVersion(i);return!(!a||!this.isApprovedResource(i))&&a.canUseLocalStorage},u.prototype.removeApprovedResource=function(i){this.approvedVisuals&&(this.approvedVisuals[i]=void 0)},u.prototype.getCdnEnvEndpointName=function(i){var a=(0,d.tm)()||h.un;return this.featureSwitchService.featureSwitches.appStoreCdnOverride&&(a=h.cL),i+a},u.prototype.loadApprovedResourcesMetadata=function(i,a){var n=this;return this.approvedResourceJsonInProccess||(this.approvedResourceJsonRequest=i.defer(),this.approvedResourceJsonInProccess=!0,(a?"boolean"==typeof a?i.resolve(a):a:i.resolve(!1)).then(function(f){var V,p;if(f&&(n.onlyApprovedForServerRenderResources=!!f),n.approvedVisuals)return n.setApprovedResources(),n.approvedResourceJsonRequest.resolve(null),n.approvedResourceJsonRequest.promise;var C=null!==(p=null===(V=n.options)||void 0===V?void 0:V.isApprovedLoadingDisabled())&&void 0!==p?p:i.resolve(!1);i.allSettled([n.featureSwitchService.getFeatureSwitches(),C,n.customVisualsEndpointPromise]).then(function(b){n.approvedResourcesDisabled=b[1].value,n.customVisualsEndpoint=b[2].value}).finally(function(){if(n.approvedResourcesDisabled)n.approvedResourceJsonRequest.reject("approvedResourcesDisabled is true in an unsupported environment for loading metadata");else{var b=(new Date).toISOString();n.httpService.get(n.customVisualsEndpoint+"/approvedResources.json",{responseType:"json",timeout:h.JZ,retryCount:n.resourcesRetryCount,logRetries:!0,addRequestIdToRetries:!0}).then(function(D){var P=(new Date).toISOString();n.telemetryService&&n.telemetryService.logEvent(e.LU,{endpoint:n.customVisualsEndpoint,allEndpointDown:!1,start:b,end:P,parentId:n.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),n.setApprovedResources(D.data),n.approvedResourceJsonRequest.resolve(null),n.approvedResourceJsonInProccess=!1},function(D){var P=(new Date).toISOString();n.telemetryService&&n.telemetryService.logEvent(e.LU,{endpoint:n.customVisualsEndpoint,allEndpointDown:!0,start:b,end:P,parentId:n.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:JSON.stringify(D)}),n.approvedResourceJsonRequest.reject(JSON.stringify(D)),n.approvedResourceJsonInProccess=!1})}})})),this.approvedResourceJsonRequest.promise},u.prototype.cdnUrlBuilder=function(i,a,n){var m=this.getCompatibleApiVersion(a);return m?this.getCdnEnvEndpointName(i)+"/"+m+"/"+a+n:this.getCdnEnvEndpointName(i)+"/"+a+n},u.prototype.getTrustedResources=function(){return this.trustedVisuals},u.prototype.hasApi=function(i){var a=this.getCompatibleVisualVersion(i);return!!(a&&this.approvedVisuals&&a&&a.apiVersion&&a.apiVersion!==this.legacy)},u.prototype.getTelemetryUsageLimit=function(i){var a=this.getCompatibleVisualVersion(i);return a&&this.isApprovedResource(i)&&a.telemetryUsageLimit||0},u.prototype.canRefreshHostData=function(i){var a=this.getCompatibleVisualVersion(i);return!(!a||!this.isApprovedResource(i))&&a.canRefreshHostData},u.prototype.canGetAADToken=function(i){var a=this.getCompatibleVisualVersion(i);return!(!a||this.blockedAccessToken(i))&&!!this.isApprovedResource(i)&&a.canGetAADToken},u.prototype.blockedAccessToken=function(i){if(this.options&&this.options.shouldBlockAccessToken())return this.telemetryService&&this.telemetryService.logEvent(e.eb,{visualType:i,reason:"Access Token does not exists in publishToWeb/PaasEmbed"}),!0;try{var f=JSON.parse(atob(c.powerBIAccessToken.split(".")[1])).scp;return!(f.indexOf("user_impersonation")>=0||f.indexOf("__Tokens.WAC")>=0||(this.telemetryService&&this.telemetryService.logEvent(e.eb,{visualType:i,reason:"Access Token is blocked due to insufficient scope"}),0))}catch(V){return!1}},u.prototype.canGetWACToken=function(i){var a=this.getCompatibleVisualVersion(i);return!(!a||this.blockedAccessToken(i))&&!!this.isApprovedResource(i)&&a.canGetWACToken},u.prototype.getAllApprovedForServerRenderResourcesTypes=function(){var i=this;if(!this.approvedVisuals)return[];var a=Object.keys(this.approvedVisuals);return _.filter(a,function(m){return i.isApprovedResourceServerRender(m)})},u.prototype.getPublicId=function(i){return this.isApprovedResource(i)&&this.approvedVisuals[i].assetId?this.approvedVisuals[i].assetId:null},u.prototype.isMsVisual=function(i){return!(!this.isApprovedResource(i)||!this.approvedVisuals[i].isMsVisual)},u.prototype.canManageAsyncUpdate=function(i){if(this.isApprovedResource(i)){var a=this.getCompatibleVisualVersion(i);if(a&&a.callsRenderingCompleted)return!0}return!1},u.prototype.getCompatibleApiVersion=function(i){if(!this.isApprovedResource(i)||!this.approvedVisuals[i].allVersions)return null;var a=this.approvedVisuals[i].allVersions;a.sort(function(b,y){return!b.apiVersion||y.apiVersion&&!(0,v.gt)(b.apiVersion,y.apiVersion)?1:-1});for(var n=function(y){if((0,o.HB)().some(function(D){return D.version===y.apiVersion})&&!m.shouldSkipVersion(y))return{value:y.apiVersion}},m=this,f=0,V=a;f<V.length;f++){var C=n(V[f]);if("object"==typeof C)return C.value}return this.legacy},u.prototype.shouldSkipVersion=function(i){if(null==i.gradualExposureFSNumber)return!1;var a="".concat(this.gradualExposureFSPrefix).concat(i.gradualExposureFSNumber);return!this.featureSwitchService.featureSwitches[a]},u.prototype.getCompatibleVisualVersion=function(i){var a=this.getCompatibleApiVersion(i);if(a)for(var n=0,m=this.approvedVisuals[i].allVersions;n<m.length;n++){var f=m[n];if(f.apiVersion===a)return f}return null},u.prototype.setApprovedResources=function(i){if(i&&(this.approvedVisuals=i,this.approvedVisualsAssetIds=u.buildApprovedVisualsAssetIds(i)),this.onlyApprovedForServerRenderResources){var a=this.getAllApprovedForServerRenderResourcesTypes(),n=_.pick(this.approvedVisuals,a);this.approvedVisuals=n}},u.buildApprovedVisualsAssetIds=function(i){return _.reduce(i,function(n,m){return m.assetId&&(n[m.assetId]=!0),n},{})},u}()},497606:function(Xe,H,t){t.d(H,{d:function(){return S}});var e=t(563746),l=t(498342),o=t(515854),d=t(221743),v=t(263521);function S(c,r,s,u,i){return new h(c,r,s,u,i)}var h=function(){function c(r,s,u,i,a){this.promiseFactory=r,this.resourceLoaderInitOptions=s,this.resourceLoaderFactories=u,this.approvedResourceService=i,this.managedCustomVisualsService=a,this.resourceLoaderCollection={}}return c.prototype.resourceLoaderSelector=function(r){switch(r.type){case 0:case 3:return this.getCustomVisualResourceLoader(r);case 1:case 2:return this.getStaticResourceResourceLoader();default:l.fF.assertValue(r.type,"ResourcePackageType is unsupported: "+r.type)}},c.prototype.getStaticResourceResourceLoader=function(){return this.getLocalResourceLoader()},c.prototype.getCustomVisualResourceLoader=function(r){if(3===r.type)return this.getOrganizationalStoreResourceLoader();if(r.developerModeVisual)return this.getSandboxResourceLoader();if(this.approvedResourceService.isTrustedResource(r.name)){if(this.getApprovedResourcesForTrustedVisualsEnabled())return this.getTrustedResourceLoader()}else{if(this.resourceLoaderInitOptions.getApprovedResourcesEnabled())return this.getApprovedResourceLoader();if(this.resourceLoaderInitOptions.getSandboxVisualsEnabled())return this.getSandboxResourceLoader()}return this.getLocalResourceLoader()},c.prototype.getApprovedResourcesForTrustedVisualsEnabled=function(){return this.resourceLoaderInitOptions.getApprovedResourcesEnabled()||(0,o.tm)()!==v.io},c.prototype.getLocalResourceLoader=function(){return void 0===this.resourceLoaderCollection.localResourceLoader&&(this.resourceLoaderCollection.localResourceLoader=this.resourceLoaderFactories.localResourceLoaderFactory()),this.resourceLoaderCollection.localResourceLoader},c.prototype.getSandboxResourceLoader=function(){return void 0===this.resourceLoaderCollection.sandboxResourceLoader&&(this.resourceLoaderCollection.sandboxResourceLoader=this.resourceLoaderFactories.sandboxResourceLoaderFactory()),this.resourceLoaderCollection.sandboxResourceLoader},c.prototype.getApprovedResourceLoader=function(){return void 0===this.resourceLoaderCollection.approvedResourceLoader&&(this.resourceLoaderCollection.approvedResourceLoader=this.resourceLoaderFactories.approvedResourceLoaderFactory()),this.resourceLoaderCollection.approvedResourceLoader},c.prototype.getTrustedResourceLoader=function(){return void 0===this.resourceLoaderCollection.trustedResourceLoader&&(this.resourceLoaderCollection.trustedResourceLoader=this.resourceLoaderFactories.trustedResourceLoaderFactory()),this.resourceLoaderCollection.trustedResourceLoader},c.prototype.getOrganizationalStoreResourceLoader=function(){return void 0===this.resourceLoaderCollection.organizationalStoreResourceLoader&&(this.resourceLoaderCollection.organizationalStoreResourceLoader=this.resourceLoaderFactories.organizationalStoreResourceLoaderFactory()),this.resourceLoaderCollection.organizationalStoreResourceLoader},c.prototype.loadTrustedResourcePackages=function(r){var s=[];return s.push(this.getTrustedResourceLoader().loadTrustedResourcePackages(r)),this.promiseFactory.all(s)},c.prototype.updateResourcePackageId=function(r){if(e.N){var s=e.N[r.name];s&&(s.resourcePackageId=r.id)}return null},c.prototype.isValid=function(r){if(null==e.N||null==r||null==r.name||(0,d.qe)(r.name)&&3!==r.type)return!1;var s=e.N[r.name];return!(null!=s&&!0!==s.custom&&!this.approvedResourceService.isTrustedResource(r.name))},c.prototype.loadResourcePackages=function(r){var s=this;l.fF.assertValue(r,"resourcePackages");for(var u=[],i=function(p){u.push(a.resourceLoaderSelector(p).loadResourcePackage(p).then(function(){return s.updateResourcePackageId(p)}))},a=this,n=0,m=r;n<m.length;n++)i(m[n]);return this.promiseFactory.all(u)},c.prototype.isPublicManagedVisual=function(r){var s=this.promiseFactory.defer();return this.managedCustomVisualsService?this.managedCustomVisualsService.isPublicManagedVisualByVisualType(r).then(function(u){s.resolve(u)}).catch(function(){s.reject()}):s.resolve(!1),s.promise},c.prototype.loadResourcePackage=function(r){var s=this;if((0,o.tm)()!==v.io&&!1===this.isValid(r))return this.promiseFactory.reject("Attempting to load an invalid custom visual");var i,u=this.resourceLoaderSelector(r);if(u===this.resourceLoaderCollection.approvedResourceLoader)i=u.loadResourcePackage(r).catch(function(a){return s.isPublicManagedVisual(r.name).then(function(n){return n||s.resourceLoaderInitOptions.getSandboxVisualsEnabled?s.approvedResourceService.isApprovedResource(r.name)?s.promiseFactory.reject("Fallback is blocked for public custom visuals"):(s.approvedResourceService.removeApprovedResource(r.name),n?s.promiseFactory.reject("Fallback is blocked for public managed visuals"):s.getSandboxResourceLoader().loadResourcePackage(r)):s.getLocalResourceLoader().loadResourcePackage(r)})});else{if(u===this.resourceLoaderCollection.trustedResourceLoader)return u.loadResourcePackage(r);i=this.isPublicManagedVisual(r.name).then(function(a){return a&&!r.developerModeVisual?s.promiseFactory.reject("Fallback is blocked for public managed visuals"):s.approvedResourceService.isApprovedResource(r.name)&&!r.developerModeVisual?s.promiseFactory.reject("Fallback is blocked for public custom visuals"):u.loadResourcePackage(r)})}return i.then(function(){return s.updateResourcePackageId(r)})},c.prototype.loadVisualPlugin=function(r){return this.resourceLoaderSelector(r).loadVisualPlugin(r)},c.prototype.loadVisualPlugins=function(r){l.fF.assertValue(r,"resourcePackages");for(var s=[],u=0,i=r;u<i.length;u++){var a=i[u];s.push(this.resourceLoaderSelector(a).loadVisualPlugin(a))}return this.promiseFactory.all(s)},c.prototype.loadResourcePackageItem=function(r,s){return this.resourceLoaderSelector(r).loadResourcePackageItem(r,s)},c.prototype.loadSharedResource=function(r,s){return this.getLocalResourceLoader().loadSharedResource(r,s)},c.prototype.destroy=function(){var r=this.resourceLoaderCollection;for(var s in r)r.hasOwnProperty(s)&&r[s].destroy()},c}()},550766:function(Xe,H,t){t.d(H,{N5:function(){return n},fQ:function(){return i}});var e=t(973188),l=t(895383),o=t(563746),d=t(498342),v=t(504898),S=t(893612),h=t(275048),c=t(25138),r=t(237094),s=t(815046),u=t(314055);function i(m,f,V){return new n(m,f,V||new a(m.promiseFactory))}var a=function(){function m(f){this.promiseFactory=f}return m.prototype.get=function(f,V,p){return d.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},m.prototype.getBlob=function(f,V,p){return d.fF.assertFail("Referenced omitted sharedResourceItemProxy"),this.promiseFactory.reject()},m}(),n=function(){function m(f,V,p){this.provider=V,this.sharedResourceItemProxy=p,this.promiseFactory=f&&f.promiseFactory,this.locale=f&&f.locale,this.telemetryV2Enabled=f&&f.telemetryV2Enabled}return m.prototype.loadTrustedResourcePackages=function(f){return d.fF.assertFail("Not supported"),this.promiseFactory.reject()},m.prototype.loadResourcePackages=function(f){d.fF.assertValue(f,"resourcePackages");for(var V=[],p=0,C=f;p<C.length;p++)V.push(this.loadResourcePackage(C[p]));return this.promiseFactory.all(V)},m.prototype.loadResourcePackage=function(f){d.fF.assertValue(f,"resourcePackage");var V=[];if(f&&f.items)for(var p=0,C=f.items;p<C.length;p++)V.push(this.loadCustomVisualResourcePackageItem(C[p],f));return this.promiseFactory.all(V)},m.prototype.loadResourcePackageItem=function(f,V){var p=(0,c.NW)(f,V);return p?p.content?this.promiseFactory.resolve(p.content):this.loadBlob(f.id,f.name,p):(v.f.warning("loadResourcePackageItem: item not found in package"),this.promiseFactory.resolve(null))},m.prototype.loadSharedResource=function(f,V){return V===S.Ut.Image?this.sharedResourceItemProxy.getBlob(null,(0,c.RJ)(2),f,{retries:1}):this.sharedResourceItemProxy.get(null,(0,c.RJ)(2),f,{retries:1})},m.prototype.loadVisualPlugin=function(f){var V=this;d.fF.assertValue(f,"resourcePackage");var p=this.promiseFactory.defer();return f&&f.items&&f.items.length>0?this.loadResourcePackage(f).then(function(){var C=o.N[f.name];C?(C.iconUrl=V.getIconUrl(f),p.resolve(C)):p.reject("Unable to load visual plugin from resource package")}).catch(function(){p.reject("failed to resolve all promises")}):p.resolve(null),p.promise},m.prototype.destroy=function(){},m.prototype.loadVisualPlugins=function(f){d.fF.assertValue(f,"resourcePackages");var V=[];if(f)for(var p=0,C=f;p<C.length;p++)V.push(this.loadVisualPlugin(C[p]));return this.promiseFactory.all(V)},m.prototype.getIconUrl=function(f){var p=$("#css-"+f.name)[0],C=_.find(document.styleSheets,function(D){return D.ownerNode===p});if(!C)return"";for(var b=0;b<C.cssRules.length;b++){var y=C.cssRules[b];if(y.selectorText&&y.selectorText===".visual-icon."+f.name)return y.style.backgroundImage}return""},m.prototype.loadCustomVisualResourcePackageItem=function(f,V){switch(f.type){case S.Ut.CustomVisualJavascript:return this.loadCustomVisualJS(V.id,V.name,f);case S.Ut.CustomVisualsCss:return this.loadCustomVisualCss(V.id,V.name,f);case S.Ut.CustomVisualMetadata:return this.loadCustomVisualMetadata(V.id,V.name,f)}},m.prototype.loadCustomVisualJS=function(f,V,p){var C=this,b=this.promiseFactory.defer();return p.content?((0,s.yO)(V,p.content),b.resolve(p.content)):(d.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(f,V,p.path,{retries:1}).then(function(y){(0,s.yO)(V,y),p.content=y,C.transformPlugin(V).then(function(){return b.resolve(y)},function(D){return b.reject(D)})}).catch(function(y){b.reject(y)})),b.promise},m.prototype.transformPlugin=function(f){var V=o.N[f];return V?((0,r.L)(V),this.promiseFactory.resolve()):this.promiseFactory.reject("Unable to load visual plugin from resource package: "+f)},m.prototype.loadCustomVisualCss=function(f,V,p){var C=this.promiseFactory.defer();return p.content?((0,s.QO)(V,p.content),C.resolve(p.content)):(d.fF.assertValue(this.provider,"resourceItemProxy is undefined"),this.provider.get(f,V,p.path,{retries:1}).then(function(b){(0,s.QO)(V,b),p.content=b,C.resolve(b)}).catch(function(b){C.reject(b)})),C.promise},m.prototype.loadCustomVisualMetadata=function(f,V,p){var C=this,b=this.promiseFactory.defer();try{p.content?b.resolve(this.createPlugin(V,p.content)):this.provider.get(f,V,p.path,{retries:1}).then(function(y){p.content=y,b.resolve(C.createPlugin(V,y))}).catch(function(y){b.reject(y)})}catch(y){b.reject(y)}return b.promise},m.prototype.createPlugin=function(f,V){d.fF.assertAnyValue(V,"pbivizJsonString");var p=V;"object"!=typeof V&&(p=JSON.parse(V));var C=(0,u.S)(p,this.locale,0);(0,r.L)(C);var b=o.N[C.name];return b&&!b.custom&&(C.custom=!1),b&&(C.favoriteId=b.favoriteId,C.isOutOfBox=b.isOutOfBox),o.N[C.name]=C,C},m.prototype.loadBlob=function(f,V,p){var C=this.promiseFactory.defer(this.telemetryV2Enabled);return p.contentBlob?C.resolve(p.contentBlob):p.promise?p.promise.then(function(b){return C.resolve(b)}):(p.promise=this.provider.getBlob(f,V,p.path,{retries:1}),p.promise.then(function(b){p.contentBlob=b,C.resolve(b)}).catch(function(b){C.reject(b)}).finally(function(){delete p.promise})),C.promise},(0,e.__decorate)([(0,l.U)(h.XH),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,String]),(0,e.__metadata)("design:returntype",Object)],m.prototype,"loadResourcePackageItem",null),m}()},698883:function(Xe,H,t){function e(S,h){var c=S.capabilities,r=l(S,h)||l(S,"en-US");return c&&r&&o(c,r),S}function l(S,h){var c=v(h);return S&&S.stringResources?S.stringResources[c]:null}function o(S,h){for(var c in S)S.hasOwnProperty(c)&&("object"==typeof S[c]?o(S[c],h):"displayNameKey"===c&&S.displayName?S.displayName=d(h,S.displayNameKey)||S.displayName:"descriptionKey"===c&&S.description?S.description=d(h,S.descriptionKey)||S.description:"placeHolderTextKey"===c&&S.placeHolderText&&(S.placeHolderText=d(h,S.placeHolderTextKey)||S.placeHolderText))}function d(S,h){return S[h]}function v(S){return{ar:"ar-SA",bg:"bg-BG",ca:"ca-ES",cs:"cs-CZ",da:"da-DK",de:"de-DE",el:"el-GR","en-US":"en-US",es:"es-ES",et:"et-EE",eu:"eu-ES",fi:"fi-FI",fr:"fr-FR",gl:"gl-ES",he:"he-IL",hi:"hi-IN",hr:"hr-HR",hu:"hu-HU",id:"id-ID",it:"it-IT",ja:"ja-JP",kk:"kk-KZ",ko:"ko-KR",lt:"lt-LT",lv:"lv-LV",ms:"ms-MY",no:"nb-NO",nl:"nl-NL",pl:"pl-PL",br:"pt-BR",pt:"pt-PT",ro:"ro-RO",ru:"ru-RU",sk:"sk-SK",si:"sl-SI","sr-Cyrl":"sr-Cyrl-RS","sr-Latn":"sr-Latn-RS",sv:"sv-SE",th:"th-TH",tr:"tr-TR",uk:"uk-UA",vi:"vi-VN","zh-Hans":"zh-CN","zh-Hant":"zh-TW"}[S]||S||navigator.language}t.d(H,{Kd:function(){return v},qL:function(){return l},zQ:function(){return e}})},348638:function(Xe,H,t){t.d(H,{A:function(){return v}});var e=t(973188),l=t(498342),o=t(179664);function v(h,c,r,s,u,i,a,n){return new S(h,c,s,u,i,a,r,n)}var S=function(h){function c(r,s,u,i,a,n,m,f){var V=h.call(this,r,s,u,i,a,n)||this;return V.resourcePackagesService=m,V.resourcePackageResolver=f,V.resourcePackagesService.getAllPackages(),V}return(0,e.__extends)(c,h),c.prototype.loadResourcePackage=function(r){var s=this;if(l.fF.assertValue(r,"resourcePackage"),r)return this.resourcePackageResolver(r).then(function(u){var i=[];if(u&&u.items&&!u.disabled)for(var n,a=function(C){n=(0,o.dR)(u,C.name,s,s.promiseFactory).then(function(b){C.content=b}),i.push(n)},m=0,f=u.items;m<f.length;m++)a(f[m]);else if(!u||u.disabled)return s.resourcePackagesService.delete(r.name),null;return s.promiseFactory.all(i).then(function(){return h.prototype.loadResourcePackage.call(s,u,!0)})}).catch(function(){return s.resourcePackagesService.delete(r.name),null})},c}(t(577120).Ls)},815046:function(Xe,H,t){t.d(H,{QO:function(){return o},dA:function(){return S},yO:function(){return l}});var e=t(389731);function l(r,s,u,i){void 0===u&&(u=!1),void 0===i&&(i=null);var a={major:1,minor:8,patch:0},n=document.createElement("script");n.innerHTML=u?i&&(0,e.gt)(i,a)||(0,e.eq)(i,a)?function(r){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(r,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                \t\tif (key ===\"window\" || key === \"self\"){\n                                            Object.defineProperty(newWindow, key, {\n                                                get: (function(newWindow) {\n                                                    return function() {\n                                                        return newWindow;\n                                                    }\n                                                })(newWindow),\n                                                set: function() { }\n                                        });\n                                    } else {\n                                        Object.defineProperty(newWindow, key, {\n                                            get: (function(item) {\n                                                return function() {\n                                                    return item;\n                                                }\n                                            })(item),\n                                            set: function() { }\n                                        });\n                                    }\n                                } else if (typeof item === 'number' || typeof item === 'boolean' || typeof item === 'string') {\n                                      Object.defineProperty(newWindow, key, {\n                                          get: (function(w, keyString) {\n                                              return function() {\n                                                  return w[keyString];\n                                              }\n                                          })(w, key.toString()),\n                                          set: (function(w, keyString) {\n                                              return function(newValue) {\n                                                  w[keyString] = newValue;\n                                              }\n                                          })(w, key.toString())\n                                      });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(s):function(r){return"\n                (function(powerbi) {\n                    var window = this;\n\n                    //These 2 lines are needed to trick lodash into using this as global scope\n                    var self = this;\n                    self.Object = Object;\n\n                    //de-reference powerbi loaded modules\n                    var $, jQuery, _;\n                    window.jQuery = window.$ = undefined;\n                    window._ = undefined;\n\n                    ".concat(r,";\n\n                    //overwrite global variables with window values for PowerBI libraries\n                    $ = jQuery = window.$;\n                    _ = window._\n                }).call(\n                    //generate isolated clone of window object\n                    (function(w) {\n                        var wKeys = Object.getOwnPropertyNames(w);\n                        var nextW = w;\n                        while ((nextW = Object.getPrototypeOf(nextW))) {\n                            wKeys = wKeys.concat(Object.getOwnPropertyNames(nextW));\n                        }\n                        var newWindow = Object.create(w);\n                        //rebuild some of the window properties so they work correctly\n                        for (var i = 0; i < wKeys.length; i++) {\n                            try {\n                                var key = wKeys[i];\n                                var item = w[key];\n                                //rebind native functions to proper window context\n                                if (typeof item === 'function') {\n                                    if ((/\\{\\s*\\[native code\\]\\s*\\}/).test('' + Function.prototype.toString.call(item))) {\n                                        newWindow[key] = item.bind(w);\n                                        //remap prototype\n                                        newWindow[key].prototype = item.prototype;\n                                        //remap own properties\n                                        var fKeys = Object.getOwnPropertyNames(item);\n                                        for (var j = 0; j < fKeys.length; j++) {\n                                            var fKey = fKeys[j];\n                                            if(fKey === 'arguments' || fKey === 'caller') continue;\n                                            try {\n                                                newWindow[key][fKey] = item[fKey];\n                                            } catch (e) { /* catch protected function properties */}\n                                        }\n                                    }\n                                //map getters to proper context (needed for firefox only)\n                                } else if (typeof item === 'object') {\n                                    Object.defineProperty(newWindow, key, {\n                                        get: (function(item) {\n                                            return function() {\n                                                return item;\n                                            }\n                                        })(item),\n                                        set: function() { }\n                                    });\n                                }\n                            } catch (e) { /* catch sandbox security exceptions */ }\n                        }\n                        return newWindow;\n                    })(window),\n                    powerbi || (powerbi = {})\n                );\n            ")}(s):s,n.id="js-"+r,n.setAttribute("name",r),document.body.appendChild(n)}function o(r,s){var u=$("<style></style>",{html:s,id:"css-"+r});u.attr("name",r),$("head").append(u)}function S(r){var u=$("#css-"+r)[0],i=_.find(document.styleSheets,function(m){return m.ownerNode===u});if(i&&i.cssRules)for(var a=0;a<i.cssRules.length;a++){var n=i.cssRules[a];if(n.selectorText&&_.includes(n.selectorText,r))return n.style.backgroundImage}return""}},263521:function(Xe,H,t){t.d(H,{JZ:function(){return e},cL:function(){return d},io:function(){return l},un:function(){return o}});var e=3e4,l="dev",o="prod",d="app-store"},472339:function(Xe,H,t){t.d(H,{v:function(){return d}});var e=t(498342),l=t(805659),o=t(25138);function d(){return new v}var v=function(){function S(){this.resourcePackageNameIdLookupTable={},this.packages=[{id:void 0,name:l.AW,type:2,items:[]}]}return S.prototype.getAllPackages=function(){return this.packages},S.prototype.registerPackages=function(h){if(e.fF.assertValue(h,"packages"),h)for(var c=0,r=h;c<r.length;c++){var s=r[c];if(s.items&&0!==s.items.length&&(3!==s.type||!s.disabled)){this.resourcePackageNameIdLookupTable[s.id]=s.name;var u=(0,o.pd)(this.packages,s.type,s.name);if(u)(0,o.In)(s)?(0,o.wq)(u,s):_.merge(u,s);else{var i=_.clone(s);i.items=_.clone(s.items),this.packages.push(i)}}}},S.prototype.getPackage=function(h){return e.fF.assertValue(h,"name"),_.find(this.packages,function(c){return c.name===h})},S.prototype.delete=function(h){e.fF.assertValue(h,"name"),_.remove(this.packages,function(c){return c.name===h})},S.prototype.getPackageById=function(h){var c=this.resourcePackageNameIdLookupTable[h];return c&&this.getPackage(c)},S.prototype.clear=function(){this.packages=[],this.resourcePackageNameIdLookupTable={}},S}()},577120:function(Xe,H,t){t.d(H,{KG:function(){return m},Ls:function(){return P}});var e=t(973188),l=t(7431),o=t(522577),d=t(767650),v=t(389731),S=t(563746),h=t(498342),c=t(805659),r=t(893612),s=t(179664),u=t(25138),i=t(237094),a=t(550766),n=t(314055);function m(F,E,w,x,R,g,L){return new P(F,E,w,x,R,g,L)}var P=function(F){function E(w,x,R,g,L,M,T){var O=F.call(this,w,g,null)||this;return h.fF.assertValue(w.promiseFactory,"promiseFactory"),h.fF.assertValue(x,"messageProxy"),h.fF.assertValue(R,"sandboxLoaderUri"),O.approvedResourceService=T,O.featureSwitchService=L,O.locale=w&&w.locale,O.promiseFactory=w.promiseFactory,O.frontEndUrl=null!=M?M:"'self'",O.messageProxy=x,O.sandboxLoaderUri=R,O.provider=g,O.featureSwitchService.featureSwitches.cvDisableResourceLoaderIframe||O.initIFrame(),O}return(0,e.__extends)(E,F),E.prototype.loadResourcePackage=function(w,x){return h.fF.assertValue((0,u.JZ)(w),"resourcePackage is for a custom visual"),this.loadVisualPlugin(w,x)},E.prototype.loadResourcePackages=function(w){h.fF.assertValue(w,"resourcePackages");for(var x=[],R=0,g=w;R<g.length;R++)x.push(this.loadResourcePackage(g[R]));return this.promiseFactory.all(x)},E.prototype.loadTrustedResourcePackages=function(w){return h.fF.assertFail("Not supported"),this.promiseFactory.reject()},E.prototype.loadSharedResource=function(w){return h.fF.assertFail("Not supported"),this.promiseFactory.reject()},E.prototype.loadVisualPlugin=function(w,x){var R=this;h.fF.assertValue(w,"resourcePackage");var g=this.promiseFactory.defer();return this.loadResourcesContent(w).then(function(L){if(L&&!_.isEmpty(L)){var M=_.keyBy(L,"type"),T=M[r.Ut.CustomVisualMetadata];if(T)try{var A=(0,d.K)(T.content),I=(0,n.S)(A,R.locale,x?1:0);(0,i.L)(I);var B=S.N[I.name];B&&(I.favoriteId=B.favoriteId,I.isOutOfBox=B.isOutOfBox),I.developerModeVisual=w.developerModeVisual,I.apiVersion&&(0,v.lt)(I.apiVersion,c.AF)&&(I.isDeprecated=!0),S.N[I.name]=I,g.resolve(I)}catch(U){g.reject(U)}else{if(!R.iframe)return h.fF.assertFail("Legacy visuals are not supported"),R.promiseFactory.reject();R.messageProxy.postMessageAsync({eventName:"loadVisualPluginWithContent",arguments:[{pluginName:w.name,mappedPluginContent:M}]}).then(function(U){var W=U,j=S.N[W.name];j&&!j.custom||(W.custom=!0,W.capabilities.objects=(0,l.vB)(W.capabilities.objects),(0,i.L)(W),R.approvedResourceService&&R.approvedResourceService.isApprovedVisualsDefined()&&(W.isDeprecated=!0),S.N[W.name]=W,g.resolve(W))}).catch(function(U){g.reject(U)})}}else g.resolve(null)}).catch(function(L){g.reject(L)}),g.promise},E.prototype.loadVisualPlugins=function(w){h.fF.assertValue(w,"resourcePackages");var x=[];if(w)for(var R=0,g=w;R<g.length;R++)x.push(this.loadVisualPlugin(g[R]));return this.promiseFactory.all(x)},E.prototype.destroy=function(){this.iframe&&(this.iframe.remove(),this.iframe=null,this.messageProxy.destroy(),this.messageProxy=null,this.contentWindow=null)},E.prototype.initIFrame=function(){var w=this,x=this.sandboxLoaderUri,R={};if(o.s.getQueryStringValue("unmin")&&(R.unmin="1"),R.emCVBundle=this.featureSwitchService.featureSwitches.emCVBundle?"1":"0",this.featureSwitchService.featureSwitches.cvEnableResourceLoaderCSP){var L="default-src ".concat(this.frontEndUrl," 'unsafe-inline'");R.csp=btoa(L)}x+=o.s.rebuildQueryString(R),this.iframe=$('<iframe role="presentation" class="sandbox-resource-loader ng-hide" sandbox="allow-scripts"></iframe>').attr("src",x).one("load",function(){return w.onIFrameLoad()}).appendTo(document.body)},E.prototype.onIFrameLoad=function(){this.contentWindow=this.iframe[0].contentWindow,this.messageProxy.contentWindow=this.contentWindow,this.messageProxy.flushQueue()},E.prototype.loadResourcesContent=function(w){for(var x=[],R=w.id,g=w.name,L=0,M=w.items;L<M.length;L++){var T=M[L];T.type!==r.Ut.CustomVisualIcon&&x.push(this.loadResourceContent(R,g,T,w))}return this.promiseFactory.all(x)},E.prototype.loadResourceContent=function(w,x,R,g){var L=this,M=this.promiseFactory.defer();return R.content?M.resolve(this.getItemContent(R.content,R)):this.provider.get(w,x,R.path).then(function(T){T?M.resolve(L.getItemContent(T,R)):w<0?M.reject("no blob content for client generated rps"):(0,s.dR)(g,R.name,L,L.promiseFactory).then(function(O){M.resolve(L.getItemContent(O,R))})}).catch(function(T){M.reject(T)}),M.promise},E.prototype.getItemContent=function(w,x){var R=_.isString(w)?w:JSON.stringify(w);return x.content=x.type===r.Ut.CustomVisualMetadata?R:void 0,{type:x.type,content:R}},E}(a.N5)},80131:function(Xe,H,t){t.d(H,{DQ:function(){return c},S4:function(){return r},qC:function(){return S},vB:function(){return h}});var e=t(593773),l=t(758205),o=t(498342),d=t(572909),v=t(114096);function S(f){return o.fF.assertValue(f,"instances"),0===f.length?[]:_.map(f,s)}function h(f){return o.fF.assertValue(f,"instances"),0===f.length?[]:_.map(f,u)}function c(f,V){return o.fF.assertValue(f,"containers"),_.map(f,function(p){return{displayName:(0,d.G)(p.displayName,V)}})}function r(f){return o.fF.assertValue(f,"containers"),_.map(f,function(V){return{displayName:V.displayName}})}function s(f){return{objectName:f.objectName,displayName:f.displayName,properties:i(f.properties),selector:(0,e.UZ)(f.selector),altConstantValueSelector:(0,e.UZ)(f.altConstantValueSelector),validValues:f.validValues,containerIdx:f.containerIdx,propertyInstanceKind:f.propertyInstanceKind}}function u(f){return{objectName:f.objectName,displayName:f.displayName,properties:a(f.properties),selector:(0,e.L1)(f.selector),altConstantValueSelector:(0,e.L1)(f.altConstantValueSelector),validValues:f.validValues,containerIdx:f.containerIdx,propertyInstanceKind:f.propertyInstanceKind}}function i(f){var V={};for(var p in f)V[p]=n(f[p]);return V}function a(f){var V={};for(var p in f)V[p]=m(f[p]);return V}function n(f){return f instanceof v.yl?l.ib.serializeFilter(f):void 0===f?null:f}function m(f){return f&&f.From&&f.Where?l.ib.deserializeFilter(f):f}},279667:function(Xe,H,t){t.d(H,{qC:function(){return o},vB:function(){return d}});var e=t(593773),l=t(498342);function o(h){return l.fF.assertValue(h,"repetitions"),_.isEmpty(h)?[]:_.map(h,v)}function d(h){return l.fF.assertValue(h,"repetitions"),_.isEmpty(h)?[]:_.map(h,S)}function v(h){var c={selector:(0,e.UZ)(h.selector),altStaticSelector:(0,e.UZ)(h.altStaticSelector),objects:h.objects};return void 0!==h.allowOverrideSubtotalMatching&&(c.allowOverrideSubtotalMatching=h.allowOverrideSubtotalMatching),c}function S(h){var c={selector:(0,e.L1)(h.selector),altStaticSelector:(0,e.L1)(h.altStaticSelector),objects:h.objects};return void 0!==h.allowOverrideSubtotalMatching&&(c.allowOverrideSubtotalMatching=h.allowOverrideSubtotalMatching),c}},599306:function(Xe,H,t){t.d(H,{DP:function(){return v},NO:function(){return d},_8:function(){return l},th:function(){return o}});var e=t(980101);function l(c){return{colorPalette:d(c.colorPalette),isHighContrast:c.isHighContrast,icons:c.icons}}function o(c){return{colorPalette:v(c.colorPalette),isHighContrast:c.isHighContrast,icons:c.icons}}function d(c){return{dataColors:S(c.dataColors),foreground:c.foreground,foregroundLight:c.foregroundLight,foregroundDark:c.foregroundDark,foregroundNeutralLight:c.foregroundNeutralLight,foregroundNeutralDark:c.foregroundNeutralDark,foregroundNeutralSecondary:c.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:c.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:c.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:c.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:c.foregroundNeutralTertiaryAlt,foregroundSelected:c.foregroundSelected,foregroundButton:c.foregroundButton,background:c.background,backgroundLight:c.backgroundLight,backgroundNeutral:c.backgroundNeutral,backgroundDark:c.backgroundDark,hyperlink:c.hyperlink,tableAccent:c.tableAccent,visitedHyperlink:c.visitedHyperlink,mapPushpin:c.mapPushpin,shapeStroke:c.shapeStroke,disabledText:c.disabledText,selection:c.selection,separator:c.separator}}function v(c){return{dataColors:h(c.dataColors),foreground:c.foreground,foregroundLight:c.foregroundLight,foregroundDark:c.foregroundDark,foregroundNeutralLight:c.foregroundNeutralLight,foregroundNeutralDark:c.foregroundNeutralDark,foregroundNeutralSecondary:c.foregroundNeutralSecondary,foregroundNeutralSecondaryAlt:c.foregroundNeutralSecondaryAlt,foregroundNeutralSecondaryAlt2:c.foregroundNeutralSecondaryAlt2,foregroundNeutralTertiary:c.foregroundNeutralTertiary,foregroundNeutralTertiaryAlt:c.foregroundNeutralTertiaryAlt,foregroundSelected:c.foregroundSelected,foregroundButton:c.foregroundButton,background:c.background,backgroundLight:c.backgroundLight,backgroundNeutral:c.backgroundNeutral,backgroundDark:c.backgroundDark,hyperlink:c.hyperlink,visitedHyperlink:c.visitedHyperlink,mapPushpin:c.mapPushpin,shapeStroke:c.shapeStroke,disabledText:c.disabledText,tableAccent:c.tableAccent,selection:c.selection,separator:c.separator}}function S(c){return{colors:c.getAllColors(),sentimentColors:c.getSentimentColors(),gradientColors:c.getGradientColors()}}function h(c){return new e.fJ(c.colors,c.sentimentColors,c.gradientColors)}},304722:function(Xe,H,t){t.d(H,{G:function(){return c},k:function(){return r}});var e=t(563746),l=t(498342),o=t(805659),d=t(893612),v=t(275048),S=t(237094),h=t(314055);function c(u,i,a,n,m,f,V){return new s(u,i,a,n,m,f,V)}var r=".pbiviz.json",s=function(){function u(i,a,n,m,f,V,p){this.approvedResourceService=a,this.resourcePackagesService=n,this.featureSwitchService=m,this.telemetryService=f,this.onlyApprovedForServerRenderResources=V,this.resourceLoaderInitOptions=p,this.locale=i&&i.locale,this.promiseFactory=i.promiseFactory}return u.prototype.loadTrustedResourcePackages=function(i){var a=[];if(i&&i.length>0)for(var n=9999,m=0,f=i;m<f.length;m++){var V=f[m];if(e.N[V])a.push(this.promiseFactory.resolve([e.N[V]]));else{var p={id:n++,name:V,type:0,items:[{name:V,type:d.Ut.CustomVisualMetadata,path:V+r}]};this.resourcePackagesService.registerPackages([p]),a.push(this.loadResourcePackage(p))}}return this.promiseFactory.all(a)},u.prototype.loadResourcePackages=function(i){l.fF.assertValue(i,"resourcePackages");for(var a=[],n=0,m=i;n<m.length;n++)a.push(this.loadResourcePackage(m[n]));return this.promiseFactory.all(a)},u.prototype.loadResourcePackage=function(i){var a=this;return l.fF.assertValue(i,"resourcePackage"),this.resourceLoaderInitOptions&&!this.resourceLoaderInitOptions.getApprovedResourcesEnabled()?this.promiseFactory.all([]):this.approvedResourceService.loadApprovedResourcesMetadata(this.promiseFactory,this.onlyApprovedForServerRenderResources).catch(function(m){return a.promiseFactory.reject(m)}).then(function(){var m=[];if(a.onlyApprovedForServerRenderResources&&!a.approvedResourceService.isApprovedResource(i.name))return a.promiseFactory.reject("Visual is not an approved visual");if(!a.approvedResourceService.hasApi(i.name))return a.promiseFactory.reject("The trusted visual does not have a supported API version for this client");var f=a.loadCustomVisualJson(i.name,i.isPublic);return f.catch(function(V){return a.promiseFactory.reject(V)}),m.push(f),a.promiseFactory.all(m)})},u.prototype.loadResourcePackageItem=function(i,a){return l.fF.assertFail("Not supported"),this.promiseFactory.reject()},u.prototype.loadSharedResource=function(i){return l.fF.assertFail("Not supported"),this.promiseFactory.reject()},u.prototype.loadVisualPlugins=function(i){return l.fF.assertFail("Not supported"),this.promiseFactory.reject()},u.prototype.loadVisualPlugin=function(i){return l.fF.assertFail("Not supported"),this.promiseFactory.reject()},u.prototype.destroy=function(){},u.prototype.loadCustomVisualJson=function(i,a){var n=this,m=this.promiseFactory.defer(),f=(new Date).toISOString(),V=this.featureSwitchService?!!this.featureSwitchService.featureSwitches.consumePublicCvsWithoutRps:void 0;return this.approvedResourceService.getCustomVisualPbivizJson(i).then(function(p){var C=(new Date).toISOString();n.telemetryService.logEvent(v.EB,{visualType:i,fileName:n.approvedResourceService.customVisualJsonUrlBuilder(i),isClientGenerated:!!a,consumePublicCvsWithoutRps:V,start:f,end:C,parentId:n.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});var b=n.handleLoadResourceResponse(p.data);m.resolve(b)},function(p){var C=(new Date).toISOString(),b=n.handleLoadResourceError(p,i,n.approvedResourceService.customVisualJsonUrlBuilder(i),f,C,a);m.reject(b),m.reject(p.data)}),m.promise},u.prototype.handleLoadResourceError=function(i,a,n,m,f,V){var p=JSON.stringify(i);return this.telemetryService.logEvent(v.d7,{visualType:a,fileName:n,isClientGenerated:!!V,start:m,end:f,parentId:this.telemetryService.root.id,isError:!0,errorSource:"PowerBI",errorCode:p}),p},u.prototype.handleLoadResourceResponse=function(i){var a;try{a=(0,h.S)(i,this.locale,2)}catch(m){return null}a.custom=!0,a.isDeprecated=this.approvedResourceService.isDeprecated(a.name),(a.name===o.Jo||a.name===o.C||a.name===o.x5&&this.featureSwitchService.featureSwitches.powerAutomateNativeVisual)&&(a.custom=!1);var n=e.N[a.name];return n&&(a.favoriteId=n.favoriteId,a.isOutOfBox=n.isOutOfBox),(0,S.L)(a),e.N[a.name]=a,a},u}()},743916:function(Xe,H,t){t.d(H,{R:function(){return l}});var e=t(498342),l=function(){function o(d){this.promiseFactory=d,e.fF.assertValue(d,"promiseFactory"),this.promiseFactory=d}return o.prototype.loadResourcePackage=function(d){return this.promiseFactory.resolve()},o.prototype.loadResourcePackages=function(d){return this.promiseFactory.resolve()},o.prototype.loadTrustedResourcePackages=function(d){return this.promiseFactory.resolve()},o.prototype.loadResourcePackageItem=function(d,v){return this.promiseFactory.resolve()},o.prototype.loadSharedResource=function(d){return this.promiseFactory.resolve()},o.prototype.loadVisualPlugin=function(d){return this.promiseFactory.resolve(null)},o.prototype.loadVisualPlugins=function(d){return this.promiseFactory.resolve()},o.prototype.destroy=function(){},o}()},651136:function(Xe,H,t){t.d(H,{F:function(){return d},X:function(){return v}});var e=t(498342),l=t(805659),o=t(275048),d=function(h){return h[h.NotRequired=0]="NotRequired",h[h.Declined=1]="Declined",h[h.Approved=2]="Approved",h}({});function v(h,c){return new S(h,c)}var S=function(){function h(c,r){this.promiseFactory=c,this.telemetryService=r,this.cachedConsentMap={},this.visualConsentOptionsMap={}}return h.prototype.registerVisualConsent=function(c,r){var s=this;e.fF.assertValue(r,"VisualConsentService: registerVisualConsent was called with missing options object"),e.fF.assert(function(){return!s.visualConsentOptionsMap[c]},"VisualConsentService: registerVisual was already called for visual "+c),this.visualConsentOptionsMap[c]=r,this.telemetryService.logEvent(o.MU,{visualType:c,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),this.loadConsentAsync(c)},h.prototype.hasConsent=function(c){return this.cachedConsentMap[c]},h.prototype.setConsent=function(c,r){if(!this.isConsentRequiringVisual(c))return this.promiseFactory.reject("Visual type does not require consent");this.cachedConsentMap[c]=r;var s=this.visualConsentOptionsMap[c]&&this.visualConsentOptionsMap[c].consentPersistencyProvider;return this.telemetryService.logEvent(o.tH,{visualType:c,userConsent:r,parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"}),s?s.saveConsent(r):this.promiseFactory.reject("No persistencyProvider was set for visual "+c)},h.prototype.getConsent=function(c){var r=this,s=[];c=_.uniq(c),this.telemetryService.logEvent(o.Jf,{visualTypes:c.join(", "),parentId:this.telemetryService.root.id,isError:!1,errorSource:"PowerBI"});for(var u=function(V){if(!i.isConsentRequiringVisual(V))return s.push(i.promiseFactory.resolve({visualType:V,consent:d.NotRequired})),"continue";s.push(i.loadConsentAsync(V).then(function(C){return C?r.promiseFactory.resolve({visualType:V,consent:d.Approved}):r.showConsentDialog(V)}))},i=this,a=0,n=c;a<n.length;a++)u(n[a]);return this.promiseFactory.allSettled(s).then(function(f){return _.map(_.filter(f,function(V){return 0===V.type}),function(V){return V.value})})},h.prototype.isConsentRequiringVisual=function(c){return!!this.visualConsentOptionsMap[c]},h.prototype.loadConsentAsync=function(c){var r=this;if(e.fF.assertValue(this.visualConsentOptionsMap[c],"VisualConsentService.getConsentAsync: Visual type is not registered for consent"),void 0!==this.cachedConsentMap[c])return this.promiseFactory.resolve(this.cachedConsentMap[c]);var s=this.visualConsentOptionsMap[c]&&this.visualConsentOptionsMap[c].consentPersistencyProvider;return s?s.loadConsent().then(function(u){return r.cachedConsentMap[c]=u,r.promiseFactory.resolve(u)}).catch(function(u){if(u!==l.VT)return r.promiseFactory.reject(u)}):this.promiseFactory.reject("VisualConsentService.getConsentAsync: Missing consentPersistencyProvider for visual "+c)},h.prototype.showConsentDialog=function(c){var r=this;if(!this.isConsentRequiringVisual(c))return this.promiseFactory.reject("VisualConsentService.showConsentDialog: Visual type does not require consent");var s=this.visualConsentOptionsMap[c]&&this.visualConsentOptionsMap[c].consentDialogProvider;return s?s.showConsentDialog().then(function(u){return r.setConsent(c,u),r.promiseFactory.resolve({visualType:c,consent:u?d.Approved:d.Declined})}).catch(function(u){return r.promiseFactory.reject(u)}):this.promiseFactory.reject("VisualConsentService.showConsentDialog: Missing consentDialogProvider for visual "+c)},h}()},84190:function(Xe,H,t){function e(){return new l}t.d(H,{z:function(){return e}});var l=function(){function o(){this.listeners=[]}return o.prototype.associate=function(d,v){for(var S=0,h=this.listeners;S<h.length;S++)h[S].onInstanceAssociated(d,v)},o.prototype.subscribeToInstanceIdAssociation=function(d){_.includes(this.listeners,d)||this.listeners.push(d)},o}()},664837:function(Xe,H,t){t.d(H,{Os:function(){return c},ZM:function(){return S},wl:function(){return h}});var e=t(563746),l=t(498342),o=t(805659),d=t(275048),v=t(344029),S=function(){function r(){this.visualPlugins={},this.loadedVisualPlugins={}}return r.prototype.getLoadedPlugins=function(){return _.map(this.loadedVisualPlugins,function(s){return s})},r.prototype.getLoadedPlugin=function(s){return this.loadedVisualPlugins[s]},r.prototype.hasPlugin=function(s){return!!this.visualPlugins[s]},r.prototype.loadPlugin=function(s,u){if(u){var i=this.visualPlugins[s];(null==i||!0===i.custom||u.developerModeVisual)&&(this.visualPlugins[s]=u)}this.loadedVisualPlugins[s]=this.visualPlugins[s]},r.prototype.unloadPlugin=function(s){delete this.loadedVisualPlugins[s]},r}();function h(r,s,u,i,a,n){l.fF.assertValue(s,"promiseFactory"),l.fF.assertValue(i,"resourcePackage");var m=s.defer();if(i.name===o.C&&!i.isPublic)return m.resolve(null),m.promise;if(!a&&r.hasPlugin(i.name))r.loadPlugin(i.name),m.resolve(null);else if(!a&&e.N[i.name])r.loadPlugin(i.name,e.N[i.name]),m.resolve(null);else if(_.isEmpty(i.items))m.reject("Resource package does not contain any items");else{var f;l.fF.assertValue(u,"resourceLoader"),n&&(f=n.startEvent(d.F$,{resourcePackageName:i.name})),u.loadResourcePackage(i).catch(function(V){l.fF.assertFail("Custom visual "+i.name+" failed to load: "+V)}).finally(function(){var V=e.N[i.name];V?(V.iconUrl||(V.iconUrl=(0,v.sG)(i.name)),r.loadPlugin(V.name,V),m.resolve(null),f&&f.resolve()):(m.reject("Unable to load visual plugin from resource package"),f&&f.reject())})}return m.promise}function c(r,s){l.fF.assertValue(r,"storage"),l.fF.assertValue(s,"plugins");for(var u=0,i=s;u<i.length;u++){var a=i[u];r.loadPlugin(a.name,a)}}},344029:function(Xe,H,t){t.d(H,{i8:function(){return F},sG:function(){return w}});var e=t(845173),l=t(977691),o=t(861344),d=t(772034),v=t(38488),S=t(933346),h=t(505078),c=t(412627),r=t(790012),s=t(635019),u=t(380073),i=t(442137),a=t(784970),n=t(709787),m=t(620056),f=t(999738),V=t(2304),p=t(10711),C=t(604284),b=t(615116),y=t(643293),D=t(781322);function F(x,R,g,L){return function(x,R,g,L){var M=(0,D.ED)(x);return M.create=R,M.createES6=g,L&&L(M),M}(x,R,L,function(M){return function(x,R){if(R)switch(x.name){case y.D.actionButton:x.capabilities=(0,e.mx)(R);break;case y.D.scatterChart:x.capabilities=(0,n.r4)(R);break;case y.D.areaChart:x.capabilities=(0,u.yg)(!1,!0,R);break;case y.D.lineChart:x.capabilities=(0,u.yg)(!1,!1,R);break;case y.D.stackedAreaChart:x.capabilities=(0,u.yg)(!0,!0,R);break;case y.D.waterfallChart:x.capabilities=(0,b.GJ)(R);break;case y.D.lineStackedColumnComboChart:x.capabilities=(0,d.p5)(!0,R);break;case y.D.lineClusteredColumnComboChart:x.capabilities=(0,d.p5)(!1,R);break;case y.D.columnChart:case y.D.hundredPercentStackedColumnChart:x.capabilities=(0,o.nn)(!1,!0,!1,R);break;case y.D.barChart:case y.D.hundredPercentStackedBarChart:x.capabilities=(0,o.nn)(!0,!0,!1,R);break;case y.D.clusteredBarChart:x.capabilities=(0,o.nn)(!0,!1,!1,R);break;case y.D.clusteredColumnChart:x.capabilities=(0,o.nn)(!1,!1,!1,R);break;case y.D.ribbonChart:x.capabilities=(0,o.nn)(!1,!0,!0,R);break;case y.D.pivotTable:x.capabilities=(0,a.R)(R);break;case y.D.filledMap:x.capabilities=(0,h.XN)(R);break;case y.D.azureMap:x.capabilities=(0,l.$E)(R);break;case y.D.map:x.capabilities=(0,i.NC)(R);break;case y.D.donutChart:case y.D.pieChart:x.capabilities=(0,S.cw)(R);break;case y.D.kpi:x.capabilities=(0,s.pW)(R);break;case y.D.funnel:x.capabilities=(0,c.qW)(R);break;case y.D.shapeMap:x.capabilities=(0,m.x)();break;case y.D.table:x.capabilities=(0,V.Y)(R);break;case y.D.tableEx:x.capabilities=(0,p.k)(R);break;case y.D.treemap:x.capabilities=(0,C.cB)(R);break;case y.D.slicer:x.capabilities=(0,f.st)(R);break;case y.D.keyDriversVisual:x.capabilities=(0,r.yM)();break;case y.D.decompositionTreeVisual:x.capabilities=(0,v.Sd)(R)}}(M,g)})}function w(x){var g=$("#css-"+x)[0],L=_.find(document.styleSheets,function(O){return O.ownerNode===g});if(L&&L.cssRules)for(var M=0;M<L.cssRules.length;M++){var T=L.cssRules[M];if(T.selectorText&&T.selectorText===".visual-icon."+x)return T.style.backgroundImage}return""}},130821:function(Xe,H,t){t.d(H,{R:function(){return o},w:function(){return d}});var e=t(563746),l=t(288006);function o(v){return!!e.N[v]}function d(v,S,h,c,r,s,u){var i;r&&r.isRunning()&&(i=r.createChildActivity({name:"Visual Container Module Load"}));var a=function(){var f=S.getPlugin(v);return f&&f.module?f.createES6&&!f.module.css?(i&&i.resolve(),c.resolve(f)):h.require({javascript:f.createES6?void 0:f.module.javascript,css:f.module.css}).then(function(){return i&&i.resolve(),f},function(){return i&&i.reject(),null}):(i&&(f?i.resolve():i.reject()),s?l.I.resolve(f):c.resolve(f))};if(u){var n=u.ensureCustomVisual(v);if(n)return n.then(a)}return a()}},360964:function(Xe,H,t){t.d(H,{Se:function(){return c},vh:function(){return S},vt:function(){return r},ww:function(){return h}});var e=t(871746),l=t(423610),o=t(643293),d=["play","subview","smallMultiple"],v=new e.o(function(){var s;return(s={})[o.D.card]=!0,s[o.D.gauge]=!0,s[o.D.image]=!0,s[o.D.kpi]=!0,s[o.D.textbox]=!0,s});function S(s,u){return s?!!s.custom:!_.includes(d,u)}function h(s){return s&&s.capabilities&&s.capabilities.dataViewMappings&&!!(0,l.oy)(s.capabilities.dataViewMappings)}function c(s,u){return"pythonVisual"===s||!(!u||!u.scriptVisualEnabled)}function r(s){return!!s&&!!v.getValue()[s.name]}},314055:function(Xe,H,t){t.d(H,{S:function(){return C}});var e=t(498342),l=t(225069),o=t(85179),v=3e4;function a(b){return!!(b&&b.propertyIdentifier&&b.propertyIdentifier.objectName&&b.propertyIdentifier.propertyName)}function V(b,y){var D;if(y)return b&&(D=b[y.propertyIdentifier.objectName]),(0,o.N)(D,y.propertyIdentifier.propertyName,y.defaultValue)}var p=t(698883);function C(b,y,D){e.fF.assertAnyValue(b,"pbivizjson"),e.fF.assertAnyValue(b.content,"content"),e.fF.assertAnyValue(b.content.iconBase64,"iconBase64"),b=y?(0,p.zQ)(b,y):b;var P=y?(0,p.qL)(b,y):null,F=(0,p.qL)(b,"en-US"),w={name:b.visual.guid,apiVersion:b.apiVersion,class:b.visual.visualClassName,displayName:b.visual.displayName,capabilities:b.capabilities,custom:!0,iconUrl:'url("'+b.content.iconBase64+'")',content:b.content,version:b.visual.version,create:function(){return null},customizeQuery:function(R){return null},localizationResources:P||F?{enUSStrings:F,localizedStrings:P}:null,supportUrl:b.visual.supportUrl,source:D,publisher:b.author?b.author.name:void 0};return b.capabilities&&(b.capabilities.subtotals||b.capabilities.dataReductionCustomization)&&(w.customizeQuery=function(x){return function(b,y){y&&y.subtotals&&y.subtotals.matrix&&function(b){return b&&function(b){return b&&a(b.columnSubtotals)&&a(b.columnSubtotalsPerLevel)&&a(b.levelSubtotalEnabled)&&a(b.rowSubtotals)&&a(b.rowSubtotalsPerLevel)}(b.matrix)}(y.subtotals)&&function(b,y){e.fF.assert(function(){return!!b},"options not defined"),e.fF.assert(function(){return!!b.dataViewMappings},"dataViewMappings not defined");var D=b.dataViewMappings[0];if(D&&D.matrix&&D.metadata){var P=D.matrix;(function(b,y,D){var P=b.metadata.objects,F=b.metadata.columns,E=y.rows.for.in.items,w=V(P,D.rowSubtotals),x=2,R=V(P,D.rowSubtotalsPerLevel);if(null!=D.rowSubtotalsType&&"Top"===V(P,D.rowSubtotalsType)&&(x=1),!_.isEmpty(E))for(var L=function(N,A){var I=E[N],B=_.find(F,function(W){return W.queryName===I.queryName});if(!B)return"continue";var U=V(B.objects,D.levelSubtotalEnabled);I.subtotalType=!w||R&&!U?0:x},M=0,T=E.length;M<T;M++)L(M)})(D,P,y),function(b,y,D){var P=b.metadata.objects,F=b.metadata.columns,E=y.columns.for.in.items,w=V(P,D.columnSubtotals),x=V(P,D.columnSubtotalsPerLevel);if(!_.isEmpty(E))for(var R=function(O){var N=_.find(F,function(I){return I.queryName===O.queryName});if(!N)return"continue";var A=V(N.objects,D.levelSubtotalEnabled);O.subtotalType=!w||x&&!A?0:2},g=0,L=E;g<L.length;g++)R(L[g])}(D,P,y)}}(b,y.subtotals.matrix),y&&y.dataReductionCustomization&&function(b,y){var D,P,F,E,w,x,R,g,L,M,T,O,N,A=null===(D=null==b?void 0:b.dataViewMappings)||void 0===D?void 0:D[0],I=null===(P=null==A?void 0:A.metadata)||void 0===P?void 0:P.objects,B=(0,l._1)(b.dataViewMappings);if(function(b,y,D){var P=!0;if(!y||!y.dataReductionCustomization)return!1;switch(b){case 2:if(D.matrix){var F=V(y,D.matrix.rowCount),E=V(y,D.matrix.columnCount);void 0!==F&&(P=P&&F>=15&&F<=v),void 0!==E&&(P=P&&E>=1&&E<=2e3)}break;case 8:D.table&&void 0!==(F=V(y,D.table.rowCount))&&(P=P&&F>=15&&F<=v);break;case 1:if(D.categorical){var w=V(y,D.categorical.categoryCount),x=V(y,D.categorical.groupedValuesCount);void 0!==w&&(P=P&&w>=15&&w<=v),void 0!==x&&(P=P&&x>=1&&x<=2e3)}}return P}(B,I,y))switch(B){case 2:var W=V(I,y.matrix.rowCount),j=V(I,y.matrix.columnCount),K=null===(E=null===(F=A.matrix)||void 0===F?void 0:F.columns)||void 0===E?void 0:E.dataReductionAlgorithm,ee=null===(x=null===(w=A.matrix)||void 0===w?void 0:w.rows)||void 0===x?void 0:x.dataReductionAlgorithm;j&&K&&(K[(0,l.Xs)(K)].count=j),W&&ee&&(ee[(0,l.Xs)(ee)].count=W);break;case 8:W=V(I,y.table.rowCount),ee=null===(g=null===(R=null==A?void 0:A.table)||void 0===R?void 0:R.rows)||void 0===g?void 0:g.dataReductionAlgorithm,W&&ee&&(ee[(0,l.Xs)(ee)].count=W);break;case 1:var q=V(I,y.categorical.categoryCount),Y=V(I,y.categorical.groupedValuesCount);K=null===(T=null===(M=null===(L=null==A?void 0:A.categorical)||void 0===L?void 0:L.values)||void 0===M?void 0:M.group)||void 0===T?void 0:T.dataReductionAlgorithm,ee=null===(N=null===(O=null==A?void 0:A.categorical)||void 0===O?void 0:O.categories)||void 0===N?void 0:N.dataReductionAlgorithm,Y&&K&&(K[(0,l.Xs)(K)].count=Y),q&&ee&&(ee[(0,l.Xs)(ee)].count=q)}}(b,y.dataReductionCustomization)}(x,b.capabilities)}),w}},127112:function(Xe,H,t){t.d(H,{et:function(){return o},zC:function(){return h},zM:function(){return d}});var e=t(498342),l=t(382088),o="message",d="error",v="message",S="onMessageProxyAsyncComplete";function h(r,s){return new c(r,s)}var c=function(){function r(s,u){var i=this;this.promiseFactory=s,this._queue=[],this._allowSameWindow=!1,this.handlers={message:[],error:[]},this.isFlushing=!1,u&&(this._contentWindow=u),this.deferredCache={},this.windowMessageHandler=function(a){return i.onMessageReceived(a.originalEvent)},$(window).on(v,this.windowMessageHandler)}return Object.defineProperty(r.prototype,"allowSameWindow",{get:function(){return this._allowSameWindow},set:function(u){this._allowSameWindow=u},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"contentWindow",{get:function(){return this._contentWindow},set:function(u){e.fF.assertValue(u,"value"),this._contentWindow=u},enumerable:!1,configurable:!0}),Object.defineProperty(r.prototype,"queue",{get:function(){return jQuery.extend([],this._queue)},enumerable:!1,configurable:!0}),r.prototype.postMessage=function(s){this.contentWindow?this.sendMessage(s):this.queueMessage(s)},r.prototype.postMessageAsync=function(s){var u=this,i=this.promiseFactory.defer(),a=this.createRandomString();return this.deferredCache[a]=i,s.id=a,this.postMessage(s),i.promise.finally(function(){delete u.deferredCache[a]}),i.promise},r.prototype.queueMessage=function(s,u){void 0===u&&(u=this._queue.length);var i=this.prepareMessage(s);this._queue.splice(u,0,i)},r.prototype.on=function(s,u){e.fF.assertValue(s,"type"),e.fF.assertValue(u,"handler"),this.handlers[s]&&(this.handlers[s].indexOf(u)>-1||this.handlers[s].push(u))},r.prototype.off=function(s,u){if(e.fF.assertValue(s,"type"),this.handlers[s]){if(!u)return void(this.handlers[s].length=0);var i=this.handlers[s].indexOf(u);i>-1&&this.handlers[s].splice(i,1)}},r.prototype.flushQueue=function(){this.isFlushing||!this.contentWindow||(this.isFlushing=!0,this.contentWindow.postMessage&&this.contentWindow.postMessage(this._queue,"*"),this._queue.length=0,this.isFlushing=!1)},r.prototype.sendMessage=function(s){var u=this.prepareMessage(s);this.contentWindow?this.contentWindow.postMessage&&this.contentWindow.postMessage(u,"*"):e.fF.assertFail("contentWindow not set")},r.prototype.prepareMessage=function(s){var u;try{u=JSON.stringify(s)}catch(i){throw u=null,l.b$.ensureError(i)}return u},r.prototype.onMessageReceived=function(s){if(this.allowSameWindow||s.source!==window){var u;try{u="string"==typeof s.data?JSON.parse(s.data):s.data}catch(p){u=null}if(u)for(var a=0,n=jQuery.isArray(u)?u:[u];a<n.length;a++){var m=n[a],f=void 0,V=void 0;try{"string"==typeof m?(f=JSON.parse(m),V=m.length):(f=m,V=s.data.length)}catch(p){f=null}if(!f)return;this.dispatchMessage(s,f,V)}}},r.prototype.dispatchMessage=function(s,u,i){var a={message:u,source:s.source,origin:s.origin,packedSize:i};if(u.id&&(u.eventName===S||u.result||u.error)){var n=this.deferredCache[u.id];return n?u.error?n.reject(u.error):n.resolve(u.result):void 0}for(var f=0,V=u.error?this.handlers.error:this.handlers.message;f<V.length;f++)this.invokeHandler(V[f],a)},r.prototype.invokeHandler=function(s,u){var a,n,i=this;u.message.id&&(n={id:u.message.id,eventName:S,arguments:[]});try{a=s.call(null,u),n&&this.promiseFactory.when(a).then(function(m){n.result=m,i.postMessage(n)}).catch(function(m){n.error=m,i.postMessage(n)})}catch(m){n&&(n.error={message:m.message},this.postMessage(n))}},r.prototype.createRandomString=function(){return(Math.random()+1).toString(36).substring(7)},r.prototype.destroy=function(){this.handlers.message.length=0,this.handlers.error.length=0,$(window).off(v,this.windowMessageHandler),this.windowMessageHandler=null},r}()},275048:function(Xe,H,t){t.d(H,{B0:function(){return K},Cl:function(){return x},Cq:function(){return u},Cx:function(){return Y},EB:function(){return v},F$:function(){return r},FM:function(){return q},IX:function(){return j},JT:function(){return g},Jf:function(){return V},LU:function(){return h},MU:function(){return a},OO:function(){return C},Qr:function(){return y},XH:function(){return L},bn:function(){return G},d7:function(){return o},eb:function(){return O},ek:function(){return he},fU:function(){return B},hZ:function(){return ie},jN:function(){return E},ok:function(){return U},sT:function(){return P},tH:function(){return m},w9:function(){return W},wY:function(){return A}});var e=t(947634),l="PBI.ApprovedResource.FailLoaded",o=e.cx[l]=(0,e.b1)(l),d="PBI.ApprovedResource.SuccessfulLoad",v=e.cx[d]=(0,e.b1)(d),S="PBI.ApprovedResource.EndpointDown",h=e.cx[S]=(0,e.b1)(S),c="PBI.ApproveResource.LoadResourcePackage",r=e.cx[c]=(0,e.b1)(c),s="PBI.AppSourceResource.EndpointDown",u=e.cx[s]=(0,e.b1)(s),i="PBI.VisualConsent.Register",a=e.cx[i]=(0,e.b1)(i),n="PBI.VisualConsent.Set",m=e.cx[n]=(0,e.b1)(n),f="PBI.VisualConsent.Get",V=e.cx[f]=(0,e.b1)(f),p="PBI.VisualEvent.DownloadContentEvent",C=e.cx[p]=(0,e.b1)(p),b="PBI.TrustedVisual.Load",y=e.cx[b]=(0,e.b1)(b),D="PBI.TrustedVisual.GetConsent",P=e.cx[D]=(0,e.b1)(D),F="PBI.VisualAuthentication.GetResourceUrl",E=e.cx[F]=(0,e.b1)(F),w="PBI.VisualAuthentication.GetAADToken",x=e.cx[w]=(0,e.b1)(w),R="PBI.VisualAuthentication.GetWACToken",g=e.cx[R]=(0,e.b1)(R),L="PBI.LocalResource.LoadResourcePackageItem",T=(e.cx[L]=(0,e.b1)(L),"PBI.VisualAuthentication.BlockAccessToken"),O=e.cx[T]=(0,e.b1)(T),N="PBI.AdminControl.Initialized",A=e.cx[N]=(0,e.b1)(N),I="PBI.Pbiviz.UnzipFailed",B=e.cx[I]=(0,e.b1)(I),U="PBI.CustomVisualsLicense.LicensesLoaded",W=e.cx[U]=(0,e.b1)(U),j="PBI.CustomVisualsLicense.GetServicePlansCalled",K=e.cx[j]=(0,e.b1)(j),ee="PBI.CustomVisualsLicense.PrefetchServicePlansCalled",ie=e.cx[ee]=(0,e.b1)(ee),he="PBI.VisualEvent.LocalStorageV2Event",q=e.cx[he]=(0,e.b1)(he),Y="PBI.VisualEvent.AcquireAADToken",G=e.cx[Y]=(0,e.b1)(Y)},221743:function(Xe,H,t){t.d(H,{M3:function(){return C},Mm:function(){return S},Xf:function(){return p},bL:function(){return i},cg:function(){return V},jK:function(){return s},nn:function(){return f},oq:function(){return u},qe:function(){return a},st:function(){return n},ul:function(){return r}});var c,e=t(275048),l=t(805659),o=t(389731),d=t(643293),v=function(b){return b[b.FeatureIsDisabled=0]="FeatureIsDisabled",b[b.AllCustomVisualsAreEnabled=1]="AllCustomVisualsAreEnabled",b[b.AllCustomVisualsAreDisabled=2]="AllCustomVisualsAreDisabled",b[b.NonCertifiedCustomVisualsAreDisabled=3]="NonCertifiedCustomVisualsAreDisabled",b[b.FailedEvaluatingState=4]="FailedEvaluatingState",b}({}),S=function(b){return b[b.Unclassified=0]="Unclassified",b[b.NonCertifiedCustomVisual=1]="NonCertifiedCustomVisual",b[b.NonCdnCustomVisual=2]="NonCdnCustomVisual",b[b.CertifiedCustomVisual=3]="CertifiedCustomVisual",b[b.OrganizationalStore=4]="OrganizationalStore",b[b.Native=5]="Native",b}({}),h=[l.Jo,l.C,l.x5];function r(b,y,D){if(void 0===c)try{if(!(y&&b&&b.featureSwitches&&b.featureSwitches.customVisualsTenantSwitch))return c=v.FeatureIsDisabled;y.logChildEvent(D&&D.event,e.wY,{AdminControlState:v[c=b.featureSwitches.customVisualsTenantEnabled?b.featureSwitches.certifiedCustomVisualsTenantEnabled?v.NonCertifiedCustomVisualsAreDisabled:v.AllCustomVisualsAreEnabled:v.AllCustomVisualsAreDisabled]})}catch(P){c=v.FailedEvaluatingState}return c}function s(b,y,D,P,F,E,w){return E||w?m(y,!0,E,w,D,P,F):m(y,b.featureSwitches.customVisualsTenantSwitch,!b.featureSwitches.customVisualsTenantEnabled,b.featureSwitches.certifiedCustomVisualsTenantEnabled,D,P,F)}function u(b){return!(!b||!b.capabilities)&&(b.custom?b.apiVersion&&(0,o.gt)(b.apiVersion,"3.5.0")&&b.capabilities.supportsEmptyDataView:b.capabilities.supportsEmptyDataView)}function i(b,y){return y||b.featureSwitches.customVisualsTenantSwitch&&!b.featureSwitches.customVisualsTenantEnabled}function a(b){return b&&_.endsWith(b,l.c2)}function n(b){return h.includes(b)}function m(b,y,D,P,F,E,w){return!(!y||b===l.Jo||n(b)||a(b)||w)&&(!!D||!(!P||F.isApprovedResourceServerRender(b))&&(!E||F.isApprovedVisualsDefined()))}function f(b,y,D){return D?a(y)?S.OrganizationalStore:b.isApprovedVisualsDefined()?b.isApprovedResourceServerRender(y)?S.CertifiedCustomVisual:b.isApprovedResource(y)?S.NonCertifiedCustomVisual:S.NonCdnCustomVisual:S.Unclassified:S.Native}function V(b){switch(b){case 0:return"allow-scripts";case 1:return"allow-popups";case 2:return"allow-same-origin";case 3:return"allow-forms";case 4:return"allow-top-navigation-by-user-activation";case 5:return"allow-downloads"}}function p(b){return b&&b===d.D.debugVisual}function C(b,y){return y?b.name.replace(/_DEBUG$/,""):b.name}},179664:function(Xe,H,t){t.d(H,{PR:function(){return V},z_:function(){return m},dR:function(){return C},sQ:function(){return n},yl:function(){return f},FD:function(){return p},CJ:function(){return a},k4:function(){return y},_q:function(){return D}});var e=t(593773),l=t(498342),o=t(504898),d=t(546368),v=t(204553),S=t(512322),h=t(73673),c=t(893612);function r(E,w){return u(E,w,!1)}function s(E,w){return u(E,w,!0)}function u(E,w,x){if(void 0!==E){var R=w.defer(),g=new FileReader;return g.onload=function(){R.resolve(g.result)},g.onerror=function(){R.reject(g.error)},x?g.readAsText(E):g.readAsDataURL(E),R.promise}}var i=t(25138);function a(E,w,x,R,g,L){if(l.fF.assertValue(g,"promiseFactory"),!E)return g.resolve(null);for(var T=[],O=0,N=F(E,w,L);O<N.length;O++){var A=N[O],I=A.getRefValue();T.push(f(I,x(),R,g,{itemTypeFromReference:A.itemType}))}return g.all(T)}function n(E,w,x,R,g,L,M){if(l.fF.assertValue(g,"promiseFactory"),!E)return g.resolve(null);for(var T=(0,e.xF)(E,w,void 0,!1),O=(0,e.wN)(T,w),N=F(O,w),A=[],I=function(ee){var ie=ee.getRefValue(),he=null!=M&&M.isRunning()?M.createChildActivity({name:"Visual Container Resource Load",resourceType:ie.packageType}):void 0,q=f(ie,x,R,g,{usePersistableFormat:L,itemTypeFromReference:ee.itemType}).then(function(Y){ee.setRefValue(Y),he&&he.resolve()}).catch(function(){he&&he.reject()});A.push(q)},B=0,U=N;B<U.length;B++)I(U[B]);var j=g.defer();return g.all(A).then(function(){return j.resolve(O)}),j.promise}function m(E,w){return!!E&&F(E,w).length>0}function f(E,w,x,R,g){return p(w,{packageType:E.packageType,packageName:E.packageName,itemName:E.itemName},x,R,g).then(function(M){return null==M?(0,S.IF)():(0,S.fL)(M)},function(M){return(0,S.IF)()})}function V(E){return l.fF.assertValue(E,"getLoadAndResolveErrorReason: No reason given"),E?"string"==typeof E?E:null!=E.status?E.status.toString():E.stack?E.stack.toString():E.message?E.message.toString():"Unknown reason":"No reason given"}function p(E,w,x,R,g){var L=(0,i.pd)(E,w.packageType,w.packageName);if(!L){o.f.error("Missing resource package ".concat(w.packageType),!0);var M=void 0;if(2===w.packageType&&g&&null!=(M=g.itemTypeFromReference)){var T=(0,i.np)(w.itemName,M);return x.loadSharedResource(T,M).catch(function(O){o.f.error("Error loading shared resource from app ".concat(T," ").concat(V(O)),!1)})}return R.resolve()}return C(L,w.itemName,x,R,g)}function C(E,w,x,R,g){var L=g&&g.usePersistableFormat,M=g&&g.itemTypeFromReference;if(l.fF.assertValue(E,"resource package should exist"),!E)return R.reject(new Error("loadAndResolveContent: no package"));var O,T=(0,i.NW)(E,w);if(!T&&2===E.type&&M&&E&&M&&(T=(0,i.x_)(w,M),E.items.push(T)),l.fF.assertValue(T&&T.path,"resourcePackageReferenceLoader.loadAndResolveContent -\n                In order to load the content of a resource package, the resource package item should exist and have a path"),!T||!T.path)return o.f.error("Missing resource item or path !resourcePackageItem=".concat(!T,", resourcePackageItem.path=").concat(T&&T.path),!0),R.resolve();O=2===E.type?T.content?R.resolve(T.content):T.promise?T.promise:T.promise=x.loadSharedResource(T.path,T.type).finally(function(){delete T.promise}).then(function(A){return A instanceof Blob?T.contentBlob=A:(_.isString(A)||(A=JSON.stringify(A)),T.content=A)},function(A){throw o.f.error("Error loading shared resource from app ".concat(T.path," ").concat(V(A)),!1),A}):x.loadResourcePackageItem(E,w);var N=R.defer();return O.then(function(){(function(E,w,x,R,g){var L=null;if(w){var M=g===c.Ut.ShapeMap||w.type===c.Ut.ShapeMap,T=w.type===c.Ut.BaseTheme||w.type===c.Ut.CustomTheme||w.type===c.Ut.HighContrastTheme,O=3===E.type||0===E.type,N=w.content;if(N)M&&(0,d.pU)(N)&&(N=(0,d.Fj)((0,d.DJ)(N))),L=N;else if(w.contentBlob){if(2===E.type&&w.type===c.Ut.Image||R||M||O||T){var A=x.defer();return(M||O||T?s:r)(w.contentBlob,x).then(function(B){return A.resolve(B)},function(B){return A.resolve(null)}),A.promise}w.contentBlobUrl||(w.contentBlobUrl=window.URL.createObjectURL(w.contentBlob)),L=w.contentBlobUrl}}return x.resolve(L)})(E,T,R,L,M).then(function(A){return N.resolve(A)})}).catch(function(A){return N.reject(A)}),N.promise}function b(E,w,x,R){if(x){var g=(0,i.pd)(x,1);return g?w.loadResourcePackageItem(g,R):E.reject(new Error("loadRegisteredResource: no RegisteredResources package"))}return E.reject(new Error("loadRegisteredResource: no packages"))}function y(E,w,x,R){return b(E,w,x,R).then(function(L){return l.fF.assert(function(){return L instanceof Blob||null==L||"string"==typeof L},"resource item content expected to be Blob or string"),L instanceof Blob?r(L,E):("string"==typeof L&&!(0,d.pU)(L)&&(L=(0,d.wo)(L)),L)})}function D(E,w,x,R){return b(E,w,x,R).then(function(L){return l.fF.assert(function(){return L instanceof Blob||null==L||"string"==typeof L},"resource item content expected to be Blob or string"),L instanceof Blob?s(L,E):L}).then(function(L){try{"string"==typeof L&&(0,d.pU)(L)&&(L=(0,d.Fj)((0,d.DJ)(L)))}catch(M){throw o.f.error("Error decoding registeredResource: ".concat(JSON.stringify(M)),!!M.stack),M}return L})}function F(E,w,x){l.fF.assertValue(E,"definitions");var R=[];return(0,v.Vj)({definitions:E,descriptors:w,visitor:function(L,M,T,O,N){var A=O&&O.geoJson&&1===N.length&&"content"===N[0];if(A){var I=M;if(17===I.type.kind&&17===I.name.kind&&17===I.content.kind&&I.type.value===h.c1){var U=I.name.value;"string"==typeof U&&null==I.content.value&&(x&&x(U,c.Ut.ShapeMap),L=(0,S.nF)((0,i.RJ)(2),2,U),I.content=L)}}if(L instanceof S.nd){var j={getRefValue:function(){return M[T]},setRefValue:function(ee){M[T]=ee}};A&&(j.itemType=c.Ut.ShapeMap),R.push(j)}}}),R}},25138:function(Xe,H,t){t.d(H,{EK:function(){return f},In:function(){return c},JZ:function(){return m},Jp:function(){return h},NM:function(){return r},NW:function(){return i},RJ:function(){return a},Yu:function(){return u},np:function(){return v},pd:function(){return s},wq:function(){return n},x_:function(){return S}});var e=t(498342),l=t(805659),o=t(893612),d={};function v(p,C){return d[C](p)}function S(p,C,b){return{type:C,path:v(p,C),name:p,content:b}}function h(p){return _.keyBy(_.filter(p,function(C){return c(C)}),function(C){return C.name})}function c(p){return e.fF.assertValue(p,"resourcePackage should exist in order to verify if it's a static resource"),e.fF.assertValue(p.type,"resourcePackageType should exist in order to verify if it's a static resource"),!!l.uT[p.type]}function r(p,C,b){e.fF.assert(function(){return _.isArray(p)},"resourcePackages should be an array"),b=a(C,b);var y=s(p,C,b);return y||p.push(y={id:void 0,name:b,type:C,items:[]}),y}function s(p,C,b){return e.fF.assert(function(){return null==p||_.isArray(p)},"Resource packages should be: null, undefined or an array"),b=a(C,b),_.find(p,function(y){return y.type===C&&y.name===b})}function u(p,C,b,y){return i(s(p,C,y),b)}function i(p,C){return e.fF.assertAnyValue(p,"It's possible it doesn't exist, lodash returns undefined for us."),_.find(p&&p.items,function(b){return b.name===C})}function a(p,C){var b=l.xp[p]||C;return e.fF.assertValue(b,"Invalid package name for resource package"),b}function n(p,C){e.fF.assert(function(){return c(p)},"mergeStaticResourcePackages - package1 should be a static resource."),e.fF.assert(function(){return c(C)},"mergeStaticResourcePackages - package2 should be a static resource."),e.fF.assert(function(){return p.type===C.type},"In order to merge resource packages, their types should be equal"),e.fF.assert(function(){return p.name===C.name},"In order to merge resource packages, their names should be equal"),null==p.id&&null!=C.id&&(p.id=C.id);for(var b=0,y=C.items;b<y.length;b++){var D=y[b],P=i(p,D.name);P?V(P,D):p.items.push(D)}}function m(p){return p&&(0===p.type||3===p.type)}function f(p){return _.chain(p).filter(function(C){return m(C)}).map(function(C){return C.name}).uniq().value()}function V(p,C){e.fF.assert(function(){return p.name===C.name},"In order to merge resource package items, their names should be equal"),e.fF.assertAnyValue(p.path===C.path,"Usually if the names are equal it must mean that paths are equal,\n                however, there are 2 cases where this is not true:\n                1.- The items are different and we are doing a bad merge:\n                    Ridiculously unlikely and can only happen if 2 items have the same name and same random suffix of 53 random bits, converted to base 10\n                2.- A report was imported into powerbi more than once: \n                    Every time we import we generate a unique path, which means that paths are guaranteed to be different, but names and content are the same\n                Given that is way more likely to win the lottery twice in a lifetime than #1 happening and #2 is perfectly fine we don't care if paths differ.\n            "),e.fF.assert(function(){return p.type===C.type},"In order to merge resource package items, their types should be equal"),null==p.id&&null!=C.id&&(p.id=C.id),!p.content&&C.content&&(p.content=C.content),!p.contentBlob&&C.contentBlob&&(p.contentBlob=C.contentBlob),!p.contentBlobUrl&&C.contentBlobUrl&&(p.contentBlobUrl=C.contentBlobUrl),!p.content&&!p.contentBlob&&!p.promise&&C.promise&&(p.promise=C.promise),e.fF.assert(function(){return!p.content||!p.contentBlob},"A resource package item can't have content and contentBlob at the same time.")}d[o.Ut.BaseTheme]=function(p){return"BaseThemes/".concat(p,".json")},d[o.Ut.CustomTheme]=function(p){return"BuiltInThemes/".concat(p,".json")},d[o.Ut.HighContrastTheme]=function(p){return"HighContrastThemes/".concat(p,".json")},d[o.Ut.Image]=function(p){return"Images/".concat(p)},d[o.Ut.ShapeMap]=function(p){return"Shapemaps/".concat(p,".json")}},879937:function(Xe,H,t){t.d(H,{td:function(){return Wt},Vh:function(){return Dr},nm:function(){return _r},HB:function(){return Xt},lm:function(){return yr}});var e=t(973188),l=t(273269);function o(jt){var Me=jt.type||l.EP.Data;return Me&l.EP.Resize&&2===jt.resizeMode&&(Me|=l.EP.ResizeEnd),Me}var S={version:"1.0.0",overloads:function(Me,Ct){return{update:function(st){Me.update&&Me.update({viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,type:o(st)})},destroy:function(){Me.destroy&&Me.destroy()},enumerateObjectInstances:function(st){return Me.enumerateObjectInstances&&Me.enumerateObjectInstances(st)||[]}}},hostAdapter:function(Me){return{}}},h=t(980101),c=t(366735);function r(jt,Me){for(var Ct,At=Me.split(".");Ct=At.shift();){if(!jt||null==jt[Ct])return!1;jt=jt[Ct]}return!0}var s=t(314928),a={version:"1.1.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var xt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,type:o(st)},_t=Me.constructor.__transform__;_.isFunction(_t)?Me.update(xt,_t(xt.dataViews)):Me.update(xt)}}}},hostAdapter:function(Me){return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colors:r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors()}}},n=t(155088),V={version:"1.2.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var xt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,type:o(st)};Ct.colorPalette.reset();var _t=Me.constructor.__transform__;_.isFunction(_t)?Me.update(xt,_t(xt.dataViews)):Me.update(xt)}}}},hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)}}}},p=t(774355),b={version:"1.3.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host})}}},D={version:"1.4.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),locale:Me.host.locale()}}},F={version:"1.5.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive}}},x={version:"1.6.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var xt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,type:o(st)};Ct.colorPalette.reset();var _t=Me.constructor.__transform__;_.isFunction(_t)?Me.update(xt,_t(xt.dataViews)):Me.update(xt)}}}},hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive}}},R=t(95898),L={version:"1.7.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t){if(st){var Zt=[];Zt.push(st),Me.host.applyJsonFilter(Zt,xt,_t)}else Me.host.applyJsonFilter(null,xt,_t)}}}},T={version:"1.8.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()}}}};function O(jt){return new N(jt)}var N=function(){function jt(Me){this.hostServices=Me.hostServices,this.authenticationService=this.hostServices&&this.hostServices.authenticationService&&this.hostServices.authenticationService(),this.promiseFactory=this.hostServices.promiseFactory()}return jt.prototype.getResourceUrl=function(){return this.authenticationService?this.authenticationService.getResourceUrl():this.promiseFactory.reject()},jt.prototype.getAADAuthenticationToken=function(){return this.authenticationService?this.authenticationService.getAADAuthenticationToken():this.promiseFactory.reject()},jt.prototype.getAADToken=function(){return this.authenticationService?this.authenticationService.getAADToken():this.promiseFactory.reject()},jt.prototype.getWACToken=function(Me,Ct){return this.authenticationService?this.authenticationService.getWACToken(Me,Ct):this.promiseFactory.reject()},jt.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},jt.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},jt}(),I={version:"1.9.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()}}}},B=function(){function jt(Me){this.localizationResources=Me}return jt.prototype.getDisplayName=function(Me){var Ct=this.localizationResources;return Ct&&Ct.localizedStrings&&Ct.localizedStrings.hasOwnProperty(Me)?Ct.localizedStrings[Me]:Ct&&Ct.enUSStrings&&Ct.enUSStrings.hasOwnProperty(Me)?Ct.enUSStrings[Me]:Me},jt}(),W={version:"1.10.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return new s.Z({hostServices:Me.host})},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)}}}},K={version:"1.11.0",hostAdapter:function(Me){var Ct=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){var st=Me.host;return st.selectionManager=new s.Z({hostServices:st}),st.selectionManager},colorPalette:(0,n.D)(Ct),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)}}}},he={version:"1.12.0",overloads:function(Me,Ct){return{update:function(st){if(Me.update){var xt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,operationKind:st.operationKind,type:o(st)};Ct.colorPalette.reset();var _t=Me.constructor.__transform__;_.isFunction(_t)?Me.update(xt,_t(xt.dataViews)):Me.update(xt)}}}},hostAdapter:function(Me){var Ct=Me.host,At=r(Me,"style.colorPalette.dataColors.getAllColors")?Me.style.colorPalette.dataColors.getAllColors():h.ng.getDefaultColors();return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return Ct.selectionManager=new s.Z({hostServices:Ct}),Ct.selectionManager},colorPalette:(0,n.D)(At),persistProperties:function(xt){return Me.host.persistProperties(xt)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(xt,_t,Zt,qt){if(xt){var Er=[];Er.push(xt),Me.host.applyJsonFilter(Er,_t,Zt,qt)}else Me.host.applyJsonFilter(null,_t,Zt,qt)},launchUrl:function(xt){return Me.host.launchUrl(xt)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},Y={version:"1.13.0",hostAdapter:function(Me){var Ct=Me.host;return{createSelectionIdBuilder:function(){return new c.dw},createSelectionManager:function(){return Ct.selectionManager=new s.Z({hostServices:Ct}),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},G=t(413892),me="2.0.0",le={version:me,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=me,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=new s.Z({hostServices:Ct,apiVersion:me}),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:(0,p.r)({hostServices:Me.host}),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},Ee="2.1.0",Je={version:Ee,overloads:function(Me,Ct){return{update:function(st){if(Me.update){var xt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,operationKind:st.operationKind,type:o(st),jsonFilters:st.jsonFilters};Ct.colorPalette.reset();var _t=Me.constructor.__transform__;_.isFunction(_t)?Me.update(xt,_t(xt.dataViews)):Me.update(xt)}}}},hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Ee,{createSelectionIdBuilder:function(){return Ct.createSelectionIdBuilder()},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Ee),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}},_e="2.2.0",fe={version:_e,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=_e,{createSelectionIdBuilder:function(){return Ct.createSelectionIdBuilder()},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(_e),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st){var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()}}}};function oe(jt){return new ye(jt)}var ye=function(){function jt(Me){this.eventService=Me&&Me.eventService&&Me.eventService()}return jt.prototype.renderingStarted=function(Me){this.eventService&&this.eventService.renderingStarted(Me)},jt.prototype.renderingFinished=function(Me){this.eventService&&this.eventService.renderingFinished(Me)},jt.prototype.renderingFailed=function(Me,Ct){this.eventService&&this.eventService.renderingFailed(Me,Ct)},jt}();function Ce(jt){return new Be(jt)}var Be=function(){function jt(Me){this.storageService=Me&&Me.localStorageService&&Me.localStorageService(),this.promiseFactory=Me.promiseFactory()}return jt.prototype.status=function(){return null!=this.storageService?this.storageService.getStorageStatus():this.promiseFactory.resolve(2)},jt.prototype.get=function(Me){return null!=this.storageService&&Me?this.storageService.getStorageData(Me):this.promiseFactory.reject()},jt.prototype.set=function(Me,Ct){return null!=this.storageService&&Me&&Ct?this.storageService.setStorageData(Me,Ct):this.promiseFactory.reject()},jt.prototype.remove=function(Me){null!=this.storageService&&Me&&this.storageService.removeStorageData(Me)},jt}(),be="2.3.0",ve={version:be,overloads:function(Me,Ct){return{update:function(st){if(Me.update){var xt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,operationKind:st.operationKind,jsonFilters:st.jsonFilters,type:o(st),updateId:st.updateId};Ct.colorPalette.reset();var _t=Me.constructor.__transform__;_.isFunction(_t)?Me.update(xt,_t(xt.dataViews)):Me.update(xt)}}}},hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=be,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(be),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:Ce(Ct),eventService:oe(Ct)}}},Re="2.4.0",tt={version:Re,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Re,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Re),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:Ce(Ct),eventService:oe(Ct)}}},mt="2.5.0",ke={version:mt,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=mt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(mt),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:Ce(Ct),eventService:oe(Ct)}}},ft="2.6.0",Ue={version:ft,overloads:function(Me,Ct){return{update:function(st){if(Me.update){var xt={viewport:st.viewport,dataViews:st.dataViews,viewMode:st.viewMode,editMode:st.editMode,isInFocus:!!st.isInFocus,operationKind:st.operationKind,jsonFilters:st.jsonFilters,type:o(st),updateId:st.updateId};Ct.colorPalette.reset();var _t=Me.constructor.__transform__;_.isFunction(_t)?Me.update(xt,_t(xt.dataViews)):Me.update(xt)}}}},hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=ft,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(ft),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:Ce(Ct),eventService:oe(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)}}}},ae="3.2.0",nt={version:ae,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=ae,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(ae),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:Ce(Ct),eventService:oe(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},vt="3.3.0",de={version:vt,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=vt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(vt),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(){return Ct.fetchMoreData()},storageService:Ce(Ct),eventService:oe(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},te="3.4.0",xe={version:te,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=te,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(te),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:Ce(Ct),eventService:oe(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},Z="3.5.0",Fe={version:Z,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Z,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Z),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:Ce(Ct),eventService:oe(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},ze="3.6.0",Oe={version:ze,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=ze,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(ze),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:Ce(Ct),eventService:oe(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv}}},Pe="3.7.0",we={version:Pe,hostAdapter:function(Me){var Ct=Me.host;return Ct.apiVersion=Pe,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return Ct.selectionManager=Ct.createSelectionManager(Pe),Ct.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(st){return Me.host.persistProperties(st)},tooltipService:Ct.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),allowInteractions:!(!Me||!Me.interactivity)&&Me.interactivity.isVisualInteractive,applyJsonFilter:function(st,xt,_t,Zt){if(st)if(Array.isArray(st))Me.host.applyJsonFilter(st,xt,_t,Zt);else{var qt=[];qt.push(st),Me.host.applyJsonFilter(qt,xt,_t,Zt)}else Me.host.applyJsonFilter(null,xt,_t,Zt)},launchUrl:function(st){return Me.host.launchUrl(st)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(st){return Ct.fetchMoreData(st)},storageService:Ce(Ct),eventService:oe(Ct),switchFocusModeState:function(st){return Ct.switchFocusModeState(st)},hostEnv:Me.hostEnv,displayWarningIcon:function(st,xt){return Ct.displayWarningIcon(st,xt)}}}},Ze="3.8.0",at={version:Ze,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=Ze,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Ze),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)}}}};function St(jt){return new Ie(jt)}var Ie=function(){function jt(Me){this.downloadService=Me&&Me.downloadService&&Me.downloadService(),this.promiseFactory=Me.promiseFactory()}return jt.prototype.exportStatus=function(){return null!=this.downloadService?this.downloadService.getExportStatus():this.promiseFactory.resolve(2)},jt.prototype.exportVisualsContent=function(Me,Ct,At,st){return null!=this.downloadService?this.downloadService.exportVisualsContent(Me,Ct,At,st).then(function(xt){return xt.downloadCompleted}):this.promiseFactory.reject()},jt.prototype.exportVisualsContentExtended=function(Me,Ct,At,st){return null!=this.downloadService?this.downloadService.exportVisualsContent(Me,Ct,At,st):this.promiseFactory.reject()},jt}(),qe="3.9.0",It={version:qe,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=qe,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(qe),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)}}}},Rt="4.0.0",Kt={version:Rt,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=Rt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Rt),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)}}}},Yt="4.1.0",lr={version:Yt,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=Yt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Yt),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)}}}},dr="4.2.0",Cr={version:dr,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=dr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(dr),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)}}}},pt="4.3.0",er={version:pt,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=pt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(pt),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)}}}};function Pr(jt){return new mr(jt)}var mr=function(){function jt(Me){this.licenseManagerService=Me&&Me.licenseManagerService&&Me.licenseManagerService(),this.promiseFactory=Me.promiseFactory()}return jt.prototype.getAvailableServicePlans=function(){return this.licenseManagerService?this.licenseManagerService.getAvailableServicePlans():this.promiseFactory.reject()},jt.prototype.notifyLicenseRequired=function(Me){return this.licenseManagerService?this.licenseManagerService.notifyLicenseRequired(Me):this.promiseFactory.reject()},jt.prototype.notifyFeatureBlocked=function(Me){return this.licenseManagerService?this.licenseManagerService.notifyFeatureBlocked(Me):this.promiseFactory.reject()},jt.prototype.clearLicenseNotification=function(){return this.licenseManagerService?this.licenseManagerService.clearLicenseNotification():this.promiseFactory.reject()},jt}(),gr="4.4.0",Vr={version:gr,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=gr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(gr),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st)}}},Qr="4.5.0",Jr={version:Qr,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=Qr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Qr),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st)}}};function Hr(jt){return new Yr(jt)}var Yr=function(){function jt(Me){this.webAccessService=Me&&Me.webAccessService&&Me.webAccessService(),this.promiseFactory=Me.promiseFactory()}return jt.prototype.webAccessStatus=function(Me){return null!=this.webAccessService?this.webAccessService.getWebAccessStatus(Me):this.promiseFactory.resolve(2)},jt}(),Zr="4.6.0",Ur={version:Zr,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=Zr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Zr),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st)}}},zr="4.7.0",lt={version:zr,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=zr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(zr),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)}}}},ct="5.0.0",ot={version:ct,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=ct,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(ct),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)}}}},it="5.1.0",yt={version:it,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=it,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(it),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)},applyCustomSort:function(_t){return st.applyCustomSort(_t)}}}},Ft="5.2.0",Gt={version:Ft,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=Ft,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Ft),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)},applyCustomSort:function(_t){return st.applyCustomSort(_t)}}}},ar="5.3.0",pr={version:ar,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=ar,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(ar),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)},applyCustomSort:function(_t){return st.applyCustomSort(_t)}}}},fr="5.4.0",hr={version:fr,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=fr,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(fr),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)},applyCustomSort:function(_t){return st.applyCustomSort(_t)}}}};function Ir(jt){return new Pt(jt)}var Pt=function(){function jt(Me){this.storageV2Service=Me&&Me.localStorageV2Service&&Me.localStorageV2Service(),this.promiseFactory=Me.promiseFactory()}return jt.prototype.status=function(){return null!=this.storageV2Service?this.storageV2Service.getStorageStatus():this.promiseFactory.resolve(2)},jt.prototype.get=function(Me){return null!=this.storageV2Service&&Me?this.storageV2Service.getStorageData(Me):this.promiseFactory.reject()},jt.prototype.set=function(Me,Ct){return null!=this.storageV2Service&&Me&&Ct?this.storageV2Service.setStorageData(Me,Ct):this.promiseFactory.reject()},jt.prototype.remove=function(Me){null!=this.storageV2Service&&Me&&this.storageV2Service.removeStorageData(Me)},jt}(),dt="5.5.0",k={version:dt,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=dt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(dt),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)},applyCustomSort:function(_t){return st.applyCustomSort(_t)},storageV2Service:Ir(st)}}};function se(jt){return new Ae(jt)}var Ae=function(){function jt(Me){this.acquireAADTokenService=Me&&Me.acquireAADTokenService&&Me.acquireAADTokenService(),this.promiseFactory=Me.promiseFactory()}return jt.prototype.acquireAADToken=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.acquireAADToken():this.promiseFactory.reject()},jt.prototype.acquireAADTokenstatus=function(){return null!=this.acquireAADTokenService?this.acquireAADTokenService.getAcquireAADTokenStatus():this.promiseFactory.resolve(2)},jt}(),$e="5.6.0",Bt="5.7.0",ur=[S,a,V,b,D,F,x,L,T,I,W,K,he,Y,le,Je,fe,ve,tt,ke,Ue,nt,de,xe,Fe,Oe,we,at,It,Kt,lr,Cr,er,Vr,Jr,Ur,lt,ot,yt,Gt,pr,hr,k,{version:$e,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=$e,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager($e),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)},applyCustomSort:function(_t){return st.applyCustomSort(_t)},storageV2Service:Ir(st),acquireAADTokenService:se(st)}}},{version:Bt,hostAdapter:function(Me){var Ct,At,st=Me.host;return st.apiVersion=Bt,{createSelectionIdBuilder:function(){return new G.r},createSelectionManager:function(){return st.selectionManager=st.createSelectionManager(Bt),st.selectionManager},colorPalette:(0,n.o)(Me.style),persistProperties:function(_t){return Me.host.persistProperties(_t)},tooltipService:st.createTooltipService(),telemetry:(0,R.Zm)({hostServices:Me.host}),authenticationService:O({hostServices:Me.host}),locale:Me.host.locale(),hostCapabilities:{allowInteractions:!(null===(Ct=Me.interactivity)||void 0===Ct||!Ct.isVisualInteractive),allowModalDialog:!(null===(At=Me.interactivity)||void 0===At||!At.allowModalDialog)},applyJsonFilter:function(_t,Zt,qt,Er){if(_t)if(Array.isArray(_t))Me.host.applyJsonFilter(_t,Zt,qt,Er);else{var Br=[];Br.push(_t),Me.host.applyJsonFilter(Br,Zt,qt,Er)}else Me.host.applyJsonFilter(null,Zt,qt,Er)},launchUrl:function(_t){return Me.host.launchUrl(_t)},instanceId:Me.host.instanceId,refreshHostData:function(){return Me.host.refreshHostData()},createLocalizationManager:function(){return new B(Me.localizationResources)},fetchMoreData:function(_t){return st.fetchMoreData(_t)},storageService:Ce(st),downloadService:St(st),eventService:oe(st),switchFocusModeState:function(_t){return st.switchFocusModeState(_t)},hostEnv:Me.hostEnv,openModalDialog:function(_t,Zt,qt){return st.openModalDialog(_t,Zt,qt)},displayWarningIcon:function(_t,Zt){return st.displayWarningIcon(_t,Zt)},licenseManager:Pr(st),webAccessService:Hr(st),drill:function(_t){return st.drill(_t)},applyCustomSort:function(_t){return st.applyCustomSort(_t)},storageV2Service:Ir(st),acquireAADTokenService:se(st),setCanDrill:function(_t){return st.setCanDrill(_t)}}}}],or=t(498342),Ar=t(781322),Ge=t(221743),ut=t(275179),Vt=function(){function jt(Me,Ct){var At=this;this.wrappedVisual=Me,this.run=Ct,or.fF.assertValue(Ct,"run must be defined in VisualOutsideZoneAdapter"),Me.update&&(this.update=function(st){return At.apply(At.wrappedVisual.update,st)}),Me.onResizing&&(this.onResizing=function(st,xt){At.apply(At.wrappedVisual.onResizing,st,xt)}),Me.onDataChanged&&(this.onDataChanged=function(st){At.apply(At.wrappedVisual.onDataChanged,st)}),Me.onSelectionStateChanged&&(this.onSelectionStateChanged=function(st){At.apply(function(){return At.wrappedVisual.onSelectionStateChanged(st)})})}return jt.prototype.init=function(Me){return this.apply(this.wrappedVisual.init,Me)},jt.prototype.destroy=function(){this.apply(this.wrappedVisual.destroy)},jt.prototype.onViewModeChanged=function(Me){this.apply(this.wrappedVisual.onViewModeChanged,Me)},jt.prototype.onClearSelection=function(){this.apply(this.wrappedVisual.onClearSelection)},jt.prototype.onRestoreSelection=function(Me){return this.apply(this.wrappedVisual.onRestoreSelection,Me)},jt.prototype.canResizeTo=function(Me){return this.apply(this.wrappedVisual.canResizeTo,Me)},jt.prototype.enumerateObjectInstances=function(Me){return this.apply(this.wrappedVisual.enumerateObjectInstances,Me)},jt.prototype.enumerateObjectInstancesAsync=function(Me){return this.apply(this.wrappedVisual.enumerateObjectInstancesAsync,Me)},jt.prototype.enumerateObjectRepetition=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetition)},jt.prototype.enumerateObjectRepetitionAsync=function(){return this.apply(this.wrappedVisual.enumerateObjectRepetitionAsync)},jt.prototype.visualHasMethod=function(Me){return this.apply(this.wrappedVisual.visualHasMethod,Me)},jt.prototype.unwrap=function(){var Me=this.wrappedVisual;return Me.unwrap?Me.unwrap():Me},Object.defineProperty(jt.prototype,"sandbox",{get:function(){var Ct;return null===(Ct=this.wrappedVisual)||void 0===Ct?void 0:Ct.sandbox},enumerable:!1,configurable:!0}),jt.prototype.getTelemetryInformation=function(){return this.apply(this.wrappedVisual.getTelemetryInformation)},jt.prototype.getFormattingModel=function(){return this.apply(this.wrappedVisual.getFormattingModel)},jt.prototype.getFormattingModelAsync=function(){return this.apply(this.wrappedVisual.getFormattingModelAsync)},jt.prototype.resolveFormattingPlaceholder=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.resolveFormattingPlaceholder(Me)})},jt.prototype.getSubSelectionStyles=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectionStyles(Me)})},jt.prototype.getSubSelectionShortcuts=function(Me,Ct){var At=this;return this.run(function(){return At.wrappedVisual.getSubSelectionShortcuts(Me,Ct)})},jt.prototype.getSubSelectables=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectables(Me)})},jt.prototype.getNextSubSelectable=function(Me,Ct){var At=this;return this.run(function(){return At.wrappedVisual.getNextSubSelectable(Me,Ct)})},jt.prototype.getSubSelectionStylesAsync=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectionStylesAsync(Me)})},jt.prototype.getSubSelectionShortcutsAsync=function(Me,Ct){var At=this;return this.run(function(){return At.wrappedVisual.getSubSelectionShortcutsAsync(Me,Ct)})},jt.prototype.getSubSelectablesAsync=function(Me){var Ct=this;return this.run(function(){return Ct.wrappedVisual.getSubSelectablesAsync(Me)})},jt.prototype.onDataViewObjectChanged=function(Me,Ct){return this.apply(this.wrappedVisual.onDataViewObjectChanged,Me,Ct)},jt.prototype.apply=function(Me){for(var Ct=[],At=1;At<arguments.length;At++)Ct[At-1]=arguments[At];var st=this.wrappedVisual;return this.run(function(){return Me.apply(st,Ct)})},jt}(),Dt=t(753094),Mt=function(){function jt(Me){var Ct=this;this.wrappedVisual=Me,Me.update&&(this.update=function(At){return Ct.trackVisualTime(function(){return Ct.wrappedVisual.update(At)},function(){return At&&At.parentContextActivity?At.parentContextActivity.createChildActivity({name:"Visual Update"}):void 0})}),Me.onResizing&&(this.onResizing=function(At,st){Ct.trackVisualTime(function(){return Ct.wrappedVisual.onResizing(At,st)})}),Me.onDataChanged&&(this.onDataChanged=function(At){Ct.trackVisualTime(function(){return Ct.wrappedVisual.onDataChanged(At)})}),Me.onSelectionStateChanged&&(this.onSelectionStateChanged=function(At){Ct.trackVisualTime(function(){return Ct.wrappedVisual.onSelectionStateChanged(At)})})}return jt.prototype.init=function(Me){var Ct=this;if(this.wrappedVisual.init)return this.trackVisualTime(function(){return Ct.wrappedVisual.init(Me)})},jt.prototype.destroy=function(){var Me=this;this.wrappedVisual.destroy&&this.trackVisualTime(function(){return Me.wrappedVisual.destroy()})},jt.prototype.onViewModeChanged=function(Me){var Ct=this;this.wrappedVisual.onViewModeChanged&&this.trackVisualTime(function(){return Ct.wrappedVisual.onViewModeChanged(Me)})},jt.prototype.onClearSelection=function(){var Me=this;this.wrappedVisual.onClearSelection&&this.trackVisualTime(function(){return Me.wrappedVisual.onClearSelection()})},jt.prototype.onRestoreSelection=function(Me){var Ct=this;return!!this.wrappedVisual.onRestoreSelection&&this.trackVisualTime(function(){return Ct.wrappedVisual.onRestoreSelection(Me)})},jt.prototype.canResizeTo=function(Me){var Ct=this;if(this.wrappedVisual.canResizeTo)return this.trackVisualTime(function(){return Ct.wrappedVisual.canResizeTo(Me)})},jt.prototype.enumerateObjectInstances=function(Me){var Ct=this;if(this.wrappedVisual.enumerateObjectInstances)return this.trackVisualTime(function(){return Ct.wrappedVisual.enumerateObjectInstances(Me)})},jt.prototype.enumerateObjectRepetition=function(){var Me=this;if(this.wrappedVisual.enumerateObjectRepetition)return this.trackVisualTime(function(){return Me.wrappedVisual.enumerateObjectRepetition()})},jt.prototype.enumerateObjectInstancesAsync=function(Me){var Ct=this;return this.visualAdapter.enumerateObjectInstancesAsync?this.trackVisualTime(function(){return Ct.visualAdapter.enumerateObjectInstancesAsync(Me)}):ut.J.resolve(this.enumerateObjectInstances(Me))},jt.prototype.enumerateObjectRepetitionAsync=function(){var Me=this;return this.visualAdapter.enumerateObjectRepetitionAsync?this.trackVisualTime(function(){return Me.visualAdapter.enumerateObjectRepetitionAsync()}):ut.J.resolve(this.enumerateObjectRepetition())},Object.defineProperty(jt.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),jt.prototype.unwrap=function(){var Me=this.wrappedVisual;return Me.unwrap?Me.unwrap():Me},jt.prototype.visualHasMethod=function(Me){var Ct=this.wrappedVisual;return Ct&&Ct.visualHasMethod(Me)},jt.prototype.getTelemetryInformation=function(){var Me=this;if(this.wrappedVisual.getTelemetryInformation)return this.trackVisualTime(function(){return Me.wrappedVisual.getTelemetryInformation()})},jt.prototype.getFormattingModel=function(){var Me=this;if(this.wrappedVisual.getFormattingModel)return this.trackVisualTime(function(){return Me.wrappedVisual.getFormattingModel()})},jt.prototype.getFormattingModelAsync=function(){var Me=this;return this.visualAdapter.getFormattingModelAsync?this.trackVisualTime(function(){return Me.visualAdapter.getFormattingModelAsync()}):ut.J.resolve(this.getFormattingModel())},jt.prototype.resolveFormattingPlaceholder=function(Me){var Ct=this;if(this.wrappedVisual.resolveFormattingPlaceholder)return this.trackVisualTime(function(){return Ct.wrappedVisual.resolveFormattingPlaceholder(Me)})},jt.prototype.getSubSelectionStyles=function(Me){var Ct=this;if(this.wrappedVisual.getSubSelectionStyles)return this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectionStyles(Me)})},jt.prototype.getSubSelectionShortcuts=function(Me,Ct){var At=this;if(this.wrappedVisual.getSubSelectionShortcuts)return this.trackVisualTime(function(){return At.wrappedVisual.getSubSelectionShortcuts(Me,Ct)})},jt.prototype.getSubSelectables=function(Me){var Ct=this;if(this.wrappedVisual.getSubSelectables)return this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectables(Me)})},jt.prototype.getNextSubSelectable=function(Me,Ct){var At=this;if(this.wrappedVisual.getNextSubSelectable)return this.trackVisualTime(function(){return At.wrappedVisual.getNextSubSelectable(Me,Ct)})},jt.prototype.getSubSelectionStylesAsync=function(Me){var Ct=this;return this.wrappedVisual.getSubSelectionStylesAsync?this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectionStylesAsync(Me)}):ut.J.resolve(this.getSubSelectionStyles(Me))},jt.prototype.getSubSelectionShortcutsAsync=function(Me,Ct){var At=this;return this.wrappedVisual.getSubSelectionShortcutsAsync?this.trackVisualTime(function(){return At.wrappedVisual.getSubSelectionShortcutsAsync(Me,Ct)}):ut.J.resolve(this.getSubSelectionShortcuts(Me))},jt.prototype.getSubSelectablesAsync=function(Me){var Ct=this;return this.wrappedVisual.getSubSelectablesAsync?this.trackVisualTime(function(){return Ct.wrappedVisual.getSubSelectablesAsync(Me)}):ut.J.resolve(this.getSubSelectables(Me))},jt.prototype.onDataViewObjectChanged=function(Me,Ct){var At=this;if(this.wrappedVisual.onDataViewObjectChanged)return this.trackVisualTime(function(){return At.wrappedVisual.onDataViewObjectChanged(Me,Ct)})},jt.prototype.trackVisualTime=function(Me,Ct){var At=Ct&&Ct();try{return Me()}finally{At&&At.resolve()}},jt}(),Ot=[];function Wt(){return function(jt,Me,Ct){Object.defineProperty(Ct.value,"approvedMessage",{value:!0})}}function Xt(){return Ot}function yr(jt,Me){return jt&&(jt=new Mt(jt),Me&&(jt=new Vt(jt,Me))),jt}function _r(jt,Me,Ct,At,st,xt,_t){var Zt=new Dr(jt,Me,Ct,At,st,_t),qt=yr(Zt,xt);return new Dt.a(qt,jt,Ct,At,Zt.isPluginInError,_t)}ur.forEach(function(jt){return function(jt){Xt().push(jt)}(jt)});var Dr=function(){function jt(Ct,At,st,xt,_t,Zt){this.plugin=Ct,this.creator=At,this.promiseFactory=st,this.telemetryService=xt,this.module=_t,this.certifiedEventsService=Zt,this.initialized=!1,this.destroyed=!1,this.isPluginInError=!1,or.fF.assertValue(Ct,"plugin"),or.fF.assertValue(At||this.plugin.createES6,"creator"),or.fF.assertValue(st,"promiseFactory"),or.fF.assertAnyValue(this.telemetryService,"telemetryService"),or.fF.assertAnyValue(_t,"module"),or.fF.assertAnyValue(this.certifiedEventsService,"certifiedEventsService");var qt=Ct.apiVersion,Er=this.getVersionIndex(qt);qt?Er>-1?(this.apiVersionIndex=Er,this.legacy=!1):(or.fF.assertFail("The API version '"+qt+"' is invalid."),this.isPluginInError=!0):this.legacy=!0}var Me;return jt.prototype.init=function(Ct){return(0,e.__awaiter)(this,void 0,ut.J,function(){return(0,e.__generator)(this,function(At){return this.initializedPromise=this.initImpl(Ct),[2,this.initializedPromise]})})},jt.prototype.initImpl=function(Ct){return(0,e.__awaiter)(this,void 0,ut.J,function(){var At,st,xt,_t,Zt=this;return(0,e.__generator)(this,function(qt){switch(qt.label){case 0:return or.fF.assert(function(){return!Zt.initialized},"Unexpected `init` after already initialized"),or.fF.assertValue(Ct.element,"options.element"),or.fF.assertValue(Ct.host,"options.host"),Ct.element.empty(),Ct=(0,Ar.ED)(Ct),this.legacy?(xt={module:this.module,featureSwitches:Ct.featureSwitches},this.plugin.createES6?(At=this,[4,this.plugin.createES6(xt)]):[3,2]):[3,5];case 1:return At.visual=qt.sent(),this.destroyed?[2]:[3,3];case 2:this.visual=this.creator(xt),qt.label=3;case 3:return[4,this.visualLegacy.init(Ct)];case 4:return qt.sent(),this.destroyed?[2]:[3,9];case 5:return st=this.host=Ot[this.apiVersionIndex].hostAdapter(Ct),xt={element:Ct.element.get(0),host:st,module:this.module,featureSwitches:Ct.featureSwitches},this.plugin.createES6?(_t=this,[4,this.plugin.createES6(xt)]):[3,7];case 6:return _t.visual=qt.sent(),this.destroyed?[2]:[3,8];case 7:this.visual=this.creator(xt),qt.label=8;case 8:this.overloadMethods(),qt.label=9;case 9:return this.initialized=!0,[2]}})})},jt.prototype.update=function(Ct){return(0,e.__awaiter)(this,void 0,ut.J,function(){var At,st=this;return(0,e.__generator)(this,function(xt){switch(xt.label){case 0:return or.fF.assertValue(function(){return st.initialized},"Expected `init` before `update`"),At=this.initializedPromise,[4,this.initializedPromise];case 1:return xt.sent(),or.fF.assert(function(){return st.initializedPromise===At},"Unexpected re-initialize during update"),this.destroyed||!this.initialized?[2]:(this.plugin.systemVisual||((Ct=(0,Ar.ED)(Ct)).visualDefinitionData=void 0,Ct.dataTransforms=void 0),(Ct.type&l.EP.Resize)===l.EP.Resize&&this.visualHasMethod("onResizing")?this.plugin.custom&&this.visualHasMethod("update")?[4,this.visualLegacy.update(Ct)]:[3,3]:[3,4]);case 2:if(xt.sent(),this.destroyed)return[2];xt.label=3;case 3:return this.onResizing(Ct.viewport,Ct.resizeMode),[3,7];case 4:return this.visualHasMethod("update")?[4,this.visualLegacy.update(Ct)]:[3,6];case 5:return xt.sent(),this.destroyed?[2]:[3,7];case 6:(!Ct.type||Ct.type&l.EP.Data)&&this.onDataChanged(_.pick(Ct,["dataViews","operationKind"])),Ct.type&l.EP.ViewMode&&this.onViewModeChanged(Ct.viewMode),xt.label=7;case 7:return[2]}})})},jt.prototype.destroy=function(){this.visualHasMethod("destroy")&&this.visualLegacy.destroy(),this.initialized=!1,this.destroyed=!0},jt.prototype.enumerateObjectInstances=function(Ct){if(this.visualHasMethod("enumerateObjectInstances"))return this.visualLegacy.enumerateObjectInstances(Ct)},jt.prototype.enumerateObjectRepetition=function(){if(this.visualHasMethod("enumerateObjectRepetition"))return this.visualLegacy.enumerateObjectRepetition()},jt.prototype.enumerateObjectInstancesAsync=function(Ct){return this.visualHasMethod("enumerateObjectInstancesAsync")?this.visualAdapter.enumerateObjectInstancesAsync(Ct):this.promiseFactory.resolve(this.enumerateObjectInstances(Ct))},jt.prototype.enumerateObjectRepetitionAsync=function(){return this.visualHasMethod("enumerateObjectRepetitionAsync")?this.visualAdapter.enumerateObjectRepetitionAsync():this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(jt.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),jt.prototype.onResizing=function(Ct,At){this.visualHasMethod("onResizing")&&this.visualLegacy.onResizing(Ct,At)},jt.prototype.onDataChanged=function(Ct){this.visualHasMethod("onDataChanged")&&this.visualLegacy.onDataChanged(Ct)},jt.prototype.onViewModeChanged=function(Ct){this.visualHasMethod("onViewModeChanged")&&this.visualLegacy.onViewModeChanged(Ct)},jt.prototype.onSelectionStateChanged=function(Ct){this.visualHasMethod("onSelectionStateChanged")&&this.visualLegacy.onSelectionStateChanged(Ct)},jt.prototype.onClearSelection=function(){this.visualHasMethod("onClearSelection")&&this.visualLegacy.onClearSelection()},jt.prototype.onRestoreSelection=function(Ct){if(this.visualHasMethod("onRestoreSelection"))return this.visualLegacy.onRestoreSelection(Ct)},jt.prototype.canResizeTo=function(Ct){if(this.visualHasMethod("canResizeTo"))return this.visualLegacy.canResizeTo(Ct)},jt.prototype.unwrap=function(){return this.visual},jt.prototype.getTelemetryInformation=function(){if(this.visualHasMethod("getTelemetryInformation"))return this.visualLegacy.getTelemetryInformation()},jt.prototype.getFormattingModel=function(){if(this.visualHasMethod("getFormattingModel"))return this.visualAdapter.getFormattingModel()},jt.prototype.getFormattingModelAsync=function(){return this.visualHasMethod("getFormattingModelAsync")?this.visualAdapter.getFormattingModelAsync():this.promiseFactory.resolve(this.getFormattingModel())},jt.prototype.resolveFormattingPlaceholder=function(Ct){if(this.visualHasMethod("resolveFormattingPlaceholder"))return this.visualLegacy.resolveFormattingPlaceholder(Ct)},jt.prototype.getSubSelectionStyles=function(Ct){if(this.visualHasMethod("getSubSelectionStyles"))return this.visualAdapter.getSubSelectionStyles(Ct)},jt.prototype.getSubSelectionShortcuts=function(Ct,At){if(this.visualHasMethod("getSubSelectionShortcuts"))return this.visualAdapter.getSubSelectionShortcuts(Ct,At)},jt.prototype.getSubSelectables=function(Ct){if(this.visualHasMethod("getSubSelectables"))return this.visualAdapter.getSubSelectables(Ct)},jt.prototype.getNextSubSelectable=function(Ct,At){if(this.visualHasMethod("getNextSubSelectable"))return this.visualAdapter.getNextSubSelectable(Ct,At)},jt.prototype.getSubSelectionStylesAsync=function(Ct){return this.visualHasMethod("getSubSelectionStylesAsync")?this.visualAdapter.getSubSelectionStylesAsync(Ct):this.promiseFactory.resolve(this.getSubSelectionStyles(Ct))},jt.prototype.getSubSelectionShortcutsAsync=function(Ct,At){return this.visualHasMethod("getSubSelectionShortcutsAsync")?this.visualAdapter.getSubSelectionShortcutsAsync(Ct,At):this.promiseFactory.resolve(this.getSubSelectionShortcuts(Ct,At))},jt.prototype.getSubSelectablesAsync=function(Ct){return this.visualHasMethod("getSubSelectablesAsync")?this.visualAdapter.getSubSelectablesAsync(Ct):this.promiseFactory.resolve(this.getSubSelectables(Ct))},jt.prototype.onDataViewObjectChanged=function(Ct,At){if(this.visualHasMethod("onDataViewObjectChanged"))return this.visualAdapter.onDataViewObjectChanged(Ct,At)},Object.defineProperty(jt.prototype,"visualNew",{get:function(){if(!this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"visualLegacy",{get:function(){if(this.legacy)return this.visual},enumerable:!1,configurable:!0}),Object.defineProperty(jt.prototype,"visualAdapter",{get:function(){return this.visual},enumerable:!1,configurable:!0}),jt.prototype.visualHasMethod=function(Ct){var At=this.legacy?this.visualLegacy:this.visualNew;return(0,Ge.Xf)(this.plugin.name)?At&&_.isFunction(At[Ct])&&At.visualHasMethod(Ct):At&&_.isFunction(At[Ct])},jt.prototype.getVersionIndex=function(Ct){if(Ct)for(var At=Xt().length,st=0;st<At;st++)if(Xt()[st].version===Ct)return st;return-1},jt.prototype.overloadMethods=function(){var Ct=this.getCompiledOverloads();for(var At in Ct)this[At]=Ct[At]},jt.prototype.getCompiledOverloads=function(){for(var Ct={},At=this.apiVersionIndex,st=this.visualNew,xt=0;xt<=At;xt++){var _t=Xt()[xt].overloads;_.isFunction(_t)&&_.assign(Ct,_t(st,this.host))}return Ct},(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"enumerateObjectInstancesAsync",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"enumerateObjectRepetitionAsync",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Number]),(0,e.__metadata)("design:returntype",void 0)],jt.prototype,"onResizing",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],jt.prototype,"onDataChanged",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],jt.prototype,"onViewModeChanged",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],jt.prototype,"onSelectionStateChanged",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],jt.prototype,"onClearSelection",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Boolean)],jt.prototype,"canResizeTo",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"getTelemetryInformation",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"getFormattingModelAsync",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",["function"==typeof(Me="undefined"!=typeof TFormattingPlaceholder&&TFormattingPlaceholder)?Me:Object]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"resolveFormattingPlaceholder",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"getSubSelectionStyles",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String]),(0,e.__metadata)("design:returntype",Array)],jt.prototype,"getSubSelectionShortcuts",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Array)],jt.prototype,"getSubSelectables",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Boolean]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"getNextSubSelectable",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"getSubSelectionStylesAsync",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"getSubSelectionShortcutsAsync",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Object)],jt.prototype,"getSubSelectablesAsync",null),(0,e.__decorate)([Wt(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,Number]),(0,e.__metadata)("design:returntype",Array)],jt.prototype,"onDataViewObjectChanged",null),jt}()},237094:function(Xe,H,t){t.d(H,{L:function(){return S}});var e=t(273269),l=t(572909),o=t(588376),d=["displayName","description","placeHolderText"],v={get:function(C){return C},getOptional:function(C){return C},format:function(C){return C}};function S(p){p.apiVersion?function(p){!function(p){p&&(function(p){for(var C in p){var b=p[C];if(b){var y=b.properties;if(y)for(var D in y){var P=y[D];if(P){var F=P.type;F&&F.enumeration&&(F.enumeration=(0,o.i)(F.enumeration))}}}}}(p.objects),function(p){for(var C in p){var b=p[C];b&&b.kind&&(b.kind=i(b.kind.toString()))}}(p.dataRoles),function(p){for(var C in p){var b=p[C];if(b){var y=b.conditions;if(y)for(var D in y){var P=y[D];if(P)for(var F in P){var E=P[F];E&&E.kind&&(P[F].kind=i(E.kind.toString()))}}}}}(p.dataViewMappings))}(p.capabilities)}(p):function(p){!function(p){p&&(function(p){for(var C in p){var b=p[C];if(b){var y=(b=p[C]=_.mapValues(b,V)).properties;if(y)for(var D in y){var P=y[D];if(P){var F=(P=y[D]=_.mapValues(P,V)).type;if(F&&F.enumeration&&_.isFunction(F.enumeration.members)){var E=F.enumeration.members().map(function(w){return _.mapValues(w,V)});F.enumeration=(0,o.i)(E)}}}}}}(p.objects),function(p){for(var C in p){var b=p[C];b&&(p[C]=_.mapValues(b,V))}}(p.dataRoles))}(p.capabilities)}(p)}function i(p){switch(p.toLowerCase()){case"grouping":case e.DW.Grouping.toString():return e.DW.Grouping;case"measure":case e.DW.Measure.toString():return e.DW.Measure;case"groupingormeasure":case e.DW.GroupingOrMeasure.toString():return e.DW.GroupingOrMeasure}}function V(p,C){return _.isString(p)||-1===_.indexOf(d,C)?p:(0,l.G)(p,v)}},753094:function(Xe,H,t){t.d(H,{H:function(){return r},a:function(){return c}});var e=t(973188),l=t(185897),o=t(301938),d=t(146234),v=t(275179),S=t(504898),h=t(389731),c=function(){function s(u,i,a,n,m,f,V){this.wrappedVisual=u,this.visualPlugin=i,this.promiseFactory=a,this.telemetryService=n,this.isPluginInError=m,this.certifiedEventsService=f,this.silent=V,this.initCalled=!1,this.visualLoadStartTime=(0,d.z)(),this.startTimeISO=(new Date).toISOString()}return s.prototype.init=function(u){var i=this;if(this.initCalled=!0,u&&u.host&&u.host.telemetry){var a=u.host.telemetry();this.visualName=a&&a.visualName,this.instanceId=a&&a.instanceId}if(this.wrappedVisual.init)return this.executeSafelyAsync(function(){return i.wrappedVisual.init(u)})},s.prototype.checkInit=function(){return!!this.initCalled||(S.f.assertFail("Another visual method was called before init"),!1)},s.prototype.destroy=function(){var u=this;this.wrappedVisual.destroy&&this.executeSafely(function(){return u.wrappedVisual.destroy()})},s.prototype.update=function(u){var i=this;if(this.checkInit(),this.wrappedVisual.update)return this.executeSafelyAsync(function(){return(0,e.__awaiter)(i,void 0,v.J,function(){var a,n,m,f,V,p,C,b,y,D,P;return(0,e.__generator)(this,function(F){switch(F.label){case 0:return[4,this.wrappedVisual.update(u)];case 1:return F.sent(),this.telemetryService&&this.startTimeISO&&this.visualPlugin.custom&&(n=(a=this.visualPlugin).version,m=a.apiVersion,f=(new Date).toISOString(),this.telemetryService.logEvent(o.ZX,{name:this.visualPlugin.name,apiVersion:m,custom:!!this.visualPlugin.custom,visualVersion:n,visualName:this.visualName,instanceId:this.instanceId,start:this.startTimeISO,end:f,isError:this.isPluginInError,errorSource:"User"}),this.startTimeISO=null,this.visualLoadStartTime&&(null===(V=this.certifiedEventsService)||void 0===V||V.logTimedStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:m&&(null===(p=(0,h.OA)(m))||void 0===p?void 0:p.major),apiMinorVersion:m&&(null===(C=(0,h.OA)(m))||void 0===C?void 0:C.minor),visualMajorVersion:n&&(null===(b=(0,h.OA)(n))||void 0===b?void 0:b.major),visualMinorVersion:n&&(null===(y=(0,h.OA)(n))||void 0===y?void 0:y.minor)},activityName:o.py,correlationId:null===(P=null===(D=this.telemetryService)||void 0===D?void 0:D.root)||void 0===P?void 0:P.id,operationEndTime:(0,d.z)(),operationStartTime:this.visualLoadStartTime,visualId:this.visualPlugin.name}),this.visualLoadStartTime=null)),[2]}})})})},s.prototype.onResizing=function(u,i){var a=this;this.checkInit(),this.wrappedVisual.onResizing&&this.executeSafely(function(){return a.wrappedVisual.onResizing(u,i)})},s.prototype.onDataChanged=function(u){var i=this;this.checkInit(),this.wrappedVisual.onDataChanged&&this.executeSafely(function(){return i.wrappedVisual.onDataChanged(u)})},s.prototype.onViewModeChanged=function(u){var i=this;this.checkInit(),this.wrappedVisual.onViewModeChanged&&this.executeSafely(function(){return i.wrappedVisual.onViewModeChanged(u)})},s.prototype.onSelectionStateChanged=function(u){var i=this;this.checkInit(),this.wrappedVisual.onSelectionStateChanged&&this.executeSafely(function(){return i.wrappedVisual.onSelectionStateChanged(u)})},s.prototype.onClearSelection=function(){var u=this;this.checkInit(),this.wrappedVisual.onClearSelection&&this.executeSafely(function(){return u.wrappedVisual.onClearSelection()})},s.prototype.onRestoreSelection=function(u){var i=this;return this.checkInit(),!!this.wrappedVisual.onRestoreSelection&&this.executeSafely(function(){return i.wrappedVisual.onRestoreSelection(u)})},s.prototype.canResizeTo=function(u){var i=this;if(this.checkInit(),this.wrappedVisual.canResizeTo)return this.executeSafely(function(){return i.wrappedVisual.canResizeTo(u)})},s.prototype.enumerateObjectInstances=function(u){var i=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectInstances)return this.executeSafely(function(){return i.wrappedVisual.enumerateObjectInstances(u)})},s.prototype.enumerateObjectRepetition=function(){var u=this;if(this.checkInit(),this.wrappedVisual.enumerateObjectRepetition)return this.executeSafely(function(){return u.wrappedVisual.enumerateObjectRepetition()})},s.prototype.enumerateObjectInstancesAsync=function(u){var i=this;return this.checkInit(),this.visualAdapter.enumerateObjectInstancesAsync?this.executeSafely(function(){return i.visualAdapter.enumerateObjectInstancesAsync(u)}):this.promiseFactory.resolve(this.enumerateObjectInstances(u))},s.prototype.enumerateObjectRepetitionAsync=function(){var u=this;return this.checkInit(),this.visualAdapter.enumerateObjectRepetitionAsync?this.executeSafely(function(){return u.visualAdapter.enumerateObjectRepetitionAsync()}):this.promiseFactory.resolve(this.enumerateObjectRepetition())},Object.defineProperty(s.prototype,"sandbox",{get:function(){return this.visualAdapter&&this.visualAdapter.sandbox},enumerable:!1,configurable:!0}),Object.defineProperty(s.prototype,"visualAdapter",{get:function(){return this.wrappedVisual},enumerable:!1,configurable:!0}),s.prototype.unwrap=function(){var u=this.wrappedVisual;return u.unwrap?u.unwrap():u},s.prototype.visualHasMethod=function(u){var i=this.wrappedVisual;return i&&i.visualHasMethod(u)},s.prototype.getTelemetryInformation=function(){var u=this;if(this.checkInit(),this.wrappedVisual.getTelemetryInformation)return this.executeSafely(function(){return u.wrappedVisual.getTelemetryInformation()})},s.prototype.getFormattingModel=function(){var u=this;if(this.checkInit(),this.wrappedVisual.getFormattingModel)return this.executeSafely(function(){return u.wrappedVisual.getFormattingModel()})},s.prototype.getFormattingModelAsync=function(){var u=this;return this.checkInit(),this.visualAdapter.getFormattingModelAsync?this.executeSafely(function(){return u.visualAdapter.getFormattingModelAsync()}):this.promiseFactory.resolve(this.getFormattingModel())},s.prototype.resolveFormattingPlaceholder=function(u){var i=this;if(this.checkInit(),this.wrappedVisual.resolveFormattingPlaceholder)return this.executeSafely(function(){return i.wrappedVisual.resolveFormattingPlaceholder(u)})},s.prototype.getSubSelectionStyles=function(u){var i=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionStyles)return this.executeSafely(function(){return i.wrappedVisual.getSubSelectionStyles(u)})},s.prototype.getSubSelectionShortcuts=function(u,i){var a=this;if(this.checkInit(),this.wrappedVisual.getSubSelectionShortcuts)return this.executeSafely(function(){return a.wrappedVisual.getSubSelectionShortcuts(u,i)})},s.prototype.getSubSelectables=function(u){var i=this;if(this.checkInit(),this.wrappedVisual.getSubSelectables)return this.executeSafely(function(){return i.wrappedVisual.getSubSelectables(u)})},s.prototype.getNextSubSelectable=function(u,i){var a=this;if(this.checkInit(),this.wrappedVisual.getNextSubSelectable)return this.executeSafely(function(){return a.wrappedVisual.getNextSubSelectable(u,i)})},s.prototype.getSubSelectionStylesAsync=function(u){var i=this;return this.checkInit(),this.wrappedVisual.getSubSelectionStylesAsync?this.executeSafely(function(){return i.wrappedVisual.getSubSelectionStylesAsync(u)}):this.promiseFactory.resolve(this.getSubSelectionStyles(u))},s.prototype.getSubSelectionShortcutsAsync=function(u,i){var a=this;return this.checkInit(),this.wrappedVisual.getSubSelectionShortcutsAsync?this.executeSafely(function(){return a.wrappedVisual.getSubSelectionShortcutsAsync(u,i)}):this.promiseFactory.resolve(this.getSubSelectionShortcuts(u,i))},s.prototype.getSubSelectablesAsync=function(u){var i=this;return this.checkInit(),this.wrappedVisual.getSubSelectablesAsync?this.executeSafely(function(){return i.wrappedVisual.getSubSelectablesAsync(u)}):this.promiseFactory.resolve(this.getSubSelectables(u))},s.prototype.onDataViewObjectChanged=function(u,i){var a=this;if(this.checkInit(),this.visualAdapter.onDataViewObjectChanged)return this.executeSafely(function(){return a.wrappedVisual.onDataViewObjectChanged(u,i)})},s.prototype.executeSafely=function(u){try{return u()}catch(i){this.telemetryService&&this.logVisualExceptionEvent(i)}},s.prototype.executeSafelyAsync=function(u){return(0,e.__awaiter)(this,void 0,v.J,function(){var i;return(0,e.__generator)(this,function(a){switch(a.label){case 0:return a.trys.push([0,2,,3]),[4,u()];case 1:return[2,a.sent()];case 2:return i=a.sent(),this.telemetryService&&this.logVisualExceptionEvent(i),[3,3];case 3:return[2]}})})},s.prototype.logVisualExceptionEvent=function(u){r(u,this.visualPlugin,this.visualName,this.instanceId,this.telemetryService,this.certifiedEventsService)},s}();function r(s,u,i,a,n,m){var f,V,p,C,b,y=!(null==u||!u.custom),D=u||{},P=D.version,F=D.apiVersion;n.logEvent(o.Lj,{visualType:u.name,isCustom:y,apiVersion:F,visualName:i,instanceId:a,isDeprecated:!!u.isDeprecated,source:s.fileName,lineNumber:s.lineNumber,columnNumber:s.columnNumber,message:y?void 0:(0,l.CX)(s),stack:y?void 0:(0,l.bL)(s)}),y&&(null==m||m.logStandardizedFeatureEvent({activityAttributes:{apiMajorVersion:F&&(null===(f=(0,h.OA)(F))||void 0===f?void 0:f.major),apiMinorVersion:F&&(null===(V=(0,h.OA)(F))||void 0===V?void 0:V.minor),visualMajorVersion:P&&(null===(p=(0,h.OA)(P))||void 0===p?void 0:p.major),visualMinorVersion:P&&(null===(C=(0,h.OA)(P))||void 0===C?void 0:C.minor),isDeprecated:!(null==u||!u.isDeprecated)},activityName:o.d3,activityStatus:"Failed",correlationId:null===(b=null==n?void 0:n.root)||void 0===b?void 0:b.id,visualId:null==u?void 0:u.name}))}},155088:function(Xe,H,t){t.d(H,{D:function(){return l},o:function(){return o}});var e=t(973188);function l(S){return new d(S)}function o(S){return new v(S)}var d=function(){function S(h){this.colorPalette={},this.colorIndex=0,this.colors=h}return S.prototype.getColor=function(h){var c=this.colorPalette[h];if(c)return c;var r=this.colors;return c=this.colorPalette[h]=r[this.colorIndex++],this.colorIndex>=r.length&&(this.colorIndex=0),c},S.prototype.reset=function(){return this.colorIndex=0,this.colorPalette={},this},S}(),v=function(S){function h(c){var r=this,s=c.colorPalette.dataColors;(r=S.call(this,s.getAllColors())||this).isHighContrast=c.isHighContrast,r.foreground=c.colorPalette.foreground,r.foregroundLight=c.colorPalette.foregroundLight,r.foregroundDark=c.colorPalette.foregroundDark,r.foregroundNeutralLight=c.colorPalette.foregroundNeutralLight,r.foregroundNeutralDark=c.colorPalette.foregroundNeutralDark,r.foregroundNeutralSecondary=c.colorPalette.foregroundNeutralSecondary,r.foregroundNeutralSecondaryAlt=c.colorPalette.foregroundNeutralSecondaryAlt,r.foregroundNeutralSecondaryAlt2=c.colorPalette.foregroundNeutralSecondaryAlt2,r.foregroundNeutralTertiary=c.colorPalette.foregroundNeutralTertiary,r.foregroundNeutralTertiaryAlt=c.colorPalette.foregroundNeutralTertiaryAlt,r.foregroundSelected=c.colorPalette.foregroundSelected,r.foregroundButton=c.colorPalette.foregroundButton,r.background=c.colorPalette.background,r.backgroundLight=c.colorPalette.backgroundLight,r.backgroundNeutral=c.colorPalette.backgroundNeutral,r.backgroundDark=c.colorPalette.backgroundDark,r.hyperlink=c.colorPalette.hyperlink,r.visitedHyperlink=c.colorPalette.visitedHyperlink,r.mapPushpin=c.colorPalette.mapPushpin,r.shapeStroke=c.colorPalette.shapeStroke;var u=s.getSentimentColors();r.bad=u.bad,r.neutral=u.neutral,r.good=u.good;var i=s.getGradientColors();return r.minimum=i.minColor,r.center=i.midColor,r.maximium=i.maxColor,r.null=i.nullColor,r.negative=u.bad,r.positive=u.good,r.selection=c.colorPalette.selection,r.separator=c.colorPalette.separator,r}return(0,e.__extends)(h,S),h}(d)},314928:function(Xe,H,t){t.d(H,{Z:function(){return d}});var e=t(413892),l=t(389731),o=t(812454),d=function(){function v(S,h){void 0===h&&(h=!1),this.dataPointObjectName="dataPoint",this.filterPropertyIdentifier={objectName:"general",propertyName:"filter"},this.hostServices=S.hostServices,this.apiVersion=S.apiVersion,this.selectedIds=[],this.promiseFactory=this.hostServices.promiseFactory(),this.noIframe=h}return v.prototype.select=function(S,h){void 0===h&&(h=!1);var c=this.promiseFactory.defer();return S?(S instanceof Array||(S=[S]),this.hostServices.shouldRetainSelection()?this.sendSelectionToHost(S,h):(this.selectInternal(S,h),this.sendSelectionToHost(this.selectedIds,h)),c.resolve(this.selectedIds),c.promise):(c.reject(),c.promise)},v.prototype.showContextMenu=function(S,h,c){var r=this.promiseFactory.defer();return S||(S={}),this.sendContextMenuToHost(S,h,c),r.resolve(null),r.promise},v.prototype.toggleExpandCollapse=function(S,h){var c=this.promiseFactory.defer();return this.sendExpandCollapseToHost(S,!0===h),c.resolve(null),c.promise},v.prototype.hasSelection=function(){return this.selectedIds.length>0},v.prototype.clear=function(){var S=this.promiseFactory.defer();return this.selectedIds=[],this.sendSelectionToHost([]),S.resolve(null),S.promise},v.prototype.getSelectionIds=function(){return this.selectedIds},v.prototype.setSelectionIds=function(S){this.selectedIds=S},v.prototype.sendSelectionToHost=function(S,h){if(this.noIframe||!this.apiVersion||(0,l.lt)(this.apiVersion,"2.0.0")){var c=this.dataPointObjectName,r={type:0,visualObjects:_.chain(S).filter(function(u){return u.hasIdentity()}).map(function(u){return{objectName:c,selectorsByColumn:u.getSelectorsByColumn()}}).value(),selectors:void 0,selectionMode:h?3:0},s=!1;_.isEmpty(S)||(s=S[0].getSelector()&&!S[0].getSelectorsByColumn()),s&&(r.selectors=_.chain(S).filter(function(u){return u.hasIdentity()}).map(function(u){return u.getSelector()}).value()),this.hostServices.onSelect(r)}else this.hostServices.sendSelectionIdsToHost(this.prepareCustomVisualSelectEventArgs(S,h))},v.prototype.sendContextMenuToHost=function(S,h,c){S&&h&&this.hostServices.customVisualOnContextMenu({data:[S],position:h,dataRoles:c?[c]:void 0})},v.prototype.sendExpandCollapseToHost=function(S,h){S&&null!=S.nodeIsCollapsed&&this.hostServices.customVisualOnExpandCollapse({data:S,entireLevel:h})},v.prototype.selectInternal=function(S,h){var c=this;S.length<1||(S.length>1?this.selectedIds=h?S.filter(function(r){return!c.selectedIds.some(function(s){return s.equals(r)})}).concat(this.selectedIds.filter(function(r){return!S.some(function(s){return s.equals(r)})})):S:v.containsSelection(this.selectedIds,S[0])?this.selectedIds=h?this.selectedIds.filter(function(r){return!S[0].equals(r)}):this.selectedIds.length>1?S:[]:h?this.selectedIds.push(S[0]):this.selectedIds=S)},v.containsSelection=function(S,h){return S.some(function(c){return h.equals(c)})},v.getSelectorsByColumn=function(S){return S&&S[0]instanceof e.r?S:_(S).filter(function(h){return h&&h.hasIdentity}).map(function(h){return h.getSelectorsByColumn()}).compact().value()},v.createChangeForFilterProperty=function(S,h){var c={},r={objectName:S.objectName,selector:void 0,properties:c};return null==h?(c[S.propertyName]={},{remove:[r]}):(c[S.propertyName]=h,{merge:[r]})},v.prototype.getFilterFromSelectors=function(){if(this.hasSelection()){var S=_.chain(this.selectedIds).filter(function(h){return h.hasIdentity()}).map(function(h){return h.getSelector()}).value();return(0,o.mV)(S,!1)}},v.prototype.prepareCustomVisualSelectEventArgs=function(S,h){var c={selectionIds:[],multiSelect:h};if(S&&S[0]&&(S[0].dataMap||S[0].measures))for(var r=0,s=S;r<s.length;r++)c.selectionIds.push(s[r]);return c},v.prototype.applySelectionFilter=function(){this.hostServices.persistProperties(v.createChangeForFilterProperty(this.filterPropertyIdentifier,this.getFilterFromSelectors()))},v.prototype.registerOnSelectCallback=function(S){this.onSelectCallback=S},v.prototype.invokeOnSelectCallback=function(S){_.isFunction(this.onSelectCallback)&&this.onSelectCallback(S)},v}()},95898:function(Xe,H,t){t.d(H,{Zm:function(){return l},gU:function(){return v},s$:function(){return d}});var e=t(498342);function l(S){return new o(S)}var o=function(){function S(h){this.hostServices=h.hostServices,this.telemetryService=this.hostServices&&this.hostServices.telemetry&&this.hostServices.telemetry(),this.instanceId=this.telemetryService&&this.telemetryService.instanceId}return S.prototype.trace=function(h,c){this.telemetryService&&this.telemetryService.trace(h,c)},S}();function d(S){switch(S){case 3:return"VisualEventError";case 2:return"VisualEventTrace";case 0:return"VisualEventRenderStarted";case 1:return"VisualEventRenderCompleted";default:return void e.fF.assertFail("Unknown VisualEventType: "+S)}}function v(S){switch(S){case"VisualEventError":return 3;case"VisualEventTrace":return 2;case"VisualEventRenderStarted":return 0;case"VisualEventRenderCompleted":return 1;default:return void e.fF.assertFail("Unknown VisualEventType: "+S)}}},774355:function(Xe,H,t){t.d(H,{r:function(){return l}});var e=t(314928);function l(d){return new o(d)}var o=function(){function d(v){this.hostServices=v.hostServices,this.tooltipService=this.hostServices.tooltips()}return d.prototype.enabled=function(){return this.tooltipService&&this.tooltipService.enabled()},d.prototype.show=function(v){if(this.enabled()){var S={coordinates:v.coordinates,dataItems:v.dataItems,isTouchEvent:v.isTouchEvent,identities:e.Z.getSelectorsByColumn(v.identities)};this.tooltipService.show(S)}},d.prototype.move=function(v){if(this.enabled()){var S={coordinates:v.coordinates,dataItems:v.dataItems,isTouchEvent:v.isTouchEvent,identities:e.Z.getSelectorsByColumn(v.identities)};this.tooltipService.move(S)}},d.prototype.hide=function(v){this.enabled()&&this.tooltipService.hide(v)},d}()},32754:function(Xe,H,t){t.d(H,{FE:function(){return o},UG:function(){return d},Ug:function(){return S}});var e=t(498342),l=t(812454);function o(h){var r=null!=h.data||null!=h.selectors,s=_.some(h.visualObjects,function(u){return u.selectorsByColumn&&u.selectorsByColumn.metadata&&!_.isArray(u.selectorsByColumn.metadata)});return r||s}function d(h){var c;if(h.data2)c=h.data2;else{if(h.selectors||h.data)return e.fF.assertFail("A visual is using selectors instead of selectorsByColumn.  Some features may not work as expected."),_.map(h.selectors||h.data,function(a){return function(h){if(h){var c={};return c[""]=h.data,{dataMap:c,metadata:[h.metadata]}}}(a)});if(!h.visualObjects)return[];c=_.map(h.visualObjects,function(a){return a.selectorsByColumn})}for(var r=0,s=c;r<s.length;r++){var u=s[r],i=u.metadata;i&&!_.isArray(i)&&(u.metadata=[i])}return c}function S(h){return null!=h.selectors?h.selectors:h.data?h.data:h.visualObjects?_.map(h.visualObjects,function(c){return(0,l.tV)(c.selectorsByColumn)}):h.data}},944990:function(Xe,H,t){t.d(H,{k:function(){return L},v:function(){return P}});var e=t(973188),l=t(58227),o=t(947634),d=t(981519),v=t(671225),S=t(562386),h=t(498342),c=t(781322),r=t(504898),s=t(275179),u=t(382088),i=t(273269),a=t(766442),n=t(553474),m=t(204553),f=t(325319),V=t(520469),p=t(12490),C=t(221743),b=t(179664),y=t(750098),D=t(610717),P=function(){function M(T,O){this.services=O}return M.createOptions=function(){return{additionalServices:["$element","visualPlugin","telemetryService","certifiedEventsService","promiseFactory","moduleLoader","featureSwitchService","visualSandbox","renderingSynchronizer","approvedResourceService","publicCustomVisualService","visualWarningTelemetryService","themeService","visualStylePresetService","trustedVisual","ngZone","svgProvider","globalEventBridge","managedCustomVisualsService","timeoutService"],scopedDependencies:["eventBridge"]}},M.prototype.$onChanges=function(T){this.core&&(T.viewModel&&(this.core.viewModel=T.viewModel.currentValue),T.allowDeferredRendering&&(this.core.allowDeferredRendering=T.allowDeferredRendering.currentValue),T.currentZone&&(this.core.currentZone=T.currentZone.currentValue))},M.prototype.$onInit=function(){var T=this,O=$(this.services.$element.find("div.visual").get(0)),N=this.services.ngZone,A=N&&function(B){return N.runOutsideAngular(B)},I=(0,e.__assign)((0,e.__assign)({},this.services),{run:A});this.core=new L(O,I,function(){return T.visualReady&&T.visualReady()}),this.core.viewModel=this.viewModel,this.core.allowDeferredRendering=this.allowDeferredRendering,this.core.currentZone=this.currentZone,this.core.$onInit()},M.prototype.$onDestroy=function(){this.core&&this.core.$onDestroy()},M.prototype.$doCheck=function(){this.core&&this.core.$doCheck()},M}(),F="viewModel",E="initialViewport",g="data",L=function(){function M(T,O,N){var A=this;this.visualElement=T,this.services=O,this.fireVisualReady=N,this.watcher=new v.C,this.dataWatched=!1,this.isDestroyed=!1,h.fF.assertValue(T,"visualElement is missing in VisualComponentCore constructor"),this.visualPlugin=O.visualPlugin,this.telemetryService=O.telemetryService,this.certifiedEventsService=O.certifiedEventsService,this.moduleLoader=O.moduleLoader,this.promiseFactory=O.promiseFactory,this.featureSwitchService=O.featureSwitchService,this.visualSandbox=O.visualSandbox,this.renderingSynchronizer=O.renderingSynchronizer,this.approvedResourceService=O.approvedResourceService,this.publicCustomVisualService=O.publicCustomVisualService,this.managedCustomVisualsService=O.managedCustomVisualsService,this.visualWarningTelemetryService=O.visualWarningTelemetryService,this.themeService=O.themeService,this.visualStylePresetService=O.visualStylePresetService,this.trustedVisual=O.trustedVisual,O.eventBridge&&(this.subscriptionManager=O.eventBridge.createChannelSubscriptionManager()),this.registeredToWatch=!1,this.setDisableEvents(!1),this.refreshApplyAllSlicerSubscription=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(p.z,function(I,B){"actionButton"===A.viewModel.type&&A.visualUpdate()})}return M.prototype.$onInit=function(){var T=this;return(0,o.l1)(this.currentZone,function(){return T.onInitImpl()})},M.prototype.$onDestroy=function(){this.reloadEmptyVisualsSubscriptionManager&&(this.reloadEmptyVisualsSubscriptionManager.unsubscribeAll(),this.reloadEmptyVisualsSubscriptionManager=void 0),this.refreshApplyAllSlicerSubscription&&this.refreshApplyAllSlicerSubscription.unsubscribeAll(),this.subscriptionManager&&this.subscriptionManager.unsubscribeAll(),this.destroyVisual(),this.visualElement=null,this.model&&(this.model.visual=null),this.lastSelectionState=void 0,this.onSelectionStateChangedSubscription&&(this.onSelectionStateChangedSubscription.unsubscribe(),this.onSelectionStateChangedSubscription=void 0),this.isDestroyed=!0},M.prototype.$doCheck=function(){this.watcher.doCheck()},M.prototype.onInitImpl=function(){var T=this;return this.allowDeferredRendering?this.services.timeoutService.setTimeout().promise.then(function(){return T.initializeAsync()}):this.initializeAsync()},M.prototype.initializeAsync=function(){var T=this;if(!this.viewModel||!this.viewModel.type){var O=this.promiseFactory.defer();return this.watcher.add(F,function(){return T.viewModel},function(N){!N||!N.type||(T.watcher.remove(F),T.processModelAsync(N).then(function(){return O.resolve()},function(A){return O.reject(A)}))}),O.promise}return this.processModelAsync(this.viewModel)},M.prototype.processModelAsync=function(T){var O;return(0,e.__awaiter)(this,void 0,s.J,function(){var N,A,I,B,U,W,j,K=this;return(0,e.__generator)(this,function(ee){switch(ee.label){case 0:return this.visualHasInitialData=!1,this.visualHasTelemetryInformation=!1,this.model=T,A=(N=this.viewModel)&&N.initialLoadActivity,T&&T.type?(I=(0,C.nn)(this.approvedResourceService,this.model.type,this.visualPlugin.isCustomVisual(this.model.type)),this.visualLoadEvent=A?this.telemetryService.startChildEvent(A.event,D.dd,{visualType:T.type,hostInformation:JSON.stringify(this.visualPlugin.getTelemetryHostInformation()),instanceId:T.hostServices.instanceId,visualName:T.visualName,customVisualType:C.Mm[I],reportId:this.model.reportId,dashboadId:this.model.dashboardId}):this.telemetryService.startEvent(D.dd,{visualType:T.type,hostInformation:JSON.stringify(this.visualPlugin.getTelemetryHostInformation()),instanceId:T.hostServices.instanceId,visualName:T.visualName,customVisualType:C.Mm[I],reportId:this.model.reportId,dashboadId:this.model.dashboardId}),[C.Mm.Unclassified,C.Mm.Native].includes(I)||(this.visualLoadStandardizedEvent=this.certifiedEventsService.startTimedStandardizedFeatureEvent({activityAttributes:{hostInformation:this.visualPlugin.getTelemetryHostInformation().name,customVisualType:C.Mm[I]},activityName:D.Ft,correlationId:null===(O=this.telemetryService.root)||void 0===O?void 0:O.id,visualId:T.type})),T.visualPlugin&&(this.visualPlugin=T.visualPlugin),[4,this.shouldDisableCustomVisuals(T.type)]):[2,this.promiseFactory.reject(void 0,!!this.currentZone)];case 1:if(B=ee.sent(),U=this.promiseFactory.defer(!!this.currentZone),(W=this.plugin=this.visualPlugin.getPlugin(T.type))&&this.trustedVisual.canLoadVisual(W.name)&&!B){if(this.viewModel!==N)return[2,this.promiseFactory.resolve()];j={element:this.visualElement,host:T.hostServices,visualAdapterHostServices:T.visualAdapterHostServices,style:this.themeService.getVisualStyle(T.themeCollection),viewport:T.viewport,animation:{transitionImmediate:!1},featureSwitches:(0,e.__assign)({},this.featureSwitchService.featureSwitches)},this.model.interactivityOptions&&(j.interactivity=this.model.interactivityOptions),this.initVisualAsync(W,j,this.model).finally(function(){return U.resolve(null)})}else this.subscribeToReloadEmptyVisuals(),U.resolve(),this.publicCustomVisualService.isApprovedResourceByVisualId(T.type).then(function(ie){ie||K.visualReady()});return[2,U.promise]}})})},M.prototype.subscribeToReloadEmptyVisuals=function(){var T=this;this.reloadEmptyVisualsSubscriptionManager||(this.reloadEmptyVisualsSubscriptionManager=this.services.globalEventBridge.createChannelSubscriptionManager().subscribe(p.W,function(O,N){_.includes(N.visualTypes,T.viewModel.type)&&(T.reloadEmptyVisualsSubscriptionManager.unsubscribeAll(),T.reloadEmptyVisualsSubscriptionManager=void 0,T.viewport||(T.viewport=T.model.viewport),T.initializeAsync())}))},M.prototype.initVisualAsync=function(T,O,N){var A=this;if(!O.viewport){var I=this.promiseFactory.defer(!!this.currentZone);return this.watcher.add(E,function(){return A.viewModel&&A.viewModel.viewport},function(U){U&&(A.watcher.remove(E),O.viewport=U,A.initVisualAsync(T,O,N).finally(function(){return I.resolve(null)}))}),I.promise}this.currentViewport=this.viewport=O.viewport,this.destroyVisual();var B=this.pendingAdapter=(0,y.z)({visualPlugin:T,promiseFactory:this.promiseFactory,moduleLoader:this.moduleLoader,telemetryService:this.telemetryService,certifiedEventsService:this.certifiedEventsService,featureSwitches:this.featureSwitchService.featureSwitches,approvedResourceService:this.approvedResourceService,visualSandbox:this.visualSandbox,run:this.services.run},!!this.currentZone);return this.registeredToWatch||(this.registeredToWatch=!0,this.watcher.add("type",function(){return A.viewModel&&A.viewModel.type},function(U,W,j){return(0,e.__awaiter)(A,void 0,s.J,function(){return(0,e.__generator)(this,function(K){switch(K.label){case 0:return!j&&W&&U&&U!==W?(this.visualElement.empty(),[4,this.processModelAsync(this.viewModel)]):[3,2];case 1:K.sent(),K.label=2;case 2:return[2]}})})}),this.watcher.add("viewport",function(){return A.viewModel&&A.viewModel.viewport},function(U,W,j){U&&A.onViewportChanged(U)}),this.watcher.add("themeCollection",function(){return A.viewModel&&A.viewModel.themeCollection},function(U,W,j){return(0,e.__awaiter)(A,void 0,s.J,function(){return(0,e.__generator)(this,function(K){switch(K.label){case 0:return j?[3,2]:[4,this.onThemeNameChange()];case 1:K.sent(),K.label=2;case 2:return[2]}})})},{mode:2})),B.then(function(U){if(B===A.pendingAdapter){if(A.isDestroyed)return void A.telemetryService.logChildEvent(A.visualLoadEvent.event,D.cn,{visualType:T.name,isCustom:T.custom||!1,isSandboxed:U.sandbox||!1,width:O.viewport.width,height:O.viewport.height,hostInformation:JSON.stringify({isDestroyed:!0}),instanceId:N.hostServices.instanceId,visualName:N.visualName});O.viewport=A.currentViewport,A.model.visual=U;var W=U.init(O);if(W)return W.then(function(){return A.afterVisualInit(T,O,N)});A.afterVisualInit(T,O,N)}}).finally(function(){B===A.pendingAdapter&&(A.pendingAdapter=void 0,A.pendingUpdates=void 0)})},M.prototype.afterVisualInit=function(T,O,N){var I,A=this;if(!this.isDestroyed){this.ensureOnSelectionStateChanged();var B=!1;if(!this.dataWatched){this.dataWatched=!0;var U;U=this.featureSwitchService.featureSwitches.noEmptyUpdate||this.featureSwitchService.featureSwitches.noEmptyUpdateEmbed?function(K,ee){null!=K&&A.enqueuePending(i.EP.Data,function(q){return A.onDataChanged(q)},K)}:this.watchScopeForChangesCallback(i.EP.Data,function(j){return A.onDataChanged(j)}),this.watcher.add(g,function(){return A.viewModel&&A.viewModel.data},U),B=!0}N.visual.sandbox&&this.subscriptionManager&&this.subscriptionManager.subscribe(d.dJ,function(){return setTimeout(function(){return A.setDisableEvents(!0)})}).subscribe(d.v7,function(){return setTimeout(function(){return A.setDisableEvents(!1)})}),this.telemetryService.logChildEvent(this.visualLoadEvent.event,D.cn,{visualType:T.name,isCustom:T.custom||!1,isSandboxed:N.visual.sandbox||!1,width:O.viewport.width,height:O.viewport.height,hostInformation:JSON.stringify(this.visualPlugin.getTelemetryHostInformation()),instanceId:N.hostServices.instanceId,visualName:N.visualName}),this.pendingAdapter=void 0;var W=this.pendingUpdates;W?(this.pendingUpdates=void 0,h.fF.assert(function(){return W===i.EP.Data},"VisualUpdateType.Data is the only supported pending update."),W&i.EP.Data&&this.onDataChanged(this.model.data)):this.featureSwitchService.featureSwitches.visualCoreInitialCheck&&B&&!(null===(I=this.viewModel)||void 0===I)&&I.data&&this.watcher.doCheck(),N.visualInitialized=!0}},M.prototype.enqueuePending=function(T,O,N){this.pendingAdapter?this.pendingUpdates|=T:O(N)},M.prototype.destroyVisual=function(){var T=this.model;if(T){T.visualInitialized=!1;var O=T.visual;O&&O.destroy&&O.destroy(),O&&T.performanceActivity&&(T.performanceActivity.cancel(!0),T.performanceActivity=void 0);var N=this.pendingAdapter;N&&(N.reject(new S.qw("pendingAdapter.reject")),this.pendingAdapter=void 0,this.pendingUpdates=void 0),this.dataWatched&&(this.dataWatched=!1,this.watcher.remove(g))}},M.prototype.onViewportChanged=function(T){if(T&&(!this.currentViewport||this.currentViewport.height!==T.height||this.currentViewport.width!==T.width||this.currentViewport.scale!==T.scale)){this.currentViewport=T,this.viewport=T;var O=(0,u.BL)("update(".concat(this.markerName(),")"));this.visualUpdate(),this.resolveDeferredInit(),O()}},M.prototype.onSubSelectionsChanged=function(T){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(N){switch(N.label){case 0:return this.subSelections=T,[4,this.onVisualAdapterDataChanged({dataViews:[],type:i.EP.FormattingSubSelectionChange,suppressAnimations:!0})];case 1:return N.sent(),[2]}})})},M.prototype.onFormatModeChanged=function(T){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(N){switch(N.label){case 0:return this.formatMode=T,[4,this.onVisualAdapterDataChanged({dataViews:[],type:i.EP.FormatModeChange,suppressAnimations:!0})];case 1:return N.sent(),[2]}})})},M.prototype.onVisualAdapterDataChanged=function(T){var O,N,A,I;return(0,e.__awaiter)(this,void 0,s.J,function(){var B,U;return(0,e.__generator)(this,function(W){switch(W.label){case 0:return B=this.markerName(),null!==(N=null===(O=this.model)||void 0===O?void 0:O.visual)&&void 0!==N&&N.visualHasMethod("update")?(U=(0,u.BL)("update(".concat(B,")")),[4,this.visualUpdate(T)]):[3,2];case 1:return W.sent(),this.resolveDeferredInit(),U(),[3,3];case 2:!(null===(I=null===(A=this.model)||void 0===A?void 0:A.visual)||void 0===I)&&I.visualHasMethod("onDataChanged")&&(U=(0,u.BL)("onDataChanged(".concat(B,")")),this.visualOnDataChanged(T),this.resolveDeferredInit(),U()),W.label=3;case 3:return[2]}})})},M.prototype.setPendingChanges=function(T){return(0,e.__awaiter)(this,void 0,s.J,function(){var O;return(0,e.__generator)(this,function(N){switch(N.label){case 0:return this.pendingChanges=T,O=this.services.visualPlugin.capabilities(this.viewModel.type),this.viewModel.hasUnappliedFilterChanges=T[0],O&&O.hasFilterOptions?[4,this.visualUpdate({dataViews:[],type:i.EP.FilterOptionsChange})]:[3,2];case 1:N.sent(),N.label=2;case 2:return this.resolveDeferredInit(),[2]}})})},M.prototype.markerName=function(){var T=this.model.type;return this.plugin&&this.plugin.custom&&(T="customVisual:"+T),T},M.prototype.buildDataChangedOptions=function(T,O,N){var A={dataViews:O,suppressAnimations:this.renderingSynchronizer.suppressAnimations};return T?A.operationKind=!1===T.isFirstSegment?i.su.Append:i.su.Create:N||(A.operationKind=i.su.None),A},M.prototype.transformAndValidateDataViews=function(T){var N,B,U,O=this,A=this.plugin.capabilities,I=this.model;h.fF.assert(function(){return!O.modelHasOutstandingReferences()},"Resource package references should be resolved before applying the tranform"),this.model.performanceActivity&&(B=this.model.performanceActivity.createChildActivity({name:"Data View Transform"})),T&&T.dataView&&(U=T.dataView);var ie,W=I.dataTransforms,j=this.applyStylePresetDefinitions(W),K=(0,u.BL)("dataViewTransform(".concat(this.markerName(),")")),ee=I.themeCollection,he=1===this.viewModel.hostServices.getViewMode();if(U){if(ie=(q=(0,f.nn)({prototype:U,objectDescriptors:A?A.objects:null,dataViewMappings:A?A.dataViewMappings:null,transforms:j,colorAllocatorFactory:(0,a.V)(),dataRoles:A?A.dataRoles:null,drillCapabilities:A&&A.drilldown,expandCollapseCapabilties:A&&A.expandCollapse,visualStyle:this.themeService.getVisualStyle(ee),orderIndependentSelectorMatching:I.orderIndependentSelectorMatching,keepAllMetadataColumnsCapability:!!A&&A.keepAllMetadataColumns,featureSwitches:this.featureSwitchService.featureSwitches,withWarnings:he})).warnings,(Y=q.dataViews)&&Y.length>0){for(var G=!0,me=0;G&&me<Y.length;++me)(re=(0,n.ul)(Y[me],A.dataViewMappings)).isValid?Y[me]=re.dataView:G=!1;G&&(N=this.buildDataChangedOptions(T,Y,W))}!N&&I.allowInvalidDataView&&(N={dataViews:[],suppressAnimations:this.renderingSynchronizer.suppressAnimations})}else{var re,q,Y;(re=(0,n.ul)(U,A.dataViewMappings)).isValid||(0,C.oq)(this.plugin)?(ie=(q=(0,f.nn)({prototype:re.dataView,objectDescriptors:A?A.objects:null,dataViewMappings:A?A.dataViewMappings:null,transforms:j,colorAllocatorFactory:(0,a.V)(),dataRoles:A?A.dataRoles:null,drillCapabilities:A&&A.drilldown,expandCollapseCapabilties:A&&A.expandCollapse,visualStyle:this.themeService.getVisualStyle(ee),orderIndependentSelectorMatching:I.orderIndependentSelectorMatching,keepAllMetadataColumnsCapability:!!A&&A.keepAllMetadataColumns,featureSwitches:this.featureSwitchService.featureSwitches,withWarnings:he})).warnings,N=this.buildDataChangedOptions(T,Y=q.dataViews,W)):I.allowInvalidDataView&&(N={dataViews:[],suppressAnimations:this.renderingSynchronizer.suppressAnimations})}return K(),B&&B.resolve(),N&&(N.visualDefinitionData=T,!_.isEmpty(ie)&&this.viewModel&&this.viewModel.hostServices&&I.hostServices.setWarnings(ie)),N},M.prototype.onThemeNameChange=function(){return(0,e.__awaiter)(this,void 0,s.J,function(){return(0,e.__generator)(this,function(T){switch(T.label){case 0:return[4,this.processModelAsync(this.viewModel)];case 1:return T.sent(),[2]}})})},M.prototype.applyStylePresetDefinitions=function(T){var O,N,A=this.plugin.capabilities,I=this.themeService,B=this.model,U=(T=T&&(0,c.ED)(T)||{}).objects=(0,m.d9)(T.objects||{});B.additionalObjectUpdates&&B.additionalObjectUpdates(T.objects);var W=B.themeCollection,j=I.getVisualObjects(W,B.type,B.stylePresetName,A&&A.objects,this.plugin.custom);(0,m.l7)(U,j);var K=this.plugin.stampHardcodedDefaultObjects;if(K){for(var ee={},ie=0,he=K;ie<he.length;ie++){var q=he[ie];this.themeService.mustUseHardcodedDefaultForObjectProperty(W,this.plugin.name,q.objectProperty)&&(0,m.l7)(ee,((O={})[q.objectProperty.objectName]=[{properties:(N={},N[q.objectProperty.propertyName]=q.defaultValue,N)}],O))}(0,m.l7)(U,ee)}var G=I.getVisualStyle(W),me=this.visualStylePresetService.getStylePreset(B.type,B.stylePresetName);if(G&&me){var re=me.evaluate(G);h.fF.assertValue(re,"evaluating a stylePreset resulted in undefined"),(0,m.l7)(U,re)}return T},M.prototype.loadConditionalFormattingIcons=function(){var T=this.model.dataTransforms&&this.model.dataTransforms.objects,O=this.plugin&&this.plugin.capabilities&&this.plugin.capabilities.objects;if(T&&O){var N=!1;(0,m.Vj)({definitions:T,descriptors:O,structuralObjectVisitor:function(B,U,W,j,K,ee){j.icon&&(0,V.r)(B)&&(N=!0,ee.stopVisiting=!0)}}),N&&this.services.svgProvider.loadSheet("conditionalFormattingDialogIcons")}},M.prototype.applyDataChange=function(T){var O;return(0,e.__awaiter)(this,void 0,s.J,function(){var N,A,I,B,U,W,j,K,ee,ie,he=this;return(0,e.__generator)(this,function(q){switch(q.label){case 0:if(N=this.model.performanceActivity,A=function(G){N&&(N.isRunning()&&N[G](),he.model.performanceActivity===N&&(he.model.performanceActivity=void 0))},!(I=this.model&&this.model.visual))return r.f.error("applyDataChange with no visual: ".concat(!!this.model," ").concat(!!this.viewModel," ").concat(!(!this.viewModel||!this.viewModel.visual))),[2];if(!I.onDataChanged&&!I.update)return[2];if(this.modelHasOutstandingReferences())return[2];this.loadConditionalFormattingIcons();try{B=this.transformAndValidateDataViews(T)}catch(Y){throw new l.qc(Y)}return B?!0!==this.allowDeferredRendering?[3,2]:[4,this.renderingSynchronizer.deferRenderOperation(this.visualElement,_.noop)]:[2];case 1:q.sent(),q.label=2;case 2:if(I!==this.model.visual)return[2];q.label=3;case 3:return q.trys.push([3,7,,8]),(U=null===(O=this.viewModel)||void 0===O?void 0:O.hostServices.tooltips())&&U.hide({immediately:!0,isTouchEvent:!1}),this.dataViews=this.model.dataViews=B.dataViews,this.visualDefinitionData=T,W=this.dataViews&&this.dataViews.length,j=T&&T.warnings,_.isEmpty(j)||this.visualWarningTelemetryService.logWarnings(j,this.model),K=this.model.type,this.plugin&&this.plugin.custom&&(K="customVisual:"+K),this.viewport&&this.model.visual.visualHasMethod("update")?(ee=(0,u.BL)("update(".concat(K,")")),[4,this.visualUpdate(B)]):[3,5];case 4:return q.sent(),A("resolve"),this.model.pendingSelection&&W&&(this.model.visual.onRestoreSelection&&this.model.visual.onRestoreSelection({selection:this.model.pendingSelection}),this.model.selectedDatapoints=this.model.pendingSelection,this.model.pendingSelection=void 0),this.resolveDeferredInit(),ee(),[3,6];case 5:I.visualHasMethod("onDataChanged")&&(ee=(0,u.BL)("onDataChanged(".concat(K,")")),this.visualOnDataChanged(B),A("resolve"),this.resolveDeferredInit(),ee()),q.label=6;case 6:return this.visualReady(),[3,8];case 7:throw ie=q.sent(),A("reject"),this.visualReady(),ie;case 8:return[2]}})})},M.prototype.onDataChanged=function(T){if(this.model){if(!this.viewModel.hasPendingChanges){var O=this.model.dataAppliedEvent;this.model.dataAppliedEvent=void 0,this.pendingDataChange&&(this.pendingDataChange.reject({code:"onDataChangedOverlapped",ignorable:!0}),this.pendingDataChange=void 0);var N=this.promiseFactory.defer();this.pendingDataChange=N,N.promise.then(function(){return O&&O.resolve()},function(A){return O&&O.reject(A)}),this.applyDataChange(T).then(function(){return N.resolve()},function(A){return N.reject(A)})}}else r.f.error("onDataChanged called with no this.model, this.viewModel is not defined")},M.prototype.resolveDeferredInit=function(){var O,N,T=this;if(!this.isDestroyed){if(!this.visualHasInitialData&&this.dataViews){this.visualElement.attr("initialized",""),this.visualHasInitialData=!0,h.fF.assert(function(){return null!=T.visualLoadEvent},"resolveDeferredInit should only be called after processModelAsync"),this.visualLoadEvent.resolve(),this.visualLoadEvent=void 0;var A=(0,C.nn)(this.approvedResourceService,this.model.type,this.visualPlugin.isCustomVisual(this.model.type));[C.Mm.Unclassified,C.Mm.Native].includes(A)||(null===(O=this.visualLoadStandardizedEvent)||void 0===O||O.complete("Succeeded"),this.visualLoadStandardizedEvent=void 0)}if(!this.visualHasTelemetryInformation&&!_.isEmpty(this.dataViews)&&(this.visualHasTelemetryInformation=!0,this.model&&_.isFunction(null===(N=this.model.visual)||void 0===N?void 0:N.getTelemetryInformation))){var I=this.model.visual.getTelemetryInformation();if(!_.isEmpty(I))try{this.telemetryService.logEvent(D.WH,{visualType:this.model.type,visualName:this.model.visualName,reportId:this.model.reportId,dashboardId:this.model.dashboardId,visualInformation:JSON.stringify(I)})}catch(B){h.fF.assertFail("Unable to serialize Visual Telemetry Information for ".concat(this.model.visualName,". ").concat(B))}}}},M.prototype.setDisableEvents=function(T){this.disableEvents=T},M.prototype.visualUpdate=function(T){var O,N;return(0,e.__awaiter)(this,void 0,s.J,function(){var A,I,B,U,W;return(0,e.__generator)(this,function(j){switch(j.label){case 0:return null!==(O=this.model)&&void 0!==O&&O.visual?(this.ensureOnSelectionStateChanged(),A=this.model.performanceActivity?this.model.performanceActivity.createChildActivity({name:"Visual Update Async"}):void 0,I=0,B=0,(U=this.viewModel&&this.viewModel.hostServices)&&(I=U.getViewMode(),B=U.getEditMode()),W=this.getSuppressAnimations(T),[4,this.model.visual.update({viewport:this.viewport,dataViews:this.dataViews,suppressAnimations:W,type:T?null!==(N=T.type)&&void 0!==N?N:i.EP.Data:i.EP.Resize,resizeMode:T?void 0:2,operationKind:T?T.operationKind:void 0,viewMode:I,editMode:B,visualDefinitionData:T?T.visualDefinitionData:this.visualDefinitionData,dataTransforms:this.model.dataTransforms,isInFocus:this.model.isInFocus,visualRequiresData:this.model.visualRequiresData,visualHasData:this.model.visualHasData,updateId:u.b$.generateGuid(),parentContextActivity:this.model.performanceActivity,subSelections:this.subSelections,formatMode:this.formatMode,pendingChanges:this.pendingChanges})]):[2];case 1:return j.sent(),A&&A.resolve(),[2]}})})},M.prototype.visualOnDataChanged=function(T){var O,N=this.getSuppressAnimations(T);this.ensureOnSelectionStateChanged(),this.model.visual.onDataChanged({dataViews:this.dataViews,suppressAnimations:N,operationKind:T?T.operationKind:void 0,type:T?null!==(O=T.type)&&void 0!==O?O:i.EP.Data:i.EP.Resize,subSelections:this.subSelections,formatMode:this.formatMode})},M.prototype.getSuppressAnimations=function(T){var O;return!(!this.formatMode||!this.featureSwitchService.featureSwitches.onObject)||!T||(null!==(O=T.suppressAnimations)&&void 0!==O?O:this.renderingSynchronizer.suppressAnimations)},M.prototype.modelHasOutstandingReferences=function(){var T=this.model.dataTransforms&&this.model.dataTransforms.objects;return!!T&&(0,b.z_)(T,this.plugin.capabilities.objects)},M.prototype.watchScopeForChangesCallback=function(T,O){var N=this,A=!0;return function(I,B){(I!==B||A)&&N.enqueuePending(T,O,I),A=!1}},M.prototype.shouldDisableCustomVisuals=function(T){return(0,e.__awaiter)(this,void 0,s.J,function(){var O,N,A;return(0,e.__generator)(this,function(I){switch(I.label){case 0:return(0,C.ul)(this.featureSwitchService,this.telemetryService,this.viewModel.initialLoadActivity),(O=this.visualPlugin.isCustomVisual(T))?(N=C.jK,A=[this.featureSwitchService,T,this.approvedResourceService,!1],[4,this.managedCustomVisualsService.isPublicManagedVisualByVisualType(T)]):[3,2];case 1:O=N.apply(void 0,A.concat([I.sent(),this.model&&this.model.isDisabled,this.model&&this.model.isDisabledIfUncertified])),I.label=2;case 2:return[2,O]}})})},M.prototype.visualReady=function(){this.isDestroyed||this.fireVisualReady()},M.prototype.ensureOnSelectionStateChanged=function(){var T=this;if(!this.onSelectionStateChangedSubscription){var O=this.model;!O||!O.visual||!O.hostServices||!O.hostServices.isSelected||!O.hostServices.isSelected$||(this.onSelectionStateChanged(O.hostServices.isSelected()),this.onSelectionStateChangedSubscription=O.hostServices.isSelected$().subscribe(function(N){T.onSelectionStateChanged(N)}))}},M.prototype.onSelectionStateChanged=function(T){if(T!==this.lastSelectionState){var O=this.model&&this.model.visual;!O||!O.onSelectionStateChanged||(this.lastSelectionState=T,O.onSelectionStateChanged(T))}},M}()},545701:function(Xe,H,t){t.d(H,{LG:function(){return r},dg:function(){return s}});var e=t(498342),l=t(382088),o=t(263521);window;var c=window;function r(a){return u(a,window.resourceLoaderUrl||"/explore/resourcePackageItem/",!0===c.resourceLoaderIncludePackageId)}function s(a){var n=a.getAbsoluteUri("/sharedresources");return u(a,n,!1)}function u(a,n,m){return e.fF.assertValue(a,"httpService"),e.fF.assertValue(n,"uri"),e.fF.assertValue(m,"includePackageIdInUri"),new i(a,n,m)}var i=function(){function a(n,m,f){this.httpService=n,this.uri=m,this.includePackageIdInUri=f}return a.prototype.get=function(n,m,f,V){var p=this.uri;this.includePackageIdInUri&&(p=this.uri+n+"/");var C=l.b$.urlCombine(p,_.map(f.split("/"),function(y){return encodeURIComponent(y)}).join("/")),b=this.httpService.powerbiRequestOptions();return b.timeout=o.JZ,b.responseType="text",V&&null!=V.retries&&(b.retryCount=V.retries),this.httpService.get(C,b).then(function(y){return y.data})},a.prototype.getBlob=function(n,m,f,V){var p=this.uri;this.includePackageIdInUri&&(p=this.uri+n+"/");var C=l.b$.urlCombine(p,encodeURIComponent(f)),b=this.httpService.powerbiRequestOptions();return b.responseType=l.t6,V&&null!=V.retries&&(b.retryCount=V.retries),this.httpService.get(C,b).then(function(y){return y.data})},a}()},342450:function(Xe,H,t){t.d(H,{C:function(){return s}});var e=t(973188),l=t(301938),o=t(498342),d=t(275179),v=t(127112),S=t(95898),h=t(879937),c=t(610717);function s(a,n,m,f,V,p,C,b,y){return o.fF.assertValue(a,"messageProxy"),new i(a,n,m,f,V,p,C,b,y)}var i=function(){function a(n,m,f,V,p,C,b,y,D){void 0===D&&(D=15e3);var P=this;this.messageProxy=n,this.telemetryService=m,this.certifiedEventsService=f,this.approvedResourcesService=V,this.featureSwitchService=p,this.isDebugVisual=C,this.promiseFactory=b,this.privilegeService=y,this.updateTimeOut=D,this.telemetryEventsPayloadLimit=4096,this.methodQueue=[],this.isSandboxReady=!1,this.isVisualReady=!1,this.telemetryUsageCount=0,o.fF.assertValue(n,"messageProxy"),this.deferredCache={},this.messageProxy.on(v.et,function(F){return P.onMessageReceived(F)}),this.messageProxy.on(v.zM,function(F){return P.onMessageError(F)})}return Object.defineProperty(a.prototype,"plugin",{get:function(){return this._plugin},enumerable:!1,configurable:!0}),Object.defineProperty(a.prototype,"isDebug",{get:function(){return this.isDebugVisual},enumerable:!1,configurable:!0}),a.prototype.init=function(n,m){this.visualDelegate=n,m&&(this._plugin=m,this.isSandboxReady=!0)},a.prototype.setPluginReadyHandler=function(n){this.pluginReadyHandler=n},a.prototype.logEvent=function(){for(var n=[],m=0;m<arguments.length;m++)n[m]=arguments[m];if(!this.telemetryService)return null;var V,f=n.shift();return V="string"==typeof f?this.getEventFactory(f):f,this.telemetryService.logEvent.apply(this.telemetryService,(0,e.__spreadArray)([V],n,!0))},a.prototype.logStandardizedFeatureEvent=function(n){var m;n.correlationId=null===(m=this.telemetryService.root)||void 0===m?void 0:m.id,this.certifiedEventsService.logStandardizedFeatureEvent(n)},a.prototype.logTimedStandardizedFeatureEvent=function(n){var m;n.correlationId=null===(m=this.telemetryService.root)||void 0===m?void 0:m.id,this.certifiedEventsService.logTimedStandardizedFeatureEvent(n)},a.prototype.getEventFactory=function(n){switch(n){case"VisualEventError":return c.aW;case"VisualEventTrace":return c.qz;case"VisualException":return l.Lj;case"VisualEventRenderStarted":return c.JT;case"VisualEventRenderCompleted":return c.GL;case"VisualApiUsage":return l.ZX;default:return void o.fF.assertFail("Unknown eventType: "+n)}},a.prototype.logVisualEvent=function(){for(var n=[],m=0;m<arguments.length;m++)n[m]=arguments[m];var f=this.plugin.name;if(!1!==this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService&&(this.approvedResourcesService.isApprovedResource(f)||this.approvedResourcesService.isTrustedResource(f))){var V=n,p=V[0],C=V[1],b=V[2],y={visualType:f,instanceId:C instanceof Object?C.instanceId:C};b=C instanceof Object?C.payload:b;var D=(0,S.gU)(p);switch(D){case 0:case 1:if(!this.featureSwitchService.featureSwitches.customVisualsPerformanceTelemetry)return;b="";break;case 2:case 3:var P=this.approvedResourcesService.getTelemetryUsageLimit(f);if(this.telemetryUsageCount>=P)return;this.telemetryUsageCount++,this.telemetryUsageCount===P&&this.telemetryService.logEvent(c.Hv,y),b=b?b.substring(0,this.telemetryEventsPayloadLimit):"";break;default:return void o.fF.assertFail("Invalid visual event type: "+D)}return this.logEvent.apply(this,[p,(0,e.__assign)((0,e.__assign)({},y),{payload:b})])}},a.prototype.ready=function(n){o.fF.assertValue(n,"proxyInitOptions"),this.contentWindow=n,this.messageProxy.contentWindow=n,this.isSandboxReady&&this.flushCallStack(),this.messageProxy.flushQueue(),this.isVisualReady=!0},a.prototype.update=function(n){var m=this;if((this.featureSwitchService.featureSwitches.cvAssumeAsyncUpdate||this.approvedResourcesService.canManageAsyncUpdate(this.plugin.name))&&n.updateId){var V=this.promiseFactory.defer();this.deferredCache[n.updateId]=V;var p=setTimeout(function(){V.resolve(null),m.telemetryService.logEvent(c.Tk,{visualType:m.plugin.name,timeOut:m.updateTimeOut,parentId:m.telemetryService.root.id})},this.updateTimeOut);n.updateCallBack=function(){return V.resolve(null)};var C=this.invoke("update",[n]);return C&&C.catch(function(b){return V.reject(b)}),V.promise.catch(function(b){return b}).finally(function(){clearTimeout(p),n.updateId&&delete m.deferredCache[n.updateId]}),V.promise}return this.invoke("update",[n]),d.J.resolve(void 0)},a.prototype.invoke=function(n,m){if(o.fF.assertValue(n,"eventName"),this.isSandboxReady)return this.execute(n,m);this.methodQueue.push({methodName:n,arguments:m})},a.prototype.postMessage=function(n,m){this.messageProxy.postMessage({eventName:n,arguments:m})},a.prototype.postMessageAsync=function(n,m){return this.messageProxy.postMessageAsync({eventName:n,arguments:m})},a.prototype.onPluginReady=function(){this.pluginReadyHandler&&this.pluginReadyHandler(),!this.isSandboxReady&&(this.flushCallStack(),this.isSandboxReady=!0)},a.prototype.destroy=function(){this.messageProxy.off(v.et),this.messageProxy.off(v.zM),this.messageProxy.destroy(),this.contentWindow=null},a.prototype.execute=function(n,m){if(_.isFunction(this.visualDelegate[n]))return this.visualDelegate[n].apply(this.visualDelegate,m);this.postMessage(n,m)},a.prototype.flushCallStack=function(){for(;this.methodQueue.length>0;){var n=this.methodQueue.shift();this.execute(n.methodName,n.arguments)}this.isVisualReady&&this.messageProxy.flushQueue()},a.prototype.onMessageReceived=function(n){var m=this;if(this.validateMessageSource(n)){var f=function(){m.telemetryService.logEvent(c.rZ,{visualType:m._plugin.name,environment:m.visualDelegate.getHostEnvString(),privilege:"postMessage",status:"Rejected",parameters:n.message.eventName})},V=this[n.message.eventName];if("function"==typeof V)return V.approvedMessage?V.apply(this,n.message.arguments):f();if(this.visualDelegate)return"function"==typeof(V=this.visualDelegate[n.message.eventName])&&V.approvedMessage?V.apply(this.visualDelegate,n.message.arguments):f()}},a.prototype.onMessageError=function(n){this.validateMessageSource(n)&&n.message&&n.message.error&&!_.isEqual(n.message,this.lastErrorMessage)&&(this.telemetryService.logEvent(l.Fd,{visualName:this._plugin.name,debugErrorInfo:n.message.error.eventName+";"+n.message.error.message}),this.lastErrorMessage=_.cloneDeep(n.message))},a.prototype.refreshHostData=function(){(this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canRefreshHostData(this.plugin.name))&&this.visualDelegate.refreshHostData()},a.prototype.getResourceUrl=function(n){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getResourceUrl(m,n):this.postMessage("handleGetResourceUrlResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:n}])},a.prototype.getAADAuthenticationToken=function(n){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getAADAuthenticationToken(m,n):this.postMessage("handleGetAADAuthenticationTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:n}])},a.prototype.getAADToken=function(n){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetAADToken(m)?this.visualDelegate.getAADToken(m,n):this.postMessage("handleGetAADTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:n}])},a.prototype.getWACToken=function(n){var m=this.plugin.name;!0===this.isDebugVisual&&(m=m.substring(0,m.lastIndexOf("_DEBUG"))),!0===this.isDebugVisual||this.plugin.developerModeVisual||this.approvedResourcesService.canGetWACToken(m)?this.visualDelegate.getWACToken(n.resourceSiteUrl,n.resourceEtag,m,n.promiseId):this.postMessage("handleGetWACTokenResult",[{payload:"Visual ["+m+"] is not authorized.",isError:!0,promiseId:n.promiseId}])},a.prototype.renderingStarted=function(n,m){this.renderEventStartTime=(new Date).toISOString(),this.telemetryService.logEvent(c.hD,{visualType:this.plugin.name,instanceId:n,start:this.renderEventStartTime,end:this.renderEventStartTime,parentId:this.telemetryService.root.id})},a.prototype.renderingFinished=function(n,m){if(this.deferredCache[m]&&this.deferredCache[m].resolve(null),void 0!==this.renderEventStartTime){var f=(new Date).toISOString();this.telemetryService.logEvent(c.RP,{visualType:this.plugin.name,instanceId:n,start:this.renderEventStartTime,end:f,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0}},a.prototype.renderingFailed=function(n,m,f){this.deferredCache[m]&&this.deferredCache[m].reject(f),void 0!==this.renderEventStartTime&&(this.telemetryService.logEvent(c.Wv,{visualType:this.plugin.name,instanceId:n,parentId:this.telemetryService.root.id}),this.renderEventStartTime=void 0)},a.prototype.getWebAccessStatus=function(n,m){var f=this.privilegeService.getWebAccessStatus(this.plugin,n);this.postMessage("handleGetWebAccessStatus",[{promiseId:m,status:f}])},a.prototype.validateMessageSource=function(n){return o.fF.assertValue(n,"message"),!!n.source&&!!this.contentWindow&&this.contentWindow===n.source},(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],a.prototype,"logEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"logStandardizedFeatureEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"logTimedStandardizedFeatureEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",Object)],a.prototype,"logVisualEvent",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"onPluginReady",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"refreshHostData",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getResourceUrl",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getAADAuthenticationToken",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getAADToken",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getWACToken",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"renderingStarted",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"renderingFinished",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"renderingFailed",null),(0,e.__decorate)([(0,h.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",void 0)],a.prototype,"getWebAccessStatus",null),a}()},823505:function(Xe,H,t){t.d(H,{s:function(){return o}});var e=t(973188),l=t(275179);function o(){return new d}var d=function(){function v(){this.suppressAnimations=!1}return v.prototype.deferRenderOperation=function(S,h){return(0,e.__awaiter)(this,void 0,l.J,function(){var c;return(0,e.__generator)(this,function(r){return c=$.Deferred(),setTimeout(function(){h(),c.resolve()}),[2,c.promise()]})})},v.prototype.clearOperationsQueue=function(){},v}()},750098:function(Xe,H,t){t.d(H,{z:function(){return v}});var e=t(400198),l=t(498342),o=t(360964),d=t(879937),v=function(r,s){l.fF.assertValue(r,"options");var u=r.promiseFactory.defer(s),i=r.visualPlugin;if(r.visualSandbox&&function(c){var r=c.visualPlugin,s=c.featureSwitches||{},u=c.approvedResourceService;return!!r&&(!!(c.approvedResourceService&&c.approvedResourceService.isTrustedResource&&c.approvedResourceService.isTrustedResource(r.name))||!(!(0,o.vh)(r)||!s.approvedResourcesDisabled&&!r.apiVersion&&u&&u.isApprovedResource(r.name))&&s.sandboxVisualsEnabled)}(r)){var a=r.visualSandbox.getVisualPlugin(i,r.telemetryService,r.isDebugVisual);a.createES6?a.createES6().then(function(n){return u.resolve(n)}):a.create?u.resolve((0,d.lm)(a.create(),r.run)):u.reject("either create or createES6 must be defined")}else i.module?i.createES6&&!i.module.css?u.resolve((0,d.nm)(i,i.create,r.promiseFactory,r.telemetryService,void 0,r.run,r.certifiedEventsService)):r.moduleLoader.require({javascript:i.createES6?void 0:i.module.javascript,css:i.module.css}).then(function(n){return u.resolve((0,d.nm)(i,i.create,r.promiseFactory,r.telemetryService,n,r.run,r.certifiedEventsService))},function(n){return u.reject(n)}):u.resolve((0,d.nm)(i,i.create,r.promiseFactory,r.telemetryService,void 0,r.run,r.certifiedEventsService));return(0,e.w)(u)}},465932:function(Xe,H,t){t.d(H,{f:function(){return d}});var e=t(777220),l=t(595158),o=t(247740);function d(S,h,c){return new v(S,h,c)}var v=function(){function S(h,c,r){this.telemetryService=h,this.visualPlugin=c,this.localizationService=r}return S.prototype.logWarnings=function(h,c){if(!_.isEmpty(h))for(var r=0,s=h;r<s.length;r++){var u=s[r];u instanceof e.x&&this.logDsrLimitsWarning(u,c)}},S.prototype.logDsrLimitsWarning=function(h,c){var a,n,m,r=h.limits,s=h.getDetails((0,l.h1)()).message,u=h.code,i=c.type;r.Primary&&(a=this.getLimitString(h.limits.Primary)),r.Secondary&&(n=this.getLimitString(h.limits.Secondary)),r.Intersection&&(m=this.getLimitString(h.limits.Intersection));var f=c.dataViews,V=c&&c.data&&c.data.isFirstSegment,p=V||_.some(f,function(O){return O&&O.metadata&&O.metadata.segment});if(!p||!1!==V)for(var C=0,b=f;C<b.length;C++){var y=b[C];if(y&&y.categorical){var D=_.head(y.categorical.categories),P=0;D&&(P=D.values&&D.values.length||0);var F=y.categorical.values&&y.categorical.values.grouped(),E=F&&F.length||0,w=!(!y.categorical.values||!y.categorical.values.source),x=this.visualPlugin.capabilities(c.type),R=x&&x.drilldown&&_.head(x.drilldown.roles),g=!1,L=c.dataTransforms;R&&L&&(g=_.filter(L.selects,function(O){return O.roles&&O.roles[R]}).length>1);var M=void 0,T=this.visualPlugin.getPlugin(c.type);T&&T.getAdditionalTelemetry&&(M=JSON.stringify(T.getAdditionalTelemetry(y))),this.telemetryService.logEvent(o.vE,{errorCode:u,targetVisualType:i,primaryDataReduction:a,secondaryDataReduction:n,intersectionDataReduction:m,primaryCount:P,secondaryCount:E,hasCategoryHierarchy:g,hasDynamicSeries:w,visualTelemetry:M,isSegmented:p,message:s})}}},S.prototype.getLimitString=function(h){switch(h.Type){case 0:return"Top:"+h.Count;case 1:return"Bottom:"+h.Count;case 2:return"Sample:"+h.Count}},S}()},610717:function(Xe,H,t){t.d(H,{$7:function(){return O},Cr:function(){return G},Fh:function(){return K},Ft:function(){return d},GF:function(){return A},GL:function(){return u},Hv:function(){return E},IC:function(){return B},JT:function(){return r},KS:function(){return N},L1:function(){return W},Pp:function(){return Ee},Px:function(){return q},QC:function(){return he},RP:function(){return m},Tc:function(){return g},Tk:function(){return C},VN:function(){return ie},WH:function(){return h},Wv:function(){return V},Yv:function(){return j},aW:function(){return P},aw:function(){return Ne},az:function(){return x},cn:function(){return o},dd:function(){return v},hD:function(){return a},kd:function(){return M},qz:function(){return y},rY:function(){return ee},rZ:function(){return re},s$:function(){return Ye},th:function(){return T}});var e=t(947634),l="PBI.Visual.Initialized",o=e.cx[l]=(0,e.b1)(l,{logRatio:.025}),d="PBI.Visual.Load",v=e.cx[d]=(0,e.b1)(d),S="PBI.Visual.LoadInitialDataView",h=e.cx[S]=(0,e.b1)(S),c="PBI.VisualEvent.RenderStarted",r=e.cx[c]=(0,e.b1)(c),s="PBI.VisualEvent.RenderCompleted",u=e.cx[s]=(0,e.b1)(s),i="PBI.VisualEvent.RenderingStarted",a=e.cx[i]=(0,e.b1)(i),n="PBI.VisualEvent.RenderingCompleted",m=e.cx[n]=(0,e.b1)(n),f="PBI.VisualEvent.RenderingFailed",V=e.cx[f]=(0,e.b1)(f),p="PBI.VisualEvent.UpdateTimeOut",C=e.cx[p]=(0,e.b1)(p),b="PBI.VisualEvent.Trace",y=e.cx[b]=(0,e.b1)(b),D="PBI.VisualEvent.Error",P=e.cx[D]=(0,e.b1)(D),F="PBI.VisualEvent.ReachedTelemetryUsageLimit",E=e.cx[F]=(0,e.b1)(F),w="PBI.VisualEvent.LaunchURL",x=e.cx[w]=(0,e.b1)(w),R="PBI.VisualEvent.DownloadContentValidationFailed",g=e.cx[R]=(0,e.b1)(R),L="PBI.VisualEvent.DownloadContent",M=e.cx[L]=(0,e.b1)(L),T="PBI.VisualEvent.GetAvailableServicePlans",O=e.cx[T]=(0,e.b1)(T),N="PBI.VisualEvent.LicenseIsUnsupportedEnv",A=e.cx[N]=(0,e.b1)(N),I="PBI.VisualEvent.LicenseServiceIsUndefined",B=e.cx[I]=(0,e.b1)(I),U="PBI.VisualEvent.ServicePlansResponseIsUndefined",W=e.cx[U]=(0,e.b1)(U),j="PBI.VisualEvent.NotifyLicenseRequired",K=e.cx[j]=(0,e.b1)(j),ee="PBI.VisualEvent.ClearLicenseNotification",ie=e.cx[ee]=(0,e.b1)(ee),he="PBI.VisualEvent.NotifyLicenseFeatureBlocked",q=e.cx[he]=(0,e.b1)(he),Y="PBI.VisualEvent.Privileges",G=e.cx[Y]=(0,e.b1)(Y),me="PBI.VisualEvent.Privileges.Violation",re=e.cx[me]=(0,e.b1)(me),le="PBI.VisualEvent.ExternalMigration.UndefinedGet",Ee=e.cx[le]=(0,e.b1)(le),Ne="PBI.VisualEvent.CapabilitiesTelemetry",Ye=e.cx[Ne]=(0,e.b1)(Ne)},905216:function(Xe,H,t){t.d(H,{P:function(){return S}});var e=t(549976),l=t(498342),o=t(504898),d=t(893612),v=t(179664),S=function(){function h(){}return h.cloneThemeCollection=function(c){return _.clone(c)},h.loadHighContrastTheme=function(c,r,s,u,i){return i&&!s.isThemeLoaded(i)?h.loadTheme(2,c,r,s,u,i):c.resolve()},h.loadThemeAndBaseTheme=function(c,r,s,u,i){try{var a=[],n=i.customTheme,m=i.baseTheme&&i.baseTheme.name;n&&n.name&&!s.isThemeLoaded(n.name)&&a.push(h.loadTheme(i.customTheme.type,c,r,s,u,n.name,n.version,!0)),m&&!s.isThemeLoaded(m)&&a.push(h.loadTheme(i.baseTheme.type,c,r,s,u,m));var f=c.defer();return c.all(a).finally(function(){var V=!0;n&&n.name&&!s.isThemeLoaded(n.name)&&(V=!1,o.f.error("Error loading custom theme",!1)),m&&!s.isThemeLoaded(m)&&(V=!1,o.f.error("Error loading base theme",!1)),f.resolve(V)}),f.promise}catch(V){return o.f.error("Error loading report theme - ".concat(h.getLoadError(V))),c.resolve(!1)}},h.loadTheme=function(c,r,s,u,i,a,n,m){return l.fF.assert(function(){return 1===c||2===c},"resource type should either be registered or shared"),1===c?h.loadRegisteredResourceTheme(r,s,u,i,a,n):2===c?h.loadSharedResourceTheme(a,i,u,s,r,n,m):void 0},h.getLoadError=function(c){return(0,v.PR)(c)},h.loadRegisteredResourceTheme=function(c,r,s,u,i,a){return(0,v._q)(c,r,u,i).then(function(n){h.resolveLoadedTheme(i,n,s,a)}).catch(function(n){o.f.error("Error loading theme - ".concat(h.getLoadError(n)))})},h.loadSharedResourceTheme=function(c,r,s,u,i,a,n){return(0,v.FD)(r,{packageType:2,itemName:c},u,i,{itemTypeFromReference:n?d.Ut.CustomTheme:d.Ut.BaseTheme}).then(function(m){h.resolveLoadedTheme(c,m,s,a)}).catch(function(m){o.f.error("Error loading base theme ".concat(c," - ").concat(h.getLoadError(m)))})},h.resolveLoadedTheme=function(c,r,s,u){if(!s.isThemeLoaded(c)){var i=(0,e.K)(r);l.fF.assertValue(i,"ThemeUtils.resolveLoadedTheme - The loaded theme is invalid."),i&&s.addCustomTheme(c,i,u)}},h}()},866525:function(Xe,H,t){t.d(H,{p:function(){return dt}});var e=t(389731),l=t(498342),o=t(273269),d=t(366735),v=t(879937),S=t(985385),h=t(625521),c=t(498090),r=t(805659),s=t(314928),u=function(){function ue(k,se,Ae){this.powerbiHost=k,this.visualHostTooltipService=Ae,this.tooltipService=new i(se,this.visualHostTooltipService)}return ue.prototype.onSelecting=function(k){k.action=0},ue.prototype.onSelect=function(k){this.powerbiHost&&this.powerbiHost.onSelect(k)},ue.prototype.persistProperties=function(k){this.powerbiHost&&this.powerbiHost.persistProperties(k)},ue.prototype.tooltips=function(){return this.visualHostTooltipService},ue.prototype.applyJsonFilter=function(k,se,Ae,$e){this.powerbiHost.applyJsonFilter(k,se,Ae,$e)},ue.prototype.applyIdentityFilter=function(k,se,Ae,$e){this.powerbiHost.applyIdentityFilter(k,se,Ae,$e)},ue.prototype.getJSONFilter=function(k,se){return this.promiseFactory().reject()},ue.prototype.createSelectionIdBuilder=function(){return new d.dw},ue.prototype.createTooltipService=function(){return this.tooltipService},ue.prototype.createSelectionManager=function(k){return new s.Z({hostServices:this,apiVersion:k},!0)},ue.prototype.getLocalizedString=function(k){return null},ue.prototype.locale=function(){return navigator.language},ue.prototype.loader=function(){var k=this;return{require:function(){return k.promiseFactory().reject()}}},ue.prototype.onSwitchFocusModeState=function(k){this.powerbiHost&&this.powerbiHost.onSwitchFocusModeState(k)},ue.prototype.onDisplayWarningIcon=function(k,se){if(this.powerbiHost){var Et=r.Jh,Nt=new h.VS(r.j,k.substr(0,r.IQ),se.substr(0,Et));this.powerbiHost.setWarnings([Nt])}},ue.prototype.loadMoreData=function(){},ue.prototype.loadWindow=function(k){},ue.prototype.setShouldDeferData=function(){},ue.prototype.fetchMoreData=function(k){return!0},ue.prototype.launchUrl=function(k){},ue.prototype.destroy=function(){},ue.prototype.refreshHostData=function(){},ue.prototype.onContextMenu=function(){},ue.prototype.authenticationService=function(){return null},ue.prototype.telemetry=function(){return null},ue.prototype.localStorageService=function(){return null},ue.prototype.eventService=function(){return null},ue.prototype.licenseManagerService=function(){return null},ue.prototype.acquireAADTokenService=function(){return null},ue.prototype.visualTimeSynchronization=function(){return null},ue.prototype.alertScreenReader=function(k){},ue.prototype.alertWithDebounce=function(k,se){},ue.prototype.requestFocus=function(){},ue.prototype.onDragStart=function(){},ue.prototype.getVisualLinkProperties=function(){},ue.prototype.canSelect=function(){return!1},ue.prototype.canExpandCollapse=function(){return!1},ue.prototype.setNodeExpansionState=function(k){},ue.prototype.setLevelExpansionState=function(k){},ue.prototype.setCanDrill=function(k){},ue.prototype.onCustomSort=function(k){},ue.prototype.getViewMode=function(){return 0},ue.prototype.getEditMode=function(){return 0},ue.prototype.setWarnings=function(k){},ue.prototype.getWarnings$=function(){},ue.prototype.setToolbar=function(k){},ue.prototype.shouldRetainSelection=function(){return!1},ue.prototype.geocoder=function(){return(0,S.Wy)()},ue.prototype.geolocation=function(){l.fF.assertFail("Not being used anywhere")},ue.prototype.promiseFactory=function(){return(0,c.p)()},ue.prototype.ignoreDefaultFilter=function(){return!1},ue.prototype.drill=function(k){},ue.prototype.getIdentityDisplayNames=function(k){},ue.prototype.setIdentityDisplayNames=function(k){},ue.prototype.setFilterExpressionMetadata=function(){},ue.prototype.getFilterExpressionMetadata=function(){},ue.prototype.getUIComponentFactory=function(){},ue.prototype.onHyperlinkClick=function(k,se){},ue.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},ue.prototype.dataMultiSelectMode=function(){return 0},ue.prototype.dropdown=function(){},ue.prototype.networkAvailability=function(){},ue.prototype.downloadService=function(){},ue.prototype.setAriaMetadata=function(k){},ue.prototype.artifactService=function(){},ue.prototype.getSectionsMetadata$=function(){},ue.prototype.getBookmarksMetadata$=function(){},ue.prototype.onNotifyLicense=function(k){},ue.prototype.onClearLicenseNotification=function(){},ue.prototype.onNotifyFeatureBlocked=function(k){},ue.prototype.getSubSelectionService=function(){},ue.prototype.webAccessService=function(){},ue.prototype.getAzureMapToken=function(){},ue.prototype.azureMapsEndpoint=function(){},ue.prototype.geocoderIndexedDB=function(){},ue.prototype.triggerUpdate=function(){},ue.prototype.isScreenshotWorkload=function(){return!1},ue.prototype.localStorageV2Service=function(){return null},ue.prototype.dateTimeFormatService=function(){},ue.prototype.visualExportService=function(){},ue.prototype.visualHostSubSelectionService=function(){return null},ue.prototype.enableLoadMoreData=function(k){},ue}(),i=function(){function ue(k,se){l.fF.assert(function(){return!!se},"visualHostTooltip should be defined"),this.tooltipService=se,this.element=k}return ue.prototype.enabled=function(){return this.tooltipService&&this.tooltipService.enabled()},ue.prototype.show=function(k){if(this.enabled()){var se={coordinates:this.fixCoordinates(k.coordinates),dataItems:k.dataItems,isTouchEvent:k.isTouchEvent,identities:s.Z.getSelectorsByColumn(k.identities)};this.tooltipService.show(se)}},ue.prototype.move=function(k){if(this.enabled()){var se={coordinates:this.fixCoordinates(k.coordinates),dataItems:k.dataItems,isTouchEvent:k.isTouchEvent,identities:s.Z.getSelectorsByColumn(k.identities)};this.tooltipService.move(se)}},ue.prototype.hide=function(k){this.enabled()&&this.tooltipService.hide(k)},ue.prototype.fixCoordinates=function(k){var se=this.element.offset();return k[0]=k[0]+se.left,k[1]=k[1]+se.top,k},ue}(),n=t(973188),f=(t(202074),t(766442)),V=t(42298),p=t(96364),C=t(550766),b=t(146234),D=function(){function ue(k){this.windowMessageProxy=k}return ue.prototype.logStandardizedFeatureEvent=function(k){this.windowMessageProxy.postMessage({eventName:"logStandardizedFeatureEvent",arguments:[k]})},ue.prototype.logTimedStandardizedFeatureEvent=function(k){this.windowMessageProxy.postMessage({eventName:"logTimedStandardizedFeatureEvent",arguments:[k]})},ue.prototype.startTimedStandardizedFeatureEvent=function(k){return new P(this,k)},ue}(),P=function(){function ue(k,se){this.certifiedEventsService=k,this.event=_.cloneDeep(se),this.event.operationStartTime=(0,b.z)()}return ue.prototype.setAttributes=function(k){this.event.activityAttributes=(0,n.__assign)({},k)},ue.prototype.setAttribute=function(k,se){this.event.activityAttributes[k]=se},ue.prototype.getAttributes=function(){return this.event.activityAttributes},ue.prototype.complete=function(k,se){this.event.resultCode=se,this.event.activityStatus=k,this.event.operationEndTime=(0,b.z)(),this.certifiedEventsService.logTimedStandardizedFeatureEvent(this.event)},ue}(),F=t(301938),E=t(275179),g=function(){function ue(k){this.windowMessageProxy=k}return ue.prototype.getOpenActivityById=function(k){},ue.prototype.suspend=function(){},ue.prototype.resume=function(){},ue.prototype.flush=function(){},ue.prototype.restart=function(){},ue.prototype.stopActivity=function(k,se,Ae){},ue.prototype.startPerfEventDeprecated=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e];var Nt={info:{}};return new L(Nt)},ue.prototype.logEvent=function(k,se){return l.fF.assert(function(){return!_.isArray(se)},"Parameters has to be an object and instance of some telemetry factory arguments"),k===F.ZX?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualApiUsage",se]}):k===F.Lj?this.windowMessageProxy.postMessageAsync({eventName:"logEvent",arguments:["VisualException",se]}):l.fF.assertFail("Unknown eventFactory name ["+k+"]: sandboxTelemetryProxyService.ts#logEvent"),null},ue.prototype.logTelemetryData=function(k,se,Ae){return null},ue.prototype.logChildEvent=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e]},ue.prototype.startActivity=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e];var Nt={info:{}};return new L(Nt)},ue.prototype.startChildActivity=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e]},ue.prototype.startEvent=function(k){for(var se=[],Ae=1;Ae<arguments.length;Ae++)se[Ae-1]=arguments[Ae];var Et={info:{}};return new L(Et)},ue.prototype.startMonitoredActivity=function(k,se,Ae){var Et={info:{}};return{activityEvent:Et,activityDeferred:new L(Et)}},ue.prototype.startChildEvent=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e];var Nt={info:{}};return new L(Nt)},ue.prototype.logTrace=function(k){},Object.defineProperty(ue.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),ue.prototype.setHostInfo=function(k,se){},ue.prototype.getHostData=function(){},ue.prototype.setExpAssignmentContext=function(k){},ue}(),L=function(){function ue(k){var se=this;l.fF.assertValue(k,"event"),this.event=k,this.promise=new E.J(function(Ae,$e){se.onResolve=Ae,se.onReject=$e})}return ue.prototype.resolve=function(){this.isEnded=!0,this.onResolve()},ue.prototype.cancel=function(k){return k?this.resolve():this.reject({isCancelled:!0,errorCode:"non-ignorable cancellation of deferred telemety event"})},ue.prototype.reject=function(k){this.isEnded=!0,this.onReject()},ue.prototype.isActive=function(){return!this.isEnded},ue}(),T=function(){function ue(){}return ue.prototype.getOpenActivityById=function(k){},ue.prototype.suspend=function(){},ue.prototype.resume=function(){},ue.prototype.flush=function(){},ue.prototype.restart=function(){},ue.prototype.stopActivity=function(k,se,Ae){},ue.prototype.startPerfEventDeprecated=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e];var Nt={info:{}};return new L(Nt)},ue.prototype.logEvent=function(k){for(var se=[],Ae=1;Ae<arguments.length;Ae++)se[Ae-1]=arguments[Ae];return null},ue.prototype.logTelemetryData=function(k,se,Ae){return null},ue.prototype.logChildEvent=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e]},ue.prototype.startActivity=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e];var Nt={info:{}};return new L(Nt)},ue.prototype.startChildActivity=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e]},ue.prototype.startEvent=function(k){for(var se=[],Ae=1;Ae<arguments.length;Ae++)se[Ae-1]=arguments[Ae];var Et={info:{}};return new L(Et)},ue.prototype.startMonitoredActivity=function(k,se,Ae){var Et={info:{}};return{activityEvent:Et,activityDeferred:new L(Et)}},ue.prototype.startChildEvent=function(k,se){for(var Ae=[],$e=2;$e<arguments.length;$e++)Ae[$e-2]=arguments[$e];var Nt={info:{}};return new L(Nt)},ue.prototype.logTrace=function(k){},Object.defineProperty(ue.prototype,"sessionId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"appInstanceId",{get:function(){},enumerable:!1,configurable:!0}),Object.defineProperty(ue.prototype,"root",{get:function(){},enumerable:!1,configurable:!0}),ue.prototype.setHostInfo=function(k,se){},ue.prototype.getHostData=function(){},ue.prototype.setExpAssignmentContext=function(k){},ue}(),O=t(413892),N=t(916248),A=t(325319),I=t(123012),B=t(599306),U=t(176652),W=t(7431),j=t(563746),K=t(893612),ee=t(815046),ie=t(344029),he=t(127112),q=t(237094);function Y(){var ue=(0,c.p)(),se={messageProxy:(0,he.zC)(ue,window.parent),promiseFactory:ue,resourceProvider:{get:function($e){return $e},getOptional:function($e){return $e},format:function($e){return $e}}};return new G(se)}var G=function(){function ue(k){var se=this;l.fF.assertValue(k.messageProxy,"messageProxy"),l.fF.assertValue(k.promiseFactory,"promiseFactory"),this.messageProxy=k.messageProxy,this.promiseFactory=k.promiseFactory,this.resourceProvider=k.resourceProvider,this.messageProxy.on(he.et,function(Ae){return se.onMessageReceived(Ae)}),this.hostOrigin=new URL(window.location.href).origin}return ue.prototype.onMessageReceived=function(k){if(k.source===parent&&k.origin===this.hostOrigin&&"loadVisualPluginWithContent"===k.message.eventName)return this.loadVisualPluginWithContent.apply(this,k.message.arguments)},ue.prototype.loadVisualPluginWithContent=function(k){var se=this.promiseFactory.defer(),Ae=k.pluginName,$e=k.mappedPluginContent,Et=$e[K.Ut.CustomVisualJavascript].content,Nt=$e[K.Ut.CustomVisualsCss].content;try{(0,ee.yO)(Ae,Et),(0,ee.QO)(Ae,Nt);var Bt=j.N[Ae];Bt.iconUrl=(0,ie.sG)(Ae),Bt.content={js:Et,css:Nt,iconBase64:Bt.iconUrl},(0,q.L)(Bt),Bt.capabilities.objects=(0,W.qC)(Bt.capabilities.objects,this.resourceProvider),se.resolve(Bt)}catch(Qt){se.reject(Qt)}return se.promise},ue}();function me(){if(!re){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var ue=Y;window.powerbi.visualSandbox.createResourceLoaderHost=function(){return ue()},re=!0}}var re=!1;me();var le=t(781322),Ee=t(522577),Ne=t(860931),Ye=t(204553),Je=t(414745),_e=t(915925),pe=t(572909),fe=t(686311),oe=t(726501),ye=t(446731),Ce=t(512322),Be=t(466120),be=t(236211),Te=t(155167),ce=t(373973),ve=t(817389),Re=t(89322);function Ke(){return window.powerbi||(window.powerbi={}),window.powerbi}var Le=t(155088),Q=t(812454),Ue=t(100112),ae=function(ue){return ue[ue.merge=0]="merge",ue[ue.remove=1]="remove",ue}({});var vt=new Set(["powerbi.bab","powerbi.common.cultureInfo","powerbi.common.formattingLocale","powerbi.data.DataViewScopeIdentity","powerbi.ExtendedType","powerbi.extensibility.data","powerbi.extensibility.utils.axisType","powerbi.extensibility.utils.CartesianHelper","powerbi.extensibility.utils.chart.dataLabel","powerbi.extensibility.utils.chart.legend","powerbi.extensibility.utils.chart","powerbi.extensibility.utils.color","powerbi.extensibility.utils.ColumnUtil","powerbi.extensibility.utils.dataview.converterHelper","powerbi.extensibility.utils.dataview.DataRoleHelper","powerbi.extensibility.utils.dataview.DataViewObject","powerbi.extensibility.utils.dataview.DataViewObjects","powerbi.extensibility.utils.dataview.validationHelper","powerbi.extensibility.utils.dataview","powerbi.extensibility.utils.filter","powerbi.extensibility.utils.formatting.DateTimeUnit","powerbi.extensibility.utils.formatting.dateUtils","powerbi.extensibility.utils.formatting.DisplayUnitSystemType","powerbi.extensibility.utils.formatting.font","powerbi.extensibility.utils.formatting.numberFormat","powerbi.extensibility.utils.formatting.stringExtensions","powerbi.extensibility.utils.formatting.textMeasurementService","powerbi.extensibility.utils.formatting.TextProperties","powerbi.extensibility.utils.formatting.textUtil","powerbi.extensibility.utils.formatting.valueFormatter","powerbi.extensibility.utils.formatting.wordBreaker","powerbi.extensibility.utils.formatting","powerbi.extensibility.utils.interactivity.interactivityUtils","powerbi.extensibility.utils.interactivity","powerbi.extensibility.utils.MessageBox","powerbi.extensibility.utils.objects","powerbi.extensibility.utils.parser","powerbi.extensibility.utils.selection","powerbi.extensibility.utils.svg.CssConstants","powerbi.extensibility.utils.svg.shapes","powerbi.extensibility.utils.svg.touch","powerbi.extensibility.utils.svg","powerbi.extensibility.utils.telemetry","powerbi.extensibility.utils.test.dataViewBuilder","powerbi.extensibility.utils.test.helpers","powerbi.extensibility.utils.test.mocks","powerbi.extensibility.utils.test","powerbi.extensibility.utils.tooltip","powerbi.extensibility.utils.type.ArrayExtensions","powerbi.extensibility.utils.type.EnumExtensions","powerbi.extensibility.utils.type.ExtendedType","powerbi.extensibility.utils.type.JsonComparer","powerbi.extensibility.utils.type.LogicExtensions","powerbi.extensibility.utils.type.PixelConverter","powerbi.extensibility.utils.type.PrimitiveType","powerbi.extensibility.utils.type.Prototype","powerbi.extensibility.utils.type.RegExpExtensions","powerbi.extensibility.utils.type.StringExtensions","powerbi.extensibility.utils.type.TextSizeDefaults","powerbi.extensibility.utils.type.ValueUtil","powerbi.extensibility.utils.type","powerbi.extensibility.utils.yAxisPosition","powerbi.extensibility.utils","powerbi.extensibility.visual.Color","powerbi.extensibility.visual.FormatUtils","powerbi.extensibility.visual.LinkColorType","powerbi.extensibility.visual.LinkType","powerbi.extensibility.visual.Month","powerbi.extensibility.visual.PositionType","powerbi.extensibility.visual","powerbi.extensibility.visualApiVersions","powerbi.extensibility.VisualPlugin","powerbi.extensibility","powerbi.FilterAction","powerbi.formattingService._currentCulture","powerbi.formattingService._currentCultureSelector","powerbi.PrivilegeStatus","powerbi.reportServerHost","powerbi.SelectionIdBuilder","powerbi.session.userInfo","powerbi.session","powerbi.SortDirection","powerbi.VisualEventType","powerbi.VisualObjectInstance","powerbi.VisualObjectInstanceEnumerationObject","powerbi.visuals.DataEntrySlicers.Slicers.Page","powerbi.visuals.DataEntrySlicers.Slicers.URL","powerbi.visuals.DataEntrySlicers.Slicers","powerbi.visuals.DataEntrySlicers","powerbi.visuals.dataLabelUtils","powerbi.visuals.DateUtil","powerbi.visuals.DonutChart","powerbi.visuals.DonutChartWebBehavior","powerbi.visuals.filter","powerbi.visuals.plugins.debugVisual","powerbi.visuals.plugins","powerbi.visuals.SelectionIdBuilder","powerbi.visuals.valueFormatter","powerbi.VisualUpdateType.36"]);function de(ue,k){var se={get:function($e,Et){var Nt=$e[Et],Bt="".concat(ue,".").concat(Et.toString());return void 0===Nt?vt.has(Bt)||(function(ue){var se=JSON.stringify({eventName:"onGlobalUndefinedGet",arguments:[ue]});window.parent.postMessage(se,"*")}(Bt),vt.add(Bt)):Nt&&"object"==typeof Nt&&k>0&&(Nt=new Proxy(Nt,de(Bt,k-1))),Nt},set:function($e,Et,Nt){return $e[Et]=Nt,!0}};return se}function Ve(){var ue;window.powerbi=(ue=(0,Ne.wg)(),new Proxy(ue,de("powerbi",3)))}var Z=t(484959),J=t(722126),Fe=t(593773),ze=t(843081),rt=t(80131),Oe=t(774355),Pe=t(32754),we=function(){function ue(k,se,Ae){this.messageProxy=k,this.promiseFactory=se,this.sandboxPromiseHandler=Ae}return ue.prototype.acquireAADToken=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"acquireAADToken",arguments:[k.id]}),k.deferred.promise},ue.prototype.getAcquireAADTokenStatus=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAcquireAADTokenStatus",arguments:[k.id]}),k.deferred.promise},ue}(),et=function(){function ue(k,se,Ae){l.fF.assertValue(k,"messageProxy"),l.fF.assertValue(se,"promiseFactory"),this.messageProxy=k,this.promiseFactory=se,this.sandboxPromiseHandler=Ae}return ue.prototype.getResourceUrl=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getResourceUrl",arguments:[k.id]}),k.deferred.promise},ue.prototype.getAADAuthenticationToken=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADAuthenticationToken",arguments:[k.id]}),k.deferred.promise},ue.prototype.getAADToken=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAADToken",arguments:[k.id]}),k.deferred.promise},ue.prototype.getWACToken=function(k,se){var Ae=this.sandboxPromiseHandler.CreatePromise2(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWACToken",arguments:[{resourceEtag:se,resourceSiteUrl:k,promiseId:Ae.id}]}),Ae.deferred.promise},ue.prototype.getSignedInAccessToken=function(){return this.promiseFactory.reject()},ue.prototype.getClusterInfo=function(){return this.promiseFactory.reject()},ue}(),St=function(){function ue(k,se,Ae){l.fF.assertValue(k,"messageProxy"),l.fF.assertValue(se,"promiseFactory"),this.messageProxy=k,this.promiseFactory=se,this.sandboxPromiseHandler=Ae}return ue.prototype.downloadFile=function(k,se,Ae,$e){throw new Error("Not implemented")},ue.prototype.getExportStatus=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"exportVisualsContentStatus",arguments:[k.id]}),k.deferred.promise},ue.prototype.exportVisualsContent=function(k,se,Ae,$e){var Et=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return k&&se&&Ae&&$e?this.messageProxy.postMessage({eventName:"exportVisualsContent",arguments:[k,se,Ae,$e,Et.id]}):Et.deferred.reject(),Et.deferred.promise},ue}(),qe=function(){function ue(k,se){this.messageProxy=k,this.instanceId=se,l.fF.assertValue(k,"messageProxy")}return ue.prototype.renderingStarted=function(k){this.messageProxy.postMessage({eventName:"renderingStarted",arguments:[this.instanceId,k.updateId]})},ue.prototype.renderingFinished=function(k){this.messageProxy.postMessage({eventName:"renderingFinished",arguments:[this.instanceId,k.updateId]})},ue.prototype.renderingFailed=function(k,se){this.messageProxy.postMessage({eventName:"renderingFailed",arguments:[this.instanceId,k.updateId,se]})},ue}(),It=function(){function ue(k,se,Ae){this.messageProxy=k,this.promiseFactory=se,this.sandboxPromiseHandler=Ae,l.fF.assertValue(k,"messageProxy"),l.fF.assertValue(se,"promiseFactory")}return ue.prototype.getAvailableServicePlans=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getAvailableServicePlans",arguments:[k.id]}),k.deferred.promise},ue.prototype.notifyLicenseRequired=function(k){var se=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyLicenseRequired",arguments:[k,se.id]}),se.deferred.promise},ue.prototype.notifyFeatureBlocked=function(k){var se=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"notifyFeatureBlocked",arguments:[k,se.id]}),se.deferred.promise},ue.prototype.clearLicenseNotification=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"clearLicenseNotification",arguments:[k.id]}),k.deferred.promise},ue}(),zt=function(){function ue(k,se,Ae){l.fF.assertValue(k,"messageProxy"),l.fF.assertValue(se,"promiseFactory"),this.messageProxy=k,this.promiseFactory=se,this.sandboxPromiseHandler=Ae}return ue.prototype.getStorageStatus=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageStatus",arguments:[k.id]}),k.deferred.promise},ue.prototype.getStorageData=function(k){var se=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageData",arguments:[k,se.id]}),se.deferred.promise},ue.prototype.setStorageData=function(k,se){var Ae=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageData",arguments:[k,se,Ae.id]}),Ae.deferred.promise},ue.prototype.removeStorageData=function(k){this.messageProxy.postMessage({eventName:"removeStorageData",arguments:[k]})},ue}(),Yt=function(){function ue(k,se,Ae){l.fF.assertValue(k,"messageProxy"),l.fF.assertValue(se,"promiseFactory"),this.messageProxy=k,this.promiseFactory=se,this.sandboxPromiseHandler=Ae}return ue.prototype.getStorageStatus=function(){var k=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Status",arguments:[k.id]}),k.deferred.promise},ue.prototype.getStorageData=function(k){var se=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getStorageV2Data",arguments:[k,se.id]}),se.deferred.promise},ue.prototype.setStorageData=function(k,se){var Ae=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"setStorageV2Data",arguments:[k,se,Ae.id]}),Ae.deferred.promise},ue.prototype.removeStorageData=function(k){this.messageProxy.postMessage({eventName:"removeStorageV2Data",arguments:[k]})},ue}(),ir=t(95898),dr=function(){function ue(k,se){this.messageProxy=k,l.fF.assertValue(k,"messageProxy"),this.instanceId=se}return ue.prototype.trace=function(k,se){this.messageProxy.postMessageAsync({eventName:"logVisualEvent",arguments:[(0,ir.s$)(k),{instanceId:this.instanceId,payload:se}]})},ue.prototype.logStandardizedFeatureEvent=function(){},ue}(),Cr=function(){function ue(k){l.fF.assertValue(k,"messageProxy"),this.messageProxy=k,this.rootElement=window.document.body}return ue.prototype.serializeIdentities=function(k){return k&&k[0]instanceof O.r?k:k&&_(k).map(function(Ae){return(0,Fe.U9)(Ae)}).compact().value()},ue.prototype.show=function(k){var se=k&&{coordinates:k.coordinates,dataItems:k.dataItems,identities:this.serializeIdentities(k.identities),isTouchEvent:k.isTouchEvent};this.messageProxy.postMessage({eventName:"showTooltip",arguments:[se]})},ue.prototype.move=function(k){var se=k&&{coordinates:k.coordinates,dataItems:k.dataItems,identities:this.serializeIdentities(k.identities),isTouchEvent:k.isTouchEvent};this.messageProxy.postMessage({eventName:"moveTooltip",arguments:[se]})},ue.prototype.hide=function(k){this.messageProxy.postMessage({eventName:"hideTooltip",arguments:[k]})},ue.prototype.visible=function(){return!1},ue.prototype.isTouchOptimized=function(){return!1},ue.prototype.container=function(){return this.rootElement},ue.prototype.enabled=function(){return!0},ue}(),Ut=function(){function ue(k,se,Ae){l.fF.assertValue(k,"messageProxy"),l.fF.assertValue(se,"promiseFactory"),this.messageProxy=k,this.promiseFactory=se,this.sandboxPromiseHandler=Ae}return ue.prototype.getWebAccessStatus=function(k){var se=this.sandboxPromiseHandler.CreatePromise(this.promiseFactory.defer());return this.messageProxy.postMessage({eventName:"getWebAccessStatus",arguments:[k,se.id]}),se.deferred.promise},ue}(),Pr=function(){function ue(k){l.fF.assertValue(k,"messageProxy"),this.messageProxy=k}return ue.prototype.subSelect=function(k){k&&this.messageProxy.postMessage({eventName:"subSelect",arguments:[k]})},ue}(),mr={"0.00 %;-0.00 %;0.00 %":"Percentage","0.0 %;-0.0 %;0.0 %":"Percentage1"},gr={NullValue:"(Blank)",BooleanTrue:"True",BooleanFalse:"False",NaNValue:"NaN",InfinityValue:"+Infinity",NegativeInfinityValue:"-Infinity",Restatement_Comma:"{0}, {1}",Restatement_CompoundAnd:"{0} and {1}",DisplayUnitSystem_EAuto_Title:"Auto",DisplayUnitSystem_E0_Title:"None",DisplayUnitSystem_E3_LabelFormat:"{0}K",DisplayUnitSystem_E3_Title:"Thousands",DisplayUnitSystem_E6_LabelFormat:"{0}M",DisplayUnitSystem_E6_Title:"Millions",DisplayUnitSystem_E9_LabelFormat:"{0}bn",DisplayUnitSystem_E9_Title:"Billions",DisplayUnitSystem_E12_LabelFormat:"{0}T",DisplayUnitSystem_E12_Title:"Trillions",Percentage:"#,0.##%",Percentage1:"#,0.#%",TableTotalLabel:"Total",Tooltip_HighlightedValueDisplayName:"Highlighted",Decrease:"Decrease",Increase:"Increase",Waterfall_TotalLabel:"Total",GeotaggingString_Continent:"continent",GeotaggingString_Continents:"continents",GeotaggingString_Country:"country",GeotaggingString_Countries:"countries",GeotaggingString_State:"state",GeotaggingString_States:"states",GeotaggingString_City:"city",GeotaggingString_Cities:"cities",GeotaggingString_Town:"town",GeotaggingString_Towns:"towns",GeotaggingString_Province:"province",GeotaggingString_Provinces:"provinces",GeotaggingString_County:"county",GeotaggingString_Counties:"counties",GeotaggingString_Village:"village",GeotaggingString_Villages:"villages",GeotaggingString_Post:"post",GeotaggingString_Zip:"zip",GeotaggingString_Code:"code",GeotaggingString_Place:"place",GeotaggingString_Places:"places",GeotaggingString_Address:"address",GeotaggingString_Addresses:"addresses",GeotaggingString_Street:"street",GeotaggingString_Streets:"streets",GeotaggingString_Longitude:"longitude",GeotaggingString_Longitude_Short:"lon",GeotaggingString_Longitude_Short2:"long",GeotaggingString_Latitude:"latitude",GeotaggingString_Latitude_Short:"lat",GeotaggingString_PostalCode:"postal code",GeotaggingString_PostalCodes:"postal codes",GeotaggingString_ZipCode:"zip code",GeotaggingString_ZipCodes:"zip codes",GeotaggingString_Territory:"territory",GeotaggingString_Territories:"territories"},xr=function(){function ue(k,se){this.messageProxy=k,this.sandboxPromiseHandler=se,this.loadMoreDataEnabled=!0,l.fF.assertValue(k,"messageProxy"),this.visualHostTooltipService=function(ue){return new Cr(ue)}(k),this.queryDictionary=ue.parseUrlParameters(),this.authService=function(ue,k,se){return new et(ue,k,se)}(k,this.promiseFactory(),se),this.storageService=function(ue,k,se){return new zt(ue,k,se)}(k,this.promiseFactory(),se),this.hostWebAccessService=function(ue,k,se){return new Ut(ue,k,se)}(k,this.promiseFactory(),se),this.contentDownloadService=function(ue,k,se){return new St(ue,k,se)}(k,this.promiseFactory(),se),this.licensesManagerService=function(ue,k,se){return new It(ue,k,se)}(k,this.promiseFactory(),se),this.acquireTokenService=function(ue,k,se){return new we(ue,k,se)}(k,this.promiseFactory(),se),this.storageV2Service=function(ue,k,se){return new Yt(ue,k,se)}(k,this.promiseFactory(),se),this.hostSubSelectionService=function(ue){return new Pr(ue)}(k),this.dialogPromiseFactory=this.promiseFactory()}return ue.prototype.initInstanceId=function(k){this._instanceId=k,this.telemetryService=function(ue,k){return new dr(ue,k)}(this.messageProxy,k),this.eventsService=function(ue,k){return new qe(ue,k)}(this.messageProxy,k)},ue.initialize=function(){ze.I6&&(ze.I6.localizationOptions=ue.createTooltipLocaleOptions())},ue.createLocaleOptions=function(){return{null:gr.NullValue,true:gr.BooleanTrue,false:gr.BooleanFalse,NaN:gr.NaNValue,infinity:gr.InfinityValue,negativeInfinity:gr.NegativeInfinityValue,beautify:function(se){return ue.beautify(se)},describe:function(se){return ue.describeUnit(se)},restatementComma:gr.Restatement_Comma,restatementCompoundAnd:gr.Restatement_CompoundAnd,restatementCompoundOr:gr.Restatement_CompoundOr}},ue.createTooltipLocaleOptions=function(){return{highlightedValueDisplayName:gr.Tooltip_HighlightedValueDisplayName}},ue.prototype.getLocalizedString=function(k){return gr[k]},ue.prototype.onSelecting=function(k){k.action=0},ue.prototype.onSelect=function(k){var se;if((0,Pe.FE)(k)){var Ae=k;se={data:(0,Fe.OR)(Ae.data),data2:(0,Fe.U9)(Ae.data2),selectors:(0,Fe.OR)(Ae.selectors)}}else se={type:k.type,visualObjects:(0,Fe.kW)(k.visualObjects)};this.messageProxy.postMessage({eventName:"onSelect",arguments:[se]})},ue.prototype.customVisualOnContextMenu=function(k){this.messageProxy.postMessage({eventName:"onCustomVisualContextMenu",arguments:[k]})},ue.prototype.customVisualOnExpandCollapse=function(k){this.messageProxy.postMessage({eventName:"onCustomVisualExpandCollapse",arguments:[k]})},ue.prototype.switchFocusModeState=function(k){this.messageProxy.postMessage({eventName:"onSwitchFocusModeState",arguments:[k]})},ue.prototype.displayWarningIcon=function(k,se){null!=k&&null!=se&&this.messageProxy.postMessage({eventName:"onDisplayWarningIcon",arguments:[k,se]})},ue.prototype.persistProperties=function(k){var se,Ae=k;se=this.apiVersion&&((0,e.gt)(this.apiVersion,"2.0.0")||(0,e.eq)(this.apiVersion,"2.0.0"))?k:Ae.merge||Ae.remove||Ae.replace?{merge:Ae.merge?(0,rt.qC)(Ae.merge):null,replace:Ae.replace?(0,rt.qC)(Ae.replace):null,remove:Ae.remove?(0,rt.qC)(Ae.remove):null}:(0,rt.qC)(k),this.messageProxy.postMessage({eventName:"persistProperties",arguments:[se]})},ue.prototype.sendSelectionIdsToHost=function(k){this.messageProxy.postMessage({eventName:"transformCvSelectionIdsAndSelect",arguments:[k]})},ue.prototype.loadMoreData=function(){this.fetchMoreData(!0)},ue.prototype.loadWindow=function(k){},ue.prototype.fetchMoreData=function(k){return!!this.loadMoreDataEnabled&&(!1!==k&&(k=!0),this.messageProxy.postMessage({eventName:"loadMoreData",arguments:[k]}),!0)},ue.prototype.launchUrl=function(k){this.messageProxy.postMessage({eventName:"launchUrl",arguments:[k]})},ue.prototype.setCanDrill=function(k){this.messageProxy.postMessage({eventName:"setCanDrill",arguments:[k]})},ue.prototype.drill=function(k){this.messageProxy.postMessage({eventName:"drill",arguments:[k]})},ue.prototype.openModalDialog=function(k,se,Ae){var $e=this.sandboxPromiseHandler.CreatePromise(this.dialogPromiseFactory.defer());return this.messageProxy.postMessage({eventName:"openModalDialog",arguments:[k,se,Ae,$e.id]}),$e.deferred.promise},ue.prototype.tooltips=function(){return this.visualHostTooltipService},ue.prototype.telemetry=function(){return this.telemetryService},ue.prototype.authenticationService=function(){return this.authService},ue.prototype.localStorageService=function(){return this.storageService},ue.prototype.localStorageV2Service=function(){return this.storageV2Service},ue.prototype.eventService=function(){return this.eventsService},ue.prototype.licenseManagerService=function(){return this.licensesManagerService},ue.prototype.acquireAADTokenService=function(){return this.acquireTokenService},ue.prototype.visualTimeSynchronization=function(){return this.visualTimeSynchronizationService},ue.prototype.networkAvailability=function(){return this.networkAvailabilityService},ue.prototype.webAccessService=function(){return this.hostWebAccessService},ue.prototype.visualHostSubSelectionService=function(){return this.hostSubSelectionService},ue.prototype.getSectionsMetadata$=function(){},ue.prototype.getBookmarksMetadata$=function(){},ue.prototype.downloadService=function(){return this.contentDownloadService},ue.prototype.artifactService=function(){},ue.prototype.getQueryStringValue=function(k){return this.queryDictionary&&this.queryDictionary[k]},ue.prototype.locale=function(){var k=this.queryDictionary&&this.queryDictionary.locale;return l.fF.assert(function(){return!!k},"custom visual locale parameter is not valid"),k||navigator.language},ue.prototype.loader=function(){var k=this;return{require:function(){return k.promiseFactory().reject()}}},ue.prototype.applyJsonFilter=function(k,se,Ae,$e){var Et=[k,se,Ae];return $e&&Et.push($e),this.messageProxy.postMessage({eventName:"applyJsonFilter",arguments:Et}),!0},ue.prototype.applyIdentityFilter=function(k,se,Ae,$e){var Et=[k,se,Ae];return $e&&Et.push($e),this.messageProxy.postMessage({eventName:"applyIdentityFilter",arguments:Et}),!0},ue.prototype.getJSONFilter=function(k,se){return this.promiseFactory().reject()},ue.parseUrlParameters=function(k){void 0===k&&(k=window.location.search);var se={},Ae=k;if(Ae&&"?"===Ae.substr(0,1))for(var Et=0,Nt=Ae.substr(1).split("&");Et<Nt.length;Et++){var Bt=Nt[Et],Qt=Bt&&Bt.split("=");Qt&&2===Qt.length&&(se[decodeURIComponent(Qt[0])]=decodeURIComponent(Qt[1]))}return se},ue.prototype.destroy=function(){this.messageProxy.destroy(),this.messageProxy=null},ue.prototype.refreshHostData=function(){this.messageProxy.postMessage({eventName:"refreshHostData",arguments:null})},ue.prototype.createSelectionIdBuilder=function(){return new O.r},ue.prototype.createTooltipService=function(){return(0,Oe.r)({hostServices:this})},ue.prototype.createSelectionManager=function(k){return new s.Z({hostServices:this,apiVersion:k})},ue.prototype.applyCustomSort=function(k){this.messageProxy.postMessage({eventName:"applyCustomSort",arguments:[k]})},ue.prototype.alertScreenReader=function(k){},ue.prototype.alertWithDebounce=function(k,se){},ue.prototype.requestFocus=function(){},ue.prototype.setShouldDeferData=function(){},ue.prototype.onDragStart=function(){},ue.prototype.onContextMenu=function(){},ue.prototype.onSwitchFocusModeState=function(){},ue.prototype.onDisplayWarningIcon=function(){},ue.prototype.onClearCustomizedWarningIcon=function(){},ue.prototype.getVisualLinkProperties=function(){},ue.prototype.canSelect=function(){return!1},ue.prototype.canExpandCollapse=function(k){return!1},ue.prototype.setNodeExpansionState=function(k){},ue.prototype.setLevelExpansionState=function(k){},ue.prototype.onCustomSort=function(k){},ue.prototype.getViewMode=function(){return 0},ue.prototype.getEditMode=function(){return 0},ue.prototype.setWarnings=function(k){},ue.prototype.getWarnings$=function(){},ue.prototype.setToolbar=function(k){},ue.prototype.shouldRetainSelection=function(){return!1},ue.prototype.geocoder=function(){return(0,S.Wy)()},ue.prototype.geolocation=function(){l.fF.assertFail("Not being used anywhere")},ue.prototype.promiseFactory=function(){return(0,c.p)()},ue.prototype.ignoreDefaultFilter=function(){return!1},ue.prototype.getIdentityDisplayNames=function(k){},ue.prototype.setIdentityDisplayNames=function(k){},ue.prototype.setFilterExpressionMetadata=function(){},ue.prototype.getFilterExpressionMetadata=function(){},ue.prototype.getUIComponentFactory=function(){},ue.prototype.onHyperlinkClick=function(k,se){},ue.prototype.isVisualEnabled=function(){return this.promiseFactory().resolve(!0)},ue.prototype.dataMultiSelectMode=function(){return 0},ue.prototype.dropdown=function(){},ue.prototype.setAriaMetadata=function(k){},ue.prototype.onNotifyLicense=function(k){},ue.prototype.onClearLicenseNotification=function(){},ue.prototype.onNotifyFeatureBlocked=function(k){},ue.prototype.getSubSelectionService=function(){},ue.prototype.getAzureMapToken=function(){},ue.prototype.azureMapsEndpoint=function(){},ue.prototype.geocoderIndexedDB=function(){},ue.prototype.triggerUpdate=function(){},ue.prototype.isScreenshotWorkload=function(){return!1},ue.prototype.dateTimeFormatService=function(){},ue.prototype.visualExportService=function(){},Object.defineProperty(ue.prototype,"instanceId",{get:function(){return this._instanceId},enumerable:!1,configurable:!0}),ue.beautify=function(k){var se=mr[k];return se&&gr[se]||k},ue.describeUnit=function(k){var se=-1===k?"Auto":k.toString(),Ae=gr["DisplayUnitSystem_E"+se+"_Title"],$e=k<=0?"{0}":gr["DisplayUnitSystem_E"+se+"_LabelFormat"];if(Ae||$e)return{title:Ae,format:$e}},ue.prototype.enableLoadMoreData=function(k){this.loadMoreDataEnabled=k},ue}(),Qr=t(553474),Gr=t(279667),Jr=function(ue){return ue.Click="click",ue.MouseUp="mouseup",ue.MSPointerUp="MSPointerUp",ue.PointerUp="pointerup",ue}({}),Hr=function(ue){return ue.Tap="tap",ue.TouchCancel="touchcancel",ue.Touchend="touchend",ue}({}),Yr=function(ue){return ue.KeyDown="keydown",ue}({}),Zr=function(ue){return ue.KeyDown="keydown",ue}({}),Or=Object.values(Jr),Ur=Object.values(Hr),zr=Object.values(Yr),ai=Or.concat(Ur),lt=Object.values(Zr),ct=["type","bubbles","which","buttons","button","ctrlKey","altKey","metaKey","shiftKey","x","y","clientX","clientY","pageX","pageY","movementX","movementY","layerX","layerY","changedTouches","keyCode","code","key","cancelable","composed"],Tt=["Escape"],ot=["Escape"],ht=function(){function ue(k){this.id=++ue.counter,this.deferred=k}return ue.getLastId=function(){return ue.counter},ue.counter=0,ue}(),yt=function(){function ue(k){this.id=++ue.counter,this.deferred=k}return ue.getLastId=function(){return ue.counter},ue.counter=0,ue}(),Ft=function(){function ue(){this.promises={},this.promises2={}}return ue.prototype.CreatePromise=function(k){var se=new ht(k);return this.promises[se.id]=se,se},ue.prototype.ResolvePromise=function(k,se){var Ae=this.promises[k];Ae&&(Ae.deferred.resolve(se),this.promises[k]=null)},ue.prototype.RejectPromise=function(k,se){var Ae=this.promises[k];Ae&&(Ae.deferred.reject(se),this.promises[k]=null)},ue.prototype.CreatePromise2=function(k){var se=new yt(k);return this.promises2[se.id]=se,se},ue.prototype.ResolvePromise2=function(k,se){var Ae=this.promises2[k];Ae&&(Ae.deferred.resolve(se),this.promises2[k]=null)},ue.prototype.RejectPromise2=function(k,se){var Ae=this.promises2[k];Ae&&(Ae.deferred.reject(se),this.promises2[k]=null)},ue}();function kt(){return window.powerbi.visuals.plugins}function Gt(ue){var se=JSON.stringify({eventName:"onSecurityPolicyViolation",arguments:[ue.blockedURI,ue.violatedDirective,ue.originalPolicy]});window.parent.postMessage(se,"*")}function ar(ue,k){void 0===k&&(k=!1);var se=(0,c.p)(),Ae=(0,he.zC)(se);xr.initialize(),Ee.s.getQueryStringValue("pbiglobals")&&function(){var ue=(0,Ne.wg)();ue.FilterAction=ae,ue.VisualDataRoleKind=o.DW,ue.VisualDataChangeOperationKind=o.su,ue.VisualUpdateType=o.EP,ue.VisualPermissions=o.NI,ue.formattingService=Ue.dx;var k=function(){var ue=Ke();return ue.data||(ue.data={}),ue.data}();Ce.nw&&(k.SQExprBuilder={},k.SQExprBuilder.entity=Ce.nw,k.SQExprBuilder.subqueryRef=Ce.v5,k.SQExprBuilder.namedQueryRef=Ce.kD,k.SQExprBuilder.columnRef=Ce.Oh,k.SQExprBuilder.measureRef=Ce.mv,k.SQExprBuilder.nativeMeasure=Ce.PB,k.SQExprBuilder.nativeColumn=Ce.sl,k.SQExprBuilder.aggregate=Ce.m_,k.SQExprBuilder.selectRef=Ce.xA,k.SQExprBuilder.percentile=Ce.Pe,k.SQExprBuilder.rangePercent=Ce.Mj,k.SQExprBuilder.arithmetic=Ce.Y8,k.SQExprBuilder.floor=Ce.GW,k.SQExprBuilder.scopedEval=Ce.ed,k.SQExprBuilder.filteredEval=Ce.Xw,k.SQExprBuilder.withRef=Ce.Oe,k.SQExprBuilder.groupRef=Ce.Wp,k.SQExprBuilder.hierarchy=Ce.bT,k.SQExprBuilder.propertyVariationSource=Ce.yU,k.SQExprBuilder.hierarchyLevel=Ce.os,k.SQExprBuilder.transformTableRef=Ce.GB,k.SQExprBuilder.transformOutputRoleRef=Ce.hu,k.SQExprBuilder.roleRef=Ce.Wu,k.SQExprBuilder.summaryValueRef=Ce.bO,k.SQExprBuilder.allRolesRef=Ce.lI,k.SQExprBuilder.and=Ce.xD,k.SQExprBuilder.between=Ce.vX,k.SQExprBuilder.inValues=Ce.Sh,k.SQExprBuilder.inTable=Ce.dY,k.SQExprBuilder.or=Ce.or,k.SQExprBuilder.compare=Ce.qu,k.SQExprBuilder.conditional=Ce.u7,k.SQExprBuilder.contains=Ce.r3,k.SQExprBuilder.exists=Ce.Gg,k.SQExprBuilder.equal=Ce.Dg,k.SQExprBuilder.not=Ce.ff,k.SQExprBuilder.startsWith=Ce.Ny,k.SQExprBuilder.nullConstant=Ce.IF,k.SQExprBuilder.emptyString=Ce.$t,k.SQExprBuilder.now=Ce.zO,k.SQExprBuilder.defaultValue=Ce.LS,k.SQExprBuilder.anyValue=Ce.n7,k.SQExprBuilder.boolean=Ce.O7,k.SQExprBuilder.dateAdd=Ce.sO,k.SQExprBuilder.dateTime=Ce.CQ,k.SQExprBuilder.dateSpan=Ce.uQ,k.SQExprBuilder.decimal=Ce.gH,k.SQExprBuilder.double=Ce.tx,k.SQExprBuilder.integer=Ce.cA,k.SQExprBuilder.text=Ce.fL,k.SQExprBuilder.typedConstant=Ce.kQ,k.SQExprBuilder.fromRawValue=Ce.f7,k.SQExprBuilder.sparklineData=Ce.Zy,k.SQExprBuilder.setAggregate=be.k,k.SQExprBuilder.removeAggregate=ve.n,k.SQExprBuilder.setPercentOfGrandTotal=Be.F,k.SQExprBuilder.removePercentOfGrandTotal=ce.H,k.SQExprBuilder.setPercentOfRoleTotal=Re.z,k.SQExprBuilder.removePercentOfRoleTotal=Te.E,k.SQExprBuilder.removeEntityVariables=Ce.p7,k.SQExprBuilder.setVisualCalcExpression=Ce.eu,k.SQExprBuilder.fillRule=Ce.x5,k.SQExprBuilder.themeDataColor=Ce.e7,k.SQExprBuilder.resourcePackageItem=Ce.nF,k.SQExprBuilder.discretize=Ce.h5,k.SQExprBuilder.member=Ce.fP,k.SQExprBuilder.color=Ce.$_,k.SQExprBuilder.nativeVisualCalc=Ce.YU,k.SQExprBuilder.fieldExpr=ye.B,k.SQExprBuilder.fromColumnAggr=oe.dR,k.SQExprBuilder.fromColumn=oe.tg,k.SQExprBuilder.fromGroupingColumnAggr=oe.ym,k.SQExprBuilder.fromGroupingColumn=oe.Gk,k.SQExprBuilder.fromEntity=oe.TI,k.SQExprBuilder.fromEntityAggr=oe.R$,k.SQExprBuilder.fromColumnHierarchyVariation=oe.qP,k.SQExprBuilder.fromColumnHierarchyLevelVariation=oe.$x,k.SQExprBuilder.fromColumnSubquery=oe.W2,k.SQExprBuilder.fromColumnAggrSubquery=oe.vH,k.SQExprBuilder.fromColumnTransformRef=oe.U5,k.SQExprBuilder.fromHierarchyLevelAggr=oe.vf,k.SQExprBuilder.fromHierarchyLevel=oe.lH,k.SQExprBuilder.fromHierarchy=oe.Ig,k.SQExprBuilder.fromArithmetic=oe.jS,k.SQExprBuilder.fromConstant=oe.Bn,k.SQExprBuilder.fromSparklineData=oe.a4,k.SQExprBuilder.fromNativeVisualCalc=oe.Sr),k.Selector={},k.Selector.AllEncompasingKey=Q.xO,k.Selector.isScopeIdentity=Q.yN,k.Selector.isScopeWildcard=Q.QV,k.Selector.isScopeTotal=Q.tQ,k.Selector.isRoleWildcard=Q.j9,k.Selector.isWildcard=Q.qm,k.Selector.isWildcardSelector=Q.N6,k.Selector.toScopeIdentities=Q.CT,k.Selector.getScopeIdentities=Q.gU,k.Selector.filterFromSelector=Q.mV,k.Selector.filterFromSelectorsByColumn=Q.k_,k.Selector.filterExprsFromSelectors=Q.Li,k.Selector.hasIdentities=Q.Yw,k.Selector.equals=Q.fS,k.Selector.equalsDataArray=Q.hp,k.Selector.equalsSelectorsByColumn=Q.Ic,k.Selector.equalsSelectorsByColumnArray=Q.Or,k.Selector.equalsData=Q.cY,k.Selector.getKey=Q.km,k.Selector.getDecomposedKeys=Q.AZ,k.Selector.containsWildcard=Q.GT,k.Selector.hasRoleWildcard=Q._Q,k.Selector.convertSelectorsByColumnToSelector=Q.tV,k.Selector.getSelectorTargetExpr=Q.AV,k.Selector.normalizeSelector=Q.fd,k.Selector.clone=Q.d9,k.SQCompareExpr=Ce.wU,k.createDataViewScopeIdentity=_e.TZ,k.createDisplayNameGetter=pe.V,k.DataViewObjectDefinitions={},k.DataViewObjectDefinitions.allPropertiesAreEqual=Ye.Pg,k.DataViewObjectDefinitions.clone=Ye.d9,k.DataViewObjectDefinitions.cloneDefinitions=Ye.dn,k.DataViewObjectDefinitions.deleteObjectDefinition=Ye.AV,k.DataViewObjectDefinitions.deleteProperties=Ye.Gc,k.DataViewObjectDefinitions.deleteProperty=Ye.E2,k.DataViewObjectDefinitions.encodePropertyValue=Ye.Lo,k.DataViewObjectDefinitions.ensure=Ye.zx,k.DataViewObjectDefinitions.extend=Ye.l7,k.DataViewObjectDefinitions.getDataBoundExprs=Je.oA,k.DataViewObjectDefinitions.getDataBoundExprsAndValueRef=Je.Sz,k.DataViewObjectDefinitions.getObjectDefinition=Ye.my,k.DataViewObjectDefinitions.getObjectDefinitions=Ye.GQ,k.DataViewObjectDefinitions.getPropertyContainer=Ye.ug,k.DataViewObjectDefinitions.getUnequalProperties=Ye.hu,k.DataViewObjectDefinitions.getValue=Ye.NA,k.DataViewObjectDefinitions.getValueFormatting=Ye.hO,k.DataViewObjectDefinitions.isEmpty=Ye.xb,k.DataViewObjectDefinitions.isObjectPropertySQExpr=Ye.Rc,k.DataViewObjectDefinitions.isObjectPropertySQExprWithContext=Ye.er,k.DataViewObjectDefinitions.isPropertyDefinition=Ye.e4,k.DataViewObjectDefinitions.moveProperty=Ye.TX,k.DataViewObjectDefinitions.propertiesAreEqual=Ye.ES,k.DataViewObjectDefinitions.reduce=Ye.u4,k.DataViewObjectDefinitions.setValue=Ye.sO,k.DataViewObjectDefinitions.setValueFormatting=Ye.On,k.DataViewObjectDefinitions.updateSelector=Ye.xl,k.DataViewObjectDefinitions.visitPropertyDefinitions=Ye.rQ,k.DataViewObjectDefinitions.visitPropertyExprs=Ye.Vj;var se=function(){var ue=Ke();return ue.extensibility||(ue.extensibility={}),ue.extensibility}();se.createColorPalette=Le.D,se.createExtendedColorPalette=Le.o,se.getVisualApiVersions=v.HB;var Ae=(0,Ne.Z7)();Ae.buildValueDetailsForColumnValue=d.Y,Ae.SelectionId=d.l0,Ae.SelectionIdBuilder=d.dw;var $e=function(){var ue=(0,Ne.Z7)();return ue.valueFormatter||(ue.valueFormatter={}),ue.valueFormatter}();$e.beautifyTrace=fe.J6,$e.allowFormatBeautificationTraced=fe.CH,$e.getLocalizedString=fe.Z,$e.getFormatMetadata=fe.G2,$e.setLocaleOptions=fe.X0,$e.createDefaultFormatter=fe.E3,$e.create=fe.Ue,$e.format=fe.WU,$e.formatVariantMeasureValueWithDataPointObjects=fe.kA,$e.createDisplayUnitSystem=fe.Ym,$e.getDisplayUnits=fe.p$,$e.getFormatString=fe.EO,$e.getDefaultFormatString=fe.v1,$e.getLabelPrecision=fe.h1,$e.getFormatStringWithDataPointObjects=fe.eU,$e.formatListAnd=fe.aY,$e.formatListOr=fe.KF}(),(0,Ne.Z7)().plugins={},Ve();var Et={promiseFactory:se},Nt=function(ue){return new g(ue)}(Ae),Bt=function(ue){return new D(ue)}(Ae),Qt=new Ft,$t=function(ue,k){return l.fF.assertValue(ue,"messageProxy"),new xr(ue,k)}(Ae,Qt),Ar={$element:ue,hostServices:$t,hostServicesControl:$t,dataProxy:sr(se),promiseFactory:se,messageProxy:Ae,resourceLoader:(0,C.fQ)(Et,null),resourceProvider:{get:function(Vt){return Vt},getOptional:function(Vt){return Vt},format:function(Vt){return Vt}},telemetryProxyService:Nt,certifiedEventsProxyService:Bt,instanceId:"",sandboxPromiseHandler:Qt},Ge=$t.getQueryStringValue("cspiframe");return Ae.contentWindow=Ge?window.parent.parent:window.parent,new fr(Ar,k)}function sr(ue){var k=new T,Ae={promiseFactory:function(){return ue}},$e=(0,p.I)((0,V.k2)({dsr:{name:"dsr",reader:function(Nt){return new U.i(Nt,{execute:function(){return ue.reject()}},k,{dsrV2:!1},null,void 0,void 0)}}},{}),Ae);return(0,N.M2)(ue,$e,k)}function pr(ue,k,se){var Et,Ae=ue.content,$e=ue.hasBeenInjected||kt()&&kt().hasOwnProperty(ue.name)&&kt()[ue.name].hasBeenInjected;return(!k||!$e)&&((0,ee.yO)(ue.name,Ae.js,se,ue.apiVersion),(0,ee.QO)(ue.name,Ae.css)),!ue.apiVersion||(0,e.lt)(ue.apiVersion,{major:3,minor:0,patch:0})?(l.fF.assertValue(kt()[ue.name],"Visual does not have a plugin"),Et=kt()[ue.name]):(l.fF.assertValue(window[ue.name],"Visual does not have a plugin"),Et=window[ue.name].default),ue.apiVersion&&(Et.iconUrl=ue.iconUrl,Et.capabilities=ue.capabilities,Et.localizationResources=ue.localizationResources,Et.isDeprecated=ue.isDeprecated,Et.version=ue.version),k&&(Et.hasBeenInjected=!0,Et.approvedForNoIframe=!0,kt()[ue.name]=Et),Et}var fr=function(){function ue(k,se){void 0===se&&(se=!1);var Ae=this;this.isolate=se,this.isVisualInitialized=!1,this.messageQueue=[],this.formatMode=!1,this.relayUIEventListener=function($e){var Et=_.pick($e.originalEvent,ct);Ae.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Et]})},this.relayKeyboardEventListener=function($e){var Et=Ae.formatMode?ot:Tt,Nt=_.pick($e.originalEvent,ct);_.includes(Et,$e.key)&&Ae.messageProxy.postMessage({eventName:"onRelayUIEvent",arguments:[Nt]})},this.container=k.$element,this.hostServices=k.hostServices,this.hostServicesControl=k.hostServicesControl,this.dataProxy=k.dataProxy,this.promiseFactory=k.promiseFactory,this.messageProxy=k.messageProxy,this.resourceLoader=k.resourceLoader,this.resourceProvider=k.resourceProvider,this.telemetryProxyService=k.telemetryProxyService,this.certifiedEventsProxyService=k.certifiedEventsProxyService,this.sandboxPromiseHandler=k.sandboxPromiseHandler,this.aggregatedDataViewSize=0,this.dataViewSerializer=new J.n,this.skipRedundantResize=!1,this.hostOrigin=new URL(window.location.href).origin,this.messageProxy.on(he.et,function($e){return Ae.onMessageReceived($e)})}return Object.defineProperty(ue.prototype,"visual",{get:function(){return this._visual},enumerable:!1,configurable:!0}),ue.prototype.init=function(k){this.hostServices.initInstanceId(k.instanceId),this.hostServicesControl.initInstanceId(k.instanceId),this.style=(0,B.th)(k.style);var se={animation:k.animation,element:this.container,host:this.hostServices,interactivity:k.interactivity,style:this.style,viewport:k.viewport,localizationResources:this.plugin.localizationResources,hostEnv:k.hostEnv,dataMultiSelectMode:k.dataMultiSelectMode};return this.featureSwitches=k.featureSwitches,this.skipRedundantResize=this.featureSwitches&&this.featureSwitches.cvSkipExtraResize,this.attachRelayUIEventListener(),this.attachWindowResizeListener(),this.visual.init(se)},ue.prototype.destroy=function(){this.detachRelayUIEventListener(),this.detachWindowResizeListener(),this.detachFormatModeRelayUIEventListener(),this.messageProxy.off(he.et),this.messageProxy.destroy(),this.visual&&this.visual.destroy&&this.visual.destroy()},ue.prototype.categoriesExists=function(k){return!!(k&&k.dataViews&&k.dataViews.length>0&&k.dataViews[0].categorical&&k.dataViews[0].categorical.categories&&k.dataViews[0].categorical.categories.length>0&&k.dataViews[0].categorical.categories[0]&&k.dataViews[0].categorical.categories[0].values)},ue.prototype.getHostCategoriesValues=function(k,se,Ae){try{if(k){if(Ae)for(var $e=0;$e<k.length;$e++)k[$e]&&(k[$e]=new Date(k[$e]));se.dataViews[0].categorical.categories[0].values=k}}catch(Et){this.sendError(Et)}return se},ue.prototype.update=function(k){var $e,se=this,Ae=k.message.arguments[0];if(this.formatMode!==!!Ae.formatMode&&(this.formatMode=Ae.formatMode,this.handleAttachingEventListeners()),this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0")){this.stringifiedDataView=Ae.serializedDataView?Ae.serializedDataView.stringifiedDataView:null;var Et=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),Nt=Ae.serializedDataView?[this.dataViewSerializer.deserializeDataView(Ae.serializedDataView,(0,e.gt)(this.plugin.apiVersion,"3.5.9"),Et,[],(0,e.ge)(this.plugin.apiVersion,"5.3.0"))]:[];this.formatMode&&this.reCreateSelectionIds(Ae.subSelections);var Bt=this.lastVisualUpdateOptions={dataViews:Nt,suppressAnimations:Ae.suppressAnimations,viewMode:Ae.viewMode,editMode:Ae.editMode,viewport:Ae.viewport,type:Ae.type,operationKind:o.su.Create,resizeMode:Ae.resizeMode,isInFocus:Ae.isInFocus,jsonFilters:Ae.jsonFilters?Ae.jsonFilters:null,updateId:Ae.updateId,formatMode:Ae.formatMode,subSelections:Ae.subSelections};this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"3.5.0")?(this.onRestoreCvSelectionIds(Ae.selections,!(0,e.gt)(this.plugin.apiVersion,"2.4.0")),this.fixUpdateOptionsAndUpdateVisual(Bt,k,Ae)):(this.fixUpdateOptionsAndUpdateVisual(Bt,k,Ae),this.onRestoreCvSelectionIds(Ae.selections,!(0,e.gt)(this.plugin.apiVersion,"2.4.0")))}else Ae.dataTransforms&&($e=I.F.deserializeDataViewTransformActions(Ae.dataTransforms,this.plugin.capabilities||{})),this.transformDataViewSource(Ae.dataViewSource,$e,!0).then(function(Qt){var $t=se.lastVisualUpdateOptions={dataViews:Qt.dataViews,suppressAnimations:Ae.suppressAnimations,viewMode:Ae.viewMode,editMode:Ae.editMode,viewport:Ae.viewport,type:Ae.type,operationKind:o.su.Create,resizeMode:Ae.resizeMode,isInFocus:Ae.isInFocus,jsonFilters:Ae.jsonFilters?Ae.jsonFilters:null,updateId:Ae.updateId};se.visualHasNullFilter($e)&&se.onRestoreSelection(null),se.fixUpdateOptionsAndUpdateVisual($t,k,Ae)}).catch(function(Qt){return se.sendError(Qt)})},ue.prototype.visualHasNullFilter=function(k){var se,Ae,$e,Et,Nt,Bt,Qt;if(null!==(Nt=null===(Et=null===($e=null===(Ae=null===(se=this.plugin)||void 0===se?void 0:se.capabilities)||void 0===Ae?void 0:Ae.objects)||void 0===$e?void 0:$e.general)||void 0===Et?void 0:Et.properties)&&void 0!==Nt&&Nt.filter){var $t=null===(Bt=null==k?void 0:k.objects)||void 0===Bt?void 0:Bt.general;if($t&&$t.length>0&&null!==(Qt=$t[0])&&void 0!==Qt&&Qt.properties&&!$t[0].properties.filter)return!0}return!1},ue.prototype.updateWithCachedData=function(k){var Ae,$e,Et,se=k.message.arguments[0];if(this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0")){if(this.lastVisualUpdateOptions.dataViews&&this.lastVisualUpdateOptions.dataViews[0]&&this.lastVisualUpdateOptions.dataViews[0].metadata){var Nt=this.lastVisualUpdateOptions.dataViews[0].metadata.segment;this.lastVisualUpdateOptions.dataViews[0].metadata=se.dataViewMetadata?JSON.parse(se.dataViewMetadata):void 0,this.lastVisualUpdateOptions.dataViews[0].metadata.segment=Nt}$e=this.lastVisualUpdateOptions.dataViews,Et=!0}else se.dataTransforms&&(Ae=I.F.deserializeDataViewTransformActions(se.dataTransforms,this.plugin.capabilities||{})),this.lastDataViewTransformApplyOptions.transforms=Ae,$e=(0,A.nn)(this.lastDataViewTransformApplyOptions).dataViews;var Bt=this.lastVisualUpdateOptions={dataViews:$e,suppressAnimations:se.suppressAnimations,viewMode:se.viewMode,editMode:se.editMode,viewport:se.viewport,type:se.type,operationKind:o.su.Create,resizeMode:se.resizeMode,isInFocus:se.isInFocus,jsonFilters:se.jsonFilters?se.jsonFilters:null,updateId:se.updateId,formatMode:se.formatMode,subSelections:se.subSelections};this.fixUpdateOptionsAndUpdateVisual(Bt,k,se,Et)},ue.prototype.loadResourcePackage=function(k){var se=this;l.fF.assertValue(k,"resourcePackage"),this.resourceLoader.loadVisualPlugin(k).then(function(Ae){se.plugin=Ae,se.createAdapter()}).catch(function(){var Ae=new Error("Unable to load plugin, resource package id: "+k.id);return se.sendError(Ae)})},ue.prototype.createAdapter=function(){var k=this.plugin;if(this.container.addClass("visual-"+k.name),this._visual=(0,v.nm)(k,k.create,this.promiseFactory,this.telemetryProxyService,void 0,void 0,this.certifiedEventsProxyService),!k||!this.visual){var se=new Error("Unable to create visual from plugin "+k.name);return this.sendError(se)}this.flushQueue(),this.isVisualInitialized=!0,this.sendSandboxReady()},ue.prototype.loadWithoutResourcePackage=function(k){if(this.plugin)this.sendError(new Error("Plugin is already loaded"));else{var Ae=k.apiVersion?this.isolate&&(0,e.lt)(k.apiVersion,"3.0.0"):this.isolate;this.plugin=pr(k,!1,Ae),(0,q.L)(this.plugin),this.createAdapter()}},ue.prototype.enumerateObjectInstances=function(k){if(this.visual.enumerateObjectInstances){var se=this.visual.enumerateObjectInstances(k);if(se){var Ae=se,$e=this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0");return Ae&&Ae.instances?$e?{instances:Ae.instances,containers:Ae.containers}:{instances:(0,rt.qC)(Ae.instances),containers:Ae.containers?(0,rt.DQ)(Ae.containers,this.resourceProvider):null}:$e?se:(0,rt.qC)(se)}}},ue.prototype.enumerateObjectRepetition=function(){if(this.visual.enumerateObjectRepetition){var k=this.visual.enumerateObjectRepetition();return k?(0,Gr.qC)(k):void 0}},ue.prototype.getFormattingModel=function(){var k,se;return null===(se=(k=this.visual).getFormattingModel)||void 0===se?void 0:se.call(k)},ue.prototype.getSubSelectionStyles=function(k){var se,Ae;return this.reCreateSelectionIds(k),null===(Ae=(se=this.visual).getSubSelectionStyles)||void 0===Ae?void 0:Ae.call(se,k)},ue.prototype.getSubSelectionShortcuts=function(k,se){var Ae,$e;return this.reCreateSelectionIds(k),null===($e=(Ae=this.visual).getSubSelectionShortcuts)||void 0===$e?void 0:$e.call(Ae,k,se)},ue.prototype.getSubSelectables=function(k){var se,Ae;return null===(Ae=(se=this.visual).getSubSelectables)||void 0===Ae?void 0:Ae.call(se,k)},ue.prototype.sendUpdateResult=function(){var k=this.container.children("*").length;this.messageProxy.postMessage({eventName:"onUpdateResult",arguments:[k]})},ue.prototype.sendSandboxReady=function(){this.messageProxy.postMessage({eventName:"onPluginReady",arguments:[]})},ue.prototype.flushQueue=function(){for(;this.messageQueue.length>0;){var k=this.messageQueue.shift();this.executeMessage(k)}},ue.prototype.sendError=function(k,se){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{id:se?se.id:null,eventName:se?se.eventName:null,name:k.name,message:k.message,pluginName:this.plugin.name}})},ue.prototype.sendErrorMessage=function(k,se){this.messageProxy.postMessage({eventName:"onError",arguments:[],error:{eventName:k,message:se,pluginName:this.plugin.name}})},ue.prototype.onMessageReceived=function(k){if(this.isVisualInitialized||"loadResourcePackage"===k.message.eventName||"loadWithoutResourcePackage"===k.message.eventName)return this.executeMessage(k);this.messageQueue.push(k)},ue.prototype.validateSandboxHostMessage=function(k){var Ae=this[k.message.eventName];return Ae?"function"!=typeof Ae?{error:"not a function"}:Ae.approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},ue.prototype.validateVisualMessage=function(k){var se=k.message;if(!this.visual)return{error:"unset visual"};var Ae=this.visual[se.eventName];return Ae?"function"!=typeof Ae?{error:"not a function"}:v.Vh.prototype[se.eventName].approvedMessage?{ok:!0}:{error:"unapproved type"}:{error:"undefined method"}},ue.prototype.executeMessage=function(k){var Ae,$e,se=k.message,Et="SandboxHost.executeMessage rejected message:";if(k.source===window||k.source.parent!==window){if(k.source!==this.messageProxy.contentWindow)return this.sendErrorMessage(se.eventName,"".concat(Et," invalid source"));if(k.origin!==this.hostOrigin)return this.sendErrorMessage(se.eventName,"".concat(Et," invalid origin"));try{if((Ae=this.validateSandboxHostMessage(k)).ok)return"update"===se.eventName||"updateWithCachedData"===se.eventName||"handleLoadMoreDataResult"===se.eventName?this[se.eventName].call(this,k):this[se.eventName].apply(this,se.arguments);if(($e=this.validateVisualMessage(k)).ok)return this.visual[se.eventName].apply(this.visual,se.arguments)}catch(Nt){return void this.sendError(Nt,se)}this.sendErrorMessage(se.eventName,"".concat(Et," ").concat(null==Ae?void 0:Ae.error,", ").concat(null==$e?void 0:$e.error))}},ue.prototype.reCreateSelectionIds=function(k){k&&k.forEach(function(se){var Ae=se.customVisualObjects[0].selectionId;se.customVisualObjects[0].selectionId=new O.r(Ae.dataMap,Ae.measures)})},ue.prototype.transformDataViewSource=function(k,se,Ae){var $e=this,Et=this.promiseFactory.defer();return(k?this.createDataView(k):this.promiseFactory.resolve({dataView:null})).then(function(Bt){var Qt=(0,A.nn)($e.lastDataViewTransformApplyOptions={prototype:Bt.dataView,objectDescriptors:$e.plugin.capabilities?$e.plugin.capabilities.objects:void 0,dataViewMappings:$e.plugin.capabilities?$e.plugin.capabilities.dataViewMappings:void 0,dataRoles:$e.plugin.capabilities?$e.plugin.capabilities.dataRoles:void 0,drillCapabilities:$e.plugin.capabilities&&$e.plugin.capabilities.drilldown,expandCollapseCapabilties:$e.plugin.capabilities&&$e.plugin.capabilities.expandCollapse,transforms:se,colorAllocatorFactory:(0,f.V)(),bypassConcatenation:Ae,visualStyle:$e.style,keepAllMetadataColumnsCapability:!!$e.plugin.capabilities&&$e.plugin.capabilities.keepAllMetadataColumns,featureSwitches:$e.featureSwitches}).dataViews;Et.resolve({dataViews:Qt})}).catch(function(Bt){return $e.sendError(Bt)}),Et.promise},ue.prototype.createDataView=function(k){var se=this;l.fF.assertValue(k,"dataViewSource");var Ae=this.promiseFactory.defer();return this.dataProxy.execute({type:k.type,query:{dataSources:null,command:k.data}}).then(function(Et){var Bt=(0,Qr.ul)(Et&&Et.dataReaderResult?Et.dataReaderResult.dataView:null,se.plugin.capabilities?se.plugin.capabilities.dataViewMappings:null);Ae.resolve({dataView:Bt.dataView})}).catch(function(Et){return se.sendError(Et)}),Ae.promise},ue.prototype.attachWindowResizeListener=function(){$(window).on("resize",this.windowResizeListener.bind(this)),$(window).trigger("resize")},ue.prototype.detachWindowResizeListener=function(){$(window).off("resize")},ue.prototype.windowResizeListener=function(){if(this.lastVisualUpdateOptions){var k=$(window).height(),se=$(window).width();if(!(this.skipRedundantResize&&this.lastVisualUpdateOptions.viewport&&this.lastVisualUpdateOptions.viewport.width&&this.lastVisualUpdateOptions.viewport.height&&Math.abs(se-this.lastVisualUpdateOptions.viewport.width)<=1&&Math.abs(k-this.lastVisualUpdateOptions.viewport.height)<=1)){var Ae=(0,le.ED)(this.lastVisualUpdateOptions);Ae.viewport={width:se,height:k,scale:this.lastVisualUpdateOptions.viewport.scale},Ae.type=o.EP.Resize,Ae.resizeMode=1,this.visual.update(Ae)}}},ue.prototype.attachRelayUIEventListener=function(){$(window).on(zr.join(" "),this.relayKeyboardEventListener),this.container.on(ai.join(" "),this.relayUIEventListener)},ue.prototype.detachRelayUIEventListener=function(){$(window).off(zr.join(" "),this.relayKeyboardEventListener),this.container.off(ai.join(" "),this.relayUIEventListener)},ue.prototype.attachFormatModeRelayUIEventListener=function(){$(window).on(lt.join(" "),this.relayKeyboardEventListener)},ue.prototype.detachFormatModeRelayUIEventListener=function(){$(window).off(lt.join(" "),this.relayKeyboardEventListener)},ue.prototype.handleAttachingEventListeners=function(){this.formatMode?(this.detachRelayUIEventListener(),this.attachFormatModeRelayUIEventListener()):(this.detachFormatModeRelayUIEventListener(),this.attachRelayUIEventListener())},ue.prototype.handleLoadMoreDataResult=function(k){return(0,n.__awaiter)(this,void 0,E.J,function(){var se,Ae,$e,Et,Nt,Bt,Qt,ur=this;return(0,n.__generator)(this,function(or){switch(or.label){case 0:return se=k.message.arguments[1],this.plugin&&this.plugin.apiVersion&&!(0,e.lt)(this.plugin.apiVersion,"2.0.0")?($e=k.message.arguments[2],(Ae=k.message.arguments[0])&&this.stringifiedDataView!==Ae.stringifiedDataView?(this.stringifiedDataView=Ae.stringifiedDataView,Et=!(!this.plugin.capabilities.expandCollapse||!this.plugin.capabilities.dataViewMappings[0].matrix),Nt=[this.dataViewSerializer.deserializeDataView(Ae,(0,e.gt)(this.plugin.apiVersion,"3.5.9"),Et,$e,(0,e.ge)(this.plugin.apiVersion,"5.3.0"))],this.lastVisualUpdateOptions.type=o.EP.Data,se?((0,Z.$n)(this.lastVisualUpdateOptions.dataViews[0],Nt[0]),this.lastVisualUpdateOptions.operationKind=o.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(k.packedSize)]):[3,2]):[3,4]):[3,5];case 1:return or.sent(),[3,4];case 2:return this.lastVisualUpdateOptions.dataViews[0]=Nt[0],this.lastVisualUpdateOptions.operationKind=o.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 3:or.sent(),or.label=4;case 4:return[3,9];case 5:return l.fF.assert(function(){return ur.lastDataViewTransformApplyOptions&&!!ur.lastDataViewTransformApplyOptions.prototype},"Expected to have previous segment already"),(Qt=(Bt=k.message.arguments[0])?Bt.dataReaderResult.dataView:null)?(this.lastVisualUpdateOptions.type=o.EP.Data,se?((0,Z.$n)(this.lastDataViewTransformApplyOptions.prototype,Qt),this.lastVisualUpdateOptions.dataViews=(0,A.nn)(this.lastDataViewTransformApplyOptions).dataViews,this.lastVisualUpdateOptions.operationKind=o.su.Append,[4,this.aggregateDataViewSizeAndUpdateVisual(k.packedSize)]):[3,7]):[3,9];case 6:return or.sent(),[3,9];case 7:return this.lastVisualUpdateOptions.dataViews[0]=Qt,this.lastVisualUpdateOptions.operationKind=o.su.Segment,[4,this.visual.update(this.lastVisualUpdateOptions)];case 8:or.sent(),or.label=9;case 9:return this.messageProxy.postMessage({eventName:"stopProgressBar",arguments:[]}),[2]}})})},ue.prototype.aggregateDataViewSizeAndUpdateVisual=function(k){return(0,n.__awaiter)(this,void 0,E.J,function(){return(0,n.__generator)(this,function(se){switch(se.label){case 0:return this.aggregatedDataViewSize+=k,this.hostServicesControl.enableLoadMoreData(!(this.aggregatedDataViewSize>=104857600)),[4,this.visual.update(this.lastVisualUpdateOptions)];case 1:return se.sent(),[2]}})})},ue.prototype.handleGetResourceUrlResult=function(k){k.isError?this.sandboxPromiseHandler.RejectPromise(k.promiseId,k.payload):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.payload)},ue.prototype.handleGetAADAuthenticationTokenResult=function(k){k.isError?this.sandboxPromiseHandler.RejectPromise(k.promiseId,k.payload):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k)},ue.prototype.handleGetAADTokenResult=function(k){k.isError?this.sandboxPromiseHandler.RejectPromise(k.promiseId,k.payload):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.payload)},ue.prototype.handleGetWACTokenResult=function(k){k.isError?this.sandboxPromiseHandler.RejectPromise2(k.promiseId,k.payload?k.payload:""):this.sandboxPromiseHandler.ResolvePromise2(k.promiseId,k.wacToken)},ue.prototype.handleGetStorageStatus=function(k){this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.status)},ue.prototype.handleGetStorageData=function(k){k.data?this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.data):this.sandboxPromiseHandler.RejectPromise(k.promiseId)},ue.prototype.handleSetStorageData=function(k){k.isError?this.sandboxPromiseHandler.RejectPromise(k.promiseId):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.freeSpace)},ue.prototype.handleGetStorageV2Data=function(k){k.isError||!k.data?this.sandboxPromiseHandler.RejectPromise(k.promiseId):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.data)},ue.prototype.handleSetStorageV2Data=function(k){k.isError?this.sandboxPromiseHandler.RejectPromise(k.promiseId):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.resultInfo)},ue.prototype.handleExportVisualsContentStatus=function(k){void 0!==k.status?this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.status):this.sandboxPromiseHandler.RejectPromise(k.promiseId)},ue.prototype.handleExportVisualsContent=function(k){void 0!==k.data?this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.data):this.sandboxPromiseHandler.RejectPromise(k.promiseId)},ue.prototype.handleGetWebAccessStatus=function(k){void 0!==k.status?this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.status):this.sandboxPromiseHandler.RejectPromise(k.promiseId)},ue.prototype.handleModalDialogResult=function(k){k.isError?this.sandboxPromiseHandler.RejectPromise(k.promiseId,k.data):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.data)},ue.prototype.handleAcquireAADTokenResult=function(k){this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.data)},ue.prototype.handleGetAcquireAADTokenStatus=function(k){this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.status)},ue.prototype.handleLicenseResult=function(k){k.licenseInfoResult?this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.licenseInfoResult):this.sandboxPromiseHandler.RejectPromise(k.promiseId)},ue.prototype.handleLicenseNotificationResult=function(k){null==k.licenseNotificationResult?this.sandboxPromiseHandler.RejectPromise(k.promiseId):this.sandboxPromiseHandler.ResolvePromise(k.promiseId,k.licenseNotificationResult)},ue.prototype.onRestoreSelection=function(k){var se=this.hostServices.selectionManager;if(se)if(k&&k.selection){var Ae=k.selection.map(function($e){return d.l0.fromSelectorsByColumn((0,Fe.JF)($e))});se.setSelectionIds(Ae),se.invokeOnSelectCallback(Ae)}else se.setSelectionIds([]),se.invokeOnSelectCallback([])},ue.prototype.onRestoreCvSelectionIds=function(k,se){void 0===se&&(se=!0);var Ae=this.hostServices.selectionManager;if(Ae){var $e=[];k?($e=_.map(k,function(Et){return new O.r(Et.serializedDataMap,Et.measures)}),Ae.setSelectionIds($e)):Ae.setSelectionIds([]),se&&Ae.invokeOnSelectCallback($e)}},ue.prototype.fixUpdateOptionsAndUpdateVisual=function(k,se,Ae,$e){void 0===$e&&($e=!1),$e||(k=this.categoriesExists(k)?this.getHostCategoriesValues(Ae.categoriesValues,k,Ae.isCategoryDate):k,this.hostServicesControl.enableLoadMoreData(!0),this.aggregatedDataViewSize=se.packedSize),this.visual.update(k),this.sendUpdateResult()},(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Object)],ue.prototype,"init",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"destroy",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"update",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"updateWithCachedData",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"loadWithoutResourcePackage",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",Object)],ue.prototype,"enumerateObjectInstances",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",Array)],ue.prototype,"enumerateObjectRepetition",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[]),(0,n.__metadata)("design:returntype",Object)],ue.prototype,"getFormattingModel",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array]),(0,n.__metadata)("design:returntype",Object)],ue.prototype,"getSubSelectionStyles",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array,String]),(0,n.__metadata)("design:returntype",Array)],ue.prototype,"getSubSelectionShortcuts",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Number]),(0,n.__metadata)("design:returntype",Array)],ue.prototype,"getSubSelectables",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",E.J)],ue.prototype,"handleLoadMoreDataResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetResourceUrlResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetAADAuthenticationTokenResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetAADTokenResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetWACTokenResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetStorageStatus",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetStorageData",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleSetStorageData",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetStorageV2Data",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleSetStorageV2Data",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleExportVisualsContentStatus",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleExportVisualsContent",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetWebAccessStatus",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleModalDialogResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleAcquireAADTokenResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleGetAcquireAADTokenStatus",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleLicenseResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"handleLicenseNotificationResult",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"onRestoreSelection",null),(0,n.__decorate)([(0,v.td)(),(0,n.__metadata)("design:type",Function),(0,n.__metadata)("design:paramtypes",[Array,Object]),(0,n.__metadata)("design:returntype",void 0)],ue.prototype,"onRestoreCvSelectionIds",null),ue}(),hr=!1;!function(){if(!hr){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var ue=ar;window.powerbi.visualSandbox.createSandboxHost=function(k,se){return void 0===se&&(se=!1),ue(k,se)},hr=!0}}();var Pt=!1;(function(){if(!Pt){window.powerbi||(window.powerbi={}),window.powerbi.visualSandbox||(window.powerbi.visualSandbox={});var ue=Gt;window.powerbi.visualSandbox.onSecurityPolicyViolation=function(k){return ue(k)},Pt=!0}})(),me();var dt=function(){function ue(k){this.isolate=!0,this.promiseFactory=k.promiseFactory,this.plugin=k.plugin,this.tooltipService=k.visualHostTooltip}return ue.prototype.init=function(k){var se=k.host.tooltips();se&&(this.tooltipService=se),this.cvContainer=k.element,this.loadWithoutResourcePackage(this.plugin),this.hostServices=function(ue,k,se){return new u(ue,k,se)}(k.host,this.cvContainer,this.tooltipService),this.visual.init({animation:k.animation,element:this.cvContainer,host:this.hostServices,interactivity:k.interactivity,style:k.style,viewport:k.viewport,localizationResources:this.plugin.localizationResources})},ue.prototype.update=function(k){return this.visual.update({dataViews:k.dataViews,suppressAnimations:k.suppressAnimations,viewMode:k.viewMode,editMode:k.editMode,viewport:k.viewport,type:k.type,operationKind:o.su.Create,resizeMode:k.resizeMode,isInFocus:k.isInFocus,jsonFilters:k.jsonFilters?k.jsonFilters:null})},ue.prototype.enumerateObjectInstancesAsync=function(k){var se=this.promiseFactory.defer();if(this.visual.enumerateObjectInstances){var Ae=this.visual.enumerateObjectInstances(k);return Ae&&Ae.instances&&se.resolve({instances:Ae.instances,containers:Ae.containers}),se.resolve(Ae),se.promise}},ue.prototype.enumerateObjectRepetitionAsync=function(){var k=this.promiseFactory.defer(),se=this.visual.enumerateObjectRepetition();return k.resolve(se),k.promise},ue.prototype.getFormattingModelAsync=function(){if(this.visual.getFormattingModel){var k=this.promiseFactory.defer();return k.resolve(this.visual.getFormattingModel()),k.promise}},ue.prototype.onRestoreSelection=function(k){var se=this.hostServices.selectionManager;if(se){if(k&&k.selection){var Ae=k.selection.map(function($e){return d.l0.fromSelectorsByColumn($e)});se.setSelectionIds(Ae),se.invokeOnSelectCallback(Ae)}return!0}},ue.prototype.onClearSelection=function(){var k=this.hostServices.selectionManager;k&&(k.setSelectionIds([]),k.invokeOnSelectCallback([]))},ue.prototype.loadWithoutResourcePackage=function(k){var Ae=k.apiVersion?this.isolate&&(0,e.lt)(k.apiVersion,"3.0.0"):this.isolate;this.plugin=pr(k,!0,Ae),this.createAdapter()},ue.prototype.visualHasMethod=function(k){return _.isFunction(this[k])},ue.prototype.destroy=function(){this.hideTooltip(),this.visual.destroy&&this.visual.destroy(),this.cvContainer&&this.cvContainer.empty()},ue.prototype.createAdapter=function(){l.fF.assertValue(this.plugin,"Visual does not have a plugin");var k=this.plugin;this.visual=(0,v.nm)(k,k.create,this.promiseFactory,null),l.fF.assertValue(this.visual,"Unable to create visual from plugin ")},ue.prototype.hideTooltip=function(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})},ue}()},298039:function(Xe,H,t){t.d(H,{W:function(){return a}});for(var e=t(382088),l=t(498342),o=t(389731),d=t(698883),v=t(522577),S=t(259879),h=t(221743),c=t(593773),r=t(275179),s=t(610717),u=function(){function p(C,b,y){var D=this;this.proxy=C,this.plugin=b,this.telemetryService=y,this.firstUpdateMessageSent=!1,this.isPluginReady=!1,this.pluginReadyDeferred=new r.B,this.proxy.setPluginReadyHandler(function(){D.isPluginReady=!0,D.pluginReadyDeferred.resolve()}),this.updateWithDataDeferred=new r.B,r.J.allSettled([this.pluginReadyDeferred.promise,this.updateWithDataDeferred.promise]).then(function(){D.postUpdateMessage()})}return p.prototype.update=function(C){var b;if(this.firstUpdateMessageSent)return this.proxy.update(C);if(this.updateMessage){this.updateMessage.type|=C.type,(null===(b=C.dataViews)||void 0===b?void 0:b.length)>0&&(this.updateMessage.dataViews=C.dataViews);var y=C,D=_.clone(this.updateMessage);for(var P in y)"type"!==P&&"dataViews"!==P&&void 0!==y[P]&&(D[P]=y[P]);this.updateMessage=D}else this.updateMessage=C,this.updateMessageSentDeferred=new r.B;return(0,S.dy)(C,this.plugin)||this.updateWithDataDeferred.resolve(),this.updateMessageSentDeferred.promise},p.prototype.postUpdateMessage=function(){var C=this;this.updateMessage&&this.proxy.update(this.updateMessage).then(function(){C.updateMessage=void 0,C.firstUpdateMessageSent=!0,C.updateMessageSentDeferred.resolve()}).catch(function(b){C.updateMessage=void 0,C.firstUpdateMessageSent=!0,C.updateMessageSentDeferred.reject(b)})},p.prototype.destroy=function(){(!this.isPluginReady||!this.firstUpdateMessageSent)&&this.telemetryService&&this.telemetryService.logEvent(s.Tk,{visualType:this.plugin.name,parentId:this.telemetryService.root.id}),this.updateMessage=void 0},p}(),a=function(){function p(C){var b;this.iframeFeatureSwitches=["dsrV2","cvSkipExtraResize"],this.pluginName=C.plugin.name,this.proxy=C.proxy,this.featureSwitchService=C.featureSwitchService,this.visualSandboxUri=C.visualSandboxUri,this.frontEndUrl=C.frontEndUrl?C.frontEndUrl:"'self'",this.hostEnv=C.hostEnv,this.accessibilityUpperIndicator=null,this.accessibilityLowerIndicator=null;var y=_.map(C.sandboxProperties,function(w){return(0,h.cg)(w)}).join(" "),D="";C.plugin.capabilities&&C.plugin.capabilities.supportsKeyboardFocus&&(D=" tabindex=0"),this.iframeHtml='<iframe style="border:none;" class="visual-sandbox empty-sandbox-visual" sandbox="'.concat(y,'" name="visual-sandbox"').concat(D,' aria-label="').concat(C.localizationService.get("CustomVisualIframeAriaLabel"),'"></iframe>'),this.plugin=C.plugin,this.telemetryService=C.telemetryService,this.certifiedEventsService=C.certifiedEventsService,this.localizationService=C.localizationService,this.privilegeService=C.privilegeService;var P={urlLauncher:C.urlLauncher,visualHostTooltip:C.visualHostTooltip,hostEnv:C.hostEnv,dataMultiSelectMode:C.dataMultiSelectMode,sandboxPropertiesString:y,allowModalDialog:_.isFunction(C.openIFrameDialog),dialogSandboxUri:C.dialogSandboxUri,openIFrameDialog:C.openIFrameDialog,getEmbedHostType:C.getEmbedHostType},F=new S._E(this.proxy,C.promiseFactory,this.telemetryService,this.certifiedEventsService,this.featureSwitchService,C.approvedResourcesService,C.visualsLicenseService,C.visualDownloadService,C.visualLocalStorageV2ProxyService,C.privilegeService,C.customVisualsTokenManagerService,P,C.instanceId);this.proxy.init(F,C.plugin);var E=window.powerbi.visuals.plugins[this.pluginName];l.fF.assertValue(E.content,"plugin content is undefined"),this.proxy.postMessage("loadWithoutResourcePackage",[E]),null!==(b=this.plugin.capabilities)&&void 0!==b&&b.privileges&&this.telemetryService.logEvent(s.Cr,{visualType:this.plugin.name,privileges:JSON.stringify(this.plugin.capabilities.privileges)})}return Object.defineProperty(p.prototype,"sandbox",{get:function(){return!0},enumerable:!1,configurable:!0}),p.prototype.init=function(C){var y,b=this;this.element=C.element,this.tooltipService=C.host.tooltips();var D=null!==(y=this.plugin.apiVersion)&&void 0!==y?y:"2.0.0";C.featureSwitches&&(!this.updateMessagesProcessor&&C.featureSwitches.cvAggregateUpdateMessages&&(0,o.ge)(D,"4.2.0")&&(this.updateMessagesProcessor=new u(this.proxy,this.plugin,this.telemetryService)),C.featureSwitches=this.filterFeatureSwitches(C.featureSwitches,this.iframeFeatureSwitches)),this.initializeContainerTimerId=window.setTimeout(function(){b.initializeContainerTimerId=void 0,b.element&&b.initContainer(C.viewport)},0),this.proxy.invoke("init",[C])},p.prototype.update=function(C){return this.updateMessagesProcessor?this.updateMessagesProcessor.update(C):this.proxy.update(C)},p.prototype.enumerateObjectInstancesAsync=function(C){return this.proxy.invoke("enumerateObjectInstancesAsync",[C])},p.prototype.getFormattingModelAsync=function(){return this.proxy.invoke("getFormattingModelAsync",[])},p.prototype.getSubSelectionStylesAsync=function(C){return this.proxy.invoke("getSubSelectionStylesAsync",[C])},p.prototype.getSubSelectionShortcutsAsync=function(C,b){return this.proxy.invoke("getSubSelectionShortcutsAsync",[C,b])},p.prototype.getSubSelectablesAsync=function(C){return this.proxy.invoke("getSubSelectablesAsync",[C])},p.prototype.enumerateObjectRepetitionAsync=function(){return this.proxy.invoke("enumerateObjectRepetitionAsync",[])},p.prototype.onRestoreSelection=function(C){if(this.supportCustomVisualSelectionId())return this.proxy.invoke("onRestoreCvSelectionIds",[C]);var b=C.selection.map(function(y){return(0,c.U9)(y)});return this.proxy.invoke("onRestoreSelection",[{selection:b}])},p.prototype.visualHasMethod=function(C){return _.isFunction(this[C])},p.prototype.destroy=function(){var C,b;void 0!==this.initializeContainerTimerId&&window.clearTimeout(this.initializeContainerTimerId),this.container&&this.container.remove(),null===(C=this.accessibilityUpperIndicator)||void 0===C||C.remove(),null===(b=this.accessibilityLowerIndicator)||void 0===b||b.remove(),this.hideTooltip(),this.updateMessagesProcessor&&this.updateMessagesProcessor.destroy(),this.proxy.invoke("destroy",[])},p.prototype.hideTooltip=function(){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide({immediately:!0,isTouchEvent:!1})},p.prototype.initContainer=function(C){var b,y="customVisual:".concat(this.pluginName,":initContainer");this.marker=(0,e.BL)(y);var D=C.width,P=C.height,F=this.getCSP();this.featureSwitchService.featureSwitches.useCvSandboxCspIframe?this.container=this.createCspIframe(D,P,F):(this.container=$(this.iframeHtml),this.initSandboxIframe(this.container,D,P,F)),null!==(b=this.plugin.capabilities)&&void 0!==b&&b.supportsKeyboardFocus?this.initWithAccessibilityIndicators():this.element.empty().append(this.container)},p.prototype.createCspIframe=function(C,b,y){var D=this,F="<html><head>".concat("<meta http-equiv=\"Content-Security-Policy\" content=\"default-src 'none'; style-src 'unsafe-inline'; frame-src 'self'\">",'</head><body style="margin:0;overflow:hidden;">').concat(this.iframeHtml,"</body></html>"),E=$(document.createElement("iframe"));return E.attr({class:"visual-sandbox",width:C,height:b,srcdoc:F,csp:y}),E.one("load",function(){var R=$(E[0].contentWindow.document.querySelectorAll(".visual-sandbox"));D.initSandboxIframe(R,C,b,y)}),E},p.prototype.getCSP=function(){var C=null,b=this.privilegeService.getWebAccessParameters(this.plugin);if(null!==b&&!this.isAsterisk(b)){var y=b.join(" ");C="default-src ".concat(this.frontEndUrl," ").concat("data: blob: 'unsafe-inline' 'unsafe-eval'"," ").concat(y,";")}return C},p.prototype.isAsterisk=function(C){return 1===C.length&&"*"===C[0]},p.prototype.initSandboxIframe=function(C,b,y,D){var P=this,F=this.generateIFrameUrl();C.attr({width:b,height:y,src:F,csp:D}),C.one("load",function(){return P.onIFrameLoad(C)}),C.on("mouseout",function(){return P.hideTooltip()})},p.prototype.initAccessibilityIndicators=function(){var C={opacity:"0","z-index":"-1","max-width":"0","max-height":"0"};this.accessibilityUpperIndicator=$(document.createElement("div")),this.accessibilityLowerIndicator=$(document.createElement("div")),this.accessibilityUpperIndicator.css(C),this.accessibilityLowerIndicator.css(C),this.accessibilityUpperIndicator.attr("tabindex","0"),this.accessibilityLowerIndicator.attr("tabindex","0")},p.prototype.initWithAccessibilityIndicators=function(){this.initAccessibilityIndicators(),this.element.empty().append(this.accessibilityUpperIndicator),this.element.append(this.container),this.element.append(this.accessibilityLowerIndicator)},p.prototype.onIFrameLoad=function(C){this.proxy.ready(C[0].contentWindow),this.marker()},p.prototype.generateIFrameUrl=function(){var C=this;l.fF.assert(function(){return!!C.localizationService.currentLanguageLocale},"current language locale is not valid");var b=v.s.clearAllQueriesFromUrl(this.visualSandboxUri),y={locale:(0,d.Kd)(this.localizationService.currentLanguageLocale)};4===this.hostEnv&&(y.plugin=this.pluginName),v.s.getQueryStringValue("unmin")&&(y.unmin="1"),this.featureSwitchService.featureSwitches.useCvSandboxCspIframe&&(y.cspiframe="1");var D=this.featureSwitchService.featureSwitches.emCVBundle;y.emCVBundle=D?"1":"0",D&&!this.featureSwitchService.featureSwitches.emCVDisableGlobals&&(y.pbiglobals="1");var P=this.getCSP();return P&&(y.csp=btoa(P)),b+v.s.rebuildQueryString(y)},p.prototype.filterFeatureSwitches=function(C,b){var y={};return C&&b&&(y=_.reduce(Object.keys(C),function(D,P){return b.indexOf(P)>-1&&(D[P]=C[P]),D},{})),y},p.prototype.supportCustomVisualSelectionId=function(){var C;return(null===(C=this.proxy.plugin)||void 0===C?void 0:C.apiVersion)&&(0,o.ge)(this.proxy.plugin.apiVersion,"2.0.0")},p}(),m=0,f=["update","onStyleChanged","onViewModeChanged","onEditModeChanged","onClearSelection","onSelectObject","canResizeTo"];m<f.length;m++)!function(p){a.prototype[p]||(a.prototype[p]=function(){return this.proxy.invoke(p,_.toArray(arguments))})}(f[m])},259879:function(Xe,H,t){t.d(H,{x_:function(){return Se},Ro:function(){return Ue},v2:function(){return ae},oc:function(){return nt},_E:function(){return We},dy:function(){return vt}});var e=t(973188),l=t(879937),o=t(491087),d=t(766442),v=t(127112),S=t(625521),h=t(722126),c=t(413892),r=t(895383),s=t(325319),u=t(123012),i=t(498342),a=t(32754),n=t(593773);function f(de,te){var Ve;if(function(de){var te,Ve,xe;return null!=(null===(xe=null===(Ve=null===(te=null==de?void 0:de.control)||void 0===te?void 0:te.properties)||void 0===Ve?void 0:Ve.descriptor)||void 0===xe?void 0:xe.objectName)}(de)){var xe=de.control.properties;xe.descriptor=V(te,xe.descriptor)}else{var Z=null===(Ve=null==de?void 0:de.control)||void 0===Ve?void 0:Ve.properties;Object.keys(Z).forEach(function(J){var Fe=Z[J];Fe.descriptor=V(te,Fe.descriptor)})}}function V(de,te){return de.deserializeOpaqueIdentity(null==te?void 0:te.altConstantValueSelector),de.deserializeOpaqueIdentity(null==te?void 0:te.selector),function(de){return(0,e.__assign)((0,e.__assign)({},de),{selector:(0,n.L1)(de.selector),altConstantValueSelector:(0,n.L1)(de.altConstantValueSelector)})}(te)}function b(de,te){if(te)return de.convertCVSelectionIdToPowerbiSelctionId(te).getSelectorsByColumn()}function y(de,te){return _.map(te,function(Ve){return{objectName:Ve.objectName,selectorsByColumn:b(de,Ve.selectionId)}})}function D(de,te){if(te){var Ve=[];return te.forEach(function(xe){(function(de){if(!de||!de.selectionOrigin||de.selectionOrigin.x<0||de.selectionOrigin.y<0)return!1;var te=de.customVisualObjects;return!(!te||te.some(function(Ve){return!Ve}))})(xe)&&Ve.push({visualObjects:y(de,xe.customVisualObjects),displayName:xe.displayName,subSelectionType:xe.subSelectionType,selectionOrigin:{x:xe.selectionOrigin.x,y:xe.selectionOrigin.y},showUI:xe.showUI,immediateDirectEdit:xe.immediateDirectEdit,metadata:xe.metadata,target:xe.target})}),Ve}}function x(de,te){te.destinationUids?M(de,te.destinationUids):te.destinationUids=[]}function g(de,te){M(de,te.relatedToggledSourceUids),T(de,te)}function M(de,te){null==te||te.forEach(function(Ve){T(de,Ve)})}function T(de,te){null!=te&&te.selector&&(te.selector=function(de,te){return de.deserializeOpaqueIdentity(te),(0,n.L1)(te)}(de,te.selector))}var ke,ft,Le,A=t(389731),I=t(273269),B=t(456181),U=t(204553),W=t(470081),j=t(521837),ie=102400,q=(0,j.T5)("LVSTORAGE:","1",ie,43200),me=new(function(){function de(){}return de.prototype.loadDictionary=function(te,Ve,xe){void 0===xe&&(xe=!1);var Z=this.getStorageKey(te,Ve,xe),J=q.getData(Z);return J||(J={}),J},de.prototype.saveDictionary=function(te,Ve,xe,Z){void 0===Z&&(Z=!1);var J=this.getStorageKey(te,Ve,Z);q.setData(J,_(xe).isEmpty()?void 0:xe)},de.prototype.getStorageKey=function(te,Ve,xe){return xe?Ve:btoa((null!=te?te:"NA")+"|"+Ve)},de.prototype.getData=function(te,Ve,xe){var Z=null;try{var J=this.loadDictionary(te,Ve);Z=atob(J[btoa(xe)])}catch(Fe){Z=this.getAndRemoveLegacyData(te,Ve,xe)}return Z},de.prototype.setData=function(te,Ve,xe,Z){try{var Fe=this.loadDictionary(te,Ve);Fe[btoa(xe)]=btoa(Z);var ze=JSON.stringify(Fe).length;return ze<=ie&&this.saveDictionary(te,Ve,Fe),ie-ze}catch(rt){}return 0},de.prototype.remove=function(te,Ve,xe){try{var Z=this.loadDictionary(te,Ve);Z[btoa(xe)]=void 0,this.saveDictionary(te,Ve,Z)}catch(J){}},de.prototype.getAndRemoveLegacyData=function(te,Ve,xe){var Z=this.loadDictionary("",Ve,!0),J=Z[xe];return void 0!==J&&(Z[xe]=void 0,this.saveDictionary("",Ve,Z,!0),this.setData(te,Ve,xe,J)),J},de}()),re=t(297464),le=t(275179),Ee=t(225069),Ne=t(610717),Ce=function(){function de(te,Ve,xe,Z){var J=this;this.messageProxy=te,this.telemetryService=Ve,this.plugin=xe,this.instanceId=Z,this._modalDialogState=null,this._dialog=null,this._iframe=null,this._minDisplayDurationReached=!1,i.fF.assertValue(te,"messageProxy"),setTimeout(function(){J._minDisplayDurationReached=!0},2e3),this.messageProxy.on(v.et,function(Fe){return J.onMessageReceived(Fe)}),this.messageProxy.on(v.zM,function(Fe){return J.onMessageError(Fe)})}return Object.defineProperty(de.prototype,"dialog",{set:function(Ve){this._dialog=Ve},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"iframe",{set:function(Ve){this._iframe=Ve},enumerable:!1,configurable:!0}),Object.defineProperty(de.prototype,"modalDialogState",{get:function(){return this._modalDialogState},enumerable:!1,configurable:!0}),de.prototype.postMessage=function(te,Ve){this.messageProxy.postMessage({eventName:te,arguments:Ve})},de.prototype.postMessageAsync=function(te,Ve){return this.messageProxy.postMessageAsync({eventName:te,arguments:Ve})},de.prototype.destroy=function(){this.messageProxy.off(v.et),this.messageProxy.off(v.zM),this.messageProxy.destroy(),this._dialog=null,this._iframe=null},de.prototype.onMessageReceived=function(te){this.validateMessageSource(te)&&(_.isFunction(this[te.message.eventName])?this[te.message.eventName].apply(this,te.message.arguments):this.telemetryService.logEvent(Ne.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:"invalid message"}))},de.prototype.onMessageError=function(te){this.validateMessageSource(te)&&te.message&&te.message.error&&this.telemetryService.logEvent(Ne.aW,{visualType:this.plugin.name,instanceId:this.instanceId,payload:te.message.error})},de.prototype.onDialogSetState=function(te){this._modalDialogState=te},de.prototype.onDialogClose=function(te,Ve){Ve&&(this._modalDialogState=Ve),this._dialog&&this._minDisplayDurationReached&&this._dialog.close(te)},de.prototype.onDialogResize=function(te,Ve){if(this._dialog){var xe=_.clamp(te,200,Math.ceil(.9*window.innerWidth))+2,Z=_.clamp(Ve,100,Math.ceil(.91*window.innerHeight-120))+2;this._dialog.resize(xe,Z)}},de.prototype.validateMessageSource=function(te){return i.fF.assertValue(te,"message"),!(!te.source||!this._iframe||this._iframe.contentWindow!==te.source||!_.includes(["onDialogSetState","onDialogClose","onDialogResize"],te.message.eventName))},de}(),Be=t(382088),be=["txt","csv","json","tmplt","xml","pdf","xlsx"],ce=31457280,ve=function(){function de(te,Ve,xe,Z){this.visualDownloadService=te,this.telemetryService=Ve,this.plugin=xe,this.instanceId=Z}return de.prototype.exportVisualsContent=function(te,Ve,xe,Z,J){var Fe=this,ze=Ve.split(".").pop();xe=xe.toLowerCase();var rt=this.getBlobSize(te,xe);return this.validateContentSource(te,Ve,xe,Z,rt)?this.visualDownloadService.exportVisualsContent(te,Ve,xe,Z,this.plugin.name,rt).then(function(Oe){return Fe.telemetryService.logEvent(Ne.kd,{isFileSaved:Oe,contentSize:rt,visualType:Fe.plugin.name,instanceId:Fe.instanceId,extension:ze}),{promiseId:J,data:{downloadCompleted:Oe,fileName:Oe?Ve:void 0}}},function(){return{promiseId:J,data:{downloadCompleted:!1}}}):this.handleInvalidRequest(rt,ze,J)},de.prototype.validateContentSource=function(te,Ve,xe,Z,J){var Fe=Ve.split(".").pop().toLowerCase(),ze=be.filter(function(Oe){return Fe===Oe}).length>0,rt=null===Ve.match(/[:/\\]/);return!(!te||!xe||!Z||!rt||!ze||J>ce)},de.prototype.getBlobSize=function(te,Ve){if(!te)return 0;if(te.length>ce)return ce+1;var Z=new Blob([te],{type:Be.nH});return Z?"base64"===Ve?3*Z.size/4:Z.size:0},de.prototype.handleInvalidRequest=function(te,Ve,xe){return this.telemetryService.logEvent(Ne.Tc,{contentSize:te,visualType:this.plugin.name,instanceId:this.instanceId,extension:Ve}),le.J.resolve({promiseId:xe,data:{downloadCompleted:!1}})},de}(),Re=t(599306),Ke=function(de){return de[de.AlreadyOpen=1]="AlreadyOpen",de[de.NotAllowed=2]="NotAllowed",de[de.BlockedByUser=3]="BlockedByUser",de}({}),tt=t(80131),mt=t(279667),He=t(805659),Ue={objectName:"general",propertyName:"filter"},ae=((ke={})[0]="icon",ke[1]="unsupported environment blocker",ke[2]="blocker",ke),Se=((ft={})[1]="Web",ft[2]="PublishToWeb",ft[4]="Desktop",ft[8]="Embed",ft[16]="ReportServer",ft[32]="ExportReportHost",ft[64]="Mobile",ft[128]="DashboardHost",ft[256]="Unknown",ft),nt=((Le={})[0]="Allowed",Le[3]="DisabledByAdmin",Le[2]="NotSupported",Le[1]="NotDeclared",Le);function vt(de,te){if(de.visualHasData&&(!de.dataViews||0===de.dataViews.length))return!0;var Ve=te.capabilities;return de.visualRequiresData&&de.dataViews&&0===de.dataViews.length&&!(Ve&&Ve.supportsLandingPage&&(Ve&&Ve.supportsEmptyDataView||1===de.viewMode))}var We=function(){function de(te,Ve,xe,Z,J,Fe,ze,rt,Oe,Pe,X,we,Ze){this.proxy=te,this.promiseFactory=Ve,this.telemetryService=xe,this.certifiedEventsService=Z,this.featureSwitchService=J,this.approvedResourcesService=Fe,this.licenseService=ze,this.visualDownloadService=rt,this.visualLocalStorageV2ProxyService=Oe,this.privilegeService=Pe,this.customVisualsTokenManagerService=X,this.visualSandboxOptions=we,this.instanceId=Ze,this.canHandleLoadMoreData=!0,this.dataTransforms={},this.formatMode=!1,this.isFirstUpdate=!0,this.isDestroyed=!1,this.dataViewSerializer=new h.n,this.visualSelections=[],this.asyncSerializer=new o.W}return Object.defineProperty(de.prototype,"sandbox",{get:function(){return!0},enumerable:!1,configurable:!0}),de.prototype.init=function(te){var Ve,xe,Z;this.visualHostServices=te.host,this.visualAdapterHostServices=te.visualAdapterHostServices,this.tooltipService=this.visualHostServices.tooltips(),this.featureSwitches=te.featureSwitches,this.tooltipService||(this.tooltipService=this.visualSandboxOptions.visualHostTooltip),this.element=te.element,this.resize(te.viewport),this.visualStyle=te.style;var J=null===(Ve=this.visualSandboxOptions)||void 0===Ve?void 0:Ve.hostEnv;this.isExportVisualsContentSupported=!!J&&!!(5&J)&&!(null===(xe=te.interactivity)||void 0===xe||!xe.isVisualInteractive),te.interactivity=te.interactivity||{},te.interactivity.allowModalDialog=(null===(Z=this.visualSandboxOptions)||void 0===Z?void 0:Z.allowModalDialog)&&te.interactivity.isVisualInteractive,this.initOptions=te;var Fe={animation:te.animation,interactivity:te.interactivity,viewport:te.viewport,style:(0,Re._8)(te.style),featureSwitches:te.featureSwitches,hostEnv:this.visualSandboxOptions?this.visualSandboxOptions.hostEnv:void 0,instanceId:this.instanceId,dataMultiSelectMode:this.visualSandboxOptions&&this.visualSandboxOptions.dataMultiSelectMode&&this.visualSandboxOptions.dataMultiSelectMode()};this.proxy.postMessage("init",[Fe])},de.prototype.getHostEnvString=function(){var te;return null!==(te=this.visualSandboxOptions)&&void 0!==te&&te.hostEnv?Se[this.visualSandboxOptions.hostEnv]:"Undefined"},de.prototype.update=function(te){var Ve=this;this.isFirstUpdate&&(this.isFirstUpdate=!1,this.logCapabilitiesTelemetry(te));var xe=this.promiseFactory.defer(),Z=function(Fe,ze){return Ve.proxy.postMessageAsync(Fe,ze)};return vt(te,this.proxy.plugin)?(te.updateCallBack&&te.updateCallBack(),xe.resolve(null),xe.promise):this.asyncSerializer.enqueue(function(){return Ve.updateCore(te,Z)})},de.prototype.updateCore=function(te,Ve){var xe,Z;return(0,e.__awaiter)(this,void 0,le.J,function(){var J,Fe,ze,rt,Oe,Pe,X,we,Ze,et,at,Ie,qe=this;return(0,e.__generator)(this,function(bt){switch(bt.label){case 0:if(rt=[],this.formatMode=te.formatMode,(te.type&I.EP.All)!==I.EP.All&&(te.type&I.EP.Resize)===I.EP.Resize&&2!==te.resizeMode)return[3,11];if(Oe=this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,te.dataViews&&te.dataViews[0]&&de.shouldSerializeDataView(Oe)){i.fF.assert(function(){return te.dataViews.length<=1},"Custom Visuals should only use one dataView");try{null!==(Z=null===(xe=null==te?void 0:te.dataViews[0])||void 0===xe?void 0:xe.metadata)&&void 0!==Z&&Z.columns&&(te.dataViews[0].metadata.columns=_.filter(te.dataViews[0].metadata.columns,function(It){return It.roles||""!==It.displayName}))}catch(It){i.fF.assertFail("failed to filter columns: "+It)}this.shouldUpdateWithCachedData(te)?ze=this.dataViewSerializer.serializeDataViewMetadata(te.dataViews[0]):Fe=this.dataViewSerializer.serializeDataViewForCv(te.dataViews[0],this.proxy.plugin.capabilities,!1,(0,A.gt)(Oe,"3.5.9"),[],(0,A.ge)(Oe,"5.3.0")),rt=this.RestoreCvSelectionIds(this.visualSelections)}if(X=[],we=void 0,(Pe=!!(te.dataViews&&te.dataViews.length>0&&te.dataViews[0].categorical&&te.dataViews[0].categorical.categories&&te.dataViews[0].categorical.categories.length>0&&te.dataViews[0].categorical.categories[0]&&te.dataViews[0].categorical.categories[0].values))&&(X=te.dataViews[0].categorical.categories[0].values,te.dataViews[0].categorical.categories[0].source&&te.dataViews[0].categorical.categories[0].source.type&&(we=te.dataViews[0].categorical.categories[0].source.type.dateTime)),et=void 0,!(at=(Ze=te&&te.dataTransforms&&te.dataTransforms.objects)&&(0,U.NA)(Ze,Ue,null)))return[3,5];bt.label=1;case 1:return bt.trys.push([1,3,,4]),[4,this.visualHostServices.getJSONFilter(at,this.dataViewSerializer.identitiesArray)];case 2:return et=bt.sent(),[3,4];case 3:return bt.sent(),et=[],[3,4];case 4:return[3,6];case 5:et=[],bt.label=6;case 6:return this.dataTransforms=te.dataTransforms,Ie={dataViewSource:te.visualDefinitionData?te.visualDefinitionData.dataViewSource:null,dataTransforms:u.F.serializeDataViewTransformActions(te.dataTransforms,this.proxy.plugin.capabilities.objects||{}),suppressAnimations:te.suppressAnimations,viewMode:te.viewMode,editMode:te.editMode,viewport:te.viewport,type:te.type,resizeMode:te.resizeMode,isInFocus:te.isInFocus,categoriesValues:Pe?X:null,isCategoryDate:we,serializedDataView:Fe,jsonFilters:et,dataViewMetadata:ze,selections:rt,updateId:te.updateId,formatMode:te.formatMode,subSelections:this.convertToCustomVisualSubSelections(te.subSelections)},this.shouldUpdateWithCachedData(te)?(this.lastDataViewSource=Ie.dataViewSource,Ie.dataViewSource=null,[4,Ve("updateWithCachedData",[Ie])]):[3,8];case 7:return J=bt.sent(),[3,10];case 8:return this.lastDataViewSource=Ie.dataViewSource,[4,Ve("update",[Ie])];case 9:J=bt.sent(),bt.label=10;case 10:return[3,12];case 11:te.updateCallBack&&te.updateCallBack(),bt.label=12;case 12:return window.setTimeout(function(){return qe.resize(te.viewport)}),[2,J]}})})},de.prototype.logCapabilitiesTelemetry=function(te){var Ve,xe,Z,J,Fe,ze,rt,Oe,Pe,X,we,Ze,et,at,St,Ie,pt,Ut,qe=this.proxy.plugin,bt=null==qe?void 0:qe.capabilities,It=null===(Z=null===(xe=null===(Ve=null==te?void 0:te.dataViews)||void 0===Ve?void 0:Ve[0])||void 0===xe?void 0:xe.metadata)||void 0===Z?void 0:Z.objects,Rt={sorting:{implicit:!(null===(J=null==bt?void 0:bt.sorting)||void 0===J||!J.implicit),default:!(null===(Fe=null==bt?void 0:bt.sorting)||void 0===Fe||!Fe.default),custom:!(null===(ze=null==bt?void 0:bt.sorting)||void 0===ze||!ze.custom)},expandCollapse:ir(It,null===(rt=null==bt?void 0:bt.expandCollapse)||void 0===rt?void 0:rt.addDataViewFlags,!0),subTotals:{RowSubtotalType:{Top:ir(It,null===(Pe=null===(Oe=null==bt?void 0:bt.subtotals)||void 0===Oe?void 0:Oe.matrix)||void 0===Pe?void 0:Pe.rowSubtotalsType,"Top"),Bottom:ir(It,null===(we=null===(X=null==bt?void 0:bt.subtotals)||void 0===X?void 0:X.matrix)||void 0===we?void 0:we.rowSubtotalsType,"Bottom")}}},zt=function lr(Cr){for(var pt,Ut=[],er=new Map(Object.entries(Cr)),Pr=0,mr=Object.keys(Cr);Pr<mr.length;Pr++){var gr=mr[Pr],xr=er.get(gr);if("boolean"==typeof xr)xr&&Ut.push(gr);else{var Vr=lr(xr);Vr.length&&Ut.push(((pt={})[gr]=Vr,pt))}}return Ut}(Rt);if(zt.length){this.telemetryService.logEvent(Ne.s$,{visualType:qe.name,existingCapabilities:JSON.stringify({apiVersion:qe.apiVersion,visualVersion:qe.version,existingTrackedCapabilities:zt})});var Yt={apiMajorVersion:qe.apiVersion&&(null===(Ze=(0,A.OA)(qe.apiVersion))||void 0===Ze?void 0:Ze.major),apiMinorVersion:qe.apiVersion&&(null===(et=(0,A.OA)(qe.apiVersion))||void 0===et?void 0:et.minor),visualMajorVersion:qe.version&&(null===(at=(0,A.OA)(qe.version))||void 0===at?void 0:at.major),visualMinorVersion:qe.version&&(null===(St=(0,A.OA)(qe.version))||void 0===St?void 0:St.minor)};pt=Yt,function br(Cr,pt,Ut){void 0===Ut&&(Ut="");for(var er=new Map(Object.entries(Cr)),Pr=0,mr=Object.keys(Cr);Pr<mr.length;Pr++){var gr=mr[Pr],xr=er.get(gr),Vr=""!==Ut?Ut+"."+gr:gr;"boolean"==typeof xr?xr&&pt.push(Vr):br(xr,pt,Vr)}}(Rt,Ut=[]),Ut.forEach(function(er){var Pr=er.split("."),mr=Pr[0],gr=1===Pr.length?Pr[0]:Pr.slice(1).join(".");pt[mr]=pt[mr]?pt[mr]+", "+gr:gr}),this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:(0,e.__assign)({},Yt),activityName:Ne.aw,correlationId:null===(Ie=this.telemetryService.root)||void 0===Ie?void 0:Ie.id,visualId:qe.name})}function ir(Cr,pt,Ut){var er=!1;return pt&&(er=pt.propertyIdentifier?(0,W.NA)(Cr,pt.propertyIdentifier,pt.defaultValue)===Ut:pt.defaultValue===Ut),er}},de.prototype.getFormattingModelAsync=function(){var te=this;return this.asyncSerializer.enqueue(function(){var Ve=te.promiseFactory.defer();return te.proxy.postMessageAsync("getFormattingModel",[]).then(function(xe){var Z=xe;if(!Z)return Ve.resolve(null);var J=function(de,te){return null==te||te.cards.forEach(function(Ve){var xe;null===(xe=null==Ve?void 0:Ve.groups)||void 0===xe||xe.forEach(function(Z){var J,Fe,ze;null===(J=null==Z?void 0:Z.slices)||void 0===J||J.forEach(function(rt){f(rt,de)}),null===(ze=null===(Fe=null==Z?void 0:Z.container)||void 0===Fe?void 0:Fe.containerItems)||void 0===ze||ze.forEach(function(rt){var Oe,Pe;null===(Oe=null==rt?void 0:rt.slices)||void 0===Oe||Oe.forEach(function(X){f(X,de)}),null===(Pe=null==rt?void 0:rt.groups)||void 0===Pe||Pe.forEach(function(X){var we;null===(we=null==X?void 0:X.slices)||void 0===we||we.forEach(function(Ze){f(Ze,de)})})})})}),te}(te.dataViewSerializer,Z);Ve.resolve(J)}).catch(function(xe){return Ve.reject(xe)}),Ve.promise})},de.prototype.getSubSelectionStylesAsync=function(te){var Ve=this;return this.asyncSerializer.enqueue(function(){var xe=Ve.promiseFactory.defer(),Z=Ve.convertToCustomVisualSubSelections(te);return Ve.proxy.postMessageAsync("getSubSelectionStyles",[Z]).then(function(J){if(!J)return xe.resolve(void 0);var Fe=function(de,te){var Ve;if(te)return function(de){var te,Ve,xe;if(de.type=null!==(te=de.type)&&void 0!==te?te:0,1===de.type||2===de.type){var Z={label:"",reference:{sliceUid:""}};de.font=null!==(Ve=de.font)&&void 0!==Ve?Ve:Z,de.fontColor=null!==(xe=de.fontColor)&&void 0!==xe?xe:Z}}(te),null===(Ve=Object.values(te))||void 0===Ve||Ve.forEach(function(xe){T(de,null==xe?void 0:xe.reference)}),te}(Ve.dataViewSerializer,J);xe.resolve(Fe)}).catch(function(J){return xe.reject(J)}),xe.promise})},de.prototype.getSubSelectionShortcutsAsync=function(te,Ve){var xe=this;return this.asyncSerializer.enqueue(function(){var Z=xe.promiseFactory.defer(),J=xe.convertToCustomVisualSubSelections(te);return xe.proxy.postMessageAsync("getSubSelectionShortcuts",[J,Ve]).then(function(Fe){if(!Fe)return Z.resolve(void 0);var ze=function(de,te){return null==te||te.forEach(function(Ve){if(Ve)switch(Ve.type){case 0:!function(de,te){M(de,te.relatedResetSourceUids),M(de,te.excludedResetSourceUids)}(de,Ve);break;case 2:g(de,Ve);break;case 6:T(de,Ve);break;case 1:x(de,Ve);break;case 8:!function(de,te){var Ve;null===(Ve=te.shortcuts)||void 0===Ve||Ve.forEach(function(xe){if(xe)switch(xe.type){case 2:g(de,xe);break;case 1:x(de,xe);break;case 6:T(de,xe)}})}(de,Ve);break;case 9:!function(de,te){te.referencesAndValues?M(de,te.referencesAndValues):te.referencesAndValues=[]}(de,Ve)}}),te}(xe.dataViewSerializer,Fe);Z.resolve(ze)}).catch(function(Fe){return Z.reject(Fe)}),Z.promise})},de.prototype.getSubSelectablesAsync=function(te){var Ve=this;return this.asyncSerializer.enqueue(function(){var xe=Ve.promiseFactory.defer();return Ve.proxy.postMessageAsync("getSubSelectables",[te]).then(function(Z){if(!Z)return xe.resolve(void 0);var J=D(Ve.dataViewSerializer,Z);xe.resolve(J)}).catch(function(Z){return xe.reject(Z)}),xe.promise})},de.prototype.enumerateObjectInstancesAsync=function(te){var Ve=this,xe=this.promiseFactory.defer();return this.proxy.postMessageAsync("enumerateObjectInstances",[te]).then(function(Z){var J=Z;if(!J)return xe.resolve(null);var Fe=Ve.proxy&&Ve.proxy.plugin&&Ve.proxy.plugin.apiVersion;if(J.instances){var ze;if(de.shouldSerializeDataView(Fe)){var rt=Ve.dataViewSerializer.deserializeVisualObjectInstance(J.instances);ze=(0,tt.vB)(rt)}else ze=(0,tt.vB)(J.instances);var Oe={instances:ze,containers:J.containers?(0,tt.S4)(J.containers):null};return xe.resolve(Oe)}de.shouldSerializeDataView(Fe)&&(Z=Ve.dataViewSerializer.deserializeVisualObjectInstance(Z));var Pe=(0,tt.vB)(Z);xe.resolve(Pe)}).catch(function(Z){return xe.reject(Z)}),xe.promise},de.prototype.enumerateObjectRepetitionAsync=function(){var te=this;return this.enumerateObjectRepetitionAsyncPromise=this.promiseFactory.defer(),this.proxy.postMessageAsync("enumerateObjectRepetition",[]).then(function(Ve){if(!Ve)return te.enumerateObjectRepetitionAsyncPromise.resolve(null);var Z=(0,mt.vB)(Ve);te.enumerateObjectRepetitionAsyncPromise.resolve(Z)}).catch(function(Ve){return te.enumerateObjectRepetitionAsyncPromise.reject(Ve)}),this.enumerateObjectRepetitionAsyncPromise.promise},de.prototype.onSelect=function(te){var Ve;if((0,a.FE)(te)){var xe=te;Ve={data:(0,n.UU)(xe.data),data2:(0,n.JF)(xe.data2),selectors:(0,n.UU)(xe.selectors)}}else Ve={type:0,visualObjects:(0,n.kg)(te.visualObjects)};this.visualHostServices.onSelect(Ve)},de.prototype.subSelect=function(te){if(this.formatMode&&te){var Ve,xe=D(this.dataViewSerializer,[te]);if(xe&&xe[0]){var Z=this.fixCoordinates([xe[0].selectionOrigin.x,xe[0].selectionOrigin.y]);if(Ve=(0,e.__assign)((0,e.__assign)({},xe[0]),{type:1,selectionOrigin:{x:Z[0],y:Z[1]}}),this.visualHostServices.onSelect(Ve),xe[0].showUI){var J=new MouseEvent("contextmenu",{bubbles:!0,cancelable:!0,button:2});(0,re.n)(J),this.element.get(0).dispatchEvent(J)}}}},de.prototype.convertToCustomVisualSubSelections=function(te){var Ve=this;if(this.formatMode&&te)return te.map(function(xe){var Z=xe.visualObjects.map(function(J){var Fe=Ve.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(J.selectorsByColumn);return{objectName:J.objectName,selectionId:new c.r(Fe.serializedDataMap,Fe.measures)}});return(0,e.__assign)((0,e.__assign)({},xe),{visualObjects:[],customVisualObjects:Z})})},de.prototype.transformCvSelectionIdsAndSelect=function(te){var Ve;if(this.visualSelections=[],te.selectionIds){Ve={type:0,visualObjects:[]};for(var xe=0,Z=te.selectionIds;xe<Z.length;xe++){var J=Z[xe];J=new c.r(J.dataMap,J.measures);var ze=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(J).getSelectorsByColumn();Ve.visualObjects.push({objectName:"dataPoint",selectorsByColumn:ze}),this.visualSelections.push(ze)}}else Ve={type:0,visualObjects:[]};Ve.selectionMode=te.multiSelect?3:0,this.visualHostServices.onSelect(Ve)},de.prototype.onRestoreCvSelectionIds=function(te){if(te.selection){var Ve=this.RestoreCvSelectionIds(te.selection);return this.proxy.postMessage("onRestoreCvSelectionIds",[Ve]),!0}},de.prototype.RestoreCvSelectionIds=function(te){this.visualSelections=te;for(var Ve=[],xe=0,Z=te;xe<Z.length;xe++){var J=Z[xe];if(J){var Fe=this.dataViewSerializer.restoreIdentitiesIndexesFromSelectionId(J);Fe&&Ve.push(Fe)}}return Ve},de.prototype.onUpdateResult=function(te){this.element.children("iframe.visual-sandbox").toggleClass("empty-sandbox-visual",!te)},de.prototype.onRelayUIEvent=function(te){var Ve=this.element.offset();if(null!=Ve){var xe;switch(te.type){case"click":case"mouseup":case"MSPointerUp":case"pointerup":xe=new MouseEvent(te.type,{screenX:te.screenX,screenY:te.screenY,clientX:te.clientX?te.clientX+Ve.left:Ve.left,clientY:te.clientY?te.clientY+Ve.top:Ve.top,ctrlKey:te.ctrlKey,shiftKey:te.shiftKey,altKey:te.altKey,metaKey:te.metaKey,buttons:te.buttons,relatedTarget:te.relatedTarget,bubbles:te.bubbles});break;case"tap":case"touchend":case"touchcancel":var ze=te,rt=this.createTouchList(ze.touches,Ve),Oe=this.createTouchList(ze.changedTouches,Ve),Pe=this.createTouchList(ze.targetTouches,Ve);xe=new TouchEvent(ze.type,{touches:rt,targetTouches:Pe,changedTouches:Oe,view:window,ctrlKey:ze.ctrlKey,shiftKey:ze.shiftKey,altKey:ze.altKey,metaKey:ze.metaKey});break;case"keydown":xe=new KeyboardEvent(te.type,{altKey:te.altKey,bubbles:te.bubbles,cancelable:te.cancelable,code:te.code,composed:te.composed,ctrlKey:te.ctrlKey,key:te.key,keyCode:te.keyCode,metaKey:te.metaKey,shiftKey:te.shiftKey});break;default:return}this.element.get(0).dispatchEvent(xe)}},de.prototype.createTouchList=function(te,Ve){var xe=[];if(null==te)return xe;for(var Z=0;Z<te.length;Z++){var J=te.item(Z),Fe=new Touch({identifier:J.identifier,target:J.target,clientX:J.clientX?J.clientX+Ve.left:Ve.left,clientY:J.clientY?J.clientY+Ve.top:Ve.top,screenX:J.screenX,screenY:J.screenY,pageX:J.pageX?J.pageX+Ve.left:Ve.left,pageY:J.pageY?J.pageY+Ve.top:Ve.top,radiusX:J.radiusX,radiusY:J.radiusY,rotationAngle:J.rotationAngle,force:J.force});xe.push(Fe)}return xe},de.prototype.persistProperties=function(te){var xe,Ve=te;Ve.merge||Ve.remove||Ve.replace?(this.deserilizePersistedSelectors(Ve),xe={merge:Ve.merge?(0,tt.vB)(Ve.merge):null,remove:Ve.remove?(0,tt.vB)(Ve.remove):null,replace:Ve.replace?(0,tt.vB)(Ve.replace):null}):xe=(0,tt.vB)(te),this.visualHostServices.persistProperties(xe)},de.prototype.deserilizePersistedSelectors=function(te){var Ve=this,xe=function(J){null==J||J.map(function(Fe){return Ve.dataViewSerializer.deserializeOpaqueIdentity(Fe.selector),Fe})};xe(te.merge),xe(te.remove),xe(te.replace)},de.prototype.applyJsonFilter=function(te,Ve,xe,Z){te&&te.length>0&&8===te[0].filterType?this.applyIdentityFilter(te,Ve,xe,Z):this.visualHostServices.applyJsonFilter(te,Ve,xe,Z)},de.prototype.refreshHostData=function(){this.visualHostServices.refreshHostData()},de.prototype.setCanDrill=function(te,Ve){this.featureSwitchService.featureSwitches.drillStateToggleable&&(Ve({telemetryServiceArgs:{drillAllowed:te}}),this.visualHostServices.setCanDrill(te))},de.prototype.drill=function(te){null==te||!te.roleName||null==te||!te.drillType||this.visualHostServices.drill(te)},de.prototype.onCustomVisualContextMenu=function(te,Ve){var xe,Z;if(te&&te.data&&te.position&&te.data[0]){var Oe,Fe=te.data[0],ze=new c.r(Fe.dataMap,Fe.measures,Fe.nodeIsCollapsed,Fe.nodeIndexes),rt=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities;if((null===(xe=this.proxy)||void 0===xe?void 0:xe.isDebug)||(null===(Z=this.proxy)||void 0===Z?void 0:Z.plugin),rt&&rt.expandCollapse){var X=this.getRowsRoles(rt);X&&_.isEqual(X,te.dataRoles)&&(this.dataViewSerializer.sortSelectionIdAccordingToRows(ze)?(Oe=this.dataViewSerializer.getNodeIndexOfSelectionId(ze),_.isEmpty(Oe)&&(Ve({telemetryServiceArgs:{expandCollapseAborted:!0}}),Oe=void 0,te.dataRoles=void 0)):(Ve({telemetryServiceArgs:{expandCollapseAborted:!0}}),te.dataRoles=void 0))}var Ze=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(ze),et=this.fixCoordinates([te.position.x,te.position.y]),at=Ze.getSelectorsByColumn();this.visualHostServices.onContextMenu({data:at?[at]:void 0,nodeIndex:Oe,position:{x:et[0],y:et[1]},copyArgs:te.copyArgs,dataRoles:te.dataRoles})}},de.prototype.onCustomVisualExpandCollapse=function(te,Ve){var xe,Z,Fe=te&&te.data,ze=this.proxy&&this.proxy.plugin&&this.proxy.plugin.capabilities&&this.proxy.plugin.capabilities,rt=this.getRowsRoles(ze);if((null===(xe=this.proxy)||void 0===xe?void 0:xe.isDebug)||(null===(Z=this.proxy)||void 0===Z?void 0:Z.plugin),Fe&&null!=Fe.nodeIsCollapsed&&ze&&ze.expandCollapse&&rt)if(this.dataViewSerializer.sortSelectionIdAccordingToRows(Fe)){var X=this.dataViewSerializer.getNodeIndexOfSelectionId(Fe);if(_.isEmpty(X))Ve({telemetryServiceArgs:{aborted:!0}});else{var we=this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(Fe).getSelectorsByColumn();te.entireLevel?this.visualHostServices.setLevelExpansionState({data:we,dataRoles:rt,isCollapse:!Fe.nodeIsCollapsed,nodeIndex:X}):this.visualHostServices.setNodeExpansionState({data:we,dataRoles:rt,isCollapse:!Fe.nodeIsCollapsed,nodeIndex:X})}}else Ve({telemetryServiceArgs:{aborted:!0}});else Ve({telemetryServiceArgs:{aborted:!0}})},de.prototype.exportVisualsContentStatusInternal=function(){var te=this.privilegeService.getExportContentStatus(this.proxy.plugin);return 0===te&&!this.isExportVisualsContentSupported&&(te=2),te},de.prototype.exportVisualsContentStatus=function(te){var Ve=this.exportVisualsContentStatusInternal();this.proxy.postMessage("handleExportVisualsContentStatus",[{status:Ve,promiseId:te}])},de.prototype.exportVisualsContent=function(te,Ve,xe,Z,J,Fe){var rt,ze=this,Oe=this.exportVisualsContentStatusInternal();0===Oe||3===Oe?new ve(this.visualDownloadService,this.telemetryService,this.proxy.plugin,this.instanceId).exportVisualsContent(te,this.proxy.plugin.name+"_"+Ve,xe,Z,J).then(function(at){ze.proxy.postMessage("handleExportVisualsContent",[at])}):(Fe({telemetryServiceArgs:{cvHostEnvironment:null!==(rt=this.visualSandboxOptions)&&void 0!==rt&&rt.hostEnv?Se[this.visualSandboxOptions.hostEnv]:"Undefined"}}),this.logPrivilegesViolation("ExportContent",Oe),this.proxy.postMessage("handleExportVisualsContent",[{data:{downloadCompleted:!1},promiseId:J}]))},de.prototype.onSwitchFocusModeState=function(te){this.visualHostServices.onSwitchFocusModeState(te)},de.prototype.onDisplayWarningIcon=function(te,Ve,xe){var Fe=He.Jh,ze=new S.VS(He.j,te.substr(0,He.IQ),Ve.substr(0,Fe));this.visualHostServices.setWarnings([ze]),xe({telemetryServiceArgs:{isCustom:this.proxy.plugin.custom}})},de.prototype.getRowsRoles=function(te){var Ve=te&&te.dataViewMappings&&te.dataViewMappings[0]&&te.dataViewMappings[0].matrix&&te.dataViewMappings[0].matrix.rows;return Ve?Ee.nG.fromMatrixRows(Ve):void 0},de.prototype.fixCoordinates=function(te){if(/Edge\/\d./i.test(navigator.userAgent)&&$("body.fullScreen").length>0)return te;var Ve=this.element.offset();return te[0]=te[0]*this.viewPortScale+Ve.left,te[1]=te[1]*this.viewPortScale+Ve.top,te},de.prototype.deserializeIdentities=function(te){if(te&&de.shouldSerializeDataView(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion)){for(var xe=[],Z=0,J=te;Z<J.length;Z++)xe.push(this.dataViewSerializer.convertCVSelectionIdToPowerbiSelctionId(J[Z]));return xe&&_(xe).map(function(Oe){return Oe.getSelectorsByColumn()}).compact().value()}return te&&_(te).map(function(Oe){return(0,n.JF)(Oe)}).compact().value()},de.prototype.showTooltip=function(te){if(this.tooltipService&&this.tooltipService.enabled()){var Ve=_.cloneDeep(te);Ve.coordinates=this.fixCoordinates(Ve.coordinates),Ve.identities=this.deserializeIdentities(te.identities),this.tooltipService.show(Ve)}},de.prototype.moveTooltip=function(te){if(this.tooltipService&&this.tooltipService.enabled()){var Ve=_.cloneDeep(te);Ve.coordinates=this.fixCoordinates(Ve.coordinates),Ve.identities=this.deserializeIdentities(te.identities),this.tooltipService.move(Ve)}},de.prototype.hideTooltip=function(te){this.tooltipService&&this.tooltipService.enabled()&&this.tooltipService.hide(te)},de.prototype.getAvailableServicePlans=function(te){var Ve=this;if(this.telemetryService.logEvent(Ne.$7,{visualType:this.proxy.plugin.name}),this.logLicensingStandardizedFeatureEvent(Ne.th),this.licenseService){var xe=this.proxy.plugin.name;xe=this.proxy.isDebug?xe.substring(0,xe.lastIndexOf("_DEBUG")):xe,this.licenseService.getServicePlans(xe).then(function(J){if(!J)throw Error("servicePlansResponse is undefined");Ve.proxy.postMessage("handleLicenseResult",[{promiseId:te,licenseInfoResult:{plans:J.servicePlans,isLicenseUnsupportedEnv:J.isLicenseUnsupported,isLicenseInfoAvailable:J.isLicenseInfoAvailable}}])}).catch(function(){Ve.telemetryService.logEvent(Ne.L1,{visualType:Ve.proxy.plugin.name}),Ve.proxy.postMessage("handleLicenseResult",[{promiseId:te,licenseInfoResult:void 0}])})}else this.telemetryService.logEvent(Ne.IC,{visualType:this.proxy.plugin.name}),this.proxy.postMessage("handleLicenseResult",[{promiseId:te,licenseInfoResult:void 0}])},de.prototype.acquireAADToken=function(te){return(0,e.__awaiter)(this,void 0,void 0,function(){var Ve,xe;return(0,e.__generator)(this,function(Z){switch(Z.label){case 0:return xe=(Ve={promiseId:te,data:{accessToken:null}}).data,[4,this.customVisualsTokenManagerService.acquireTokenForCustomVisual(this.proxy.plugin,this.proxy.isDebug)];case 1:return xe.accessToken=Z.sent(),this.proxy.postMessage("handleAcquireAADTokenResult",[Ve]),[2]}})})},de.prototype.getAcquireAADTokenStatus=function(te,Ve){var xe=this.getAcquireAADTokenPrivilegeStatus(),Z=nt[xe];Ve({activityAttributesArgs:{status:Z},telemetryServiceArgs:{status:Z}}),this.proxy.postMessage("handleGetAcquireAADTokenStatus",[{promiseId:te,status:xe}])},de.prototype.getAcquireAADTokenPrivilegeStatus=function(){var te=this.privilegeService.getAcquireAADTokenStatus(this.proxy.plugin);return 0!==te||this.isAcquireAADTokenSupported()?te:2},de.prototype.isAcquireAADTokenSupported=function(){return this.isDebugOrApprovedResource()&&!!this.privilegeService.getAcquireAADTokenAudience(this.proxy.plugin,this.proxy.isDebug)},de.prototype.isDebugOrApprovedResource=function(){return this.proxy.isDebug||this.approvedResourcesService.isApprovedResource(this.proxy.plugin.name)},de.prototype.notifyLicenseRequired=function(te,Ve){return(0,e.__awaiter)(this,void 0,le.J,function(){var xe,Z,J;return(0,e.__generator)(this,function(Fe){switch(Fe.label){case 0:return xe={promiseId:Ve,licenseNotificationResult:void 0},[4,this.licenseService.isLicenseUnsupportedEnv()];case 1:return Z=Fe.sent(),null==te||Z!==(1===te)||0===te&&1!==this.visualHostServices.getViewMode()?xe.licenseNotificationResult=!1:(this.visualHostServices.onNotifyLicense(te),xe.licenseNotificationResult=!0),this.proxy.postMessage("handleLicenseNotificationResult",[xe]),this.telemetryService.logEvent(Ne.Fh,{visualType:this.proxy.plugin.name,notificationType:J=null==te?"null":ae[te],responseValue:xe.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ne.Yv,{notificationType:J,responseValue:xe.licenseNotificationResult}),[2]}})})},de.prototype.notifyFeatureBlocked=function(te,Ve){return(0,e.__awaiter)(this,void 0,le.J,function(){var xe;return(0,e.__generator)(this,function(J){switch(J.label){case 0:return xe={promiseId:Ve,licenseNotificationResult:void 0},[4,this.licenseService.isLicenseUnsupportedEnv()];case 1:return J.sent()?xe.licenseNotificationResult=!1:(this.visualHostServices.onNotifyFeatureBlocked(te),xe.licenseNotificationResult=!0),this.proxy.postMessage("handleLicenseNotificationResult",[xe]),this.telemetryService.logEvent(Ne.Px,{visualType:this.proxy.plugin.name,responseValue:xe.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ne.QC,{responseValue:xe.licenseNotificationResult}),[2]}})})},de.prototype.clearLicenseNotification=function(te){var Ve={promiseId:te,licenseNotificationResult:!0};this.visualHostServices.onClearLicenseNotification(),this.proxy.postMessage("handleLicenseNotificationResult",[Ve]),this.telemetryService.logEvent(Ne.VN,{visualType:this.proxy.plugin.name,responseValue:Ve.licenseNotificationResult}),this.logLicensingStandardizedFeatureEvent(Ne.rY,{responseValue:Ve.licenseNotificationResult})},de.prototype.logLicensingStandardizedFeatureEvent=function(te,Ve){var xe;this.certifiedEventsService.logStandardizedFeatureEvent({activityAttributes:Ve,activityName:te,correlationId:null===(xe=this.telemetryService.root)||void 0===xe?void 0:xe.id,visualId:this.proxy.plugin.name})},de.prototype.loadMoreData=function(te){var Ve=this;this.canHandleLoadMoreData&&(void 0===te&&(te=!0),this.visualAdapterHostServices&&(this.canHandleLoadMoreData=!1,this.visualAdapterHostServices.startProgressBar(),this.visualAdapterHostServices.getNextDataSegment().then(function(xe){if(Ve.proxy&&Ve.proxy.plugin&&de.shouldSerializeDataView(Ve.proxy.plugin.apiVersion)&&xe&&xe.result&&xe.result.dataReaderResult&&xe.result.dataReaderResult.dataView){i.fF.assert(function(){return!!Ve.dataViewSerializer.identitiesArray},"identitiesArray should be defined because update was called");var Z=Ve.proxy.plugin,J=xe.result.dataReaderResult.dataView;J=(0,s.nn)({prototype:J,objectDescriptors:Z.capabilities?Z.capabilities.objects:null,dataViewMappings:Z.capabilities?Z.capabilities.dataViewMappings:null,transforms:Ve.dataTransforms,colorAllocatorFactory:(0,d.V)(),dataRoles:Z.capabilities?Z.capabilities.dataRoles:null,drillCapabilities:Z.capabilities&&Z.capabilities.drilldown,expandCollapseCapabilties:Z.capabilities&&Z.capabilities.expandCollapse,visualStyle:Ve.visualStyle,keepAllMetadataColumnsCapability:!!Z.capabilities&&Z.capabilities.keepAllMetadataColumns,featureSwitches:Ve.featureSwitches}).dataViews[0];var Fe=Ve.dataViewSerializer.serializeDataViewForCv(J,Z.capabilities,!0,(0,A.gt)(Z.apiVersion,"3.5.9"),xe.secondToLastNodesIndex,(0,A.ge)(Z.apiVersion,"5.3.0"));Z.capabilities&&Z.capabilities.expandCollapse&&Ve.visualAdapterHostServices.mergeNewSegmentDataView(xe),Ve.proxy.postMessageAsync("handleLoadMoreDataResult",[Fe,te,xe.secondToLastNodesIndex]).then(function(){xe.performanceActivity&&xe.performanceActivity.resolve()})}else Ve.proxy.postMessageAsync("handleLoadMoreDataResult",[xe&&xe.result,te,void 0]).then(function(){xe.performanceActivity&&xe.performanceActivity.resolve()});Ve.canHandleLoadMoreData=!0}).catch(function(xe){Ve.visualAdapterHostServices.stopProgressBar(),Ve.canHandleLoadMoreData=!0})))},de.prototype.getResourceUrl=function(te,Ve){var xe=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getResourceUrl(te).then(function(Z){xe.proxy.postMessage("handleGetResourceUrlResult",[{payload:Z,isError:!1,promiseId:Ve}])}).catch(function(Z){xe.proxy.postMessage("handleGetResourceUrlResult",[{payload:Z,isError:!0,promiseId:Ve}])})},de.prototype.getAADAuthenticationToken=function(te,Ve){var xe=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADAuthenticationToken(te).then(function(Z){xe.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:Z.payload,isError:!1,promiseId:Ve,resourceUrl:Z.resourceUrl}])}).catch(function(Z){xe.proxy.postMessage("handleGetAADAuthenticationTokenResult",[{payload:Z,isError:!0,promiseId:Ve}])})},de.prototype.getAADToken=function(te,Ve){var xe=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getAADToken(te).then(function(Z){xe.proxy.postMessage("handleGetAADTokenResult",[{payload:Z,isError:!1,promiseId:Ve}])}).catch(function(Z){xe.proxy.postMessage("handleGetAADTokenResult",[{payload:Z,isError:!0,promiseId:Ve}])})},de.prototype.getWACToken=function(te,Ve,xe,Z){var J=this;this.visualHostServices.authenticationService&&this.visualHostServices.authenticationService().getWACToken(te,Ve,xe).then(function(Fe){J.proxy.postMessage("handleGetWACTokenResult",[{payload:Fe.accessToken,wacToken:Fe,isError:!1,promiseId:Z}])}).catch(function(Fe){J.proxy.postMessage("handleGetWACTokenResult",[{payload:Fe,isError:!0,promiseId:Z}])})},de.prototype.launchUrl=function(te){this.visualSandboxOptions&&_.isFunction(this.visualSandboxOptions.urlLauncher)&&this.visualSandboxOptions.urlLauncher(te,this.proxy.plugin.name)},de.prototype.openModalDialog=function(te,Ve,xe,Z){var J,ze,rt,Fe=this;if(!_.isFunction(this.visualSandboxOptions.openIFrameDialog)||null===(rt=null===(ze=this.initOptions)||void 0===ze?void 0:ze.interactivity)||void 0===rt||!rt.allowModalDialog||te.length>80||/[^0-9a-zA-Z_ \.]/.test(te))this.proxy.postMessage("handleModalDialogResult",[{promiseId:Z,isError:!0,data:{error:Ke.NotAllowed}}]);else if(de.dialogBlockedVisuals[this.proxy.plugin.name])this.proxy.postMessage("handleModalDialogResult",[{promiseId:Z,isError:!0,data:{error:Ke.BlockedByUser}}]);else{Ve.position&&1===Ve.position.type&&(J=this.fixCoordinates([Ve.position.left,_.clamp(Ve.position.top,0,Ve.position.top)]),Ve.position.left=J[0],Ve.position.top=J[1]);var Pe=new Ce((0,v.zC)(this.promiseFactory),this.telemetryService,this.proxy.plugin,this.instanceId),X=this.proxy.plugin.displayName,we=this.visualSandboxOptions.dialogSandboxUri,Ze=this.visualSandboxOptions.sandboxPropertiesString,et=JSON.stringify(xe),at=this.generateDialogScript(te,et),St=this.proxy.plugin.content.css,It=this.visualSandboxOptions.openIFrameDialog({title:X,subTitle:Ve.title,iconUrl:this.proxy.plugin.iconUrl,size:Ve.size,position:Ve.position,actionButtons:Ve.actionButtons,sandboxProperties:Ze,iframeSrc:we,onIframeLoad:function(zt){zt.contentWindow&&(Pe.iframe=zt,zt.contentWindow.postMessage({messageType:"DialogContent",style:St,scriptContent:at},"*"))},onBlockRequest:function(zt){de.dialogBlockedVisuals[Fe.proxy.plugin.name]=zt},onClose:function(zt){Pe.dialog=null,Fe.proxy.postMessage("handleModalDialogResult",[{promiseId:Z,data:{actionId:zt,resultState:Pe.modalDialogState}}]),Pe.destroy()}});It?Pe.dialog=It:this.proxy.postMessage("handleModalDialogResult",[{promiseId:Z,isError:!0,data:{error:Ke.AlreadyOpen}}])}},de.prototype.getLocalStorageStatusInternal=function(){var te=this.privilegeService.getLocalStorageStatus(this.proxy.plugin);return 0===te&&(te=this.proxy.isDebug||this.proxy.plugin.developerModeVisual||this.approvedResourcesService.canUseLocalStorage(this.proxy.plugin.name)?0:3),te},de.prototype.isLocalStoragePermitted=function(){var te=this.getLocalStorageStatusInternal(),Ve=0===te;return Ve||this.logPrivilegesViolation("LocalStorage",te),Ve},de.prototype.getStorageStatus=function(te,Ve){var Z={promiseId:te,status:this.getLocalStorageStatusInternal()};Ve({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[Z])},de.prototype.getStorageData=function(te,Ve){var xe;if(this.isLocalStoragePermitted()){var Z=me.getData(null===(xe=(0,B.bG)())||void 0===xe?void 0:xe.puid,this.proxy.plugin.name,te);this.proxy.postMessage("handleGetStorageData",[{promiseId:Ve,data:Z}])}else this.proxy.postMessage("handleGetStorageData",[{promiseId:Ve,data:null}])},de.prototype.setStorageData=function(te,Ve,xe){var Z;if(this.isLocalStoragePermitted()){var J=me.setData(null===(Z=(0,B.bG)())||void 0===Z?void 0:Z.puid,this.proxy.plugin.name,te,Ve);this.proxy.postMessage("handleSetStorageData",[{promiseId:xe,freeSpace:J,isError:J<=0}])}else this.proxy.postMessage("handleSetStorageData",[{promiseId:xe,freeSpace:0,isError:!0}])},de.prototype.removeStorageData=function(te){var Ve;this.isLocalStoragePermitted()&&me.remove(null===(Ve=(0,B.bG)())||void 0===Ve?void 0:Ve.puid,this.proxy.plugin.name,te)},de.prototype.getStorageV2Status=function(te,Ve){return(0,e.__awaiter)(this,void 0,le.J,function(){var xe,Z;return(0,e.__generator)(this,function(J){switch(J.label){case 0:return[4,this.visualLocalStorageV2ProxyService.getStorageV2Status(this.proxy.plugin)];case 1:return xe=J.sent(),Z={status:xe,promiseId:te},Ve({telemetryServiceArgs:{isStatusCall:!0},activityAttributesArgs:{isStatusCall:!0}}),this.proxy.postMessage("handleGetStorageStatus",[Z]),[2]}})})},de.prototype.getStorageV2Data=function(te,Ve){return(0,e.__awaiter)(this,void 0,le.J,function(){var xe,Z;return(0,e.__generator)(this,function(J){switch(J.label){case 0:return[4,this.visualLocalStorageV2ProxyService.getStorageV2Data(te,this.proxy.plugin)];case 1:return xe=J.sent(),Z=(0,e.__assign)({promiseId:Ve},xe),this.proxy.postMessage("handleGetStorageV2Data",[Z]),[2]}})})},de.prototype.setStorageV2Data=function(te,Ve,xe){return(0,e.__awaiter)(this,void 0,le.J,function(){var Z,J;return(0,e.__generator)(this,function(Fe){switch(Fe.label){case 0:return[4,this.visualLocalStorageV2ProxyService.setStorageV2Data(te,Ve,this.proxy.plugin)];case 1:return Z=Fe.sent(),J=(0,e.__assign)({promiseId:xe},Z),this.proxy.postMessage("handleSetStorageV2Data",[J]),[2]}})})},de.prototype.removeStorageV2Data=function(te){return(0,e.__awaiter)(this,void 0,le.J,function(){return(0,e.__generator)(this,function(Ve){return this.visualLocalStorageV2ProxyService.removeStorageV2Data(te,this.proxy.plugin),[2]})})},de.prototype.onSecurityPolicyViolation=function(te,Ve,xe){this.logPrivilegesViolation("WebAccess",this.privilegeService.getWebAccessStatus(this.proxy.plugin,te),'{"violatedDirective": "'.concat(Ve,'", "blockedURI": "').concat(te,'"}'))},de.prototype.onGlobalUndefinedGet=function(te){if(te.length>256||/[^0-9a-zA-Z_\.]/.test(te))i.fF.assert(function(){return!1},"invalid property provided");else{var Ve="powerbi.visuals.plugins.".concat(this.proxy.plugin.name);if(!te.startsWith(Ve)){var xe="".concat(this.proxy.plugin.name,":").concat(te);de.globalUndefinedGets.has(xe)||(de.globalUndefinedGets.add(xe),this.logUndefinedGet(te))}}},de.prototype.stopProgressBar=function(){this.visualAdapterHostServices&&this.visualAdapterHostServices.stopProgressBar()},de.prototype.onRestoreSelection=function(te){return this.proxy.postMessage("onRestoreSelection",[te]),!0},de.prototype.onClearSelection=function(){this.visualSelections=[],this.proxy.postMessage("onRestoreSelection",[])},de.prototype.destroy=function(){this.dataViewSerializer&&this.dataViewSerializer.flushIdentitiesArray(),this.enumerateObjectRepetitionAsyncPromise&&this.enumerateObjectRepetitionAsyncPromise.resolve(null),this.isDestroyed=!0,this.proxy.postMessage("destroy",[]),this.proxy.destroy()},de.prototype.logPrivilegesViolation=function(te,Ve,xe){var Z,Fe=null!==(Z=this.visualSandboxOptions)&&void 0!==Z&&Z.hostEnv?Se[this.visualSandboxOptions.hostEnv]:"Undefined";this.telemetryService.logEvent(Ne.rZ,{visualType:this.proxy.plugin.name,environment:Fe,privilege:te,status:nt[Ve],parameters:xe})},de.prototype.logUndefinedGet=function(te){this.telemetryService.logEvent(Ne.Pp,{visualType:this.proxy.plugin.name,property:te,externalMigration:!!this.featureSwitchService.featureSwitches.emCVBundle,emCVBundle:!!this.featureSwitchService.featureSwitches.emCVBundle,emCVDisableGlobals:!!this.featureSwitchService.featureSwitches.emCVDisableGlobals})},de.prototype.resize=function(te){this.viewPortScale=te.scale,this.element&&!this.isDestroyed&&this.element.children().css({width:te.width,height:te.height})},de.shouldSerializeDataView=function(te){return!(!te||!h.n)&&((0,A.gt)(te,"2.0.0")||(0,A.eq)(te,"2.0.0"))},de.prototype.shouldUpdateWithCachedData=function(te){return(!te.visualDefinitionData||!te.visualDefinitionData.dataViewSource||!this.lastDataViewSource)&&this.dataViewSerializer.flushIdentitiesArray(),te.visualDefinitionData&&te.visualDefinitionData.dataViewSource&&te.visualDefinitionData.dataViewSource===this.lastDataViewSource},de.prototype.generateDialogScript=function(te,Ve){return this.proxy.plugin.content.js+"\n"+'const host = {\n                setResult: (result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogSetState", arguments: [result] });\n                    parent.postMessage(msg, "*");\n                },\n                close: (actionId, result) => {\n                    const msg = JSON.stringify({ eventName: "onDialogClose", arguments: [actionId, result] });\n                    parent.postMessage(msg, "*");\n                }\n            };\n\n            const element = document.body;\n            const dialogConstructionOptions = { host: host, element: element };\n            '.concat(this.proxy.plugin.name,".default.createModalDialog('").concat(te,"', dialogConstructionOptions, ").concat(Ve,');\n\n            const msg = JSON.stringify( {eventName: "onDialogResize", arguments: [document.body.scrollWidth, document.body.scrollHeight] });\n            parent.postMessage(msg, "*");')},de.prototype.applyIdentityFilter=function(te,Ve,xe,Z){var J=te[0].target;if(!(0,A.lt)(this.proxy&&this.proxy.plugin&&this.proxy.plugin.apiVersion,"3.9.0")){Z=J&&J.length>0?0:1;var ze=this.dataViewSerializer.convertOpaqueIdentitiesToScopeIds(J);this.visualHostServices.applyIdentityFilter(ze,Ve,xe,Z)}},de.prototype.applyCustomSort=function(te,Ve){var xe,Z,J,Fe,ze,rt,Pe=!(null===(Fe=null===(J=null===(Z=null===(xe=this.proxy)||void 0===xe?void 0:xe.plugin)||void 0===Z?void 0:Z.capabilities)||void 0===J?void 0:J.sorting)||void 0===Fe||!Fe.custom);te&&te.sortDescriptors&&Pe?this.visualHostServices.onCustomSort({sortDescriptors:te.sortDescriptors,suppressAnnouncements:!0}):((null===(ze=this.proxy)||void 0===ze?void 0:ze.isDebug)||(null===(rt=this.proxy)||void 0===rt?void 0:rt.plugin),Ve({telemetryServiceArgs:{aborted:!0}}))},de.dialogBlockedVisuals={},de.globalUndefinedGets=new Set,(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onSelect",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"subSelect",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"transformCvSelectionIdsAndSelect",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onUpdateResult",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[UIEvent]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onRelayUIEvent",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"persistProperties",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"applyJsonFilter",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Dynamic Drill Control",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"setCanDrill",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"drill",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Context Menu",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onCustomVisualContextMenu",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Expand/Collapse",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onCustomVisualExpandCollapse",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"exportVisualsContentStatus",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Download a File From CV",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String,String,Number,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"exportVisualsContent",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onSwitchFocusModeState",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Informative Icon",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onDisplayWarningIcon",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Report Tooltips"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"showTooltip",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"moveTooltip",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"hideTooltip",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"getAvailableServicePlans",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Acquire AAD Token"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",Promise)],de.prototype,"acquireAADToken",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Acquire AAD Token Status",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"getAcquireAADTokenStatus",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Number]),(0,e.__metadata)("design:returntype",le.J)],de.prototype,"notifyLicenseRequired",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",le.J)],de.prototype,"notifyFeatureBlocked",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"clearLicenseNotification",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Fetch More Data"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Boolean]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"loadMoreData",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"launchUrl",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Modal Dialog"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Object,Object,Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"openModalDialog",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"getStorageStatus",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"getStorageData",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"setStorageData",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"removeStorageData",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage V2",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Number,Function]),(0,e.__metadata)("design:returntype",le.J)],de.prototype,"getStorageV2Status",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,Number]),(0,e.__metadata)("design:returntype",le.J)],de.prototype,"getStorageV2Data",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,Number]),(0,e.__metadata)("design:returntype",le.J)],de.prototype,"setStorageV2Data",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Local Storage V2"),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",le.J)],de.prototype,"removeStorageV2Data",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String,String,String]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onSecurityPolicyViolation",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[String]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"onGlobalUndefinedGet",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"stopProgressBar",null),(0,e.__decorate)([(0,l.td)(),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Array,String,String,Number]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"applyIdentityFilter",null),(0,e.__decorate)([(0,l.td)(),(0,r.V)("Apply Custom Sort",!0),(0,e.__metadata)("design:type",Function),(0,e.__metadata)("design:paramtypes",[Object,Function]),(0,e.__metadata)("design:returntype",void 0)],de.prototype,"applyCustomSort",null),de}()},722126:function(Xe,H,t){t.d(H,{n:function(){return h}});var e=t(589004),l=t(498342),o=t(915925),d=t(366735),S="children",h=function(){function c(){this.serializeDataViewFromScrathTimes=0,this.initializeFields()}return c.prototype.serializeDataViewForCv=function(r,s,u,i,a,n){var m=this;if(void 0===n&&(n=!1),u||(this.initializeFields(),this.serializeDataViewFromScrathTimes=(this.serializeDataViewFromScrathTimes+1)%11617),r){r=this.filterDataViewsType(r,s),this.isExpandCollapseSupported=!!r.matrix&&!!s.expandCollapse,this.isExpandCollapseSupported&&(u&&(l.fF.assert(function(){return!_.isEmpty(a)},"lastNodeIndex should be defined and not empty when we load more data"),this.lastNodeIndex=a),r.matrix.rows.levels.forEach(function(C,b){C.sources&&C.sources[0]&&C.sources[0].queryName&&(m.rowsLevel.length>b?m.rowsLevel[b]=C.sources[0].queryName:m.rowsLevel.push(C.sources[0].queryName))}));var f=this.getValueSource(r),V=this.getValueGroups(r);this.shouldShareIdentityIndexStrategy=n&&!!r.matrix;var p=JSON.stringify(r,function(C,b){return m.replacer(C,b,i)});return l.fF.assert(function(){return _.isEmpty(m.stackNodeIndex)},"stackNodeIndex should be empty"),{valueSource:f,valueGroups:V,stringifiedDataView:p}}},c.prototype.serializeDataViewMetadata=function(r){var s=this;return r.metadata?JSON.stringify(r.metadata,function(u,i){return s.replacer(u,i)}):null},c.prototype.deserializeDataView=function(r,s,u,i,a){var m,n=this;return void 0===u&&(u=!1),void 0===i&&(i=[]),void 0===a&&(a=!1),this.isExpandCollapseSupported=u,this.lastNodeIndex=i,m=s||this.isExpandCollapseSupported&&a?JSON.parse(r.stringifiedDataView,function(f,V){return n.deserializeDataViewHelper(f,V,a)}):JSON.parse(r.stringifiedDataView),this.reconstructValuesGroups(m,r),this.reconstructValuesSource(m,r),m},c.prototype.convertOpaqueIdentitiesToScopeIds=function(r){var s=[];if(r&&r.length>0)for(var u=0,i=r;u<i.length;u++){var a=i[u],n=this.replaceOpaqueIndexWithScopeIds(a);n&&(n.opaqueIdentity={identityIndex:a},s.push(n))}return s},c.prototype.convertCVSelectionIdToPowerbiSelctionId=function(r){var s=this,u=JSON.parse(JSON.stringify(r),function(i,a){return s.replaceOpaqueIdentitiesWithDataViewScopeIdentities(i,a)});return d.l0.createWithSelectorForColumnAndMeasures(u.dataMap,u.measures)},c.prototype.restoreIdentitiesIndexesFromSelectionId=function(r){var s=this,u={serializedDataMap:{},measures:r.metadata};return _.map(r.dataMap,function(i,a){l.fF.assert(function(){return i.length<=1},"dataMap can only have one selector per column"),u.serializedDataMap[a]=[{identityIndex:s.ensureIdentityIsMapped(i[0])}]}),u},c.prototype.getNodeIndexOfSelectionId=function(r){var s,u=[];if(r&&r.dataMap){if(null!==(s=r.nodeIndexes)&&void 0!==s&&s.length)return r.nodeIndexes;for(var i in r.dataMap){var a=_.first(r.dataMap[i]).identityIndex;null!=this.identityNodeIndexArray[a]&&u.push(this.identityNodeIndexArray[a])}}return u},c.prototype.sortSelectionIdAccordingToRows=function(r){var s=this;if(!r||!r.dataMap)return!1;var u=Object.keys(r.dataMap),i=Object.keys(r.dataMap).sort(function(m,f){return s.rowsLevel.indexOf(m)-s.rowsLevel.indexOf(f)}),a=!_.isEmpty(i)&&!_.isEmpty(this.rowsLevel)&&i.length<=this.rowsLevel.length&&i.every(function(m,f){return m===s.rowsLevel[f]});if(a){var n=r.nodeIndexes;null!=n&&n.length&&n.length===u.length&&(r.nodeIndexes=Object.entries(n).sort(function(m,f){var p=f[0];return s.rowsLevel.indexOf(u[Number(m[0])])-s.rowsLevel.indexOf(u[Number(p)])}).map(function(m){return m[1]})),r.dataMap=i.reduce(function(m,f){return m[f]=r.dataMap[f],m},{})}return a},c.prototype.deserializeVisualObjectInstance=function(r){var s=this;return JSON.parse(JSON.stringify(r,function(u,i){return s.replaceOpaqueIdentities(i)}))},c.prototype.deserializeOpaqueIdentity=function(r){var s=this;null!=r&&r.data&&(r.data=r.data.map(function(u){return s.replaceOpaqueIdentities(u)}))},c.prototype.flushIdentitiesArray=function(){!this.identitiesArray||0===this.identitiesArray.length||this.identitiesArray.forEach(function(r){r.opaqueIdentity=void 0,r.serializeDataViewFromScrathTimes=void 0})},c.prototype.getValueGroups=function(r){var s=this;if(r&&r.categorical&&r.categorical.values&&r.categorical.values.grouped){var u=r.categorical.values.grouped();return JSON.stringify(u,function(i,a){return s.replacer(i,a)})}return null},c.prototype.getValueSource=function(r){return r&&r.categorical&&r.categorical.values&&r.categorical.values.source?r.categorical.values.source:null},c.prototype.deserializeDataViewHelper=function(r,s,u){var i,a,n;if(s&&(u&&this.isExpandCollapseSupported&&!isNaN(parseInt(r,10))&&null!=(null===(i=s.identity)||void 0===i?void 0:i.identityIndex)&&(s.nodeIndex=null!==(a=s.nodeIndex)&&void 0!==a?a:parseInt(r,10)),r===S&&s instanceof Array)){if(u&&this.isExpandCollapseSupported&&!_.isEmpty(s)&&_.first(s).isMerge&&!_.isEmpty(this.lastNodeIndex))for(var m in s){var f=s[m];f.identity&&(f.nodeIndex=null!==(n=f.nodeIndex)&&void 0!==n?n:Number(m),f.nodeIndex+=this.lastNodeIndex[f.level])}for(var V=0;V<s.length;V++)if(s[V]&&(s[V].isDate&&(s[V].value=new Date(s[V].value)),s[V].values))for(var p in s[V].values)s[V].values[p].isDate&&(s[V].values[p].value=new Date(s[V].values[p].value))}return s},c.prototype.replacer=function(r,s,u){var i=this;if(s){if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&!isNaN(parseInt(r,10))&&s.identity&&this.isDataViewScopeIdentity(s.identity)&&(this.stackNodeIndex.push(parseInt(r,10)+this.getNodeIndexOffset(s)),s.needOffset&&delete s.needOffset),this.isDataViewScopeIdentity(s)){if(s.serializeDataViewFromScrathTimes===this.serializeDataViewFromScrathTimes&&s.opaqueIdentity&&null!=s.opaqueIdentity.identityIndex){if(this.stackNodeIndex.length){var a=this.stackNodeIndex.pop();null==this.identityNodeIndexArray[s.opaqueIdentity.identityIndex]&&(this.identityNodeIndexArray[s.opaqueIdentity.identityIndex]=a)}return{identityIndex:s.opaqueIdentity.identityIndex}}l.fF.assert(function(){return _.isEmpty(i.lastNodeIndex)||!_.isEmpty(i.lastNodeIndex)&&null==s.opaqueIdentity},"The new segment's values should not have opaqueIdentity"),s.serializeDataViewFromScrathTimes=this.serializeDataViewFromScrathTimes;var n=-1;return this.shouldShareIdentityIndexStrategy&&(n=this.getIndexOfIdentity(s))>-1?s.opaqueIdentity={identityIndex:n}:(s.opaqueIdentity={identityIndex:this.identitiesArray.length},this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[s.key]=this.identitiesArray.length),this.identitiesArray.push(s)),this.stackNodeIndex.length&&(this.identityNodeIndexArray[s.opaqueIdentity.identityIndex]=this.stackNodeIndex.pop()),s.opaqueIdentity}if(s instanceof Array){var m=[];if(!this.shouldShareIdentityIndexStrategy&&this.isExpandCollapseSupported&&r===S&&!_.isEmpty(s)&&_.first(s).isMerge)for(var f=0,V=s;f<V.length;f++){var p=V[f];p.identity&&(p.needOffset=!0)}if(u&&r===S)for(var C=0;C<s.length;C++)if(s[C]&&(s[C].value&&s[C].value instanceof Date&&(s[C].isDate=!0),s[C].values))for(var b in s[C].values)s[C].values[b].value&&s[C].values[b].value instanceof Date&&(s[C].values[b].isDate=!0);return m.push.apply(m,s||[]),m}if("object"==typeof s&&!this.dontNeedToClone(s)){var y={};for(var D in s)y[D]=s[D];return y}}return s},c.prototype.replaceOpaqueIdentities=function(r){if(r){var s=r.identityIndex;if(void 0!==s&&s>=0&&s<this.identitiesArray.length)return(0,e.m)(this.identitiesArray[r.identityIndex])}return r},c.prototype.getNodeIndexOffset=function(r){var s=this;return this.isExpandCollapseSupported&&!_.isEmpty(this.lastNodeIndex)&&r.needOffset?(l.fF.assert(function(){return r.level<s.lastNodeIndex.length},"node's level is too high"),this.lastNodeIndex[r.level]):0},c.prototype.getIndexOfIdentity=function(r){if(this.shouldShareIdentityIndexStrategy){var s=this.identitiesIndexesMapper[r.key];return null!=s?s:-1}return _.findIndex(this.identitiesArray,function(u){return(0,o.fS)(u,r)})},c.prototype.ensureIdentityIsMapped=function(r){var s=this.getIndexOfIdentity(r);return-1===s&&(s=this.identitiesArray.length,this.shouldShareIdentityIndexStrategy&&(this.identitiesIndexesMapper[r.key]=s),this.identitiesArray.push(r)),s},c.prototype.replaceOpaqueIdentitiesWithDataViewScopeIdentities=function(r,s){return s&&void 0!==s.identityIndex?this.identitiesArray[s.identityIndex]:s},c.prototype.filterDataViewsType=function(r,s){return s.dataViewMappings&&(s.dataViewMappings[0].categorical||(r.categorical=null),s.dataViewMappings[0].matrix||(r.matrix=null),s.dataViewMappings[0].table||(r.table=null),s.dataViewMappings[0].tree||(r.tree=null),s.dataViewMappings[0].single||(r.single=null)),r},c.prototype.dontNeedToClone=function(r){return r._proto_===Object.prototype||r instanceof Date},c.prototype.isDataViewScopeIdentity=function(r){return!!(r&&r.expr&&r.key&&r.kind)},c.prototype.reconstructValuesSource=function(r,s){s&&s.valueSource&&(r.categorical.values.source=s.valueSource)},c.prototype.reconstructValuesGroups=function(r,s){r&&r.categorical&&r.categorical.values&&r.categorical.values[0]&&(r.categorical.values.grouped=function(){return JSON.parse(s.valueGroups)})},c.prototype.replaceOpaqueIndexWithScopeIds=function(r){return r<this.identitiesArray.length?this.identitiesArray[r]:null},c.prototype.initializeFields=function(){this.identitiesArray=[],this.identityNodeIndexArray={},this.stackNodeIndex=[],this.rowsLevel=[],this.lastNodeIndex=[],this.identitiesIndexesMapper={},this.shouldShareIdentityIndexStrategy=!1},c}()}}]),this.parseTimeMarkers=this.parseTimeMarkers||{},(marker=this.parseTimeMarkers["web.clients.js"]||{}).endEval=window.jsCommon&&window.jsCommon.performance&&window.jsCommon.performance.now?window.jsCommon.performance.now():Date.now(),marker.isExternal=!0;